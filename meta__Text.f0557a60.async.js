"use strict";(self.webpackChunk_antv_gpt_vis=self.webpackChunk_antv_gpt_vis||[]).push([[7822],{98110:function(m,n,t){var s;t.r(n),t.d(n,{demos:function(){return P}});var y=t(90228),r=t.n(y),_=t(87999),x=t.n(_),i=t(75271),l=t(18158),I=t(4562),g=t(31922),c=t(16773),f=t(28025),T=t(35161),P={"src-text-demo-common":{component:i.memo(i.lazy(function(){return t.e(2433).then(t.bind(t,91962))})),asset:{type:"BLOCK",id:"src-text-demo-common",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:t(65034).Z},"@antv/gpt-vis":{type:"NPM",value:"0.2.2"},antd:{type:"NPM",value:"5.22.2"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@antv/gpt-vis":l,antd:I,dumi:g,react:s||(s=t.t(i,2))},renderOpts:{compile:function(){var o=x()(r()().mark(function d(){var a,p=arguments;return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(1390).then(t.bind(t,81390));case 2:return e.abrupt("return",(a=e.sent).default.apply(a,p));case 3:case"end":return e.stop()}},d)}));function v(){return o.apply(this,arguments)}return v}()}},"src-text-demo-markdown":{component:i.memo(i.lazy(function(){return t.e(2433).then(t.bind(t,38353))})),asset:{type:"BLOCK",id:"src-text-demo-markdown",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:t(72551).Z},"@ant-design/x":{type:"NPM",value:"1.0.0"},"@antv/gpt-vis":{type:"NPM",value:"0.2.2"},react:{type:"NPM",value:"18.3.1"},"styled-components":{type:"NPM",value:"6.1.13"}},entry:"index.tsx"},context:{"@ant-design/x":c,"@antv/gpt-vis":l,react:s||(s=t.t(i,2)),"styled-components":f},renderOpts:{compile:function(){var o=x()(r()().mark(function d(){var a,p=arguments;return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(1390).then(t.bind(t,81390));case 2:return e.abrupt("return",(a=e.sent).default.apply(a,p));case 3:case"end":return e.stop()}},d)}));function v(){return o.apply(this,arguments)}return v}()}},"src-text-demo-custom-markdown":{component:i.memo(i.lazy(function(){return t.e(2433).then(t.bind(t,27914))})),asset:{type:"BLOCK",id:"src-text-demo-custom-markdown",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:t(69268).Z},"@ant-design/icons":{type:"NPM",value:"5.5.1"},"@ant-design/x":{type:"NPM",value:"1.0.0"},"@antv/gpt-vis":{type:"NPM",value:"0.2.2"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@ant-design/icons":T,"@ant-design/x":c,"@antv/gpt-vis":l,react:s||(s=t.t(i,2))},renderOpts:{compile:function(){var o=x()(r()().mark(function d(){var a,p=arguments;return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(1390).then(t.bind(t,81390));case 2:return e.abrupt("return",(a=e.sent).default.apply(a,p));case 3:case"end":return e.stop()}},d)}));function v(){return o.apply(this,arguments)}return v}()}}}},95752:function(m,n,t){t.r(n),t.d(n,{texts:function(){return s}});const s=[{value:"\u4FEE\u6539\u5185\u7F6E entityType \u7684 encoding \u6837\u5F0F\uFF0C\u5982\u5C06\u2018\u7EA2\u6DA8\u7EFF\u8DCC\u2019\u8BE5\u4E3A\u2018\u7EA2\u8DCC\u7EFF\u6DA8\u2019\uFF1B",paraId:0,tocIndex:4},{value:"\u4E3A\u81EA\u5B9A\u4E49 entityType \u5B9A\u4E49 encoding \u6837\u5F0F\uFF0C\u5982\u589E\u52A0\u2018\u884C\u52A8\u5EFA\u8BAE\u2019\u5B9E\u4F53\u7C7B\u578B\uFF1B",paraId:0,tocIndex:4},{value:"\u5C5E\u6027",paraId:1,tocIndex:6},{value:"\u7C7B\u578B",paraId:1,tocIndex:6},{value:"\u662F\u5426\u5FC5\u4F20",paraId:1,tocIndex:6},{value:"\u9ED8\u8BA4\u503C",paraId:1,tocIndex:6},{value:"\u8BF4\u660E",paraId:1,tocIndex:6},{value:"type",paraId:1,tocIndex:6},{value:"string",paraId:1,tocIndex:6},{value:"\u5426",paraId:1,tocIndex:6},{value:"-",paraId:1,tocIndex:6},{value:"\u5B9E\u4F53\u7C7B\u578B",paraId:1,tocIndex:6},{value:"children",paraId:1,tocIndex:6},{value:"string",paraId:1,tocIndex:6},{value:"\u5426",paraId:1,tocIndex:6},{value:"-",paraId:1,tocIndex:6},{value:"\u6587\u672C\u5185\u5BB9",paraId:1,tocIndex:6},{value:"origin",paraId:1,tocIndex:6},{value:"any",paraId:1,tocIndex:6},{value:"\u5426",paraId:1,tocIndex:6},{value:"-",paraId:1,tocIndex:6},{value:"\u539F\u59CB\u6570\u636E\uFF0C\u6BD4\u5982\u672A\u7ECF\u683C\u5F0F\u5316\u7684\u6307\u6807\u503C\u3001\u5360\u6BD4\u3001\u8D8B\u52BF\u8BE6\u60C5\u7B49",paraId:1,tocIndex:6},{value:"\u901A\u8FC7 ",paraId:2,tocIndex:7},{value:"ConfigProvider",paraId:2,tocIndex:7},{value:" \u5168\u5C40\u914D\u7F6E\uFF0C\u4E2A\u6027\u5316\u5B9A\u5236 VisText \u7EC4\u4EF6\u3002",paraId:2,tocIndex:7},{value:`<ConfigProvider
  components={{
    VisText: {}, // \u7C7B\u578B\u4E3A TextConfig
  }}
>
  <MarkdownRender></MarkdownRender>
</ConfigProvider>;

/** \u6587\u672C\u7EC4\u4EF6\u914D\u7F6E\u4FE1\u606F */
export type TextConfig =
  // \u5B9E\u4F53\u77ED\u8BED\u7C7B\u578B\u6620\u5C04
  Record<InnerEntityType & string, TextEncoding> & {
    // \u9759\u6001\u7EC4\u4EF6\u6620\u5C04, \u5982 icon \u548C mimi-chart
    __statics: Record<string, React.FC<VisTextProps>>;
  };
`,paraId:3,tocIndex:7}]},65034:function(m,n){n.Z=`import { VisText } from '@antv/gpt-vis';
import { ConfigProvider, Descriptions, Space, theme } from 'antd';
import { usePrefersColor } from 'dumi';
import React from 'react';

export default () => {
  // dumi \u6587\u6863\u5F53\u524D\u7684\u4E3B\u9898\u8272
  const [color] = usePrefersColor();
  return (
    // \u9002\u914D antd \u4E3B\u9898\u3002\u5F85\u6574\u4F53\u6587\u6863 demo \u90FD\u9002\u914D\u4E3B\u9898\u540E\u53EF\u4EE5\u5220\u9664
    // https://github.com/antvis/GPT-Vis/pull/24
    <ConfigProvider
      theme={{
        algorithm: color === 'dark' ? theme.darkAlgorithm : theme.defaultAlgorithm,
      }}
    >
      <Descriptions bordered column={2} size="small">
        <Descriptions.Item label="\u6307\u6807\u540D metric_name">
          <VisText type="metric_name">DAU</VisText>
        </Descriptions.Item>
        <Descriptions.Item label="\u6307\u6807\u503C metric_value">
          <VisText type="metric_value" origin={9012334}>
            90.1w
          </VisText>
        </Descriptions.Item>
        <Descriptions.Item label="\u5176\u4ED6\u6307\u6807 other_metric_value">
          <VisText type="other_metric_value">30%</VisText>
        </Descriptions.Item>
        <Descriptions.Item label="\u5DEE\u503C delta_value">
          <Space>
            <VisText type="delta_value_pos">100.33</VisText>
            <VisText type="delta_value_neg">100.33</VisText>
          </Space>
        </Descriptions.Item>
        <Descriptions.Item label="\u6BD4\u7387 ratio_value">
          <Space>
            <VisText type="ratio_value_pos">30%</VisText>
            <VisText type="ratio_value_neg">30%</VisText>
          </Space>
        </Descriptions.Item>
        <Descriptions.Item label="\u8D21\u732E\u5EA6 contribute_ratio">
          <VisText type="contribute_ratio">20%</VisText>
        </Descriptions.Item>
        <Descriptions.Item label="\u8D8B\u52BF\u63CF\u8FF0 trend_desc">
          <VisText type="trend_desc" origin={[1, 2, 6, 18, 24, 48]}>
            \u8D8B\u52BF\u4E0A\u6DA8
          </VisText>
        </Descriptions.Item>
        <Descriptions.Item label="\u7EF4\u5EA6\u503C dim_value">
          <VisText type="dim_value">\u676D\u5DDE</VisText>
        </Descriptions.Item>
        <Descriptions.Item label="\u65F6\u95F4\u63CF\u8FF0 time_desc">
          <VisText type="time_desc">2021-10-11</VisText>
        </Descriptions.Item>
        <Descriptions.Item label="\u5360\u6BD4 proportion">
          <VisText type="proportion">30%</VisText>
        </Descriptions.Item>
      </Descriptions>
    </ConfigProvider>
  );
};
`},69268:function(m,n){n.Z=`import { CaretDownOutlined, CaretUpOutlined } from '@ant-design/icons';
import { Bubble, type BubbleProps } from '@ant-design/x';
import { ConfigProvider, GPTVis, VisText } from '@antv/gpt-vis';
import React from 'react';

const markdownContent = \`
<vis-text type="metric_name">DAU</vis-text> \u662F <vis-text type="metric_value">1.23\u4EBF</vis-text>\uFF0C\u73AF\u6BD4\u6628\u65E5 <vis-text type="delta_value_pos">80\u4E07</vis-text>(<vis-text type="ratio_value_pos">2.3%</vis-text>)\uFF0C<vis-text type="action_recommendation">\u5EFA\u8BAE\u4FDD\u6301\u5173\u6CE8</vis-text>\u3002
\`;

const bgStyle = {
  display: 'grid',
  gridGap: '20px 0',
  background: '#f7f7f7',
  padding: 20,
  borderRadius: 8,
};

const RenderMarkdown: BubbleProps['messageRender'] = (content) => (
  <GPTVis components={{ 'vis-text': VisText }}>{content}</GPTVis>
);

export default () => (
  <ConfigProvider
    components={{
      VisText: {
        __statics: {
          'icon:antd-up': CaretUpOutlined,
          'icon:antd-down': CaretDownOutlined,
        },
        delta_value_pos: {
          color: '#13A8A8',
          prefix: 'icon:antd-up',
        },
        delta_value_neg: {
          color: '#FA541C',
          prefix: 'icon:antd-down',
        },
        ratio_value_pos: {
          color: '#13A8A8',
          prefix: '\u2191',
        },
        ratio_value_neg: {
          color: '#FA541C',
          prefix: '\u2193',
        },
        action_recommendation: {
          backgroundColor: 'antiquewhite',
        },
      },
    }}
  >
    <div style={bgStyle}>
      <Bubble
        content={markdownContent}
        messageRender={RenderMarkdown}
        avatar={{
          src: 'https://mdn.alipayobjects.com/huamei_je4oko/afts/img/A*6LRBT7rjOkQAAAAAAAAAAAAADsZ-AQ/original',
        }}
        variant="shadow"
        styles={{ content: { background: '#fff' } }}
      />
    </div>
  </ConfigProvider>
);
`},72551:function(m,n){n.Z=`import { Bubble, type BubbleProps } from '@ant-design/x';
import { GPTVis, VisText } from '@antv/gpt-vis';
import React from 'react';
import styled from 'styled-components';

const StyledP = styled.p\`
  font-size: 12px;
  opacity: 0.88;
\`;

const markdownContent = \`
### \u51B3\u7B56\u6570\u91CF:
<vis-text type="time_desc">\u672C\u6708</vis-text>\u5171\u4EA7\u751F<vis-text type="metric_name">\u51B3\u7B56\u6570\u91CF</vis-text><vis-text type="metric_value">2,783</vis-text>\u4E2A\uFF0C\u73AF\u6BD4<vis-text type="trend_desc">\u589E\u957F</vis-text><vis-text type="ratio_value_pos">15.2%</vis-text>\uFF0C\u540C\u6BD4<vis-text type="trend_desc">\u589E\u957F</vis-text><vis-text type="ratio_value_pos">23.5%</vis-text>\u3002\u5176\u4E2D\uFF0C<vis-text type="dim_value">\u8425\u9500\u90E8\u95E8</vis-text>\u8D21\u732E\u6700\u591A\uFF0C\u5360\u6BD4<vis-text type="proportion">38.7%</vis-text>\uFF1B\u5176\u6B21\u662F<vis-text type="dim_value">\u4EA7\u54C1\u90E8\u95E8</vis-text>\uFF0C\u5360\u6BD4<vis-text type="proportion">27.3%</vis-text>\u3002<vis-text type="dim_name">\u9AD8\u4F18\u5148\u7EA7\u51B3\u7B56</vis-text>\u5360\u6BD4<vis-text type="proportion">56.2%</vis-text>\uFF0C\u8F83\u4E0A\u6708<vis-text type="trend_desc">\u4E0A\u5347</vis-text><vis-text type="delta_value_pos">3.8</vis-text>\u4E2A\u767E\u5206\u70B9\u3002<vis-text type="metric_name">\u51B3\u7B56\u6570\u91CF</vis-text>\u5448\u73B0\u7A33\u5B9A<vis-text type="trend_desc" origin="[1, 2, 6, 18, 24, 48]">\u4E0A\u5347</vis-text>\u8D8B\u52BF\uFF0C\u9884\u8BA1<vis-text type="time_desc">\u4E0B\u6708</vis-text>\u5C06\u7A81\u7834<vis-text type="metric_value">3,000</vis-text>\u5927\u5173\u3002

### \u51B3\u7B56\u51C6\u786E\u7387:
<vis-text type="time_desc">\u672C\u6708</vis-text>\u6574\u4F53<vis-text type="metric_name">\u51B3\u7B56\u51C6\u786E\u7387</vis-text>\u4E3A<vis-text type="metric_value">87.6%</vis-text>\uFF0C\u73AF\u6BD4<vis-text type="trend_desc">\u4E0B\u964D</vis-text><vis-text type="delta_value_neg">1.2</vis-text>\u4E2A\u767E\u5206\u70B9\uFF0C\u4F46\u4ECD\u9AD8\u4E8E\u5E74\u5EA6\u76EE\u6807<vis-text type="ratio_value_pos">2.6%</vis-text>\u3002<vis-text type="dim_value">\u8D22\u52A1\u90E8\u95E8</vis-text>\u8868\u73B0\u6700\u4F73\uFF0C\u51C6\u786E\u7387\u8FBE<vis-text type="metric_value">94.3%</vis-text>\uFF1B<vis-text type="dim_value">\u4EBA\u529B\u8D44\u6E90\u90E8\u95E8</vis-text>\u8868\u73B0\u6B20\u4F73\uFF0C\u51C6\u786E\u7387\u4E3A<vis-text type="metric_value">76.8%</vis-text>\uFF0C\u5EFA\u8BAE\u52A0\u5F3A\u57F9\u8BAD\u3002<vis-text type="metric_name">\u6570\u636E\u9A71\u52A8\u578B\u51B3\u7B56</vis-text>\u7684\u51C6\u786E\u7387\uFF08<vis-text type="metric_value">91.2%</vis-text>\uFF09\u663E\u8457\u9AD8\u4E8E<vis-text type="metric_name">\u7ECF\u9A8C\u9A71\u52A8\u578B\u51B3\u7B56</vis-text>\uFF08<vis-text type="metric_value">82.4%</vis-text>\uFF09\uFF0C\u51F8\u663E\u4E86\u6570\u636E\u5206\u6790\u7684\u91CD\u8981\u6027\u3002

### \u51B3\u7B56\u6267\u884C\u7387:
<vis-text type="time_desc">\u672C\u6708</vis-text><vis-text type="metric_name">\u51B3\u7B56\u6267\u884C\u7387</vis-text>\u4E3A<vis-text type="metric_value">82.3%</vis-text>\uFF0C\u73AF\u6BD4<vis-text type="trend_desc">\u63D0\u5347</vis-text><vis-text type="delta_value_pos">5.7</vis-text>\u4E2A\u767E\u5206\u70B9\uFF0C\u521B\u4E0B\u8FD16\u4E2A\u6708\u65B0\u9AD8\u3002\u5176\u4E2D\uFF0C<vis-text type="dim_name">\u9AD8\u4F18\u5148\u7EA7\u51B3\u7B56</vis-text>\u6267\u884C\u7387\u8FBE<vis-text type="metric_value">95.6%</vis-text>\uFF0C<vis-text type="dim_name">\u4F4E\u4F18\u5148\u7EA7\u51B3\u7B56</vis-text>\u6267\u884C\u7387\u4EC5\u4E3A<vis-text type="metric_value">68.7%</vis-text>\u3002<vis-text type="dim_value">\u6280\u672F\u90E8\u95E8</vis-text>\u7684\u6267\u884C\u7387\u6700\u9AD8\uFF0C\u8FBE<vis-text type="metric_value">91.2%</vis-text>\uFF1B<vis-text type="dim_value">\u5E02\u573A\u90E8\u95E8</vis-text>\u6700\u4F4E\uFF0C\u4E3A<vis-text type="metric_value">74.5%</vis-text>\u3002\u5EFA\u8BAE\u5173\u6CE8<vis-text type="dim_value">\u5E02\u573A\u90E8\u95E8</vis-text>\u7684\u51B3\u7B56\u6267\u884C\u969C\u788D\uFF0C\u63D0\u4F9B\u5FC5\u8981\u652F\u6301\u3002

### \u51B3\u7B56\u6536\u76CA:
<vis-text type="time_desc">\u672C\u6708</vis-text><vis-text type="metric_name">\u51B3\u7B56\u6536\u76CA</vis-text>\u5E26\u6765\u7684\u603B\u6536\u76CA\u4E3A<vis-text type="metric_value">1,275</vis-text>\u4E07\u5143\uFF0C\u540C\u6BD4\u589E\u957F<vis-text type="ratio_value_pos">31.8%</vis-text>\uFF0C\u8D85\u51FA\u9884\u671F<vis-text type="ratio_value_pos">18.6%</vis-text>\u3002<vis-text type="dim_name">\u4EA7\u54C1\u51B3\u7B56</vis-text>\u8D21\u732E\u6700\u5927\uFF0C\u5360\u603B\u6536\u76CA\u7684<vis-text type="proportion">42.3%</vis-text>\uFF1B\u5176\u6B21\u662F<vis-text type="dim_name">\u8425\u9500\u51B3\u7B56</vis-text>\uFF0C\u5360<vis-text type="proportion">27.6%</vis-text>\u3002<vis-text type="dim_name">\u9AD8\u98CE\u9669\u51B3\u7B56</vis-text>\u7684\u5E73\u5747\u6536\u76CA\uFF08<vis-text type="metric_value">87.3</vis-text>\u4E07\u5143/\u4E2A\uFF09\u663E\u8457\u9AD8\u4E8E<vis-text type="dim_name">\u4F4E\u98CE\u9669\u51B3\u7B56</vis-text>\uFF08<vis-text type="metric_value">23.1</vis-text>\u4E07\u5143/\u4E2A\uFF09\u3002\u5EFA\u8BAE\u5728\u98CE\u9669\u53EF\u63A7\u7684\u524D\u63D0\u4E0B\uFF0C\u9002\u5F53\u589E\u52A0<vis-text type="dim_name">\u9AD8\u6536\u76CA\u6F5C\u529B</vis-text>\u7684\u51B3\u7B56\u6BD4\u4F8B\u3002

### \u6570\u636E\u8D28\u91CF:
<vis-text type="time_desc">\u672C\u6708</vis-text><vis-text type="metric_name">\u6570\u636E\u8D28\u91CF</vis-text>\u8BC4\u5206\u4E3A<vis-text type="metric_value">88.5</vis-text>\u5206\uFF08\u6EE1\u5206100\u5206\uFF09\uFF0C\u73AF\u6BD4\u63D0\u5347<vis-text type="trend_desc">\u63D0\u5347</vis-text><vis-text type="delta_value_pos">2.3</vis-text>\u5206\u3002<vis-text type="metric_name">\u6570\u636E\u5B8C\u6574\u6027</vis-text>\uFF08<vis-text type="metric_value">93.2</vis-text>\u5206\uFF09\u548C<vis-text type="metric_name">\u53CA\u65F6\u6027</vis-text>\uFF08<vis-text type="metric_value">91.7</vis-text>\u5206\uFF09\u8868\u73B0\u4F18\u5F02\uFF0C\u800C<vis-text type="metric_name">\u51C6\u786E\u6027</vis-text>\uFF08<vis-text type="metric_value">84.6</vis-text>\u5206\uFF09\u548C<vis-text type="metric_name">\u4E00\u81F4\u6027</vis-text>\uFF08<vis-text type="metric_value">82.5</vis-text>\u5206\uFF09\u4ECD\u6709\u63D0\u5347\u7A7A\u95F4\u3002<vis-text type="dim_value">\u8D22\u52A1\u6570\u636E</vis-text>\u8D28\u91CF\u6700\u9AD8\uFF0C\u8FBE<vis-text type="metric_value">95.3</vis-text>\u5206\uFF1B<vis-text type="dim_value">\u7528\u6237\u884C\u4E3A\u6570\u636E</vis-text>\u8D28\u91CF\u6700\u4F4E\uFF0C\u4E3A<vis-text type="metric_value">81.2</vis-text>\u5206\u3002\u5EFA\u8BAE\u4F18\u5316<vis-text type="dim_value">\u7528\u6237\u884C\u4E3A\u6570\u636E</vis-text>\u91C7\u96C6\u6D41\u7A0B\uFF0C\u63D0\u9AD8<vis-text type="metric_name">\u6570\u636E\u51C6\u786E\u6027</vis-text>\u548C<vis-text type="metric_name">\u4E00\u81F4\u6027</vis-text>\u3002

\`;

const bgStyle = {
  display: 'grid',
  gridGap: '20px 0',
  background: '#f7f7f7',
  padding: 20,
  borderRadius: 8,
};

const RenderMarkdown: BubbleProps['messageRender'] = (content) => (
  <GPTVis components={{ 'vis-text': VisText, p: StyledP }}>{content}</GPTVis>
);

export default () => (
  <div style={bgStyle}>
    <Bubble
      content={markdownContent}
      messageRender={RenderMarkdown}
      avatar={{
        src: 'https://mdn.alipayobjects.com/huamei_je4oko/afts/img/A*6LRBT7rjOkQAAAAAAAAAAAAADsZ-AQ/original',
      }}
      variant="shadow"
      styles={{ content: { background: '#fff' } }}
    />
  </div>
);
`}}]);
