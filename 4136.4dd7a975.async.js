!(function(){var p7=Object.defineProperty,g7=Object.defineProperties;var m7=Object.getOwnPropertyDescriptors;var I4=Object.getOwnPropertySymbols;var jD=Object.prototype.hasOwnProperty,HD=Object.prototype.propertyIsEnumerable;var BN=(cn,Ne)=>(Ne=Symbol[cn])?Ne:Symbol.for("Symbol."+cn),v7=cn=>{throw TypeError(cn)},p0=Math.pow,FN=(cn,Ne,A)=>Ne in cn?p7(cn,Ne,{enumerable:!0,configurable:!0,writable:!0,value:A}):cn[Ne]=A,us=(cn,Ne)=>{for(var A in Ne||(Ne={}))jD.call(Ne,A)&&FN(cn,A,Ne[A]);if(I4)for(var A of I4(Ne))HD.call(Ne,A)&&FN(cn,A,Ne[A]);return cn},g0=(cn,Ne)=>g7(cn,m7(Ne));var J0=(cn,Ne)=>{var A={};for(var w in cn)jD.call(cn,w)&&Ne.indexOf(w)<0&&(A[w]=cn[w]);if(cn!=null&&I4)for(var w of I4(cn))Ne.indexOf(w)<0&&HD.call(cn,w)&&(A[w]=cn[w]);return A};var fS=(cn,Ne,A)=>FN(cn,typeof Ne!="symbol"?Ne+"":Ne,A);var t3=(cn,Ne,A)=>new Promise((w,B)=>{var ne=q=>{try{j(A.next(q))}catch(Y){B(Y)}},ue=q=>{try{j(A.throw(q))}catch(Y){B(Y)}},j=q=>q.done?w(q.value):Promise.resolve(q.value).then(ne,ue);j((A=A.apply(cn,Ne)).next())}),y7=function(cn,Ne){this[0]=cn,this[1]=Ne};var WD=cn=>{var Ne=cn[BN("asyncIterator")],A=!1,w,B={};return Ne==null?(Ne=cn[BN("iterator")](),w=ne=>B[ne]=ue=>Ne[ne](ue)):(Ne=Ne.call(cn),w=ne=>B[ne]=ue=>{if(A){if(A=!1,ne==="throw")throw ue;return ue}return A=!0,{done:!1,value:new y7(new Promise(j=>{var q=Ne[ne](ue);q instanceof Object||v7("Object expected"),j(q)}),1)}}),B[BN("iterator")]=()=>B,w("next"),"throw"in Ne?w("throw"):B.throw=ne=>{throw ne},"return"in Ne&&w("return"),B};(self.webpackChunk_antv_gpt_vis=self.webpackChunk_antv_gpt_vis||[]).push([[4136],{41978:function(cn){"use strict";(function(Ne,A){cn.exports=A()})(this,function(){function Ne(K){var H=[];return K.AMapUI&&H.push(A(K.AMapUI)),K.Loca&&H.push(w(K.Loca)),Promise.all(H)}function A(K){return new Promise(function(H,ae){var ie=[];if(K.plugins)for(var le=0;le<K.plugins.length;le+=1)ne.AMapUI.plugins.indexOf(K.plugins[le])==-1&&ie.push(K.plugins[le]);if(ue.AMapUI===B.failed)ae("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(ue.AMapUI===B.notload){ue.AMapUI=B.loading,ne.AMapUI.version=K.version||ne.AMapUI.version,le=ne.AMapUI.version;var se=document.body||document.head,ge=document.createElement("script");ge.type="text/javascript",ge.src="https://webapi.amap.com/ui/"+le+"/main.js",ge.onerror=function(ye){ue.AMapUI=B.failed,ae("\u8BF7\u6C42 AMapUI \u5931\u8D25")},ge.onload=function(){if(ue.AMapUI=B.loaded,ie.length)window.AMapUI.loadUI(ie,function(){for(var ye=0,ve=ie.length;ye<ve;ye++){var fe=ie[ye].split("/").slice(-1)[0];window.AMapUI[fe]=arguments[ye]}for(H();j.AMapUI.length;)j.AMapUI.splice(0,1)[0]()});else for(H();j.AMapUI.length;)j.AMapUI.splice(0,1)[0]()},se.appendChild(ge)}else ue.AMapUI===B.loaded?K.version&&K.version!==ne.AMapUI.version?ae("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):ie.length?window.AMapUI.loadUI(ie,function(){for(var ye=0,ve=ie.length;ye<ve;ye++){var fe=ie[ye].split("/").slice(-1)[0];window.AMapUI[fe]=arguments[ye]}H()}):H():K.version&&K.version!==ne.AMapUI.version?ae("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):j.AMapUI.push(function(ye){ye?ae(ye):ie.length?window.AMapUI.loadUI(ie,function(){for(var ve=0,fe=ie.length;ve<fe;ve++){var Fe=ie[ve].split("/").slice(-1)[0];window.AMapUI[Fe]=arguments[ve]}H()}):H()})})}function w(K){return new Promise(function(H,ae){if(ue.Loca===B.failed)ae("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(ue.Loca===B.notload){ue.Loca=B.loading,ne.Loca.version=K.version||ne.Loca.version;var ie=ne.Loca.version,le=ne.AMap.version.startsWith("2"),se=ie.startsWith("2");if(le&&!se||!le&&se)ae("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");else{le=ne.key,se=document.body||document.head;var ge=document.createElement("script");ge.type="text/javascript",ge.src="https://webapi.amap.com/loca?v="+ie+"&key="+le,ge.onerror=function(ye){ue.Loca=B.failed,ae("\u8BF7\u6C42 AMapUI \u5931\u8D25")},ge.onload=function(){for(ue.Loca=B.loaded,H();j.Loca.length;)j.Loca.splice(0,1)[0]()},se.appendChild(ge)}}else ue.Loca===B.loaded?K.version&&K.version!==ne.Loca.version?ae("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):H():K.version&&K.version!==ne.Loca.version?ae("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):j.Loca.push(function(ye){ye?ae(ye):ae()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var B;(function(K){K.notload="notload",K.loading="loading",K.loaded="loaded",K.failed="failed"})(B||(B={}));var ne={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},ue={AMap:B.notload,AMapUI:B.notload,Loca:B.notload},j={AMap:[],AMapUI:[],Loca:[]},q=[],Y=function(K){typeof K=="function"&&(ue.AMap===B.loaded?K(window.AMap):q.push(K))};return{load:function(K){return new Promise(function(H,ae){if(ue.AMap==B.failed)ae("");else if(ue.AMap==B.notload){var ie=K.key,le=K.version,se=K.plugins;ie?(window.AMap&&location.host!=="lbs.amap.com"&&ae("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),ne.key=ie,ne.AMap.version=le||ne.AMap.version,ne.AMap.plugins=se||ne.AMap.plugins,ue.AMap=B.loading,le=document.body||document.head,window.___onAPILoaded=function(ye){if(delete window.___onAPILoaded,ye)ue.AMap=B.failed,ae(ye);else for(ue.AMap=B.loaded,Ne(K).then(function(){H(window.AMap)}).catch(ae);q.length;)q.splice(0,1)[0]()},se=document.createElement("script"),se.type="text/javascript",se.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+ne.AMap.version+"&key="+ie+"&plugin="+ne.AMap.plugins.join(","),se.onerror=function(ye){ue.AMap=B.failed,ae(ye)},le.appendChild(se)):ae("\u8BF7\u586B\u5199key")}else if(ue.AMap==B.loaded)if(K.key&&K.key!==ne.key)ae("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(K.version&&K.version!==ne.AMap.version)ae("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(ie=[],K.plugins)for(le=0;le<K.plugins.length;le+=1)ne.AMap.plugins.indexOf(K.plugins[le])==-1&&ie.push(K.plugins[le]);ie.length?window.AMap.plugin(ie,function(){Ne(K).then(function(){H(window.AMap)}).catch(ae)}):Ne(K).then(function(){H(window.AMap)}).catch(ae)}else if(K.key&&K.key!==ne.key)ae("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(K.version&&K.version!==ne.AMap.version)ae("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var ge=[];if(K.plugins)for(le=0;le<K.plugins.length;le+=1)ne.AMap.plugins.indexOf(K.plugins[le])==-1&&ge.push(K.plugins[le]);Y(function(){ge.length?window.AMap.plugin(ge,function(){Ne(K).then(function(){H(window.AMap)}).catch(ae)}):Ne(K).then(function(){H(window.AMap)}).catch(ae)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,ne={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},ue={AMap:B.notload,AMapUI:B.notload,Loca:B.notload},j={AMap:[],AMapUI:[],Loca:[]}}}})},75875:function(cn,Ne,A){"use strict";A.d(Ne,{iN:function(){return rn},R_:function(){return fe},EV:function(){return lt},Ti:function(){return tt},ez:function(){return Fe}});var w=A(96299),B=A(28556),ne=2,ue=.16,j=.05,q=.05,Y=.15,K=5,H=4,ae=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ie(Ge){var Vt=Ge.r,De=Ge.g,et=Ge.b,Ce=(0,w.py)(Vt,De,et);return{h:Ce.h*360,s:Ce.s,v:Ce.v}}function le(Ge){var Vt=Ge.r,De=Ge.g,et=Ge.b;return"#".concat((0,w.vq)(Vt,De,et,!1))}function se(Ge,Vt,De){var et=De/100,Ce={r:(Vt.r-Ge.r)*et+Ge.r,g:(Vt.g-Ge.g)*et+Ge.g,b:(Vt.b-Ge.b)*et+Ge.b};return Ce}function ge(Ge,Vt,De){var et;return Math.round(Ge.h)>=60&&Math.round(Ge.h)<=240?et=De?Math.round(Ge.h)-ne*Vt:Math.round(Ge.h)+ne*Vt:et=De?Math.round(Ge.h)+ne*Vt:Math.round(Ge.h)-ne*Vt,et<0?et+=360:et>=360&&(et-=360),et}function ye(Ge,Vt,De){if(Ge.h===0&&Ge.s===0)return Ge.s;var et;return De?et=Ge.s-ue*Vt:Vt===H?et=Ge.s+ue:et=Ge.s+j*Vt,et>1&&(et=1),De&&Vt===K&&et>.1&&(et=.1),et<.06&&(et=.06),Number(et.toFixed(2))}function ve(Ge,Vt,De){var et;return De?et=Ge.v+q*Vt:et=Ge.v-Y*Vt,et>1&&(et=1),Number(et.toFixed(2))}function fe(Ge){for(var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=[],et=(0,B.uA)(Ge),Ce=K;Ce>0;Ce-=1){var J=ie(et),Le=le((0,B.uA)({h:ge(J,Ce,!0),s:ye(J,Ce,!0),v:ve(J,Ce,!0)}));De.push(Le)}De.push(le(et));for(var Jt=1;Jt<=H;Jt+=1){var Be=ie(et),In=le((0,B.uA)({h:ge(Be,Jt),s:ye(Be,Jt),v:ve(Be,Jt)}));De.push(In)}return Vt.theme==="dark"?ae.map(function(cr){var bn=cr.index,ir=cr.opacity,Nr=le(se((0,B.uA)(Vt.backgroundColor||"#141414"),(0,B.uA)(De[bn]),ir*100));return Nr}):De}var Fe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},yt=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];yt.primary=yt[5];var gt=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];gt.primary=gt[5];var pt=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];pt.primary=pt[5];var lt=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];lt.primary=lt[5];var Ke=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Ke.primary=Ke[5];var Ue=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Ue.primary=Ue[5];var Pt=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Pt.primary=Pt[5];var Gt=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Gt.primary=Gt[5];var rn=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];rn.primary=rn[5];var _n=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];_n.primary=_n[5];var qe=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];qe.primary=qe[5];var Nt=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Nt.primary=Nt[5];var ft=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];ft.primary=ft[5];var ln=null,tt={red:yt,volcano:gt,orange:pt,gold:lt,yellow:Ke,lime:Ue,green:Pt,cyan:Gt,blue:rn,geekblue:_n,purple:qe,magenta:Nt,grey:ft},Pe=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Pe.primary=Pe[5];var Qe=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Qe.primary=Qe[5];var He=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];He.primary=He[5];var _t=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];_t.primary=_t[5];var Bt=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Bt.primary=Bt[5];var At=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];At.primary=At[5];var Je=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Je.primary=Je[5];var zt=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];zt.primary=zt[5];var mn=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];mn.primary=mn[5];var Ot=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Ot.primary=Ot[5];var Xe=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Xe.primary=Xe[5];var ct=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];ct.primary=ct[5];var Rt=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Rt.primary=Rt[5];var Oe={red:Pe,volcano:Qe,orange:He,gold:_t,yellow:Bt,lime:At,green:Je,cyan:zt,blue:mn,geekblue:Ot,purple:Xe,magenta:ct,grey:Rt}},53557:function(cn,Ne,A){"use strict";A.d(Ne,{rb:function(){return Oe},IX:function(){return qe}});var w=A(24744),B=A(99459),ne=A(57904),ue=A(98037),j=A(75271),q=A(60595),Y=A(73779),K=A(71374),H=A(46468),ae=A(45675),ie=A(10053),le=(0,K.Z)(function Ge(){(0,Y.Z)(this,Ge)}),se=le,ge="CALC_UNIT",ye=new RegExp(ge,"g");function ve(Ge){return typeof Ge=="number"?"".concat(Ge).concat(ge):Ge}var fe=function(Ge){(0,ae.Z)(De,Ge);var Vt=(0,ie.Z)(De);function De(et,Ce){var J;(0,Y.Z)(this,De),J=Vt.call(this),(0,ne.Z)((0,H.Z)(J),"result",""),(0,ne.Z)((0,H.Z)(J),"unitlessCssVar",void 0),(0,ne.Z)((0,H.Z)(J),"lowPriority",void 0);var Le=(0,w.Z)(et);return J.unitlessCssVar=Ce,et instanceof De?J.result="(".concat(et.result,")"):Le==="number"?J.result=ve(et):Le==="string"&&(J.result=et),J}return(0,K.Z)(De,[{key:"add",value:function(Ce){return Ce instanceof De?this.result="".concat(this.result," + ").concat(Ce.getResult()):(typeof Ce=="number"||typeof Ce=="string")&&(this.result="".concat(this.result," + ").concat(ve(Ce))),this.lowPriority=!0,this}},{key:"sub",value:function(Ce){return Ce instanceof De?this.result="".concat(this.result," - ").concat(Ce.getResult()):(typeof Ce=="number"||typeof Ce=="string")&&(this.result="".concat(this.result," - ").concat(ve(Ce))),this.lowPriority=!0,this}},{key:"mul",value:function(Ce){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ce instanceof De?this.result="".concat(this.result," * ").concat(Ce.getResult(!0)):(typeof Ce=="number"||typeof Ce=="string")&&(this.result="".concat(this.result," * ").concat(Ce)),this.lowPriority=!1,this}},{key:"div",value:function(Ce){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ce instanceof De?this.result="".concat(this.result," / ").concat(Ce.getResult(!0)):(typeof Ce=="number"||typeof Ce=="string")&&(this.result="".concat(this.result," / ").concat(Ce)),this.lowPriority=!1,this}},{key:"getResult",value:function(Ce){return this.lowPriority||Ce?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(Ce){var J=this,Le=Ce||{},Jt=Le.unit,Be=!0;return typeof Jt=="boolean"?Be=Jt:Array.from(this.unitlessCssVar).some(function(In){return J.result.includes(In)})&&(Be=!1),this.result=this.result.replace(ye,Be?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),De}(se),Fe=function(Ge){(0,ae.Z)(De,Ge);var Vt=(0,ie.Z)(De);function De(et){var Ce;return(0,Y.Z)(this,De),Ce=Vt.call(this),(0,ne.Z)((0,H.Z)(Ce),"result",0),et instanceof De?Ce.result=et.result:typeof et=="number"&&(Ce.result=et),Ce}return(0,K.Z)(De,[{key:"add",value:function(Ce){return Ce instanceof De?this.result+=Ce.result:typeof Ce=="number"&&(this.result+=Ce),this}},{key:"sub",value:function(Ce){return Ce instanceof De?this.result-=Ce.result:typeof Ce=="number"&&(this.result-=Ce),this}},{key:"mul",value:function(Ce){return Ce instanceof De?this.result*=Ce.result:typeof Ce=="number"&&(this.result*=Ce),this}},{key:"div",value:function(Ce){return Ce instanceof De?this.result/=Ce.result:typeof Ce=="number"&&(this.result/=Ce),this}},{key:"equal",value:function(){return this.result}}]),De}(se),yt=Fe,gt=function(Vt,De){var et=Vt==="css"?fe:yt;return function(Ce){return new et(Ce,De)}},pt=gt,lt=function(Vt,De){return"".concat([De,Vt.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},Ke=lt,Ue=A(94269);function Pt(Ge,Vt,De,et){var Ce=(0,ue.Z)({},Vt[Ge]);if(et!=null&&et.deprecatedTokens){var J=et.deprecatedTokens;J.forEach(function(Jt){var Be=(0,B.Z)(Jt,2),In=Be[0],cr=Be[1];if(Ce!=null&&Ce[In]||Ce!=null&&Ce[cr]){var bn;(bn=Ce[cr])!==null&&bn!==void 0||(Ce[cr]=Ce==null?void 0:Ce[In])}})}var Le=(0,ue.Z)((0,ue.Z)({},De),Ce);return Object.keys(Le).forEach(function(Jt){Le[Jt]===Vt[Jt]&&delete Le[Jt]}),Le}var Gt=Pt,rn=typeof CSSINJS_STATISTIC!="undefined",_n=!0;function qe(){for(var Ge=arguments.length,Vt=new Array(Ge),De=0;De<Ge;De++)Vt[De]=arguments[De];if(!rn)return Object.assign.apply(Object,[{}].concat(Vt));_n=!1;var et={};return Vt.forEach(function(Ce){if((0,w.Z)(Ce)==="object"){var J=Object.keys(Ce);J.forEach(function(Le){Object.defineProperty(et,Le,{configurable:!0,enumerable:!0,get:function(){return Ce[Le]}})})}}),_n=!0,et}var Nt={},ft={};function ln(){}var tt=function(Vt){var De,et=Vt,Ce=ln;return rn&&typeof Proxy!="undefined"&&(De=new Set,et=new Proxy(Vt,{get:function(Le,Jt){if(_n){var Be;(Be=De)===null||Be===void 0||Be.add(Jt)}return Le[Jt]}}),Ce=function(Le,Jt){var Be;Nt[Le]={global:Array.from(De),component:(0,ue.Z)((0,ue.Z)({},(Be=Nt[Le])===null||Be===void 0?void 0:Be.component),Jt)}}),{token:et,keys:De,flush:Ce}},Pe=tt;function Qe(Ge,Vt,De){if(typeof De=="function"){var et;return De(qe(Vt,(et=Vt[Ge])!==null&&et!==void 0?et:{}))}return De!=null?De:{}}var He=Qe;function _t(Ge){return Ge==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var De=arguments.length,et=new Array(De),Ce=0;Ce<De;Ce++)et[Ce]=arguments[Ce];return"max(".concat(et.map(function(J){return(0,q.bf)(J)}).join(","),")")},min:function(){for(var De=arguments.length,et=new Array(De),Ce=0;Ce<De;Ce++)et[Ce]=arguments[Ce];return"min(".concat(et.map(function(J){return(0,q.bf)(J)}).join(","),")")}}}var Bt=_t,At=1e3*60*10,Je=function(){function Ge(){(0,Y.Z)(this,Ge),(0,ne.Z)(this,"map",new Map),(0,ne.Z)(this,"objectIDMap",new WeakMap),(0,ne.Z)(this,"nextID",0),(0,ne.Z)(this,"lastAccessBeat",new Map),(0,ne.Z)(this,"accessBeat",0)}return(0,K.Z)(Ge,[{key:"set",value:function(De,et){this.clear();var Ce=this.getCompositeKey(De);this.map.set(Ce,et),this.lastAccessBeat.set(Ce,Date.now())}},{key:"get",value:function(De){var et=this.getCompositeKey(De),Ce=this.map.get(et);return this.lastAccessBeat.set(et,Date.now()),this.accessBeat+=1,Ce}},{key:"getCompositeKey",value:function(De){var et=this,Ce=De.map(function(J){return J&&(0,w.Z)(J)==="object"?"obj_".concat(et.getObjectID(J)):"".concat((0,w.Z)(J),"_").concat(J)});return Ce.join("|")}},{key:"getObjectID",value:function(De){if(this.objectIDMap.has(De))return this.objectIDMap.get(De);var et=this.nextID;return this.objectIDMap.set(De,et),this.nextID+=1,et}},{key:"clear",value:function(){var De=this;if(this.accessBeat>1e4){var et=Date.now();this.lastAccessBeat.forEach(function(Ce,J){et-Ce>At&&(De.map.delete(J),De.lastAccessBeat.delete(J))}),this.accessBeat=0}}}]),Ge}(),zt=new Je;function mn(Ge,Vt){return j.useMemo(function(){var De=zt.get(Vt);if(De)return De;var et=Ge();return zt.set(Vt,et),et},Vt)}var Ot=mn,Xe=function(){return{}},ct=Xe;function Rt(Ge){var Vt=Ge.useCSP,De=Vt===void 0?ct:Vt,et=Ge.useToken,Ce=Ge.usePrefix,J=Ge.getResetStyles,Le=Ge.getCommonStyle,Jt=Ge.getCompUnitless;function Be(ir,Nr,Ar,Zr){var wi=Array.isArray(ir)?ir[0]:ir;function Ln($t){return"".concat(String(wi)).concat($t.slice(0,1).toUpperCase()).concat($t.slice(1))}var Nn=(Zr==null?void 0:Zr.unitless)||{},$n=typeof Jt=="function"?Jt(ir):{},wn=(0,ue.Z)((0,ue.Z)({},$n),{},(0,ne.Z)({},Ln("zIndexPopup"),!0));Object.keys(Nn).forEach(function($t){wn[Ln($t)]=Nn[$t]});var nt=(0,ue.Z)((0,ue.Z)({},Zr),{},{unitless:wn,prefixToken:Ln}),ze=cr(ir,Nr,Ar,nt),vt=In(wi,Ar,nt);return function($t){var gn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$t,at=ze($t,gn),an=(0,B.Z)(at,2),hn=an[1],pr=vt(gn),ur=(0,B.Z)(pr,2),pi=ur[0],ar=ur[1];return[pi,hn,ar]}}function In(ir,Nr,Ar){var Zr=Ar.unitless,wi=Ar.injectStyle,Ln=wi===void 0?!0:wi,Nn=Ar.prefixToken,$n=Ar.ignore,wn=function(vt){var $t=vt.rootCls,gn=vt.cssVar,at=gn===void 0?{}:gn,an=et(),hn=an.realToken;return(0,q.CI)({path:[ir],prefix:at.prefix,key:at.key,unitless:Zr,ignore:$n,token:hn,scope:$t},function(){var pr=He(ir,hn,Nr),ur=Gt(ir,hn,pr,{deprecatedTokens:Ar==null?void 0:Ar.deprecatedTokens});return Object.keys(pr).forEach(function(pi){ur[Nn(pi)]=ur[pi],delete ur[pi]}),ur}),null},nt=function(vt){var $t=et(),gn=$t.cssVar;return[function(at){return Ln&&gn?j.createElement(j.Fragment,null,j.createElement(wn,{rootCls:vt,cssVar:gn,component:ir}),at):at},gn==null?void 0:gn.key]};return nt}function cr(ir,Nr,Ar){var Zr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},wi=Array.isArray(ir)?ir:[ir,ir],Ln=(0,B.Z)(wi,1),Nn=Ln[0],$n=wi.join("-"),wn=Ge.layer||{name:"antd"};return function(nt){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nt,vt=et(),$t=vt.theme,gn=vt.realToken,at=vt.hashId,an=vt.token,hn=vt.cssVar,pr=Ce(),ur=pr.rootPrefixCls,pi=pr.iconPrefixCls,ar=De(),di=hn?"css":"js",sa=Ot(function(){var cs=new Set;return hn&&Object.keys(Zr.unitless||{}).forEach(function(ra){cs.add((0,q.ks)(ra,hn.prefix)),cs.add((0,q.ks)(ra,Ke(Nn,hn.prefix)))}),pt(di,cs)},[di,Nn,hn==null?void 0:hn.prefix]),xa=Bt(di),za=xa.max,Ui=xa.min,Ao={theme:$t,token:an,hashId:at,nonce:function(){return ar.nonce},clientOnly:Zr.clientOnly,layer:wn,order:Zr.order||-999};(0,q.xy)((0,ue.Z)((0,ue.Z)({},Ao),{},{clientOnly:!1,path:["Shared",ur]}),function(){return typeof J=="function"?J(an):[]});var fs=(0,q.xy)((0,ue.Z)((0,ue.Z)({},Ao),{},{path:[$n,nt,pi]}),function(){if(Zr.injectStyle===!1)return[];var cs=Pe(an),ra=cs.token,ms=cs.flush,xi=He(Nn,gn,Ar),Gn=".".concat(nt),_e=Gt(Nn,gn,xi,{deprecatedTokens:Zr.deprecatedTokens});hn&&xi&&(0,w.Z)(xi)==="object"&&Object.keys(xi).forEach(function(Un){xi[Un]="var(".concat((0,q.ks)(Un,Ke(Nn,hn.prefix)),")")});var oi=qe(ra,{componentCls:Gn,prefixCls:nt,iconCls:".".concat(pi),antCls:".".concat(ur),calc:sa,max:za,min:Ui},hn?xi:_e),Ka=Nr(oi,{hashId:at,prefixCls:nt,rootPrefixCls:ur,iconPrefixCls:pi});ms(Nn,_e);var Cn=typeof Le=="function"?Le(oi,nt,ze,Zr.resetFont):null;return[Zr.resetStyle===!1?null:Cn,Ka]});return[fs,at]}}function bn(ir,Nr,Ar){var Zr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},wi=cr(ir,Nr,Ar,(0,ue.Z)({resetStyle:!1,order:-998},Zr)),Ln=function($n){var wn=$n.prefixCls,nt=$n.rootCls,ze=nt===void 0?wn:nt;return wi(wn,ze),null};return Ln}return{genStyleHooks:Be,genSubStyleComponent:bn,genComponentStyleHook:cr}}var Oe=Rt},60595:function(cn,Ne,A){"use strict";A.d(Ne,{E4:function(){return Xs},jG:function(){return zt},t2:function(){return ra},ks:function(){return ir},bf:function(){return cr},CI:function(){return hs},fp:function(){return xi},xy:function(){return Di}});var w=A(57904),B=A(99459),ne=A(35047),ue=A(98037);function j(Sr){for(var li=0,Ci,ti=0,ea=Sr.length;ea>=4;++ti,ea-=4)Ci=Sr.charCodeAt(ti)&255|(Sr.charCodeAt(++ti)&255)<<8|(Sr.charCodeAt(++ti)&255)<<16|(Sr.charCodeAt(++ti)&255)<<24,Ci=(Ci&65535)*1540483477+((Ci>>>16)*59797<<16),Ci^=Ci>>>24,li=(Ci&65535)*1540483477+((Ci>>>16)*59797<<16)^(li&65535)*1540483477+((li>>>16)*59797<<16);switch(ea){case 3:li^=(Sr.charCodeAt(ti+2)&255)<<16;case 2:li^=(Sr.charCodeAt(ti+1)&255)<<8;case 1:li^=Sr.charCodeAt(ti)&255,li=(li&65535)*1540483477+((li>>>16)*59797<<16)}return li^=li>>>13,li=(li&65535)*1540483477+((li>>>16)*59797<<16),((li^li>>>15)>>>0).toString(36)}var q=j,Y=A(93722),K=A(75271),H=A.t(K,2),ae=A(9839),ie=A(26920),le=A(73779),se=A(71374),ge="%";function ye(Sr){return Sr.join(ge)}var ve=function(){function Sr(li){(0,le.Z)(this,Sr),(0,w.Z)(this,"instanceId",void 0),(0,w.Z)(this,"cache",new Map),this.instanceId=li}return(0,se.Z)(Sr,[{key:"get",value:function(Ci){return this.opGet(ye(Ci))}},{key:"opGet",value:function(Ci){return this.cache.get(Ci)||null}},{key:"update",value:function(Ci,ti){return this.opUpdate(ye(Ci),ti)}},{key:"opUpdate",value:function(Ci,ti){var ea=this.cache.get(Ci),mo=ti(ea);mo===null?this.cache.delete(Ci):this.cache.set(Ci,mo)}}]),Sr}(),fe=ve,Fe=null,yt="data-token-hash",gt="data-css-hash",pt="data-cache-path",lt="__cssinjs_instance__";function Ke(){var Sr=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var li=document.body.querySelectorAll("style[".concat(gt,"]"))||[],Ci=document.head.firstChild;Array.from(li).forEach(function(ea){ea[lt]=ea[lt]||Sr,ea[lt]===Sr&&document.head.insertBefore(ea,Ci)});var ti={};Array.from(document.querySelectorAll("style[".concat(gt,"]"))).forEach(function(ea){var mo=ea.getAttribute(gt);if(ti[mo]){if(ea[lt]===Sr){var so;(so=ea.parentNode)===null||so===void 0||so.removeChild(ea)}}else ti[mo]=!0})}return new fe(Sr)}var Ue=K.createContext({hashPriority:"low",cache:Ke(),defaultCache:!0}),Pt=function(li){var Ci=li.children,ti=_objectWithoutProperties(li,Fe),ea=React.useContext(Ue),mo=useMemo(function(){var so=_objectSpread({},ea);Object.keys(ti).forEach(function(Ha){var wo=ti[Ha];ti[Ha]!==void 0&&(so[Ha]=wo)});var Io=ti.cache;return so.cache=so.cache||Ke(),so.defaultCache=!Io&&ea.defaultCache,so},[ea,ti],function(so,Io){return!isEqual(so[0],Io[0],!0)||!isEqual(so[1],Io[1],!0)});return React.createElement(Ue.Provider,{value:mo},Ci)},Gt=Ue,rn=A(24744),_n=A(67042),qe="CALC_UNIT",Nt=new RegExp(qe,"g");function ft(Sr){return typeof Sr=="number"?"".concat(Sr).concat(qe):Sr}var ln=null,tt=function(li,Ci){var ti=li==="css"?CSSCalculator:NumCalculator;return function(ea){return new ti(ea,Ci)}},Pe=null;function Qe(Sr,li){if(Sr.length!==li.length)return!1;for(var Ci=0;Ci<Sr.length;Ci++)if(Sr[Ci]!==li[Ci])return!1;return!0}var He=function(){function Sr(){(0,le.Z)(this,Sr),(0,w.Z)(this,"cache",void 0),(0,w.Z)(this,"keys",void 0),(0,w.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,se.Z)(Sr,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(Ci){var ti,ea,mo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,so={map:this.cache};return Ci.forEach(function(Io){if(!so)so=void 0;else{var Ha;so=(Ha=so)===null||Ha===void 0||(Ha=Ha.map)===null||Ha===void 0?void 0:Ha.get(Io)}}),(ti=so)!==null&&ti!==void 0&&ti.value&&mo&&(so.value[1]=this.cacheCallTimes++),(ea=so)===null||ea===void 0?void 0:ea.value}},{key:"get",value:function(Ci){var ti;return(ti=this.internalGet(Ci,!0))===null||ti===void 0?void 0:ti[0]}},{key:"has",value:function(Ci){return!!this.internalGet(Ci)}},{key:"set",value:function(Ci,ti){var ea=this;if(!this.has(Ci)){if(this.size()+1>Sr.MAX_CACHE_SIZE+Sr.MAX_CACHE_OFFSET){var mo=this.keys.reduce(function(wo,zo){var rs=(0,B.Z)(wo,2),Vo=rs[1];return ea.internalGet(zo)[1]<Vo?[zo,ea.internalGet(zo)[1]]:wo},[this.keys[0],this.cacheCallTimes]),so=(0,B.Z)(mo,1),Io=so[0];this.delete(Io)}this.keys.push(Ci)}var Ha=this.cache;Ci.forEach(function(wo,zo){if(zo===Ci.length-1)Ha.set(wo,{value:[ti,ea.cacheCallTimes++]});else{var rs=Ha.get(wo);rs?rs.map||(rs.map=new Map):Ha.set(wo,{map:new Map}),Ha=Ha.get(wo).map}})}},{key:"deleteByPath",value:function(Ci,ti){var ea=Ci.get(ti[0]);if(ti.length===1){var mo;return ea.map?Ci.set(ti[0],{map:ea.map}):Ci.delete(ti[0]),(mo=ea.value)===null||mo===void 0?void 0:mo[0]}var so=this.deleteByPath(ea.map,ti.slice(1));return(!ea.map||ea.map.size===0)&&!ea.value&&Ci.delete(ti[0]),so}},{key:"delete",value:function(Ci){if(this.has(Ci))return this.keys=this.keys.filter(function(ti){return!Qe(ti,Ci)}),this.deleteByPath(this.cache,Ci)}}]),Sr}();(0,w.Z)(He,"MAX_CACHE_SIZE",20),(0,w.Z)(He,"MAX_CACHE_OFFSET",5);var _t=A(7302),Bt=0,At=function(){function Sr(li){(0,le.Z)(this,Sr),(0,w.Z)(this,"derivatives",void 0),(0,w.Z)(this,"id",void 0),this.derivatives=Array.isArray(li)?li:[li],this.id=Bt,li.length===0&&(0,_t.Kp)(li.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),Bt+=1}return(0,se.Z)(Sr,[{key:"getDerivativeToken",value:function(Ci){return this.derivatives.reduce(function(ti,ea){return ea(Ci,ti)},void 0)}}]),Sr}(),Je=new He;function zt(Sr){var li=Array.isArray(Sr)?Sr:[Sr];return Je.has(li)||Je.set(li,new At(li)),Je.get(li)}var mn=new WeakMap,Ot={};function Xe(Sr,li){for(var Ci=mn,ti=0;ti<li.length;ti+=1){var ea=li[ti];Ci.has(ea)||Ci.set(ea,new WeakMap),Ci=Ci.get(ea)}return Ci.has(Ot)||Ci.set(Ot,Sr()),Ci.get(Ot)}var ct=new WeakMap;function Rt(Sr){var li=ct.get(Sr)||"";return li||(Object.keys(Sr).forEach(function(Ci){var ti=Sr[Ci];li+=Ci,ti instanceof At?li+=ti.id:ti&&(0,rn.Z)(ti)==="object"?li+=Rt(ti):li+=ti}),li=q(li),ct.set(Sr,li)),li}function Oe(Sr,li){return q("".concat(li,"_").concat(Rt(Sr)))}var Ge="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Vt="_bAmBoO_";function De(Sr,li,Ci){if((0,_n.Z)()){var ti,ea;(0,Y.hq)(Sr,Ge);var mo=document.createElement("div");mo.style.position="fixed",mo.style.left="0",mo.style.top="0",li==null||li(mo),document.body.appendChild(mo);var so=Ci?Ci(mo):(ti=getComputedStyle(mo).content)===null||ti===void 0?void 0:ti.includes(Vt);return(ea=mo.parentNode)===null||ea===void 0||ea.removeChild(mo),(0,Y.jL)(Ge),so}return!1}var et=null;function Ce(){return et===void 0&&(et=De("@layer ".concat(Ge," { .").concat(Ge,' { content: "').concat(Vt,'"!important; } }'),function(Sr){Sr.className=Ge})),et}var J=void 0;function Le(){return J===void 0&&(J=De(":where(.".concat(Ge,') { content: "').concat(Vt,'"!important; }'),function(Sr){Sr.className=Ge})),J}var Jt=void 0;function Be(){return Jt===void 0&&(Jt=De(".".concat(Ge," { inset-block: 93px !important; }"),function(Sr){Sr.className=Ge},function(Sr){return getComputedStyle(Sr).bottom==="93px"})),Jt}var In=(0,_n.Z)();function cr(Sr){return typeof Sr=="number"?"".concat(Sr,"px"):Sr}function bn(Sr,li,Ci){var ti,ea=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},mo=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(mo)return Sr;var so=(0,ue.Z)((0,ue.Z)({},ea),{},(ti={},(0,w.Z)(ti,yt,li),(0,w.Z)(ti,gt,Ci),ti)),Io=Object.keys(so).map(function(Ha){var wo=so[Ha];return wo?"".concat(Ha,'="').concat(wo,'"'):null}).filter(function(Ha){return Ha}).join(" ");return"<style ".concat(Io,">").concat(Sr,"</style>")}var ir=function(li){var Ci=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(Ci?"".concat(Ci,"-"):"").concat(li).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Nr=function(li,Ci,ti){return Object.keys(li).length?".".concat(Ci).concat(ti!=null&&ti.scope?".".concat(ti.scope):"","{").concat(Object.entries(li).map(function(ea){var mo=(0,B.Z)(ea,2),so=mo[0],Io=mo[1];return"".concat(so,":").concat(Io,";")}).join(""),"}"):""},Ar=function(li,Ci,ti){var ea={},mo={};return Object.entries(li).forEach(function(so){var Io,Ha,wo=(0,B.Z)(so,2),zo=wo[0],rs=wo[1];if(ti!=null&&(Io=ti.preserve)!==null&&Io!==void 0&&Io[zo])mo[zo]=rs;else if((typeof rs=="string"||typeof rs=="number")&&!(ti!=null&&(Ha=ti.ignore)!==null&&Ha!==void 0&&Ha[zo])){var Vo,Fs=ir(zo,ti==null?void 0:ti.prefix);ea[Fs]=typeof rs=="number"&&!(ti!=null&&(Vo=ti.unitless)!==null&&Vo!==void 0&&Vo[zo])?"".concat(rs,"px"):String(rs),mo[zo]="var(".concat(Fs,")")}}),[mo,Nr(ea,Ci,{scope:ti==null?void 0:ti.scope})]},Zr=A(50979),wi=(0,ue.Z)({},H),Ln=wi.useInsertionEffect,Nn=function(li,Ci,ti){K.useMemo(li,ti),(0,Zr.Z)(function(){return Ci(!0)},ti)},$n=Ln?function(Sr,li,Ci){return Ln(function(){return Sr(),li()},Ci)}:Nn,wn=$n,nt=(0,ue.Z)({},H),ze=nt.useInsertionEffect,vt=function(li){var Ci=[],ti=!1;function ea(mo){ti||Ci.push(mo)}return K.useEffect(function(){return ti=!1,function(){ti=!0,Ci.length&&Ci.forEach(function(mo){return mo()})}},li),ea},$t=function(){return function(li){li()}},gn=typeof ze!="undefined"?vt:$t,at=gn;function an(){return!1}var hn=!1;function pr(){return hn}var ur=an;if(0)var pi,ar;function di(Sr,li,Ci,ti,ea){var mo=K.useContext(Gt),so=mo.cache,Io=[Sr].concat((0,ne.Z)(li)),Ha=ye(Io),wo=at([Ha]),zo=ur(),rs=function(bs){so.opUpdate(Ha,function(Vs){var vi=Vs||[void 0,void 0],fa=(0,B.Z)(vi,2),ta=fa[0],fo=ta===void 0?0:ta,Ko=fa[1],es=Ko,Mo=es||Ci(),ys=[fo,Mo];return bs?bs(ys):ys})};K.useMemo(function(){rs()},[Ha]);var Vo=so.opGet(Ha),Fs=Vo[1];return wn(function(){ea==null||ea(Fs)},function(_u){return rs(function(bs){var Vs=(0,B.Z)(bs,2),vi=Vs[0],fa=Vs[1];return _u&&vi===0&&(ea==null||ea(Fs)),[vi+1,fa]}),function(){so.opUpdate(Ha,function(bs){var Vs=bs||[],vi=(0,B.Z)(Vs,2),fa=vi[0],ta=fa===void 0?0:fa,fo=vi[1],Ko=ta-1;return Ko===0?(wo(function(){(_u||!so.opGet(Ha))&&(ti==null||ti(fo,!1))}),null):[ta-1,fo]})}},[Ha]),Fs}var sa={},xa="css",za=new Map;function Ui(Sr){za.set(Sr,(za.get(Sr)||0)+1)}function Ao(Sr,li){if(typeof document!="undefined"){var Ci=document.querySelectorAll("style[".concat(yt,'="').concat(Sr,'"]'));Ci.forEach(function(ti){if(ti[lt]===li){var ea;(ea=ti.parentNode)===null||ea===void 0||ea.removeChild(ti)}})}}var fs=0;function cs(Sr,li){za.set(Sr,(za.get(Sr)||0)-1);var Ci=Array.from(za.keys()),ti=Ci.filter(function(ea){var mo=za.get(ea)||0;return mo<=0});Ci.length-ti.length>fs&&ti.forEach(function(ea){Ao(ea,li),za.delete(ea)})}var ra=function(li,Ci,ti,ea){var mo=ti.getDerivativeToken(li),so=(0,ue.Z)((0,ue.Z)({},mo),Ci);return ea&&(so=ea(so)),so},ms="token";function xi(Sr,li){var Ci=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ti=(0,K.useContext)(Gt),ea=ti.cache.instanceId,mo=ti.container,so=Ci.salt,Io=so===void 0?"":so,Ha=Ci.override,wo=Ha===void 0?sa:Ha,zo=Ci.formatToken,rs=Ci.getComputedToken,Vo=Ci.cssVar,Fs=Xe(function(){return Object.assign.apply(Object,[{}].concat((0,ne.Z)(li)))},li),_u=Rt(Fs),bs=Rt(wo),Vs=Vo?Rt(Vo):"",vi=di(ms,[Io,Sr.id,_u,bs,Vs],function(){var fa,ta=rs?rs(Fs,wo,Sr):ra(Fs,wo,Sr,zo),fo=(0,ue.Z)({},ta),Ko="";if(Vo){var es=Ar(ta,Vo.key,{prefix:Vo.prefix,ignore:Vo.ignore,unitless:Vo.unitless,preserve:Vo.preserve}),Mo=(0,B.Z)(es,2);ta=Mo[0],Ko=Mo[1]}var ys=Oe(ta,Io);ta._tokenKey=ys,fo._tokenKey=Oe(fo,Io);var Bc=(fa=Vo==null?void 0:Vo.key)!==null&&fa!==void 0?fa:ys;ta._themeKey=Bc,Ui(Bc);var ec="".concat(xa,"-").concat(q(ys));return ta._hashId=ec,[ta,ec,fo,Ko,(Vo==null?void 0:Vo.key)||""]},function(fa){cs(fa[0]._themeKey,ea)},function(fa){var ta=(0,B.Z)(fa,4),fo=ta[0],Ko=ta[3];if(Vo&&Ko){var es=(0,Y.hq)(Ko,q("css-variables-".concat(fo._themeKey)),{mark:gt,prepend:"queue",attachTo:mo,priority:-999});es[lt]=ea,es.setAttribute(yt,fo._themeKey)}});return vi}var Gn=function(li,Ci,ti){var ea=(0,B.Z)(li,5),mo=ea[2],so=ea[3],Io=ea[4],Ha=ti||{},wo=Ha.plain;if(!so)return null;var zo=mo._tokenKey,rs=-999,Vo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(rs)},Fs=bn(so,Io,zo,Vo,wo);return[rs,zo,Fs]},_e=A(2053),oi={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ka=oi,Cn="-ms-",Un="-moz-",tn="-webkit-",It="comm",Zt="rule",$e="decl",Bn="@page",Yn="@media",or="@import",Ze="@charset",je="@viewport",st="@supports",St="@document",En="@namespace",fn="@keyframes",sn="@font-face",Pn="@counter-style",Hn="@font-feature-values",Ut="@layer",Yt="@scope",Xt=Math.abs,jt=String.fromCharCode,fr=Object.assign;function vr(Sr,li){return $i(Sr,0)^45?(((li<<2^$i(Sr,0))<<2^$i(Sr,1))<<2^$i(Sr,2))<<2^$i(Sr,3):0}function yr(Sr){return Sr.trim()}function Br(Sr,li){return(Sr=li.exec(Sr))?Sr[0]:Sr}function Gi(Sr,li,Ci){return Sr.replace(li,Ci)}function qi(Sr,li,Ci){return Sr.indexOf(li,Ci)}function $i(Sr,li){return Sr.charCodeAt(li)|0}function Wi(Sr,li,Ci){return Sr.slice(li,Ci)}function Ii(Sr){return Sr.length}function Qa(Sr){return Sr.length}function on(Sr,li){return li.push(Sr),Sr}function dn(Sr,li){return Sr.map(li).join("")}function jn(Sr,li){return Sr.filter(function(Ci){return!Br(Ci,li)})}function Ur(Sr,li){for(var Ci="",ti=0;ti<Sr.length;ti++)Ci+=li(Sr[ti],ti,Sr,li)||"";return Ci}function Yr(Sr,li,Ci,ti){switch(Sr.type){case Ut:if(Sr.children.length)break;case or:case $e:return Sr.return=Sr.return||Sr.value;case It:return"";case fn:return Sr.return=Sr.value+"{"+Ur(Sr.children,ti)+"}";case Zt:if(!Ii(Sr.value=Sr.props.join(",")))return""}return Ii(Ci=Ur(Sr.children,ti))?Sr.return=Sr.value+"{"+Ci+"}":""}var Et=1,Ct=1,xn=0,Xn=0,mt=0,vn="";function tr(Sr,li,Ci,ti,ea,mo,so,Io){return{value:Sr,root:li,parent:Ci,type:ti,props:ea,children:mo,line:Et,column:Ct,length:so,return:"",siblings:Io}}function Mr(Sr,li){return assign(tr("",null,null,"",null,null,0,Sr.siblings),Sr,{length:-Sr.length},li)}function ui(Sr){for(;Sr.root;)Sr=Mr(Sr.root,{children:[Sr]});append(Sr,Sr.siblings)}function Ri(){return mt}function Aa(){return mt=Xn>0?$i(vn,--Xn):0,Ct--,mt===10&&(Ct=1,Et--),mt}function Ga(){return mt=Xn<xn?$i(vn,Xn++):0,Ct++,mt===10&&(Ct=1,Et++),mt}function vo(){return $i(vn,Xn)}function To(){return Xn}function Po(Sr,li){return Wi(vn,Sr,li)}function ds(Sr){switch(Sr){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Za(Sr){return Et=Ct=1,xn=Ii(vn=Sr),Xn=0,[]}function ks(Sr){return vn="",Sr}function oo(Sr){return yr(Po(Xn-1,Sn(Sr===91?Sr+2:Sr===40?Sr+1:Sr)))}function nu(Sr){return ks(Ll(Za(Sr)))}function wu(Sr){for(;(mt=vo())&&mt<33;)Ga();return ds(Sr)>2||ds(mt)>3?"":" "}function Ll(Sr){for(;Ga();)switch(ds(mt)){case 0:append(rr(Xn-1),Sr);break;case 2:append(oo(mt),Sr);break;default:append(from(mt),Sr)}return Sr}function Si(Sr,li){for(;--li&&Ga()&&!(mt<48||mt>102||mt>57&&mt<65||mt>70&&mt<97););return Po(Sr,To()+(li<6&&vo()==32&&Ga()==32))}function Sn(Sr){for(;Ga();)switch(mt){case Sr:return Xn;case 34:case 39:Sr!==34&&Sr!==39&&Sn(mt);break;case 40:Sr===41&&Sn(Sr);break;case 92:Ga();break}return Xn}function Qt(Sr,li){for(;Ga()&&Sr+mt!==57;)if(Sr+mt===84&&vo()===47)break;return"/*"+Po(li,Xn-1)+"*"+jt(Sr===47?Sr:Ga())}function rr(Sr){for(;!ds(vo());)Ga();return Po(Sr,Xn)}function rt(Sr){return ks(ai("",null,null,null,[""],Sr=Za(Sr),0,[0],Sr))}function ai(Sr,li,Ci,ti,ea,mo,so,Io,Ha){for(var wo=0,zo=0,rs=so,Vo=0,Fs=0,_u=0,bs=1,Vs=1,vi=1,fa=0,ta="",fo=ea,Ko=mo,es=ti,Mo=ta;Vs;)switch(_u=fa,fa=Ga()){case 40:if(_u!=108&&$i(Mo,rs-1)==58){qi(Mo+=Gi(oo(fa),"&","&\f"),"&\f",Xt(wo?Io[wo-1]:0))!=-1&&(vi=-1);break}case 34:case 39:case 91:Mo+=oo(fa);break;case 9:case 10:case 13:case 32:Mo+=wu(_u);break;case 92:Mo+=Si(To()-1,7);continue;case 47:switch(vo()){case 42:case 47:on(_a(Qt(Ga(),To()),li,Ci,Ha),Ha),(ds(_u||1)==5||ds(vo()||1)==5)&&Ii(Mo)&&Wi(Mo,-1,void 0)!==" "&&(Mo+=" ");break;default:Mo+="/"}break;case 123*bs:Io[wo++]=Ii(Mo)*vi;case 125*bs:case 59:case 0:switch(fa){case 0:case 125:Vs=0;case 59+zo:vi==-1&&(Mo=Gi(Mo,/\f/g,"")),Fs>0&&(Ii(Mo)-rs||bs===0&&_u===47)&&on(Fs>32?Xi(Mo+";",ti,Ci,rs-1,Ha):Xi(Gi(Mo," ","")+";",ti,Ci,rs-2,Ha),Ha);break;case 59:Mo+=";";default:if(on(es=mi(Mo,li,Ci,wo,zo,ea,Io,ta,fo=[],Ko=[],rs,mo),mo),fa===123)if(zo===0)ai(Mo,li,es,es,fo,mo,rs,Io,Ko);else switch(Vo===99&&$i(Mo,3)===110?100:Vo){case 100:case 108:case 109:case 115:ai(Sr,es,es,ti&&on(mi(Sr,es,es,0,0,ea,Io,ta,ea,fo=[],rs,Ko),Ko),ea,Ko,rs,Io,ti?fo:Ko);break;default:ai(Mo,es,es,es,[""],Ko,0,Io,Ko)}}wo=zo=Fs=0,bs=vi=1,ta=Mo="",rs=so;break;case 58:rs=1+Ii(Mo),Fs=_u;default:if(bs<1){if(fa==123)--bs;else if(fa==125&&bs++==0&&Aa()==125)continue}switch(Mo+=jt(fa),fa*bs){case 38:vi=zo>0?1:(Mo+="\f",-1);break;case 44:Io[wo++]=(Ii(Mo)-1)*vi,vi=1;break;case 64:vo()===45&&(Mo+=oo(Ga())),Vo=vo(),zo=rs=Ii(ta=Mo+=rr(To())),fa++;break;case 45:_u===45&&Ii(Mo)==2&&(bs=0)}}return mo}function mi(Sr,li,Ci,ti,ea,mo,so,Io,Ha,wo,zo,rs){for(var Vo=ea-1,Fs=ea===0?mo:[""],_u=Qa(Fs),bs=0,Vs=0,vi=0;bs<ti;++bs)for(var fa=0,ta=Wi(Sr,Vo+1,Vo=Xt(Vs=so[bs])),fo=Sr;fa<_u;++fa)(fo=yr(Vs>0?Fs[fa]+" "+ta:Gi(ta,/&\f/g,Fs[fa])))&&(Ha[vi++]=fo);return tr(Sr,li,Ci,ea===0?Zt:Io,Ha,wo,zo,rs)}function _a(Sr,li,Ci,ti){return tr(Sr,li,Ci,It,jt(Ri()),Wi(Sr,2,-2),0,ti)}function Xi(Sr,li,Ci,ti,ea){return tr(Sr,li,Ci,$e,Wi(Sr,0,ti),Wi(Sr,ti+1,-1),ti,ea)}function ia(Sr,li){var Ci=li.path,ti=li.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(Ci?"Error in ".concat(Ci,": "):"").concat(Sr).concat(ti.length?" Selector: ".concat(ti.join(" | ")):""))}var ua=function(li,Ci,ti){if(li==="content"){var ea=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,mo=["normal","none","initial","inherit","unset"];(typeof Ci!="string"||mo.indexOf(Ci)===-1&&!ea.test(Ci)&&(Ci.charAt(0)!==Ci.charAt(Ci.length-1)||Ci.charAt(0)!=='"'&&Ci.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(Ci,"\"'`."),ti)}},co=null,Ro=function(li,Ci,ti){li==="animation"&&ti.hashId&&Ci!=="none"&&lintWarning("You seem to be using hashed animation '".concat(Ci,"', in which case 'animationName' with Keyframe as value is recommended."),ti)},As=null;function So(Sr){var li,Ci=((li=Sr.match(/:not\(([^)]*)\)/))===null||li===void 0?void 0:li[1])||"",ti=Ci.split(/(\[[^[]*])|(?=[.#])/).filter(function(ea){return ea});return ti.length>1}function ao(Sr){return Sr.parentSelectors.reduce(function(li,Ci){return li?Ci.includes("&")?Ci.replace(/&/g,li):"".concat(li," ").concat(Ci):Ci},"")}var Wa=function(li,Ci,ti){var ea=ao(ti),mo=ea.match(/:not\([^)]*\)/g)||[];mo.length>0&&mo.some(So)&&lintWarning("Concat ':not' selector not support in legacy browsers.",ti)},ns=null,Do=function(li,Ci,ti){switch(li){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(li,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ti);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof Ci=="string"){var ea=Ci.split(" ").map(function(Io){return Io.trim()});ea.length===4&&ea[1]!==ea[3]&&lintWarning("You seem to be using '".concat(li,"' property with different left ").concat(li," and right ").concat(li,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ti)}return;case"clear":case"textAlign":(Ci==="left"||Ci==="right")&&lintWarning("You seem to be using non-logical value '".concat(Ci,"' of ").concat(li,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ti);return;case"borderRadius":if(typeof Ci=="string"){var mo=Ci.split("/").map(function(Io){return Io.trim()}),so=mo.reduce(function(Io,Ha){if(Io)return Io;var wo=Ha.split(" ").map(function(zo){return zo.trim()});return wo.length>=2&&wo[0]!==wo[1]||wo.length===3&&wo[1]!==wo[2]||wo.length===4&&wo[2]!==wo[3]?!0:Io},!1);so&&lintWarning("You seem to be using non-logical value '".concat(Ci,"' of ").concat(li,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ti)}return;default:}},ls=null,Bs=function(li,Ci,ti){(typeof Ci=="string"&&/NaN/g.test(Ci)||Number.isNaN(Ci))&&lintWarning("Unexpected 'NaN' in property '".concat(li,": ").concat(Ci,"'."),ti)},Xo=null,wt=function(li,Ci,ti){ti.parentSelectors.some(function(ea){var mo=ea.split(",");return mo.some(function(so){return so.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",ti)},er=null,nn="data-ant-cssinjs-cache-path",wr="_FILE_STYLE__";function hi(Sr){return Object.keys(Sr).map(function(li){var Ci=Sr[li];return"".concat(li,":").concat(Ci)}).join(";")}var gi,xr=!0;function Ji(Sr){var li=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;gi=Sr,xr=li}function Ai(){if(!gi&&(gi={},(0,_n.Z)())){var Sr=document.createElement("div");Sr.className=nn,Sr.style.position="fixed",Sr.style.visibility="hidden",Sr.style.top="-9999px",document.body.appendChild(Sr);var li=getComputedStyle(Sr).content||"";li=li.replace(/^"/,"").replace(/"$/,""),li.split(";").forEach(function(ea){var mo=ea.split(":"),so=(0,B.Z)(mo,2),Io=so[0],Ha=so[1];gi[Io]=Ha});var Ci=document.querySelector("style[".concat(nn,"]"));if(Ci){var ti;xr=!1,(ti=Ci.parentNode)===null||ti===void 0||ti.removeChild(Ci)}document.body.removeChild(Sr)}}function Mi(Sr){return Ai(),!!gi[Sr]}function po(Sr){var li=gi[Sr],Ci=null;if(li&&(0,_n.Z)())if(xr)Ci=wr;else{var ti=document.querySelector("style[".concat(gt,'="').concat(gi[Sr],'"]'));ti?Ci=ti.innerHTML:delete gi[Sr]}return[Ci,li]}var ha="_skip_check_",Qo="_multi_value_";function Cs(Sr){var li=Ur(rt(Sr),Yr);return li.replace(/\{%%%\:[^;];}/g,";")}function Oo(Sr){return(0,rn.Z)(Sr)==="object"&&Sr&&(ha in Sr||Qo in Sr)}function su(Sr,li,Ci){if(!li)return Sr;var ti=".".concat(li),ea=Ci==="low"?":where(".concat(ti,")"):ti,mo=Sr.split(",").map(function(so){var Io,Ha=so.trim().split(/\s+/),wo=Ha[0]||"",zo=((Io=wo.match(/^\w+/))===null||Io===void 0?void 0:Io[0])||"";return wo="".concat(zo).concat(ea).concat(wo.slice(zo.length)),[wo].concat((0,ne.Z)(Ha.slice(1))).join(" ")});return mo.join(",")}var ru=function Sr(li){var Ci=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ti=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},ea=ti.root,mo=ti.injectHash,so=ti.parentSelectors,Io=Ci.hashId,Ha=Ci.layer,wo=Ci.path,zo=Ci.hashPriority,rs=Ci.transformers,Vo=rs===void 0?[]:rs,Fs=Ci.linters,_u=Fs===void 0?[]:Fs,bs="",Vs={};function vi(fo){var Ko=fo.getName(Io);if(!Vs[Ko]){var es=Sr(fo.style,Ci,{root:!1,parentSelectors:so}),Mo=(0,B.Z)(es,1),ys=Mo[0];Vs[Ko]="@keyframes ".concat(fo.getName(Io)).concat(ys)}}function fa(fo){var Ko=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return fo.forEach(function(es){Array.isArray(es)?fa(es,Ko):es&&Ko.push(es)}),Ko}var ta=fa(Array.isArray(li)?li:[li]);return ta.forEach(function(fo){var Ko=typeof fo=="string"&&!ea?{}:fo;if(typeof Ko=="string")bs+="".concat(Ko,`
`);else if(Ko._keyframe)vi(Ko);else{var es=Vo.reduce(function(Mo,ys){var Bc;return(ys==null||(Bc=ys.visit)===null||Bc===void 0?void 0:Bc.call(ys,Mo))||Mo},Ko);Object.keys(es).forEach(function(Mo){var ys=es[Mo];if((0,rn.Z)(ys)==="object"&&ys&&(Mo!=="animationName"||!ys._keyframe)&&!Oo(ys)){var Bc=!1,ec=Mo.trim(),ff=!1;(ea||mo)&&Io?ec.startsWith("@")?Bc=!0:ec==="&"?ec=su("",Io,zo):ec=su(Mo,Io,zo):ea&&!Io&&(ec==="&"||ec==="")&&(ec="",ff=!0);var ld=Sr(ys,Ci,{root:ff,injectHash:Bc,parentSelectors:[].concat((0,ne.Z)(so),[ec])}),Ol=(0,B.Z)(ld,2),al=Ol[0],Dl=Ol[1];Vs=(0,ue.Z)((0,ue.Z)({},Vs),Dl),bs+="".concat(ec).concat(al)}else{let $u=function(Ru,Wl){var tc=Ru.replace(/[A-Z]/g,function(cd){return"-".concat(cd.toLowerCase())}),Ec=Wl;!Ka[Ru]&&typeof Ec=="number"&&Ec!==0&&(Ec="".concat(Ec,"px")),Ru==="animationName"&&Wl!==null&&Wl!==void 0&&Wl._keyframe&&(vi(Wl),Ec=Wl.getName(Io)),bs+="".concat(tc,":").concat(Ec,";")};var Vc,Qs=(Vc=ys==null?void 0:ys.value)!==null&&Vc!==void 0?Vc:ys;(0,rn.Z)(ys)==="object"&&ys!==null&&ys!==void 0&&ys[Qo]&&Array.isArray(Qs)?Qs.forEach(function(Ru){$u(Mo,Ru)}):$u(Mo,Qs)}})}}),ea?Ha&&(bs="@layer ".concat(Ha.name," {").concat(bs,"}"),Ha.dependencies&&(Vs["@layer ".concat(Ha.name)]=Ha.dependencies.map(function(fo){return"@layer ".concat(fo,", ").concat(Ha.name,";")}).join(`
`))):bs="{".concat(bs,"}"),[bs,Vs]};function xt(Sr,li){return q("".concat(Sr.join("%")).concat(li))}function Zn(){return null}var Cr="style";function Di(Sr,li){var Ci=Sr.token,ti=Sr.path,ea=Sr.hashId,mo=Sr.layer,so=Sr.nonce,Io=Sr.clientOnly,Ha=Sr.order,wo=Ha===void 0?0:Ha,zo=K.useContext(Gt),rs=zo.autoClear,Vo=zo.mock,Fs=zo.defaultCache,_u=zo.hashPriority,bs=zo.container,Vs=zo.ssrInline,vi=zo.transformers,fa=zo.linters,ta=zo.cache,fo=zo.layer,Ko=Ci._tokenKey,es=[Ko];fo&&es.push("layer"),es.push.apply(es,(0,ne.Z)(ti));var Mo=In,ys=di(Cr,es,function(){var Ol=es.join("|");if(Mi(Ol)){var al=po(Ol),Dl=(0,B.Z)(al,2),Vc=Dl[0],Qs=Dl[1];if(Vc)return[Vc,Ko,Qs,{},Io,wo]}var $u=li(),Ru=ru($u,{hashId:ea,hashPriority:_u,layer:fo?mo:void 0,path:ti.join("-"),transformers:vi,linters:fa}),Wl=(0,B.Z)(Ru,2),tc=Wl[0],Ec=Wl[1],cd=Cs(tc),wc=xt(es,cd);return[cd,Ko,wc,Ec,Io,wo]},function(Ol,al){var Dl=(0,B.Z)(Ol,3),Vc=Dl[2];(al||rs)&&In&&(0,Y.jL)(Vc,{mark:gt})},function(Ol){var al=(0,B.Z)(Ol,4),Dl=al[0],Vc=al[1],Qs=al[2],$u=al[3];if(Mo&&Dl!==wr){var Ru={mark:gt,prepend:fo?!1:"queue",attachTo:bs,priority:wo},Wl=typeof so=="function"?so():so;Wl&&(Ru.csp={nonce:Wl});var tc=[],Ec=[];Object.keys($u).forEach(function(wc){wc.startsWith("@layer")?tc.push(wc):Ec.push(wc)}),tc.forEach(function(wc){(0,Y.hq)(Cs($u[wc]),"_layer-".concat(wc),(0,ue.Z)((0,ue.Z)({},Ru),{},{prepend:!0}))});var cd=(0,Y.hq)(Dl,Qs,Ru);cd[lt]=ta.instanceId,cd.setAttribute(yt,Ko),Ec.forEach(function(wc){(0,Y.hq)(Cs($u[wc]),"_effect-".concat(wc),Ru)})}}),Bc=(0,B.Z)(ys,3),ec=Bc[0],ff=Bc[1],ld=Bc[2];return function(Ol){var al;if(!Vs||Mo||!Fs)al=K.createElement(Zn,null);else{var Dl;al=K.createElement("style",(0,_e.Z)({},(Dl={},(0,w.Z)(Dl,yt,ff),(0,w.Z)(Dl,gt,ld),Dl),{dangerouslySetInnerHTML:{__html:ec}}))}return K.createElement(K.Fragment,null,al,Ol)}}var wa=function(li,Ci,ti){var ea=(0,B.Z)(li,6),mo=ea[0],so=ea[1],Io=ea[2],Ha=ea[3],wo=ea[4],zo=ea[5],rs=ti||{},Vo=rs.plain;if(wo)return null;var Fs=mo,_u={"data-rc-order":"prependQueue","data-rc-priority":"".concat(zo)};return Fs=bn(mo,so,Io,_u,Vo),Ha&&Object.keys(Ha).forEach(function(bs){if(!Ci[bs]){Ci[bs]=!0;var Vs=Cs(Ha[bs]),vi=bn(Vs,so,"_effect-".concat(bs),_u,Vo);bs.startsWith("@layer")?Fs=vi+Fs:Fs+=vi}}),[zo,Io,Fs]},Eo="cssVar",yo=function(li,Ci){var ti=li.key,ea=li.prefix,mo=li.unitless,so=li.ignore,Io=li.token,Ha=li.scope,wo=Ha===void 0?"":Ha,zo=(0,K.useContext)(Gt),rs=zo.cache.instanceId,Vo=zo.container,Fs=Io._tokenKey,_u=[].concat((0,ne.Z)(li.path),[ti,wo,Fs]),bs=di(Eo,_u,function(){var Vs=Ci(),vi=Ar(Vs,ti,{prefix:ea,unitless:mo,ignore:so,scope:wo}),fa=(0,B.Z)(vi,2),ta=fa[0],fo=fa[1],Ko=xt(_u,fo);return[ta,fo,Ko,ti]},function(Vs){var vi=(0,B.Z)(Vs,3),fa=vi[2];In&&(0,Y.jL)(fa,{mark:gt})},function(Vs){var vi=(0,B.Z)(Vs,3),fa=vi[1],ta=vi[2];if(fa){var fo=(0,Y.hq)(fa,ta,{mark:gt,prepend:"queue",attachTo:Vo,priority:-999});fo[lt]=rs,fo.setAttribute(yt,ti)}});return bs},Wr=function(li,Ci,ti){var ea=(0,B.Z)(li,4),mo=ea[1],so=ea[2],Io=ea[3],Ha=ti||{},wo=Ha.plain;if(!mo)return null;var zo=-999,rs={"data-rc-order":"prependQueue","data-rc-priority":"".concat(zo)},Vo=bn(mo,Io,so,rs,wo);return[zo,so,Vo]},hs=yo,Ma,iu=(Ma={},(0,w.Z)(Ma,Cr,wa),(0,w.Z)(Ma,ms,Gn),(0,w.Z)(Ma,Eo,Wr),Ma);function au(Sr){return Sr!==null}function as(Sr,li){var Ci=typeof li=="boolean"?{plain:li}:li||{},ti=Ci.plain,ea=ti===void 0?!1:ti,mo=Ci.types,so=mo===void 0?["style","token","cssVar"]:mo,Io=new RegExp("^(".concat((typeof so=="string"?[so]:so).join("|"),")%")),Ha=Array.from(Sr.cache.keys()).filter(function(Vo){return Io.test(Vo)}),wo={},zo={},rs="";return Ha.map(function(Vo){var Fs=Vo.replace(Io,"").replace(/%/g,"|"),_u=Vo.split("%"),bs=_slicedToArray(_u,1),Vs=bs[0],vi=iu[Vs],fa=vi(Sr.cache.get(Vo)[1],wo,{plain:ea});if(!fa)return null;var ta=_slicedToArray(fa,3),fo=ta[0],Ko=ta[1],es=ta[2];return Vo.startsWith("style")&&(zo[Fs]=Ko),[fo,es]}).filter(au).sort(function(Vo,Fs){var _u=_slicedToArray(Vo,1),bs=_u[0],Vs=_slicedToArray(Fs,1),vi=Vs[0];return bs-vi}).forEach(function(Vo){var Fs=_slicedToArray(Vo,2),_u=Fs[1];rs+=_u}),rs+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(zo),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),ea),rs}var $s=function(){function Sr(li,Ci){(0,le.Z)(this,Sr),(0,w.Z)(this,"name",void 0),(0,w.Z)(this,"style",void 0),(0,w.Z)(this,"_keyframe",!0),this.name=li,this.style=Ci}return(0,se.Z)(Sr,[{key:"getName",value:function(){var Ci=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ci?"".concat(Ci,"-").concat(this.name):this.name}}]),Sr}(),Xs=$s;function Lu(Sr){if(typeof Sr=="number")return[[Sr],!1];var li=String(Sr).trim(),Ci=li.match(/(.*)(!important)/),ti=(Ci?Ci[1]:li).trim().split(/\s+/),ea=[],mo=0;return[ti.reduce(function(so,Io){if(Io.includes("(")||Io.includes(")")){var Ha=Io.split("(").length-1,wo=Io.split(")").length-1;mo+=Ha-wo}return mo>=0&&ea.push(Io),mo===0&&(so.push(ea.join(" ")),ea=[]),so},[]),!!Ci]}function Mu(Sr){return Sr.notSplit=!0,Sr}var Nl={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:Mu(["borderTop","borderBottom"]),borderBlockStart:Mu(["borderTop"]),borderBlockEnd:Mu(["borderBottom"]),borderInline:Mu(["borderLeft","borderRight"]),borderInlineStart:Mu(["borderLeft"]),borderInlineEnd:Mu(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function Ks(Sr,li){var Ci=Sr;return li&&(Ci="".concat(Ci," !important")),{_skip_check_:!0,value:Ci}}var nl={visit:function(li){var Ci={};return Object.keys(li).forEach(function(ti){var ea=li[ti],mo=Nl[ti];if(mo&&(typeof ea=="number"||typeof ea=="string")){var so=Lu(ea),Io=(0,B.Z)(so,2),Ha=Io[0],wo=Io[1];mo.length&&mo.notSplit?mo.forEach(function(zo){Ci[zo]=Ks(ea,wo)}):mo.length===1?Ci[mo[0]]=Ks(Ha[0],wo):mo.length===2?mo.forEach(function(zo,rs){var Vo;Ci[zo]=Ks((Vo=Ha[rs])!==null&&Vo!==void 0?Vo:Ha[0],wo)}):mo.length===4?mo.forEach(function(zo,rs){var Vo,Fs;Ci[zo]=Ks((Vo=(Fs=Ha[rs])!==null&&Fs!==void 0?Fs:Ha[rs-2])!==null&&Vo!==void 0?Vo:Ha[0],wo)}):Ci[ti]=ea}else Ci[ti]=ea}),Ci}},hu=null,oc=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function _l(Sr,li){var Ci=Math.pow(10,li+1),ti=Math.floor(Sr*Ci);return Math.round(ti/10)*10/Ci}var Ku=function(){var li=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ci=li.rootValue,ti=Ci===void 0?16:Ci,ea=li.precision,mo=ea===void 0?5:ea,so=li.mediaQuery,Io=so===void 0?!1:so,Ha=function(rs,Vo){if(!Vo)return rs;var Fs=parseFloat(Vo);if(Fs<=1)return rs;var _u=_l(Fs/ti,mo);return"".concat(_u,"rem")},wo=function(rs){var Vo=_objectSpread({},rs);return Object.entries(rs).forEach(function(Fs){var _u=_slicedToArray(Fs,2),bs=_u[0],Vs=_u[1];if(typeof Vs=="string"&&Vs.includes("px")){var vi=Vs.replace(oc,Ha);Vo[bs]=vi}!unitless[bs]&&typeof Vs=="number"&&Vs!==0&&(Vo[bs]="".concat(Vs,"px").replace(oc,Ha));var fa=bs.trim();if(fa.startsWith("@")&&fa.includes("px")&&Io){var ta=bs.replace(oc,Ha);Vo[ta]=Vo[bs],delete Vo[bs]}}),Vo};return{visit:wo}},Cf=null,bc={supportModernCSS:function(){return Le()&&Be()}}},21777:function(cn,Ne,A){"use strict";A.d(Ne,{hj:function(){return t2},Pv:function(){return ZE},G6:function(){return B},uk:function(){return PS},B5:function(){return HE},q$:function(){return WE},OE:function(){return qb},jG:function(){return ue}});var w={};A.r(w),A.d(w,{circle:function(){return Cp},diamond:function(){return ep},rect:function(){return Nh},simple:function(){return Op},triangle:function(){return Zu},triangleRect:function(){return Ho},vee:function(){return _0}});var B={};A.r(B),A.d(B,{rk:function(){return k0},kJ:function(){return Zm},k9:function(){return tf},Wp:function(){return Vi},aH:function(){return Ul},UL:function(){return rc},jD:function(){return Wr},TA:function(){return Mo},z2:function(){return Cy},RN:function(){return yE}});var ne={};A.r(ne),A.d(ne,{ArrowCountIcon:function(){return TS},PlusMinusIcon:function(){return fg}});var ue={};A.r(ue),A.d(ue,{b:function(){return lp},TextNode:function(){return cp}});var j=A(95198),q=A(70373),Y=A(54663),K=A(87314),H=A(48758);const ae={duration:500},ie={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"},le={CHANGE:"change"};var se;(function(m){m.NodeAdded="NodeAdded",m.NodeUpdated="NodeUpdated",m.NodeRemoved="NodeRemoved",m.EdgeAdded="EdgeAdded",m.EdgeUpdated="EdgeUpdated",m.EdgeRemoved="EdgeRemoved",m.ComboAdded="ComboAdded",m.ComboUpdated="ComboUpdated",m.ComboRemoved="ComboRemoved"})(se||(se={}));var ge;(function(m){m.DRAW="draw",m.COLLAPSE="collapse",m.EXPAND="expand",m.TRANSFORM="transform"})(ge||(ge={}));var ye;(function(m){m.CLICK="canvas:click",m.DBLCLICK="canvas:dblclick",m.POINTER_OVER="canvas:pointerover",m.POINTER_LEAVE="canvas:pointerleave",m.POINTER_ENTER="canvas:pointerenter",m.POINTER_MOVE="canvas:pointermove",m.POINTER_OUT="canvas:pointerout",m.POINTER_DOWN="canvas:pointerdown",m.POINTER_UP="canvas:pointerup",m.CONTEXT_MENU="canvas:contextmenu",m.DRAG_START="canvas:dragstart",m.DRAG="canvas:drag",m.DRAG_END="canvas:dragend",m.DRAG_ENTER="canvas:dragenter",m.DRAG_OVER="canvas:dragover",m.DRAG_LEAVE="canvas:dragleave",m.DROP="canvas:drop",m.WHEEL="canvas:wheel"})(ye||(ye={}));var ve;(function(m){m.CLICK="combo:click",m.DBLCLICK="combo:dblclick",m.POINTER_OVER="combo:pointerover",m.POINTER_LEAVE="combo:pointerleave",m.POINTER_ENTER="combo:pointerenter",m.POINTER_MOVE="combo:pointermove",m.POINTER_OUT="combo:pointerout",m.POINTER_DOWN="combo:pointerdown",m.POINTER_UP="combo:pointerup",m.CONTEXT_MENU="combo:contextmenu",m.DRAG_START="combo:dragstart",m.DRAG="combo:drag",m.DRAG_END="combo:dragend",m.DRAG_ENTER="combo:dragenter",m.DRAG_OVER="combo:dragover",m.DRAG_LEAVE="combo:dragleave",m.DROP="combo:drop"})(ve||(ve={}));var fe;(function(m){m.CLICK="click",m.DBLCLICK="dblclick",m.POINTER_OVER="pointerover",m.POINTER_LEAVE="pointerleave",m.POINTER_ENTER="pointerenter",m.POINTER_MOVE="pointermove",m.POINTER_OUT="pointerout",m.POINTER_DOWN="pointerdown",m.POINTER_UP="pointerup",m.CONTEXT_MENU="contextmenu",m.DRAG_START="dragstart",m.DRAG="drag",m.DRAG_END="dragend",m.DRAG_ENTER="dragenter",m.DRAG_OVER="dragover",m.DRAG_LEAVE="dragleave",m.DROP="drop",m.KEY_DOWN="keydown",m.KEY_UP="keyup",m.WHEEL="wheel"})(fe||(fe={}));var Fe;(function(m){m.KEY_DOWN="keydown",m.KEY_UP="keyup"})(Fe||(Fe={}));var yt;(function(m){m.CLICK="edge:click",m.DBLCLICK="edge:dblclick",m.POINTER_OVER="edge:pointerover",m.POINTER_LEAVE="edge:pointerleave",m.POINTER_ENTER="edge:pointerenter",m.POINTER_MOVE="edge:pointermove",m.POINTER_OUT="edge:pointerout",m.POINTER_DOWN="edge:pointerdown",m.POINTER_UP="edge:pointerup",m.CONTEXT_MENU="edge:contextmenu",m.DRAG_ENTER="edge:dragenter",m.DRAG_OVER="edge:dragover",m.DRAG_LEAVE="edge:dragleave",m.DROP="edge:drop"})(yt||(yt={}));var gt;(function(m){m.BEFORE_CANVAS_INIT="beforecanvasinit",m.AFTER_CANVAS_INIT="aftercanvasinit",m.BEFORE_SIZE_CHANGE="beforesizechange",m.AFTER_SIZE_CHANGE="aftersizechange",m.BEFORE_ELEMENT_CREATE="beforeelementcreate",m.AFTER_ELEMENT_CREATE="afterelementcreate",m.BEFORE_ELEMENT_UPDATE="beforeelementupdate",m.AFTER_ELEMENT_UPDATE="afterelementupdate",m.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",m.AFTER_ELEMENT_DESTROY="afterelementdestroy",m.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",m.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",m.BEFORE_DRAW="beforedraw",m.AFTER_DRAW="afterdraw",m.BEFORE_RENDER="beforerender",m.AFTER_RENDER="afterrender",m.BEFORE_ANIMATE="beforeanimate",m.AFTER_ANIMATE="afteranimate",m.BEFORE_LAYOUT="beforelayout",m.AFTER_LAYOUT="afterlayout",m.BEFORE_STAGE_LAYOUT="beforestagelayout",m.AFTER_STAGE_LAYOUT="afterstagelayout",m.BEFORE_TRANSFORM="beforetransform",m.AFTER_TRANSFORM="aftertransform",m.BATCH_START="batchstart",m.BATCH_END="batchend",m.BEFORE_DESTROY="beforedestroy",m.AFTER_DESTROY="afterdestroy",m.BEFORE_RENDERER_CHANGE="beforerendererchange",m.AFTER_RENDERER_CHANGE="afterrendererchange"})(gt||(gt={}));var pt;(function(m){m.UNDO="undo",m.REDO="redo",m.CANCEL="cancel",m.ADD="add",m.CLEAR="clear",m.CHANGE="change"})(pt||(pt={}));var lt;(function(m){m.CLICK="node:click",m.DBLCLICK="node:dblclick",m.POINTER_OVER="node:pointerover",m.POINTER_LEAVE="node:pointerleave",m.POINTER_ENTER="node:pointerenter",m.POINTER_MOVE="node:pointermove",m.POINTER_OUT="node:pointerout",m.POINTER_DOWN="node:pointerdown",m.POINTER_UP="node:pointerup",m.CONTEXT_MENU="node:contextmenu",m.DRAG_START="node:dragstart",m.DRAG="node:drag",m.DRAG_END="node:dragend",m.DRAG_ENTER="node:dragenter",m.DRAG_OVER="node:dragover",m.DRAG_LEAVE="node:dragleave",m.DROP="node:drop"})(lt||(lt={}));const Ke="combo",Ue="tree";var Pt;(function(m){m.NODE="node",m.EDGE="edge",m.COMBO="combo",m.THEME="theme",m.PALETTE="palette",m.LAYOUT="layout",m.BEHAVIOR="behavior",m.PLUGIN="plugin",m.ANIMATION="animation",m.TRANSFORM="transform",m.SHAPE="shape"})(Pt||(Pt={}));const Gt={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function rn(m,s){var c;const f=(c=Gt[m])===null||c===void 0?void 0:c[s];if(f)return f}function _n(m){return EXTENSION_REGISTRY[m]}const qe="5.0.32",Nt="G6";function ft(m){return`[${Nt} v${qe}] ${m}`}const ln={mute:!1,debug:m=>{!ln.mute&&console.debug(ft(m))},info:m=>{!ln.mute&&console.info(ft(m))},warn:m=>{!ln.mute&&console.warn(ft(m))},error:m=>{!ln.mute&&console.error(ft(m))}};function tt(m){const{theme:s}=m;if(!s)return{};const c=rn(Pt.THEME,s);return c||(ln.warn(`The theme of ${s} is not registered.`),{})}function Pe(m,s){if(Array.isArray(m)&&m.length===0)return null;const c=Array.isArray(m)?m[0]:m,f=Array.isArray(m)?m.slice(1):s||[];return new Proxy(c,{get(g,_){return typeof g[_]=="function"&&!["onframe","onfinish"].includes(_)?(...O)=>{g[_](...O),f.forEach(D=>{var G;return(G=D[_])===null||G===void 0?void 0:G.call(D,...O)})}:_==="finished"?Promise.all([c.finished,...f.map(O=>O.finished)]):Reflect.get(g,_)},set(g,_,O){return["onframe","onfinish"].includes(_)||f.forEach(D=>{D[_]=O}),Reflect.set(g,_,O)}})}function Qe(m){const s=m.reduce((f,g)=>(Object.entries(g).forEach(([_,O])=>{f[_]===void 0?f[_]=[O]:f[_].push(O)}),f),{});Object.entries(s).forEach(([f,g])=>{(g.length!==m.length||g.some(_=>(0,Y.Z)(_))||g.every(_=>!["sourceNode","targetNode","childrenNode"].includes(f)&&(0,K.Z)(_,g[0])))&&delete s[f]});const c=Object.entries(s).reduce((f,[g,_])=>(_.forEach((O,D)=>{f[D]?f[D][g]=O:f[D]={[g]:O}}),f),[]);return m.length!==0&&c.length===0&&c.push({_:0},{_:0}),c}function He(m){switch(m){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function _t(m,s){const{animation:c}=m;if(c===!1||s===!1)return!1;const f=Object.assign({},ae);return(0,H.Z)(c)&&Object.assign(f,c),(0,H.Z)(s)&&Object.assign(f,s),f}function Bt(m){if(typeof m=="string"){const s=rn(Pt.ANIMATION,m);return s||(ln.warn(`The animation of ${m} is not registered.`),[])}return m}function At(m,s,c,f){var g,_;const{animation:O}=m,D=(g=m==null?void 0:m[s])===null||g===void 0?void 0:g.animation;if(D===!1)return[];const G=D==null?void 0:D[c];if(G===!1)return[];if(O===!1||f===!1)return[];const Q=(_=tt(m)[s])===null||_===void 0?void 0:_.animation,oe=(Ye=[])=>Bt(Ye).map(dt=>Object.assign(Object.assign(Object.assign(Object.assign({},ie),(0,H.Z)(O)&&O),dt),(0,H.Z)(f)&&f));if(G)return oe(G);if(!Q)return[];const Se=Q[c];return Se===!1?[]:oe(Se)}function Je(m,s,c,f){if(Array.isArray(f)){let _=!1;const O=[];for(let D=0;D<f.length;D++){const G=f[D];if(G[0]==="translate"){if(G[1]===m&&G[2]===s)return null;_=!0,O.push(["translate",m,s])}else if(G[0]==="translate3d"){if(G[1]===m&&G[2]===s&&G[3]===c)return null;_=!0,O.push(["translate3d",m,s,c])}else O.push(G)}return _||O.splice(0,0,c===0?["translate",m,s]:["translate3d",m,s,c]),O}const g=f?f.replace(/translate(3d)?\([^)]*\)/g,""):"";return c===0?`translate(${m}, ${s})${g}`:`translate3d(${m}, ${s}, ${c})${g}`}var zt=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};const mn=(m,s,c)=>{if(!c.length)return null;const[f,g]=s,_=Q=>{var oe;if(Q){const Se=m.getShape(Q);if(!Se)return null;const Ye=`get${(0,q.Z)(Q)}Style`,dt=((oe=m==null?void 0:m[Ye])===null||oe===void 0?void 0:oe.bind(m))||(Wn=>Wn),Kt=(dt==null?void 0:dt(f))||{},An=(dt==null?void 0:dt(g))||{};return{shape:Se,fromStyle:Kt,toStyle:An}}else return{shape:m,fromStyle:f,toStyle:g}};let O;const D=c.map(Q=>{var{fields:oe,shape:Se,states:Ye}=Q,dt=zt(Q,["fields","shape","states"]);const Kt=_(Se);if(!Kt)return null;const{shape:An,fromStyle:Wn,toStyle:$r}=Kt,ni=[{},{}];if(oe.forEach(pa=>{var Ia,$a;Object.assign(ni[0],{[pa]:(Ia=Wn[pa])!==null&&Ia!==void 0?Ia:He(pa)}),Object.assign(ni[1],{[pa]:($a=$r[pa])!==null&&$a!==void 0?$a:He(pa)})}),ni.some(pa=>Object.keys(pa).some(Ia=>["x","y","z"].includes(Ia)))){const{x:pa=0,y:Ia=0,z:$a=0,transform:Go=""}=An.attributes||{};ni.forEach(Jo=>{Jo.transform=Je(Jo.x||pa,Jo.y||Ia,Jo.z||$a,Go)})}const Kr=An.animate(Qe(ni),dt);return Se===void 0&&(O=Kr),Kr}).filter(Boolean),G=O||(D==null?void 0:D[0]);return G?Pe(G,D.filter(Q=>Q!==Q)):null},Ot=[{fields:["opacity"]}],Xe=[{fields:["x","y"]}],ct=[{fields:["x","y"]}],Rt=ct,Oe=[{fields:["sourceNode","targetNode"]}],Ge=Oe,Vt=[{fields:["childrenNode","x","y"]}],De=Vt,et=[{fields:["childrenNode","x","y"]}];var Ce=A(90079),J=A(18814),Le=Object.prototype.hasOwnProperty;function Jt(m,s){if(!s||!(0,J.Z)(m))return{};for(var c={},f=(0,Ce.Z)(s)?s:function(D){return D[s]},g,_=0;_<m.length;_++){var O=m[_];g=f(O),Le.call(c,g)?c[g].push(O):c[g]=[O]}return c}var Be=Jt,In=A(2170),cr=A(12637);function bn(m){return"source"in m&&"target"in m}function ir(m){return m.length===2}function Nr(m){return m.length===3}function Ar(m){return m instanceof Float32Array?!0:Array.isArray(m)&&(m.length===2||m.length===3)?m.every(s=>typeof s=="number"):!1}function Zr(m,s,c){return m>=s&&m<=c}function wi(m=0){if(Array.isArray(m)){const[s=0,c=s,f=s,g=c]=m;return[s,c,f,g]}return[m,m,m,m]}function Ln(m=0){const s=wi(m);return s[0]+s[2]}function Nn(m=0){const s=wi(m);return s[1]+s[3]}function $n(m){return m.max[0]-m.min[0]}function wn(m){return m.max[1]-m.min[1]}function nt(m){return[$n(m),wn(m)]}function ze(m,s){const c=Ar(m)?vt(m):m.getShape("key").getBounds();return s?$t(c,s):c}function vt(m){const[s,c,f=0]=m,g=new j.mN;return g.setMinMax([s,c,f],[s,c,f]),g}function $t(m,s){const[c,f,g,_]=wi(s),[O,D,G]=m.min,[Q,oe,Se]=m.max,Ye=new j.mN;return Ye.setMinMax([O-_,D-c,G],[Q+f,oe+g,Se]),Ye}function gn(m){if(m.length===0)return new j.mN;if(m.length===1)return m[0];const s=new j.mN;s.setMinMax(m[0].min,m[0].max);for(let c=1;c<m.length;c++){const f=m[c];s.setMinMax([Math.min(s.min[0],f.min[0]),Math.min(s.min[1],f.min[1]),Math.min(s.min[2],f.min[2])],[Math.max(s.max[0],f.max[0]),Math.max(s.max[1],f.max[1]),Math.max(s.max[2],f.max[2])])}return s}function at(m,s){const[c,f]=m.min,[g,_]=m.max,[O,D]=s.min,[G,Q]=s.max;return c>=O&&g<=G&&f>=D&&_<=Q}function an(m,s){return Zr(m[0],s.min[0],s.max[0])&&Zr(m[1],s.min[1],s.max[1])}function hn(m,s,c=!1){const{min:[f,g],max:[_,O]}=s,D=(m[1]===g||m[1]===O)&&(c||Zr(m[0],f,_)),G=(m[0]===f||m[0]===_)&&(c||Zr(m[1],g,O));return D||G}function pr(m,s){return!an(m,s)}function ur(m,s){const{center:c}=s;return m[0]===c[0]&&m[1]===c[1]}function pi(m,s){const[c,f]=m,[g,_]=s.min,[O,D]=s.max,G=c-g,Q=O-c,oe=f-_,Se=D-f,Ye=Math.min(G,Q,oe,Se);return Ye===G?"left":Ye===Q?"right":Ye===oe?"top":Ye===Se?"bottom":"left"}function ar(m,s){const c=(0,cr.Z)(m);if(an(m,s))switch(pi(m,s)){case"left":c[0]=s.min[0];break;case"right":c[0]=s.max[0];break;case"top":c[1]=s.min[1];break;case"bottom":c[1]=s.max[1];break}else{const[f,g]=m,[_,O]=s.min,[D,G]=s.max;c[0]=Zr(f,_,D)?f:f<_?_:D,c[1]=Zr(g,O,G)?g:g<O?O:G}return c}function di(m,s){const{center:c}=m,[f,g]=nt(m),_=s==="up"||s==="down"?c[0]:s==="right"?c[0]-f/6:c[0]+f/6,O=s==="left"||s==="right"?c[1]:s==="down"?c[1]-g/6:c[1]+g/6;return[_,O]}function sa(m,s){let[c,f]=nt(m);return[c,f]=s==="up"||s==="down"?[c,f]:[f,c],(Math.pow(f,2)-Math.pow(Math.sqrt(Math.pow(c/2,2)+Math.pow(f,2))-c/2,2))/(2*f)}function xa(m){const{min:[s,c],max:[f,g]}=m,_=[s,g],O=[f,g],D=[f,c],G=[s,c];return[[_,O],[O,D],[D,G],[G,_]]}var za=function(s,c){var f=s.nodes,g=s.edges,_=[],O={};if(!f)throw new Error("invalid nodes data!");return f&&f.forEach(function(D,G){O[D.id]=G;var Q=[];_.push(Q)}),g&&g.forEach(function(D){var G=D.source,Q=D.target,oe=O[G],Se=O[Q];!oe&&oe!==0||!Se&&Se!==0||(_[oe][Se]=1,c||(_[Se][oe]=1))}),_},Ui=za,Ao=function(s,c){return s===c},fs=function(){function m(s,c){c===void 0&&(c=null),this.value=s,this.next=c}return m.prototype.toString=function(s){return s?s(this.value):"".concat(this.value)},m}(),cs=function(){function m(s){s===void 0&&(s=Ao),this.head=null,this.tail=null,this.compare=s}return m.prototype.prepend=function(s){var c=new fs(s,this.head);return this.head=c,this.tail||(this.tail=c),this},m.prototype.append=function(s){var c=new fs(s);return this.head?(this.tail.next=c,this.tail=c,this):(this.head=c,this.tail=c,this)},m.prototype.delete=function(s){if(!this.head)return null;for(var c=null;this.head&&this.compare(this.head.value,s);)c=this.head,this.head=this.head.next;var f=this.head;if(f!==null)for(;f.next;)this.compare(f.next.value,s)?(c=f.next,f.next=f.next.next):f=f.next;return this.compare(this.tail.value,s)&&(this.tail=f),c},m.prototype.find=function(s){var c=s.value,f=c===void 0?void 0:c,g=s.callback,_=g===void 0?void 0:g;if(!this.head)return null;for(var O=this.head;O;){if(_&&_(O.value)||f!==void 0&&this.compare(O.value,f))return O;O=O.next}return null},m.prototype.deleteTail=function(){var s=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,s;for(var c=this.head;c.next;)c.next.next?c=c.next:c.next=null;return this.tail=c,s},m.prototype.deleteHead=function(){if(!this.head)return null;var s=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),s},m.prototype.fromArray=function(s){var c=this;return s.forEach(function(f){return c.append(f)}),this},m.prototype.toArray=function(){for(var s=[],c=this.head;c;)s.push(c),c=c.next;return s},m.prototype.reverse=function(){for(var s=this.head,c=null,f=null;s;)f=s.next,s.next=c,c=s,s=f;this.tail=this.head,this.head=c},m.prototype.toString=function(s){return s===void 0&&(s=void 0),this.toArray().map(function(c){return c.toString(s)}).toString()},m}(),ra=cs,ms=function(){function m(){this.linkedList=new ra}return m.prototype.isEmpty=function(){return!this.linkedList.head},m.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},m.prototype.enqueue=function(s){this.linkedList.append(s)},m.prototype.dequeue=function(){var s=this.linkedList.deleteHead();return s?s.value:null},m.prototype.toString=function(s){return this.linkedList.toString(s)},m}(),xi=ms,Gn=function(s,c,f){c===void 0&&(c=[]);var g=c.filter(function(G){return G.source===s||G.target===s});if(f==="target"){var _=function(Q){return Q.source===s};return g.filter(_).map(function(G){return G.target})}if(f==="source"){var O=function(Q){return Q.target===s};return g.filter(O).map(function(G){return G.source})}var D=function(Q){return Q.source===s?Q.target:Q.source};return g.map(D)},_e=function(s,c){return c.filter(function(f){return f.source===s})},oi=function(s,c){return c.filter(function(f){return f.source===s||f.target===s})},Ka=function(s){s===void 0&&(s=0);var c="".concat(Math.random()).split(".")[1].substr(0,5),f="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(s,"-").concat(c).concat(f)};function Cn(m){m===void 0&&(m={});var s=m,c=function(){},f=function(){var g={};return function(_){var O=_.next,D=O;return g[D]?!1:(g[D]=!0,!0)}}();return s.allowTraversal=m.allowTraversal||f,s.enter=m.enter||c,s.leave=m.leave||c,s}var Un=function(s,c,f,g){g===void 0&&(g=!0);var _=Cn(f),O=new xi,D=s.edges,G=D===void 0?[]:D;O.enqueue(c);for(var Q="",oe=function(){var Ye=O.dequeue();_.enter({current:Ye,previous:Q}),Gn(Ye,G,g?"target":void 0).forEach(function(dt){_.allowTraversal({previous:Q,current:Ye,next:dt})&&O.enqueue(dt)}),_.leave({current:Ye,previous:Q}),Q=Ye};!O.isEmpty();)oe()},tn=Un,It=function(s){for(var c=s.nodes,f=c===void 0?[]:c,g=s.edges,_=g===void 0?[]:g,O=[],D={},G=[],Q=function dt(Kt){G.push(Kt),D[Kt.id]=!0;for(var An=Gn(Kt.id,_),Wn=function(Kr){var pa=An[Kr];if(!D[pa]){var Ia=f.filter(function($a){return $a.id===pa});Ia.length>0&&dt(Ia[0])}},$r=0;$r<An.length;++$r)Wn($r)},oe=0;oe<f.length;oe++){var Se=f[oe];if(!D[Se.id]){Q(Se);for(var Ye=[];G.length>0;)Ye.push(G.pop());O.push(Ye)}}return O},Zt=function(s){for(var c=s.nodes,f=c===void 0?[]:c,g=s.edges,_=g===void 0?[]:g,O=[],D={},G={},Q={},oe=[],Se=0,Ye=function Wn($r){G[$r.id]=Se,Q[$r.id]=Se,Se+=1,O.push($r),D[$r.id]=!0;for(var ni=Gn($r.id,_,"target").filter(function(Go){return f.map(function(Jo){return Jo.id}).indexOf(Go)>-1}),Kr=function(Jo){var Rs=ni[Jo];if(!G[Rs]&&G[Rs]!==0){var Fu=f.filter(function(fl){return fl.id===Rs});Fu.length>0&&Wn(Fu[0]),Q[$r.id]=Math.min(Q[$r.id],Q[Rs])}else D[Rs]&&(Q[$r.id]=Math.min(Q[$r.id],G[Rs]))},pa=0;pa<ni.length;pa++)Kr(pa);if(Q[$r.id]===G[$r.id]){for(var Ia=[];O.length>0;){var $a=O.pop();if(D[$a.id]=!1,Ia.push($a),$a===$r)break}Ia.length>0&&oe.push(Ia)}},dt=0,Kt=f;dt<Kt.length;dt++){var An=Kt[dt];!G[An.id]&&G[An.id]!==0&&Ye(An)}return oe};function $e(m,s){return s?Zt(m):It(m)}var Bn=function(s){var c={},f=s.nodes,g=f===void 0?[]:f,_=s.edges,O=_===void 0?[]:_;return g.forEach(function(D){c[D.id]={degree:0,inDegree:0,outDegree:0}}),O.forEach(function(D){c[D.source].degree++,c[D.source].outDegree++,c[D.target].degree++,c[D.target].inDegree++}),c},Yn=Bn,or=function(s,c){var f=Bn(s);return f[c]?Bn(s)[c].inDegree:0},Ze=function(s,c){var f=Bn(s);return f[c]?Bn(s)[c].outDegree:0};function je(m){m===void 0&&(m={});var s=m,c=function(){},f=function(){var g={};return function(_){var O=_.next;return g[O]?!1:(g[O]=!0,!0)}}();return s.allowTraversal=m.allowTraversal||f,s.enter=m.enter||c,s.leave=m.leave||c,s}function st(m,s,c,f,g){g===void 0&&(g=!0),f.enter({current:s,previous:c});var _=m.edges,O=_===void 0?[]:_;Gn(s,O,g?"target":void 0).forEach(function(D){f.allowTraversal({previous:c,current:s,next:D})&&st(m,D,s,f,g)}),f.leave({current:s,previous:c})}function St(m,s,c,f){f===void 0&&(f=!0),st(m,s,"",je(c),f)}var En=function(s){var c=null,f=s.nodes,g=f===void 0?[]:f,_={},O={},D={},G={};g.forEach(function(Se){O[Se.id]=Se});for(var Q={enter:function(Ye){var dt=Ye.current,Kt=Ye.previous;if(D[dt]){c={};for(var An=dt,Wn=Kt;Wn!==dt;)c[An]=Wn,An=Wn,Wn=_[Wn];c[An]=Wn}else D[dt]=dt,delete O[dt],_[dt]=Kt},leave:function(Ye){var dt=Ye.current;G[dt]=dt,delete D[dt]},allowTraversal:function(Ye){var dt=Ye.next;return c?!1:!G[dt]}};Object.keys(O).length;){var oe=Object.keys(O)[0];St(s,oe,Q)}return c},fn=function(s,c,f){var g,_;f===void 0&&(f=!0);for(var O=[],D=$e(s,!1),G=0,Q=D;G<Q.length;G++){var oe=Q[G];if(oe.length)for(var Se=oe[0],Ye=Se.id,dt=[Se],Kt=(g={},g[Ye]=Se,g),An=(_={},_[Ye]=new Set,_);dt.length>0;)for(var Wn=dt.pop(),$r=Wn.id,ni=Gn($r,s.edges),Kr=function($a){var Go,Jo=ni[$a],Rs=s.nodes.find(function(mc){return mc.id===Jo});if(Jo===$r)O.push((Go={},Go[Jo]=Wn,Go));else if(!(Jo in An))Kt[Jo]=Wn,dt.push(Rs),An[Jo]=new Set([Wn]);else if(!An[$r].has(Rs)){for(var Fu=!0,fl=[Rs,Wn],Ou=Kt[$r];An[Jo].size&&!An[Jo].has(Ou)&&(fl.push(Ou),Ou!==Kt[Ou.id]);)Ou=Kt[Ou.id];if(fl.push(Ou),c&&f?(Fu=!1,fl.findIndex(function(mc){return c.indexOf(mc.id)>-1})>-1&&(Fu=!0)):c&&!f&&fl.findIndex(function(mc){return c.indexOf(mc.id)>-1})>-1&&(Fu=!1),Fu){for(var vf={},gc=1;gc<fl.length;gc+=1)vf[fl[gc-1].id]=fl[gc];fl.length&&(vf[fl[fl.length-1].id]=fl[0]),O.push(vf)}An[Jo].add(Wn)}},pa=0;pa<ni.length;pa+=1)Kr(pa)}return O},sn=function(s,c,f){f===void 0&&(f=!0);for(var g=[],_=new Set,O=[],D=[],G={},Q={},oe=function(Ou){for(var vf=[Ou];vf.length>0;){var gc=vf.pop();_.has(gc)&&(_.delete(gc),O[gc.id].forEach(function(mc){vf.push(mc)}),O[gc.id].clear())}},Se=function fl(Ou,vf,gc){var mc=!1;if(c&&f===!1&&c.indexOf(Ou.id)>-1)return mc;g.push(Ou),_.add(Ou);for(var Lc=gc[Ou.id],lf=0;lf<Lc.length;lf+=1){var jc=G[Lc[lf]];if(jc===vf){for(var zs={},Uu=1;Uu<g.length;Uu+=1)zs[g[Uu-1].id]=g[Uu];g.length&&(zs[g[g.length-1].id]=g[0]),D.push(zs),mc=!0}else _.has(jc)||fl(jc,vf,gc)&&(mc=!0)}if(mc)oe(Ou);else for(var lf=0;lf<Lc.length;lf+=1){var jc=G[Lc[lf]];O[jc.id].has(Ou)||O[jc.id].add(Ou)}return g.pop(),mc},Ye=s.nodes,dt=Ye===void 0?[]:Ye,Kt=0;Kt<dt.length;Kt+=1){var An=dt[Kt],Wn=An.id;Q[Wn]=Kt,G[Kt]=An}if(c&&f)for(var $r=function(Ou){var vf=c[Ou];Q[dt[Ou].id]=Q[vf],Q[vf]=0,G[0]=dt.find(function(gc){return gc.id===vf}),G[Q[dt[Ou].id]]=dt[Ou]},Kt=0;Kt<c.length;Kt++)$r(Kt);for(var ni=function(Ou){for(var vf,gc,mc=1/0,Lc=0;Lc<Ou.length;Lc+=1)for(var lf=Ou[Lc],jc=0;jc<lf.length;jc++){var zs=Q[lf[jc].id];zs<mc&&(mc=zs,gc=Lc)}for(var Uu=Ou[gc],ml=[],Lc=0;Lc<Uu.length;Lc+=1){var Zl=Uu[Lc];ml[Zl.id]=[];for(var Pl=0,Dd=Gn(Zl.id,s.edges,"target").filter(function(F0){return Uu.map(function(u0){return u0.id}).indexOf(F0)>-1});Pl<Dd.length;Pl++){var kd=Dd[Pl];kd===Zl.id&&!(f===!1&&c.indexOf(Zl.id)>-1)?D.push((vf={},vf[Zl.id]=Zl,vf)):ml[Zl.id].push(Q[kd])}}return{component:Uu,adjList:ml,minIdx:mc}},Kr=0;Kr<dt.length;){var pa=dt.filter(function(fl){return Q[fl.id]>=Kr}),Ia=Zt({nodes:pa,edges:s.edges}).filter(function(fl){return fl.length>1});if(Ia.length===0)break;var $a=ni(Ia),Go=$a.minIdx,Jo=$a.adjList,Rs=$a.component;if(Rs.length>1){Rs.forEach(function(fl){O[fl.id]=new Set});var Fu=G[Go];if(c&&f&&c.indexOf(Fu.id)===-1)return D;Se(Fu,Fu,Jo),Kr=Go+1}else break}return D},Pn=function(s,c,f,g){return g===void 0&&(g=!0),c?sn(s,f,g):fn(s,f,g)},Hn=En,Ut=A(15767),Yt=A(69499),Xt=function(s,c,f){for(var g=1/0,_,O=0;O<c.length;O++){var D=c[O].id;!f[D]&&s[D]<=g&&(g=s[D],_=c[O])}return _},jt=function(s,c,f,g){var _=s.nodes,O=_===void 0?[]:_,D=s.edges,G=D===void 0?[]:D,Q=[],oe={},Se={},Ye={};O.forEach(function(Kr,pa){var Ia=Kr.id;Q.push(Ia),Se[Ia]=1/0,Ia===c&&(Se[Ia]=0)});for(var dt=O.length,Kt=function(pa){var Ia=Xt(Se,O,oe),$a=Ia.id;if(oe[$a]=!0,Se[$a]===1/0)return"continue";var Go=[];f?Go=_e($a,G):Go=oi($a,G),Go.forEach(function(Jo){var Rs=Jo.target,Fu=Jo.source,fl=Rs===$a?Fu:Rs,Ou=g&&Jo[g]?Jo[g]:1;Se[fl]>Se[Ia.id]+Ou?(Se[fl]=Se[Ia.id]+Ou,Ye[fl]=[Ia.id]):Se[fl]===Se[Ia.id]+Ou&&Ye[fl].push(Ia.id)})},An=0;An<dt;An++)Kt(An);Ye[c]=[c];var Wn={};for(var $r in Se)Se[$r]!==1/0&&vr(c,$r,Ye,Wn);var ni={};for(var $r in Wn)ni[$r]=Wn[$r][0];return{length:Se,path:ni,allPath:Wn}},fr=jt;function vr(m,s,c,f){if(m===s)return[m];if(f[s])return f[s];for(var g=[],_=0,O=c[s];_<O.length;_++){var D=O[_],G=vr(m,D,c,f);if(!G)return;for(var Q=0,oe=G;Q<oe.length;Q++){var Se=oe[Q];(0,Yt.kJ)(Se)?g.push((0,Ut.ev)((0,Ut.ev)([],Se,!0),[s],!1)):g.push([Se,s])}}return f[s]=g,f[s]}var yr=function(s,c,f,g,_){var O=fr(s,c,g,_),D=O.length,G=O.path,Q=O.allPath;return{length:D[f],path:G[f],allPath:Q[f]}},Br=function(s,c,f,g){var _;if(c===f)return[[c]];var O=s.edges,D=O===void 0?[]:O,G=[c],Q=(_={},_[c]=!0,_),oe=[],Se=[],Ye=g?Gn(c,D,"target"):Gn(c,D);for(oe.push(Ye);G.length>0&&oe.length>0;){var dt=oe[oe.length-1];if(dt.length){var Kt=dt.shift();Kt&&(G.push(Kt),Q[Kt]=!0,Ye=g?Gn(Kt,D,"target"):Gn(Kt,D),oe.push(Ye.filter(function($r){return!Q[$r]})))}else{var An=G.pop();Q[An]=!1,oe.pop();continue}if(G[G.length-1]===f){var Wn=G.map(function(ni){return ni});Se.push(Wn);var An=G.pop();Q[An]=!1,oe.pop()}}return Se},Gi=function(s,c){for(var f=Ui(s,c),g=[],_=f.length,O=0;O<_;O+=1){g[O]=[];for(var D=0;D<_;D+=1)O===D?g[O][D]=0:f[O][D]===0||!f[O][D]?g[O][D]=1/0:g[O][D]=f[O][D]}for(var G=0;G<_;G+=1)for(var O=0;O<_;O+=1)for(var D=0;D<_;D+=1)g[O][D]>g[O][G]+g[G][D]&&(g[O][D]=g[O][G]+g[G][D]);return g},qi=Gi,$i=function(s,c,f,g){c===void 0&&(c=!1),f===void 0&&(f="weight"),g===void 0&&(g=1e3);var _=s.nodes,O=_===void 0?[]:_,D=s.edges,G=D===void 0?[]:D,Q={},oe={};O.forEach(function(pa,Ia){var $a=Ka();pa.clusterId=$a,Q[$a]={id:$a,nodes:[pa]},oe[pa.id]={node:pa,idx:Ia}});var Se=Ui(s,c),Ye=[],dt={};Se.forEach(function(pa,Ia){var $a=0,Go=O[Ia].id;dt[Go]={},pa.forEach(function(Jo,Rs){if(Jo){$a+=Jo;var Fu=O[Rs].id;dt[Go][Fu]=Jo}}),Ye.push($a)});for(var Kt=0,An=function(){var Ia=!1;if(O.forEach(function($a){var Go={};Object.keys(dt[$a.id]).forEach(function(mc){var Lc=dt[$a.id][mc],lf=oe[mc].node,jc=lf.clusterId;Go[jc]||(Go[jc]=0),Go[jc]+=Lc});var Jo=-1/0,Rs=[];if(Object.keys(Go).forEach(function(mc){Jo<Go[mc]?(Jo=Go[mc],Rs=[mc]):Jo===Go[mc]&&Rs.push(mc)}),!(Rs.length===1&&Rs[0]===$a.clusterId)){var Fu=Rs.indexOf($a.clusterId);if(Fu>=0&&Rs.splice(Fu,1),Rs&&Rs.length){Ia=!0;var fl=Q[$a.clusterId],Ou=fl.nodes.indexOf($a);fl.nodes.splice(Ou,1);var vf=Math.floor(Math.random()*Rs.length),gc=Q[Rs[vf]];gc.nodes.push($a),$a.clusterId=gc.id}}}),!Ia)return"break";Kt++};Kt<g;){var Wn=An();if(Wn==="break")break}Object.keys(Q).forEach(function(pa){var Ia=Q[pa];(!Ia.nodes||!Ia.nodes.length)&&delete Q[pa]});var $r=[],ni={};G.forEach(function(pa){var Ia=pa.source,$a=pa.target,Go=pa[f]||1,Jo=oe[Ia].node.clusterId,Rs=oe[$a].node.clusterId,Fu="".concat(Jo,"---").concat(Rs);if(ni[Fu])ni[Fu].weight+=Go,ni[Fu].count++;else{var fl={source:Jo,target:Rs,weight:Go,count:1};ni[Fu]=fl,$r.push(fl)}});var Kr=[];return Object.keys(Q).forEach(function(pa){Kr.push(Q[pa])}),{clusters:Kr,clusterEdges:$r}},Wi=$i,Ii=function(){function m(s){this.arr=s}return m.prototype.getArr=function(){return this.arr||[]},m.prototype.add=function(s){var c,f=s.arr;if(!(!((c=this.arr)===null||c===void 0)&&c.length))return new m(f);if(!(f!=null&&f.length))return new m(this.arr);if(this.arr.length===f.length){var g=[];for(var _ in this.arr)g[_]=this.arr[_]+f[_];return new m(g)}},m.prototype.subtract=function(s){var c,f=s.arr;if(!(!((c=this.arr)===null||c===void 0)&&c.length))return new m(f);if(!(f!=null&&f.length))return new m(this.arr);if(this.arr.length===f.length){var g=[];for(var _ in this.arr)g[_]=this.arr[_]-f[_];return new m(g)}},m.prototype.avg=function(s){var c=[];if(s!==0)for(var f in this.arr)c[f]=this.arr[f]/s;return new m(c)},m.prototype.negate=function(){var s=[];for(var c in this.arr)s[c]=-this.arr[c];return new m(s)},m.prototype.squareEuclideanDistance=function(s){var c,f=s.arr;if(!(!((c=this.arr)===null||c===void 0)&&c.length)||!(f!=null&&f.length))return 0;if(this.arr.length===f.length){var g=0;for(var _ in this.arr)g+=Math.pow(this.arr[_]-s.arr[_],2);return g}},m.prototype.euclideanDistance=function(s){var c,f=s.arr;if(!(!((c=this.arr)===null||c===void 0)&&c.length)||!(f!=null&&f.length))return 0;if(this.arr.length===f.length){var g=0;for(var _ in this.arr)g+=Math.pow(this.arr[_]-s.arr[_],2);return Math.sqrt(g)}else console.error("The two vectors are unequal in length.")},m.prototype.normalize=function(){var s=[],c=(0,Yt.d9)(this.arr);c.sort(function(O,D){return O-D});var f=c[c.length-1],g=c[0];for(var _ in this.arr)s[_]=(this.arr[_]-g)/(f-g);return new m(s)},m.prototype.norm2=function(){var s;if(!(!((s=this.arr)===null||s===void 0)&&s.length))return 0;var c=0;for(var f in this.arr)c+=Math.pow(this.arr[f],2);return Math.sqrt(c)},m.prototype.dot=function(s){var c,f=s.arr;if(!(!((c=this.arr)===null||c===void 0)&&c.length)||!(f!=null&&f.length))return 0;if(this.arr.length===f.length){var g=0;for(var _ in this.arr)g+=this.arr[_]*s.arr[_];return g}else console.error("The two vectors are unequal in length.")},m.prototype.equal=function(s){var c,f=s.arr;if(((c=this.arr)===null||c===void 0?void 0:c.length)!==(f==null?void 0:f.length))return!1;for(var g in this.arr)if(this.arr[g]!==f[g])return!1;return!0},m}(),Qa=Ii,on=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,dn=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,jn=function(s,c){s===void 0&&(s=[]),c===void 0&&(c=100);var f={};s.forEach(function(_){_.properties&&Object.keys(_.properties).forEach(function(O){if(O==="id"||!"".concat(_.properties[O]).match(on)&&!"".concat(_.properties[O]).match(dn)&&isNaN(Number(_.properties[O]))){f.hasOwnProperty(O)&&delete f[O];return}f.hasOwnProperty(O)?f[O]+=1:f[O]=1})});var g=Object.keys(f).sort(function(_,O){return f[O]-f[_]});return g.length<c?g:g.slice(0,c)},Ur=function(s,c){return c.map(function(f){return s.hasOwnProperty(f)?s[f]:0})},Yr=function(s){for(var c=jn(s),f=[],g=0;g<s.length;g++)f[g]=Ur(s[g].properties,c);return f},Et=function(s,c){c===void 0&&(c=void 0);var f=[];return s.forEach(function(g){c===void 0&&f.push(g),g[c]!==void 0&&f.push(g[c])}),f},Ct={getAllSortProperties:jn,getPropertyWeight:Yr,getAllProperties:Et},xn;(function(m){m.EuclideanDistance="euclideanDistance"})(xn||(xn={}));var Xn=function(s,c,f){var g=[];c!=null&&c.length?g=c:(s.forEach(function(O){g=g.concat(Object.keys(O))}),g=(0,Yt.jj)(g));var _={};return g.forEach(function(O){var D=[];s.forEach(function(G){G[O]!==void 0&&G[O]!==""&&D.push(G[O])}),D.length&&!(f!=null&&f.includes(O))&&(_[O]=(0,Yt.jj)(D))}),_},mt=function(s,c,f){var g=Xn(s,c,f),_=[];if(!Object.keys(g).length)return _;var O=Object.values(g),D=O.every(function(G){return G.every(function(Q){return typeof Q=="number"})});return s.forEach(function(G,Q){var oe=[];Object.keys(g).forEach(function(Se){var Ye=G[Se],dt=g[Se],Kt=dt.findIndex(function($r){return Ye===$r}),An=[];if(D)An.push(Ye);else for(var Wn=0;Wn<dt.length;Wn++)Wn===Kt?An.push(1):An.push(0);oe=oe.concat(An)}),_[Q]=oe}),_},vn=function(s,c,f,g){f===void 0&&(f=xn.EuclideanDistance);var _=0;switch(f){case xn.EuclideanDistance:_=new Qa(s).euclideanDistance(new Qa(c));break;default:break}return _},tr={getAllKeyValueMap:Xn,oneHot:mt,getDistance:vn},Mr=function(s,c,f,g){for(var _=c.length,O=2*g,D=0,G=0;G<_;G++)for(var Q=s[G].clusterId,oe=0;oe<_;oe++){var Se=s[oe].clusterId;if(Q===Se){var Ye=c[G][oe]||0,dt=f[G]||0,Kt=f[oe]||0;D+=Ye-dt*Kt/O}}return D*=1/O,D},ui=function(s,c){s===void 0&&(s=[]);for(var f=s.length,g=new Qa([]),_=0;_<f;_++)g=g.add(new Qa(c[_]));var O=g.avg(f);O.normalize();for(var D=0,_=0;_<f;_++){var G=new Qa(c[_]),Q=G.squareEuclideanDistance(O);D+=Q}var oe=[];s.forEach(function(){oe.push([])});for(var _=0;_<f;_++){var G=new Qa(c[_]);s[_].clusterInertial=0;for(var Se=0;Se<f;Se++){if(_===Se){oe[_][Se]=0;continue}var Ye=new Qa(c[Se]);oe[_][Se]=G.squareEuclideanDistance(Ye),s[_].clusterInertial+=oe[_][Se]}}for(var dt=0,Kt=2*f*D,_=0;_<f;_++)for(var An=s[_].clusterId,Se=0;Se<f;Se++){var Wn=s[Se].clusterId;if(!(_===Se||An!==Wn)){var $r=s[_].clusterInertial*s[Se].clusterInertial/Math.pow(Kt,2)-oe[_][Se]/Kt;dt+=$r}}return Number(dt.toFixed(4))},Ri=function(s,c,f,g,_,O,D,G,Q){c===void 0&&(c=!1),f===void 0&&(f="weight"),g===void 0&&(g=1e-4),_===void 0&&(_=!1),O===void 0&&(O=void 0),D===void 0&&(D=[]),G===void 0&&(G=["id"]),Q===void 0&&(Q=1);var oe=s.nodes,Se=oe===void 0?[]:oe,Ye=s.edges,dt=Ye===void 0?[]:Ye,Kt=[];if(_){Se.forEach(function(zs,Uu){zs.properties=zs.properties||{},zs.originIndex=Uu});var An=[];Se.every(function(zs){return zs.hasOwnProperty("nodeType")})&&(An=Array.from(new Set(Se.map(function(zs){return zs.nodeType}))),Se.forEach(function(zs){zs.properties.nodeType=An.findIndex(function(Uu){return Uu===zs.nodeType})}));var Wn=Et(Se,O);Kt=mt(Wn,D,G)}var $r=1,ni={},Kr={};Se.forEach(function(zs,Uu){var ml=String($r++);zs.clusterId=ml,ni[ml]={id:ml,nodes:[zs]},Kr[zs.id]={node:zs,idx:Uu}});var pa=Ui(s,c),Ia=[],$a={},Go=0;pa.forEach(function(zs,Uu){var ml=0,Zl=Se[Uu].id;$a[Zl]={},zs.forEach(function(Pl,Dd){if(Pl){ml+=Pl;var kd=Se[Dd].id;$a[Zl][kd]=Pl,Go+=Pl}}),Ia.push(ml)}),Go/=2;for(var Jo=1/0,Rs=1/0,Fu=0,fl=[],Ou={};;){_&&Se.every(function(zs){return zs.hasOwnProperty("properties")})?Jo=Mr(Se,pa,Ia,Go)+ui(Se,Kt)*Q:Jo=Mr(Se,pa,Ia,Go),Fu===0&&(Rs=Jo,fl=Se,Ou=ni);var vf=Jo>0&&Jo>Rs&&Jo-Rs<g;if(Jo>Rs&&(fl=Se.map(function(zs){return{node:zs,clusterId:zs.clusterId}}),Ou=(0,Yt.d9)(ni),Rs=Jo),vf||Fu>100)break;Fu++,Object.keys(ni).forEach(function(zs){var Uu=0;dt.forEach(function(ml){var Zl=ml.source,Pl=ml.target,Dd=Kr[Zl].node.clusterId,kd=Kr[Pl].node.clusterId;(Dd===zs&&kd!==zs||kd===zs&&Dd!==zs)&&(Uu=Uu+(ml[f]||1))}),ni[zs].sumTot=Uu}),Se.forEach(function(zs,Uu){var ml=ni[zs.clusterId],Zl=0,Pl,Dd=Ia[Uu]/(2*Go),kd=0,Y0=ml.nodes;Y0.forEach(function(l0){var jh=Kr[l0.id].idx;kd+=pa[Uu][jh]||0});var F0=kd-ml.sumTot*Dd,u0=Y0.filter(function(l0){return l0.id!==zs.id}),Nf=[];u0.forEach(function(l0,jh){Nf[jh]=Kt[l0.originIndex]});var e0=ui(u0,Kt)*Q,Dp=$a[zs.id];if(Object.keys(Dp).forEach(function(l0){var jh=Kr[l0].node,Km=jh.clusterId;if(Km!==zs.clusterId){var dp=ni[Km],kp=dp.nodes;if(!(!kp||!kp.length)){var $l=0;kp.forEach(function(kf){var Qf=Kr[kf.id].idx;$l+=pa[Uu][Qf]||0});var Df=$l-dp.sumTot*Dd,Ac=kp.concat([zs]),Hf=[];Ac.forEach(function(kf,Qf){Hf[Qf]=Kt[kf.originIndex]});var qd=ui(Ac,Kt)*Q,zu=Df-F0;_&&(zu=Df+qd-(F0+e0)),zu>Zl&&(Zl=zu,Pl=dp)}}}),Zl>0){Pl.nodes.push(zs);var Zh=zs.clusterId;zs.clusterId=Pl.id;var Vv=ml.nodes.indexOf(zs);ml.nodes.splice(Vv,1);var $0=0,r_=0;dt.forEach(function(l0){var jh=l0.source,Km=l0.target,dp=Kr[jh].node.clusterId,kp=Kr[Km].node.clusterId;(dp===Pl.id&&kp!==Pl.id||kp===Pl.id&&dp!==Pl.id)&&($0=$0+(l0[f]||1)),(dp===Zh&&kp!==Zh||kp===Zh&&dp!==Zh)&&(r_=r_+(l0[f]||1))}),Pl.sumTot=$0,ml.sumTot=r_}})}var gc={},mc=0;Object.keys(Ou).forEach(function(zs){var Uu=Ou[zs];if(!Uu.nodes||!Uu.nodes.length){delete Ou[zs];return}var ml=String(mc+1);ml!==zs&&(Uu.id=ml,Uu.nodes=Uu.nodes.map(function(Zl){return{id:Zl.id,clusterId:ml}}),Ou[ml]=Uu,gc[zs]=ml,delete Ou[zs],mc++)}),fl.forEach(function(zs){var Uu=zs.node,ml=zs.clusterId;Uu&&(Uu.clusterId=ml,Uu.clusterId&&gc[Uu.clusterId]&&(Uu.clusterId=gc[Uu.clusterId]))});var Lc=[],lf={};dt.forEach(function(zs){var Uu=zs.source,ml=zs.target,Zl=zs[f]||1,Pl=Kr[Uu].node.clusterId,Dd=Kr[ml].node.clusterId;if(!(!Pl||!Dd)){var kd="".concat(Pl,"---").concat(Dd);if(lf[kd])lf[kd].weight+=Zl,lf[kd].count++;else{var Y0={source:Pl,target:Dd,weight:Zl,count:1};lf[kd]=Y0,Lc.push(Y0)}}});var jc=[];return Object.keys(Ou).forEach(function(zs){jc.push(Ou[zs])}),{clusters:jc,clusterEdges:Lc}},Aa=Ri,Ga=function(s,c,f,g,_,O,D,G){return c===void 0&&(c=!1),f===void 0&&(f="weight"),g===void 0&&(g=1e-4),_===void 0&&(_=void 0),O===void 0&&(O=[]),D===void 0&&(D=["id"]),G===void 0&&(G=1),Aa(s,c,f,g,!0,_,O,D,G)},vo=Ga,To=function(s,c){var f;c===void 0&&(c=1);for(var g=(0,Yt.d9)(s),_=g.nodes,O=_===void 0?[]:_,D=g.edges,G=D===void 0?[]:D,Q=function(){var Ye=Yn({nodes:O,edges:G}),dt=Object.keys(Ye);dt.sort(function(Wn,$r){var ni,Kr;return((ni=Ye[Wn])===null||ni===void 0?void 0:ni.degree)-((Kr=Ye[$r])===null||Kr===void 0?void 0:Kr.degree)});var Kt=dt[0];if(!O.length||((f=Ye[Kt])===null||f===void 0?void 0:f.degree)>=c)return"break";var An=O.findIndex(function(Wn){return Wn.id===Kt});O.splice(An,1),G=G.filter(function(Wn){return!(Wn.source===Kt||Wn.target===Kt)})};;){var oe=Q();if(oe==="break")break}return{nodes:O,edges:G}},Po=To,ds=function(s,c,f){var g=[];switch(s){case xn.EuclideanDistance:g=c[f];break;default:g=[];break}return g},Za=function(s,c,f,g,_,O){c===void 0&&(c=3),f===void 0&&(f=void 0),g===void 0&&(g=[]),_===void 0&&(_=["id"]),O===void 0&&(O=xn.EuclideanDistance);var D=s.nodes,G=D===void 0?[]:D,Q=s.edges,oe=Q===void 0?[]:Q,Se={clusters:[{id:"0",nodes:G}],clusterEdges:[]};if(O===xn.EuclideanDistance&&!G.every(function(ml){return ml.hasOwnProperty(f)}))return Se;var Ye=[],dt=[];if(O===xn.EuclideanDistance&&(Ye=Et(G,f),dt=mt(Ye,g,_)),!dt.length)return Se;for(var Kt=(0,Yt.jj)(dt.map(function(ml){return ml.join("")})),An=Math.min(c,G.length,Kt.length),Wn=0;Wn<G.length;Wn++)G[Wn].originIndex=Wn;for(var $r=[],ni=[],Kr=[],Wn=0;Wn<An;Wn++)if(Wn===0){var pa=Math.floor(Math.random()*G.length);switch(O){case xn.EuclideanDistance:$r[Wn]=dt[pa];break;default:$r[Wn]=[];break}ni.push(pa),Kr[Wn]=[G[pa]],G[pa].clusterId=String(Wn)}else{for(var Ia=-1/0,$a=0,Go=function(Pl){if(!ni.includes(Pl)){for(var Dd=0,kd=0;kd<$r.length;kd++){var Y0=0;switch(O){case xn.EuclideanDistance:Y0=vn(dt[G[Pl].originIndex],$r[kd],O);break;default:break}Dd+=Y0}var F0=Dd/$r.length;F0>Ia&&!$r.find(function(u0){return(0,Yt.Xy)(u0,ds(O,dt,G[Pl].originIndex))})&&(Ia=F0,$a=Pl)}},Jo=0;Jo<G.length;Jo++)Go(Jo);$r[Wn]=ds(O,dt,$a),ni.push($a),Kr[Wn]=[G[$a]],G[$a].clusterId=String(Wn)}for(var Rs=0;;){for(var Wn=0;Wn<G.length;Wn++){var Fu=0,fl=1/0;if(!(Rs===0&&ni.includes(Wn))){for(var Ou=0;Ou<$r.length;Ou++){var vf=0;switch(O){case xn.EuclideanDistance:vf=vn(dt[Wn],$r[Ou],O);break;default:break}vf<fl&&(fl=vf,Fu=Ou)}if(G[Wn].clusterId!==void 0)for(var gc=Kr[Number(G[Wn].clusterId)].length-1;gc>=0;gc--)Kr[Number(G[Wn].clusterId)][gc].id===G[Wn].id&&Kr[Number(G[Wn].clusterId)].splice(gc,1);G[Wn].clusterId=String(Fu),Kr[Fu].push(G[Wn])}}for(var mc=!1,Wn=0;Wn<Kr.length;Wn++){for(var Lc=Kr[Wn],lf=new Qa([]),Ou=0;Ou<Lc.length;Ou++)lf=lf.add(new Qa(dt[Lc[Ou].originIndex]));var jc=lf.avg(Lc.length);jc.equal(new Qa($r[Wn]))||(mc=!0,$r[Wn]=jc.getArr())}if(Rs++,G.every(function(ml){return ml.clusterId!==void 0})&&mc||Rs>=1e3)break}var zs=[],Uu={};return oe.forEach(function(ml){var Zl,Pl,Dd=ml.source,kd=ml.target,Y0=(Zl=G.find(function(e0){return e0.id===Dd}))===null||Zl===void 0?void 0:Zl.clusterId,F0=(Pl=G.find(function(e0){return e0.id===kd}))===null||Pl===void 0?void 0:Pl.clusterId,u0="".concat(Y0,"---").concat(F0);if(Uu[u0])Uu[u0].count++;else{var Nf={source:Y0,target:F0,count:1};Uu[u0]=Nf,zs.push(Nf)}}),{clusters:Kr,clusterEdges:zs}},ks=Za,oo=function(s,c){var f=new Qa(c),g=f.norm2(),_=new Qa(s),O=_.norm2(),D=f.dot(_),G=g*O,Q=G?D/G:0;return Q},nu=oo,wu=function(s,c,f,g,_){s===void 0&&(s=[]),f===void 0&&(f=void 0),g===void 0&&(g=[]),_===void 0&&(_=[]);var O=(0,Yt.d9)(s.filter(function(Ye){return Ye.id!==c.id})),D=s.findIndex(function(Ye){return Ye.id===c.id}),G=Et(s,f),Q=mt(G,g,_),oe=Q[D],Se=[];return O.forEach(function(Ye,dt){if(Ye.id!==c.id){var Kt=Q[dt],An=nu(Kt,oe);Se.push(An),Ye.cosineSimilarity=An}}),O.sort(function(Ye,dt){return dt.cosineSimilarity-Ye.cosineSimilarity}),{allCosineSimilarity:Se,similarNodes:O}},Ll=wu,Si=function(){function m(s){this.count=s.length,this.parent={};for(var c=0,f=s;c<f.length;c++){var g=f[c];this.parent[g]=g}}return m.prototype.find=function(s){for(;this.parent[s]!==s;)s=this.parent[s];return s},m.prototype.union=function(s,c){var f=this.find(s),g=this.find(c);f!==g&&(f<g?(this.parent[c]!==c&&this.union(this.parent[c],s),this.parent[c]=this.parent[s]):(this.parent[s]!==s&&this.union(this.parent[s],c),this.parent[s]=this.parent[c]))},m.prototype.connected=function(s,c){return this.find(s)===this.find(c)},m}(),Sn=Si,Qt=function(s,c){return s-c},rr=function(){function m(s){s===void 0&&(s=Qt),this.compareFn=s,this.list=[]}return m.prototype.getLeft=function(s){return 2*s+1},m.prototype.getRight=function(s){return 2*s+2},m.prototype.getParent=function(s){return s===0?null:Math.floor((s-1)/2)},m.prototype.isEmpty=function(){return this.list.length<=0},m.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},m.prototype.delMin=function(){var s=this.top(),c=this.list.pop();return this.list.length>0&&(this.list[0]=c,this.moveDown(0)),s},m.prototype.insert=function(s){if(s!==null){this.list.push(s);var c=this.list.length-1;return this.moveUp(c),!0}return!1},m.prototype.moveUp=function(s){for(var c=this.getParent(s);s&&s>0&&this.compareFn(this.list[c],this.list[s])>0;){var f=this.list[c];this.list[c]=this.list[s],this.list[s]=f,s=c,c=this.getParent(s)}},m.prototype.moveDown=function(s){var c,f=s,g=this.getLeft(s),_=this.getRight(s),O=this.list.length;g!==null&&g<O&&this.compareFn(this.list[f],this.list[g])>0?f=g:_!==null&&_<O&&this.compareFn(this.list[f],this.list[_])>0&&(f=_),s!==f&&(c=[this.list[f],this.list[s]],this.list[s]=c[0],this.list[f]=c[1],this.moveDown(f))},m}(),rt=rr,ai=function(s,c){var f=[],g=s.nodes,_=g===void 0?[]:g,O=s.edges,D=O===void 0?[]:O;if(_.length===0)return f;var G=_[0],Q=new Set;Q.add(G);var oe=function(Wn,$r){return c?Wn.weight-$r.weight:0},Se=new rt(oe);for(oi(G.id,D).forEach(function(An){Se.insert(An)});!Se.isEmpty();){var Ye=Se.delMin(),dt=Ye.source,Kt=Ye.target;Q.has(dt)&&Q.has(Kt)||(f.push(Ye),Q.has(dt)||(Q.add(dt),oi(dt,D).forEach(function(An){Se.insert(An)})),Q.has(Kt)||(Q.add(Kt),oi(Kt,D).forEach(function(An){Se.insert(An)})))}return f},mi=function(s,c){var f=[],g=s.nodes,_=g===void 0?[]:g,O=s.edges,D=O===void 0?[]:O;if(_.length===0)return f;var G=D.map(function(dt){return dt});c&&G.sort(function(dt,Kt){return dt.weight-Kt.weight});for(var Q=new Sn(_.map(function(dt){return dt.id}));G.length>0;){var oe=G.shift(),Se=oe.source,Ye=oe.target;Q.connected(Se,Ye)||(f.push(oe),Q.union(Se,Ye))}return f},_a=function(s,c,f){var g={prim:ai,kruskal:mi};return f?g[f](s,c):mi(s,c)},Xi=_a,ia=function(s,c,f){typeof c!="number"&&(c=1e-6),typeof f!="number"&&(f=.85);for(var g=1,_=0,O=1e3,D=s.nodes,G=D===void 0?[]:D,Q=s.edges,oe=Q===void 0?[]:Q,Se=G.length,Ye,dt={},Kt={},An=0;An<Se;++An){var Wn=G[An],$r=Wn.id;dt[$r]=1/Se,Kt[$r]=1/Se}for(var ni=Yn(s);O>0&&g>c;){_=0;for(var An=0;An<Se;++An){var Wn=G[An],$r=Wn.id;if(Ye=0,ni[Wn.id].inDegree===0)dt[$r]=0;else{for(var Kr=Gn($r,oe,"source"),pa=0;pa<Kr.length;++pa){var Ia=Kr[pa],$a=ni[Ia].outDegree;$a>0&&(Ye+=Kt[Ia]/$a)}dt[$r]=f*Ye,_+=dt[$r]}}_=(1-_)/Se,g=0;for(var An=0;An<Se;++An){var Wn=G[An],$r=Wn.id;Ye=dt[$r]+_,g+=Math.abs(Ye-Kt[$r]),Kt[$r]=Ye}O-=1}return Kt},ua=ia,co=-1,Ro=-1,As="-1",So="-1",ao=-1,Wa="-1",ns=function(){function m(s,c,f,g){s===void 0&&(s=co),c===void 0&&(c=Ro),f===void 0&&(f=Ro),g===void 0&&(g=As),this.id=s,this.from=c,this.to=f,this.label=g}return m}(),Do=function(){function m(s,c){s===void 0&&(s=Ro),c===void 0&&(c=So),this.id=s,this.label=c,this.edges=[],this.edgeMap={}}return m.prototype.addEdge=function(s){this.edges.push(s),this.edgeMap[s.id]=s},m}(),ls=function(){function m(s,c,f){s===void 0&&(s=Ro),c===void 0&&(c=!0),f===void 0&&(f=!1),this.id=s,this.edgeIdAutoIncrease=c,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=f}return m.prototype.getNodeNum=function(){return this.nodes.length},m.prototype.addNode=function(s,c){if(!this.nodeMap[s]){var f=new Do(s,c);this.nodes.push(f),this.nodeMap[s]=f,this.nodeLabelMap[c]||(this.nodeLabelMap[c]=[]),this.nodeLabelMap[c].push(s)}},m.prototype.addEdge=function(s,c,f,g){if((this.edgeIdAutoIncrease||s===void 0)&&(s=this.counter++),!(this.nodeMap[c]&&this.nodeMap[f]&&this.nodeMap[f].edgeMap[s])){var _=new ns(s,c,f,g);if(this.edges.push(_),this.edgeMap[s]=_,this.nodeMap[c].addEdge(_),this.edgeLabelMap[g]||(this.edgeLabelMap[g]=[]),this.edgeLabelMap[g].push(_),!this.directed){var O=new ns(s,f,c,g);this.nodeMap[f].addEdge(O),this.edgeLabelMap[g].push(O)}}},m}(),Bs=function(){function m(s,c,f,g,_){this.fromNode=s,this.toNode=c,this.nodeEdgeNodeLabel={nodeLabel1:f||So,edgeLabel:g||As,nodeLabel2:_||So}}return m.prototype.equalTo=function(s){return this.fromNode===s.formNode&&this.toNode===s.toNode&&this.nodeEdgeNodeLabel===s.nodeEdgeNodeLabel},m.prototype.notEqualTo=function(s){return!this.equalTo(s)},m}(),Xo=function(){function m(){this.rmpath=[],this.dfsEdgeList=[]}return m.prototype.equalTo=function(s){var c=this.dfsEdgeList.length,f=s.length;if(c!==f)return!1;for(var g=0;g<c;g++)if(this.dfsEdgeList[g]!==s[g])return!1;return!0},m.prototype.notEqualTo=function(s){return!this.equalTo(s)},m.prototype.pushBack=function(s,c,f,g,_){return this.dfsEdgeList.push(new Bs(s,c,f,g,_)),this.dfsEdgeList},m.prototype.toGraph=function(s,c){s===void 0&&(s=ao),c===void 0&&(c=!1);var f=new ls(s,!0,c);return this.dfsEdgeList.forEach(function(g){var _=g.fromNode,O=g.toNode,D=g.nodeEdgeNodeLabel,G=D.nodeLabel1,Q=D.edgeLabel,oe=D.nodeLabel2;G!==So&&f.addNode(_,G),oe!==So&&f.addNode(O,oe),G!==So&&oe!==G&&f.addEdge(void 0,_,O,Q)}),f},m.prototype.buildRmpath=function(){this.rmpath=[];for(var s=void 0,c=this.dfsEdgeList.length,f=c-1;f>=0;f--){var g=this.dfsEdgeList[f],_=g.fromNode,O=g.toNode;_<O&&(s===void 0||O===s)&&(this.rmpath.push(f),s=_)}return this.rmpath},m.prototype.getNodeNum=function(){var s={};return this.dfsEdgeList.forEach(function(c){s[c.fromNode]||(s[c.fromNode]=!0),s[c.toNode]||(s[c.toNode]=!0)}),Object.keys(s).length},m}(),wt=function(){function m(s){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!s){for(;s;){var c=s.edge;this.edges.push(c),this.nodesUsed[c.from]=1,this.nodesUsed[c.to]=1,this.edgesUsed[c.id]=1,s=s.preNode}this.edges=this.edges.reverse()}}return m.prototype.hasNode=function(s){return this.nodesUsed[s.id]===1},m.prototype.hasEdge=function(s){return this.edgesUsed[s.id]===1},m}(),er=function(){function m(s){var c=s.graphs,f=s.minSupport,g=f===void 0?2:f,_=s.minNodeNum,O=_===void 0?1:_,D=s.maxNodeNum,G=D===void 0?4:D,Q=s.top,oe=Q===void 0?10:Q,Se=s.directed,Ye=Se===void 0?!1:Se,dt=s.verbose,Kt=dt===void 0?!1:dt;this.graphs=c,this.dfsCode=new Xo,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=g,this.top=oe,this.directed=Ye,this.counter=0,this.maxNodeNum=G,this.minNodeNum=O,this.verbose=Kt,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return m.prototype.findForwardRootEdges=function(s,c){var f=this,g=[],_=s.nodeMap;return c.edges.forEach(function(O){(f.directed||c.label<=_[O.to].label)&&g.push(O)}),g},m.prototype.findBackwardEdge=function(s,c,f,g){if(!this.directed&&c===f)return null;for(var _=s.nodeMap,O=_[f.to],D=O.edges,G=D.length,Q=0;Q<G;Q++){var oe=D[Q];if(!(g.hasEdge(oe)||oe.to!==c.from)){if(this.directed){if(_[c.from].label<_[f.to].label||_[c.from].label===_[f.to].label&&c.label<=oe.label)return oe}else if(c.label<oe.label||c.label===oe.label&&_[c.to].label<=_[f.to].label)return oe}}return null},m.prototype.findForwardPureEdges=function(s,c,f,g){for(var _=[],O=c.to,D=s.nodeMap[O].edges,G=D.length,Q=0;Q<G;Q++){var oe=D[Q],Se=s.nodeMap[oe.to];f<=Se.label&&!g.hasNode(Se)&&_.push(oe)}return _},m.prototype.findForwardRmpathEdges=function(s,c,f,g){for(var _=[],O=s.nodeMap,D=O[c.to].label,G=O[c.from],Q=G.edges,oe=Q.length,Se=0;Se<oe;Se++){var Ye=Q[Se],dt=O[Ye.to].label;c.to===Ye.to||f>dt||g.hasNode(O[Ye.to])||(c.label<Ye.label||c.label===Ye.label&&D<=dt)&&_.push(Ye)}return _},m.prototype.getSupport=function(s){var c={};return s.forEach(function(f){c[f.graphId]||(c[f.graphId]=!0)}),Object.keys(c).length},m.prototype.findMinLabel=function(s){var c=void 0;return Object.keys(s).forEach(function(f){var g=s[f],_=g.nodeLabel1,O=g.edgeLabel,D=g.nodeLabel2;if(!c){c={nodeLabel1:_,edgeLabel:O,nodeLabel2:D};return}(_<c.nodeLabel1||_===c.nodeLabel1&&O<c.edgeLabel||_===c.nodeLabel1&&O===c.edgeLabel&&D<c.nodeLabel2)&&(c={nodeLabel1:_,edgeLabel:O,nodeLabel2:D})}),c},m.prototype.isMin=function(){var s=this,c=this.dfsCode;if(this.verbose&&console.log("isMin checking",c),c.dfsEdgeList.length===1)return!0;var f=this.directed,g=c.toGraph(ao,f),_=g.nodeMap,O=new Xo,D={};g.nodes.forEach(function(Se){var Ye=s.findForwardRootEdges(g,Se);Ye.forEach(function(dt){var Kt=_[dt.to],An="".concat(Se.label,"-").concat(dt.label,"-").concat(Kt.label);D[An]||(D[An]={projected:[],nodeLabel1:Se.label,edgeLabel:dt.label,nodeLabel2:Kt.label});var Wn={graphId:g.id,edge:dt,preNode:null};D[An].projected.push(Wn)})});var G=this.findMinLabel(D);if(G){O.dfsEdgeList.push(new Bs(0,1,G.nodeLabel1,G.edgeLabel,G.nodeLabel2));var Q=function Se(Ye){for(var dt=O.buildRmpath(),Kt=O.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,An=O.dfsEdgeList[dt[0]].toNode,Wn={},$r=!1,ni=0,Kr=f?-1:0,pa=function(lf){if($r)return"break";Ye.forEach(function(jc){var zs=new wt(jc),Uu=s.findBackwardEdge(g,zs.edges[dt[lf]],zs.edges[dt[0]],zs);Uu&&(Wn[Uu.label]||(Wn[Uu.label]={projected:[],edgeLabel:Uu.label}),Wn[Uu.label].projected.push({graphId:g.id,edge:Wn,preNode:jc}),ni=O.dfsEdgeList[dt[lf]].fromNode,$r=!0)})},Ia=dt.length-1;Ia>Kr;Ia--){var $a=pa(Ia);if($a==="break")break}if($r){var Go=s.findMinLabel(Wn);O.dfsEdgeList.push(new Bs(An,ni,So,Go.edgeLabel,So));var Jo=O.dfsEdgeList.length-1;return s.dfsCode.dfsEdgeList[Jo]!==O.dfsEdgeList[Jo]?!1:Se(Wn[Go.edgeLabel].projected)}var Rs={};$r=!1;var Fu=0;Ye.forEach(function(Lc){var lf=new wt(Lc),jc=s.findForwardPureEdges(g,lf.edges[dt[0]],Kt,lf);jc.length>0&&($r=!0,Fu=An,jc.forEach(function(zs){var Uu="".concat(zs.label,"-").concat(_[zs.to].label);Rs[Uu]||(Rs[Uu]={projected:[],edgeLabel:zs.label,nodeLabel2:_[zs.to].label}),Rs[Uu].projected.push({graphId:g.id,edge:zs,preNode:Lc})}))});for(var fl=dt.length,Ou=function(lf){if($r)return"break";var jc=dt[lf];Ye.forEach(function(zs){var Uu=new wt(zs),ml=s.findForwardRmpathEdges(g,Uu.edges[jc],Kt,Uu);ml.length>0&&($r=!0,Fu=O.dfsEdgeList[jc].fromNode,ml.forEach(function(Zl){var Pl="".concat(Zl.label,"-").concat(_[Zl.to].label);Rs[Pl]||(Rs[Pl]={projected:[],edgeLabel:Zl.label,nodeLabel2:_[Zl.to].label}),Rs[Pl].projected.push({graphId:g.id,edge:Zl,preNode:zs})}))})},Ia=0;Ia<fl;Ia++){var vf=Ou(Ia);if(vf==="break")break}if(!$r)return!0;var gc=s.findMinLabel(Rs);O.dfsEdgeList.push(new Bs(Fu,An+1,So,gc.edgeLabel,gc.nodeLabel2));var mc=O.dfsEdgeList.length-1;return c.dfsEdgeList[mc]!==O.dfsEdgeList[mc]?!1:Se(Rs["".concat(gc.edgeLabel,"-").concat(gc.nodeLabel2)].projected)},oe="".concat(G.nodeLabel1,"-").concat(G.edgeLabel,"-").concat(G.nodeLabel2);return Q(D[oe].projected)}},m.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var s=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,Yt.d9)(s))}},m.prototype.subGraphMining=function(s){var c=this,f=this.getSupport(s);if(!(f<this.minSupport)&&this.isMin()){this.report();var g=this.dfsCode.getNodeNum(),_=this.dfsCode.buildRmpath(),O=this.dfsCode.dfsEdgeList[_[0]].toNode,D=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,G={},Q={};s.forEach(function(oe){for(var Se=c.graphs[oe.graphId],Ye=Se.nodeMap,dt=new wt(oe),Kt=_.length-1;Kt>=0;Kt--){var An=c.findBackwardEdge(Se,dt.edges[_[Kt]],dt.edges[_[0]],dt);if(An){var Wn="".concat(c.dfsCode.dfsEdgeList[_[Kt]].fromNode,"-").concat(An.label);Q[Wn]||(Q[Wn]={projected:[],toNodeId:c.dfsCode.dfsEdgeList[_[Kt]].fromNode,edgeLabel:An.label}),Q[Wn].projected.push({graphId:oe.graphId,edge:An,preNode:oe})}}if(!(g>=c.maxNodeNum)){var $r=c.findForwardPureEdges(Se,dt.edges[_[0]],D,dt);$r.forEach(function(Kr){var pa="".concat(O,"-").concat(Kr.label,"-").concat(Ye[Kr.to].label);G[pa]||(G[pa]={projected:[],fromNodeId:O,edgeLabel:Kr.label,nodeLabel2:Ye[Kr.to].label}),G[pa].projected.push({graphId:oe.graphId,edge:Kr,preNode:oe})});for(var ni=function(pa){var Ia=c.findForwardRmpathEdges(Se,dt.edges[_[pa]],D,dt);Ia.forEach(function($a){var Go="".concat(c.dfsCode.dfsEdgeList[_[pa]].fromNode,"-").concat($a.label,"-").concat(Ye[$a.to].label);G[Go]||(G[Go]={projected:[],fromNodeId:c.dfsCode.dfsEdgeList[_[pa]].fromNode,edgeLabel:$a.label,nodeLabel2:Ye[$a.to].label}),G[Go].projected.push({graphId:oe.graphId,edge:$a,preNode:oe})})},Kt=0;Kt<_.length;Kt++)ni(Kt)}}),Object.keys(Q).forEach(function(oe){var Se=Q[oe],Ye=Se.toNodeId,dt=Se.edgeLabel;c.dfsCode.dfsEdgeList.push(new Bs(O,Ye,"-1",dt,"-1")),c.subGraphMining(Q[oe].projected),c.dfsCode.dfsEdgeList.pop()}),Object.keys(G).forEach(function(oe){var Se=G[oe],Ye=Se.fromNodeId,dt=Se.edgeLabel,Kt=Se.nodeLabel2;c.dfsCode.dfsEdgeList.push(new Bs(Ye,O+1,So,dt,Kt)),c.subGraphMining(G[oe].projected),c.dfsCode.dfsEdgeList.pop()})}},m.prototype.generate1EdgeFrequentSubGraphs=function(){var s=this.graphs,c=this.directed,f=this.minSupport,g=this.frequentSize1Subgraphs,_={},O={},D={},G={};return Object.keys(s).forEach(function(Q){var oe=s[Q],Se=oe.nodeMap;oe.nodes.forEach(function(Ye,dt){var Kt=Ye.label,An="".concat(Q,"-").concat(Kt);if(!D[An]){var Wn=_[Kt]||0;Wn++,_[Kt]=Wn}D[An]={graphKey:Q,label:Kt},Ye.edges.forEach(function($r){var ni=Kt,Kr=Se[$r.to].label;if(!c&&ni>Kr){var pa=Kr;Kr=ni,ni=pa}var Ia=$r.label,$a="".concat(Q,"-").concat(ni,"-").concat(Ia,"-").concat(Kr),Go="".concat(ni,"-").concat(Ia,"-").concat(Kr);if(!O[Go]){var Jo=O[Go]||0;Jo++,O[Go]=Jo}G[$a]={graphId:Q,nodeLabel1:ni,edgeLabel:Ia,nodeLabel2:Kr}})})}),Object.keys(_).forEach(function(Q){var oe=_[Q];if(!(oe<f)){var Se={nodes:[],edges:[]};Se.nodes.push({id:"0",label:Q}),g.push(Se)}}),g},m.prototype.run=function(){var s=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var c=this.graphs,f=this.directed,g={};Object.keys(c).forEach(function(_){var O=c[_],D=O.nodeMap;O.nodes.forEach(function(G){var Q=s.findForwardRootEdges(O,G);Q.forEach(function(oe){var Se=D[oe.to],Ye="".concat(G.label,"-").concat(oe.label,"-").concat(Se.label);g[Ye]||(g[Ye]={projected:[],nodeLabel1:G.label,edgeLabel:oe.label,nodeLabel2:Se.label});var dt={graphId:_,edge:oe,preNode:null};g[Ye].projected.push(dt)})})}),Object.keys(g).forEach(function(_){var O=g[_],D=O.projected,G=O.nodeLabel1,Q=O.edgeLabel,oe=O.nodeLabel2;s.dfsCode.dfsEdgeList.push(new Bs(0,1,G,Q,oe)),s.subGraphMining(D),s.dfsCode.dfsEdgeList.pop()})}},m}(),nn=function(s,c,f,g){var _={};return Object.keys(s).forEach(function(O,D){var G=s[O],Q=new ls(D,!0,c),oe={};G.nodes.forEach(function(Se,Ye){Q.addNode(Ye,Se[f]),oe[Se.id]=Ye}),G.edges.forEach(function(Se,Ye){var dt=oe[Se.source],Kt=oe[Se.target];Q.addEdge(-1,dt,Kt,Se[g])}),Q&&Q.getNodeNum()&&(_[Q.id]=Q)}),_},wr=function(s,c,f){var g=[];return s.forEach(function(_){var O={nodes:[],edges:[]};_.nodes.forEach(function(D){var G;O.nodes.push((G={id:"".concat(D.id)},G[c]=D.label,G))}),_.edges.forEach(function(D){var G;O.edges.push((G={source:"".concat(D.from),target:"".concat(D.to)},G[f]=D.label,G))}),g.push(O)}),g},hi="cluster",gi=function(s){var c=s.graphs,f=s.directed,g=f===void 0?!1:f,_=s.nodeLabelProp,O=_===void 0?hi:_,D=s.edgeLabelProp,G=D===void 0?hi:D,Q=nn(c,g,O,G),oe=s.minSupport,Se=s.maxNodeNum,Ye=s.minNodeNum,dt=s.verbose,Kt=s.top,An={graphs:Q,minSupport:oe,maxNodeNum:Se,minNodeNum:Ye,top:Kt,verbose:dt,directed:g},Wn=new er(An);Wn.run();var $r=wr(Wn.frequentSubgraphs,O,G);return $r},xr=gi,Ji=function(s,c,f,g){f===void 0&&(f="cluster"),g===void 0&&(g=2);var _=[],O=s.nodes;return c.forEach(function(D,G){_.push(Ai(O,D,G,f,g))}),_},Ai=function(s,c,f,g,_){var O=[f],D=[],G={};return c.forEach(function(Q,oe){if(Q<=_&&f!==oe){O.push(oe),D.push(s[oe]);var Se=s[oe][g];G[Se]?(G[Se].count++,G[Se].dists.push(Q)):G[Se]={count:1,dists:[Q]}}}),Object.keys(G).forEach(function(Q){G[Q].dists=G[Q].dists.sort(function(oe,Se){return oe-Se})}),{nodeIdx:f,nodeId:s[f].id,nodeIdxs:O,neighbors:D,neighborNum:O.length-1,nodeLabelCountMap:G}},Mi=function(s,c,f,g,_){var O=Math.ceil(f/c),D={},G=0;return g.forEach(function(Q,oe){for(var Se=0,Ye=0,dt=Q.nodeIdxs,Kt=Q.neighborNum-1;Se<O;){for(var An=dt[1+Math.floor(Math.random()*Kt)],Wn=0;(D["".concat(oe,"-").concat(An)]||D["".concat(An,"-").concat(oe)])&&(An=Math.floor(Math.random()*c),Wn++,!(Wn>2*c)););if(Wn<2*c&&(D["".concat(oe,"-").concat(An)]={start:oe,end:An,distance:_[oe][An]},Se++,G++,G>=f))return D;if(Ye++,Ye>2*c)break}if(Se<O){var $r=O-Se;O=(O+$r)/(c-oe-1)}}),D},po=function(s,c,f,g){var _=f.nodes;return g||(g={}),Object.keys(s).forEach(function(O){var D,G;if(!(g&&g[O])){g[O]={nodes:[],edges:[]};var Q=s[O],oe=(D=c[Q.start])===null||D===void 0?void 0:D.nodeIdxs,Se=(G=c[Q.end])===null||G===void 0?void 0:G.nodeIdxs;if(!(!oe||!Se)){var Ye=new Set(Se),dt=oe.filter(function(ni){return Ye.has(ni)});if(!(!dt||!dt.length)){for(var Kt={},An=dt.length,Wn=0;Wn<An;Wn++){var $r=_[dt[Wn]];g[O].nodes.push($r),Kt[$r.id]=!0}f.edges.forEach(function(ni){Kt[ni.source]&&Kt[ni.target]&&g[O].edges.push(ni)})}}}}),g},ha=function(s,c,f,g){var _,O,D={};s.nodes.forEach(function(Q){D[Q.id]=Q});var G=0;return!(!((_=c==null?void 0:c.edges)===null||_===void 0)&&_.length)||((O=c==null?void 0:c.nodes)===null||O===void 0?void 0:O.length)<2?0:(s.edges.forEach(function(Q){var oe=D[Q.source][f],Se=D[Q.target][f],Ye=c==null?void 0:c.nodes[0][f],dt=c==null?void 0:c.nodes[1][f],Kt=c==null?void 0:c.edges[0][g];Q[g]===Kt&&(oe===Ye&&Se===dt||oe===dt&&Se===Ye)&&G++}),G)},Qo=function(s,c,f){for(var g=1/0,_=0,O=function(Q){var oe=s[Q],Se=Object.keys(oe).sort(function(ni,Kr){return oe[ni]-oe[Kr]}),Ye=10,dt=[];Se.forEach(function(ni,Kr){dt[Kr%Ye]||(dt[Kr%Ye]={graphs:[],totalCount:0,aveCount:0}),dt[Kr%Ye].graphs.push(ni),dt[Kr%Ye].totalCount+=oe[ni]});var Kt=0,An=[];dt.forEach(function(ni){var Kr=ni.totalCount/ni.graphs.length;ni.aveCount=Kr,An.push(Kr);var pa=0,Ia=ni.length;ni.graphs.forEach(function($a,Go){var Jo=oe[$a];ni.graphs.forEach(function(Rs,Fu){Go!==Fu&&(pa+=Math.abs(Jo-oe[Rs]))})}),pa/=Ia*(Ia-1)/2,Kt+=pa}),Kt/=dt.length;var Wn=0;An.forEach(function(ni,Kr){An.forEach(function(pa,Ia){Kr!==Ia&&(Wn+=Math.abs(ni-pa))}),Wn/=An.length*(An.length-1)/2});var $r=Wn-Kt;g<$r&&(g=$r,_=Q)},D=0;D<c;D++)O(D);return{structure:f[_],structureCountMap:s[_]}},Cs=function(s,c){var f={},g={};return s.forEach(function(_,O){f[_.id]={idx:O,node:_,degree:0,inDegree:0,outDegree:0};var D=_[c];g[D]||(g[D]=[]),g[D].push(_)}),{nodeMap:f,nodeLabelMap:g}},Oo=function(s,c,f){var g={},_={};return s.forEach(function(O,D){g["".concat(Ka)]={idx:D,edge:O};var G=O[c];_[G]||(_[G]=[]),_[G].push(O);var Q=f[O.source];Q&&(Q.degree++,Q.outDegree++);var oe=f[O.target];oe&&(oe.degree++,oe.inDegree++)}),{edgeMap:g,edgeLabelMap:_}},su=function(s,c,f){var g=c.length,_={};return c.forEach(function(O,D){for(var G=f?0:D+1,Q=s[D].id,oe=G;oe<g;oe++)if(D!==oe){var Se=s[oe].id,Ye=O[oe];_["".concat(Q,"-").concat(Se)]=Ye,f||(_["".concat(Se,"-").concat(Q)]=Ye)}}),_},ru=function(s,c,f,g,_,O,D,G,Q,oe,Se){var Ye,dt="".concat(c.id,"-").concat(f.id);if(oe&&oe[dt])return oe[dt];var Kt=Se?Se[dt]:void 0;if(!Kt){var An=(Ye={},Ye[dt]={start:g[c.id].idx,end:g[f.id].idx,distance:_},Ye);Se=po(An,O,s,Se),Kt=Se[dt]}return ha(Kt,D,G,Q)},xt=function(s,c,f,g){var _,O,D,G=(_=s[c])===null||_===void 0?void 0:_.degree,Q=(O=s[c])===null||O===void 0?void 0:O.inDegree,oe=(D=s[c])===null||D===void 0?void 0:D.outDegree;return s[c]===void 0&&(G=1/0,Q=1/0,oe=1/0,g[c].forEach(function(Se){var Ye=f[Se.id].degree;G>Ye&&(G=Ye);var dt=f[Se.id].inDegree;Q>dt&&(Q=dt);var Kt=f[Se.id].outDegree;oe>Kt&&(oe=Kt)}),s[c]={degree:G,inDegree:Q,outDegree:oe}),{minPatternNodeLabelDegree:G,minPatternNodeLabelInDegree:Q,minPatternNodeLabelOutDegree:oe}},Zn=function(s,c,f,g,_,O,D){var G;if(f===void 0&&(f=!1),O===void 0&&(O="cluster"),D===void 0&&(D="cluster"),!(!s||!s.nodes)){var Q=s.nodes.length;if(Q){var oe=qi(s,f),Se=qi(c,f),Ye=su(s.nodes,oe,f),dt=su(c.nodes,Se,f),Kt=Cs(s.nodes,O),An=Kt.nodeMap,Wn=Kt.nodeLabelMap,$r=Cs(c.nodes,O),ni=$r.nodeMap,Kr=$r.nodeLabelMap;Oo(s.edges,D,An);var pa=Oo(c.edges,D,ni).edgeLabelMap,Ia=[];Se==null||Se.forEach(function($l){Ia=Ia.concat($l)}),_||(_=Math.max.apply(Math,(0,Ut.ev)((0,Ut.ev)([],Ia,!1),[2],!1))),g||(g=_);var $a=Ji(s,oe,O,g),Go=Ji(c,Se,O,g),Jo=Math.min(100,Q*(Q-1)/2),Rs=Mi(g,Q,Jo,$a,oe),Fu=po(Rs,$a,s),fl=10,Ou=1,vf=1,gc=4,mc={graphs:Fu,nodeLabelProp:O,edgeLabelProp:D,minSupport:Ou,minNodeNum:vf,maxNodeNum:gc,directed:f},Lc=xr(mc).slice(0,fl),lf=Lc.length,jc=[];Lc.forEach(function($l,Df){jc[Df]={},Object.keys(Fu).forEach(function(Ac){var Hf=Fu[Ac],qd=ha(Hf,$l,O,D);jc[Df][Ac]=qd})});var zs=Qo(jc,lf,Lc),Uu=zs.structure,ml=zs.structureCountMap,Zl=c.nodes[0],Pl=[],Dd=(G=c.nodes[0])===null||G===void 0?void 0:G[O],kd=-1/0;c.nodes.forEach(function($l){var Df=$l[O],Ac=Wn[Df];(Ac==null?void 0:Ac.length)>kd&&(kd=Ac.length,Pl=Ac,Dd=Df,Zl=$l)});var Y0={},F0={},u0={},Nf={},e0={},Dp={};Object.keys(Kr).forEach(function($l,Df){e0[$l]=[],f&&(Dp[$l]=[]);var Ac=-1/0,Hf=Kr[$l],qd={};Hf.forEach(function(qf){var yf=dt["".concat(Zl.id,"-").concat(qf.id)];if(yf&&e0[$l].push(yf),Ac<yf&&(Ac=yf),qd["".concat(Zl.id,"-").concat(qf.id)]={start:0,end:ni[qf.id].idx,distance:yf},f){var xh=dt["".concat(qf.id,"-").concat(Zl.id)];xh&&Dp[$l].push(xh)}}),e0[$l]=e0[$l].sort(function(qf,yf){return qf-yf}),f&&(Dp[$l]=Dp[$l].sort(function(qf,yf){return qf-yf})),F0=po(qd,Go,c,F0);var zu=[];if(Object.keys(qd).forEach(function(qf){if(u0[qf]){zu.push(u0[qf]);return}var yf=F0[qf];u0[qf]=ha(yf,Uu,O,D),zu.push(u0[qf])}),zu=zu.sort(function(qf,yf){return yf-qf}),Nf["".concat(Zl.id,"-").concat($l)]=zu,$l!==Dd)for(var kf=(Pl==null?void 0:Pl.length)||0,Qf=function(yf){var xh=Pl[yf],Bp=$a[An[xh.id].idx],Th=Bp.nodeLabelCountMap[$l],Gv=Kr[$l].length;if(!Th||Th.count<Gv)return Pl.splice(yf,1),"continue";for(var Yv=!1,A0=0;A0<Gv;A0++)if(Th.dists[A0]>e0[$l][A0]){Yv=!0;break}if(Yv)return Pl.splice(yf,1),"continue";var Qp={};Bp.neighbors.forEach(function(X0){var Fp=Ye["".concat(xh.id,"-").concat(X0.id)];Qp["".concat(xh.id,"-").concat(X0.id)]={start:An[xh.id].idx,end:An[X0.id].idx,distance:Fp}}),Fu=po(Qp,$a,s,Fu);var qp=[];Object.keys(Qp).forEach(function(X0){if(ml[X0]){qp.push(ml[X0]);return}var Fp=Fu[X0];ml[X0]=ha(Fp,Uu,O,D),qp.push(ml[X0])}),qp=qp.sort(function(X0,Fp){return Fp-X0});for(var Qm=!1,A0=0;A0<Gv;A0++)if(qp[A0]<zu[A0]){Qm=!0;break}if(Qm)return Pl.splice(yf,1),"continue"},c0=kf-1;c0>=0;c0--)Qf(c0)});var Zh=[];Pl==null||Pl.forEach(function($l){for(var Df=An[$l.id].idx,Ac=Ai(s.nodes,oe[Df],Df,O,_),Hf=Ac.neighbors,qd=Hf.length,zu=!1,kf=qd-1;kf>=0;kf--){if(Hf.length+1<c.nodes.length){zu=!0;return}var Qf=Hf[kf],c0=Qf[O];if(!Kr[c0]||!Kr[c0].length){Hf.splice(kf,1);continue}if(!e0[c0]||!e0[c0].length){Hf.splice(kf,1);continue}var qf="".concat($l.id,"-").concat(Qf.id),yf=Ye[qf],xh=e0[c0].length-1,Bp=e0[c0][xh];if(yf>Bp){Hf.splice(kf,1);continue}if(f){var Th="".concat(Qf.id,"-").concat($l.id),Gv=Ye[Th];xh=Dp[c0].length-1;var Yv=Dp[c0][xh];if(Gv>Yv){Hf.splice(kf,1);continue}}var A0=ml[qf]?ml[qf]:ru(s,$l,Qf,An,yf,$a,Uu,O,D,ml,Fu),Qp="".concat(Zl.id,"-").concat(c0),qp=Nf[Qp][Nf[Qp].length-1];if(A0<qp){Hf.splice(kf,1);continue}var Qm=xt(Y0,c0,ni,Kr),X0=Qm.minPatternNodeLabelDegree,Fp=Qm.minPatternNodeLabelInDegree,Bg=Qm.minPatternNodeLabelOutDegree;if(An[Qf.id].degree<X0){Hf.splice(kf,1);continue}}zu||Zh.push({nodes:[$l].concat(Hf)})});var Vv=fr(c,Zl.id,!1).length,$0={};f?(Object.keys(Vv).forEach(function($l){var Df=ni[$l].node[O];$0[Df]?$0[Df].push(Vv[$l]):$0[Df]=[Vv[$l]]}),Object.keys($0).forEach(function($l){$0[$l].sort(function(Df,Ac){return Df-Ac})})):$0=e0;for(var r_=Zh.length,l0=function(Df){var Ac=Zh[Df],Hf=Ac.nodes[0],qd={},zu={};Ac.nodes.forEach(function(Wf,Up){zu[Wf.id]={idx:Up,node:Wf,degree:0,inDegree:0,outDegree:0};var Sh=Wf[O];qd[Sh]?qd[Sh]++:qd[Sh]=1});var kf=[],Qf={};s.edges.forEach(function(Wf){zu[Wf.source]&&zu[Wf.target]&&(kf.push(Wf),Qf[Wf[D]]?Qf[Wf[D]]++:Qf[Wf[D]]=1,zu[Wf.source].degree++,zu[Wf.target].degree++,zu[Wf.source].outDegree++,zu[Wf.target].inDegree++)});for(var c0=Object.keys(pa).length,qf=!1,yf=0;yf<c0;yf++){var xh=Object.keys(pa)[yf];if(!Qf[xh]||Qf[xh]<pa[xh].length){qf=!0;break}}if(qf)return Zh.splice(Df,1),"continue";var Bp=kf.length;if(Bp<c.edges.length)return Zh.splice(Df,1),"break";for(var Th=!1,Gv=function(Up){var Sh=kf[Up],Ug=Sh[D],$v=pa[Ug];if(!$v||!$v.length)return Qf[Ug]--,$v&&Qf[Ug]<$v.length?(Th=!0,"break"):(kf.splice(Up,1),zu[Sh.source].degree--,zu[Sh.target].degree--,zu[Sh.source].outDegree--,zu[Sh.target].inDegree--,"continue");var S3=zu[Sh.source].node[O],A3=zu[Sh.target].node[O],XE=!1;if($v.forEach(function(C3){var O3=ni[C3.source].node,KE=ni[C3.target].node;O3[O]===S3&&KE[O]===A3&&(XE=!0),!f&&O3[O]===A3&&KE[O]===S3&&(XE=!0)}),!XE)return Qf[Ug]--,$v&&Qf[Ug]<$v.length?(Th=!0,"break"):(kf.splice(Up,1),zu[Sh.source].degree--,zu[Sh.target].degree--,zu[Sh.source].outDegree--,zu[Sh.target].inDegree--,"continue")},yf=Bp-1;yf>=0;yf--){var Yv=Gv(yf);if(Yv==="break")break}if(Th)return Zh.splice(Df,1),"continue";Ac.edges=kf;var A0=fr(Ac,Ac.nodes[0].id,!1).length;if(Object.keys(A0).reverse().forEach(function(Wf){if(!(Wf===Ac.nodes[0].id||Th)){if(A0[Wf]===1/0){var Up=zu[Wf].node[O];if(qd[Up]--,qd[Up]<Kr[Up].length){Th=!0;return}var Sh=Ac.nodes.indexOf(zu[Wf].node);Ac.nodes.splice(Sh,1),zu[Wf]=void 0;return}var Ug=An[Wf].node[O];if(!$0[Ug]||!$0[Ug].length||A0[Wf]>$0[Ug][$0[Ug].length-1]){var Up=zu[Wf].node[O];if(qd[Up]--,qd[Up]<Kr[Up].length){Th=!0;return}var Sh=Ac.nodes.indexOf(zu[Wf].node);Ac.nodes.splice(Sh,1),zu[Wf]=void 0}}}),Th)return Zh.splice(Df,1),"continue";for(var Qp=!0,qp=0;Qp&&!Th;){Qp=!1;var Qm=f?zu[Hf.id].degree<ni[Zl.id].degree||zu[Hf.id].inDegree<ni[Zl.id].inDegree||zu[Hf.id].outDegree<ni[Zl.id].outDegree:zu[Hf.id].degree<ni[Zl.id].degree;if(Qm){Th=!0;break}if(qd[Hf[O]]<Kr[Hf[O]].length){Th=!0;break}for(var X0=Ac.nodes.length,Fp=X0-1;Fp>=0;Fp--){var Bg=Ac.nodes[Fp],DS=zu[Bg.id].degree,x3=zu[Bg.id].inDegree,T3=zu[Bg.id].outDegree,mO=Bg[O],B1=xt(Y0,mO,ni,Kr),YE=B1.minPatternNodeLabelDegree,kS=B1.minPatternNodeLabelInDegree,qm=B1.minPatternNodeLabelOutDegree,$E=f?DS<YE||x3<kS||T3<qm:DS<YE;if($E){if(qd[Bg[O]]--,qd[Bg[O]]<Kr[Bg[O]].length){Th=!0;break}Ac.nodes.splice(Fp,1),zu[Bg.id]=void 0,Qp=!0}}if(Th||!Qp&&qp!==0)break;Bp=kf.length;for(var Jm=Bp-1;Jm>=0;Jm--){var Fg=kf[Jm];if(!zu[Fg.source]||!zu[Fg.target]){kf.splice(Jm,1);var n2=Fg[D];if(Qf[n2]--,zu[Fg.source]&&(zu[Fg.source].degree--,zu[Fg.source].outDegree--),zu[Fg.target]&&(zu[Fg.target].degree--,zu[Fg.target].inDegree--),pa[n2]&&Qf[n2]<pa[n2].length){Th=!0;break}Qp=!0}}qp++}if(Th||Th||Ac.nodes.length<c.nodes.length||kf.length<c.edges.length)return Zh.splice(Df,1),"continue"},jh=r_-1;jh>=0;jh--){var Km=l0(jh);if(Km==="break")break}for(var dp=Zh.length,kp=function(Df){var Ac=Zh[Df],Hf={};Ac.edges.forEach(function(kf){var Qf="".concat(kf.source,"-").concat(kf.target,"-").concat(kf.label);Hf[Qf]?Hf[Qf]++:Hf[Qf]=1});for(var qd=function(Qf){var c0=Zh[Qf],qf={};c0.edges.forEach(function(xh){var Bp="".concat(xh.source,"-").concat(xh.target,"-").concat(xh.label);qf[Bp]?qf[Bp]++:qf[Bp]=1});var yf=!0;Object.keys(qf).length!==Object.keys(Hf).length?yf=!1:Object.keys(Hf).forEach(function(xh){qf[xh]!==Hf[xh]&&(yf=!1)}),yf&&Zh.splice(Qf,1)},zu=dp-1;zu>Df;zu--)qd(zu);dp=Zh.length},jh=0;jh<=dp-1;jh++)kp(jh);return Zh}}},Cr=Zn,Di=function(){function m(s){s===void 0&&(s=10),this.linkedList=new ra,this.maxStep=s}return Object.defineProperty(m.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),m.prototype.isEmpty=function(){return!this.linkedList.head},m.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},m.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},m.prototype.push=function(s){this.linkedList.prepend(s),this.length>this.maxStep&&this.linkedList.deleteTail()},m.prototype.pop=function(){var s=this.linkedList.deleteHead();return s?s.value:null},m.prototype.toArray=function(){return this.linkedList.toArray().map(function(s){return s.value})},m.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},m}(),wa=Di,Eo=Hn,yo={getAdjMatrix:Ui,breadthFirstSearch:tn,connectedComponent:$e,getDegree:Yn,getInDegree:or,getOutDegree:Ze,detectCycle:Hn,detectDirectedCycle:Eo,detectAllCycles:Pn,detectAllDirectedCycle:sn,detectAllUndirectedCycle:fn,depthFirstSearch:St,dijkstra:fr,findAllPath:Br,findShortestPath:yr,floydWarshall:qi,labelPropagation:Wi,louvain:Aa,iLouvain:vo,kCore:Po,kMeans:ks,cosineSimilarity:nu,nodesCosineSimilarity:Ll,minimumSpanningTree:Xi,pageRank:ua,getNeighbors:Gn,Stack:wa,GADDI:Cr};function Wr(m){if(m.id!==void 0)return m.id;if(m.source!==void 0&&m.target!==void 0)return`${m.source}-${m.target}`;throw new Error(ft("The datum does not have available id."))}function hs(m){return m.combo}function Ma(m,s){const c={nodes:(m.nodes||[]).map(Wr),edges:(m.edges||[]).map(Wr),combos:(m.combos||[]).map(Wr)};return s?Object.values(c).flat():c}const iu=(m,s,c)=>{var f;switch(c.type){case"degree":{const g=new Map;return(f=m.nodes)===null||f===void 0||f.forEach(_=>{const O=s(Wr(_),c.direction).length;g.set(Wr(_),O)}),g}case"betweenness":return as(m,c.directed,c.weightPropertyName);case"closeness":return $s(m,c.directed,c.weightPropertyName);case"eigenvector":return Lu(m,c.directed);case"pagerank":return Xs(m,c.epsilon,c.linkProb);default:return au(m)}},au=m=>{var s;const c=new Map;return(s=m.nodes)===null||s===void 0||s.forEach(f=>{c.set(Wr(f),0)}),c},as=(m,s,c)=>{const f=au(m),{nodes:g=[]}=m;return g.forEach(_=>{g.forEach(O=>{if(_!==O){const{allPath:D}=yr(m,Wr(_),Wr(O),s,c),G=D.length;D.flat().forEach(Q=>{Q!==Wr(_)&&Q!==Wr(O)&&f.set(Q,f.get(Q)+1/G)})}})}),f},$s=(m,s,c)=>{const f=new Map,{nodes:g=[]}=m;return g.forEach(_=>{const O=g.reduce((D,G)=>{if(_!==G){const{length:Q}=yr(m,Wr(_),Wr(G),s,c);D+=Q}return D},0);f.set(Wr(_),1/O)}),f},Xs=(m,s,c)=>{var f;const g=new Map,_=ua(m,s,c);return(f=m.nodes)===null||f===void 0||f.forEach(O=>{g.set(Wr(O),_[Wr(O)])}),g},Lu=(m,s)=>{const{nodes:c=[]}=m,f=Mu(m,s),g=Nl(f,c.length),_=new Map;return c.forEach((O,D)=>{_.set(Wr(O),g[D])}),_},Mu=(m,s)=>{const{nodes:c=[],edges:f=[]}=m,g=Array(c.length).fill(null).map(()=>Array(c.length).fill(0));return f.forEach(({source:_,target:O})=>{const D=c.findIndex(Q=>Wr(Q)===_),G=c.findIndex(Q=>Wr(Q)===O);s?g[D][G]=1:(g[D][G]=1,g[G][D]=1)}),g},Nl=(m,s,c=100,f=1e-6)=>{let g=Array(s).fill(1),_=1/0;for(let O=0;O<c&&_>f;O++){const D=Array(s).fill(0);for(let Q=0;Q<s;Q++)for(let oe=0;oe<s;oe++)D[Q]+=m[Q][oe]*g[oe];const G=Math.sqrt(D.reduce((Q,oe)=>Q+oe*oe,0));for(let Q=0;Q<s;Q++)D[Q]/=G;_=Math.sqrt(D.reduce((Q,oe,Se)=>Q+(oe-g[Se])*oe,0)),g=D}return g};function Ks(m,s,c,f=K.Z){const g=new Map(m.map(Ye=>[c(Ye),Ye])),_=new Map(s.map(Ye=>[c(Ye),Ye])),O=new Set(g.keys()),D=new Set(_.keys()),G=[],Q=[],oe=[],Se=[];return D.forEach(Ye=>{O.has(Ye)?f(g.get(Ye),_.get(Ye))?Se.push(_.get(Ye)):Q.push(_.get(Ye)):G.push(_.get(Ye))}),O.forEach(Ye=>{D.has(Ye)||oe.push(g.get(Ye))}),{enter:G,exit:oe,keep:Se,update:Q}}const nl=new WeakMap;function hu(m,s,c=!1,f){if(s===void 0)return;const g=(_,O=s)=>{const D=(G=O)=>_.childNodes.forEach(Q=>g(Q,G));if(f&&!f(_))return D();if(!c&&_===m)m.style.visibility=s,nl.delete(m),D(s);else{nl.has(_)||nl.set(_,_.style.visibility);const G=O==="hidden"||oc(_)==="hidden"?"hidden":"visible";_.style.visibility=G,D(G)}};g(m)}function oc(m){return nl.has(m)?nl.get(m):m.style.visibility}function _l(m,s,c){const f={},g=_=>(_ in f||(f[_]=0),`${s}-${_}-${f[_]++}`);return c.map(_=>typeof _=="string"?{type:_,key:g(_)}:typeof _=="function"?_.call(m):_.key?_:Object.assign(Object.assign({},_),{key:g(_.type)}))}class Ku{constructor(s){this.extensions=[],this.extensionMap={},this.context=s}setExtensions(s){const c=_l(this.context.graph,this.category,s),{enter:f,update:g,exit:_,keep:O}=Ks(this.extensions,c,D=>D.key);this.createExtensions(f),this.updateExtensions([...g,...O]),this.destroyExtensions(_),this.extensions=c}createExtension(s){const{category:c}=this,{key:f,type:g}=s,_=rn(c,g);if(!_)return ln.warn(`The extension ${g} of ${c} is not registered.`);const O=new _(this.context,s);this.extensionMap[f]=O}createExtensions(s){s.forEach(c=>this.createExtension(c))}updateExtension(s){const{key:c}=s,f=this.extensionMap[c];f&&f.update(s)}updateExtensions(s){s.forEach(c=>this.updateExtension(c))}destroyExtension(s){const c=this.extensionMap[s];c&&(c.destroy(),delete this.extensionMap[s])}destroyExtensions(s){s.forEach(({key:c})=>this.destroyExtension(c))}destroy(){Object.values(this.extensionMap).forEach(s=>s.destroy()),this.context={},this.extensions=[],this.extensionMap={}}}class Cf{constructor(s,c){this.events=[],this.destroyed=!1,this.context=s,this.options=c}update(s){this.options=Object.assign(this.options,s)}destroy(){this.context={},this.options={},this.destroyed=!0}}class bc extends Cf{}class Sr extends bc{constructor(s,c){super(s,Object.assign({},Sr.defaultOptions,c)),this.isOverlapping=(f,g)=>g.some(_=>f.intersects(_)),this.occupiedBounds=[],this.detectLabelCollision=f=>{const g=this.context.viewport,_={show:[],hide:[]};return this.occupiedBounds=[],f.forEach(O=>{const D=O.getShape("label").getRenderBounds();g.isInViewport(D,!0)&&!this.isOverlapping(D,this.occupiedBounds)?(_.show.push(O),this.occupiedBounds.push($t(D,this.options.padding))):_.hide.push(O)}),_},this.hideLabelIfExceedViewport=(f,g)=>{const{exit:_}=Ks(f,g,O=>O.id);_==null||_.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(f,g)=>{const{model:_}=this.context,O=_.getData(),D=_.getRelatedEdgesData.bind(_);return f.map(Q=>(this.nodeCentralities.has(Q.id)||(this.nodeCentralities=iu(O,D,g)),{node:Q,centrality:this.nodeCentralities.get(Q.id)})).sort((Q,oe)=>oe.centrality-Q.centrality).map(Q=>Q.node)},this.sortLabelElementsInView=f=>{const{sort:g,sortNode:_,sortCombo:O,sortEdge:D}=this.options,{model:G}=this.context;if((0,Ce.Z)(g))return f.sort((An,Wn)=>g(G.getElementDataById(An.id),G.getElementDataById(Wn.id)));const{node:Q=[],edge:oe=[],combo:Se=[]}=Be(f,An=>An.type),Ye=(0,Ce.Z)(O)?Se.sort((An,Wn)=>O(...G.getComboData([An.id,Wn.id]))):Se,dt=(0,Ce.Z)(_)?Q.sort((An,Wn)=>_(...G.getNodeData([An.id,Wn.id]))):this.sortNodesByCentrality(Q,_),Kt=(0,Ce.Z)(D)?oe.sort((An,Wn)=>D(...G.getEdgeData([An.id,Wn.id]))):oe;return[...Ye,...dt,...Kt]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=f=>{var g;if(((g=f.data)===null||g===void 0?void 0:g.stage)==="zIndex")return;if(!this.validate(f)){this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear());return}const _=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,_),this.labelElementsInView=_;const O=this.sortLabelElementsInView(this.labelElementsInView),{show:D,hide:G}=this.detectLabelCollision(O);for(let Q=D.length-1;Q>=0;Q--)this.showLabel(D[Q]);G.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=f=>{const g=f.getShape("label");g&&hu(g,"hidden"),this.hiddenElements.set(f.id,f)},this.showLabel=f=>{const g=f.getShape("label");g&&hu(g,"visible"),f.toFront(),this.hiddenElements.delete(f.id)},this.onTransform=(0,In.Z)(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=f=>{this.enableToggle&&this.onToggleVisibility(f)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=f=>{this.onToggleVisibility(f),this.enableToggle=!0},this.bindEvents()}update(s){this.unbindEvents(),super.update(s),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){const{elementMap:s}=this.context.element,c=[];for(const f in s){const g=s[f];g.isVisible()&&g.getShape("label")&&c.push(g)}return c}getLabelElementsInView(){const s=this.context.viewport;return this.getLabelElements().filter(c=>s.isInViewport(c.getShape("key").getRenderBounds()))}bindEvents(){const{graph:s}=this.context;s.on(gt.BEFORE_RENDER,this.onBeforeRender),s.on(gt.AFTER_RENDER,this.onAfterRender),s.on(gt.AFTER_DRAW,this.toggle),s.on(gt.AFTER_LAYOUT,this.toggle),s.on(gt.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:s}=this.context;s.off(gt.BEFORE_RENDER,this.onBeforeRender),s.off(gt.AFTER_RENDER,this.onAfterRender),s.off(gt.AFTER_DRAW,this.toggle),s.off(gt.AFTER_LAYOUT,this.toggle),s.off(gt.AFTER_TRANSFORM,this.onTransform)}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}destroy(){this.unbindEvents(),super.destroy()}}Sr.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}};var li=A(11051);const Ci=[0,0,0];function ti(m,s){return m.map((c,f)=>c+s[f])}function ea(m,s){return m.map((c,f)=>c-s[f])}function mo(m,s){return typeof s=="number"?m.map(c=>c*s):m.map((c,f)=>c*s[f])}function so(m,s){return typeof s=="number"?m.map(c=>c/s):m.map((c,f)=>c/s[f])}function Io(m,s){return m.reduce((c,f,g)=>c+f*s[g],0)}function Ha(m,s){const c=fa(m),f=fa(s);return[c[1]*f[2]-c[2]*f[1],c[2]*f[0]-c[0]*f[2],c[0]*f[1]-c[1]*f[0]]}function wo(m,s){return m.map(c=>c*s)}function zo(m,s){return Math.sqrt(m.reduce((c,f,g)=>c+Math.pow(f-s[g]||0,2),0))}function rs(m,s){return m.reduce((c,f,g)=>c+Math.abs(f-s[g]),0)}function Vo(m){const s=m.reduce((c,f)=>c+Math.pow(f,2),0);return m.map(c=>c/Math.sqrt(s))}function Fs(m,s,c=!1){const f=m[0]*s[1]-m[1]*s[0];let g=Math.acos(mo(m,s).reduce((_,O)=>_+O,0)/(zo(m,Ci)*zo(s,Ci)));return c&&f<0&&(g=2*Math.PI-g),g}function _u(m,s){return m.every((c,f)=>c===s[f])}function bs(m,s=!0){return s?[-m[1],m[0]]:[m[1],-m[0]]}function Vs(m,s){return m.map(c=>c%s)}function vi(m){return[m[0],m[1]]}function fa(m){return ir(m)?[m[0],m[1],0]:m}function ta(m){const[s,c]=m;return!s&&!c?0:Math.atan2(c,s)}function fo(m,s){const[c,f]=m,[g,_]=s,O=ea(c,f),D=ea(g,_);return Ha(O,D).every(G=>G===0)}function Ko(m,s,c=!1){if(fo(m,s))return;const[f,g]=m,[_,O]=s,D=((f[0]-_[0])*(_[1]-O[1])-(f[1]-_[1])*(_[0]-O[0]))/((f[0]-g[0])*(_[1]-O[1])-(f[1]-g[1])*(_[0]-O[0])),G=O[0]-_[0]?(f[0]-_[0]+D*(g[0]-f[0]))/(O[0]-_[0]):(f[1]-_[1]+D*(g[1]-f[1]))/(O[1]-_[1]);if(!(!c&&(!Zr(D,0,1)||!Zr(G,0,1))))return[f[0]+D*(g[0]-f[0]),f[1]+D*(g[1]-f[1])]}function es(m){if(Array.isArray(m))return Zr(m[0],0,1)&&Zr(m[1],0,1)?m:[.5,.5];const s=m.split("-"),c=s.includes("left")?0:s.includes("right")?1:.5,f=s.includes("top")?0:s.includes("bottom")?1:.5;return[c,f]}function Mo(m){const{x:s=0,y:c=0,z:f=0}=m.style||{};return[+s,+c,+f]}function ys(m){const{x:s,y:c,z:f}=m.style||{};return s!==void 0||c!==void 0||f!==void 0}function Bc(m,s){const[c,f]=s,{min:g,max:_}=m;return[g[0]+c*(_[0]-g[0]),g[1]+f*(_[1]-g[1])]}function ec(m,s="center"){const c=es(s);return Bc(m,c)}function ff(m,s){const c=parseAnchor(s);return Bc(m,c)}const ld=m=>{const[s,c]=m;return{left:Math.min(s[0],c[0]),right:Math.max(s[0],c[0]),top:Math.min(s[1],c[1]),bottom:Math.max(s[1],c[1])}};function Ol(m){var s;return[m.x,m.y,(s=m.z)!==null&&s!==void 0?s:0]}function al(m){var s;return{x:m[0],y:m[1],z:(s=m[2])!==null&&s!==void 0?s:0}}function Dl(m){return m.sort((s,c)=>s[0]-c[0]||s[1]-c[1])}function Vc(m){const s=new Set;return m.filter(c=>{const f=c.join(",");return s.has(f)?!1:(s.add(f),!0)})}function Qs(m,s=0){return m.map(c=>parseFloat(c.toFixed(s)))}function $u(m,s,c,f=!1){if((0,K.Z)(m,s))return m;const g=f?ea(m,s):ea(s,m),_=Vo(g),O=[_[0]*c,_[1]*c];return ti(vi(m),O)}function Ru(m,s){return m[1]===s[1]}function Wl(m,s){return m[0]===s[0]}function tc(m,s){return Ru(m,s)||Wl(m,s)}function Ec(m,s,c){return fo([m,s],[s,c])}function cd(m,s){return[2*s[0]-m[0],2*s[1]-m[1]]}function wc(m,s,c,f=!0,g=!1){for(let _=0;_<c.length;_++){let O=c[_],D=c[(_+1)%c.length];f&&(O=ti(s,O),D=ti(s,D));const G=g?cd(m,s):m,Q=Ko([s,G],[O,D]);if(Q)return{point:Q,line:[O,D]}}return{point:s,line:void 0}}function Tl(m,s,c,f){const g=m[0],_=m[1];let O=!1;c===void 0&&(c=0),f===void 0&&(f=s.length);const D=f-c;for(let G=0,Q=D-1;G<D;Q=G++){const oe=s[G+c][0],Se=s[G+c][1],Ye=s[Q+c][0],dt=s[Q+c][1];Se>_!=dt>_&&g<(Ye-oe)*(_-Se)/(dt-Se)+oe&&(O=!O)}return O}function ed(m,s,c=!1){const f=ec(s,"center"),g=[ec(s,"left-top"),ec(s,"right-top"),ec(s,"right-bottom"),ec(s,"left-bottom")];return wc(m,f,g,!1,c).point}function Fc(m,s,c=!1){const f=s.center,g=c?cd(m,f):m,_=ea(g,s.center),O=Math.atan2(_[1],_[0]);if(isNaN(O))return f;const D=$n(s)/2,G=wn(s)/2,Q=f[0]+D*Math.cos(O),oe=f[1]+G*Math.sin(O);return[Q,oe]}function hc(m,s){let c=1/0,f=[m[0],s[0]];return m.forEach(g=>{s.forEach(_=>{const O=zo(g,_);O<c&&(c=O,f=[g,_])})}),f}function Sd(m,s){let c=1/0,f=[[0,0],[0,0]];return s.forEach(g=>{const _=Oh(m,g);_<c&&(c=_,f=g)}),f}function Oh(m,s){const c=Fd(m,s);return zo(m,c)}function Fd(m,s){const[c,f]=s[0],[g,_]=s[1],[O,D]=m,G=g-c,Q=_-f;if(G===0&&Q===0)return[c,f];let oe=((O-c)*G+(D-f)*Q)/(G*G+Q*Q);oe>1?oe=1:oe<0&&(oe=0);const Se=c+oe*G,Ye=f+oe*Q;return[Se,Ye]}function $d(m){const s=m.reduce((c,f)=>ti(c,f),[0,0]);return so(s,m.length)}function Xd(m,s=!0){const c=$d(m);return m.sort(([f,g],[_,O])=>{const D=Math.atan2(g-c[1],f-c[0]),G=Math.atan2(O-c[1],_-c[0]);return s?G-D:D-G})}function fd(m,s){return[m,[m[0],s[1]],s,[s[0],m[1]]]}var Mc=A(43706);const Uc=m=>m.map(s=>(0,Mc.Z)(s)?s.toLocaleLowerCase():s);class md{constructor(s){this.map=new Map,this.recordKey=new Set,this.onKeyDown=c=>{c!=null&&c.key&&(this.recordKey.add(c.key),this.trigger(c))},this.onKeyUp=c=>{c!=null&&c.key&&this.recordKey.delete(c.key)},this.onWheel=c=>{this.triggerExtendKey(fe.WHEEL,c)},this.onDrag=c=>{this.triggerExtendKey(fe.DRAG,c)},this.onFocus=()=>{this.recordKey.clear()},this.emitter=s,this.bindEvents()}bind(s,c){s.length!==0&&this.map.set(s,c)}unbind(s,c){this.map.forEach((f,g)=>{(0,K.Z)(g,s)&&(!c||c===f)&&this.map.delete(g)})}unbindAll(){this.map.clear()}match(s){const c=Uc(Array.from(this.recordKey)).sort(),f=Uc(s).sort();return(0,K.Z)(c,f)}bindEvents(){var s;const{emitter:c}=this;c.on(fe.KEY_DOWN,this.onKeyDown),c.on(fe.KEY_UP,this.onKeyUp),c.on(fe.WHEEL,this.onWheel),c.on(fe.DRAG,this.onDrag),(s=globalThis.addEventListener)===null||s===void 0||s.call(globalThis,"focus",this.onFocus)}trigger(s){this.map.forEach((c,f)=>{this.match(f)&&c(s)})}triggerExtendKey(s,c){this.map.forEach((f,g)=>{g.includes(s)&&(0,K.Z)(Array.from(this.recordKey),g.filter(_=>_!==s))&&f(c)})}destroy(){var s;this.unbindAll(),this.emitter.off(fe.KEY_DOWN,this.onKeyDown),this.emitter.off(fe.KEY_UP,this.onKeyUp),this.emitter.off(fe.WHEEL,this.onWheel),this.emitter.off(fe.DRAG,this.onDrag),(s=globalThis.removeEventListener)===null||s===void 0||s.call(globalThis,"blur",this.onFocus)}}class vd extends bc{constructor(s,c){super(s,(0,li.Z)({},vd.defaultOptions,c)),this.shortcut=new md(s.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(s){if(!this.validate(s)||!this.isKeydown()||this.startPoint)return;const{canvas:c,graph:f}=this.context,g=Object.assign({},this.options.style);this.options.style.lineWidth&&(g.lineWidth=+this.options.style.lineWidth/f.getZoom()),this.rectShape=new j.UL({id:"g6-brush-select",style:g}),c.appendChild(this.rectShape),this.startPoint=[s.canvas.x,s.canvas.y]}onPointerMove(s){var c;if(!this.startPoint)return;const{immediately:f,mode:g}=this.options;this.endPoint=yd(s),(c=this.rectShape)===null||c===void 0||c.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),f&&g==="default"&&this.updateElementsStates(fd(this.startPoint,this.endPoint))}onPointerUp(s){if(this.startPoint){if(!this.endPoint){this.clearBrush();return}this.endPoint=yd(s),this.updateElementsStates(fd(this.startPoint,this.endPoint)),this.clearBrush()}}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:s}=this.context,c=Object.values(s.getData()).reduce((f,g)=>Object.assign({},f,g.reduce((_,O)=>(_[Wr(O)]=[],_),{})),{});s.setElementState(c,this.options.animation)}updateElementsStates(s){const{graph:c}=this.context,{enableElements:f,state:g,mode:_,onSelect:O}=this.options,D=this.selector(c,s,f);let G={};switch(_){case"union":D.forEach(Q=>{G[Q]=[...c.getElementState(Q),g]});break;case"diff":D.forEach(Q=>{const oe=c.getElementState(Q);G[Q]=oe.includes(g)?oe.filter(Se=>Se!==g):[...oe,g]});break;case"intersect":D.forEach(Q=>{const oe=c.getElementState(Q);G[Q]=oe.includes(g)?[g]:[]});break;case"default":default:D.forEach(Q=>{G[Q]=[g]});break}(0,Ce.Z)(O)&&(G=O(G)),c.setElementState(G,this.options.animation)}selector(s,c,f){if(!f||f.length===0)return[];const g=[],_=s.getData();if(f.forEach(O=>{_[`${O}s`].forEach(D=>{const G=Wr(D);s.getElementVisibility(G)!=="hidden"&&Tl(s.getElementPosition(G),c)&&g.push(G)})}),f.includes("edge")){const O=_.edges;O==null||O.forEach(D=>{const{source:G,target:Q}=D;g.includes(G)&&g.includes(Q)&&g.push(Wr(D))})}return g}clearBrush(){var s;(s=this.rectShape)===null||s===void 0||s.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:s}=this.options,c=Array.isArray(s)?s:[s];return this.shortcut.match(c.filter(f=>f!=="drag"))}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}bindEvents(){const{graph:s}=this.context;s.on(fe.POINTER_DOWN,this.onPointerDown),s.on(fe.POINTER_MOVE,this.onPointerMove),s.on(fe.POINTER_UP,this.onPointerUp),s.on(ye.CLICK,this.clearStates)}unbindEvents(){const{graph:s}=this.context;s.off(fe.POINTER_DOWN,this.onPointerDown),s.off(fe.POINTER_MOVE,this.onPointerMove),s.off(fe.POINTER_UP,this.onPointerUp),s.off(ye.CLICK,this.clearStates)}update(s){this.unbindEvents(),this.options=(0,li.Z)(this.options,s),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}vd.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};const yd=m=>[m.canvas.x,m.canvas.y],df=.8,Ef=["node","edge","combo"];function Yf(m,s,c,f,g=0){f==="TB"&&s(m,g);const _=c(m);if(_)for(const O of _)Yf(O,s,c,f,g+1);f==="BT"&&s(m,g)}function $f(m,s,c){const f=[[m,0]];for(;f.length;){const[g,_]=f.shift();s(g,_);const O=c(g);if(O)for(const D of O)f.push([D,_+1])}}function td(m,s,c,f,g="both"){if(s==="combo"||s==="node")return Ad(m,c,f,g);const _=m.getEdgeData(c);if(!_)return[];const O=Ad(m,_.source,f-1,g),D=Ad(m,_.target,f-1,g);return Array.from(new Set([...O,...D,c]))}function Ad(m,s,c,f="both"){const g=new Set,_=new Set,O=new Set;return $f(s,(D,G)=>{G>c||(O.add(D),m.getRelatedEdgesData(D,f).forEach(Q=>{const oe=Wr(Q);!_.has(oe)&&G<c&&(O.add(oe),_.add(oe))}))},D=>m.getRelatedEdgesData(D,f).map(G=>G.source===D?G.target:G.source).filter(G=>g.has(G)?!1:(g.add(G),!0))),Array.from(O)}function kl(m){return m.states||[]}var Bl=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class _d extends bc{constructor(s,c){super(s,Object.assign({},_d.defaultOptions,c)),this.onClickSelect=f=>Bl(this,void 0,void 0,function*(){var g,_;this.validate(f)&&(yield this.updateState(f),(_=(g=this.options).onClick)===null||_===void 0||_.call(g,f))}),this.onClickCanvas=f=>Bl(this,void 0,void 0,function*(){var g,_;this.validate(f)&&(yield this.clearState(),(_=(g=this.options).onClick)===null||_===void 0||_.call(g,f))}),this.shortcut=new md(s.graph),this.bindEvents()}bindEvents(){const{graph:s}=this.context;this.unbindEvents(),Ef.forEach(c=>{s.on(`${c}:${fe.CLICK}`,this.onClickSelect)}),s.on(ye.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:s,trigger:c}=this.options;return s&&this.shortcut.match(c)}getNeighborIds(s){const{target:c,targetType:f}=s,{graph:g}=this.context,{degree:_}=this.options;return td(g,f,c.id,typeof _=="function"?_(s):_).filter(O=>O!==c.id)}updateState(s){return Bl(this,void 0,void 0,function*(){const{state:c,unselectedState:f,neighborState:g,animation:_}=this.options;if(!c&&!g&&!f)return;const{target:O}=s,{graph:D}=this.context,G=D.getElementData(O.id),Q=kl(G).includes(c)?"unselect":"select",oe={},Se=this.isMultipleSelect,Ye=[O.id],dt=this.getNeighborIds(s);if(Se)if(Object.assign(oe,this.getDataStates()),Q==="select"){const Kt=(An,Wn)=>{An.forEach($r=>{const ni=new Set(D.getElementState($r));ni.add(Wn),ni.delete(f),oe[$r]=Array.from(ni)})};Kt(Ye,c),Kt(dt,g),f&&Object.keys(oe).forEach(An=>{const Wn=oe[An];!Wn.includes(c)&&!Wn.includes(g)&&!Wn.includes(f)&&oe[An].push(f)})}else{const Kt=oe[O.id];oe[O.id]=Kt.filter(An=>An!==c&&An!==g),Kt.includes(f)||oe[O.id].push(f),dt.forEach(An=>{oe[An]=oe[An].filter(Wn=>Wn!==g),oe[An].includes(c)||oe[An].push(f)})}else if(Q==="select"){Object.assign(oe,this.getClearStates(!!f));const Kt=(An,Wn)=>{An.forEach($r=>{oe[$r]||(oe[$r]=D.getElementState($r)),oe[$r].push(Wn)})};Kt(Ye,c),Kt(dt,g),f&&Object.keys(oe).forEach(An=>{!Ye.includes(An)&&!dt.includes(An)&&oe[An].push(f)})}else Object.assign(oe,this.getClearStates());yield D.setElementState(oe,_)})}getDataStates(){const{graph:s}=this.context,{nodes:c,edges:f,combos:g}=s.getData(),_={};return[...c,...f,...g].forEach(O=>{_[Wr(O)]=kl(O)}),_}getClearStates(s=!1){const{graph:c}=this.context,{state:f,unselectedState:g,neighborState:_}=this.options,O=new Set([f,g,_]),{nodes:D,edges:G,combos:Q}=c.getData(),oe={};return[...D,...G,...Q].forEach(Se=>{const Ye=kl(Se),dt=Ye.filter(Kt=>!O.has(Kt));(s||dt.length!==Ye.length)&&(oe[Wr(Se)]=dt)}),oe}clearState(){return Bl(this,void 0,void 0,function*(){const{graph:s}=this.context;yield s.setElementState(this.getClearStates(),this.options.animation)})}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}unbindEvents(){const{graph:s}=this.context;Ef.forEach(c=>{s.off(`${c}:${fe.CLICK}`,this.onClickSelect)}),s.off(ye.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}_d.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0};function Of(m){var s;return!!(!((s=m.style)===null||s===void 0)&&s.collapsed)}var hf=A(85695),Ud=A(58871),dd=A(76109);function pf(m,s){if(!m.startsWith(s))return!1;const c=m[s.length];return c>="A"&&c<="Z"}function nd(m,s){return`${s}${(0,q.Z)(m)}`}function Kd(m,s,c=!0){if(!s||!pf(m,s))return m;const f=m.slice(s.length);return c?(0,dd.Z)(f):f}function sc(m,s){const c=Object.entries(m).reduce((f,[g,_])=>(g==="className"||g==="class"||pf(g,s)&&Object.assign(f,{[Kd(g,s)]:_}),f),{});if("opacity"in m){const f=nd("opacity",s),g=m.opacity;if(f in m){const _=m[f];Object.assign(c,{opacity:g*_})}else Object.assign(c,{opacity:g})}return c}function Gc(m,s){const c=s.length;return Object.keys(m).reduce((f,g)=>{if(g.startsWith(s)){const _=g.slice(c);f[_]=m[g]}return f},{})}function ee(m,s){const c=typeof s=="string"?[s]:s,f={};return Object.keys(m).forEach(g=>{c.find(_=>g.startsWith(_))||(f[g]=m[g])}),f}function Me(m,s,c){return Object.entries(m).reduce((f,[g,_])=>(pf(g,s)?f[nd(Kd(g,s,!1),c)]=_:f[g]=_,f),{})}function Ve(m=0){if(typeof m=="number")return[m,m,m];const[s,c=s,f=s]=m;return[s,c,f]}var Tt=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};function pn(m,s){const{datum:c,graph:f}=s;return typeof m=="function"?m.call(f,c):Object.fromEntries(Object.entries(m).map(([g,_])=>typeof _=="function"?[g,_.call(f,c)]:[g,_]))}function yn(m,s){const c=(m==null?void 0:m.style)||{},f=(s==null?void 0:s.style)||{};return Object.assign({},m,s,{style:m!=null&&m.style?Object.assign({},c,f):f})}function Vn(m){const{x:s,y:c,z:f,class:g,className:_,transform:O,transformOrigin:D,zIndex:G,visibility:Q}=m;return Tt(m,["x","y","z","class","className","transform","transformOrigin","zIndex","visibility"])}const Pr=new WeakMap;function Zi(m,s,c){Pr.has(m)||Pr.set(m,{});const f=Pr.get(m);if(!f[s])return f[s]=c,!0;const g=f[s];return ji(g,c)?!1:(f[s]=c,!0)}const ji=(m,s,c=2)=>{if(typeof m!="object"||typeof s!="object")return m===s;const f=Object.keys(m),g=Object.keys(s);if(f.length!==g.length)return!1;for(const _ of f){const O=m[_],D=s[_];if(c>1&&typeof O=="object"&&typeof D=="object"){if(!ji(O,D,c-1))return!1}else if(O!==D)return!1}return!0};function Dt(m,s){const c=Ve(m);let f={};return s.text&&!s.fontSize&&(f={fontSize:Math.min(...c)*.5}),s.src&&(!s.width||!s.height)&&(f={width:c[0]*.5,height:c[1]*.5}),f}function Ta(m){if(m)return typeof m=="string"||typeof m=="function"||Array.isArray(m)?{type:"group",field:s=>s.id,color:m,invert:!1}:m}function ba(m,s){if(!s)return{};const{type:c,color:f,field:g,invert:_}=s,O=G=>{const Q=typeof f=="string"?rn("palette",f):f;if(typeof Q=="function"){const oe={};return G.forEach(([Se,Ye])=>{oe[Se]=Q(_?1-Ye:Ye)}),oe}else if(Array.isArray(Q)){const oe=_?[...Q].reverse():Q,Se={};return G.forEach(([Ye,dt])=>{Se[Ye]=oe[dt%Q.length]}),Se}return{}},D=(G,Q)=>{var oe;return typeof G=="string"?(oe=Q.data)===null||oe===void 0?void 0:oe[G]:G==null?void 0:G(Q)};if(c==="group"){const G=Be(m,Ye=>{if(!g)return"default";const dt=D(g,Ye);return dt?String(dt):"default"}),Q=Object.keys(G),oe=O(Q.map((Ye,dt)=>[Ye,dt])),Se={};return Object.entries(G).forEach(([Ye,dt])=>{dt.forEach(Kt=>{Se[Wr(Kt)]=oe[Ye]})}),Se}else if(c==="value"){const[G,Q]=m.reduce(([Se,Ye],dt)=>{const Kt=D(g,dt);if(typeof Kt!="number")throw new Error(ft(`Palette field ${g} is not a number`));return[Math.min(Se,Kt),Math.max(Ye,Kt)]},[1/0,-1/0]),oe=Q-G;return O(m.map(Se=>[Se.id,(D(g,Se)-G)/oe]))}}function yi(m){const s=typeof m=="string"?rn("palette",m):m;if(typeof s!="function")return s}function ko(m,s){let c=2*m;return typeof s=="string"?c=m*Number(s.replace("%",""))/100:typeof s=="number"&&(c=s),isNaN(c)&&(c=2*m),c}function pu(m,s,c=1,f=!1){const g=f?c:1,_=(m.max[0]-m.min[0])*g;return ko(_,s)}function gu(m,s,c=1){const f=zo(m[0],m[1])*c;return ko(f,s)}var ps=A(65443),Zs={}.toString,ss=function(m){return Zs.call(m).replace(/^\[object /,"").replace(/]$/,"")},wl=ss,ol=Object.prototype,Lo=function(m){var s=m&&m.constructor,c=typeof s=="function"&&s.prototype||ol;return m===c},Fl=Lo,Rl=Object.prototype.hasOwnProperty;function Kl(m){if((0,Y.Z)(m))return!0;if((0,ps.Z)(m))return!m.length;var s=wl(m);if(s==="Map"||s==="Set")return!m.size;if(Fl(m))return!Object.keys(m).length;for(var c in m)if(Rl.call(m,c))return!1;return!0}var xu=Kl;class xc extends j.b_{constructor(s){super(s),this.shapeMap={},this.animateMap={},this.transformPosition(this.attributes),this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(s,c,f,g,_){var O,D,G,Q,oe,Se,Ye,dt;const Kt=this.shapeMap[s];if(f===!1){Kt&&((O=_==null?void 0:_.beforeDestroy)===null||O===void 0||O.call(_,Kt),g.removeChild(Kt),delete this.shapeMap[s],(D=_==null?void 0:_.afterDestroy)===null||D===void 0||D.call(_,Kt));return}const An=typeof c=="string"?rn(Pt.SHAPE,c):c;if(!An)throw new Error(ft(`Shape ${c} not found`));if(!Kt||Kt.destroyed||!(Kt instanceof An)){Kt&&((G=_==null?void 0:_.beforeDestroy)===null||G===void 0||G.call(_,Kt),Kt==null||Kt.destroy(),(Q=_==null?void 0:_.afterDestroy)===null||Q===void 0||Q.call(_,Kt)),(oe=_==null?void 0:_.beforeCreate)===null||oe===void 0||oe.call(_);const Wn=new An({className:s,style:f});return g.appendChild(Wn),this.shapeMap[s]=Wn,(Se=_==null?void 0:_.afterCreate)===null||Se===void 0||Se.call(_,Wn),Wn}return(Ye=_==null?void 0:_.beforeUpdate)===null||Ye===void 0||Ye.call(_,Kt),yu(Kt,f),(dt=_==null?void 0:_.afterUpdate)===null||dt===void 0||dt.call(_,Kt),Kt}transformPosition(s){if("x"in s||"y"in s||"z"in s){const{x:c=0,y:f=0,z:g=0,transform:_}=s,O=Je(+c,+f,+g,_);O&&(this.style.transform=O)}}update(s={}){const c=Object.assign({},this.attributes,s);this.attr(c),this.render(c,this),this.transformPosition(c),this.setVisibility()}bindEvents(){}getGraphicStyle(s){return Vn(s)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(s,c){if(s.length===0)return null;const f=[];if(s[0].x!==void 0||s[0].y!==void 0||s[0].z!==void 0){const{x:_=0,y:O=0,z:D=0}=this.attributes;s.forEach(G=>{const{x:Q=_,y:oe=O,z:Se=D}=G;Object.assign(G,{transform:Se?[["translate3d",Q,oe,Se]]:[["translate",Q,oe]]})})}const g=super.animate(s,c);if(g&&(Vl(this,g),f.push(g)),Array.isArray(s)&&s.length>0){const _=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(s[0]).some(O=>!_.includes(O))){Object.entries(this.shapeMap).forEach(([D,G])=>{const Q=`get${(0,q.Z)(D)}Style`,oe=this[Q];if((0,Ce.Z)(oe)){const Se=s.map(dt=>oe.call(this,Object.assign(Object.assign({},this.attributes),dt))),Ye=G.animate(Qe(Se),c);Ye&&(Vl(G,Ye),f.push(Ye))}});const O=(D,G)=>{if(!xu(D)){const Q=`get${(0,q.Z)(G)}Style`,oe=this[Q];if((0,Ce.Z)(oe)){const Se=s.map(Ye=>oe.call(this,Object.assign(Object.assign({},this.attributes),Ye)));Object.entries(Se[0]).map(([Ye])=>{const dt=Se.map(An=>An[Ye]),Kt=D[Ye];if(Kt){const An=Kt.animate(Qe(dt),c);An&&(Vl(Kt,An),f.push(An))}})}}};this.compositeShapes.forEach(([D,G])=>{const Q=Gc(this.shapeMap,G);O(Q,D)})}}return Pe(f)}getShape(s){return this.shapeMap[s]}setVisibility(){const{visibility:s}=this.attributes;hu(this,s,!0)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function Vl(m,s){s==null||s.finished.then(()=>{const c=m.activeAnimations.findIndex(f=>f===s);c>-1&&m.activeAnimations.splice(c,1)})}var Js=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class mu extends xc{constructor(s){super(yn({style:mu.defaultStyleProps},s))}isTextStyle(s){return pf(s,"label")}isBackgroundStyle(s){return pf(s,"background")}getTextStyle(s){const c=this.getGraphicStyle(s),{padding:f}=c,g=Js(c,["padding"]);return ee(g,"background")}getBackgroundStyle(s){if(s.background===!1)return!1;const c=this.getGraphicStyle(s),{wordWrap:f,wordWrapWidth:g,padding:_}=c,O=sc(c,"background"),{min:[D,G],center:[Q,oe],halfExtents:[Se,Ye]}=this.shapeMap.text.getGeometryBounds(),[dt,Kt,An,Wn]=wi(_),$r=Se*2+Wn+Kt,{width:ni,height:Kr}=O;ni&&Kr?Object.assign(O,{x:Q-Number(ni)/2,y:oe-Number(Kr)/2}):Object.assign(O,{x:D-Wn,y:G-dt,width:f?Math.min($r,g+Wn+Kt):$r,height:Ye*2+dt+An});const{radius:pa}=O;if(typeof pa=="string"&&pa.endsWith("%")){const Ia=Number(pa.replace("%",""))/100;O.radius=Math.min(+O.width,+O.height)*Ia}return O}render(s=this.parsedAttributes,c=this){this.upsert("text",j.xv,this.getTextStyle(s),c),this.upsert("background",j.UL,this.getBackgroundStyle(s),c)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}mu.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0};class Nu extends xc{constructor(s){super(yn({style:Nu.defaultStyleProps},s))}getBadgeStyle(s){return this.getGraphicStyle(s)}render(s=this.parsedAttributes,c=this){this.upsert("label",mu,this.getBadgeStyle(s),c)}getGeometryBounds(){const s=this.getShape("label");return(s.getShape("background")||s.getShape("text")).getGeometryBounds()}}Nu.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1};function vu(m,s=!0){const c=[];return m.forEach((f,g)=>{c.push([g===0?"M":"L",...f])}),s&&c.push(["Z"]),c}const yc={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function bl(m){const s=m.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),c=[];let f="",g={};for(;s.length>0;){let _=s.shift();_ in yc?f=_:s.unshift(_),g={type:f},yc[f].forEach(G=>{_=s.shift(),g[G]=_}),f==="M"?f="L":f==="m"&&(f="l");const[O,...D]=Object.values(g);c.push([O,...D.map(Number)])}return c}function pc(m){const s=[];return(typeof m=="string"?bl(m):m).forEach(f=>{const g=f[0];if(g==="Z"){s.push(s[0]);return}if(g!=="A")for(let _=1;_<f.length;_=_+2)s.push([f[_],f[_+1],0]);else{const _=f.length;s.push([f[_-2],f[_-1],0])}}),s}const Hi=m=>{if(m.length<2)return[["M",0,0],["L",0,0]];const s=m[0],c=m[1],f=m[m.length-1],g=m[m.length-2];m.unshift(g,f),m.push(s,c);const _=[["M",f[0],f[1]]];for(let O=1;O<m.length-2;O+=1){const[D,G]=m[O-1],[Q,oe]=m[O],[Se,Ye]=m[O+1],[dt,Kt]=O!==m.length-2?m[O+2]:[Se,Ye],An=Q+(Se-D)/6,Wn=oe+(Ye-G)/6,$r=Se-(dt-Q)/6,ni=Ye-(Kt-oe)/6;_.push(["C",An,Wn,$r,ni,Se,Ye])}return _};function Yc(m,s,c,f,g,_,O){const[D,G]=ec(m,s),Q={textAlign:s==="left"?"right":s==="right"?"left":"center",textBaseline:s==="top"?"bottom":s==="bottom"?"top":"middle",transform:[["translate",D+c,G+f]]};if(s==="center"||!g)return Q;const oe=pc(_);if(!oe||oe.length<=3)return Q;const Se=oe.map((Kt,An)=>{const Wn=Kt,$r=oe[(An+1)%oe.length];return(0,K.Z)(Wn,$r)?null:[Wn,$r]}).filter(Boolean),Ye=Sd([D,G],Se),dt=Fd([D,G],Ye);if(dt&&Ye&&(Q.transform=[["translate",dt[0]+c,dt[1]+f]],O)){const Kt=Math.atan((Ye[0][1]-Ye[1][1])/(Ye[0][0]-Ye[1][0]));Q.transform.push(["rotate",Kt/Math.PI*180]),Q.textAlign="center",(s==="right"||s==="left")&&(Kt>0?Q.textBaseline=s==="right"?"bottom":"top":Q.textBaseline=s==="right"?"top":"bottom")}return Q}var js=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class Li extends xc{constructor(s){super(yn({style:Li.defaultStyleProps},s))}getLabelStyle(s){if(!s.label||!s.d||s.d.length===0)return!1;const c=sc(this.getGraphicStyle(s),"label"),{maxWidth:f,offsetX:g,offsetY:_,autoRotate:O,placement:D,closeToPath:G}=c,Q=js(c,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),oe=this.shapeMap.key,Se=oe==null?void 0:oe.getRenderBounds();return Object.assign(Yc(Se,D,g,_,G,s.d,O),{wordWrapWidth:pu(Se,f)},Q)}getKeyStyle(s){return this.getGraphicStyle(s)}render(s,c){this.upsert("key",j.y$,this.getKeyStyle(s),c),this.upsert("label",mu,this.getLabelStyle(s),c)}}Li.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0};function $o(m){const s=[],c=f=>{f!=null&&f.children.length&&f.children.forEach(g=>{s.push(g),c(g)})};return c(m),s}function $c(m){const s=[];let c=m.parentNode;for(;c;)s.push(c),c=c.parentNode;return s}class nc extends j.Ee{constructor(s){super(s),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},qu=this,this.isMutationObserved=!0,this.addEventListener(j.Dk.MOUNTED,this.onMounted),this.addEventListener(j.Dk.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:s,clipPath:c,width:f=0,height:g=0}=this.attributes;if(s&&f&&g){const[_,O]=this.getBounds().min,D={x:_,y:O,radius:s,width:f,height:g};if(c)Object.assign(this.parsedStyle.clipPath.style,D);else{const G=new j.UL({style:D});this.style.clipPath=G}}else c&&(this.style.clipPath=null)}}const rd=new WeakMap;let qu=null;const b=m=>{if(qu&&$c(qu).includes(m)){const s=rd.get(m);s?s.includes(qu)||s.push(qu):rd.set(m,[qu])}},L=m=>{const s=rd.get(m);s&&s.forEach(c=>c.handleRadius())};class we extends xc{constructor(s){super(s)}isImage(){const{src:s}=this.attributes;return!!s}getIconStyle(s=this.attributes){const{width:c=0,height:f=0}=s,g=this.getGraphicStyle(s);return this.isImage()?Object.assign({x:-c/2,y:-f/2},g):Object.assign({textBaseline:"middle",textAlign:"center"},g)}render(s=this.attributes,c=this){this.upsert("icon",this.isImage()?nc:j.xv,this.getIconStyle(s),c)}}class On extends xc{get context(){return this.config.context}get parsedAttributes(){return this.attributes}onframe(){}animate(s,c){const f=super.animate(s,c);return f&&(f.onframe=()=>this.onframe(),f.finished.then(()=>this.onframe())),f}}var _i=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class Oa extends On{constructor(s){super(yn({style:Oa.defaultStyleProps},s)),this.type="node"}getSize(s=this.attributes){const{size:c}=s;return Ve(c)}getKeyStyle(s){const c=this.getGraphicStyle(s);return Object.assign(ee(c,["label","halo","icon","badge","port"]))}getLabelStyle(s){if(s.label===!1||!s.labelText)return!1;const c=sc(this.getGraphicStyle(s),"label"),{placement:f,maxWidth:g,offsetX:_,offsetY:O}=c,D=_i(c,["placement","maxWidth","offsetX","offsetY"]),G=this.getShape("key").getLocalBounds();return Object.assign(lh(G,f,_,O),{wordWrapWidth:pu(G,g)},D)}getHaloStyle(s){if(s.halo===!1)return!1;const c=this.getKeyStyle(s),{fill:f}=c,g=_i(c,["fill"]),_=sc(this.getGraphicStyle(s),"halo");return Object.assign(Object.assign(Object.assign({},g),{stroke:f}),_)}getIconStyle(s){if(s.icon===!1||!s.iconText&&!s.iconSrc)return!1;const c=sc(this.getGraphicStyle(s),"icon");return Object.assign(Dt(s.size,c),c)}getBadgesStyle(s){var c;const f=Gc(this.shapeMap,"badge-"),g={};if(Object.keys(f).forEach(Se=>{g[Se]=!1}),s.badge===!1||!(!((c=s.badges)===null||c===void 0)&&c.length))return g;const{badges:_=[],badgePalette:O,opacity:D=1}=s,G=_i(s,["badges","badgePalette","opacity"]),Q=yi(O),oe=sc(this.getGraphicStyle(G),"badge");return _.forEach((Se,Ye)=>{g[Ye]=Object.assign(Object.assign({backgroundFill:Q?Q[Ye%(Q==null?void 0:Q.length)]:void 0,opacity:D},oe),this.getBadgeStyle(Se))}),g}getBadgeStyle(s){const c=this.getShape("key"),{placement:f="top",offsetX:g,offsetY:_}=s,O=_i(s,["placement","offsetX","offsetY"]),D=lh(c.getLocalBounds(),f,g,_,!0);return Object.assign(Object.assign({},D),O)}getPortsStyle(s){var c;const f=this.getPorts(),g={};if(Object.keys(f).forEach(D=>{g[D]=!1}),s.port===!1||!(!((c=s.ports)===null||c===void 0)&&c.length))return g;const _=sc(this.getGraphicStyle(s),"port"),{ports:O=[]}=s;return O.forEach((D,G)=>{const Q=D.key||G,oe=Object.assign(Object.assign({},_),D);if(rf(oe))g[Q]=!1;else{const[Se,Ye]=this.getPortXY(s,D);g[Q]=Object.assign({transform:[["translate",Se,Ye]]},oe)}}),g}getPortXY(s,c){const{placement:f="left"}=c,g=this.getShape("key");return Tu(Xa(this.context,g),f)}getPorts(){return Gc(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(s,c=!1){const f=this.getShape("key").getBounds();return ed(s,f,c)}drawHaloShape(s,c){const f=this.getHaloStyle(s);if(!Zi(this,"halo",f))return;const g=this.getShape("key");this.upsert("halo",g.constructor,f,c)}drawIconShape(s,c){const f=this.getIconStyle(s);Zi(this,"icon",f)&&(this.upsert("icon",we,f,c),b(this))}drawBadgeShapes(s,c){const f=this.getBadgesStyle(s);Object.keys(f).forEach(g=>{const _=f[g];Zi(this,`badge-${g}`,_)&&this.upsert(`badge-${g}`,Nu,_,c)})}drawPortShapes(s,c){const f=this.getPortsStyle(s);Object.keys(f).forEach(g=>{const _=f[g],O=`port-${g}`;Zi(this,O,_)&&this.upsert(O,j.Cd,_,c)})}drawLabelShape(s,c){const f=this.getLabelStyle(s);Zi(this,"label",f)&&this.upsert("label",mu,f,c)}_drawKeyShape(s,c){return this.drawKeyShape(s,c)}render(s=this.parsedAttributes,c=this){this._drawKeyShape(s,c),this.getShape("key")&&(this.drawHaloShape(s,c),this.drawIconShape(s,c),this.drawBadgeShapes(s,c),this.drawLabelShape(s,c),this.drawPortShapes(s,c))}update(s){super.update(s),s&&("x"in s||"y"in s||"z"in s)&&L(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}Oa.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};function Xa(m,s){if(!m)return s.getLocalBounds();const c=m.canvas.getLayer(),f=s.cloneNode();hu(f,"hidden"),c.appendChild(f);const g=f.getLocalBounds();return f.destroy(),g}class ts extends Oa{constructor(s){super(yn({style:ts.defaultStyleProps},s))}drawKeyShape(s,c){return this.upsert("key",j.Cd,this.getKeyStyle(s),c)}getKeyStyle(s){const c=super.getKeyStyle(s);return Object.assign(Object.assign({},c),{r:Math.min(...this.getSize(s))/2})}getIconStyle(s){const c=super.getIconStyle(s),{r:f}=this.getShape("key").attributes,g=f*2*df;return c?Object.assign({width:g,height:g},c):!1}getIntersectPoint(s,c=!1){const f=this.getShape("key").getBounds();return Fc(s,f,c)}}ts.defaultStyleProps={size:32};class is extends Oa{constructor(s){super(s)}get parsedAttributes(){return this.attributes}drawKeyShape(s,c){return this.upsert("key",j.mg,this.getKeyStyle(s),c)}getKeyStyle(s){const c=super.getKeyStyle(s);return Object.assign(Object.assign({},c),{points:this.getPoints(s)})}getIntersectPoint(s,c=!1){var f,g;const{points:_}=this.getShape("key").attributes,O=[+(((f=this.attributes)===null||f===void 0?void 0:f.x)||0),+(((g=this.attributes)===null||g===void 0?void 0:g.y)||0)];return wc(s,O,_,!0,c).point}}class Co extends is{constructor(s){super(s)}getPoints(s){const[c,f]=this.getSize(s);return Zo(c,f)}}var Vu=A(22355),ul=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class ef extends ts{constructor(s){super(yn({style:ef.defaultStyleProps},s))}parseOuterR(){const{size:s}=this.parsedAttributes;return Math.min(...Ve(s))/2}parseInnerR(){const{innerR:s}=this.parsedAttributes;return(0,Mc.Z)(s)?parseInt(s)/100*this.parseOuterR():s}drawDonutShape(s,c){const{donuts:f}=s;if(!(f!=null&&f.length))return;const g=f.map(Se=>(0,Vu.Z)(Se)?{value:Se}:Se),_=sc(this.getGraphicStyle(s),"donut"),O=yi(s.donutPalette);if(!O)return;const D=g.reduce((Se,Ye)=>{var dt;return Se+((dt=Ye.value)!==null&&dt!==void 0?dt:0)},0),G=this.parseOuterR(),Q=this.parseInnerR();let oe=0;g.forEach((Se,Ye)=>{const{value:dt=0,color:Kt=O[Ye%O.length]}=Se,An=ul(Se,["value","color"]),Wn=(D===0?1/g.length:dt/D)*360;this.upsert(`round${Ye}`,j.y$,Object.assign(Object.assign(Object.assign({},_),{d:rh(G,Q,oe,oe+Wn),fill:Kt}),An),c),oe+=Wn})}render(s,c=this){super.render(s,c),this.drawDonutShape(s,c)}}ef.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};const Tc=(m,s,c,f)=>[m+Math.sin(f)*c,s-Math.cos(f)*c],_h=(m,s,c,f)=>f<=0||c<=f?[["M",m-c,s],["A",c,c,0,1,1,m+c,s],["A",c,c,0,1,1,m-c,s],["Z"]]:[["M",m-c,s],["A",c,c,0,1,1,m+c,s],["A",c,c,0,1,1,m-c,s],["Z"],["M",m+f,s],["A",f,f,0,1,0,m-f,s],["A",f,f,0,1,0,m+f,s],["Z"]],bh=(m,s,c,f,g,_)=>{const[O,D]=[g/360*2*Math.PI,_/360*2*Math.PI],G=[Tc(m,s,f,O),Tc(m,s,c,O),Tc(m,s,c,D),Tc(m,s,f,D)],Q=D-O>Math.PI?1:0;return[["M",G[0][0],G[0][1]],["L",G[1][0],G[1][1]],["A",c,c,0,Q,1,G[2][0],G[2][1]],["L",G[3][0],G[3][1]],["A",f,f,0,Q,0,G[0][0],G[0][1]],["Z"]]},rh=(m=0,s=0,c,f)=>{const[g,_]=[0,0];return Math.abs(c-f)%360<1e-6?_h(g,_,m,s):bh(g,_,m,s,c,f)};class ho extends Oa{constructor(s){super(yn({style:ho.defaultStyleProps},s))}drawKeyShape(s,c){return this.upsert("key",j.Pj,this.getKeyStyle(s),c)}getKeyStyle(s){const c=super.getKeyStyle(s),[f,g]=this.getSize(s);return Object.assign(Object.assign({},c),{rx:f/2,ry:g/2})}getIconStyle(s){const c=super.getIconStyle(s),{rx:f,ry:g}=this.getShape("key").attributes,_=Math.min(+f,+g)*2*df;return c?Object.assign({width:_,height:_},c):!1}getIntersectPoint(s,c=!1){const f=this.getShape("key").getBounds();return Fc(s,f,c)}}ho.defaultStyleProps={size:[45,35]};class Yo extends is{constructor(s){super(s)}getOuterR(s){return s.outerR||Math.min(...this.getSize(s))/2}getPoints(s){return Pu(this.getOuterR(s))}getIconStyle(s){const c=super.getIconStyle(s),f=this.getOuterR(s)*df;return c?Object.assign({width:f,height:f},c):!1}}var cu=A(58126),el=A(1819),Hs=A(49025),Xf=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class tf extends Oa{constructor(s){super(Object.assign(Object.assign({},s),{style:Object.assign({},tf.defaultStyleProps,s.style)})),this.rootPointerEvent=new j.nR(null),this.forwardEvents=c=>{const f=this.context.canvas,g=f.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(c,g).forEach(O=>{const D=this.bootstrapEvent(this.rootPointerEvent,O,g,c);(0,Ud.Z)(f.context.eventService,"mappingTable.pointerupoutside",[]),f.context.eventService.mapEvent(D)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[fe.CLICK,fe.POINTER_DOWN,fe.POINTER_MOVE,fe.POINTER_UP,fe.POINTER_OVER,fe.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}getKeyStyle(s){const c=(0,el.Z)(s,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:f=0,dy:g=0}=c,_=Xf(c,["dx","dy"]),[O,D]=this.getSize(s);return Object.assign(Object.assign({x:f,y:g},_),{width:O,height:D})}drawKeyShape(s,c){const f=this.getKeyStyle(s),{x:g,y:_,width:O=0,height:D=0}=f,G=this.upsert("key-container",j.UL,{x:g,y:_,width:O,height:D,opacity:0},c);return this.upsert("key",j.k9,f,G)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof cu.Th))return;const f=this.getDomElement();this.events.forEach(g=>{f.addEventListener(g,this.forwardEvents)})}attributeChangedCallback(s,c,f){s==="zIndex"&&c!==f&&(this.getDomElement().style.zIndex=f)}destroy(){const s=this.getDomElement();this.events.forEach(c=>{s.removeEventListener(c,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(s,c){const f=[];if(c.isTouchEvent(s))for(let g=0;g<s.changedTouches.length;g++){const _=s.changedTouches[g];(0,Hs.Z)(_.button)&&(_.button=0),(0,Hs.Z)(_.buttons)&&(_.buttons=1),(0,Hs.Z)(_.isPrimary)&&(_.isPrimary=s.touches.length===1&&s.type==="touchstart"),(0,Hs.Z)(_.width)&&(_.width=_.radiusX||1),(0,Hs.Z)(_.height)&&(_.height=_.radiusY||1),(0,Hs.Z)(_.tiltX)&&(_.tiltX=0),(0,Hs.Z)(_.tiltY)&&(_.tiltY=0),(0,Hs.Z)(_.pointerType)&&(_.pointerType="touch"),(0,Hs.Z)(_.pointerId)&&(_.pointerId=_.identifier||0),(0,Hs.Z)(_.pressure)&&(_.pressure=_.force||.5),(0,Hs.Z)(_.twist)&&(_.twist=0),(0,Hs.Z)(_.tangentialPressure)&&(_.tangentialPressure=0),_.isNormalized=!0,_.type=s.type,f.push(_)}else if(c.isMouseEvent(s)){const g=s;(0,Hs.Z)(g.isPrimary)&&(g.isPrimary=!0),(0,Hs.Z)(g.width)&&(g.width=1),(0,Hs.Z)(g.height)&&(g.height=1),(0,Hs.Z)(g.tiltX)&&(g.tiltX=0),(0,Hs.Z)(g.tiltY)&&(g.tiltY=0),(0,Hs.Z)(g.pointerType)&&(g.pointerType="mouse"),(0,Hs.Z)(g.pointerId)&&(g.pointerId=1),(0,Hs.Z)(g.pressure)&&(g.pressure=.5),(0,Hs.Z)(g.twist)&&(g.twist=0),(0,Hs.Z)(g.tangentialPressure)&&(g.tangentialPressure=0),g.isNormalized=!0,f.push(g)}else f.push(s);return f}transferMouseData(s,c){s.isTrusted=c.isTrusted,s.srcElement=c.srcElement,s.timeStamp=performance.now(),s.type=c.type,s.altKey=c.altKey,s.metaKey=c.metaKey,s.shiftKey=c.shiftKey,s.ctrlKey=c.ctrlKey,s.button=c.button,s.buttons=c.buttons,s.client.x=c.clientX,s.client.y=c.clientY,s.movement.x=c.movementX,s.movement.y=c.movementY,s.page.x=c.pageX,s.page.y=c.pageY,s.screen.x=c.screenX,s.screen.y=c.screenY,s.relatedTarget=null}bootstrapEvent(s,c,f,g){s.view=f,s.originalEvent=null,s.nativeEvent=g,s.pointerId=c.pointerId,s.width=c.width,s.height=c.height,s.isPrimary=c.isPrimary,s.pointerType=c.pointerType,s.pressure=c.pressure,s.tangentialPressure=c.tangentialPressure,s.tiltX=c.tiltX,s.tiltY=c.tiltY,s.twist=c.twist,this.transferMouseData(s,c);const{x:_,y:O}=this.getViewportXY(c);s.viewport.x=_,s.viewport.y=O;const[D,G]=this.context.canvas.getCanvasByViewport([_,O]);return s.canvas.x=D,s.canvas.y=G,s.global.copyFrom(s.canvas),s.offset.copyFrom(s.canvas),s.isTrusted=g.isTrusted,s.type==="pointerleave"&&(s.type="pointerout"),s}getViewportXY(s){let c,f;const{offsetX:g,offsetY:_,clientX:O,clientY:D}=s;if(this.context.canvas.context.config.supportsCSSTransform&&!(0,Y.Z)(g)&&!(0,Y.Z)(_))c=g,f=_;else{const G=this.eventService.client2Viewport({x:O,y:D});c=G.x,f=G.y}return{x:c,y:f}}onframe(){super.onframe();const{opacity:s}=this.attributes;this.getDomElement().style.opacity=`${s}`}}tf.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"};var Gl=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class Uf extends Oa{constructor(s){super(yn({style:Uf.defaultStyleProps},s))}getKeyStyle(s){const[c,f]=this.getSize(s),g=super.getKeyStyle(s),{fillOpacity:_,opacity:O=_}=g,D=Gl(g,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:O},D),{width:c,height:f,x:-c/2,y:-f/2})}getHaloStyle(s){if(s.halo===!1)return!1;const c=this.getShape("key").attributes,{fill:f,stroke:g}=c,_=Gl(c,["fill","stroke"]),O=sc(this.getGraphicStyle(s),"halo"),D=Number(O.lineWidth),[G,Q]=ti(this.getSize(s),[D,D]);return Object.assign(Object.assign({},O),{width:G,height:Q,fill:"transparent",x:-G/2,y:-Q/2})}getIconStyle(s){const c=super.getIconStyle(s),[f,g]=this.getSize(s);return c?Object.assign({width:f*df,height:g*df},c):!1}drawKeyShape(s,c){const f=this.upsert("key",nc,this.getKeyStyle(s),c);return b(this),f}drawHaloShape(s,c){this.upsert("halo",j.UL,this.getHaloStyle(s),c)}update(s){super.update(s),s&&("x"in s||"y"in s||"z"in s)&&L(this)}}Uf.defaultStyleProps={size:32};class rc extends Oa{constructor(s){super(s)}getKeyStyle(s){const[c,f]=this.getSize(s);return Object.assign(Object.assign({},super.getKeyStyle(s)),{width:c,height:f,x:-c/2,y:-f/2})}getIconStyle(s){const c=super.getIconStyle(s),{width:f,height:g}=this.getShape("key").attributes;return c?Object.assign({width:f*df,height:g*df},c):!1}drawKeyShape(s,c){return this.upsert("key",j.UL,this.getKeyStyle(s),c)}}class Du extends is{constructor(s){super(s)}getInnerR(s){return s.innerR||this.getOuterR(s)*3/8}getOuterR(s){return Math.min(...this.getSize(s))/2}getPoints(s){return wp(this.getOuterR(s),this.getInnerR(s))}getIconStyle(s){const c=super.getIconStyle(s),f=this.getInnerR(s)*2*df;return c?Object.assign({width:f,height:f},c):!1}getPortXY(s,c){const{placement:f="top"}=c,g=this.getShape("key").getLocalBounds(),_=un(this.getOuterR(s),this.getInnerR(s));return Tu(g,f,_,!1)}}class zc extends is{constructor(s){super(yn({style:zc.defaultStyleProps},s))}getPoints(s){const{direction:c}=s,[f,g]=this.getSize(s);return Mn(f,g,c)}getPortXY(s,c){const{direction:f}=s,{placement:g="top"}=c,_=this.getShape("key").getLocalBounds(),[O,D]=this.getSize(s),G=kr(O,D,f);return Tu(_,g,G,!1)}getIconStyle(s){const{icon:c,iconText:f,iconSrc:g,direction:_}=s;if(c===!1||xu(f||g))return!1;const O=sc(this.getGraphicStyle(s),"icon"),D=this.getShape("key").getLocalBounds(),[G,Q]=di(D,_),oe=sa(D,_)*2*df;return Object.assign({x:G,y:Q,width:oe,height:oe},O)}}zc.defaultStyleProps={size:40,direction:"up"};var zf=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class Qu extends Oa{constructor(s){super(yn({style:Qu.defaultStyleProps},s)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(s){const{collapsed:c,childrenNode:f=[]}=s;return f.length===0?this.getEmptyKeySize(s):c?this.getCollapsedKeySize(s):this.getExpandedKeySize(s)}getEmptyKeySize(s){const{padding:c,collapsedSize:f}=s,[g,_,O,D]=wi(c);return ti(Ve(f),[D+_,g+O,0])}getCollapsedKeySize(s){return Ve(s.collapsedSize)}getExpandedKeySize(s){const c=this.getContentBBox(s);return[$n(c),wn(c),0]}getContentBBox(s){const{childrenNode:c=[],padding:f}=s,g=c.map(O=>this.context.element.getElement(O)).filter(Boolean);if(g.length===0){const O=new j.mN,{x:D=0,y:G=0,size:Q}=s,[oe,Se]=Ve(Q);return O.setMinMax([D-oe/2,G-Se/2,0],[D+oe/2,G+Se/2,0]),O}const _=gn(g.map(O=>O.getBounds()));return f?$t(_,f):_}drawCollapsedMarkerShape(s,c){const f=this.getCollapsedMarkerStyle(s);Zi(this,"collapsedMarker",f)&&(this.upsert("collapsed-marker",we,f,c),b(this))}getCollapsedMarkerStyle(s){if(!s.collapsed||!s.collapsedMarker)return!1;const c=sc(this.getGraphicStyle(s),"collapsedMarker"),{type:f}=c,g=zf(c,["type"]),_=this.getShape("key"),[O,D]=ec(_.getLocalBounds(),"center"),G=Object.assign(Object.assign({},g),{x:O,y:D});if(f){const Q=this.getCollapsedMarkerText(f,s);Object.assign(G,{text:Q})}return G}getCollapsedMarkerText(s,c){const{childrenData:f=[]}=c,{model:g}=this.context;return s==="descendant-count"?g.getDescendantsData(this.id).length.toString():s==="child-count"?f.length.toString():s==="node-count"?g.getDescendantsData(this.id).filter(_=>g.getElementType(Wr(_))==="node").length.toString():(0,Ce.Z)(s)?s(f):""}getComboPosition(s){const{x:c=0,y:f=0,collapsed:g,childrenData:_=[]}=s;if(_.length===0)return[+c,+f,0];if(g){const{model:O}=this.context,D=O.getDescendantsData(this.id).filter(G=>!O.isCombo(Wr(G)));if(D.length>0&&D.some(ys)){const G=D.reduce((Q,oe)=>ti(Q,Mo(oe)),[0,0,0]);return so(G,D.length)}return[+c,+f,0]}return this.getContentBBox(s).center}getComboStyle(s){const[c,f]=this.getComboPosition(s);return{x:c,y:f,transform:[["translate",c,f]]}}updateComboPosition(s){const c=this.getComboStyle(s);Object.assign(this.style,c);const{x:f,y:g}=c;this.context.model.syncComboDatum({id:this.id,style:{x:f,y:g}}),L(this)}render(s,c=this){super.render(s,c),this.drawCollapsedMarkerShape(s,c)}update(s={}){super.update(s),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(s,c){const f=super.animate(this.attributes.collapsed?s:s.map(g=>{var{x:_,y:O,z:D,transform:G}=g,Q=zf(g,["x","y","z","transform"]);return Q}),c);return f&&new Proxy(f,{set:(g,_,O)=>(_==="currentTime"&&Promise.resolve().then(()=>this.onframe()),Reflect.set(g,_,O))})}}Qu.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"};class xp extends Qu{constructor(s){super(s)}drawKeyShape(s,c){return this.upsert("key",j.Cd,this.getKeyStyle(s),c)}getKeyStyle(s){const{collapsed:c}=s,f=super.getKeyStyle(s),[g]=this.getKeySize(s);return Object.assign(Object.assign(Object.assign({},f),c&&sc(f,"collapsed")),{r:g/2})}getCollapsedKeySize(s){const[c,f]=Ve(s.collapsedSize),g=Math.max(c,f)/2;return[g*2,g*2,0]}getExpandedKeySize(s){const c=this.getContentBBox(s),[f,g]=nt(c),_=Math.sqrt(Math.pow(f,2)+Math.pow(g,2))/2;return[_*2,_*2,0]}getIntersectPoint(s,c=!1){const f=this.getShape("key").getBounds();return Fc(s,f,c)}}class Zf extends Qu{constructor(s){super(s)}drawKeyShape(s,c){return this.upsert("key",j.UL,this.getKeyStyle(s),c)}getKeyStyle(s){const c=super.getKeyStyle(s),[f,g]=this.getKeySize(s);return Object.assign(Object.assign(Object.assign({},c),s.collapsed&&sc(c,"collapsed")),{width:f,height:g,x:-f/2,y:-g/2})}}var Gh=A(13639),ih=function(m,s){return(0,ps.Z)(m)?m.indexOf(s)>-1:!1},Tp=ih,Z0=function(m,s){return s===void 0&&(s=[]),(0,Gh.Z)(m,function(c){return!Tp(s,c)})},wh=Z0;const Sc={padding:10};function xf(m,s,c,f,g,_){const{padding:O}=Object.assign(Sc,_),D=ze(c,O),G=ze(f,O),Q=[m,...g,s];let oe=null;const Se=[];for(let Ye=0,dt=Q.length;Ye<dt-1;Ye++){const Kt=Ye+1,An=Q[Ye],Wn=Q[Kt],$r=tc(An,Wn);let ni=null;if(Ye===0)if(Kt===dt-1)if(D.intersects(G))ni=zd(An,Wn,D,G);else if(!ur(An,D)&&!ur(Wn,G)){const Kr=ar(An,D),pa=ar(Wn,G);ni=P0(Kr,pa,gf(Kr,pa)),ni.points.unshift(Kr),ni.points.push(pa)}else $r||(ni=nf(An,Wn,D,G));else an(Wn,D)?ni=zd(An,Wn,D,ze(Wn,O),oe):$r||(ni=Rd(An,Wn,D));else Kt===dt-1?an(An,G)?ni=zd(An,Wn,ze(An,O),G,oe):$r||(ni=oh(An,Wn,G,oe)):$r||(ni=P0(An,Wn,oe));ni?(Se.push(...ni.points),oe=ni.direction):oe=gf(An,Wn),Kt<dt-1&&Se.push(Wn)}return Se.map(vi)}const m0={N:"S",S:"N",W:"E",E:"W"},ah={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function gf(m,s){const[c,f]=m,[g,_]=s;return c===g?f>_?"N":"S":f===_?c>g?"W":"E":null}function Xc(m,s){return s==="N"||s==="S"?wn(m):$n(m)}function P0(m,s,c){const f=[m[0],s[1]],g=[s[0],m[1]],_=gf(m,f),O=gf(m,g),D=c?m0[c]:null,G=_===c||_!==D&&O!==c?f:g;return{points:[G],direction:gf(G,s)}}function Rd(m,s,c){if(ur(m,c)){const f=Sl(m,s,c);return{points:[f],direction:gf(f,s)}}else{const f=ar(m,c),_=["left","right"].includes(pi(m,c))?[s[0],f[1]]:[f[0],s[1]];return{points:[_],direction:gf(_,s)}}}function oh(m,s,c,f){const g=ur(s,c)?s:ar(s,c),_=[[g[0],m[1]],[m[0],g[1]]],O=_.filter(G=>pr(G,c)&&!hn(G,c,!0)),D=O.filter(G=>gf(G,m)!==f);if(D.length>0){const G=D.find(Q=>gf(m,Q)===f)||D[0];return{points:[G],direction:gf(G,s)}}else{const G=wh(_,O)[0],Q=$u(s,G,Xc(c,f)/2);return{points:[Sl(Q,m,c),Q],direction:gf(Q,s)}}}function nf(m,s,c,f){let g=Rd(m,s,c);const _=fa(g.points[0]);if(an(_,f)){g=Rd(s,m,f);const O=fa(g.points[0]);if(an(O,c)){const D=$u(m,_,Xc(c,gf(m,_))/2),G=$u(s,O,Xc(f,gf(s,O))/2),Q=[(D[0]+G[0])/2,(D[1]+G[1])/2],oe=Rd(m,Q,c),Se=oh(Q,s,f,oe.direction);g.points=[oe.points[0],Se.points[0]],g.direction=Se.direction}}return g}function zd(m,s,c,f,g){const O=gn([c,f]),D=zo(s,O.center)>zo(m,O.center),[G,Q]=D?[s,m]:[m,s],oe=wn(O)+$n(O);let Se;if(g){const Kt=[G[0]+oe*Math.cos(ah[g]),G[1]+oe*Math.sin(ah[g])];Se=$u(ar(Kt,O),Kt,.01)}else Se=$u(ar(G,O),G,-.01);let Ye=Sl(Se,Q,O),dt=[Qs(Se,2),Qs(Ye,2)];if((0,K.Z)(Qs(Se),Qs(Ye))){const Kt=Fs(ea(Se,G),[1,0,0])+Math.PI/2;Ye=[Q[0]+oe*Math.cos(Kt),Q[1]+oe*Math.sin(Kt),0],Ye=Qs($u(ar(Ye,O),Q,-.01),2);const An=Sl(Se,Ye,O);dt=[Se,An,Ye]}return{points:D?dt.reverse():dt,direction:gf(D?Se:Ye,s)}}function Sl(m,s,c){let f=[m[0],s[1]];return an(f,c)&&(f=[s[0],m[1]]),f}function Zd(m,s,c,f,g){let G=typeof s=="number"?s:.5;s==="start"&&(G=0),s==="end"&&(G=.99);const Q=Ol(m.getPoint(G)),oe=Ol(m.getPoint(G+.01));let Se=s==="start"?"left":s==="end"?"right":"center";if(Ru(Q,oe)||!c){const[$r,ni]=Mh(m,G,f,g);return{transform:[["translate",$r,ni]],textAlign:Se}}let Ye=Math.atan2(oe[1]-Q[1],oe[0]-Q[0]);oe[0]<Q[0]&&(Se=Se==="center"?Se:Se==="left"?"right":"left",f*=-1,Ye+=Math.PI);const[Kt,An]=Mh(m,G,f,g,Ye),Wn=[["translate",Kt,An],["rotate",Ye/Math.PI*180]];return{textAlign:Se,transform:Wn}}function hd(m,s,c,f,g){var _,O;const D=((_=m.badge)===null||_===void 0?void 0:_.getGeometryBounds().halfExtents[0])*2||0,G=((O=m.label)===null||O===void 0?void 0:O.getGeometryBounds().halfExtents[0])*2||0;return Zd(m.key,c,!0,(G?(G/2+D/2)*(s==="suffix"?1:-1):0)+f,g)}function Mh(m,s,c,f,g){const[_,O]=Ol(m.getPoint(s));let D=c,G=f;return g&&(D=c*Math.cos(g)-f*Math.sin(g),G=c*Math.sin(g)+f*Math.cos(g)),[_+D,O+G]}function Pd(m,s,c,f){if((0,K.Z)(m,s))return m;const g=ea(s,m),_=[m[0]+c*g[0],m[1]+c*g[1]],O=Vo(bs(g,!1));return _[0]+=f*O[0],_[1]+=f*O[1],_}function bd(m){return(0,Vu.Z)(m)?[m,-m]:m}function Kc(m){return(0,Vu.Z)(m)?[m,1-m]:m}function Sp(m,s,c){return[["M",m[0],m[1]],["Q",c[0],c[1],s[0],s[1]]]}function i0(m,s,c){return[["M",m[0],m[1]],["C",c[0][0],c[0][1],c[1][0],c[1][1],s[0],s[1]]]}function sh(m,s=0,c=!1){const f=m[0],g=m[m.length-1],_=m.slice(1,m.length-1),O=[["M",f[0],f[1]]];return _.forEach((D,G)=>{const Q=_[G-1]||f,oe=_[G+1]||g;if(!Ec(Q,D,oe)&&s){const[Se,Ye]=Rh(Q,D,oe,s);O.push(["L",Se[0],Se[1]],["Q",D[0],D[1],Ye[0],Ye[1]],["L",Ye[0],Ye[1]])}else O.push(["L",D[0],D[1]])}),O.push(["L",g[0],g[1]]),c&&O.push(["Z"]),O}function Rh(m,s,c,f){const g=rs(m,s),_=rs(c,s),O=Math.min(f,Math.min(g,_)/2),D=[s[0]-O/g*(s[0]-m[0]),s[1]-O/g*(s[1]-m[1])],G=[s[0]-O/_*(s[0]-c[0]),s[1]-O/_*(s[1]-c[1])];return[D,G]}const v0=m=>{const s=Math.PI/2,c=wn(m)/2,f=$n(m)/2,g=Math.atan2(c,f)/2,_=Math.atan2(f,c)/2;return{top:[-s-_,-s+_],"top-right":[-s+_,-g],"right-top":[-s+_,-g],right:[-g,g],"bottom-right":[g,s-_],"right-bottom":[g,s-_],bottom:[s-_,s+_],"bottom-left":[s+_,Math.PI-g],"left-bottom":[s+_,Math.PI-g],left:[Math.PI-g,Math.PI+g],"top-left":[Math.PI+g,-s-_],"left-top":[Math.PI+g,-s-_]}};function Ph(m,s,c,f,g){const _=ze(m),O=m.getCenter();let D=f&&fu(f),G=g&&fu(g);if(!D||!G){const Q=v0(_),oe=Q[s][0],Se=Q[s][1],[Ye,dt]=nt(_),Kt=Math.max(Ye,dt),An=ti(O,[Kt*Math.cos(oe),Kt*Math.sin(oe),0]),Wn=ti(O,[Kt*Math.cos(Se),Kt*Math.sin(Se),0]);D=Yh(m,An),G=Yh(m,Wn),c||([D,G]=[G,D])}return[D,G]}function Ih(m,s,c,f,g,_){const O=m.getPorts()[g||_],D=m.getPorts()[_||g];let[G,Q]=Ph(m,s,c,O,D);const oe=Ap(m,G,Q,f);return O&&(G=Kf(O,oe[0])),D&&(Q=Kf(D,oe[oe.length-1])),i0(G,Q,oe)}function Ap(m,s,c,f){const g=m.getCenter();if((0,K.Z)(s,c)){const _=ea(s,g),O=[f*Math.sign(_[0])||f/2,f*Math.sign(_[1])||-f/2,0];return[ti(s,O),ti(c,mo(O,[1,-1,1]))]}return[$u(g,s,zo(g,s)+f),$u(g,c,zo(g,c)+f)]}function j0(m,s,c,f,g,_,O){const D=zl(m),G=D[_||O],Q=D[O||_];let[oe,Se]=Ph(m,c,f,G,Q);const Ye=a0(m,oe,Se,g);return G&&(oe=Kf(G,Ye[0])),Q&&(Se=Kf(Q,Ye[Ye.length-1])),sh([oe,...Ye,Se],s)}function a0(m,s,c,f){const g=[],_=ze(m);if((0,K.Z)(s,c))switch(pi(s,_)){case"left":g.push([s[0]-f,s[1]]),g.push([s[0]-f,s[1]+f]),g.push([s[0],s[1]+f]);break;case"right":g.push([s[0]+f,s[1]]),g.push([s[0]+f,s[1]+f]),g.push([s[0],s[1]+f]);break;case"top":g.push([s[0],s[1]-f]),g.push([s[0]+f,s[1]-f]),g.push([s[0]+f,s[1]]);break;case"bottom":g.push([s[0],s[1]+f]),g.push([s[0]+f,s[1]+f]),g.push([s[0]+f,s[1]]);break}else{const O=pi(s,_),D=pi(c,_);if(O===D){const G=O;let Q,oe;switch(G){case"left":Q=Math.min(s[0],c[0])-f,g.push([Q,s[1]]),g.push([Q,c[1]]);break;case"right":Q=Math.max(s[0],c[0])+f,g.push([Q,s[1]]),g.push([Q,c[1]]);break;case"top":oe=Math.min(s[1],c[1])-f,g.push([s[0],oe]),g.push([c[0],oe]);break;case"bottom":oe=Math.max(s[1],c[1])+f,g.push([s[0],oe]),g.push([c[0],oe]);break}}else{const G=(Ye,dt)=>({left:[dt[0]-f,dt[1]],right:[dt[0]+f,dt[1]],top:[dt[0],dt[1]-f],bottom:[dt[0],dt[1]+f]})[Ye],Q=G(O,s),oe=G(D,c),Se=Sl(Q,oe,_);g.push(Q,Se,oe)}}return g}function y0(m,s){const c=new Set,f=new Set,g=new Set;return m.forEach(_=>{s(_).forEach(D=>{c.add(D),m.includes(D.source)&&m.includes(D.target)?f.add(D):g.add(D)})}),{edges:Array.from(c),internal:Array.from(f),external:Array.from(g)}}function Cd(m,s){const c=[];let f=m;for(;f;){c.push(f);const g=s(Wr(f));if(g)f=g;else break}if(c.some(g=>{var _;return(_=g.style)===null||_===void 0?void 0:_.collapsed})){const g=c.reverse().findIndex(Of);return c[g]||c.at(-1)}return m}function Lh(m,s){return s||(m<4?10:m===4?12:m*2.5)}const Cp=(m,s)=>{const c=Math.max(m,s)/2;return[["M",-m/2,0],["A",c,c,0,1,0,2*c-m/2,0],["A",c,c,0,1,0,-m/2,0],["Z"]]},Zu=(m,s)=>[["M",-m/2,0],["L",m/2,-s/2],["L",m/2,s/2],["Z"]],ep=(m,s)=>[["M",-m/2,0],["L",0,-s/2],["L",m/2,0],["L",0,s/2],["Z"]],_0=(m,s)=>[["M",-m/2,0],["L",m/2,-s/2],["L",4*m/5-m/2,0],["L",m/2,s/2],["Z"]],Nh=(m,s)=>[["M",-m/2,-s/2],["L",m/2,-s/2],["L",m/2,s/2],["L",-m/2,s/2],["Z"]],Ho=(m,s)=>{const c=m/2,f=m/7,g=m-f;return[["M",-c,0],["L",0,-s/2],["L",0,s/2],["Z"],["M",g-c,-s/2],["L",g+f-c,-s/2],["L",g+f-c,s/2],["L",g-c,s/2],["Z"]]},Op=(m,s)=>[["M",m/2,-s/2],["L",-m/2,0],["L",m/2,0],["L",-m/2,0],["L",m/2,s/2]];var o0=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class wf extends On{constructor(s){super(yn({style:wf.defaultStyleProps},s)),this.type="edge"}get sourceNode(){const{sourceNode:s}=this.parsedAttributes;return this.context.element.getElement(s)}get targetNode(){const{targetNode:s}=this.parsedAttributes;return this.context.element.getElement(s)}getKeyStyle(s){const c=this.getGraphicStyle(s),{loop:f}=c,g=o0(c,["loop"]),{sourceNode:_,targetNode:O}=this,D=f&&tu(_,O)?this.getLoopPath(s):this.getKeyPath(s);return Object.assign({d:D},ee(g,["halo","label","startArrow","endArrow"]))}getLoopPath(s){const{sourcePort:c,targetPort:f}=s,g=this.sourceNode,_=ze(g),O=Math.max($n(_),wn(_)),{placement:D,clockwise:G,dist:Q=O}=sc(this.getGraphicStyle(s),"loop");return Ih(g,D,G,Q,c,f)}getEndpoints(s,c=!0,f=[]){const{sourcePort:g,targetPort:_}=s,{sourceNode:O,targetNode:D}=this,[G,Q]=xd(O,D,g,_);if(!c){const dt=G?fu(G):O.getCenter(),Kt=Q?fu(Q):D.getCenter();return[dt,Kt]}const oe=typeof f=="function"?f():f,Se=Dh(G||O,oe[0]||Q||D),Ye=Dh(Q||D,oe[oe.length-1]||G||O);return[Se,Ye]}getHaloStyle(s){if(s.halo===!1)return!1;const c=this.getKeyStyle(s),f=sc(this.getGraphicStyle(s),"halo");return Object.assign(Object.assign({},c),f)}getLabelStyle(s){if(s.label===!1||!s.labelText)return!1;const c=sc(this.getGraphicStyle(s),"label"),{placement:f,offsetX:g,offsetY:_,autoRotate:O,maxWidth:D}=c,G=o0(c,["placement","offsetX","offsetY","autoRotate","maxWidth"]),Q=Zd(this.shapeMap.key,f,O,g,_),oe=this.shapeMap.key.getLocalBounds(),Se=gu([oe.min,oe.max],D);return Object.assign({wordWrapWidth:Se},Q,G)}getBadgeStyle(s){if(s.badge===!1||!s.badgeText)return!1;const c=sc(s,"badge"),{offsetX:f,offsetY:g,placement:_}=c,O=o0(c,["offsetX","offsetY","placement"]);return Object.assign(O,hd(this.shapeMap,_,s.labelPlacement,f,g))}drawArrow(s,c){var f;const g=c==="start",O=s[c==="start"?"startArrow":"endArrow"],D=this.shapeMap.key;if(O){const G=this.getArrowStyle(s,g);if(!Zi(this,`arrow-${c}`,G))return;const[Q,oe,Se]=g?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],Ye=D.parsedStyle[Q];if(Ye)Ye.attr(G);else{const dt=G.src?j.Ee:j.y$,Kt=new dt({style:G});D.style[Q]=Kt}D.style[oe]=s[Se]||G.width/2+ +G.lineWidth}else{const G=g?"markerStart":"markerEnd";(f=D.style[G])===null||f===void 0||f.destroy(),D.style[G]=null}}getArrowStyle(s,c){const f=this.getShape("key").attributes,g=c?"startArrow":"endArrow",_=sc(this.getGraphicStyle(s),g),{size:O,type:D}=_,G=o0(_,["size","type"]),[Q,oe]=Ve(Lh(f.lineWidth,O)),Ye=((0,Ce.Z)(D)?D:w[D]||Zu)(Q,oe);return Object.assign((0,el.Z)(f,["stroke","strokeOpacity","fillOpacity"]),{width:Q,height:oe},Object.assign({},Ye&&{d:Ye,fill:D==="simple"?"":f.stroke}),G)}drawLabelShape(s,c){const f=this.getLabelStyle(s);Zi(this,"label",f)&&this.upsert("label",mu,f,c)}drawHaloShape(s,c){const f=this.getHaloStyle(s);Zi(this,"halo",f)&&this.upsert("halo",j.y$,f,c)}drawBadgeShape(s,c){const f=this.getBadgeStyle(s);Zi(this,"badge",f)&&this.upsert("badge",Nu,f,c)}drawSourceArrow(s){this.drawArrow(s,"start")}drawTargetArrow(s){this.drawArrow(s,"end")}drawKeyShape(s,c){const f=this.getKeyStyle(s);if(Zi(this,"key",f))return this.upsert("key",j.y$,f,c)}render(s=this.parsedAttributes,c=this){this.drawKeyShape(s,c),this.getShape("key")&&(this.drawSourceArrow(s),this.drawTargetArrow(s),this.drawLabelShape(s,c),this.drawHaloShape(s,c),this.drawBadgeShape(s,c))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(s,c){const f=super.animate(s,c);return f&&new Proxy(f,{set:(g,_,O)=>(_==="currentTime"&&Promise.resolve().then(()=>this.onframe()),Reflect.set(g,_,O))})}}wf.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0};class Od extends wf{constructor(s){super(yn({style:Od.defaultStyleProps},s))}getKeyPath(s){const[c,f]=this.getEndpoints(s),{controlPoints:g,curvePosition:_,curveOffset:O}=s,D=this.getControlPoints(c,f,Kc(_),bd(O),g);return i0(c,f,D)}getControlPoints(s,c,f,g,_){return(_==null?void 0:_.length)===2?_:[Pd(s,c,f[0],g[0]),Pd(s,c,f[1],g[1])]}}Od.defaultStyleProps={curvePosition:.5,curveOffset:20};class Ed extends Od{constructor(s){super(yn({style:Ed.defaultStyleProps},s))}getControlPoints(s,c,f,g){const _=c[0]-s[0];return[[s[0]+_*f[0]+g[0],s[1]],[c[0]-_*f[1]+g[1],c[1]]]}}Ed.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class id extends Od{constructor(s){super(yn({style:id.defaultStyleProps},s))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(s){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(s);const c=Mo(this.ref),f=this.sourceNode.getIntersectPoint(c,!0),g=this.targetNode.getIntersectPoint(c);return[f,g]}toRadialCoordinate(s){const c=Mo(this.ref),f=zo(s,c),g=ta(ea(s,c));return[f,g]}getControlPoints(s,c,f,g){const[_,O]=this.toRadialCoordinate(s),[D]=this.toRadialCoordinate(c),G=D-_;return[[s[0]+(G*f[0]+g[0])*Math.cos(O),s[1]+(G*f[0]+g[0])*Math.sin(O)],[c[0]-(G*f[1]-g[0])*Math.cos(O),c[1]-(G*f[1]-g[0])*Math.sin(O)]]}}id.defaultStyleProps={curvePosition:.5,curveOffset:20};class uh extends Od{constructor(s){super(yn({style:uh.defaultStyleProps},s))}getControlPoints(s,c,f,g){const _=c[1]-s[1];return[[s[0],s[1]+_*f[0]+g[0]],[c[0],c[1]-_*f[1]+g[1]]]}}uh.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class N extends wf{constructor(s){super(yn({style:N.defaultStyleProps},s))}getKeyPath(s){const[c,f]=this.getEndpoints(s);return[["M",c[0],c[1]],["L",f[0],f[1]]]}}N.defaultStyleProps={};const F={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:rs},ce=m=>`${Math.round(m[0])}|||${Math.round(m[1])}`;function ht(m,s){const c=f=>Math.round(f/s);return(0,Vu.Z)(m)?c(m):m.map(c)}function Ft(m,s){const c=Math.abs(m-s);return c>Math.PI?2*Math.PI-c:c}function kn(m,s){const c=s[0]-m[0],f=s[1]-m[1];return!c&&!f?0:Math.atan2(f,c)}function si(m,s,c,f){const g=kn(m,s),_=c[ce(m)],D=kn(_||f,m);return Ft(D,g)}const ki=(m,s)=>{const{offset:c,gridSize:f}=s,g={};return m.forEach(_=>{if(!_||_.destroyed||!_.isVisible())return;const O=$t(_.getRenderBounds(),c);for(let D=ht(O.min[0],f);D<=ht(O.max[0],f);D+=1)for(let G=ht(O.min[1],f);G<=ht(O.max[1],f);G+=1)g[`${D}|||${G}`]=!0}),g};function ro(m,s,c){return Math.min(...s.map(f=>c(m,f)))}function bo(m,s,c){let f=m[0],g=c(m[0],s);for(let _=0;_<m.length;_++){const O=m[_],D=c(O,s);D<g&&(f=O,g=D)}return f}const Gs=(m,s,c,f)=>{if(!s)return[m];const{directionMap:g,offset:_}=f,O=$t(s.getRenderBounds(),_),D=Object.keys(g).reduce((G,Q)=>{if(c.includes(Q)){const oe=g[Q],[Se,Ye]=nt(O),dt=[m[0]+oe.stepX*Se,m[1]+oe.stepY*Ye],Kt=xa(O);for(let An=0;An<Kt.length;An++){const Wn=Ko([m,dt],Kt[An]);Wn&&hn(Wn,O)&&G.push(Wn)}}return G},[]);return an(m,O)||D.push(m),D.map(G=>ht(G,f.gridSize))},lu=(m,s,c,f,g,_,O)=>{const D=[];let G=[_[0]===f[0]?f[0]:m[0]*O,_[1]===f[1]?f[1]:m[1]*O];D.unshift(G);let Q=m,oe=s[ce(Q)];for(;oe;){const dt=oe,Kt=Q;si(dt,Kt,s,c)&&(G=[dt[0]===Kt[0]?G[0]:dt[0]*O,dt[1]===Kt[1]?G[1]:dt[1]*O],D.unshift(G)),oe=s[ce(dt)],Q=dt}const Se=g.map(dt=>[dt[0]*O,dt[1]*O]),Ye=bo(Se,G,rs);return D.unshift(Ye),D};function Us(m,s,c,f){const g=vi(m.getCenter()),_=vi(s.getCenter()),O=Object.assign(F,f),{gridSize:D}=O,G=O.enableObstacleAvoidance?c:[m,s],Q=ki(G,O),oe=ht(g,D),Se=ht(_,D),Ye=Gs(g,m,O.startDirections,O),dt=Gs(_,s,O.endDirections,O);Ye.forEach(Jo=>delete Q[ce(Jo)]),dt.forEach(Jo=>delete Q[ce(Jo)]);const Kt={},An={},Wn={},$r={},ni={},Kr=new pl;for(let Jo=0;Jo<Ye.length;Jo++){const Rs=Ye[Jo],Fu=ce(Rs);Kt[Fu]=Rs,$r[Fu]=0,ni[Fu]=ro(Rs,dt,O.distFunc),Kr.add({id:Fu,value:ni[Fu]})}const pa=dt.map(Jo=>ce(Jo));let Ia=O.maximumLoops,$a,Go=1/0;for(const[Jo,Rs]of Object.entries(Kt))ni[Jo]<=Go&&(Go=ni[Jo],$a=Rs);for(;Object.keys(Kt).length>0&&Ia>0;){const Jo=Kr.minId(!1);if(Jo)$a=Kt[Jo];else break;const Rs=ce($a);if(pa.includes(Rs))return lu($a,Wn,oe,_,Ye,Se,D);delete Kt[Rs],Kr.remove(Rs),An[Rs]=!0;for(const Fu of Object.values(O.directionMap)){const fl=ti($a,[Fu.stepX,Fu.stepY]),Ou=ce(fl);if(An[Ou])continue;const vf=si($a,fl,Wn,oe);if(vf>O.maxAllowedDirectionChange||Q[Ou])continue;Kt[Ou]||(Kt[Ou]=fl);const gc=O.penalties[vf],mc=O.distFunc($a,fl)+(isNaN(gc)?D:gc),Lc=$r[Rs]+mc,lf=$r[Ou];lf&&Lc>=lf||(Wn[Ou]=$a,$r[Ou]=Lc,ni[Ou]=Lc+ro(fl,dt,O.distFunc),Kr.add({id:Ou,value:ni[Ou]}))}Ia-=1}return[]}class pl{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(s,c){let f=0,g=c-1;for(;g-f>1;){const _=Math.floor((f+g)/2);if(this.arr[_].value>s.value)g=_;else if(this.arr[_].value<s.value)f=_;else{this.arr.splice(_,0,s),this.map[s.id]=!0;return}}this.arr.splice(g,0,s),this.map[s.id]=!0}add(s){delete this.map[s.id];const c=this.arr.length;if(!c||this.arr[c-1].value<s.value){this.arr.push(s),this.map[s.id]=!0;return}this._innerAdd(s,c)}remove(s){this.map[s]&&delete this.map[s]}_clearAndGetMinId(){let s;for(let c=this.arr.length-1;c>=0;c--)this.map[this.arr[c].id]?s=this.arr[c].id:this.arr.splice(c,1);return s}_findFirstId(){for(;this.arr.length;){const s=this.arr.shift();if(this.map[s.id])return s.id}}minId(s){return s?this._clearAndGetMinId():this._findFirstId()}}class Ul extends wf{constructor(s){super(yn({style:Ul.defaultStyleProps},s))}getControlPoints(s){const{router:c}=s,{sourceNode:f,targetNode:g}=this,[_,O]=this.getEndpoints(s,!1);let D=[];if(!c)D=s.controlPoints;else if(c.type==="shortest-path"){const G=this.context.element.getNodes();D=Us(f,g,G,c),D.length||(D=xf(_,O,f,g,s.controlPoints,{padding:c.offset}))}else c.type==="orth"&&(D=xf(_,O,f,g,s.controlPoints,c));return D}getPoints(s){const c=this.getControlPoints(s),[f,g]=this.getEndpoints(s,!0,c);return[f,...c,g]}getKeyPath(s){const c=this.getPoints(s);return sh(c,s.radius)}getLoopPath(s){const{sourcePort:c,targetPort:f,radius:g}=s,_=this.sourceNode,O=ze(_),D=Math.max($n(O),wn(O))/4,{placement:G,clockwise:Q,dist:oe=D}=sc(this.getGraphicStyle(s),"loop");return j0(_,g,G,Q,oe,c,f)}}Ul.defaultStyleProps={radius:0,controlPoints:[],router:!1};class ad extends wf{constructor(s){super(yn({style:ad.defaultStyleProps},s))}getKeyPath(s){const{curvePosition:c,curveOffset:f}=s,[g,_]=this.getEndpoints(s),O=s.controlPoint||Pd(g,_,c,f);return Sp(g,_,O)}}ad.defaultStyleProps={curvePosition:.5,curveOffset:30};function ja(m){return m instanceof Oa&&m.type==="node"}function Sa(m){return m instanceof wf}function uo(m){return m instanceof Qu}function Is(m){return ja(m)||Sa(m)||uo(m)}function tu(m,s){return!m||!s?!1:m===s}const uc={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function Tu(m,s,c=uc,f=!0){const g=[.5,.5],_=(0,Mc.Z)(s)?(0,hf.Z)(c,s.toLocaleLowerCase(),g):s;if(!f&&(0,Mc.Z)(s))return _;const[O,D]=_||g;return[m.min[0]+$n(m)*O,m.min[1]+wn(m)*D]}function zl(m){if(!m)return{};const s=m.getPorts();return(m.attributes.ports||[]).forEach((f,g)=>{var _;const{key:O,placement:D}=f;rf(f)&&(s[_=O||g]||(s[_]=ec(m.getShape("key").getBounds(),D)))}),s}function rf(m){const{r:s}=m;return!s||Number(s)===0}function fu(m){return Ar(m)?m:m.getPosition()}function xd(m,s,c,f){const g=Td(m,s,c,f),_=Td(s,m,f,c);return[g,_]}function Td(m,s,c,f){const g=zl(m);if(c)return g[c];const _=Object.values(g);if(_.length===0)return;const O=_.map(Q=>fu(Q)),D=Gp(s,f),[G]=hc(O,D);return _.find(Q=>fu(Q)===G)}function Gp(m,s){const c=zl(m);if(s)return[fu(c[s])];const f=Object.values(c);return f.length>0?f.map(g=>fu(g)):[m.getCenter()]}function Dh(m,s){return uo(m)||ja(m)?Yh(m,s):Kf(m,s)}function Kf(m,s){if(!m||!s)return[0,0,0];if(Ar(m))return m;if(m.attributes.linkToCenter)return m.getPosition();const c=Ar(s)?s:ja(s)?s.getCenter():s.getPosition();return Fc(c,m.getBounds())}function Yh(m,s){if(!m||!s)return[0,0,0];const c=Ar(s)?s:ja(s)?s.getCenter():s.getPosition();return m.getIntersectPoint(c)||m.getCenter()}function lh(m,s="bottom",c=0,f=0,g=!1){const _=s.split("-"),[O,D]=ec(m,s),G=_.includes("left")?"right":_.includes("right")?"left":"center";let Q=_.includes("top")?"bottom":_.includes("bottom")?"top":"middle";return g&&(Q=Q==="top"?"bottom":Q==="bottom"?"top":Q),{transform:[["translate",O+c,D+f]],textBaseline:Q,textAlign:G}}function wp(m,s){return[[0,-m],[s*Math.cos(3*Math.PI/10),-s*Math.sin(3*Math.PI/10)],[m*Math.cos(Math.PI/10),-m*Math.sin(Math.PI/10)],[s*Math.cos(Math.PI/10),s*Math.sin(Math.PI/10)],[m*Math.cos(3*Math.PI/10),m*Math.sin(3*Math.PI/10)],[0,s],[-m*Math.cos(3*Math.PI/10),m*Math.sin(3*Math.PI/10)],[-s*Math.cos(Math.PI/10),s*Math.sin(Math.PI/10)],[-m*Math.cos(Math.PI/10),-m*Math.sin(Math.PI/10)],[-s*Math.cos(3*Math.PI/10),-s*Math.sin(3*Math.PI/10)]]}function un(m,s){const c={};return c.top=[0,-m],c.left=[-m*Math.cos(Math.PI/10),-m*Math.sin(Math.PI/10)],c["left-bottom"]=[-m*Math.cos(3*Math.PI/10),m*Math.sin(3*Math.PI/10)],c.bottom=[0,s],c["right-bottom"]=[m*Math.cos(3*Math.PI/10),m*Math.sin(3*Math.PI/10)],c.right=c.default=[m*Math.cos(Math.PI/10),-m*Math.sin(Math.PI/10)],c}function Mn(m,s,c){const f=s/2,g=m/2,_={up:[[-g,f],[g,f],[0,-f]],left:[[-g,0],[g,f],[g,-f]],right:[[-g,f],[-g,-f],[g,0]],down:[[-g,-f],[g,-f],[0,f]]};return _[c]||_.up}function kr(m,s,c){const f=s/2,g=m/2,_={};return c==="down"?(_.bottom=_.default=[0,f],_.right=[g,-f],_.left=[-g,-f]):c==="left"?(_.top=[g,-f],_.bottom=[g,f],_.left=_.default=[-g,0]):c==="right"?(_.top=[-g,-f],_.bottom=[-g,f],_.right=_.default=[g,0]):(_.left=[-g,f],_.top=_.default=[0,-f],_.right=[g,f]),_}function Yi(m,s){return[[m/2,-s/2],[m/2,s/2],[-m/2,s/2],[-m/2,-s/2]]}function Zo(m,s){return[[0,-s/2],[m/2,0],[0,s/2],[-m/2,0]]}function os(m){return(0,hf.Z)(m,["style","visibility"])!=="hidden"}function yu(m,s){"update"in m?m.update(s):m.attr(s)}function Pu(m){return[[0,m],[m*Math.sqrt(3)/2,m/2],[m*Math.sqrt(3)/2,-m/2],[0,-m],[-m*Math.sqrt(3)/2,-m/2],[-m*Math.sqrt(3)/2,m/2]]}function tl(m){(0,Ud.Z)(m,"__to_be_destroyed__",!0)}function rl(m){return(0,hf.Z)(m,"__to_be_destroyed__",!1)}var Mf=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class lc extends bc{constructor(s,c){super(s,Object.assign({},lc.defaultOptions,c)),this.onCollapseExpand=f=>Mf(this,void 0,void 0,function*(){if(!this.validate(f))return;const{target:g}=f;if(!Is(g))return;const _=g.id,{model:O,graph:D}=this.context,G=O.getElementDataById(_);if(!G)return!1;const{onCollapse:Q,onExpand:oe,animation:Se}=this.options;Of(G)?(yield D.expandElement(_,Se),oe==null||oe(_)):(yield D.collapseElement(_,Se),Q==null||Q(_))}),this.bindEvents()}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}bindEvents(){const{graph:s}=this.context,{trigger:c}=this.options;s.on(`node:${c}`,this.onCollapseExpand),s.on(`combo:${c}`,this.onCollapseExpand)}unbindEvents(){const{graph:s}=this.context,{trigger:c}=this.options;s.off(`node:${c}`,this.onCollapseExpand),s.off(`combo:${c}`,this.onCollapseExpand)}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}destroy(){this.unbindEvents(),super.destroy()}}lc.defaultOptions={enable:!0,animation:!0,trigger:fe.DBLCLICK};var ic={},W=function(m){return m=m||"g",ic[m]?ic[m]+=1:ic[m]=1,m+ic[m]},X=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};const E="g6-create-edge-assist-edge-id",x="g6-create-edge-assist-node-id";class V extends bc{constructor(s,c){super(s,Object.assign({},V.defaultOptions,c)),this.drop=f=>X(this,void 0,void 0,function*(){const{targetType:g}=f;["combo","node"].includes(g)&&this.source?yield this.handleCreateEdge(f):yield this.cancelEdge()}),this.handleCreateEdge=f=>X(this,void 0,void 0,function*(){var g,_,O;if(!this.validate(f))return;const{graph:D,canvas:G,batch:Q,element:oe}=this.context,{style:Se}=this.options;if(this.source){this.createEdge(f),yield this.cancelEdge();return}Q.startBatch(),G.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([f.target.id])[0];const Ye=D.getElementData(this.source);D.addNodeData([{id:x,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:(g=Ye.style)===null||g===void 0?void 0:g.x,y:(_=Ye.style)===null||_===void 0?void 0:_.y}}]),D.addEdgeData([{id:E,source:this.source,target:x,style:Object.assign({pointerEvents:"none"},Se)}]),yield(O=oe.draw({animation:!1}))===null||O===void 0?void 0:O.finished}),this.updateAssistEdge=f=>X(this,void 0,void 0,function*(){var g;if(!this.source)return;const{model:_,element:O}=this.context;_.translateNodeTo(x,[f.canvas.x,f.canvas.y]),yield(g=O.draw({animation:!1,silence:!0}))===null||g===void 0?void 0:g.finished}),this.createEdge=f=>{var g,_;const{graph:O}=this.context,{style:D,onFinish:G,onCreate:Q}=this.options;if(((g=f.target)===null||g===void 0?void 0:g.id)===void 0||this.source===void 0)return;const Se=(_=this.getSelectedNodeIDs([f.target.id]))===null||_===void 0?void 0:_[0],Ye=`${this.source}-${Se}-${W()}`,dt=Q({id:Ye,source:this.source,target:Se,style:D});O.addEdgeData([dt]),G(dt)},this.cancelEdge=()=>X(this,void 0,void 0,function*(){var f;if(!this.source)return;const{graph:g,element:_,batch:O}=this.context;g.removeNodeData([x]),this.source=void 0,yield(f=_.draw({animation:!1}))===null||f===void 0?void 0:f.finished,O.endBatch()}),this.bindEvents()}update(s){super.update(s),this.bindEvents()}bindEvents(){const{graph:s}=this.context,{trigger:c}=this.options;this.unbindEvents(),c==="click"?(s.on(lt.CLICK,this.handleCreateEdge),s.on(ve.CLICK,this.handleCreateEdge),s.on(ye.CLICK,this.cancelEdge),s.on(yt.CLICK,this.cancelEdge)):(s.on(lt.DRAG_START,this.handleCreateEdge),s.on(ve.DRAG_START,this.handleCreateEdge),s.on(fe.POINTER_UP,this.drop)),s.on(fe.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(s){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(c=>c.id).concat(s)))}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}unbindEvents(){const{graph:s}=this.context;s.off(lt.CLICK,this.handleCreateEdge),s.off(ve.CLICK,this.handleCreateEdge),s.off(ye.CLICK,this.cancelEdge),s.off(yt.CLICK,this.cancelEdge),s.off(lt.DRAG_START,this.handleCreateEdge),s.off(ve.DRAG_START,this.handleCreateEdge),s.off(fe.POINTER_UP,this.drop),s.off(fe.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}V.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:m=>m,onFinish:()=>{}};var pe=A(99860),he=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class ke extends bc{constructor(s,c){super(s,Object.assign({},ke.defaultOptions,c)),this.isDragging=!1,this.onDragStart=f=>{this.validate(f)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=f=>{if(!this.isDragging)return;const{x:g,y:_}=f.movement;g|_&&this.translate([g,_],!1)},this.onDragEnd=()=>{var f,g;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),(g=(f=this.options).onFinish)===null||g===void 0||g.call(f)},this.invokeOnFinish=(0,pe.Z)(()=>{var f,g;(g=(f=this.options).onFinish)===null||g===void 0||g.call(f)},300),this.shortcut=new md(s.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}bindEvents(){const{trigger:s}=this.options;if((0,H.Z)(s)){const{up:c=[],down:f=[],left:g=[],right:_=[]}=s;this.shortcut.bind(c,O=>this.onTranslate([0,1],O)),this.shortcut.bind(f,O=>this.onTranslate([0,-1],O)),this.shortcut.bind(g,O=>this.onTranslate([1,0],O)),this.shortcut.bind(_,O=>this.onTranslate([-1,0],O))}else{const{graph:c}=this.context;c.on(fe.DRAG_START,this.onDragStart),c.on(fe.DRAG,this.onDrag),c.on(fe.DRAG_END,this.onDragEnd)}}onTranslate(s,c){return he(this,void 0,void 0,function*(){if(!this.validate(c))return;const{sensitivity:f}=this.options,g=f*-1;yield this.translate(mo(s,g),this.options.animation),this.invokeOnFinish()})}translate(s,c){return he(this,void 0,void 0,function*(){s=this.clampByDirection(s),s=this.clampByRange(s),yield this.context.graph.translateBy(s,c)})}clampByDirection([s,c]){const{direction:f}=this.options;return f==="x"?c=0:f==="y"&&(s=0),[s,c]}clampByRange([s,c]){const{viewport:f,canvas:g}=this.context,[_,O]=g.getSize(),[D,G,Q,oe]=wi(this.options.range),Se=[O*D,_*G,O*Q,_*oe],Ye=$t(vt(f.getCanvasCenter()),Se),dt=ea(f.getViewportCenter(),[s,c,0]);if(!an(dt,Ye)){const{min:[Kt,An],max:[Wn,$r]}=Ye;(dt[0]<Kt&&s>0||dt[0]>Wn&&s<0)&&(s=0),(dt[1]<An&&c>0||dt[1]>$r&&c<0)&&(c=0)}return[s,c]}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return typeof c=="function"?c(s):!!c}unbindEvents(){this.shortcut.unbindAll();const{graph:s}=this.context;s.off(fe.DRAG_START,this.onDragStart),s.off(fe.DRAG,this.onDrag),s.off(fe.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}ke.defaultOptions={enable:m=>"targetType"in m?m.targetType==="canvas":!0,sensitivity:10,direction:"both",range:1/0};var bt=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class qt extends bc{constructor(s,c){super(s,Object.assign({},qt.defaultOptions,c)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=f=>bt(this,void 0,void 0,function*(){var g;if(this.options.dropEffect!=="link")return;const{model:_,element:O}=this.context,D=f.target.id;this.target.forEach(G=>{const Q=_.getParentData(G,Ke);Q&&Wr(Q)===D&&_.refreshComboData(D),_.setParent(G,D,Ke)}),yield(g=O==null?void 0:O.draw({animation:!0}))===null||g===void 0?void 0:g.finished}),this.setCursor=f=>{if(this.isDragging)return;const{type:g}=f,{canvas:_}=this.context,{cursor:O}=this.options;g===fe.POINTER_ENTER?_.setCursor((O==null?void 0:O.grab)||"grab"):_.setCursor((O==null?void 0:O.default)||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}bindEvents(){const{graph:s,canvas:c}=this.context,f=c.getLayer().getContextService().$canvas;f&&(f.addEventListener("blur",this.onDragEnd),f.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(g=>{s.on(`${g}:${fe.DRAG_START}`,this.onDragStart),s.on(`${g}:${fe.DRAG}`,this.onDrag),s.on(`${g}:${fe.DRAG_END}`,this.onDragEnd),s.on(`${g}:${fe.POINTER_ENTER}`,this.setCursor),s.on(`${g}:${fe.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(s.on(ve.DROP,this.onDrop),s.on(ye.DROP,this.onDrop))}getSelectedNodeIDs(s){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(c=>c.id).concat(s)))}getDelta(s){const c=this.context.graph.getZoom();return so([s.dx,s.dy],c)}onDragStart(s){var c;if(this.enable=this.validate(s),!this.enable)return;const{batch:f,canvas:g}=this.context;g.setCursor(((c=this.options.cursor)===null||c===void 0?void 0:c.grabbing)||"grabbing"),this.isDragging=!0,f.startBatch(),this.target=this.getSelectedNodeIDs([s.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(s){if(!this.enable)return;const c=this.getDelta(s);this.options.shadow?this.moveShadow(c):this.moveElement(this.target,c)}onDragEnd(){var s,c,f;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:O=0,y:D=0}=this.shadow.attributes,[G,Q]=ea([+O,+D],this.shadowOrigin);this.moveElement(this.target,[G,Q])}this.showEdges(),(c=(s=this.options).onFinish)===null||c===void 0||c.call(s,this.target);const{batch:g,canvas:_}=this.context;g.endBatch(),_.setCursor(((f=this.options.cursor)===null||f===void 0?void 0:f.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}moveElement(s,c){return bt(this,void 0,void 0,function*(){const{graph:f,model:g}=this.context,{dropEffect:_}=this.options;_==="move"&&s.forEach(O=>g.refreshComboData(O)),f.translateElementBy(Object.fromEntries(s.map(O=>[O,c])),!1)})}moveShadow(s){if(!this.shadow)return;const{x:c=0,y:f=0}=this.shadow.attributes,[g,_]=s;this.shadow.attr({x:+c+g,y:+f+_})}createShadow(s){const c=sc(this.options,"shadow"),f=gn(s.map(Q=>this.context.element.getElement(Q).getBounds())),[g,_]=f.min;this.shadowOrigin=[g,_];const[O,D]=nt(f),G={width:O,height:D,x:g,y:_};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},c),G),{visibility:"visible"})):(this.shadow=new j.UL({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},c),G),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||this.hiddenEdges.length===0||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:s,shadow:c}=this.options;if(s==="none"||c)return;const{graph:f}=this.context;s==="all"?this.hiddenEdges=f.getEdgeData().map(Wr):this.hiddenEdges=Array.from(new Set(this.target.map(g=>f.getRelatedEdgesData(g,s).map(Wr)).flat())),f.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:s,canvas:c}=this.context,f=c.getLayer().getContextService().$canvas;f&&(f.removeEventListener("blur",this.onDragEnd),f.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(g=>{s.off(`${g}:${fe.DRAG_START}`,this.onDragStart),s.off(`${g}:${fe.DRAG}`,this.onDrag),s.off(`${g}:${fe.DRAG_END}`,this.onDragEnd),s.off(`${g}:${fe.POINTER_ENTER}`,this.setCursor),s.off(`${g}:${fe.POINTER_LEAVE}`,this.setCursor)}),s.off(`combo:${fe.DROP}`,this.onDrop),s.off(`canvas:${fe.DROP}`,this.onDrop)}destroy(){var s;this.unbindEvents(),(s=this.shadow)===null||s===void 0||s.destroy(),super.destroy()}}qt.defaultOptions={animation:!0,enable:m=>["node","combo"].includes(m.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}};var Te=A(16754);class ot{constructor(s,c){this.context=s,this.options=c||{}}}var Wt=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})},zn=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};function qn(m){const{type:s}=m;return!!(["comboCombined","comboForce"].includes(s)||s==="antv-dagre"&&m.sortByCombo)}function sr(m){const{type:s}=m;return["compact-box","mindmap","dendrogram","indented"].includes(s)}function Qn(m){return isNumber(m.x)&&isNumber(m.y)}function Qr(m){const{nodes:s,edges:c}=m,f={nodes:[],edges:[],combos:[]};return s.forEach(g=>{const _=g.data._isCombo?f.combos:f.nodes,{x:O,y:D,z:G=0}=g.data;_==null||_.push({id:g.id,style:{x:O,y:D,z:G}})}),c.forEach(g=>{const{id:_,source:O,target:D,data:{points:G=[],controlPoints:Q=G.slice(1,G.length-1)}}=g;f.edges.push({id:_,source:O,target:D,style:Object.assign({},Q!=null&&Q.length?{controlPoints:Q.map(Ol)}:{})})}),f}function Or(m,s){class c extends ot{constructor(g,_){if(super(g,_),this.instance=new m({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const O=this.instance;this.stop=O.stop.bind(O),this.tick=D=>{const G=O.tick(D);return Qr(G)}}}execute(g,_){return Wt(this,void 0,void 0,function*(){return Qr(yield this.instance.execute(this.graphData2LayoutModel(g),this.transformOptions((0,li.Z)({},this.options,_))))})}transformOptions(g){const{onTick:_}=g;return _&&(g.onTick=O=>_(Qr(O))),g}graphData2LayoutModel(g){const{nodes:_=[],edges:O=[],combos:D=[]}=g,G=_.map(dt=>{const Kt=Wr(dt),{data:An,style:Wn,combo:$r}=dt,ni=zn(dt,["data","style","combo"]),Kr={id:Kt,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},An),{data:An}),$r?{parentId:$r}:{}),{style:Wn}),ni)};return Wn!=null&&Wn.x&&Object.assign(Kr.data,{x:Wn.x}),Wn!=null&&Wn.y&&Object.assign(Kr.data,{y:Wn.y}),Wn!=null&&Wn.z&&Object.assign(Kr.data,{z:Wn.z}),Kr}),Q=new Map(G.map(dt=>[dt.id,dt])),oe=O.filter(dt=>{const{source:Kt,target:An}=dt;return Q.has(Kt)&&Q.has(An)}).map(dt=>{const{source:Kt,target:An,data:Wn,style:$r}=dt;return{id:Wr(dt),source:Kt,target:An,data:Object.assign({},Wn),style:Object.assign({},$r)}}),Se=D.map(dt=>({id:Wr(dt),data:Object.assign({_isCombo:!0},dt.data),style:Object.assign({},dt.style)})),Ye=new Te.k({nodes:[...G,...Se],edges:oe});return s.model.model.hasTreeStructure(Ke)&&(Ye.attachTreeStructure(Ke),G.forEach(dt=>{const Kt=s.model.model.getParent(dt.id,Ke);Kt&&Ye.hasNode(Kt.id)&&Ye.setParent(dt.id,Kt.id,Ke)})),Ye}}return c}function bi(m,s,...c){if(s in m)return m[s](...c);if("instance"in m){const f=m.instance;if(s in f)return f[s](...c)}return null}function Pi(m,s){if(s in m)return m[s];if("instance"in m){const c=m.instance;if(s in c)return c[s]}return null}var zr=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class Tr extends qt{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(s=>["d3-force","d3-force-3d"].includes(s==null?void 0:s.id))}validate(s){return this.context.layout?this.forceLayoutInstance?super.validate(s):(ln.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1):!1}moveElement(s,c){return zr(this,void 0,void 0,function*(){const f=this.forceLayoutInstance;this.context.graph.getNodeData(s).forEach((g,_)=>{const{x:O=0,y:D=0}=g.style||{};f&&bi(f,"setFixedPosition",s[_],[...ti([+O,+D],c)])})})}onDragStart(s){if(this.enable=this.validate(s),!this.enable)return;this.target=this.getSelectedNodeIDs([s.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const c=this.forceLayoutInstance;c&&Pi(c,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(f=>{const{x:g=0,y:_=0}=f.style||{};c&&bi(c,"setFixedPosition",Wr(f),[+g,+_])})}onDrag(s){if(!this.enable)return;const c=this.getDelta(s);this.moveElement(this.target,c)}onDragEnd(){const s=this.forceLayoutInstance;s&&Pi(s,"simulation").alphaTarget(0),this.context.graph.getNodeData(this.target).forEach(c=>{s&&bi(s,"setFixedPosition",Wr(c),[null,null,null])})}}var Fr=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class ri extends bc{constructor(s,c){super(s,Object.assign({},ri.defaultOptions,c)),this.isZoomEvent=f=>!!(f.data&&"scale"in f.data),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=f=>Fr(this,void 0,void 0,function*(){if(!this.validate(f))return;const{graph:g}=this.context,{state:_,nodeFilter:O,edgeFilter:D,comboFilter:G}=this.options,Q=(_?g.getElementDataByState("node",_):g.getNodeData()).filter(O),oe=(_?g.getElementDataByState("edge",_):g.getEdgeData()).filter(D),Se=(_?g.getElementDataByState("combo",_):g.getComboData()).filter(G),Ye=this.isZoomEvent(f)?this.zoom=Math.max(.01,Math.min(f.data.scale,10)):this.zoom,dt=[...Q,...Se];dt.length>0&&dt.forEach(Kt=>this.fixNodeLike(Kt,Ye)),this.updateRelatedEdges(),oe.length>0&&oe.forEach(Kt=>this.fixEdge(Kt,Ye))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(f,g,_)=>{var O;const D=this.cachedStyles.get(f)||[],G=((O=D.find(Q=>Q.shape===g))===null||O===void 0?void 0:O.style)||{};return _ in G||(G[_]=g.attributes[_],this.cachedStyles.set(f,[...D.filter(Q=>Q.shape!==g),{shape:g,style:G}])),G[_]},this.scaleEntireElement=(f,g,_)=>{g.setLocalScale(1/_);const O=this.cachedStyles.get(f)||[];O.push({shape:g}),this.cachedStyles.set(f,O)},this.scaleSpecificShapes=(f,g,_)=>{const O=$o(f);(Array.isArray(_)?_:[_]).forEach(G=>{const{shape:Q,fields:oe}=G,Se=typeof Q=="function"?Q(O):f.getShape(Q);if(Se){if(!oe){this.scaleEntireElement(f.id,Se,g);return}oe.forEach(Ye=>{const dt=this.getOriginalFieldValue(f.id,Se,Ye);(0,Vu.Z)(dt)&&(Se.style[Ye]=dt/g)})}})},this.skipIfExceedViewport=f=>{const{viewport:g}=this.context;return!(g!=null&&g.isInViewport(f.getRenderBounds(),!1,30))},this.fixNodeLike=(f,g)=>{const _=Wr(f),{element:O,model:D}=this.context,G=O.getElement(_);if(!G||this.skipIfExceedViewport(G))return;D.getRelatedEdgesData(_).forEach(Se=>this.relatedEdgeToUpdate.add(Wr(Se)));const oe=this.options[G.type];if(!oe){this.scaleEntireElement(_,G,g);return}this.scaleSpecificShapes(G,g,oe)},this.fixEdge=(f,g)=>{const _=Wr(f),O=this.context.element.getElement(_);if(!O||this.skipIfExceedViewport(O))return;const D=this.options.edge;if(!D){O.style.transformOrigin="center",this.scaleEntireElement(_,O,g);return}this.scaleSpecificShapes(O,g,D)},this.updateRelatedEdges=()=>{const{element:f}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(g=>{const _=f.getElement(g);_==null||_.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=f=>Fr(this,void 0,void 0,function*(){var g;!((g=f.data)===null||g===void 0)&&g.firstRender||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(g=>{g.forEach(({shape:_,style:O})=>{if(xu(O))_.setLocalScale(1);else{if(this.options.state)return;Object.entries(O).forEach(([D,G])=>_.style[D]=G)}})});const{graph:s,element:c}=this.context,f=Object.keys(Object.fromEntries(this.cachedStyles)).filter(g=>g&&s.getElementType(g)==="node");if(f.length>0){const g=new Set;f.forEach(_=>{s.getRelatedEdgesData(_).forEach(O=>g.add(Wr(O)))}),g.forEach(_=>{const O=c==null?void 0:c.getElement(_);O==null||O.update({})})}}}bindEvents(){const{graph:s}=this.context;s.on(gt.AFTER_DRAW,this.resetTransform),s.on(gt.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){const{graph:s}=this.context;s.off(gt.AFTER_DRAW,this.resetTransform),s.off(gt.AFTER_TRANSFORM,this.fixElementSize)}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}destroy(){this.unbindEvents(),super.destroy()}}ri.defaultOptions={enable:m=>m.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1};var gr=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class jr extends bc{constructor(s,c){super(s,Object.assign({},jr.defaultOptions,c)),this.focus=f=>gr(this,void 0,void 0,function*(){if(!this.validate(f))return;const{graph:g}=this.context;yield g.focusElement(f.target.id,this.options.animation)}),this.bindEvents()}bindEvents(){const{graph:s}=this.context;this.unbindEvents(),Ef.forEach(c=>{s.on(`${c}:${fe.CLICK}`,this.focus)})}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}unbindEvents(){const{graph:s}=this.context;Ef.forEach(c=>{s.off(`${c}:${fe.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}jr.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0};class Vi extends bc{constructor(s,c){super(s,Object.assign({},Vi.defaultOptions,c)),this.isFrozen=!1,this.toggleFrozen=f=>{this.isFrozen=f.type==="dragstart"},this.hoverElement=f=>{if(!this.validate(f))return;const g=f.type===fe.POINTER_ENTER;this.updateElementsState(f,g);const{onHover:_,onHoverEnd:O}=this.options;g?_==null||_(f):O==null||O(f)},this.updateElementsState=(f,g)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:_}=this.context,{state:O,animation:D,inactiveState:G}=this.options,Q=this.getActiveIds(f),oe={};if(O&&Object.assign(oe,this.getElementsState(Q,O,g)),G){const Se=Ma(_.getData(),!0).filter(Ye=>!Q.includes(Ye));Object.assign(oe,this.getElementsState(Se,G,g))}_.setElementState(oe,D)},this.getElementsState=(f,g,_)=>{const{graph:O}=this.context,D={};return f.forEach(G=>{const Q=O.getElementState(G);_?D[G]=Q.includes(g)?Q:[...Q,g]:D[G]=Q.filter(oe=>oe!==g)}),D},this.bindEvents()}bindEvents(){const{graph:s}=this.context;this.unbindEvents(),Ef.forEach(f=>{s.on(`${f}:${fe.POINTER_ENTER}`,this.hoverElement),s.on(`${f}:${fe.POINTER_LEAVE}`,this.hoverElement)});const c=this.context.canvas.document;c.addEventListener(`${fe.DRAG_START}`,this.toggleFrozen),c.addEventListener(`${fe.DRAG_END}`,this.toggleFrozen)}getActiveIds(s){const{graph:c}=this.context,{degree:f,direction:g}=this.options,_=s.target.id;return f?td(c,s.targetType,_,typeof f=="function"?f(s):f,g):[_]}validate(s){if(this.destroyed||this.isFrozen||rl(s.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}unbindEvents(){const{graph:s}=this.context;Ef.forEach(f=>{s.off(`${f}:${fe.POINTER_ENTER}`,this.hoverElement),s.off(`${f}:${fe.POINTER_LEAVE}`,this.hoverElement)});const c=this.context.canvas.document;c.removeEventListener(`${fe.DRAG_START}`,this.toggleFrozen),c.removeEventListener(`${fe.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}Vi.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0};class da extends vd{onPointerDown(s){if(!super.validate(s)||!super.isKeydown()||this.points)return;const{canvas:c}=this.context;this.pathShape=new j.y$({id:"g6-lasso-select",style:this.options.style}),c.appendChild(this.pathShape),this.points=[yd(s)]}onPointerMove(s){var c;if(!this.points)return;const{immediately:f,mode:g}=this.options;this.points.push(yd(s)),(c=this.pathShape)===null||c===void 0||c.setAttribute("d",vu(this.points)),f&&g==="default"&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){if(this.points){if(this.points.length<2){this.clearLasso();return}super.updateElementsStates(this.points),this.clearLasso()}}clearLasso(){var s;(s=this.pathShape)===null||s===void 0||s.remove(),this.pathShape=void 0,this.points=void 0}}class na extends bc{constructor(s,c){super(s,Object.assign({},na.defaultOptions,c)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(f,g,_)=>{f.filter(Boolean).forEach(O=>{g==="hidden"&&!O.isVisible()?this.hiddenShapes.push(O):g==="visible"&&this.hiddenShapes.includes(O)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(O),1):hu(O,g,!1,_)})},this.filterShapes=(f,g)=>{if((0,Ce.Z)(g))return O=>!g(f,O);const _=g==null?void 0:g[f];return O=>O.className?!(_!=null&&_.includes(O.className)):!0},this.hideShapes=f=>{if(!this.validate(f)||!this.isVisible)return;const{element:g}=this.context,{shapes:_={}}=this.options;this.setElementsVisibility(g.getNodes(),"hidden",this.filterShapes("node",_)),this.setElementsVisibility(g.getEdges(),"hidden",this.filterShapes("edge",_)),this.setElementsVisibility(g.getCombos(),"hidden",this.filterShapes("combo",_)),this.isVisible=!1},this.showShapes=(0,pe.Z)(f=>{if(!this.validate(f)||this.isVisible)return;const{element:g}=this.context;this.setElementsVisibility(g.getNodes(),"visible"),this.setElementsVisibility(g.getEdges(),"visible"),this.setElementsVisibility(g.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){const{graph:s}=this.context;s.on(gt.BEFORE_TRANSFORM,this.hideShapes),s.on(gt.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:s}=this.context;s.off(gt.BEFORE_TRANSFORM,this.hideShapes),s.off(gt.AFTER_TRANSFORM,this.showShapes)}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}na.defaultOptions={enable:!0,debounce:200,shapes:m=>m==="node"};var Ja=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class ka extends bc{constructor(s,c){super(s,Object.assign({},ka.defaultOptions,c)),this.onWheel=f=>Ja(this,void 0,void 0,function*(){this.options.preventDefault&&f.preventDefault();const g=f.deltaX,_=f.deltaY;yield this.scroll([-g,-_],f)}),this.shortcut=new md(s.graph),this.bindEvents()}update(s){super.update(s),this.bindEvents()}bindEvents(){var s,c;const{trigger:f}=this.options;if(this.shortcut.unbindAll(),(0,H.Z)(f)){(s=this.graphDom)===null||s===void 0||s.removeEventListener(fe.WHEEL,this.onWheel);const{up:g=[],down:_=[],left:O=[],right:D=[]}=f;this.shortcut.bind(g,G=>this.scroll([0,-10],G)),this.shortcut.bind(_,G=>this.scroll([0,10],G)),this.shortcut.bind(O,G=>this.scroll([-10,0],G)),this.shortcut.bind(D,G=>this.scroll([10,0],G))}else(c=this.graphDom)===null||c===void 0||c.addEventListener(fe.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(s){const{sensitivity:c}=this.options;return s=mo(s,c),s=this.clampByDirection(s),s=this.clampByRange(s),s}clampByDirection([s,c]){const{direction:f}=this.options;return f==="x"?c=0:f==="y"&&(s=0),[s,c]}clampByRange([s,c]){const{viewport:f,canvas:g}=this.context,[_,O]=g.getSize(),[D,G,Q,oe]=wi(this.options.range),Se=[O*D,_*G,O*Q,_*oe],Ye=$t(vt(f.getCanvasCenter()),Se),dt=ea(f.getViewportCenter(),[s,c,0]);if(!an(dt,Ye)){const{min:[Kt,An],max:[Wn,$r]}=Ye;(dt[0]<Kt&&s>0||dt[0]>Wn&&s<0)&&(s=0),(dt[1]<An&&c>0||dt[1]>$r&&c<0)&&(c=0)}return[s,c]}scroll(s,c){return Ja(this,void 0,void 0,function*(){if(!this.validate(c))return;const{onFinish:f}=this.options,g=this.context.graph,_=this.formatDisplacement(s);yield g.translateBy(_,!1),f==null||f()})}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}destroy(){var s;this.shortcut.destroy(),(s=this.graphDom)===null||s===void 0||s.removeEventListener(fe.WHEEL,this.onWheel),super.destroy()}}ka.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0};var no=A(63777),aa=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class qa extends bc{constructor(s,c){super(s,Object.assign({},qa.defaultOptions,c)),this.zoom=(f,g,_)=>aa(this,void 0,void 0,function*(){if(!this.validate(g))return;const{graph:O}=this.context;let D;"viewport"in g&&(D=Ol(g.viewport));const{sensitivity:G,onFinish:Q}=this.options,oe=1+(0,no.Z)(f,-50,50)*G/100,Se=O.getZoom();yield O.zoomTo(Se*oe,_,D),Q==null||Q()}),this.onReset=()=>aa(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=f=>{this.options.preventDefault&&f.preventDefault()},this.shortcut=new md(s.graph),this.bindEvents()}update(s){super.update(s),this.bindEvents()}bindEvents(){var s;const{trigger:c}=this.options;if(this.shortcut.unbindAll(),Array.isArray(c)&&((s=this.context.canvas.getContainer())===null||s===void 0||s.addEventListener(fe.WHEEL,this.preventDefault),this.shortcut.bind([...c,fe.WHEEL],f=>{const{deltaX:g,deltaY:_}=f;this.zoom(-(_!=null?_:g),f,!1)})),typeof c=="object"){const{zoomIn:f=[],zoomOut:g=[],reset:_=[]}=c;this.shortcut.bind(f,O=>this.zoom(10,O,this.options.animation)),this.shortcut.bind(g,O=>this.zoom(-10,O,this.options.animation)),this.shortcut.bind(_,this.onReset)}}validate(s){if(this.destroyed)return!1;const{enable:c}=this.options;return(0,Ce.Z)(c)?c(s):!!c}destroy(){var s;this.shortcut.destroy(),(s=this.context.canvas.getContainer())===null||s===void 0||s.removeEventListener(fe.WHEEL,this.preventDefault),super.destroy()}}qa.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0};var _o=A(74355),Ts=A(71157),to=A(23230),Ir=A(63010),me=A(15173),bu=A(2562),kt=A(89610),Ls=A(74841),ll=A(86035),Gu=A(95840),cl=A(17162),dl=A(70564),pd=A(11900),gd=A(92875),ku=A(91391),Rf=A(73959);class sl extends Cf{}function af(m,s=!0,c){const f=document.createElement("div");return f.setAttribute("class",`g6-${m}`),Object.assign(f.style,{position:"absolute",display:"block"}),s&&Object.assign(f.style,{position:"unset",gridArea:"1 / 1 / 2 / 2",inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),c&&Object.assign(f.style,c),f}function Qc(m,s="div",c={},f="",g=document.body){const _=document.getElementById(m);_&&_.remove();const O=document.createElement(s);return O.innerHTML=f,O.id=m,Object.assign(O.style,c),g.appendChild(O),O}var Pf=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class If extends sl{constructor(s,c){super(s,Object.assign({},If.defaultOptions,c)),this.$element=af("background"),this.context.canvas.getContainer().prepend(this.$element),this.update(c)}update(s){const c=Object.create(null,{update:{get:()=>super.update}});return Pf(this,void 0,void 0,function*(){c.update.call(this,s),Object.assign(this.$element.style,(0,Rf.Z)(this.options,["key","type"]))})}destroy(){super.destroy(),this.$element.remove()}}If.defaultOptions={transition:"background 0.5s",backgroundSize:"cover"};function wd(m,s,c,f,g,_){const O=m,D=s,G=c-O,Q=f-D;let oe=g-O,Se=_-D,Ye=oe*G+Se*Q,dt=0;Ye<=0?dt=0:(oe=G-oe,Se=Q-Se,Ye=oe*G+Se*Q,Ye<=0?dt=0:dt=Ye*Ye/(G*G+Q*Q));const Kt=oe*oe+Se*Se-dt;return Kt<0?0:Kt}function Rc(m,s,c,f){return(m-c)*(m-c)+(s-f)*(s-f)}function Bu(m,s,c,f,g){return Rc(m,s,c,f)<g*g}function of(m){if(!Number.isFinite(m))return c=>c;if(m===0)return Math.round;const s=Math.pow(10,m);return c=>Math.round(c*s)/s}function El(m){const s=Math.min(m.x1,m.x2),c=Math.max(m.x1,m.x2),f=Math.min(m.y1,m.y2),g=Math.max(m.y1,m.y2);return{x:s,y:f,x2:c,y2:g,width:c-s,height:g-f}}class vs{constructor(s,c,f,g){this.x1=s,this.y1=c,this.x2=f,this.y2=g}equals(s){return this.x1===s.x1&&this.y1===s.y1&&this.x2===s.x2&&this.y2===s.y2}draw(s){s.moveTo(this.x1,this.y1),s.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(s){return new vs(s.x1,s.y1,s.x2,s.y2)}cuts(s,c){if(this.y1===this.y2||c<this.y1&&c<=this.y2||c>this.y1&&c>=this.y2||s>this.x1&&s>=this.x2)return!1;if(s<this.x1&&s<=this.x2)return!0;const f=this.x1+(c-this.y1)*(this.x2-this.x1)/(this.y2-this.y1);return s<=f}distSquare(s,c){return wd(this.x1,this.y1,this.x2,this.y2,s,c)}ptClose(s,c,f){if(this.x1<this.x2){if(s<this.x1-f||s>this.x2+f)return!1}else if(s<this.x2-f||s>this.x1+f)return!1;if(this.y1<this.y2){if(c<this.y1-f||c>this.y2+f)return!1}else if(c<this.y2-f||c>this.y1+f)return!1;return!0}}var qs;(function(m){m[m.POINT=1]="POINT",m[m.PARALLEL=2]="PARALLEL",m[m.COINCIDENT=3]="COINCIDENT",m[m.NONE=4]="NONE"})(qs||(qs={}));class uu{constructor(s,c=0,f=0){this.state=s,this.x=c,this.y=f}}function Tf(m,s){const c=(s.x2-s.x1)*(m.y1-s.y1)-(s.y2-s.y1)*(m.x1-s.x1),f=(m.x2-m.x1)*(m.y1-s.y1)-(m.y2-m.y1)*(m.x1-s.x1),g=(s.y2-s.y1)*(m.x2-m.x1)-(s.x2-s.x1)*(m.y2-m.y1);if(g){const _=c/g,O=f/g;return 0<=_&&_<=1&&0<=O&&O<=1?new uu(qs.POINT,m.x1+_*(m.x2-m.x1),m.y1+_*(m.y2-m.y1)):new uu(qs.NONE)}return new uu(c===0||f===0?qs.COINCIDENT:qs.PARALLEL)}function s0(m,s){const c=(s.x2-s.x1)*(m.y1-s.y1)-(s.y2-s.y1)*(m.x1-s.x1),f=(m.x2-m.x1)*(m.y1-s.y1)-(m.y2-m.y1)*(m.x1-s.x1),g=(s.y2-s.y1)*(m.x2-m.x1)-(s.x2-s.x1)*(m.y2-m.y1);if(g){const _=c/g,O=f/g;if(0<=_&&_<=1&&0<=O&&O<=1)return _}return Number.POSITIVE_INFINITY}function qr(m,s){function c(g,_,O,D){let G=s0(s,new vs(g,_,O,D));return G=Math.abs(G-.5),G>=0&&G<=1?1:0}let f=c(m.x,m.y,m.x2,m.y);return f+=c(m.x,m.y,m.x,m.y2),f>1||(f+=c(m.x,m.y2,m.x2,m.y2),f>1)?!0:(f+=c(m.x2,m.y,m.x2,m.y2),f>0)}var Ra;(function(m){m[m.LEFT=0]="LEFT",m[m.TOP=1]="TOP",m[m.RIGHT=2]="RIGHT",m[m.BOTTOM=3]="BOTTOM"})(Ra||(Ra={}));function La(m,s,c){const f=new Set;return m.width<=0?(f.add(Ra.LEFT),f.add(Ra.RIGHT)):s<m.x?f.add(Ra.LEFT):s>m.x+m.width&&f.add(Ra.RIGHT),m.height<=0?(f.add(Ra.TOP),f.add(Ra.BOTTOM)):c<m.y?f.add(Ra.TOP):c>m.y+m.height&&f.add(Ra.BOTTOM),f}function _s(m,s){let c=s.x1,f=s.y1;const g=s.x2,_=s.y2,O=Array.from(La(m,g,_));if(O.length===0)return!0;let D=La(m,c,f);for(;D.size!==0;){for(const G of O)if(D.has(G))return!1;if(D.has(Ra.RIGHT)||D.has(Ra.LEFT)){let G=m.x;D.has(Ra.RIGHT)&&(G+=m.width),f=f+(G-c)*(_-f)/(g-c),c=G}else{let G=m.y;D.has(Ra.BOTTOM)&&(G+=m.height),c=c+(G-f)*(g-c)/(_-f),f=G}D=La(m,c,f)}return!0}function Al(m,s){let c=Number.POSITIVE_INFINITY,f=0;function g(_,O,D,G){let Q=s0(s,new vs(_,O,D,G));Q=Math.abs(Q-.5),Q>=0&&Q<=1&&(f++,Q<c&&(c=Q))}return g(m.x,m.y,m.x2,m.y),g(m.x,m.y,m.x,m.y2),f>1||(g(m.x,m.y2,m.x2,m.y2),f>1)?c:(g(m.x2,m.y,m.x2,m.y2),f===0?-1:c)}function mf(m,s){let c=0;const f=Tf(m,new vs(s.x,s.y,s.x2,s.y));c+=f.state===qs.POINT?1:0;const g=Tf(m,new vs(s.x,s.y,s.x,s.y2));c+=g.state===qs.POINT?1:0;const _=Tf(m,new vs(s.x,s.y2,s.x2,s.y2));c+=_.state===qs.POINT?1:0;const O=Tf(m,new vs(s.x2,s.y,s.x2,s.y2));return c+=O.state===qs.POINT?1:0,{top:f,left:g,bottom:_,right:O,count:c}}class Kn{constructor(s,c,f,g){this.x=s,this.y=c,this.width=f,this.height=g}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(s){return new Kn(s.x,s.y,s.width,s.height)}equals(s){return this.x===s.x&&this.y===s.y&&this.width===s.width&&this.height===s.height}clone(){return new Kn(this.x,this.y,this.width,this.height)}add(s){const c=Math.min(this.x,s.x),f=Math.min(this.y,s.y),g=Math.max(this.x2,s.x+s.width),_=Math.max(this.y2,s.y+s.height);this.x=c,this.y=f,this.width=g-c,this.height=_-f}addPoint(s){const c=Math.min(this.x,s.x),f=Math.min(this.y,s.y),g=Math.max(this.x2,s.x),_=Math.max(this.y2,s.y);this.x=c,this.y=f,this.width=g-c,this.height=_-f}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(s){s.rect(this.x,this.y,this.width,this.height)}containsPt(s,c){return s>=this.x&&s<=this.x2&&c>=this.y&&c<=this.y2}get area(){return this.width*this.height}intersects(s){return this.area<=0||s.width<=0||s.height<=0?!1:s.x+s.width>this.x&&s.y+s.height>this.y&&s.x<this.x2&&s.y<this.y2}distSquare(s,c){if(this.containsPt(s,c))return 0;const f=La(this,s,c);return f.has(Ra.TOP)?f.has(Ra.LEFT)?Rc(s,c,this.x,this.y):f.has(Ra.RIGHT)?Rc(s,c,this.x2,this.y):(this.y-c)*(this.y-c):f.has(Ra.BOTTOM)?f.has(Ra.LEFT)?Rc(s,c,this.x,this.y2):f.has(Ra.RIGHT)?Rc(s,c,this.x2,this.y2):(c-this.y2)*(c-this.y2):f.has(Ra.LEFT)?(this.x-s)*(this.x-s):f.has(Ra.RIGHT)?(s-this.x2)*(s-this.x2):0}}function Dr(m){if(m.length===0)return null;const s=m[0],c=new Kn(s.x,s.y,0,0);for(const f of m)c.addPoint(f);return c}class ii{constructor(s,c,f){this.cx=s,this.cy=c,this.radius=f}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return this.radius*2}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return this.radius*2}static from(s){return new ii(s.cx,s.cy,s.radius)}containsPt(s,c){return Rc(this.cx,this.cy,s,c)<this.radius*this.radius}distSquare(s,c){const f=Rc(this.cx,this.cy,s,c);if(f<this.radius*this.radius)return 0;const g=Math.sqrt(f)-this.radius;return g*g}draw(s){s.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,Math.PI*2)}}class Pa{constructor(s,c=0,f=0,g=0,_=0,O=10,D=10,G=new Float32Array(Math.max(0,O*D)).fill(0)){this.pixelGroup=s,this.i=c,this.j=f,this.pixelX=g,this.pixelY=_,this.width=O,this.height=D,this.area=G}createSub(s,c){return new Pa(this.pixelGroup,s.x,s.y,c.x,c.y,s.width,s.height)}static fromPixelRegion(s,c){return new Pa(c,0,0,s.x,s.y,Math.ceil(s.width/c),Math.ceil(s.height/c))}copy(s,c){return new Pa(this.pixelGroup,this.scaleX(c.x),this.scaleY(c.y),c.x,c.y,s.width,s.height,s.area)}boundX(s){return s<this.i?this.i:s>=this.width?this.width-1:s}boundY(s){return s<this.j?this.j:s>=this.height?this.height-1:s}scaleX(s){return this.boundX(Math.floor((s-this.pixelX)/this.pixelGroup))}scaleY(s){return this.boundY(Math.floor((s-this.pixelY)/this.pixelGroup))}scale(s){const c=this.scaleX(s.x),f=this.scaleY(s.y),g=this.boundX(Math.ceil((s.x+s.width-this.pixelX)/this.pixelGroup)),_=this.boundY(Math.ceil((s.y+s.height-this.pixelY)/this.pixelGroup)),O=g-c,D=_-f;return new Kn(c,f,O,D)}invertScaleX(s){return Math.round(s*this.pixelGroup+this.pixelX)}invertScaleY(s){return Math.round(s*this.pixelGroup+this.pixelY)}addPadding(s,c){const f=Math.ceil(c/this.pixelGroup),g=this.boundX(s.x-f),_=this.boundY(s.y-f),O=this.boundX(s.x2+f),D=this.boundY(s.y2+f),G=O-g,Q=D-_;return new Kn(g,_,G,Q)}get(s,c){return s<0||c<0||s>=this.width||c>=this.height?Number.NaN:this.area[s+c*this.width]}inc(s,c,f){s<0||c<0||s>=this.width||c>=this.height||(this.area[s+c*this.width]+=f)}set(s,c,f){s<0||c<0||s>=this.width||c>=this.height||(this.area[s+c*this.width]=f)}incArea(s,c){if(s.width<=0||s.height<=0||c===0)return;const f=this.width,g=s.width,_=Math.max(0,s.i),O=Math.max(0,s.j),D=Math.min(s.i+s.width,f),G=Math.min(s.j+s.height,this.height);if(!(G<=0||D<=0||_>=f||G>=this.height))for(let Q=O;Q<G;Q++){const oe=(Q-s.j)*g,Se=Q*f;for(let Ye=_;Ye<D;Ye++){const dt=s.area[Ye-s.i+oe];dt!==0&&(this.area[Ye+Se]+=c*dt)}}}fill(s){this.area.fill(s)}fillArea(s,c){const f=s.x+s.y*this.width;for(let g=0;g<s.height;g++){const _=f+g*this.width;this.area.fill(c,_,_+s.width)}}fillHorizontalLine(s,c,f,g){const _=s+c*this.width;this.area.fill(g,_,_+f)}fillVerticalLine(s,c,f,g){const _=s+c*this.width;for(let O=0;O<f;O++)this.area[_+O*this.width]=g}clear(){this.area.fill(0)}toString(){let s="";for(let c=0;c<this.height;c++){const f=c*this.width;for(let g=0;g<this.width;g++){const _=this.area[f+g];s+=_.toFixed(1).padStart(6),s+=" "}s+=`
`}return s}draw(s,c=!0){if(this.width<=0||this.height<=0)return;s.save(),c&&s.translate(this.pixelX,this.pixelY);const f=this.area.reduce((O,D)=>Math.min(O,D),Number.POSITIVE_INFINITY),g=this.area.reduce((O,D)=>Math.max(O,D),Number.NEGATIVE_INFINITY),_=O=>(O-f)/(g-f);s.scale(this.pixelGroup,this.pixelGroup);for(let O=0;O<this.width;O++)for(let D=0;D<this.height;D++){const G=this.area[O+D*this.width];s.fillStyle=`rgba(0, 0, 0, ${_(G)})`,s.fillRect(O,D,1,1)}s.restore()}drawThreshold(s,c,f=!0){if(!(this.width<=0||this.height<=0)){s.save(),f&&s.translate(this.pixelX,this.pixelY),s.scale(this.pixelGroup,this.pixelGroup);for(let g=0;g<this.width;g++)for(let _=0;_<this.height;_++){const O=this.area[g+_*this.width];s.fillStyle=O>c?"black":"white",s.fillRect(g,_,1,1)}s.restore()}}}function Na(m,s){const c=f=>({x:f.x-s,y:f.y-s,width:f.width+2*s,height:f.height+2*s});return Array.isArray(m)?m.map(c):c(m)}function Oi(m,s,c){return Bi(Object.assign(El(m),{distSquare:(f,g)=>wd(m.x1,m.y1,m.x2,m.y2,f,g)}),s,c)}function Bi(m,s,c){const f=Na(m,c),g=s.scale(f),_=s.createSub(g,f);return Ki(_,s,c,(O,D)=>m.distSquare(O,D)),_}function Ki(m,s,c,f){const g=c*c;for(let _=0;_<m.height;_++)for(let O=0;O<m.width;O++){const D=s.invertScaleX(m.i+O),G=s.invertScaleY(m.j+_),Q=f(D,G);if(Q===0){m.set(O,_,g);continue}if(Q<g){const oe=c-Math.sqrt(Q);m.set(O,_,oe*oe)}}return m}function Xr(m,s,c){const f=s.scale(m),g=s.addPadding(f,c),_=s.createSub(g,{x:m.x-c,y:m.y-c}),O=f.x-g.x,D=f.y-g.y,G=g.x2-f.x2,Q=g.y2-f.y2,oe=g.width-O-G,Se=g.height-D-Q,Ye=c*c;_.fillArea({x:O,y:D,width:oe+1,height:Se+1},Ye);const dt=[0],Kt=Math.max(D,O,G,Q);{const ni=s.invertScaleX(f.x+f.width/2);for(let Kr=1;Kr<Kt;Kr++){const pa=s.invertScaleY(f.y-Kr),Ia=m.distSquare(ni,pa);if(Ia<Ye){const $a=c-Math.sqrt(Ia);dt.push($a*$a)}else break}}const An=[],Wn=Math.max(O,G),$r=Math.max(D,G);for(let ni=1;ni<Wn;ni++){const Kr=s.invertScaleX(f.x-ni),pa=[];for(let Ia=1;Ia<$r;Ia++){const $a=s.invertScaleY(f.y-Ia),Go=m.distSquare(Kr,$a);if(Go<Ye){const Jo=c-Math.sqrt(Go);pa.push(Jo*Jo)}else pa.push(0)}An.push(pa)}for(let ni=1;ni<Math.min(D,dt.length);ni++){const Kr=dt[ni];_.fillHorizontalLine(O,D-ni,oe+1,Kr)}for(let ni=1;ni<Math.min(Q,dt.length);ni++){const Kr=dt[ni];_.fillHorizontalLine(O,D+Se+ni,oe+1,Kr)}for(let ni=1;ni<Math.min(O,dt.length);ni++){const Kr=dt[ni];_.fillVerticalLine(O-ni,D,Se+1,Kr)}for(let ni=1;ni<Math.min(Q,dt.length);ni++){const Kr=dt[ni];_.fillVerticalLine(O+oe+ni,D,Se+1,Kr)}for(let ni=1;ni<O;ni++){const Kr=An[ni-1],pa=O-ni;for(let Ia=1;Ia<D;Ia++)_.set(pa,D-Ia,Kr[Ia-1]);for(let Ia=1;Ia<Q;Ia++)_.set(pa,D+Se+Ia,Kr[Ia-1])}for(let ni=1;ni<G;ni++){const Kr=An[ni-1],pa=O+oe+ni;for(let Ia=1;Ia<D;Ia++)_.set(pa,D-Ia,Kr[Ia-1]);for(let Ia=1;Ia<Q;Ia++)_.set(pa,D+Se+Ia,Kr[Ia-1])}return _}function Ei(m,s,c,f){return{x:m,y:s,width:c,height:f}}function Er(m,s,c){return{cx:m,cy:s,radius:c}}function Fi(m,s,c,f){return{x1:m,y1:s,x2:c,y2:f}}function ma(m,s){return{x:m,y:s}}function eo(m,s,c,f){if(m.length===0)return[];const g=Su(m);return g.map((_,O)=>{const D=g.slice(0,O);return lo(s,_,D,c,f)}).flat()}function lo(m,s,c,f,g){const _=ma(s.cx,s.cy),O=Ya(_,c,m);if(O==null)return[];const D=new vs(_.x,_.y,O.cx,O.cy),G=Ua(D,m,f,g);return No(G,m)}function Ua(m,s,c,f){const g=[],_=[];_.push(m);let O=!0;for(let D=0;D<c&&O;D++)for(O=!1;!O&&_.length>0;){const G=_.pop(),Q=ju(s,G),oe=Q?mf(G,Q):null;if(!Q||!oe||oe.count!==2){O||g.push(G);continue}let Se=f,Ye=od(Q,Se,oe,!0),dt=ou(Ye,_)||ou(Ye,g),Kt=Ss(Ye,s);for(;!dt&&Kt&&Se>=1;)Se/=1.5,Ye=od(Q,Se,oe,!0),dt=ou(Ye,_)||ou(Ye,g),Kt=Ss(Ye,s);if(Ye&&!dt&&!Kt&&(_.push(new vs(G.x1,G.y1,Ye.x,Ye.y)),_.push(new vs(Ye.x,Ye.y,G.x2,G.y2)),O=!0),O)continue;Se=f,Ye=od(Q,Se,oe,!1);let An=ou(Ye,_)||ou(Ye,g);for(Kt=Ss(Ye,s);!An&&Kt&&Se>=1;)Se/=1.5,Ye=od(Q,Se,oe,!1),An=ou(Ye,_)||ou(Ye,g),Kt=Ss(Ye,s);Ye&&!An&&(_.push(new vs(G.x1,G.y1,Ye.x,Ye.y)),_.push(new vs(Ye.x,Ye.y,G.x2,G.y2)),O=!0),O||g.push(G)}for(;_.length>0;)g.push(_.pop());return g}function No(m,s){const c=[];for(;m.length>0;){const f=m.pop();if(m.length===0){c.push(f);break}const g=m.pop(),_=new vs(f.x1,f.y1,g.x2,g.y2);ju(s,_)?(c.push(f),m.push(g)):m.push(_)}return c}function Ya(m,s,c){let f=Number.POSITIVE_INFINITY;return s.reduce((g,_)=>{const O=Rc(m.x,m.y,_.cx,_.cy);if(O>f)return g;const D=new vs(m.x,m.y,_.cx,_.cy),G=cc(c,D);return O*(G+1)*(G+1)<f&&(g=_,f=O*(G+1)*(G+1)),g},null)}function Su(m){if(m.length<2)return m;let s=0,c=0;return m.forEach(f=>{s+=f.cx,c+=f.cy}),s/=m.length,c/=m.length,m.map(f=>{const g=s-f.cx,_=c-f.cy,O=g*g+_*_;return[f,O]}).sort((f,g)=>f[1]-g[1]).map(f=>f[0])}function Ss(m,s){return s.some(c=>c.containsPt(m.x,m.y))}function ou(m,s){return s.some(c=>!!(Bu(c.x1,c.y1,m.x,m.y,.001)||Bu(c.x2,c.y2,m.x,m.y,.001)))}function ju(m,s){let c=Number.POSITIVE_INFINITY,f=null;for(const g of m){if(!_s(g,s))continue;const _=Al(g,s);_>=0&&_<c&&(f=g,c=_)}return f}function cc(m,s){return m.reduce((c,f)=>_s(f,s)&&qr(f,s)?c+1:c,0)}function od(m,s,c,f){const g=c.top,_=c.left,O=c.bottom,D=c.right;if(f){if(_.state===qs.POINT){if(g.state===qs.POINT)return ma(m.x-s,m.y-s);if(O.state===qs.POINT)return ma(m.x-s,m.y2+s);const Ye=m.width*m.height;return m.width*((_.y-m.y+(D.y-m.y))*.5)<Ye*.5?_.y>D.y?ma(m.x-s,m.y-s):ma(m.x2+s,m.y-s):_.y<D.y?ma(m.x-s,m.y2+s):ma(m.x2+s,m.y2+s)}if(D.state===qs.POINT){if(g.state===qs.POINT)return ma(m.x2+s,m.y-s);if(O.state===qs.POINT)return ma(m.x2+s,m.y2+s)}const oe=m.height*m.width;return m.height*((g.x-m.x+(D.x-m.x))*.5)<oe*.5?g.x>O.x?ma(m.x-s,m.y-s):ma(m.x-s,m.y2+s):g.x<O.x?ma(m.x2+s,m.y-s):ma(m.x2+s,m.y2+s)}if(_.state===qs.POINT){if(g.state===qs.POINT)return ma(m.x2+s,m.y2+s);if(O.state===qs.POINT)return ma(m.x2+s,m.y-s);const oe=m.height*m.width;return m.width*((_.y-m.y+(D.y-m.y))*.5)<oe*.5?_.y>D.y?ma(m.x2+s,m.y2+s):ma(m.x-s,m.y2+s):_.y<D.y?ma(m.x2+s,m.y-s):ma(m.x-s,m.y-s)}if(D.state===qs.POINT){if(g.state===qs.POINT)return ma(m.x-s,m.y2+s);if(O.state===qs.POINT)return ma(m.x-s,m.y-s)}const G=m.height*m.width;return m.height*((g.x-m.x+(D.x-m.x))*.5)<G*.5?g.x>O.x?ma(m.x2+s,m.y2+s):ma(m.x2+s,m.y-s):g.x<O.x?ma(m.x-s,m.y2+s):ma(m.x-s,m.y-s)}function $h(m,s,c,f){if(!(m.closed?c<m.length:c<m.length-1))return!1;const _=m.get(s),O=m.get(c+1);for(let D=s+1;D<=c;D++){const G=m.get(D);if(wd(_.x,_.y,O.x,O.y,G.x,G.y)>f)return!1}return!0}function bm(m=0){return s=>{if(m<0||s.length<3)return s;const c=[];let f=0;const g=m*m;for(;f<s.length;){let _=f+1;for(;$h(s,f,_,g);)_++;c.push(s.get(f)),f=_}return new Yp(c)}}function b0(m,s){switch(m){case-2:return(((-s+3)*s-3)*s+1)/6;case-1:return((3*s-6)*s*s+4)/6;case 0:return(((-3*s+3)*s+3)*s+1)/6;case 1:return s*s*s/6;default:throw new Error("unknown error")}}function o1(m=6){function _(O,D,G){let Q=0,oe=0;for(let Se=-2;Se<=1;Se++){const Ye=O.get(D+Se),dt=b0(Se,G);Q+=dt*Ye.x,oe+=dt*Ye.y}return{x:Q,y:oe}}return O=>{if(O.length<3)return O;const D=[],G=O.closed,Q=O.length+3-1+(G?0:2);D.push(_(O,2-(G?0:2),0));for(let oe=2-(G?0:2);oe<Q;oe++)for(let Se=1;Se<=m;Se++)D.push(_(O,oe,Se/m));return new Yp(D)}}function tp(m=8){return s=>{let c=m,f=s.length;if(c>1)for(f=Math.floor(s.length/c);f<3&&c>1;)c-=1,f=Math.floor(s.length/c);const g=[];for(let _=0,O=0;O<f;O++,_+=c)g.push(s.get(_));return new Yp(g)}}class Yp{constructor(s=[],c=!0){this.points=s,this.closed=c}get(s){const c=s,f=this.points.length;return s<0?this.closed?this.get(s+f):this.points[0]:s>=f?this.closed?this.get(s-f):this.points[f-1]:this.points[c]}get length(){return this.points.length}toString(s=1/0){const c=this.points;if(c.length===0)return"";const f=typeof s=="function"?s:of(s);let g="M";for(const _ of c)g+=`${f(_.x)},${f(_.y)} L`;return g=g.slice(0,-1),this.closed&&(g+=" Z"),g}draw(s){const c=this.points;if(c.length!==0){s.beginPath(),s.moveTo(c[0].x,c[0].y);for(const f of c)s.lineTo(f.x,f.y);this.closed&&s.closePath()}}sample(s){return tp(s)(this)}simplify(s){return bm(s)(this)}bSplines(s){return o1(s)(this)}apply(s){return s(this)}containsElements(s){const c=Dr(this.points);return c?s.every(f=>c.containsPt(f.cx,f.cy)&&this.withinArea(f.cx,f.cy)):!1}withinArea(s,c){if(this.length===0)return!1;let f=0;const g=this.points[0],_=new vs(g.x,g.y,g.x,g.y);for(let O=1;O<this.points.length;O++){const D=this.points[O];_.x1=_.x2,_.y1=_.y2,_.x2=D.x,_.y2=D.y,_.cuts(s,c)&&f++}return _.x1=_.x2,_.y1=_.y2,_.x2=g.x,_.y2=g.y,_.cuts(s,c)&&f++,f%2===1}}class M_{constructor(s=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=s}add(s){this.set.add(`${s.x}x${s.y}`),this.arr[this.count++]=s}contains(s){return this.set.has(`${s.x}x${s.y}`)}isFirst(s){if(this.count===0)return!1;const c=this.arr[0];return c!=null&&c.x===s.x&&c.y===s.y}path(){return new Yp(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(s){return this.arr[s]}get length(){return this.count}}const Ev=0,xv=1,Tv=2,s1=3;function R_(m,s){const c=(Math.floor(m.width)+Math.floor(m.height))*2,f=new M_(c);function g(G,Q,oe,Se){const Ye=m.get(G,Q);return Number.isNaN(Ye)?Number.NaN:Ye>s?oe+Se:oe}function _(G,Q){let oe=Ev;return oe=g(G,Q,oe,1),oe=g(G+1,Q,oe,2),oe=g(G,Q+1,oe,4),oe=g(G+1,Q+1,oe,8),Number.isNaN(oe)?-1:oe}let O=xv;function D(G,Q){let oe=G,Se=Q,Ye=m.invertScaleX(oe),dt=m.invertScaleY(Se);for(let Kt=0;Kt<m.width*m.height;Kt++){const An={x:Ye,y:dt};if(f.contains(An)){if(f.isFirst(An))return!0}else f.add(An);const Wn=_(oe,Se);switch(Wn){case-1:return!0;case 0:case 3:case 2:case 7:O=Tv;break;case 12:case 14:case 4:O=s1;break;case 6:O=O===Ev?s1:Tv;break;case 1:case 13:case 5:O=Ev;break;case 9:O=O===Tv?Ev:xv;break;case 10:case 8:case 11:O=xv;break;default:return console.warn("Marching squares invalid state: "+Wn),!0}switch(O){case Ev:Se--,dt-=m.pixelGroup;break;case xv:Se++,dt+=m.pixelGroup;break;case s1:oe--,Ye-=m.pixelGroup;break;case Tv:oe++,Ye+=m.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+Wn),!0}}return!0}for(let G=0;G<m.width;G++)for(let Q=0;Q<m.height;Q++){if(m.get(G,Q)<=s)continue;const oe=_(G,Q);if(!(oe<0||oe===15)&&D(G,Q))return f.path()}return null}const Sv={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function u1(m){return m!=null&&typeof m.radius=="number"}function sy(m,s){if(u1(m)!==u1(s))return!1;if(u1(m)){const f=s;return m.cx===f.cx&&m.cy===f.cy&&m.radius===f.radius}const c=s;return m.x===c.x&&m.y===c.y&&m.width===c.width&&m.height===c.height}var np;(function(m){m[m.MEMBERS=0]="MEMBERS",m[m.NON_MEMBERS=1]="NON_MEMBERS",m[m.EDGES=2]="EDGES"})(np||(np={}));class Av{constructor(s={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new Kn(0,0,0,0),this.potentialArea=new Pa(1,0,0,0,0,0,0),this.o=Object.assign({},Sv,s)}pushMember(...s){if(s.length!==0){this.dirty.add(np.MEMBERS);for(const c of s)this.members.push({raw:c,obj:u1(c)?ii.from(c):Kn.from(c),area:null})}}removeMember(s){const c=this.members.findIndex(f=>sy(f.raw,s));return c<0?!1:(this.members.splice(c,1),this.dirty.add(np.MEMBERS),!0)}removeNonMember(s){const c=this.nonMembers.findIndex(f=>sy(f.raw,s));return c<0?!1:(this.nonMembers.splice(c,1),this.dirty.add(np.NON_MEMBERS),!0)}removeEdge(s){const c=this.edges.findIndex(f=>f.obj.equals(s));return c<0?!1:(this.edges.splice(c,1),this.dirty.add(np.NON_MEMBERS),!0)}pushNonMember(...s){if(s.length!==0){this.dirty.add(np.NON_MEMBERS);for(const c of s)this.nonMembers.push({raw:c,obj:u1(c)?ii.from(c):Kn.from(c),area:null})}}pushEdge(...s){if(s.length!==0){this.dirty.add(np.EDGES);for(const c of s)this.edges.push({raw:c,obj:vs.from(c),area:null})}}update(){const s=this.dirty.has(np.MEMBERS),c=this.dirty.has(np.NON_MEMBERS);let f=this.dirty.has(np.EDGES);this.dirty.clear();const g=this.members.map(Q=>Q.obj);if(this.o.virtualEdges&&(s||c)){const Q=this.nonMembers.map(Ye=>Ye.obj),oe=eo(g,Q,this.o.maxRoutingIterations,this.o.morphBuffer),Se=new Map(this.virtualEdges.map(Ye=>[Ye.obj.toString(),Ye.area]));this.virtualEdges=oe.map(Ye=>{var dt;return{raw:Ye,obj:Ye,area:(dt=Se.get(Ye.toString()))!==null&&dt!==void 0?dt:null}}),f=!0}let _=!1;if(s||f){const Q=this.virtualEdges.concat(this.edges).map(dt=>dt.obj),oe=Ba(g,Q),Se=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,Ye=Kn.from(Na(oe,Se));Ye.equals(this.activeRegion)||(_=!0,this.activeRegion=Ye)}if(_){const Q=Math.ceil(this.activeRegion.width/this.o.pixelGroup),oe=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=Pa.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(Se=>Se.area=null),this.nonMembers.forEach(Se=>Se.area=null),this.edges.forEach(Se=>Se.area=null),this.virtualEdges.forEach(Se=>Se.area=null)):(Q!==this.potentialArea.width||oe!==this.potentialArea.height)&&(this.potentialArea=Pa.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const O=new Map,D=Q=>{if(Q.area){const oe=`${Q.obj.width}x${Q.obj.height}x${Q.obj instanceof Kn?"R":"C"}`;O.set(oe,Q.area)}},G=Q=>{if(Q.area)return;const oe=`${Q.obj.width}x${Q.obj.height}x${Q.obj instanceof Kn?"R":"C"}`;if(O.has(oe)){const Ye=O.get(oe);Q.area=this.potentialArea.copy(Ye,{x:Q.obj.x-this.o.nodeR1,y:Q.obj.y-this.o.nodeR1});return}const Se=Q.obj instanceof Kn?Xr(Q.obj,this.potentialArea,this.o.nodeR1):Bi(Q.obj,this.potentialArea,this.o.nodeR1);Q.area=Se,O.set(oe,Se)};this.members.forEach(D),this.nonMembers.forEach(D),this.members.forEach(G),this.nonMembers.forEach(Q=>{this.activeRegion.intersects(Q.obj)?G(Q):Q.area=null}),this.edges.forEach(Q=>{Q.area||(Q.area=Oi(Q.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(Q=>{Q.area||(Q.area=Oi(Q.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(s){for(const c of this.members)c.obj.draw(s)}drawNonMembers(s){for(const c of this.nonMembers)c.obj.draw(s)}drawEdges(s){for(const c of this.edges)c.obj.draw(s)}drawPotentialArea(s,c=!0){this.potentialArea.draw(s,c)}compute(){if(this.members.length===0)return new Yp([]);this.dirty.size>0&&this.update();const{o:s,potentialArea:c}=this,f=this.members.map(D=>D.area),g=this.virtualEdges.concat(this.edges).map(D=>D.area),_=this.nonMembers.filter(D=>D.area!=null).map(D=>D.area),O=this.members.map(D=>D.obj);return G2(c,f,g,_,D=>D.containsElements(O),s)}}function G2(m,s,c,f,g,_={}){const O=Object.assign({},Sv,_);let D=O.threshold,G=O.memberInfluenceFactor,Q=O.edgeInfluenceFactor,oe=O.nonMemberInfluenceFactor;const Se=(O.nodeR0-O.nodeR1)*(O.nodeR0-O.nodeR1),Ye=(O.edgeR0-O.edgeR1)*(O.edgeR0-O.edgeR1);for(let dt=0;dt<O.maxMarchingIterations;dt++){if(m.clear(),G!==0){const An=G/Se;for(const Wn of s)m.incArea(Wn,An)}if(Q!==0){const An=Q/Ye;for(const Wn of c)m.incArea(Wn,An)}if(oe!==0){const An=oe/Se;for(const Wn of f)m.incArea(Wn,An)}const Kt=R_(m,D);if(Kt&&g(Kt))return Kt;if(D*=.95,dt<=O.maxMarchingIterations*.5)G*=1.2,Q*=1.2;else if(oe!==0&&f.length>0)oe*=.8;else break}return new Yp([])}function Ba(m,s){if(m.length===0)return new Kn(0,0,0,0);const c=Kn.from(m[0]);for(const f of m)c.add(f);for(const f of s)c.add(El(f));return c}function n3(m,s=[],c=[],f={}){if(m.length===0)return new Yp([]);const g=new Av(f);return g.pushMember(...m),g.pushNonMember(...s),g.pushEdge(...c),g.compute()}var uy=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class $p extends sl{constructor(s,c){super(s,(0,li.Z)({},$p.defaultOptions,c)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{const{style:f,bubbleSetOptions:g}=this.parseOptions();(0,K.Z)(this.bubbleSetOptions,g)||this.init(),this.bubbleSetOptions=Object.assign({},g);const _=Object.assign(Object.assign({},f),{d:this.getPath()});this.shape?this.shape.update(_):(this.shape=new Li({style:_}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=f=>{if(!this.shape)return;const g=Wr(f.data);[...this.options.members,...this.options.avoidMembers].includes(g)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(g)}))},this.getPath=f=>{const{graph:g}=this.context,_=this.options.members,O=[...this.members.keys()],D=this.options.avoidMembers,G=[...this.avoidMembers.keys()];if(!f&&(0,K.Z)(_,O)&&(0,K.Z)(D,G))return this.path;const{enter:Q=[],exit:oe=[]}=Ks(O,_,Wn=>Wn),{enter:Se=[],exit:Ye=[]}=Ks(G,D,Wn=>Wn);f&&(oe.push(f),Q.push(f));const dt=(Wn,$r,ni)=>{Wn.forEach(Kr=>{const pa=ni?this.members:this.avoidMembers,Ia=ni?"pushMember":"pushNonMember",$a=ni?"removeMember":"removeNonMember";if($r){let Go;g.getElementType(Kr)==="edge"?([Go]=qo(g,Kr),this.bubbleSets.pushEdge(Go)):([Go]=P_(g,Kr),this.bubbleSets[Ia](Go)),pa.set(Kr,Go)}else{const Go=pa.get(Kr);Go&&(g.getElementType(Kr)==="edge"?this.bubbleSets.removeEdge(Go):this.bubbleSets[$a](Go),pa.delete(Kr))}})};dt(oe,!1,!0),dt(Q,!0,!0),dt(Ye,!1,!1),dt(Se,!0,!1);const An=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=Hi(An.points.map(Ol)),this.path},this.bindEvents(),this.bubbleSets=new Av(this.options)}bindEvents(){this.context.graph.on(gt.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(gt.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new Av(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const s=this.options,{type:c,key:f,members:g,avoidMembers:_}=s,O=uy(s,["type","key","members","avoidMembers"]),D=Object.keys(O).reduce((G,Q)=>(Q in Sv?G.bubbleSetOptions[Q]=O[Q]:G.style[Q]=O[Q],G),{style:{},bubbleSetOptions:{}});return Object.assign({type:c,key:f,members:g,avoidMembers:_},D)}addMember(s){const c=Array.isArray(s)?s:[s];c.some(f=>this.options.avoidMembers.includes(f))&&(this.options.avoidMembers=this.options.avoidMembers.filter(f=>!c.includes(f))),this.options.members=[...new Set([...this.options.members,...c])],this.drawBubbleSets()}removeMember(s){const c=Array.isArray(s)?s:[s];this.options.members=this.options.members.filter(f=>!c.includes(f)),this.drawBubbleSets()}updateMember(s){this.options.members=(0,Ce.Z)(s)?s(this.options.members):s,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(s){const c=Array.isArray(s)?s:[s];c.some(f=>this.options.members.includes(f))&&(this.options.members=this.options.members.filter(f=>!c.includes(f))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...c])],this.drawBubbleSets()}removeAvoidMember(s){const c=Array.isArray(s)?s:[s];this.options.avoidMembers.some(f=>c.includes(f))&&(this.options.avoidMembers=this.options.avoidMembers.filter(f=>!c.includes(f)),this.drawBubbleSets())}updateAvoidMember(s){this.options.avoidMembers=Array.isArray(s)?s:[s],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(gt.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(gt.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}$p.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},Sv);const P_=(m,s)=>(Array.isArray(s)?s:[s]).map(f=>{const g=m.getElementRenderBounds(f);return new Kn(g.min[0],g.min[1],$n(g),wn(g))}),qo=(m,s)=>(Array.isArray(s)?s:[s]).map(f=>{const g=m.getEdgeData(f),_=m.getElementPosition(g.source),O=m.getElementPosition(g.target);return vs.from({x1:_[0],y1:_[1],x2:O[0],y2:O[1]})});class r3 extends null{constructor(s,c){super(s,c),this.setOptions=f=>{const g={cameraType:"setType",near:"setNear",far:"setFar",fov:"setFov",aspect:"setAspect",projectionMode:"setProjectionMode",distance:"setDistance",minDistance:"setMinDistance",maxDistance:"setMaxDistance",roll:"setRoll",elevation:"setElevation",azimuth:"setAzimuth"},_=(O,D)=>{switch(O){case"projectionMode":return D==="perspective"?1:0;case"cameraType":return{orbiting:0,exploring:1,tracking:2}[D];case"aspect":return typeof D=="number"?D:this.getCanvasAspect();default:return D}};Object.entries(g).forEach(([O,D])=>{const G=f[O];if(G!==void 0){const Q=_(O,G);this.context.canvas.getCamera()[D](Q)}})},this.bindEvents()}update(s){this.setOptions(s),super.update(s)}bindEvents(){this.context.graph.once(GraphEvent.BEFORE_DRAW,()=>this.setOptions(this.options))}getCanvasAspect(){const[s,c]=this.context.viewport.getCanvasSize();return s/c}}function Y2(m){return`
    <ul class="g6-contextmenu-ul">
      ${m.map(s=>`<li  class="g6-contextmenu-li" value="${s.value}">${s.name}</li>`).join("")}
    </ul>
  `}const I_=`
  .g6-contextmenu {
    font-size: 12px;
    background-color: rgba(255, 255, 255, 0.96);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;
    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;
  }

  .g6-contextmenu-ul {
    max-width: 256px;
    min-width: 96px;
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .g6-contextmenu-li {
    padding: 8px 12px;
    cursor: pointer;
    user-select: none;
  }

  .g6-contextmenu-li:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`;var l1=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class Em extends sl{constructor(s,c){super(s,Object.assign({},Em.defaultOptions,c)),this.targetElement=null,this.onTriggerEvent=f=>{var g;(g=f.preventDefault)===null||g===void 0||g.call(f),this.show(f)},this.onMenuItemClick=f=>{const{onClick:g,trigger:_}=this.options;if(f.target instanceof HTMLElement&&f.target.className.includes("g6-contextmenu-li")){const O=f.target.getAttribute("value");g==null||g(O,f.target,this.targetElement),this.hide()}_!=="click"&&this.hide()},this.initElement(),this.update(c)}initElement(){this.$element=af("contextmenu",!1,{zIndex:"99"});const{className:s}=this.options;s&&this.$element.classList.add(s),this.context.canvas.getContainer().appendChild(this.$element),Qc("g6-contextmenu-css","style",{},I_,document.head)}show(s){return l1(this,void 0,void 0,function*(){const{enable:c,offset:f}=this.options;if(typeof c=="function"&&!c(s)||!c){this.hide();return}const g=yield this.getDOMContent(s);g instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(g)):this.$element.innerHTML=g;const _=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${s.client.x-_.left+f[0]}px`,this.$element.style.top=`${s.client.y-_.top+f[1]}px`,this.$element.style.display="block",this.targetElement=s.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(s){return l1(this,void 0,void 0,function*(){const{getContent:c,getItems:f}=this.options;return f?Y2(yield f(s)):yield c(s)})}bindEvents(){const{graph:s}=this.context,{trigger:c}=this.options;s.on(`canvas:${c}`,this.onTriggerEvent),s.on(`node:${c}`,this.onTriggerEvent),s.on(`edge:${c}`,this.onTriggerEvent),s.on(`combo:${c}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:s}=this.context,{trigger:c}=this.options;s.off(`canvas:${c}`,this.onTriggerEvent),s.off(`node:${c}`,this.onTriggerEvent),s.off(`edge:${c}`,this.onTriggerEvent),s.off(`combo:${c}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}Em.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0};class xm extends sl{constructor(s,c){super(s,Object.assign({},xm.defaultOptions,c)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{const{model:f,element:g}=this.context,_=f.getEdgeData();this.divideEdges(this.options.divisions);const{cycles:O,iterRate:D,divRate:G}=this.options;let{lambda:Q,divisions:oe,iterations:Se}=this.options;for(let Ye=0;Ye<O;Ye++){for(let dt=0;dt<Se;dt++){const Kt={};_.forEach(An=>{var Wn;if(An.source===An.target)return;const $r=Wr(An);Kt[$r]=this.getEdgeForces(An,oe,Q);for(let ni=0;ni<oe+1;ni++)(Wn=this.edgePoints)[$r]||(Wn[$r]=[]),this.edgePoints[$r][ni]=ti(this.edgePoints[$r][ni],Kt[$r][ni])})}Q/=2,oe*=G,Se*=D,this.divideEdges(oe)}_.forEach(Ye=>{const dt=Wr(Ye),Kt=g.getElement(dt);Kt==null||Kt.update({d:sh(this.edgePoints[dt])})})},this.bindEvents()}get nodeMap(){const s=this.context.model.getNodeData();return Object.fromEntries(s.map(c=>[Wr(c),vi(Mo(c))]))}divideEdges(s){this.context.model.getEdgeData().forEach(f=>{var g;const _=Wr(f);(g=this.edgePoints)[_]||(g[_]=[]);const O=this.nodeMap[f.source],D=this.nodeMap[f.target];if(s===1)this.edgePoints[_].push(O),this.edgePoints[_].push(so(ti(O,D),2)),this.edgePoints[_].push(D);else{const Q=(this.edgePoints[_].length===0?zo(O,D):og(this.edgePoints[_]))/(s+1);let oe=Q;const Se=[O];for(let Ye=1;Ye<this.edgePoints[_].length;Ye++){const dt=this.edgePoints[_][Ye-1],Kt=this.edgePoints[_][Ye];let An=zo(Kt,dt);for(;An>oe;){const Wn=oe/An,$r=ti(dt,mo(ea(Kt,dt),Wn));Se.push($r),An-=oe,oe=Q}oe-=An}Se.push(D),this.edgePoints[_]=Se}})}getVectorPosition(s){const c=this.nodeMap[s.source],f=this.nodeMap[s.target],[g,_]=ea(f,c),O=zo(c,f);return{source:c,target:f,vx:g,vy:_,length:O}}measureEdgeCompatibility(s,c){const f=this.getVectorPosition(s),g=this.getVectorPosition(c),_=Cv(f,g),O=ly(f,g),D=L_(f,g),G=ch(f,g);return _*O*D*G}getEdgeBundles(){const s={},c=this.options.bundleThreshold,f=this.context.model.getEdgeData();return f.forEach((g,_)=>{f.forEach((O,D)=>{var G,Q;if(D<=_)return;this.measureEdgeCompatibility(g,O)>=c&&(s[G=Wr(g)]||(s[G]=[]),s[Wr(g)].push(O),s[Q=Wr(O)]||(s[Q]=[]),s[Wr(O)].push(g))})}),s}getSpringForce(s,c){const{pre:f,cur:g,next:_}=s;return mo(ea(ti(f,_),mo(g,2)),c)}getElectrostaticForce(s,c){xu(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());const f=this.edgeBundles[Wr(c)];let g=[0,0];return f==null||f.forEach(_=>{const O=this.edgePoints[Wr(_)][s],D=this.edgePoints[Wr(c)][s],G=ea(O,D),Q=zo(O,D);g=ti(g,mo(G,1/Q))}),g}getEdgeForces(s,c,f){const g=this.nodeMap[s.source],_=this.nodeMap[s.target],O=this.options.K/(zo(g,_)*(c+1)),D=[[0,0]],G=Wr(s);for(let Q=1;Q<c;Q++){const oe=this.getSpringForce({pre:this.edgePoints[G][Q-1],cur:this.edgePoints[G][Q],next:this.edgePoints[G][Q+1]||[0,0]},O),Se=this.getElectrostaticForce(Q,s);D.push(mo(ti(oe,Se),f))}return D.push([0,0]),D}bindEvents(){const{graph:s}=this.context;s.on(gt.AFTER_RENDER,this.onBundle)}unbindEvents(){const{graph:s}=this.context;s.off(gt.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}xm.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6};const Cv=(m,s)=>Math.abs(Io([m.vx,m.vy],[s.vx,s.vy])/(m.length*s.length)),ly=(m,s)=>{const c=(m.length+s.length)/2;return 2/(c/Math.min(m.length,s.length)+Math.max(m.length,s.length)/c)},L_=(m,s)=>{const c=(m.length+s.length)/2,f=so(ti(m.source,m.target),2),g=so(ti(s.source,s.target),2);return c/(c+zo(f,g))},Tm=(m,s)=>{if(s.source[0]===s.target[0])return[s.source[0],m[1]];if(s.source[1]===s.target[1])return[m[0],s.source[1]];const c=(s.source[1]-s.target[1])/(s.source[0]-s.target[0]),f=(c*c*s.source[0]+c*(m[1]-s.source[1])+m[0])/(c*c+1),g=c*(f-s.source[0])+s.source[1];return[f,g]},N_=(m,s)=>{const c=Tm(s.source,m),f=Tm(s.target,m),g=so(ti(c,f),2),_=so(ti(m.source,m.target),2);return zo(c,f)===0?0:Math.max(0,1-2*zo(_,g)/zo(c,f))},ch=(m,s)=>Math.min(N_(m,s),N_(s,m)),og=m=>{let s=0;for(let c=1;c<m.length;c++)s+=zo(m[c],m[c-1]);return s},D_={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8,zIndex:-1/0},k_=.05;class Gg extends sl{constructor(s,c){super(s,Object.assign({},Gg.defaultOptions,c)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=f=>{if(this.options.trigger==="drag"&&this.isLensOn)return;const g=Ol(f.canvas);this.renderLens(g),this.renderFocusElements()},this.renderLens=f=>{const g=Object.assign({},D_,this.options.style);this.isLensOn||(this.lens=new ts({style:g}),this.canvas.appendChild(this.lens)),Object.assign(g,al(f),{size:this.r*2}),this.lens.update(g)},this.getFilterData=()=>{const{filter:f}=this.options,{model:g}=this.context,_=g.getData();if(!f)return _;const{nodes:O,edges:D,combos:G}=_;return{nodes:O.filter(Q=>f(Wr(Q),"node")),edges:D.filter(Q=>f(Wr(Q),"edge")),combos:G.filter(Q=>f(Wr(Q),"combo"))}},this.getFocusElements=f=>{const{nodes:g,edges:_}=this.getFilterData(),O=g.filter(Q=>zo(Mo(Q),f)<this.r),D=O.map(Q=>Wr(Q)),G=_.filter(Q=>{const{source:oe,target:Se}=Q,Ye=D.includes(oe),dt=D.includes(Se);switch(this.options.nodeType){case"both":return Ye&&dt;case"either":return Ye!==dt;case"source":return Ye&&!dt;case"target":return!Ye&&dt;default:return!1}});return{nodes:O,edges:G}},this.renderFocusElements=()=>{const{element:f,graph:g}=this.context;if(!this.isLensOn)return;const _=this.lens.getCenter(),{nodes:O,edges:D}=this.getFocusElements(_),G=new Set,Q=oe=>{const Se=Wr(oe);G.add(Se);const Ye=f.getElement(Se);if(!Ye)return;const dt=this.shapes.get(Se)||Ye.cloneNode();dt.setPosition(Ye.getPosition()),dt.id=Ye.id,this.shapes.has(Se)?Object.entries(Ye.attributes).forEach(([Wn,$r])=>{dt.style[Wn]!==$r&&(dt.style[Wn]=$r)}):(this.canvas.appendChild(dt),this.shapes.set(Se,dt));const Kt=g.getElementType(Se),An=this.getElementStyle(Kt,oe);dt.update(An)};O.forEach(Q),D.forEach(Q),this.shapes.forEach((oe,Se)=>{G.has(Se)||(oe.destroy(),this.shapes.delete(Se))})},this.scaleRByWheel=f=>{var g;this.options.preventDefault&&f.preventDefault();const{clientX:_,clientY:O,deltaX:D,deltaY:G}=f,{graph:Q,canvas:oe}=this.context,Se=Q.getCanvasByClient([_,O]),Ye=(g=this.lens)===null||g===void 0?void 0:g.getCenter();if(!this.isLensOn||zo(Se,Ye)>this.r)return;const{maxR:dt,minR:Kt}=this.options,An=D+G>0?1/(1-k_):1-k_,Wn=Math.min(...oe.getSize())/2;this.r=Math.max(Kt||0,Math.min(dt||Wn,this.r*An)),this.renderLens(Ye),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=f=>{var g;const _=Ol(f.canvas),O=(g=this.lens)===null||g===void 0?void 0:g.getCenter();!this.isLensOn||zo(_,O)>this.r||(this.isLensDragging=!0)},this.onDrag=f=>{if(!this.isLensDragging)return;const g=Ol(f.canvas);this.renderLens(g),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(s,c){const f=s==="node"?this.options.nodeStyle:this.options.edgeStyle;return typeof f=="function"?f(c):f}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var s;const{graph:c}=this.context,{trigger:f,scaleRBy:g}=this.options,_=c.getCanvas().getLayer();["click","drag"].includes(f)&&_.addEventListener(fe.CLICK,this.onEdgeFilter),f==="pointermove"?_.addEventListener(fe.POINTER_MOVE,this.onEdgeFilter):f==="drag"&&(_.addEventListener(fe.DRAG_START,this.onDragStart),_.addEventListener(fe.DRAG,this.onDrag),_.addEventListener(fe.DRAG_END,this.onDragEnd)),g==="wheel"&&((s=this.graphDom)===null||s===void 0||s.addEventListener(fe.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var s;const{graph:c}=this.context,{trigger:f,scaleRBy:g}=this.options,_=c.getCanvas().getLayer();["click","drag"].includes(f)&&_.removeEventListener(fe.CLICK,this.onEdgeFilter),f==="pointermove"?_.removeEventListener(fe.POINTER_MOVE,this.onEdgeFilter):f==="drag"&&(_.removeEventListener(fe.DRAG_START,this.onDragStart),_.removeEventListener(fe.DRAG,this.onDrag),_.removeEventListener(fe.DRAG_END,this.onDragEnd)),g==="wheel"&&((s=this.graphDom)===null||s===void 0||s.removeEventListener(fe.WHEEL,this.scaleRByWheel))}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((s,c)=>{s.destroy(),this.shapes.delete(c)}),super.destroy()}}Gg.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0};const $2={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12},B_=.05,F_=.1;class Yg extends sl{constructor(s,c){super(s,Object.assign({},Yg.defaultOptions,c)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=f=>{if(this.options.trigger==="drag"&&this.isLensOn)return;const g=Ol(f.canvas);this.onMagnify(g)},this.onMagnify=f=>{f.some(isNaN)||(this.renderLens(f),this.renderFocusElements())},this.renderLens=f=>{const g=Object.assign({},$2,this.options.style);this.isLensOn||(this.lens=new ts({style:g}),this.canvas.appendChild(this.lens)),Object.assign(g,al(f),{size:this.r*2,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(g)},this.getDPercent=()=>{const{minD:f,maxD:g}=this.options;return`${Math.round((this.d-f)/(g-f)*100)}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:f}=this.context,g=this.lens.getCenter(),_=(this.d+1)*this.r,O=new Map,D=new Map;f.getNodeData().forEach(Q=>{const oe=Mo(Q),Se=zo(oe,g);if(Se>this.r)return;const Ye=_*Se/(this.d*Se+this.r),[dt,Kt]=oe,[An,Wn]=g,$r=(dt-An)/Se,ni=(Kt-Wn)/Se,Kr=[An+Ye*$r,Wn+Ye*ni],pa=Wr(Q),Ia=this.getNodeStyle(Q),$a=(0,el.Z)(f.getElementRenderStyle(pa),Object.keys(Ia));O.set(pa,Object.assign(Object.assign({},al(Kr)),Ia)),D.set(pa,Object.assign(Object.assign({},al(oe)),$a))}),this.updateStyle(O,D)},this.getNodeStyle=f=>{const{nodeStyle:g}=this.options;return typeof g=="function"?g(f):g},this.updateStyle=(f,g)=>{const{graph:_,element:O}=this.context,{enter:D,exit:G,keep:Q}=Ks(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(f.keys()),Ye=>Ye),oe=new Set,Se=(Ye,dt)=>{const Kt=O.getElement(Ye);Kt==null||Kt.update(dt),_.getRelatedEdgesData(Ye).forEach(An=>{oe.add(Wr(An))})};[...D,...Q].forEach(Ye=>{Se(Ye,f.get(Ye))}),G.forEach(Ye=>{Se(Ye,this.prevOriginStyleMap.get(Ye)),this.prevOriginStyleMap.delete(Ye)}),oe.forEach(Ye=>{const dt=O.getElement(Ye);dt==null||dt.update({})}),this.prevMagnifiedStyleMap=f,g.forEach((Ye,dt)=>{this.prevOriginStyleMap.has(dt)||this.prevOriginStyleMap.set(dt,Ye)})},this.isWheelValid=f=>{if(this.options.preventDefault&&f.preventDefault(),!this.isLensOn)return!1;const{clientX:g,clientY:_}=f,O=this.context.graph.getCanvasByClient([g,_]),D=this.lens.getCenter();return!(zo(O,D)>this.r)},this.scaleR=f=>{const{maxR:g,minR:_}=this.options,O=f?1/(1-B_):1-B_,D=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(_||0,Math.min(g||D,this.r*O))},this.scaleD=f=>{const{maxD:g,minD:_}=this.options,O=f?this.d+F_:this.d-F_;this.d=Math.max(_,Math.min(g,O))},this.scaleRByWheel=f=>{if(!this.isWheelValid(f))return;const{deltaX:g,deltaY:_}=f;this.scaleR(g+_>0);const O=this.lens.getCenter();this.onMagnify(O)},this.scaleDByWheel=f=>{if(!this.isWheelValid(f))return;const{deltaX:g,deltaY:_}=f;this.scaleD(g+_>0);const O=this.lens.getCenter();this.onMagnify(O)},this.isDragValid=f=>{if(this.options.preventDefault&&f.preventDefault(),!this.isLensOn)return!1;const g=Ol(f.canvas),_=this.lens.getCenter();return!(zo(g,_)>this.r)},this.isLensDragging=!1,this.onDragStart=f=>{this.isDragValid(f)&&(this.isLensDragging=!0)},this.onDrag=f=>{if(!this.isLensDragging)return;const g=Ol(f.canvas);this.onMagnify(g)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=f=>{if(!this.isLensDragging)return;const{dx:g,dy:_}=f;this.scaleR(g-_>0);const O=this.lens.getCenter();this.onMagnify(O)},this.scaleDByDrag=f=>{if(!this.isLensDragging)return;const{dx:g,dy:_}=f;this.scaleD(g-_>0);const O=this.lens.getCenter();this.onMagnify(O)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var s;const{graph:c}=this.context,{trigger:f,scaleRBy:g,scaleDBy:_}=this.options,O=c.getCanvas().getLayer();if(["click","drag"].includes(f)&&O.addEventListener(fe.CLICK,this.onCreateFisheye),f==="pointermove"&&O.addEventListener(fe.POINTER_MOVE,this.onCreateFisheye),f==="drag"||g==="drag"||_==="drag"){O.addEventListener(fe.DRAG_START,this.onDragStart),O.addEventListener(fe.DRAG_END,this.onDragEnd);const D=f==="drag"?this.onDrag:g==="drag"?this.scaleRByDrag:this.scaleDByDrag;O.addEventListener(fe.DRAG,D)}if(g==="wheel"||_==="wheel"){const D=g==="wheel"?this.scaleRByWheel:this.scaleDByWheel;(s=this.graphDom)===null||s===void 0||s.addEventListener(fe.WHEEL,D,{passive:!1})}}unbindEvents(){var s;const{graph:c}=this.context,{trigger:f,scaleRBy:g,scaleDBy:_}=this.options,O=c.getCanvas().getLayer();if(["click","drag"].includes(f)&&O.removeEventListener(fe.CLICK,this.onCreateFisheye),f==="pointermove"&&O.removeEventListener(fe.POINTER_MOVE,this.onCreateFisheye),f==="drag"||g==="drag"||_==="drag"){O.removeEventListener(fe.DRAG_START,this.onDragStart),O.removeEventListener(fe.DRAG_END,this.onDragEnd);const D=f==="drag"?this.onDrag:g==="drag"?this.scaleRByDrag:this.scaleDByDrag;O.removeEventListener(fe.DRAG,D)}if(g==="wheel"||_==="wheel"){const D=g==="wheel"?this.scaleRByWheel:this.scaleDByWheel;(s=this.graphDom)===null||s===void 0||s.removeEventListener(fe.WHEEL,D)}}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}destroy(){var s;this.unbindEvents(),this.isLensOn&&((s=this.lens)===null||s===void 0||s.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}Yg.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0};class Og extends sl{constructor(s,c){super(s,Object.assign({},Og.defaultOptions,c)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var f,g,_,O;const D=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(D),D?(g=(f=this.options).onEnter)===null||g===void 0||g.call(f):(O=(_=this.options).onExit)===null||O===void 0||O.call(_)},this.shortcut=new md(s.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML=`
      :not(:root):fullscreen::backdrop {
        background: transparent;
      }
    `}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:s=[],exit:c=[]}=this.options.trigger;this.shortcut.bind(s,this.request),this.shortcut.bind(c,this.exit),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(g=>{document.addEventListener(g,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll(),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(c=>{document.removeEventListener(c,this.onFullscreenChange,!1)})}setGraphSize(s=!0){var c,f;let g,_;s?(g=((c=globalThis.screen)===null||c===void 0?void 0:c.width)||0,_=((f=globalThis.screen)===null||f===void 0?void 0:f.height)||0,this.graphSize=this.context.graph.getSize()):[g,_]=this.graphSize,this.context.graph.setSize(g,_),this.context.graph.render()}request(){document.fullscreenElement||!c1()||this.$el.requestFullscreen().catch(s=>{ln.warn(`Error attempting to enable full-screen: ${s.message} (${s.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(s){this.unbindEvents(),super.update(s),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}Og.defaultOptions={trigger:{},autoFit:!0};function c1(){return document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled")}class f1 extends sl{constructor(s,c){super(s,Object.assign({},f1.defaultOptions,c)),this.$element=af("grid-line",!0),this.offset=[0,0],this.onTransform=g=>{if(!this.options.follow)return;const{data:{translate:_}}=g;_&&this.updateOffset(_)},this.context.canvas.getContainer().prepend(this.$element),this.updateStyle(),this.bindEvents()}update(s){super.update(s),this.updateStyle()}bindEvents(){const{graph:s}=this.context;s.on(gt.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{size:s,stroke:c,lineWidth:f,border:g,borderLineWidth:_,borderStroke:O,borderStyle:D}=this.options;Object.assign(this.$element.style,{border:g?`${_}px ${D} ${O}`:"none",backgroundImage:`linear-gradient(${c} ${f}px, transparent ${f}px), linear-gradient(90deg, ${c} ${f}px, transparent ${f}px)`,backgroundSize:`${s}px ${s}px`})}updateOffset(s){this.offset=Vs(ti(this.offset,s),this.options.size),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}destroy(){this.context.graph.off(gt.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}f1.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"};var cy=A(80216);function fy(m){const s={Added:new Map,Updated:new Map,Removed:new Map};return m.forEach(c=>{const{type:f,value:g}=c,_=Wr(g);if(f==="NodeAdded"||f==="EdgeAdded"||f==="ComboAdded")s.Added.set(_,c);else if(f==="NodeUpdated"||f==="EdgeUpdated"||f==="ComboUpdated")if(s.Added.has(_))s.Added.set(_,{type:f.replace("Updated","Added"),value:g});else if(s.Updated.has(_)){const{original:O}=s.Updated.get(_);s.Updated.set(_,{type:f,value:g,original:O})}else s.Removed.has(_)||s.Updated.set(_,c);else(f==="NodeRemoved"||f==="EdgeRemoved"||f==="ComboRemoved")&&(s.Added.has(_)?s.Added.delete(_):(s.Updated.has(_)&&s.Updated.delete(_),s.Removed.set(_,c)))}),[...Array.from(s.Added.values()),...Array.from(s.Updated.values()),...Array.from(s.Removed.values())]}function U_(m){const{NodeAdded:s=[],NodeUpdated:c=[],NodeRemoved:f=[],EdgeAdded:g=[],EdgeUpdated:_=[],EdgeRemoved:O=[],ComboAdded:D=[],ComboUpdated:G=[],ComboRemoved:Q=[]}=Be(m,oe=>oe.type);return{add:{nodes:s,edges:g,combos:D},update:{nodes:c,edges:_,combos:G},remove:{nodes:f,edges:O,combos:Q}}}function H0(m,s){for(const c in m)(0,H.Z)(m[c])&&!Array.isArray(m[c])&&m[c]!==null?(s[c]||(s[c]={}),H0(m[c],s[c])):s[c]===void 0&&(s[c]=He(c))}function z_(m,s=!1,c){const f={animation:s,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:g,update:_,remove:O}=U_(fy(m));return["nodes","edges","combos"].forEach(D=>{_[D]&&_[D].forEach(G=>{var Q,oe;const Se=Object.assign({},G.value);let Ye=Object.assign({},G.original);if(c){const dt=c.graph.getElementType(Wr(G.original)),Kt=dt==="edge"?"stroke":"fill",An=c.element.getElementComputedStyle(dt,G.original);Ye=Object.assign(Object.assign({},G.original),{style:Object.assign({[Kt]:An[Kt]},G.original.style)})}H0(Se,Ye),(Q=f.current.update)[D]||(Q[D]=[]),f.current.update[D].push(Se),(oe=f.original.update)[D]||(oe[D]=[]),f.original.update[D].push(Ye)}),g[D]&&g[D].forEach(G=>{var Q,oe;const Se=Object.assign({},G.value);(Q=f.current.add)[D]||(Q[D]=[]),f.current.add[D].push(Se),(oe=f.original.remove)[D]||(oe[D]=[]),f.original.remove[D].push(Se)}),O[D]&&O[D].forEach(G=>{var Q,oe;const Se=Object.assign({},G.value);(Q=f.current.remove)[D]||(Q[D]=[]),f.current.remove[D].push(Se),(oe=f.original.add)[D]||(oe[D]=[]),f.original.add[D].push(Se)})}),f}class d1 extends sl{constructor(s,c){super(s,Object.assign({},d1.defaultOptions,c)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(g,_=!0)=>{var O,D,G;this.freezed=!0,(D=(O=this.options).executeCommand)===null||D===void 0||D.call(O,g);const Q=_?g.original:g.current;this.context.graph.addData(Q.add),this.context.graph.updateData(Q.update),this.context.graph.removeData(Ma(Q.remove,!1)),(G=this.context.element)===null||G===void 0||G.draw({silence:!0,animation:g.animation}),this.freezed=!1},this.addCommand=g=>{var _;if(!this.freezed){if(g.type===gt.AFTER_DRAW){const{dataChanges:O=[],animation:D=!0}=g.data;if(!((_=this.context.batch)===null||_===void 0)&&_.isBatching){if(!this.batchChanges)return;this.batchChanges.push(O),this.batchAnimation&&(this.batchAnimation=D);return}this.batchChanges=[O],this.batchAnimation=D}this.undoStackPush(z_(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(pt.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=g=>{const{initiate:_}=g.data;this.batchAnimation=!1,_?this.batchChanges=[]:this.undoStack.pop()||(this.batchChanges=null)},this.emitter=new cy.Z;const{graph:f}=this.context;f.on(gt.AFTER_DRAW,this.addCommand),f.on(gt.BATCH_START,this.initBatchCommand),f.on(gt.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var s,c,f,g;const _=this.undoStack.pop();if(_){if(this.executeCommand(_),((c=(s=this.options).beforeAddCommand)===null||c===void 0?void 0:c.call(s,_,!1))===!1)return;this.redoStack.push(_),(g=(f=this.options).afterAddCommand)===null||g===void 0||g.call(f,_,!1),this.notify(pt.UNDO,_)}return this}redo(){const s=this.redoStack.pop();return s&&(this.executeCommand(s,!1),this.undoStackPush(s),this.notify(pt.REDO,s)),this}undoAndCancel(){const s=this.undoStack.pop();return s&&(this.executeCommand(s,!1),this.redoStack=[],this.notify(pt.CANCEL,s)),this}undoStackPush(s){var c,f,g,_;const{stackSize:O}=this.options;O!==0&&this.undoStack.length>=O&&this.undoStack.shift(),((f=(c=this.options).beforeAddCommand)===null||f===void 0?void 0:f.call(c,s,!0))!==!1&&(this.undoStack.push(s),(_=(g=this.options).afterAddCommand)===null||_===void 0||_.call(g,s,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(pt.CLEAR,null)}notify(s,c){this.emitter.emit(s,{cmd:c}),this.emitter.emit(pt.CHANGE,{cmd:c})}on(s,c){this.emitter.on(s,c)}destroy(){const{graph:s}=this.context;s.off(gt.AFTER_DRAW,this.addCommand),s.off(gt.BATCH_START,this.initBatchCommand),s.off(gt.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}d1.defaultOptions={stackSize:0};var Z_=A(97359),X2=A.n(Z_);function Xh(m,s,c){if(m.length===1)return h1(m[0],s,c);if(m.length===2)return K2(m,s,c);switch(c){case"smooth":return q2(m,s);case"sharp":return j_(m,s);case"rounded":default:return Q2(m,s)}}const h1=(m,s,c)=>{if(c==="sharp")return[["M",m[0]-s,m[1]-s],["L",m[0]+s,m[1]-s],["L",m[0]+s,m[1]+s],["L",m[0]-s,m[1]+s],["Z"]];const f=[s,s,0,0,0];return[["M",m[0],m[1]-s],["A",...f,m[0],m[1]+s],["A",...f,m[0],m[1]-s]]},K2=(m,s,c)=>{const f=[s,s,0,0,0],g=c==="sharp"?ti(m[0],wo(Vo(ea(m[0],m[1])),s)):m[0],_=c==="sharp"?ti(m[1],wo(Vo(ea(m[1],m[0])),s)):m[1],O=wo(Vo(bs(ea(g,_),!1)),s),D=wo(O,-1),G=ti(g,O),Q=ti(_,O),oe=ti(_,D),Se=ti(g,D);return c==="sharp"?[["M",G[0],G[1]],["L",Q[0],Q[1]],["L",oe[0],oe[1]],["L",Se[0],Se[1]],["Z"]]:[["M",G[0],G[1]],["L",Q[0],Q[1]],["A",...f,oe[0],oe[1]],["L",Se[0],Se[1]],["A",...f,G[0],G[1]]]},Q2=(m,s)=>{const c=Xd(m).map((D,G)=>{const Q=(G-2+m.length)%m.length,oe=(G-1+m.length)%m.length,Se=(G+1)%m.length,Ye=m[Q],dt=m[oe],Kt=m[Se],An=ea(Ye,dt),Wn=ea(dt,D),$r=ea(D,Kt),ni=(Go,Jo)=>Fs(Go,Jo,!0)<Math.PI,Kr=ni(An,Wn),pa=ni(Wn,$r),Ia=Go=>wo(Vo(bs(Go,!1)),s),$a=Ia(Wn);return[{p:vi(Kr?ti(dt,Ia(An)):ti(dt,$a)),concave:Kr&&dt},{p:vi(pa?ti(D,Ia($r)):ti(D,$a)),concave:pa&&D}]}),f=[s,s,0,0,0],g=c.findIndex((D,G)=>!c[(G-1+c.length)%c.length][0].concave&&!c[(G-1+c.length)%c.length][1].concave&&!D[0].concave&&!D[0].concave&&!D[1].concave),_=c.slice(g).concat(c.slice(0,g));let O=[];return _.flatMap((D,G)=>{const Q=[],oe=_[c.length-1];return G===0&&Q.push(["M",...oe[1].p]),D[0].concave?O.push(D[0].p,D[1].p):Q.push(["A",...f,...D[0].p]),D[1].concave?O.unshift(D[1].p):Q.push(["L",...D[1].p]),O.length===3&&(Q.pop(),Q.push(["C",...O.flat()]),O=[]),Q})},q2=(m,s)=>{const c=Xd(m).map((f,g)=>{const _=m[(g+1)%m.length];return{p:f,v:Vo(ea(_,f))}});return c.forEach((f,g)=>{const _=g>0?g-1:m.length-1,O=c[_].v,D=Vo(ti(O,wo(f.v,Fs(O,f.v,!0)<Math.PI?1:-1)));f.p=ti(f.p,wo(D,s))}),Hi(c.map(f=>f.p))},j_=(m,s)=>{const f=m.map((_,O)=>{const D=m[O===0?m.length-1:O-1],G=fa(wo(Vo(bs(ea(D,_),!1)),s));return[ti(D,G),ti(_,G)]}).flat();return f.map((_,O)=>{if(O%2===0)return null;const D=[f[(O-1)%f.length],f[O%f.length]],G=[f[(O+1)%f.length],f[(O+2)%f.length]];return Ko(D,G,!0)}).filter(Boolean).map((_,O)=>[O===0?"M":"L",_[0],_[1]]).concat([["Z"]])};var H_=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class Sm extends sl{constructor(s,c){super(s,Object.assign({},Sm.defaultOptions,c)),this.hullMemberIds=[],this.drawHull=()=>{if(!this.shape)this.shape=new Li({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);else{const f=!(0,K.Z)(this.optionsCache,this.options);this.shape.update(this.getHullStyle(f))}this.optionsCache=Object.assign({},this.options)},this.updateHullPath=f=>{this.shape&&this.options.members.includes(Wr(f.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(f=!1)=>{const{graph:g}=this.context,_=this.getMember();if(_.length===0)return"";const O=_.map(Q=>g.getNodeData(Q)),D=X2()(O.map(Mo),this.options.concavity).slice(1).reverse(),G=D.flatMap(Q=>O.filter(oe=>(0,K.Z)(Mo(oe),Q)).map(Wr));return(0,K.Z)(G,this.hullMemberIds)&&!f?this.path:(this.hullMemberIds=G,this.path=Xh(D,this.getPadding(),this.options.corner),this.path)},this.bindEvents()}bindEvents(){this.context.graph.on(gt.AFTER_RENDER,this.drawHull),this.context.graph.on(gt.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(s){const c=this.options,{members:f,padding:g,corner:_}=c,O=H_(c,["members","padding","corner"]);return Object.assign(Object.assign({},O),{d:this.getHullPath(s)})}getPadding(){const{graph:s}=this.context;return this.hullMemberIds.reduce((f,g)=>{const{halfExtents:_}=s.getElementRenderBounds(g),O=Math.max(_[0],_[1]);return Math.max(f,O)},0)+this.options.padding}addMember(s){const c=Array.isArray(s)?s:[s];this.options.members=[...new Set([...this.options.members,...c])],this.shape.update({d:this.getHullPath()})}removeMember(s){const c=Array.isArray(s)?s:[s];this.options.members=this.options.members.filter(f=>!c.includes(f)),c.some(f=>this.hullMemberIds.includes(f))&&this.shape.update({d:this.getHullPath()})}updateMember(s){this.options.members=(0,Ce.Z)(s)?s(this.options.members):s,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.context.graph.off(gt.AFTER_DRAW,this.drawHull),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}Sm.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2};var dy=A(76947);function Am(m){const{width:s,height:c,renderer:f,containerStyle:g}=m,_=p1(m),[O,D]=g1(m);Object.assign(_.style,Object.assign({position:"absolute",left:O+"px",top:D+"px",width:s+"px",height:c+"px"},g));const G=new j.Xz({width:s,height:c,container:_,renderer:f||new cu.Th});return[_,G]}function p1(m){var s;const{container:c,className:f,graphCanvas:g}=m;if(c)return typeof c=="string"?document.getElementById(c):c;const _=af(f,!1);return(s=g.getContainer())===null||s===void 0||s.appendChild(_),_}function g1(m){const{width:s,height:c,placement:f,graphCanvas:g}=m,[_,O]=g.getSize(),[D,G]=es(f);return[D*(_-s),G*(O-c)]}var hy=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class Xp extends sl{constructor(s,c){super(s,Object.assign({},Xp.defaultOptions,c)),this.typePrefix="__data__",this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{const{graph:f}=this.context;f.on(gt.AFTER_DRAW,this.createElement)},this.changeState=(f,g)=>{const{graph:_}=this.context,{typePrefix:O}=this,D=(0,hf.Z)(f,[O,"id"]),G=(0,hf.Z)(f,[O,"style","labelText"]),[Q]=D.split("__"),oe=this.fieldMap[Q].get(G)||[];_.setElementState(Object.fromEntries(oe==null?void 0:oe.map(Se=>[Se,g])))},this.click=f=>{if(this.options.trigger==="hover")return;const g=(0,hf.Z)(f,[this.typePrefix,"id"]);this.selectedItems.includes(g)?(this.selectedItems=this.selectedItems.filter(_=>_!==g),this.changeState(f,[])):(this.selectedItems.push(g),this.changeState(f,"selected"))},this.mouseleave=f=>{this.options.trigger!=="click"&&(this.selectedItems=[],this.changeState(f,[]))},this.mouseenter=f=>{if(this.options.trigger==="click")return;const g=(0,hf.Z)(f,[this.typePrefix,"id"]);this.selectedItems.includes(g)?this.selectedItems=this.selectedItems.filter(_=>_!==g):(this.selectedItems.push(g),this.changeState(f,"active"))},this.setFieldMap=(f,g,_)=>{if(!f)return;const O=this.fieldMap[_];if(O)if(!O.has(f))O.set(f,[g]);else{const D=O.get(f);D&&(D.push(g),O.set(f,D))}},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(f,g)=>{if(!f)return[];const{model:_,element:O}=this.context,{nodes:D,edges:G,combos:Q}=_.getData(),oe={},Se=Wn=>(0,Ce.Z)(f)?f(Wn):f,Ye={node:"circle",edge:"line",combo:"rect"},dt={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},Kt=(Wn,$r)=>O==null?void 0:O.getElementComputedStyle(Wn,$r),An=(Wn,$r)=>{Wn.forEach(ni=>{const{id:Kr}=ni,pa=(0,hf.Z)(ni,["data",Se(ni)]),Ia=(O==null?void 0:O.getElementType($r,ni))||"circle",$a=Kt($r,ni),Go=($r==="edge"?$a==null?void 0:$a.stroke:$a==null?void 0:$a.fill)||"#1783ff";Kr&&pa&&pa.replace(/\s+/g,"")&&(this.setFieldMap(pa,Kr,$r),oe[pa]||(oe[pa]={id:`${$r}__${Kr}`,label:pa,marker:dt[Ia]||Ye[$r],elementType:$r,lineWidth:1,stroke:Go,fill:Go}))})};switch(g){case"node":An(D,"node");break;case"edge":An(G,"edge");break;case"combo":An(Q,"combo");break;default:return[]}return Object.values(oe)},this.createElement=()=>{if(this.draw){this.updateElement();return}const f=this.options,{width:g,height:_,nodeField:O,edgeField:D,comboField:G,trigger:Q,position:oe,container:Se,containerStyle:Ye,className:dt}=f,Kt=hy(f,["width","height","nodeField","edgeField","comboField","trigger","position","container","containerStyle","className"]),An=this.getMarkerData(O,"node"),Wn=this.getMarkerData(D,"edge"),$r=this.getMarkerData(G,"combo"),ni=[...An,...$r,...Wn],Kr=Object.assign({width:g,height:_,data:ni,itemMarkerLineWidth:({lineWidth:$a})=>$a,itemMarker:({marker:$a})=>$a,itemMarkerStroke:({stroke:$a})=>$a,itemMarkerFill:({fill:$a})=>$a,gridCol:An.length},Kt,this.getEvents()),pa=new dy.W({className:"legend",style:Kr});this.category=pa,this.upsertCanvas().appendChild(pa),this.draw=!0},this.bindEvents()}update(s){super.update(s),this.clear(),this.createElement()}clear(){var s,c;(s=this.canvas)===null||s===void 0||s.destroy(),(c=this.container)===null||c===void 0||c.remove(),this.canvas=void 0,this.container=void 0,this.draw=!1}updateElement(){this.category&&this.category.update({itemMarkerOpacity:({id:s})=>!this.selectedItems.length||this.selectedItems.includes(s)?1:.5,itemLabelOpacity:({id:s})=>!this.selectedItems.length||this.selectedItems.includes(s)?1:.5})}upsertCanvas(){if(this.canvas)return this.canvas;const s=this.context.canvas,[c,f]=s.getSize(),{width:g=c,height:_=f,position:O,container:D,containerStyle:G,className:Q}=this.options,[oe,Se]=Am({width:g,height:_,graphCanvas:s,container:D,containerStyle:G,placement:O,className:"legend"});return this.container=oe,Q&&oe.classList.add(Q),this.canvas=Se,this.canvas}destroy(){this.clear(),this.context.graph.off(gt.AFTER_DRAW,this.createElement),super.destroy()}}Xp.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16,width:240,height:160};class wg extends sl{constructor(s,c){super(s,Object.assign({},wg.defaultOptions,c)),this.onDraw=f=>{var g;!((g=f==null?void 0:f.data)===null||g===void 0)&&g.render||this.onRender()},this.shapes=new Map,this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=f=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(f.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=f=>{if(!this.mask||!this.isMaskDragging)return;const{size:[g,_]}=this.options,{movementX:O,movementY:D}=f,{left:G,top:Q,width:oe,height:Se}=this.mask.style,[,,Ye,dt]=this.maskBBox;let Kt=parseInt(G)+O,An=parseInt(Q)+D,Wn=parseInt(oe),$r=parseInt(Se);Kt<0&&(Kt=0),An<0&&(An=0),Kt+Wn>g&&(Kt=jd(g-Wn,0)),An+$r>_&&(An=jd(_-$r,0)),Wn<Ye&&(O>0?(Kt=jd(Kt-O,0),Wn=W0(Wn+O,g)):O<0&&(Wn=W0(Wn-O,g))),$r<dt&&(D>0?(An=jd(An-D,0),$r=W0($r+D,_)):D<0&&($r=W0($r-D,_))),Object.assign(this.mask.style,{left:Kt+"px",top:An+"px",width:Wn+"px",height:$r+"px"});const ni=parseInt(G)-Kt,Kr=parseInt(Q)-An;if(ni===0&&Kr===0)return;const pa=this.context.canvas.getCamera().getZoom(),Ia=this.canvas.getCamera().getZoom(),$a=pa/Ia;this.context.graph.translateBy([ni*$a,Kr*$a],!1)},this.onMaskDragEnd=f=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(f.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=(0,In.Z)(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(s){this.unbindEvents(),super.update(s),"delay"in s&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=(0,pe.Z)(()=>{this.renderMinimap(),this.renderMask()},this.options.delay,!0)}bindEvents(){const{graph:s}=this.context;s.on(gt.AFTER_DRAW,this.onDraw),s.on(gt.AFTER_RENDER,this.onRender),s.on(gt.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:s}=this.context;s.off(gt.AFTER_DRAW,this.onDraw),s.off(gt.AFTER_RENDER,this.onRender),s.off(gt.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){const s=this.getElements(),c=this.initCanvas();this.setShapes(c,s)}getElements(){const{filter:s}=this.options,{model:c}=this.context,f=c.getData();if(!s)return f;const{nodes:g,edges:_,combos:O}=f;return{nodes:g.filter(D=>s(Wr(D),"node")),edges:_.filter(D=>s(Wr(D),"edge")),combos:O.filter(D=>s(Wr(D),"combo"))}}setShapes(s,c){const{nodes:f,edges:g,combos:_}=c,{shape:O}=this.options,{element:D}=this.context;if(O==="key"){const Q=new Set,oe=Se=>{const Ye=Wr(Se);Q.add(Ye);const dt=D.getElement(Ye);if(!dt)return;const Kt=dt.getShape("key"),An=this.shapes.get(Ye)||Kt.cloneNode();An.setPosition(Kt.getPosition()),dt.style.zIndex&&(An.style.zIndex=dt.style.zIndex),An.id=dt.id,this.shapes.has(Ye)?Object.entries(Kt.attributes).forEach(([Wn,$r])=>{An.style[Wn]!==$r&&(An.style[Wn]=$r)}):(s.appendChild(An),this.shapes.set(Ye,An))};g.forEach(oe),_.forEach(oe),f.forEach(oe),this.shapes.forEach((Se,Ye)=>{Q.has(Ye)||(s.removeChild(Se),this.shapes.delete(Ye))});return}const G=(Q,oe)=>{const Ye=D.getElement(Q).getPosition();return oe.setPosition(Ye),oe};s.removeChildren(),g.forEach(Q=>s.appendChild(O(Wr(Q),"edge"))),_.forEach(Q=>{s.appendChild(G(Wr(Q),O(Wr(Q),"combo")))}),f.forEach(Q=>{s.appendChild(G(Wr(Q),O(Wr(Q),"node")))})}initCanvas(){const{renderer:s,size:[c,f]}=this.options;if(this.canvas){const{width:g,height:_}=this.canvas.getConfig();(c!==g||f!==_)&&this.canvas.resize(c,f),s&&this.canvas.setRenderer(s)}else{const{className:g,position:_,container:O,containerStyle:D}=this.options,[G,Q]=Am({renderer:s,width:c,height:f,placement:_,className:"minimap",container:O,containerStyle:D,graphCanvas:this.context.canvas});g&&G.classList.add(g),this.container=G,this.canvas=Q}return this.setCamera(),this.canvas}createLandmark(s,c,f){const g=`${s.join(",")}-${c.join(",")}-${f}`;if(this.landmarkMap.has(g))return this.landmarkMap.get(g);const O=this.canvas.getCamera().createLandmark(g,{position:s,focalPoint:c,zoom:f});return this.landmarkMap.set(g,O),O}setCamera(){var s;const{canvas:c}=this.context,f=(s=this.canvas)===null||s===void 0?void 0:s.getCamera();if(!f)return;const{size:[g,_],padding:O}=this.options,[D,G,Q,oe]=wi(O),{min:Se,max:Ye,center:dt}=c.getBounds("elements"),Kt=Ye[0]-Se[0],An=Ye[1]-Se[1],Wn=g-oe-G,$r=_-D-Q,ni=Wn/Kt,Kr=$r/An,pa=Math.min(ni,Kr),Ia=this.createLandmark(dt,dt,pa);f.gotoLandmark(Ia,0)}get maskBBox(){const{canvas:s}=this.context,c=s.getSize(),f=s.getCanvasByViewport([0,0]),g=s.getCanvasByViewport(c),_=this.canvas.canvas2Viewport(al(f)),O=this.canvas.canvas2Viewport(al(g)),D=O.x-_.x,G=O.y-_.y;return[_.x,_.y,D,G]}calculateMaskBBox(){const{size:[s,c]}=this.options;let[f,g,_,O]=this.maskBBox;return f<0&&(_=W0(_+f,s),f=0),g<0&&(O=W0(O+g,c),g=0),f+_>s&&(_=jd(s-f,0)),g+O>c&&(O=jd(c-g,0)),[W0(f,s),W0(g,c),jd(_,0),jd(O,0)]}renderMask(){const{maskStyle:s}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart)),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},s),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;const[s,c,f,g]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:c+"px",left:s+"px",width:f+"px",height:g+"px"})}destroy(){var s;this.unbindEvents(),this.canvas.destroy(),(s=this.mask)===null||s===void 0||s.remove(),super.destroy()}}wg.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128};const W0=(m,s)=>Math.min(m,s),jd=(m,s)=>Math.max(m,s);var $g=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};const Cm={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class V0 extends sl{constructor(s,c){super(s,Object.assign({},V0.defaultOptions,c)),this.initSnapline=()=>{const f=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=f.appendChild(new j.x1({style:Object.assign(Object.assign({},Cm),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=f.appendChild(new j.x1({style:Object.assign(Object.assign({},Cm),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(f,g,_)=>$g(this,void 0,void 0,function*(){const{verticalX:O,horizontalY:D}=_,{tolerance:G}=this.options,{min:[Q,oe],max:[Se,Ye],center:[dt,Kt]}=g;let An=0,Wn=0;O!==null&&(Kh(Se,O)<G&&(An=O-Se),Kh(Q,O)<G&&(An=O-Q),Kh(dt,O)<G&&(An=O-dt),An!==0&&(this.isVerticalSticking=!0)),D!==null&&(Kh(Ye,D)<G&&(Wn=D-Ye),Kh(oe,D)<G&&(Wn=D-oe),Kh(Kt,D)<G&&(Wn=D-Kt),Wn!==0&&(this.isHorizontalSticking=!0)),(An!==0||Wn!==0)&&(yield this.context.graph.translateElementBy({[f]:[An,Wn]},!1))}),this.enableSnap=f=>{const{target:g}=f,_=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[O,D]=this.getDelta(f);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(O)<=_&&Math.abs(D)<=_)return this.context.graph.translateElementBy({[g.id]:[-O,-D]},!1),!1;if(this.isHorizontalSticking&&Math.abs(D)<=_)return this.context.graph.translateElementBy({[g.id]:[0,-D]},!1),!1;if(this.isVerticalSticking&&Math.abs(O)<=_)return this.context.graph.translateElementBy({[g.id]:[-O,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(f,g)=>{const{tolerance:_,shape:O}=this.options,{min:[D,G],max:[Q,oe],center:[Se,Ye]}=g;let dt=null,Kt=null,An=null,Wn=null,$r=null,ni=null;return this.getNodes().some(Kr=>{if((0,K.Z)(f.id,Kr.id))return!1;const pa=py(Kr,O).getRenderBounds(),{min:[Ia,$a],max:[Go,Jo],center:[Rs,Fu]}=pa;return dt===null&&(Kh(Rs,Se)<_?dt=Rs:Kh(Ia,D)<_||Kh(Ia,Q)<_?dt=Ia:(Kh(Go,Q)<_||Kh(Go,D)<_)&&(dt=Go),dt!==null&&(Kt=Math.min($a,G),An=Math.max(Jo,oe))),Wn===null&&(Kh(Fu,Ye)<_?Wn=Fu:Kh($a,G)<_||Kh($a,oe)<_?Wn=$a:(Kh(Jo,oe)<_||Kh(Jo,G)<_)&&(Wn=Jo),Wn!==null&&($r=Math.min(Ia,D),ni=Math.max(Go,Q))),dt!==null&&Wn!==null}),{verticalX:dt,verticalMinY:Kt,verticalMaxY:An,horizontalY:Wn,horizontalMinX:$r,horizontalMaxX:ni}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=f=>$g(this,void 0,void 0,function*(){const{target:g}=f;if(this.options.autoSnap&&!this.enableSnap(f))return;const _=py(g,this.options.shape).getRenderBounds(),O=this.calcSnaplineMetadata(g,_);this.hideSnapline(),(O.verticalX!==null||O.horizontalY!==null)&&this.updateSnapline(O),this.options.autoSnap&&(yield this.autoSnapToLine(g.id,_,O))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var s;const{filter:c}=this.options,g=(((s=this.context.element)===null||s===void 0?void 0:s.getNodes())||[]).filter(_=>{var O;return os(_)&&((O=this.context.viewport)===null||O===void 0?void 0:O.isInViewport(_.getRenderBounds()))});return c?g.filter(_=>c(_)):g}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(s){const{lineWidth:c}=this.options[`${s}LineStyle`];return+(c||Cm.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(s){const{verticalX:c,verticalMinY:f,verticalMaxY:g,horizontalY:_,horizontalMinX:O,horizontalMaxX:D}=s,[G,Q]=this.context.canvas.getSize(),{offset:oe}=this.options;_!==null?Object.assign(this.horizontalLine.style,{x1:oe===1/0?0:O-oe,y1:_,x2:oe===1/0?G:D+oe,y2:_,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",c!==null?Object.assign(this.verticalLine.style,{x1:c,y1:oe===1/0?0:f-oe,x2:c,y2:oe===1/0?Q:g+oe,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(s){const c=this.context.graph.getZoom();return so([s.dx,s.dy],c)}bindEvents(){return $g(this,void 0,void 0,function*(){const{graph:s}=this.context;s.on(lt.DRAG_START,this.onDragStart),s.on(lt.DRAG,this.onDrag),s.on(lt.DRAG_END,this.onDragEnd)})}unbindEvents(){const{graph:s}=this.context;s.off(lt.DRAG_START,this.onDragStart),s.off(lt.DRAG,this.onDrag),s.off(lt.DRAG_END,this.onDragEnd)}destroyElements(){var s,c;(s=this.horizontalLine)===null||s===void 0||s.destroy(),(c=this.verticalLine)===null||c===void 0||c.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}V0.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};const Kh=(m,s)=>Math.abs(m-s),py=(m,s)=>typeof s=="function"?s(m):m.getShape(s);var Ms=A(99938),Mg=A(71350),rp=A(97289),Mp=A(69210),fh=A(20949),gy=null,W_=null;function Xg(m){return m instanceof Date?m:new Date(m)}function V_(m){for(var s=__read(m,2),c=s[0],f=s[1],g=gy.indexOf(c),_=gy.indexOf(f),O="",D=g;D<=_;D+=1)if(O+=W_[D],D<_){var G="-";D===2?G=" ":D>2&&(G=":"),O+=G}return O}function E0(m,s){var c={YYYY:m.getFullYear(),MM:m.getMonth()+1,DD:m.getDate(),HH:m.getHours(),mm:m.getMinutes(),ss:m.getSeconds()},f=s;return Object.keys(c).forEach(function(g){var _=c[g];f=f.replace(g,g==="YYYY"?"".concat(_):"".concat(_).padStart(2,"0"))}),f}function i3(m,s){return Xg(m).getTime()-Xg(s).getTime()}function Om(m,s){var c=__read([Xg(m),Xg(s)],2),f=c[0],g=c[1];return f.getFullYear()!==g.getFullYear()?"year":f.getMonth()!==g.getMonth()?"month":f.getDay()!==g.getDay()?"day":f.getHours()!==g.getHours()?"hour":f.getMinutes()!==g.getMinutes()?"minute":"second"}function vy(m,s){var c=new Date(m),f={year:function(g){g.setMonth(0),g.setHours(0,0,0,0)},month:function(g){g.setDate(1),g.setHours(0,0,0,0)},day:function(g){return g.setHours(0,0,0,0)},hour:function(g){return g.setMinutes(0,0,0)},minute:function(g){return g.setSeconds(0,0)},second:function(g){return g.setMilliseconds(0)}};return f[s](c),E0(c,V_(["year",s]))}var Ov=A(6234),yy=A(99012),Rp=A(27475),Lf=A(50885),_y=A(91715),wm=A(27872),Kg=A(64820),wv=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},s.defaultOptions,c))||this;return f.hoverColor="#f5f5f5",f.selectedColor="#e6f7ff",f.background=f.appendChild(new j.UL({})),f.label=f.background.appendChild(new j.ZA({})),f}return Object.defineProperty(s.prototype,"padding",{get:function(){return(0,Rp.j)(this.style.padding)},enumerable:!1,configurable:!0}),s.prototype.renderLabel=function(){var c=this.style,f=c.label,g=c.value,_=(0,fh.zs)(this.attributes,"label");(0,Lf.Ys)(this.label).maybeAppend(".label",function(){return(0,wm.S)(f)}).attr("className","label").styles(_),this.label.attr("__data__",g)},s.prototype.renderBackground=function(){var c=this.label.getBBox(),f=(0,Ms.CR)(this.padding,4),g=f[0],_=f[1],O=f[2],D=f[3],G=c.width,Q=c.height,oe=G+D+_,Se=Q+g+O,Ye=(0,fh.zs)(this.attributes,"background"),dt=this.style,Kt=dt.width,An=Kt===void 0?0:Kt,Wn=dt.height,$r=Wn===void 0?0:Wn,ni=dt.selected;this.background.attr((0,Ms.pi)((0,Ms.pi)({},Ye),{width:Math.max(oe,An),height:Math.max(Se,$r),fill:ni?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(D,", ").concat((Se-Q)/2,")")})},s.prototype.render=function(){this.renderLabel(),this.renderBackground()},s.prototype.bindEvents=function(){var c=this;this.addEventListener("pointerenter",function(){c.style.selected||c.background.attr("fill",c.hoverColor)}),this.addEventListener("pointerleave",function(){c.style.selected||c.background.attr("fill",c.style.backgroundFill)});var f=this;this.addEventListener("click",function(){var g=c.style,_=g.label,O=g.value,D=g.onClick;D==null||D(O,{label:_,value:O},f)})},s.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},s}(Mg.w),I0=function(m){(0,Ms.ZT)(s,m);function s(c){var f,g,_=m.call(this,(0,rp.n)({},s.defaultOptions,c))||this;_.currentValue=(f=s.defaultOptions.style)===null||f===void 0?void 0:f.defaultValue,_.isPointerInSelect=!1,_.select=_.appendChild(new j.UL({className:"select",style:{cursor:"pointer",width:0,height:0}})),_.dropdown=_.appendChild(new j.UL({className:"dropdown"}));var O=_.style.defaultValue;return O&&(!((g=_.style.options)===null||g===void 0)&&g.some(function(D){return D.value===O}))&&(_.currentValue=O),_}return s.prototype.setValue=function(c){this.currentValue=c,this.render()},s.prototype.getValue=function(){return this.currentValue},Object.defineProperty(s.prototype,"dropdownPadding",{get:function(){return(0,Rp.j)(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),s.prototype.renderSelect=function(){var c=this,f,g=this.style,_=g.x,O=g.y,D=g.width,G=g.height,Q=g.bordered,oe=g.showDropdownIcon,Se=(0,fh.zs)(this.attributes,"select"),Ye=(0,fh.zs)(this.attributes,"placeholder");this.select.attr((0,Ms.pi)((0,Ms.pi)({x:_,y:O,width:D,height:G},Se),{fill:"#fff",strokeWidth:Q?1:0}));var dt=this.dropdownPadding,Kt=10;oe&&(0,Lf.Ys)(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(_+D-Kt-dt[1]-dt[3],", ").concat(O+G/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var An=(f=this.style.options)===null||f===void 0?void 0:f.find(function(Kr){return Kr.value===c.currentValue}),Wn=(0,Ms.pi)({x:_+dt[3]},Ye);(0,Lf.Ys)(this.select).selectAll(".placeholder").data(An?[]:[1]).join(function(Kr){return Kr.append("text").attr("className","placeholder").styles(Wn).style("y",function(){var pa=this.getBBox();return O+(G-pa.height)/2})},function(Kr){return Kr.styles(Wn)},function(Kr){return Kr.remove()});var $r=(0,fh.zs)(this.attributes,"optionLabel"),ni=(0,Ms.pi)({x:_+dt[3]},$r);(0,Lf.Ys)(this.select).selectAll(".value").data(An?[An]:[]).join(function(Kr){return Kr.append(function(pa){return(0,wm.S)(pa.label)}).attr("className","value").styles(ni).style("y",function(){var pa=this.getBBox();return O+(G-pa.height)/2})},function(Kr){return Kr.styles(ni)},function(Kr){return Kr.remove()})},s.prototype.renderDropdown=function(){var c=this,f,g,_=this.style,O=_.x,D=_.y,G=_.width,Q=_.height,oe=_.options,Se=_.onSelect,Ye=_.open,dt=(0,fh.zs)(this.attributes,"dropdown"),Kt=(0,fh.zs)(this.attributes,"option"),An=this.dropdownPadding;(0,Lf.Ys)(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(oe,function(ni){return ni.value}).join(function(ni){return ni.append(function(Kr){return new wv({className:"dropdown-item",style:(0,Ms.pi)((0,Ms.pi)((0,Ms.pi)({},Kr),Kt),{width:G-An[1]-An[3],selected:Kr.value===c.currentValue,onClick:function(pa,Ia,$a){c.setValue(pa),Se==null||Se(pa,Ia,$a),c.dispatchEvent(new j.Aw("change",{detail:{value:pa,option:Ia,item:$a}})),(0,Kg.Cp)(c.dropdown)}})})}).each(function(Kr,pa){var Ia,$a=(Ia=this.parentNode)===null||Ia===void 0?void 0:Ia.children,Go=$a.reduce(function(Jo,Rs,Fu){return Fu<pa&&(Jo+=Rs.getBBox().height),Jo},0);this.attr("transform","translate(".concat(An[3],", ").concat(An[0]+Go,")"))})},function(ni){return ni.update(function(Kr){return{selected:Kr.value===c.currentValue}})},function(ni){return ni.remove()});var Wn=(g=(f=this.dropdown.getElementsByClassName("dropdown-container"))===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.getBBox(),$r=dt.spacing;this.dropdown.attr((0,Ms.pi)({transform:"translate(".concat(O,", ").concat(D+Q+$r,")"),width:Wn.width+An[1]+An[3],height:Wn.height+An[0]+An[2]},dt)),!Ye&&(0,Kg.Cp)(this.dropdown)},s.prototype.render=function(){this.renderSelect(),this.renderDropdown()},s.prototype.bindEvents=function(){var c=this;this.addEventListener("click",function(f){f.stopPropagation()}),this.select.addEventListener("click",function(){c.dropdown.style.visibility==="visible"?(0,Kg.Cp)(c.dropdown):(0,Kg.$Z)(c.dropdown)}),this.addEventListener("pointerenter",function(){c.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){c.isPointerInSelect=!1}),document==null||document.addEventListener("click",function(){c.isPointerInSelect||(0,Kg.Cp)(c.dropdown)})},s.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"\u8BF7\u9009\u62E9",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},s}(Mg.w),dh=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},{style:{backgroundOpacity:s.backgroundOpacities.default}},s.defaultOptions,c))||this;return f.showBackground=!0,f.background=f.appendChild(new j.UL({})),f.icon=f.appendChild(new j.ZA({})),f}return Object.defineProperty(s.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"padding",{get:function(){return(0,Rp.j)(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"iconSize",{get:function(){var c=this.attributes.size,f=(0,Ms.CR)(this.padding,4),g=f[0],_=f[1],O=f[2],D=f[3];return Math.max(c-Math.max(D+_,g+O),this.lineWidth*2+1)},enumerable:!1,configurable:!0}),s.prototype.renderBackground=function(){var c=this.attributes,f=c.x,g=c.y,_=c.size,O=_/2,D=(0,fh.zs)(this.attributes,"background");this.background.attr((0,Ms.pi)({x:f-O,y:g-O,width:_,height:_},D))},s.prototype.showIndicator=function(){if(this.label){var c=this.attributes.size,f=this.background.getBBox(),g=f.x,_=f.y;this.indicator.update({x:g+c/2,y:_-5,labelText:this.label,visibility:"visible"})}},s.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},s.prototype.connectedCallback=function(){var c;m.prototype.connectedCallback.call(this);var f=this.attributes.size,g=this.background.getBBox(),_=g.x,O=g.y,D=(c=this.ownerDocument)===null||c===void 0?void 0:c.defaultView;D&&(this.indicator=D.appendChild(new _y.z({style:{x:_+f/2,y:O-f/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},s.prototype.disconnectedCallback=function(){this.indicator.destroy()},s.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},s.prototype.bindEvents=function(){var c=this,f=this.attributes.onClick;if(this.addEventListener("click",function(){f==null||f(c)}),this.showBackground){var g=function(){return c.background.attr({opacity:s.backgroundOpacities.default})},_=function(){return c.background.attr({opacity:s.backgroundOpacities.hover})},O=function(){return c.background.attr({opacity:s.backgroundOpacities.active})};this.addEventListener("pointerenter",function(){_(),c.showIndicator()}),this.addEventListener("pointerleave",function(){g(),c.hideIndicator()}),this.addEventListener("pointerdown",function(){O()}),this.addEventListener("pointerup",function(){g()})}},s.tag="IconBase",s.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},s.backgroundOpacities={default:0,hover:.8,active:1},s}(Mg.w),L0=function(m,s){return s===void 0&&(s="#565758"),new j.y$({style:{fill:s,d:"M ".concat(m,",").concat(m," L -").concat(m,",0 L ").concat(m,",-").concat(m," Z"),transformOrigin:"center"}})},sg=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return s.prototype.arcPath=function(c,f,g){var _=(0,Ms.CR)([g,g],2),O=_[0],D=_[1],G=function(An){return[c+g*Math.cos(An),f+g*Math.sin(An)]},Q=(0,Ms.CR)(G(-5/4*Math.PI),2),oe=Q[0],Se=Q[1],Ye=(0,Ms.CR)(G(1/4*Math.PI),2),dt=Ye[0],Kt=Ye[1];return"M".concat(oe,",").concat(Se,",A").concat(O,",").concat(D,",0,1,1,").concat(dt,",").concat(Kt)},Object.defineProperty(s.prototype,"label",{get:function(){return"\u91CD\u7F6E"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this.iconSize,D=this.lineWidth,G=D+.5;(0,Lf.Ys)(this.icon).maybeAppend(".reset","path").styles({stroke:_,lineWidth:D,d:this.arcPath(f,g,O/2-D),markerStart:L0(G,_)})},s}(dh),Yl=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u5FEB\u9000"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this.iconSize,D=O/2,G=O/2/Math.pow(3,.5),Q=[[f,g],[f,g-G],[f-D,g],[f,g+G],[f,g],[f+D,g-G],[f+D,g+G],[f,g]];(0,Lf.Ys)(this.icon).maybeAppend(".backward","polygon").styles({points:Q,fill:_})},s}(dh),a3=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u5FEB\u8FDB"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this.iconSize,D=O/2,G=O/2/Math.pow(3,.5),Q=[[f,g],[f,g-G],[f+D,g],[f,g+G],[f,g],[f-D,g-G],[f-D,g+G],[f,g]];(0,Lf.Ys)(this.icon).maybeAppend(".forward","polygon").styles({points:Q,fill:_})},s}(dh),x0=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u64AD\u653E"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this.iconSize,D=O/3*Math.pow(3,.5)*.8,G=[[f+D,g],[f-D/2,g-O/2*.8],[f-D/2,g+O/2*.8],[f+D,g]];(0,Lf.Ys)(this.icon).maybeAppend(".play","polygon").styles({points:G,fill:_})},s}(dh),Id=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u6682\u505C"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this.iconSize,D=O/3,G=[[f-D,g-O/2],[f-D,g+O/2],[f-D/2,g+O/2],[f-D/2,g-O/2],[f-D,g-O/2],[f+D/2,g-O/2],[f+D/2,g+O/2],[f+D,g+O/2],[f+D,g-O/2]];(0,Lf.Ys)(this.icon).maybeAppend(".pause","polygon").styles({points:G,fill:_})},s}(dh),o3=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u8303\u56F4\u65F6\u95F4"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this,D=O.iconSize,G=O.lineWidth,Q=G;(0,Lf.Ys)(this.icon).maybeAppend(".left-line","line").styles({x1:f-D/2,y1:g-D/2,x2:f-D/2,y2:g+D/2,stroke:_,lineWidth:G}),(0,Lf.Ys)(this.icon).maybeAppend(".right-line","line").styles({x1:f+D/2,y1:g-D/2,x2:f+D/2,y2:g+D/2,stroke:_,lineWidth:G}),(0,Lf.Ys)(this.icon).maybeAppend(".left-arrow","line").styles({x1:f,y1:g,x2:f-D/2+Q*2,y2:g,stroke:_,lineWidth:G,markerEnd:L0(G*2,_)}),(0,Lf.Ys)(this.icon).maybeAppend(".right-arrow","line").styles({x1:f,y1:g,x2:f+D/2-Q*2,y2:g,stroke:_,lineWidth:G,markerEnd:L0(G*2,_)})},s}(dh),ug=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u5355\u4E00\u65F6\u95F4"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this,D=O.iconSize,G=O.lineWidth;(0,Lf.Ys)(this.icon).maybeAppend(".line","line").styles({x1:f,y1:g-D/2,x2:f,y2:g+D/2,stroke:_,lineWidth:G});var Q=G;(0,Lf.Ys)(this.icon).maybeAppend(".left-arrow","line").styles({x1:f-D/2-Q*2,y1:g,x2:f-Q*2,y2:g,stroke:_,lineWidth:G,markerEnd:L0(G*2,_)}),(0,Lf.Ys)(this.icon).maybeAppend(".right-arrow","line").styles({x1:f+D/2+Q*2,y1:g,x2:f+Q*2,y2:g,stroke:_,lineWidth:G,markerEnd:L0(G*2,_)})},s}(dh),G_=function(m){return[[-m/2,-m/2],[-m/2,m/2],[m/2,m/2]]},J2=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u6298\u7EBF\u56FE"},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this,D=O.iconSize,G=O.lineWidth,Q=G,oe=(D-Q*2-G)/4,Se=(D-Q*2-G)/2,Ye=(0,Ms.CR)([f-D/2+Q,g+D/2-Q*2],2),dt=Ye[0],Kt=Ye[1];(0,Lf.Ys)(this.icon).maybeAppend(".coordinate","polyline").styles({points:G_(D).map(function(An){var Wn=(0,Ms.CR)(An,2),$r=Wn[0],ni=Wn[1];return[$r+f,ni+g]}),stroke:_,lineWidth:G}),(0,Lf.Ys)(this.icon).maybeAppend(".line","polyline").styles({points:[[dt,Kt],[dt+oe,Kt-Se],[dt+oe*2,Kt],[dt+oe*4,Kt-Se*2]],stroke:_,lineWidth:G})},s}(dh),by=function(m){(0,Ms.ZT)(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"label",{get:function(){return"\u6761\u5F62\u56FE"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.data,f=this.attributes,g=f.x,_=f.y,O=f.color,D=this,G=D.iconSize,Q=D.lineWidth,oe=Q,Se=(G-oe)/c.length,Ye=(G-oe*2)/4,dt=(0,Ms.CR)([g-G/2+oe*2,_+G/2-oe],2),Kt=dt[0],An=dt[1];(0,Lf.Ys)(this.icon).maybeAppend(".coordinate","polyline").styles({points:G_(G).map(function(Wn){var $r=(0,Ms.CR)(Wn,2),ni=$r[0],Kr=$r[1];return[ni+g,Kr+_]}),stroke:O,lineWidth:Q}),(0,Lf.Ys)(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(Wn,$r){return{value:Wn,index:$r}})).join(function(Wn){return Wn.append("line").attr("className","column").style("x1",function($r){var ni=$r.index;return Kt+Se*ni}).style("y1",An).style("x2",function($r){var ni=$r.index;return Kt+Se*ni}).style("y2",function($r){var ni=$r.value;return An-Ye*ni}).styles({y1:An,stroke:O,lineWidth:Q})})},s}(dh),eE=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},{style:{color:"#d8d9d9"}},c))||this;return f.showBackground=!1,f}return s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.color,O=this,D=O.iconSize,G=O.lineWidth;(0,Lf.Ys)(this.icon).maybeAppend(".split","line").styles({x1:f,y1:g-D/2,x2:f,y2:g+D/2,stroke:_,lineWidth:G})},s}(dh),Ey=function(m){(0,Ms.ZT)(s,m);function s(){var c=m.apply(this,(0,Ms.ev)([],(0,Ms.CR)(arguments),!1))||this;return c.showBackground=!1,c}return Object.defineProperty(s.prototype,"padding",{get:function(){return(0,Rp.j)(0)},enumerable:!1,configurable:!0}),s.prototype.renderIcon=function(){var c=this.iconSize,f=this.attributes,g=f.x,_=f.y,O=f.speed,D=O===void 0?1:O,G=(0,Rf.Z)(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),Q=(0,no.Z)(c,20,1/0),oe=20,Se=(0,Ms.pi)((0,Ms.pi)({},G),{x:g-Q/2,y:_-oe/2,width:Q,height:oe,defaultValue:D,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:c/5,placeholderFontSize:c/2,optionPadding:0,optionLabelFontSize:c/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});(0,Lf.Ys)(this.icon).maybeAppend(".speed",function(){return new I0({style:Se})}).attr("className","speed").each(function(){this.update(Se)})},s.tag="SpeedSelect",s}(dh),Mv=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,c)||this;return f.icon=f.appendChild(new j.ZA({})),f.currentType=f.attributes.type,f}return s.prototype.getType=function(){return this.currentType},s.prototype.render=function(){var c=this,f=this.attributes,g=f.onChange,_=(0,Ms._T)(f,["onChange"]);(0,Lf.Ys)(this.icon).selectAll(".icon").data([this.currentType]).join(function(O){return O.append(function(D){var G,Q=(G=c.toggles.find(function(oe){var Se=(0,Ms.CR)(oe,1),Ye=Se[0];return Ye===D}))===null||G===void 0?void 0:G[1];if(!Q)throw new Error("Invalid type: ".concat(D));return new Q({})}).attr("className","icon").styles(_,!1).update({})},function(O){return O.styles({restStyles:_}).update({})},function(O){return O.remove()})},s.prototype.bindEvents=function(){var c=this,f=this.attributes.onChange;this.addEventListener("click",function(g){g.preventDefault(),g.stopPropagation();var _=(c.toggles.findIndex(function(D){var G=(0,Ms.CR)(D,1),Q=G[0];return Q===c.currentType})+1)%c.toggles.length,O=c.toggles[_][0];f==null||f(c.currentType),c.currentType=O,c.render()})},s.tag="ToggleIcon",s}(Mg.w),xy=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},{style:{type:"play"}},c))||this;return f.toggles=[["play",x0],["pause",Id]],f}return s}(Mv),ip=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},{style:{type:"range"}},c))||this;return f.toggles=[["range",o3],["value",ug]],f}return s}(Mv),Rv=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},{style:{type:"column"}},c))||this;return f.toggles=[["line",J2],["column",by]],f}return s}(Mv),m1={reset:sg,speed:Ey,backward:Yl,playPause:xy,forward:a3,selectionType:ip,chartType:Rv,split:eE},Ld=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},s.defaultOptions,c))||this;return f.background=f.appendChild(new j.UL({})),f.functions=f.appendChild(new j.ZA({})),f}return Object.defineProperty(s.prototype,"padding",{get:function(){return(0,Rp.j)(this.attributes.padding)},enumerable:!1,configurable:!0}),s.prototype.renderBackground=function(){var c=this.style,f=c.x,g=c.y,_=c.width,O=c.height,D=(0,fh.zs)(this.attributes,"background");this.background.attr((0,Ms.pi)({x:f,y:g,width:_,height:O},D))},s.prototype.renderFunctions=function(){var c=this,f,g=this.attributes,_=g.functions,O=g.iconSize,D=g.iconSpacing,G=g.x,Q=g.y,oe=g.width,Se=g.height,Ye=g.align,dt=(0,Ms.CR)(this.padding,4),Kt=dt[1],An=dt[3],Wn=_.reduce(function(Kr,pa){return Kr.length&&pa.length?Kr.concat.apply(Kr,(0,Ms.ev)(["split"],(0,Ms.CR)(pa),!1)):Kr.concat.apply(Kr,(0,Ms.ev)([],(0,Ms.CR)(pa),!1))},[]),$r=Wn.length*(O+D)-D,ni={left:An+O/2,center:(oe-$r)/2+O/2,right:oe-$r-An-Kt+O/2}[Ye]||0;(f=this.speedSelect)===null||f===void 0||f.destroy(),this.functions.removeChildren(),Wn.forEach(function(Kr,pa){var Ia,$a=m1[Kr],Go={x:G+pa*(O+D)+ni,y:Q+Se/2,size:O};if($a===Ey?(Go.speed=c.attributes.speed,Go.onSelect=function(Rs){return c.handleFunctionChange(Kr,{value:Rs})}):[xy,ip,Rv].includes($a)?(Go.onChange=function(Rs){return c.handleFunctionChange(Kr,{value:Rs})},$a===xy&&(Go.type=c.attributes.state==="play"?"pause":"play"),$a===ip&&(Go.type=c.attributes.selectionType==="range"?"value":"range"),$a===Rv&&(Go.type=c.attributes.chartType==="line"?"column":"line")):Go.onClick=function(){return c.handleFunctionChange(Kr,{value:Kr})},$a===Ey){var Jo=(Ia=c.ownerDocument)===null||Ia===void 0?void 0:Ia.defaultView;Jo&&(c.speedSelect=new $a({style:(0,Ms.pi)((0,Ms.pi)({},Go),{zIndex:100})}),Jo.appendChild(c.speedSelect))}else c.functions.appendChild(new $a({style:Go}))})},s.prototype.disconnectedCallback=function(){var c;m.prototype.disconnectedCallback.call(this),(c=this.speedSelect)===null||c===void 0||c.destroy()},s.prototype.render=function(){this.renderBackground(),this.renderFunctions()},s.prototype.handleFunctionChange=function(c,f){var g=this.attributes.onChange;g==null||g(c,f)},s.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},s}(Mg.w),Hd=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},s.defaultOptions,c))||this;return f.bindEvents(),f}return s.prototype.bindEvents=function(){var c=this;this.addEventListener("mouseenter",function(){c.attr("lineWidth",Math.ceil(+(c.style.r||0)/2))}),this.addEventListener("mouseleave",function(){c.attr("lineWidth",0)})},s.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},s}(j.Cd),Y_=function(m){(0,Ms.ZT)(s,m);function s(c){return m.call(this,(0,rp.n)({},s.defaultOptions,c))||this}return s.prototype.renderBackground=function(){var c=this.attributes,f=c.x,g=c.y,_=c.width,O=c.height,D=(0,fh.zs)(this.attributes,"background");(0,Lf.Ys)(this).maybeAppend("background","rect").attr("className","background").styles((0,Ms.pi)({x:f-_/2,y:g-O/2,width:_,height:O},D))},s.prototype.renderIcon=function(){var c=this.attributes,f=c.x,g=c.y,_=c.iconSize,O=(0,fh.zs)(this.attributes,"icon"),D=1,G=_/2;(0,Lf.Ys)(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles((0,Ms.pi)({x1:f-D,y1:g-G,x2:f-D,y2:g+G},O)),(0,Lf.Ys)(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles((0,Ms.pi)({x1:f+D,y1:g-G,x2:f+D,y2:g+G},O))},s.prototype.renderBorder=function(){var c=this.attributes,f=c.x,g=c.y,_=c.width,O=c.height,D=c.type,G=(0,fh.zs)(this.attributes,"border"),Q=D==="start"?+_/2:-_/2;(0,Lf.Ys)(this).maybeAppend("border","line").attr("className","border").styles((0,Ms.pi)({x1:Q+f,y1:g-O/2,x2:Q+f,y2:g+O/2},G))},s.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},s.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},s}(Mg.w);function $_(m,s){return typeof m=="number"?Ty(m):tE(m,s)}function tE(m,s){var c=new Date(m);switch(s){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(c.getHours())&&c.getMinutes()===0?E0(c,`HH:mm
YYYY-MM-DD`):E0(c,"HH:mm");case"half-day":return c.getHours()<12?`AM
`.concat(E0(c,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(c.getDate())?E0(c,`DD
YYYY-MM`):E0(c,"DD");case"week":return c.getDate()<=7?E0(c,`DD
YYYY-MM`):E0(c,"DD");case"month":return[0,6].includes(c.getMonth())?E0(c,`MM\u6708
YYYY`):E0(c,"MM\u6708");case"season":return[0].includes(c.getMonth())?E0(c,`MM\u6708
YYYY`):E0(c,"MM\u6708");case"year":return E0(c,"YYYY");default:return E0(c,"YYYY-MM-DD HH:mm")}}function Ty(m){var s=String(Math.floor(m/3600)).padStart(2,"0"),c=String(Math.floor(m%3600/60)).padStart(2,"0"),f=String(Math.floor(m%60)).padStart(2,"0");return m<3600?"".concat(c,":").concat(f):"".concat(s,":").concat(c,":").concat(f)}var v1=function(m){(0,Ms.ZT)(s,m);function s(c){var f=m.call(this,(0,rp.n)({},s.defaultOptions,c))||this;f.axis=f.appendChild(new Ov.R({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),f.timeline=f.appendChild(new yy.i({style:{onChange:function(Se){f.handleSliderChange(Se)}}})),f.controller=f.appendChild(new Ld({})),f.states={},f.handleSliderChange=function(Se){var Ye=function(){var dt=f.states.values;return Array.isArray(dt)?(0,Ms.ev)([],(0,Ms.CR)(dt),!1):dt}();f.setBySliderValues(Se),f.dispatchOnChange(Ye)};var g=f.attributes,_=g.selectionType,O=g.chartType,D=g.speed,G=g.state,Q=g.playMode,oe=g.values;return f.states={chartType:O,playMode:Q,selectionType:_,speed:D,state:G},f.setByTimebarValues(oe),f}return Object.defineProperty(s.prototype,"data",{get:function(){var c=this.attributes.data,f=function(g,_){return g.time<_.time?-1:g.time>_.time?1:0};return c.sort(f)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"space",{get:function(){var c=this.attributes,f=c.x,g=c.y,_=c.width,O=c.height,D=c.type,G=c.controllerHeight,Q=(0,no.Z)(+O-G,0,+O),oe=new Mp.b(f,g+ +O-G,+_,G),Se,Ye=0;D==="chart"?(Ye=35,Se=new Mp.b(f,g+Q-Ye,+_,Ye)):Se=new Mp.b;var dt=D==="time"?10:Q,Kt=new Mp.b(f,g+(D==="time"?Q:Q-dt),+_,dt-Ye);return{axisBBox:Se,controllerBBox:oe,timelineBBox:Kt}},enumerable:!1,configurable:!0}),s.prototype.setBySliderValues=function(c){var f,g,_=this.data,O=(0,Ms.CR)(Array.isArray(c)?c:[0,c],2),D=O[0],G=O[1],Q=_.length,oe=_[Math.floor(D*Q)],Se=_[Math.ceil(G*Q)-(Array.isArray(c)?0:1)];this.states.values=[(f=oe==null?void 0:oe.time)!==null&&f!==void 0?f:_[0].time,(g=Se==null?void 0:Se.time)!==null&&g!==void 0?g:1/0]},s.prototype.setByTimebarValues=function(c){var f,g,_,O=this.data,D=(0,Ms.CR)(Array.isArray(c)?c:[void 0,c],2),G=D[0],Q=D[1],oe=O.find(function(Ye){var dt=Ye.time;return dt===G}),Se=O.find(function(Ye){var dt=Ye.time;return dt===Q});this.states.values=[(f=oe==null?void 0:oe.time)!==null&&f!==void 0?f:(g=O[0])===null||g===void 0?void 0:g.time,(_=Se==null?void 0:Se.time)!==null&&_!==void 0?_:1/0]},s.prototype.setByIndex=function(c){var f,g,_,O,D=this.data,G=(0,Ms.CR)(c,2),Q=G[0],oe=G[1];this.states.values=[(g=(f=D[Q])===null||f===void 0?void 0:f.time)!==null&&g!==void 0?g:D[0].time,(O=(_=this.data[oe])===null||_===void 0?void 0:_.time)!==null&&O!==void 0?O:1/0]},Object.defineProperty(s.prototype,"sliderValues",{get:function(){var c=this.states,f=c.values,g=c.selectionType,_=(0,Ms.CR)(Array.isArray(f)?f:[void 0,f],2),O=_[0],D=_[1],G=this.data,Q=G.length,oe=g==="value",Se=function(){var dt=G.findIndex(function(Kt){var An=Kt.time;return An===O});return oe?0:dt>-1?dt/Q:0},Ye=function(){if(D===1/0)return 1;var dt=G.findIndex(function(Kt){var An=Kt.time;return An===D});return dt>-1?dt/Q:oe?.5:1};return[Se(),Ye()]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"values",{get:function(){var c=this.states,f=c.values,g=c.selectionType,_=(0,Ms.CR)(Array.isArray(f)?f:[this.data[0].time,f],2),O=_[0],D=_[1];return g==="value"?D:[O,D]},enumerable:!1,configurable:!0}),s.prototype.getDatumByRatio=function(c){var f=this.data,g=f.length,_=Math.floor(c*(g-1));return f[_]},Object.defineProperty(s.prototype,"chartHandleIconShape",{get:function(){var c=this.states.selectionType,f=this.space.timelineBBox.height;return c==="range"?function(g){return new Y_({style:{type:g,height:f,iconSize:f/6}})}:function(){return new j.x1({style:{x1:0,y1:-f/2,x2:0,y2:f/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),s.prototype.getChartStyle=function(c){var f=this,g=c.x,_=c.y,O=c.width,D=c.height,G=this.states,Q=G.selectionType,oe=G.chartType,Se=this.data,Ye=this.attributes,dt=Ye.type,Kt=Ye.labelFormatter,An=(0,fh.zs)(this.attributes,"chart"),Wn=An.type,$r=(0,Ms._T)(An,["type"]),ni=Q==="range";if(dt==="time")return(0,Ms.pi)({handleIconShape:function(){return new Hd({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:ni?-15:0,autoFitLabel:ni,handleSpacing:ni?-15:0,trackFill:"#edeeef",trackLength:O,trackOpacity:.5,trackRadius:D/2,trackSize:D/2,type:Q,values:this.sliderValues,formatter:function(Ia){if(Kt)return Kt(Ia);var $a=f.getDatumByRatio(Ia).time;return typeof $a=="number"?Ty($a):E0($a,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(g,", ").concat(_,")"),zIndex:1},$r);var Kr=Q==="range"?5:0,pa=Se.map(function(Ia){var $a=Ia.value;return $a});return(0,Ms.pi)({handleIconOffset:Kr,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:pa,sparklineType:oe,sparklineScale:.8,trackLength:O,trackSize:D,type:Q,values:this.sliderValues,transform:"translate(".concat(g,", ").concat(_,")"),zIndex:1},$r)},s.prototype.renderChart=function(c){c===void 0&&(c=this.space.timelineBBox),this.timeline.update(this.getChartStyle(c))},s.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},s.prototype.getAxisStyle=function(c){var f=this.data,g=this.attributes,_=g.interval,O=g.labelFormatter,D=(0,fh.zs)(this.attributes,"axis"),G=c.x,Q=c.y,oe=c.width,Se=(0,Ms.ev)((0,Ms.ev)([],(0,Ms.CR)(f),!1),[{time:0}],!1).map(function(dt,Kt,An){var Wn=dt.time;return{label:"".concat(Wn),value:Kt/(An.length-1),time:Wn}}),Ye=(0,Ms.pi)({startPos:[G,Q],endPos:[G+oe,Q],data:Se,labelFilter:function(dt,Kt){return Kt<Se.length-1},labelFormatter:function(dt){var Kt=dt.time;return O?O(Kt):$_(Kt,_)}},D);return Ye},s.prototype.renderAxis=function(c){c===void 0&&(c=this.space.axisBBox);var f=this.attributes.type;f==="chart"&&this.axis.update(this.getAxisStyle(c))},s.prototype.renderController=function(c){c===void 0&&(c=this.space.controllerBBox);var f=this.attributes.type,g=this.states,_=g.state,O=g.speed,D=g.selectionType,G=g.chartType,Q=(0,fh.zs)(this.attributes,"controller"),oe=this,Se=(0,Ms.pi)((0,Ms.pi)((0,Ms.pi)({},c),{iconSize:20,speed:O,state:_,selectionType:D,chartType:G,onChange:function(Ye,dt){var Kt=dt.value;switch(Ye){case"reset":oe.internalReset();break;case"speed":oe.handleSpeedChange(Kt);break;case"backward":oe.internalBackward();break;case"playPause":Kt==="play"?oe.internalPlay():oe.internalPause();break;case"forward":oe.internalForward();break;case"selectionType":oe.handleSelectionTypeChange(Kt);break;case"chartType":oe.handleChartTypeChange(Kt);break;default:break}}}),Q);f==="time"&&(Se.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(Se)},s.prototype.dispatchOnChange=function(c){var f=this.data,g=this.attributes.onChange,_=this.states,O=_.values,D=_.selectionType,G=(0,Ms.CR)(O,2),Q=G[0],oe=G[1],Se=oe===1/0?f.at(-1).time:oe,Ye=D==="range"?[Q,Se]:Se,dt=function(Kt,An){return Array.isArray(Kt)?Array.isArray(An)?Kt[0]===An[0]&&(Kt[1]===An[1]||Kt[1]===1/0||An[1]===1/0):!1:Array.isArray(An)?!1:Kt===An};(!c||!dt(c,Ye))&&(g==null||g(D==="range"?[Q,Se]:Se))},s.prototype.internalReset=function(c){var f,g,_=this.states.selectionType;this.internalPause(),this.setBySliderValues(_==="range"?[0,1]:[0,0]),this.renderController(),this.updateSelection(),c||((g=(f=this.attributes)===null||f===void 0?void 0:f.onReset)===null||g===void 0||g.call(f),this.dispatchOnChange())},s.prototype.reset=function(){this.internalReset()},s.prototype.moveSelection=function(c,f){var g=this.data,_=g.length,O=this.states,D=O.values,G=O.selectionType,Q=O.playMode,oe=(0,Ms.CR)(D,2),Se=oe[0],Ye=oe[1],dt=g.findIndex(function(Kr){var pa=Kr.time;return pa===Se}),Kt=g.findIndex(function(Kr){var pa=Kr.time;return pa===Ye});Kt===-1&&(Kt=_);var An=c==="backward"?-1:1,Wn;G==="range"?Q==="acc"?(Wn=[dt,Kt+An],An===-1&&dt===Kt&&(Wn=[dt,_])):Wn=[dt+An,Kt+An]:Wn=[dt,Kt+An];var $r=function(Kr){var pa=(0,Ms.CR)(Kr.sort(function(Jo,Rs){return Jo-Rs}),2),Ia=pa[0],$a=pa[1],Go=function(Jo){return(0,no.Z)(Jo,0,_)};return $a>_?G==="value"?[0,0]:Q==="acc"?[Go(Ia),Go(Ia)]:[0,Go($a-Ia)]:Ia<0?Q==="acc"?[0,Go($a)]:[Go(Ia+_-$a),_]:[Go(Ia),Go($a)]},ni=$r(Wn);return this.setByIndex(ni),this.updateSelection(),ni},s.prototype.internalBackward=function(c){var f,g,_=this.moveSelection("backward",c);return c||((g=(f=this.attributes)===null||f===void 0?void 0:f.onBackward)===null||g===void 0||g.call(f),this.dispatchOnChange()),_},s.prototype.backward=function(){this.internalBackward()},s.prototype.internalPlay=function(c){var f=this,g,_,O=this.data,D=this.attributes.loop,G=this.states.speed,Q=G===void 0?1:G;this.playInterval=window.setInterval(function(){var oe=f.internalForward();oe[1]===O.length&&!D&&(f.internalPause(),f.renderController())},1e3/Q),this.states.state="play",!c&&((_=(g=this.attributes)===null||g===void 0?void 0:g.onPlay)===null||_===void 0||_.call(g))},s.prototype.play=function(){this.internalPlay()},s.prototype.internalPause=function(c){var f,g;clearInterval(this.playInterval),this.states.state="pause",!c&&((g=(f=this.attributes)===null||f===void 0?void 0:f.onPause)===null||g===void 0||g.call(f))},s.prototype.pause=function(){this.internalPause()},s.prototype.internalForward=function(c){var f,g,_=this.moveSelection("forward",c);return c||((g=(f=this.attributes)===null||f===void 0?void 0:f.onForward)===null||g===void 0||g.call(f),this.dispatchOnChange()),_},s.prototype.forward=function(){this.internalForward()},s.prototype.handleSpeedChange=function(c){var f,g;this.states.speed=c;var _=this.states.state;_==="play"&&(this.internalPause(!0),this.internalPlay(!0)),(g=(f=this.attributes)===null||f===void 0?void 0:f.onSpeedChange)===null||g===void 0||g.call(f,c)},s.prototype.handleSelectionTypeChange=function(c){var f,g;this.states.selectionType=c,this.renderChart(),(g=(f=this.attributes)===null||f===void 0?void 0:f.onSelectionTypeChange)===null||g===void 0||g.call(f,c)},s.prototype.handleChartTypeChange=function(c){var f,g;this.states.chartType=c,this.renderChart(),(g=(f=this.attributes)===null||f===void 0?void 0:f.onChartTypeChange)===null||g===void 0||g.call(f,c)},s.prototype.render=function(){var c=this.space,f=c.axisBBox,g=c.controllerBBox,_=c.timelineBBox;this.renderController(g),this.renderAxis(f),this.renderChart(_),this.states.state==="play"&&this.internalPlay()},s.prototype.destroy=function(){m.prototype.destroy.call(this),this.internalPause(!0)},s.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},s}(Mg.w);function Pv(m){return m instanceof Date}var y1=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})},_1=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};const Qg=["timestamp","time","date","datetime"];class Mm extends sl{get padding(){return wi(this.options.padding)}constructor(s,c){super(s,Object.assign({},Mm.defaultOptions,c)),this.backup(),this.upsertTimebar()}play(){var s;(s=this.timebar)===null||s===void 0||s.play()}pause(){var s;(s=this.timebar)===null||s===void 0||s.pause()}forward(){var s;(s=this.timebar)===null||s===void 0||s.forward()}backward(){var s;(s=this.timebar)===null||s===void 0||s.backward()}reset(){var s;(s=this.timebar)===null||s===void 0||s.reset()}update(s){super.update(s),this.backup(),this.upsertTimebar()}backup(){this.originalData=X_(this.context.graph.getData())}upsertTimebar(){const{canvas:s}=this.context,c=this.options,{onChange:f,timebarType:g,data:_,x:O,y:D,width:G,height:Q,mode:oe}=c,Se=_1(c,["onChange","timebarType","data","x","y","width","height","mode"]),Ye=s.getSize(),[dt]=this.padding;this.upsertCanvas().ready.then(()=>{var Kt;const An=Object.assign(Object.assign({x:Ye[0]/2-G/2,y:dt,onChange:Wn=>{const $r=((0,J.Z)(Wn)?Wn:[Wn,Wn]).map(ni=>Pv(ni)?ni.getTime():ni);this.options.mode==="modify"?this.filterElements($r):this.hiddenElements($r),f==null||f($r)}},Se),{data:_.map(Wn=>(0,Vu.Z)(Wn)?{time:Wn,value:0}:Wn),width:G,height:Q,type:g});this.timebar?this.timebar.update(An):(this.timebar=new v1({style:An}),(Kt=this.canvas)===null||Kt===void 0||Kt.appendChild(this.timebar))})}upsertCanvas(){if(this.canvas)return this.canvas;const{className:s,height:c,position:f}=this.options,g=this.context.canvas,[_]=g.getSize(),[O,,D]=this.padding,[G,Q]=Am({width:_,height:c+O+D,graphCanvas:g,className:"timebar",placement:f});return this.container=G,s&&G.classList.add(s),this.canvas=Q,this.canvas}filterElements(s){return y1(this,void 0,void 0,function*(){var c;if(!this.originalData)return;const{elementTypes:f,getTime:g}=this.options,{graph:_,element:O}=this.context,D=X_(this.originalData);f.forEach(Q=>{const oe=`${Q}s`;D[oe]=(this.originalData[oe]||[]).filter(Se=>{const Ye=g(Se);return!!Sy(Ye,s)})});const G=[...D.nodes,...D.combos].map(Q=>Wr(Q));D.edges=D.edges.filter(Q=>{const oe=Q.source,Se=Q.target;return G.includes(oe)&&G.includes(Se)}),_.setData(D),yield(c=O.draw({animation:!1,silence:!0}))===null||c===void 0?void 0:c.finished})}hiddenElements(s){const{graph:c}=this.context,{elementTypes:f,getTime:g}=this.options,_=[],O=[];f.forEach(D=>{var G;const Q=`${D}s`;(((G=this.originalData)===null||G===void 0?void 0:G[Q])||[]).forEach(Se=>{const Ye=Wr(Se),dt=g(Se);Sy(dt,s)?O.push(Ye):_.push(Ye)})}),c.hideElement(_,!1),c.showElement(O,!1)}destroy(){var s,c,f;const{graph:g}=this.context;this.originalData&&g.setData(Object.assign({},this.originalData)),(s=this.timebar)===null||s===void 0||s.destroy(),(c=this.canvas)===null||c===void 0||c.destroy(),(f=this.container)===null||f===void 0||f.remove(),this.originalData=void 0,this.container=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}Mm.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:m=>qg(m,Qg,void 0),loop:!1};const X_=m=>{const{nodes:s=[],edges:c=[],combos:f=[]}=m;return{nodes:[...s],edges:[...c],combos:[...f]}},Sy=(m,s)=>{if((0,Vu.Z)(s))return m===s;const[c,f]=s;return m>=c&&m<=f},qg=(m,s,c)=>{var f;for(let g=0;g<s.length;g++){const _=s[g],O=(f=m.data)===null||f===void 0?void 0:f[_];if(O)return O}return c};function T0(m){const s={top:"unset",right:"unset",bottom:"unset",left:"unset"};return m.split("-").forEach(f=>{s[f]="8px"}),s.flexDirection=m.startsWith("top")||m.startsWith("bottom")?"row":"column",s}const kh=`
  .g6-toolbar {
    position: absolute;
    z-index: 100;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);
    opacity: 0.65;
  }
  .g6-toolbar .g6-toolbar-item {
    display: inline-block;
    width: 16px;
    height: 16px;
    padding: 4px;
    cursor: pointer;
    box-sizing: content-box;
  }

  .g6-toolbar .g6-toolbar-item:hover {
    background-color: #f0f0f0;
  }

  .g6-toolbar .g6-toolbar-item svg {
    display: inline-block;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
`,nE=`
  <svg>
    <symbol id="zoom-in" viewBox="64 64 896 896">
      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="zoom-out" viewBox="64 64 896 896">
      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="edit" viewBox="64 64 896 896">
      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>
    </symbol>
    <symbol id="delete" viewBox="64 64 896 896">
      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>
    </symbol>
    <symbol id="redo" viewBox="64 64 896 896">
      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>
    </symbol>
    <symbol id="undo" viewBox="64 64 896 896">
      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>
    </symbol>
    <symbol id="export" viewBox="64 64 896 896">
      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>
    </symbol>
    <symbol id="auto-fit" viewBox="64 64 896 896">
      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>
      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>
    </symbol>
    <symbol id="reset" viewBox="64 64 896 896">
      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>
    </symbol>
    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">
      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>
    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">
      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>
  </svg>
`;var K_=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class b1 extends sl{constructor(s,c){super(s,Object.assign({},b1.defaultOptions,c)),this.$element=af("toolbar",!1),this.onToolbarItemClick=g=>{const{onClick:_}=this.options;if(g.target instanceof Element&&g.target.className.includes("g6-toolbar-item")){const O=g.target.getAttribute("value");_==null||_(O,g.target)}};const f=this.context.canvas.getContainer();this.$element.style.display="flex",f.appendChild(this.$element),Qc("g6-toolbar-css","style",{},kh,document.head),Qc("g6-toolbar-svgicon","div",{display:"none"},nE),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(c)}update(s){const c=Object.create(null,{update:{get:()=>super.update}});return K_(this,void 0,void 0,function*(){c.update.call(this,s);const{className:f,position:g,style:_}=this.options;this.$element.className=`g6-toolbar ${f||""}`,Object.assign(this.$element.style,_,T0(g)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return K_(this,void 0,void 0,function*(){return(yield this.options.getItems()).map(c=>`
          <div class="g6-toolbar-item" value="${c.value}">
            <svg aria-hidden="true" focusable="false">
              <use xlink:href="#${c.id}"></use>
            </svg>
          </div>`).join("")})}}b1.defaultOptions={position:"top-left"};var rE=A(62229);class Iv extends sl{constructor(s,c){super(s,Object.assign({},Iv.defaultOptions,c)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=f=>{const{enable:g}=this.options;return typeof g=="function"?g(f):g},this.onClick=f=>{const{target:{id:g}}=f;this.currentTarget===g?(this.hide(f),this.currentTarget=null):(this.currentTarget=g,this.show(f))},this.onPointerMove=f=>{const{target:g}=f;!this.currentTarget||g.id===this.currentTarget||this.show(f)},this.onPointerLeave=f=>{this.hide(f),this.currentTarget=null},this.onCanvasMove=f=>{this.hide(f),this.currentTarget=null},this.onPointerEnter=f=>{this.show(f)},this.showById=f=>{const g={target:{id:f}};this.show(g)},this.getElementData=(f,g)=>{const{model:_}=this.context;switch(g){case"node":return _.getNodeData([f]);case"edge":return _.getEdgeData([f]);case"combo":return _.getComboData([f]);default:return[]}},this.show=f=>{const{client:g,target:{id:_}}=f;if(rl(f.target)||!this.tooltipElement||!this.isEnable(f))return;const O=this.context.graph.getElementType(_),{getContent:D,title:G}=this.options;this.currentTarget=_;const Q=this.getElementData(_,O);let oe,Se;if(g)oe=g.x,Se=g.y;else{const dt=(0,hf.Z)(Q,"0.style",{x:0,y:0});oe=dt.x,Se=dt.y}let Ye={};if(D)Ye.content=D(f,Q);else{const dt=this.context.graph.getElementRenderStyle(_),Kt=O==="node"?dt.fill:dt.stroke;Ye={title:G||O,data:Q.map(An=>({name:"ID",value:An.id||`${An.source} -> ${An.target}`,color:Kt}))}}this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:oe,y:Se,style:{".tooltip":{visibility:"visible"}}}),Ye))},this.hide=f=>{var g;if(!f){(g=this.tooltipElement)===null||g===void 0||g.hide();return}if(!this.tooltipElement||!this.currentTarget)return;const{client:{x:_,y:O}}=f;this.tooltipElement.hide(_,O)},this.initTooltip=()=>{var f;const g=new rE.u({className:"tooltip",style:this.tooltipStyleProps});return(f=this.container)===null||f===void 0||f.appendChild(g.HTMLTooltipElement),g},this.render(),this.bindEvents()}getEvents(){return this.options.trigger==="click"?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerenter":this.onPointerEnter,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerenter":this.onPointerEnter,"edge:pointermove":this.onPointerMove,"combo:pointerenter":this.onPointerEnter,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(s){var c;this.unbindEvents(),super.update(s),this.tooltipElement&&((c=this.container)===null||c===void 0||c.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:s}=this.context,c=s.getContainer();c&&(this.container=c,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:s}=this.context,c=this.getEvents();Object.keys(c).forEach(f=>{s.off(f,c[f])})}bindEvents(){const{graph:s}=this.context,c=this.getEvents();Object.keys(c).forEach(f=>{s.on(f,c[f])})}get tooltipStyleProps(){const{canvas:s}=this.context,{center:c}=s.getBounds(),f=s.getContainer(),{top:g,left:_}=f.getBoundingClientRect(),{style:O,position:D,enterable:G,container:Q={x:-_,y:-g},title:oe,offset:Se}=this.options,[Ye,dt]=c,[Kt,An]=s.getSize();return{x:Ye,y:dt,container:Q,title:oe,bounding:{x:0,y:0,width:Kt,height:An},position:D,enterable:G,offset:Se,style:O}}destroy(){var s;this.unbindEvents(),this.tooltipElement&&((s=this.container)===null||s===void 0||s.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}Iv.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}};var Ay=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};let Bh;function ql(m,s){return Bh||(Bh=document.createElement("canvas")),Bh.width=m,Bh.height=s,Bh.getContext("2d").clearRect(0,0,m,s),Bh}function Q_(m,s,c,f){return Ay(this,void 0,void 0,function*(){const g=ql(m,s),_=g.getContext("2d"),{rotate:O,opacity:D,textFill:G,textFontSize:Q,textFontFamily:oe,textFontVariant:Se,textFontWeight:Ye,textAlign:dt,textBaseline:Kt}=f;return _.textAlign=dt,_.textBaseline=Kt,_.translate(m/2,s/2),_.font=`${Q}px ${oe} ${Se} ${Ye}`,O&&_.rotate(O),D&&(_.globalAlpha=D),G&&(_.fillStyle=G,_.fillText(`${c}`,0,0)),g.toDataURL()})}function ap(m,s,c,f){return Ay(this,void 0,void 0,function*(){const g=ql(m,s),_=g.getContext("2d"),{rotate:O,opacity:D}=f;O&&_.rotate(O),D&&(_.globalAlpha=D);const G=new Image;return G.crossOrigin="anonymous",G.src=c,new Promise(Q=>{G.onload=function(){const oe=m>G.width?(m-G.width)/2:0,Se=s>G.height?(s-G.height)/2:0;_.drawImage(G,0,0,G.width,G.height,oe,Se,m-oe*2,s-Se*2),Q(g.toDataURL())}})})}var q_=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})},iE=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class sf extends sl{constructor(s,c){super(s,Object.assign({},sf.defaultOptions,c)),this.$element=af("watermark"),this.context.canvas.getContainer().appendChild(this.$element),this.update(c)}update(s){const c=Object.create(null,{update:{get:()=>super.update}});return q_(this,void 0,void 0,function*(){c.update.call(this,s);const f=this.options,{width:g,height:_,text:O,imageURL:D}=f,G=iE(f,["width","height","text","imageURL"]);Object.keys(G).forEach(oe=>{oe.startsWith("background")&&(this.$element.style[oe]=s[oe])});const Q=D?yield ap(g,_,D,G):yield Q_(g,_,O,G);this.$element.style.backgroundImage=`url(${Q})`})}destroy(){super.destroy(),this.$element.remove()}}sf.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"};function Cy(m,s,c,f=!1){const g=Gt[m][s];!f&&g?g!==c&&ln.warn(`The extension ${s} of ${m} has been registered before.`):Object.assign(Gt[m],{[s]:c})}var J_=A(30223),E1=A(30853),eb=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})},tb=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};const Pp=["main"],Lv=["background","main","label","transient"];function nb(m){return m.main}class Ip{getConfig(){return this.config}getLayer(s="main"){return this.extends.layers[s]||nb(this.getLayers())}getLayers(){return this.extends.layers}getRenderer(s){return this.extends.renderers[s]}getCamera(s="main"){return this.getLayer(s).getCamera()}getRoot(s="main"){return this.getLayer(s).getRoot()}getContextService(s="main"){return this.getLayer(s).getContextService()}setCursor(s){this.config.cursor=s,this.getLayer().setCursor(s)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(s){this.config={enableMultiLayer:!0},Object.assign(this.config,s);const c=this.config,{renderer:f,background:g,cursor:_,enableMultiLayer:O}=c,D=tb(c,["renderer","background","cursor","enableMultiLayer"]),G=O?Lv:Pp,Q=rb(f,G),oe=Object.fromEntries(G.map(Se=>{const Ye=new j.Xz(Object.assign(Object.assign({},D),{supportsMutipleCanvasesInOneContainer:O,renderer:Q[Se],background:O?Se==="background"?g:void 0:g}));return[Se,Ye]}));Jg(oe),this.extends={config:this.config,renderer:f,renderers:Q,layers:oe}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,s])=>s.ready))}resize(s,c){Object.assign(this.extends.config,{width:s,height:c}),Object.values(this.getLayers()).forEach(f=>{const g=f.getCamera(),_=g.getPosition(),O=g.getFocalPoint();f.resize(s,c),g.setPosition(_),g.setFocalPoint(O)})}getBounds(s){return gn(Object.values(this.getLayers()).map(c=>s?c.getRoot().childNodes.find(g=>g.classList.includes(s)):c.getRoot()).filter(c=>(c==null?void 0:c.childNodes.length)>0).map(c=>c.getBounds()))}getContainer(){const s=this.extends.config.container;return typeof s=="string"?document.getElementById(s):s}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(s,c){var f;const g=((f=s.style)===null||f===void 0?void 0:f.$layer)||"main";return this.getLayer(g).appendChild(s,c)}setRenderer(s){if(s===this.extends.renderer)return;const c=rb(s,this.config.enableMultiLayer?Lv:Pp);this.extends.renderers=c,Object.entries(c).forEach(([f,g])=>this.getLayer(f).setRenderer(g)),Jg(this.getLayers())}getCanvasByViewport(s){return Ol(this.getLayer().viewport2Canvas(al(s)))}getViewportByCanvas(s){return Ol(this.getLayer().canvas2Viewport(al(s)))}getViewportByClient(s){return Ol(this.getLayer().client2Viewport(al(s)))}getClientByViewport(s){return Ol(this.getLayer().viewport2Client(al(s)))}getClientByCanvas(s){return this.getClientByViewport(this.getViewportByCanvas(s))}getCanvasByClient(s){const c=this.getLayer(),f=c.client2Viewport(al(s));return Ol(c.viewport2Canvas(f))}toDataURL(){return eb(this,arguments,void 0,function*(s={}){const c=globalThis.devicePixelRatio||1,{mode:f="viewport"}=s,g=tb(s,["mode"]);let[_,O,D,G]=[0,0,0,0];if(f==="viewport")[D,G]=this.getSize();else if(f==="overall"){const $r=this.getBounds(),ni=nt($r);[_,O]=$r.min,[D,G]=ni}const Q=(0,E1.L)('<div id="virtual-image"></div>'),oe=new j.Xz({width:D,height:G,renderer:new cu.Th,devicePixelRatio:c,container:Q,background:this.extends.config.background});yield oe.ready,oe.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),oe.appendChild(this.getRoot().cloneNode(!0));const Se=this.getLayer("label").getRoot().cloneNode(!0),Ye=oe.viewport2Canvas({x:0,y:0}),dt=this.getCanvasByViewport([0,0]);Se.translate([dt[0]-Ye.x,dt[1]-Ye.y]),Se.scale(1/this.getCamera().getZoom()),oe.appendChild(Se),oe.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const Kt=this.getCamera(),An=oe.getCamera();if(f==="viewport")An.setZoom(Kt.getZoom()),An.setPosition(Kt.getPosition()),An.setFocalPoint(Kt.getFocalPoint());else if(f==="overall"){const[$r,ni,Kr]=An.getPosition(),[pa,Ia,$a]=An.getFocalPoint();An.setPosition([$r+_,ni+O,Kr]),An.setFocalPoint([pa+_,Ia+O,$a])}const Wn=oe.getContextService();return new Promise($r=>{oe.addEventListener(j.$6.RERENDER,()=>eb(this,void 0,void 0,function*(){yield new Promise(Kr=>setTimeout(Kr,300));const ni=yield Wn.toDataURL(g);$r(ni)}))})})}destroy(){Object.values(this.getLayers()).forEach(s=>{s.getCamera().cancelLandmarkAnimation(),s.destroy()})}}function rb(m,s){return Object.fromEntries(s.map(c=>{const f=(m==null?void 0:m(c))||new cu.Th;return c==="main"?f.registerPlugin(new J_.S({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):f.unregisterPlugin(f.getPlugin("dom-interaction")),[c,f]}))}function Jg(m){Object.entries(m).forEach(([s,c])=>{const f=c.getContextService().getDomElement();f!=null&&f.style&&(f.style.gridArea="1 / 1 / 2 / 2",f.style.outline="none",f.tabIndex=1,s!=="main"&&(f.style.pointerEvents="none")),f!=null&&f.parentElement&&(f.parentElement.style.display="grid")})}const Rm=m=>m?parseInt(m):0;function ib(m){const s=getComputedStyle(m),c=m.clientWidth||Rm(s.width),f=m.clientHeight||Rm(s.height),g=Rm(s.paddingLeft)+Rm(s.paddingRight),_=Rm(s.paddingTop)+Rm(s.paddingBottom);return[c-g,f-_]}function ab(m){if(!m)return[0,0];let s=640,c=480;const[f,g]=ib(m);s=f||s,c=g||c;const _=1,O=1;return[Math.max((0,Vu.Z)(s)?s:_,_),Math.max((0,Vu.Z)(c)?c:O,O)]}class x1{constructor(s){this.type=s}}class Fh extends x1{constructor(s,c){super(s),this.data=c}}class N0 extends x1{constructor(s,c,f,g){super(s),this.animationType=c,this.animation=f,this.data=g}}class Pm extends x1{constructor(s,c,f){super(s),this.elementType=c,this.data=f}}class Im extends x1{constructor(s,c){super(s),this.data=c}}function Qh(m,s){m.emit(s.type,s)}function aE(m){if(!m)return null;if(m instanceof j.BB)return{type:"canvas",element:m};let s=m;for(;s;){if(ja(s))return{type:"node",element:s};if(Sa(s))return{type:"edge",element:s};if(uo(s))return{type:"combo",element:s};s=s.parentElement}return null}function T1(m){var s;return((s=m==null?void 0:m.style)===null||s===void 0?void 0:s.zIndex)||0}const Nd="cachedStyle",Uh=m=>`__${m}__`;function em(m,s){const c=Array.isArray(s)?s:[s];(0,hf.Z)(m,Nd)||(0,Ud.Z)(m,Nd,{}),c.forEach(f=>{(0,Ud.Z)((0,hf.Z)(m,Nd),Uh(f),m.attributes[f])})}function Lm(m,s){return(0,hf.Z)(m,[Nd,Uh(s)])}function Eh(m,s){return Uh(s)in((0,hf.Z)(m,Nd)||{})}function ob(m,s,c){set(m,[Nd,Uh(s)],c)}class oE{constructor(s){this.tasks=[],this.animations=new Set,this.context=s}getTasks(){const s=[...this.tasks];return this.tasks=[],s}add(s,c){this.tasks.push([s,c])}animate(s,c,f){var g,_,O;(g=c==null?void 0:c.before)===null||g===void 0||g.call(c);const D=this.getTasks().map(([Q,oe])=>{var Se,Ye,dt;const{element:Kt,elementType:An,stage:Wn}=Q,$r=At(this.context.options,An,Wn,s);(Se=oe==null?void 0:oe.before)===null||Se===void 0||Se.call(oe);const ni=$r.length?mn(Kt,this.inferStyle(Q,f),$r):null;return ni?((Ye=oe==null?void 0:oe.beforeAnimate)===null||Ye===void 0||Ye.call(oe,ni),ni.finished.then(()=>{var Kr,pa;(Kr=oe==null?void 0:oe.afterAnimate)===null||Kr===void 0||Kr.call(oe,ni),(pa=oe==null?void 0:oe.after)===null||pa===void 0||pa.call(oe),this.animations.delete(ni)})):(dt=oe==null?void 0:oe.after)===null||dt===void 0||dt.call(oe),ni}).filter(Boolean);D.forEach(Q=>this.animations.add(Q));const G=Pe(D);return G?((_=c==null?void 0:c.beforeAnimate)===null||_===void 0||_.call(c,G),G.finished.then(()=>{var Q,oe;(Q=c==null?void 0:c.afterAnimate)===null||Q===void 0||Q.call(c,G),(oe=c==null?void 0:c.after)===null||oe===void 0||oe.call(c),this.release()})):(O=c==null?void 0:c.after)===null||O===void 0||O.call(c),G}inferStyle(s,c){var f,g;const{element:_,elementType:O,stage:D,originalStyle:G,updatedStyle:Q={}}=s;s.modifiedStyle||(s.modifiedStyle=Object.assign(Object.assign({},G),Q));const{modifiedStyle:oe}=s,Se={},Ye={};if(D==="enter")Object.assign(Se,{opacity:0});else if(D==="exit")Object.assign(Ye,{opacity:0});else if(D==="show")Object.assign(Se,{opacity:0}),Object.assign(Ye,{opacity:(f=Lm(_,"opacity"))!==null&&f!==void 0?f:He("opacity")});else if(D==="hide")Object.assign(Se,{opacity:(g=Lm(_,"opacity"))!==null&&g!==void 0?g:He("opacity")}),Object.assign(Ye,{opacity:0});else if(D==="collapse"){const{collapse:dt}=c||{},{target:Kt,descendants:An,position:Wn}=dt;if(O==="node"){if(An.includes(_.id)){const[$r,ni,Kr]=Wn;Object.assign(Ye,{x:$r,y:ni,z:Kr})}}else if(O==="combo"){if(_.id===Kt||An.includes(_.id)){const[$r,ni]=Wn;Object.assign(Ye,{x:$r,y:ni,childrenNode:G.childrenNode})}}else O==="edge"&&Object.assign(Ye,{sourceNode:oe.sourceNode,targetNode:oe.targetNode})}else if(D==="expand"){const{expand:dt}=c||{},{target:Kt,descendants:An,position:Wn}=dt;if(O==="node"){if(_.id===Kt||An.includes(_.id)){const[$r,ni,Kr]=Wn;Object.assign(Se,{x:$r,y:ni,z:Kr})}}else if(O==="combo"){if(_.id===Kt||An.includes(_.id)){const[$r,ni,Kr]=Wn;Object.assign(Se,{x:$r,y:ni,z:Kr,childrenNode:oe.childrenNode})}}else O==="edge"&&Object.assign(Se,{sourceNode:oe.sourceNode,targetNode:oe.targetNode})}return[Object.keys(Se).length>0?Object.assign({},G,Se):G,Object.keys(Ye).length>0?Object.assign({},oe,Ye):oe]}stop(){this.animations.forEach(s=>s.cancel())}clear(){this.tasks=[]}release(){var s,c;const{canvas:f}=this.context,g=(c=(s=f.document)===null||s===void 0?void 0:s.timeline)===null||c===void 0?void 0:c.animationsWithPromises;g&&(f.document.timeline.animationsWithPromises=g.filter(_=>_.playState!=="finished"))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class sE{constructor(s){this.batchCount=0,this.context=s}emit(s){const{graph:c}=this.context;c.emit(s.type,s)}startBatch(s=!0){this.batchCount++,this.batchCount===1&&this.emit(new Fh(gt.BATCH_START,{initiate:s}))}endBatch(){this.batchCount--,this.batchCount===0&&this.emit(new Fh(gt.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class uE extends Ku{constructor(s){super(s),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=c=>{const{target:f}=c,g=aE(f);if(!g)return;const{graph:_,canvas:O}=this.context,{type:D,element:G}=g;if("destroyed"in G&&(rl(G)||G.destroyed))return;const{type:Q,detail:oe,button:Se}=c,Ye=Object.assign(Object.assign({},c),{target:G,targetType:D,originalTarget:f});Q===fe.POINTER_MOVE&&(this.currentTarget!==G&&(this.currentTarget&&_.emit(`${this.currentTargetType}:${fe.POINTER_LEAVE}`,Object.assign(Object.assign({},Ye),{type:fe.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),G&&(Object.assign(Ye,{type:fe.POINTER_ENTER}),_.emit(`${D}:${fe.POINTER_ENTER}`,Ye))),this.currentTarget=G,this.currentTargetType=D),Q===fe.CLICK&&Se===2||(_.emit(`${D}:${Q}`,Ye),_.emit(Q,Ye)),Q===fe.CLICK&&oe===2&&(Object.assign(Ye,{type:fe.DBLCLICK}),_.emit(`${D}:${fe.DBLCLICK}`,Ye),_.emit(fe.DBLCLICK,Ye)),Q===fe.POINTER_DOWN&&Se===2&&(Object.assign(Ye,{type:fe.CONTEXT_MENU,preventDefault:()=>{var dt;(dt=O.getContainer())===null||dt===void 0||dt.addEventListener(fe.CONTEXT_MENU,Kt=>Kt.preventDefault(),{once:!0})}}),_.emit(`${D}:${fe.CONTEXT_MENU}`,Ye),_.emit(fe.CONTEXT_MENU,Ye))},this.forwardContainerEvents=c=>{this.context.graph.emit(c.type,c)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(s){this.setExtensions(s)}forwardEvents(){const s=this.context.canvas.getContainer();s&&[Fe.KEY_DOWN,Fe.KEY_UP].forEach(f=>{s.addEventListener(f,this.forwardContainerEvents)});const c=this.context.canvas.document;c&&[fe.CLICK,fe.DBLCLICK,fe.POINTER_OVER,fe.POINTER_LEAVE,fe.POINTER_ENTER,fe.POINTER_MOVE,fe.POINTER_OUT,fe.POINTER_DOWN,fe.POINTER_UP,fe.CONTEXT_MENU,fe.DRAG_START,fe.DRAG,fe.DRAG_END,fe.DRAG_ENTER,fe.DRAG_OVER,fe.DRAG_LEAVE,fe.DROP,fe.WHEEL].forEach(f=>{c.addEventListener(f,this.forwardCanvasEvents)})}destroy(){const s=this.context.canvas.getContainer();s&&[Fe.KEY_DOWN,Fe.KEY_UP].forEach(c=>{s.removeEventListener(c,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}function sb(m,s){s===void 0&&(s=new Map);var c=[];if(Array.isArray(m))for(var f=0,g=m.length;f<g;f++){var _=m[f];s.has(_)||(c.push(_),s.set(_,!0))}return c}var D0=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};function S0(m,s){const{data:c,style:f}=m,g=D0(m,["data","style"]),{data:_,style:O}=s,D=D0(s,["data","style"]),G=Object.assign(Object.assign({},g),D);return(c||_)&&Object.assign(G,{data:Object.assign(Object.assign({},c),_)}),(f||O)&&Object.assign(G,{style:Object.assign(Object.assign({},f),O)}),G}function Nv(m){const{data:s,style:c}=m,g=D0(m,["data","style"]);return s&&(g.data=Object.assign({},s)),c&&(g.style=Object.assign({},c)),g}function ub(m){return!get(m,["nodes","length"])&&!get(m,["edges","length"])&&!get(m,["combos","length"])}function Rg(m={},s={}){const{states:c=[],data:f={},style:g={},children:_=[]}=m,O=D0(m,["states","data","style","children"]),{states:D=[],data:G={},style:Q={},children:oe=[]}=s,Se=D0(s,["states","data","style","children"]),Ye=(Kt,An)=>Kt.length!==An.length?!1:Kt.every((Wn,$r)=>Wn===An[$r]),dt=(Kt,An)=>{const Wn=Object.keys(Kt),$r=Object.keys(An);return Wn.length!==$r.length?!1:Wn.every(ni=>Kt[ni]===An[ni])};return!(!dt(O,Se)||!Ye(_,oe)||!Ye(c,D)||!dt(f,G)||!dt(g,Q))}var lE=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};function Oy(m){const{id:s=Wr(m),style:c,data:f}=m,g=lE(m,["id","style","data"]),_=Object.assign(Object.assign({},m),{style:Object.assign({},c),data:Object.assign({},f)});return bn(m)?Object.assign({id:s,data:_},g):{id:s,data:_}}function hh(m){return m.data}function lb(m){if(m.hasTreeStructure(Ue))return;m.attachTreeStructure(Ue);const s=m.getAllEdges();for(const c of s){const{source:f,target:g}=c;m.setParent(g,f,Ue)}}class tm{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new Te.k}pushChange(s){if(this.isTraceless)return;const{type:c}=s;if(c===se.NodeUpdated||c===se.EdgeUpdated||c===se.ComboUpdated){const{value:f,original:g}=s;this.changes.push({value:Nv(f),original:Nv(g),type:c})}else this.changes.push({value:Nv(s.value),type:c})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(s){this.batchCount++,this.model.batch(s),this.batchCount--}isBatching(){return this.batchCount>0}silence(s){this.isTraceless=!0,s(),this.isTraceless=!1}isCombo(s){return this.comboIds.has(s)||this.latestRemovedComboIds.has(s)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(s){return this.model.getAllNodes().reduce((c,f)=>{const g=hh(f);return this.isCombo(Wr(g))||(s===void 0||s.includes(Wr(g)))&&c.push(g),c},[])}getEdgeDatum(s){return hh(this.model.getEdge(s))}getEdgeData(s){return this.model.getAllEdges().reduce((c,f)=>{const g=hh(f);return(s===void 0||s.includes(Wr(g)))&&c.push(g),c},[])}getComboData(s){return this.model.getAllNodes().reduce((c,f)=>{const g=hh(f);return this.isCombo(Wr(g))&&(s===void 0||s.includes(Wr(g)))&&c.push(g),c},[])}getRootsData(s=Ue){return this.model.getRoots(s).map(hh)}getAncestorsData(s,c){const{model:f}=this;return!f.hasNode(s)||!f.hasTreeStructure(c)?[]:f.getAncestors(s,c).map(hh)}getDescendantsData(s){const c=this.getElementDataById(s),f=[];return Yf(c,g=>{g!==c&&f.push(g)},g=>this.getChildrenData(Wr(g)),"TB"),f}getParentData(s,c){const{model:f}=this;if(!c){ln.warn("The hierarchy structure key is not specified");return}if(!f.hasNode(s)||!f.hasTreeStructure(c))return;const g=f.getParent(s,c);return g?hh(g):void 0}getChildrenData(s){const c=this.getElementType(s)==="node"?Ue:Ke,{model:f}=this;return!f.hasNode(s)||!f.hasTreeStructure(c)?[]:f.getChildren(s,c).map(hh)}getElementsDataByType(s){return s==="node"?this.getNodeData():s==="edge"?this.getEdgeData():s==="combo"?this.getComboData():[]}getElementDataById(s){return this.getElementType(s)==="edge"?this.getEdgeDatum(s):this.getNodeLikeDatum(s)}getNodeLikeDatum(s){const c=this.model.getNode(s);return hh(c)}getNodeLikeData(s){return this.model.getAllNodes().reduce((c,f)=>{const g=hh(f);return s?s.includes(Wr(g))&&c.push(g):c.push(g),c},[])}getElementDataByState(s,c){return this.getElementsDataByType(s).filter(g=>{var _;return(_=g.states)===null||_===void 0?void 0:_.includes(c)})}getElementState(s){var c;return((c=this.getElementDataById(s))===null||c===void 0?void 0:c.states)||[]}hasNode(s){return this.model.hasNode(s)&&!this.isCombo(s)}hasEdge(s){return this.model.hasEdge(s)}hasCombo(s){return this.model.hasNode(s)&&this.isCombo(s)}getRelatedEdgesData(s,c="both"){return this.model.getRelatedEdges(s,c).map(hh)}getNeighborNodesData(s){return this.model.getNeighbors(s).map(hh)}setData(s){const{nodes:c=[],edges:f=[],combos:g=[]}=s,{nodes:_,edges:O,combos:D}=this.getData(),G=Ks(_,c,Se=>Wr(Se),Rg),Q=Ks(O,f,Se=>Wr(Se),Rg),oe=Ks(D,g,Se=>Wr(Se),Rg);this.batch(()=>{const Se={nodes:G.enter,edges:Q.enter,combos:oe.enter};this.addData(Se),this.computeZIndex(Se,"add",!0);const Ye={nodes:G.update,edges:Q.update,combos:oe.update};this.updateData(Ye),this.computeZIndex(Ye,"update",!0);const dt={nodes:G.exit.map(Wr),edges:Q.exit.map(Wr),combos:oe.exit.map(Wr)};this.removeData(dt)})}addData(s){const{nodes:c,edges:f,combos:g}=s;this.batch(()=>{this.addComboData(g),this.addNodeData(c),this.addEdgeData(f)}),this.computeZIndex(s,"add")}addNodeData(s=[]){s.length&&(this.model.addNodes(s.map(c=>(this.pushChange({value:c,type:se.NodeAdded}),Oy(c)))),this.updateNodeLikeHierarchy(s),this.computeZIndex({nodes:s},"add"))}addEdgeData(s=[]){s.length&&(this.model.addEdges(s.map(c=>(this.pushChange({value:c,type:se.EdgeAdded}),Oy(c)))),this.computeZIndex({edges:s},"add"))}addComboData(s=[]){if(!s.length)return;const{model:c}=this;c.hasTreeStructure(Ke)||c.attachTreeStructure(Ke),c.addNodes(s.map(f=>(this.comboIds.add(Wr(f)),this.pushChange({value:f,type:se.ComboAdded}),Oy(f)))),this.updateNodeLikeHierarchy(s),this.computeZIndex({combos:s},"add")}addChildrenData(s,c){const f=this.getNodeLikeDatum(s),g=c.map(Wr);this.addNodeData(c),this.updateNodeData([{id:s,children:[...f.children||[],...g]}]),this.addEdgeData(g.map(_=>({source:s,target:_})))}computeZIndex(s,c,f=!1){!f&&this.isBatching()||this.batch(()=>{const{nodes:g=[],edges:_=[],combos:O=[]}=s;O.forEach(D=>{var G,Q,oe;const Se=Wr(D);if(c==="add"&&(0,Vu.Z)((G=D.style)===null||G===void 0?void 0:G.zIndex)||c==="update"&&!("combo"in D))return;const Ye=this.getParentData(Se,Ke),dt=Ye?((oe=(Q=Ye.style)===null||Q===void 0?void 0:Q.zIndex)!==null&&oe!==void 0?oe:0)+1:0;this.preventUpdateNodeLikeHierarchy(()=>{this.updateComboData([{id:Se,style:{zIndex:dt}}])})}),g.forEach(D=>{var G,Q,oe;const Se=Wr(D);if(c==="add"&&(0,Vu.Z)((G=D.style)===null||G===void 0?void 0:G.zIndex)||c==="update"&&!("combo"in D)&&!("children"in D))return;let Ye=0;const dt=this.getParentData(Se,Ke);if(dt)Ye=(((Q=dt.style)===null||Q===void 0?void 0:Q.zIndex)||0)+1;else{const Kt=this.getParentData(Se,Ue);Kt&&(Ye=((oe=Kt==null?void 0:Kt.style)===null||oe===void 0?void 0:oe.zIndex)||0)}this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:Se,style:{zIndex:Ye}}])})}),_.forEach(D=>{var G,Q,oe,Se,Ye;if((0,Vu.Z)((G=D.style)===null||G===void 0?void 0:G.zIndex))return;let{id:dt,source:Kt,target:An}=D;if(!dt)dt=Wr(D);else{const ni=this.getEdgeDatum(dt);Kt=ni.source,An=ni.target}if(!Kt||!An)return;const Wn=((oe=(Q=this.getNodeLikeDatum(Kt))===null||Q===void 0?void 0:Q.style)===null||oe===void 0?void 0:oe.zIndex)||0,$r=((Ye=(Se=this.getNodeLikeDatum(An))===null||Se===void 0?void 0:Se.style)===null||Ye===void 0?void 0:Ye.zIndex)||0;this.updateEdgeData([{id:Wr(D),style:{zIndex:Math.max(Wn,$r)-1}}])})})}getFrontZIndex(s){var c;const f=this.getElementType(s),g=this.getElementDataById(s),_=this.getData();if(Object.assign(_,{[`${f}s`]:_[`${f}s`].filter(O=>Wr(O)!==s)}),f==="combo"&&!Of(g)){const O=new Set(this.getAncestorsData(s,Ke).map(Wr));_.nodes=_.nodes.filter(D=>!O.has(Wr(D))),_.combos=_.combos.filter(D=>!O.has(Wr(D))),_.edges=_.edges.filter(({source:D,target:G})=>!O.has(D)&&!O.has(G))}return Math.max(((c=g.style)===null||c===void 0?void 0:c.zIndex)||0,0,...Object.values(_).flat().map(O=>{var D;return(((D=O==null?void 0:O.style)===null||D===void 0?void 0:D.zIndex)||0)+1}))}updateNodeLikeHierarchy(s){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:c}=this;s.forEach(f=>{const g=Wr(f);hs(f)&&(c.hasTreeStructure(Ke)||c.attachTreeStructure(Ke),this.setParent(g,hs(f),Ke));const O=f.children||[];if(O.length){c.hasTreeStructure(Ue)||c.attachTreeStructure(Ue);const D=O.filter(G=>c.hasNode(G));D.forEach(G=>this.setParent(G,g,Ue)),D.length!==O.length&&this.updateNodeData([{id:g,children:D}])}})}preventUpdateNodeLikeHierarchy(s){this.enableUpdateNodeLikeHierarchy=!1,s(),this.enableUpdateNodeLikeHierarchy=!0}updateData(s){const{nodes:c,edges:f,combos:g}=s;this.batch(()=>{this.updateNodeData(c),this.updateComboData(g),this.updateEdgeData(f)}),this.computeZIndex(s,"update")}updateNodeData(s=[]){if(!s.length)return;const{model:c}=this;this.batch(()=>{const f=[];s.forEach(g=>{const _=Wr(g),O=hh(c.getNode(_));if(Rg(O,g))return;const D=S0(O,g);this.pushChange({value:D,original:O,type:se.NodeUpdated}),c.mergeNodeData(_,D),f.push(D)}),this.updateNodeLikeHierarchy(f)}),this.computeZIndex({nodes:s},"update")}refreshData(){const{nodes:s,edges:c,combos:f}=this.getData();s.forEach(g=>{this.pushChange({value:g,original:g,type:se.NodeUpdated})}),c.forEach(g=>{this.pushChange({value:g,original:g,type:se.EdgeUpdated})}),f.forEach(g=>{this.pushChange({value:g,original:g,type:se.ComboUpdated})})}syncNodeDatum(s){const{model:c}=this,f=Wr(s),g=hh(c.getNode(f)),_=S0(g,s);c.mergeNodeData(f,_)}updateEdgeData(s=[]){if(!s.length)return;const{model:c}=this;this.batch(()=>{s.forEach(f=>{const g=Wr(f),_=hh(c.getEdge(g));if(Rg(_,f))return;f.source&&_.source!==f.source&&c.updateEdgeSource(g,f.source),f.target&&_.target!==f.target&&c.updateEdgeTarget(g,f.target);const O=S0(_,f);this.pushChange({value:O,original:_,type:se.EdgeUpdated}),c.mergeEdgeData(g,O)})}),this.computeZIndex({edges:s},"update")}updateComboData(s=[]){if(!s.length)return;const{model:c}=this;c.batch(()=>{const f=[];s.forEach(g=>{const _=Wr(g),O=hh(c.getNode(_));if(Rg(O,g))return;const D=S0(O,g);this.pushChange({value:D,original:O,type:se.ComboUpdated}),c.mergeNodeData(_,D),f.push(D)}),this.updateNodeLikeHierarchy(f)}),this.computeZIndex({combos:s},"update")}setParent(s,c,f,g=!0){if(s===c)return;const _=this.getNodeLikeDatum(s),O=hs(_);if(O!==c&&f===Ke){const D={id:s,combo:c};this.isCombo(s)?this.syncComboDatum(D):this.syncNodeDatum(D)}this.model.setParent(s,c,f),g&&f===Ke&&sb([O,c]).forEach(D=>{D!==void 0&&this.refreshComboData(D)})}refreshComboData(s){const c=this.getComboData([s])[0],f=this.getAncestorsData(s,Ke);c&&this.pushChange({value:c,original:c,type:se.ComboUpdated}),f.forEach(g=>{this.pushChange({value:g,original:g,type:se.ComboUpdated})})}syncComboDatum(s){const{model:c}=this,f=Wr(s);if(!c.hasNode(f))return;const g=hh(c.getNode(f)),_=S0(g,s);c.mergeNodeData(f,_)}getElementPosition(s){const c=this.getElementDataById(s);return Mo(c)}translateNodeLikeBy(s,c){this.isCombo(s)?this.translateComboBy(s,c):this.translateNodeBy(s,c)}translateNodeLikeTo(s,c){this.isCombo(s)?this.translateComboTo(s,c):this.translateNodeTo(s,c)}translateNodeBy(s,c){const f=this.getElementPosition(s),g=ti(f,[...c,0].slice(0,3));this.translateNodeTo(s,g)}translateNodeTo(s,c){const[f=0,g=0,_=0]=c;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:s,style:{x:f,y:g,z:_}}])})}translateComboBy(s,c){const[f=0,g=0,_=0]=c;if([f,g,_].some(isNaN)||[f,g,_].every(G=>G===0))return;const O=this.getComboData([s])[0];if(!O)return;const D=new Set;Yf(O,G=>{const Q=Wr(G);if(D.has(Q))return;D.add(Q);const[oe,Se,Ye]=Mo(G),dt=S0(G,{style:{x:oe+f,y:Se+g,z:Ye+_}});this.pushChange({value:dt,original:G,type:this.isCombo(Q)?se.ComboUpdated:se.NodeUpdated}),this.model.mergeNodeData(Q,dt)},G=>this.getChildrenData(Wr(G)),"BT")}translateComboTo(s,c){var f;if(c.some(isNaN))return;const[g=0,_=0,O=0]=c,D=(f=this.getComboData([s]))===null||f===void 0?void 0:f[0];if(!D)return;const[G,Q,oe]=Mo(D),Se=g-G,Ye=_-Q,dt=O-oe;Yf(D,Kt=>{const An=Wr(Kt),[Wn,$r,ni]=Mo(Kt),Kr=S0(Kt,{style:{x:Wn+Se,y:$r+Ye,z:ni+dt}});this.pushChange({value:Kr,original:Kt,type:this.isCombo(An)?se.ComboUpdated:se.NodeUpdated}),this.model.mergeNodeData(An,Kr)},Kt=>this.getChildrenData(Wr(Kt)),"BT")}removeData(s){const{nodes:c,edges:f,combos:g}=s;this.batch(()=>{this.removeEdgeData(f),this.removeNodeData(c),this.removeComboData(g),this.latestRemovedComboIds=new Set(g)})}removeNodeData(s=[]){s.length&&this.batch(()=>{s.forEach(c=>{this.removeEdgeData(this.getRelatedEdgesData(c).map(Wr)),this.pushChange({value:this.getNodeData([c])[0],type:se.NodeRemoved}),this.removeNodeLikeHierarchy(c)}),this.model.removeNodes(s)})}removeEdgeData(s=[]){s.length&&(s.forEach(c=>this.pushChange({value:this.getEdgeData([c])[0],type:se.EdgeRemoved})),this.model.removeEdges(s))}removeComboData(s=[]){s.length&&this.batch(()=>{s.forEach(c=>{this.pushChange({value:this.getComboData([c])[0],type:se.ComboRemoved}),this.removeNodeLikeHierarchy(c),this.comboIds.delete(c)}),this.model.removeNodes(s)})}removeNodeLikeHierarchy(s){if(this.model.hasTreeStructure(Ke)){const c=hs(this.getNodeLikeDatum(s));this.setParent(s,void 0,Ke,!1),this.model.getChildren(s,Ke).forEach(f=>{const g=hh(f),_=Wr(g);this.setParent(Wr(g),c,Ke,!1);const O=S0(g,{id:Wr(g),combo:c});this.pushChange({value:O,original:g,type:this.isCombo(_)?se.ComboUpdated:se.NodeUpdated}),this.model.mergeNodeData(Wr(g),O)}),(0,Hs.Z)(c)||this.refreshComboData(c)}}getElementType(s){if(this.model.hasNode(s))return this.isCombo(s)?"combo":"node";if(this.model.hasEdge(s))return"edge";throw new Error(ft(`Unknown element type of id: ${s}`))}destroy(){const{model:s}=this,c=s.getAllNodes(),f=s.getAllEdges();s.removeEdges(f.map(g=>g.id)),s.removeNodes(c.map(g=>g.id)),this.context={}}}var Nm=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class wy{constructor(s){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=s}init(){if(!this.container){const{canvas:s}=this.context;this.container=s.appendChild(new j.ZA({className:"elements"}))}}emit(s,c){c.silence||Qh(this.context.graph,s)}forEachElementData(s){Ef.forEach(c=>{const f=this.context.model.getElementsDataByType(c);s(c,f)})}getElementType(s,c){var f;const{options:g,graph:_}=this.context,O=((f=g[s])===null||f===void 0?void 0:f.type)||c.type;return O?typeof O=="string"?O:O.call(_,c):s==="edge"?"line":"circle"}getTheme(s){return tt(this.context.options)[s]||{}}getThemeStyle(s){return this.getTheme(s).style||{}}getThemeStateStyle(s,c){const{state:f={}}=this.getTheme(s);return Object.assign({},...c.map(g=>f[g]||{}))}computePaletteStyle(){const{options:s}=this.context;this.paletteStyle={},this.forEachElementData((c,f)=>{var g,_;const O=Object.assign({},Ta((g=this.getTheme(c))===null||g===void 0?void 0:g.palette),Ta((_=s[c])===null||_===void 0?void 0:_.palette));O!=null&&O.field&&Object.assign(this.paletteStyle,ba(f,O))})}getPaletteStyle(s,c){const f=this.paletteStyle[c];return f?s==="edge"?{stroke:f}:{fill:f}:{}}computeElementDefaultStyle(s,c){var f;const{options:g}=this.context,_=((f=g[s])===null||f===void 0?void 0:f.style)||{};"transform"in _&&Array.isArray(_.transform)&&(_.transform=[..._.transform]),this.defaultStyle[Wr(c.datum)]=pn(_,c)}computeElementsDefaultStyle(s){const{graph:c}=this.context;this.forEachElementData((f,g)=>{const _=g.length;for(let O=0;O<_;O++){const D=g[O];(s===void 0||s.includes(Wr(D)))&&this.computeElementDefaultStyle(f,{datum:D,graph:c})}})}getDefaultStyle(s){return this.defaultStyle[s]||{}}getElementState(s){try{const{model:c}=this.context;return c.getElementState(s)}catch(c){return[]}}getElementStateStyle(s,c,f){var g,_;const{options:O}=this.context,D=((_=(g=O[s])===null||g===void 0?void 0:g.state)===null||_===void 0?void 0:_[c])||{};return pn(D,f)}computeElementStatesStyle(s,c,f){this.stateStyle[Wr(f.datum)]=Object.assign({},...c.map(g=>this.getElementStateStyle(s,g,f)))}computeElementsStatesStyle(s){const{graph:c}=this.context;this.forEachElementData((f,g)=>{const _=g.length;for(let O=0;O<_;O++){const D=g[O];if(s===void 0||s.includes(Wr(D))){const G=this.getElementState(Wr(D));this.computeElementStatesStyle(f,G,{datum:D,graph:c})}}})}getStateStyle(s){return this.stateStyle[s]||{}}computeStyle(s,c){s&&["translate","zIndex"].includes(s)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(c),this.computeElementsStatesStyle(c))}getElement(s){return this.elementMap[s]}getNodes(){return this.context.model.getNodeData().map(({id:s})=>this.elementMap[s])}getEdges(){return this.context.model.getEdgeData().map(s=>this.elementMap[Wr(s)])}getCombos(){return this.context.model.getComboData().map(({id:s})=>this.elementMap[s])}getElementComputedStyle(s,c){const f=Wr(c),g=this.getThemeStyle(s),_=this.getPaletteStyle(s,f),O=c.style||{},D=this.getDefaultStyle(f),G=this.getThemeStateStyle(s,this.getElementState(f)),Q=this.getStateStyle(f),oe=Object.assign({},g,_,O,D,G,Q);if(s==="combo"){const Se=this.context.model.getChildrenData(f),dt=!!oe.collapsed?[]:Se.map(Wr).filter(Kt=>this.getElement(Kt));Object.assign(oe,{childrenNode:dt,childrenData:Se})}return oe}draw(s={animation:!0}){this.init();const c=this.computeChangesAndDrawData(s);if(!c)return null;const{type:f="draw",stage:g=f,animation:_,silence:O}=s,{dataChanges:D,drawData:G}=c;this.markDestroyElement(G),this.computeStyle(g);const{add:Q,update:oe,remove:Se}=G;return this.destroyElements(Se,s),this.createElements(Q,s),this.updateElements(oe,s),this.context.animation.animate(_,O?{}:{before:()=>this.emit(new Fh(gt.BEFORE_DRAW,{dataChanges:D,animation:_,stage:g,render:f==="render"}),s),beforeAnimate:Ye=>this.emit(new N0(gt.BEFORE_ANIMATE,ge.DRAW,Ye,G),s),afterAnimate:Ye=>this.emit(new N0(gt.AFTER_ANIMATE,ge.DRAW,Ye,G),s),after:()=>this.emit(new Fh(gt.AFTER_DRAW,{dataChanges:D,animation:_,stage:g,render:f==="render",firstRender:this.context.graph.rendered===!1}),s)})}computeChangesAndDrawData(s){const{model:c}=this.context,f=c.getChanges(),g=fy(f);if(g.length===0)return null;const{NodeAdded:_=[],NodeUpdated:O=[],NodeRemoved:D=[],EdgeAdded:G=[],EdgeUpdated:Q=[],EdgeRemoved:oe=[],ComboAdded:Se=[],ComboUpdated:Ye=[],ComboRemoved:dt=[]}=Be(g,$r=>$r.type),Kt=$r=>new Map($r.map(ni=>{const Kr=ni.value;return[Wr(Kr),Kr]})),An={add:{nodes:Kt(_),edges:Kt(G),combos:Kt(Se)},update:{nodes:Kt(O),edges:Kt(Q),combos:Kt(Ye)},remove:{nodes:Kt(D),edges:Kt(oe),combos:Kt(dt)}},Wn=this.transformData(An,s);return c.clearChanges(),{dataChanges:f,drawData:Wn}}transformData(s,c){const f=this.context.transform.getTransformInstance();return Object.values(f).reduce((g,_)=>_.beforeDraw(g,c),s)}createElement(s,c,f){var g;const _=Wr(c);if(this.getElement(_))return;const D=this.getElementType(s,c),G=this.getElementComputedStyle(s,c),Q=rn(s,D);if(!Q)return ln.warn(`The element ${D} of ${s} is not registered.`);this.emit(new Pm(gt.BEFORE_ELEMENT_CREATE,s,c),f);const oe=this.container.appendChild(new Q({id:_,context:this.context,style:Object.assign({},G)}));this.shapeTypeMap[_]=D,this.elementMap[_]=oe;const{stage:Se="enter"}=f;(g=this.context.animation)===null||g===void 0||g.add({element:oe,elementType:s,stage:Se,originalStyle:Object.assign({},oe.attributes),updatedStyle:G},{after:()=>{var Ye;this.emit(new Pm(gt.AFTER_ELEMENT_CREATE,s,c),f),(Ye=oe.onCreate)===null||Ye===void 0||Ye.call(oe)}})}createElements(s,c){const{nodes:f,edges:g,combos:_}=s;[["node",f],["combo",_],["edge",g]].forEach(([D,G])=>{G.forEach(Q=>this.createElement(D,Q,c))})}getUpdateStageStyle(s,c,f){const{stage:g="update"}=f;if(g==="translate")if(s==="node"||s==="combo"){const{style:{x:_=0,y:O=0,z:D=0}={}}=c;return{x:_,y:O,z:D}}else return{};return this.getElementComputedStyle(s,c)}updateElement(s,c,f){var g;const _=Wr(c),{stage:O="update"}=f,D=this.getElement(_);if(!D)return()=>null;this.emit(new Pm(gt.BEFORE_ELEMENT_UPDATE,s,c),f);const G=this.getElementType(s,c),Q=this.getUpdateStageStyle(s,c,f);this.shapeTypeMap[_]!==G&&(D.destroy(),delete this.shapeTypeMap[_],delete this.elementMap[_],this.createElement(s,c,{animation:!1,silence:!0}));const oe=O!=="visibility"?O:Q.visibility==="hidden"?"hide":"show";oe==="hide"&&delete Q.visibility,(g=this.context.animation)===null||g===void 0||g.add({element:D,elementType:s,stage:oe,originalStyle:Object.assign({},D.attributes),updatedStyle:Q},{before:()=>{const Se=this.elementMap[_];O!=="collapse"&&yu(Se,Q),O==="visibility"&&(Eh(Se,"opacity")||em(Se,"opacity"),this.visibilityCache.set(Se,oe==="show"?"visible":"hidden"),oe==="show"&&hu(Se,"visible"))},after:()=>{var Se;const Ye=this.elementMap[_];O==="collapse"&&yu(Ye,Q),oe==="hide"&&hu(Ye,this.visibilityCache.get(Ye)),this.emit(new Pm(gt.AFTER_ELEMENT_UPDATE,s,c),f),(Se=Ye.onUpdate)===null||Se===void 0||Se.call(Ye)}})}updateElements(s,c){const{nodes:f,edges:g,combos:_}=s;[["node",f],["combo",_],["edge",g]].forEach(([D,G])=>{G.forEach(Q=>this.updateElement(D,Q,c))})}markDestroyElement(s){Object.values(s.remove).forEach(c=>{c.forEach(f=>{const g=Wr(f),_=this.getElement(g);_&&tl(_)})})}destroyElement(s,c,f){var g;const{stage:_="exit"}=f,O=Wr(c),D=this.elementMap[O];if(!D)return()=>null;this.emit(new Pm(gt.BEFORE_ELEMENT_DESTROY,s,c),f),(g=this.context.animation)===null||g===void 0||g.add({element:D,elementType:s,stage:_,originalStyle:Object.assign({},D.attributes),updatedStyle:{}},{after:()=>{var G;this.clearElement(O),D.destroy(),(G=D.onDestroy)===null||G===void 0||G.call(D),this.emit(new Pm(gt.AFTER_ELEMENT_DESTROY,s,c),f)}})}destroyElements(s,c){const{nodes:f,edges:g,combos:_}=s;[["combo",_],["edge",g],["node",f]].forEach(([D,G])=>{G.forEach(Q=>this.destroyElement(D,Q,c))})}clearElement(s){delete this.paletteStyle[s],delete this.defaultStyle[s],delete this.stateStyle[s],delete this.elementMap[s],delete this.shapeTypeMap[s]}collapseNode(s,c){return Nm(this,void 0,void 0,function*(){var f;const{model:g,layout:_}=this.context,O=this.computeChangesAndDrawData({stage:"collapse",animation:c});if(!O)return;this.markDestroyElement(O.drawData);const D=yield _.simulate();g.updateData(D);const G=this.computeChangesAndDrawData({stage:"collapse",animation:c});if(!G)return;const{drawData:Q}=G,{add:oe,remove:Se,update:Ye}=Q;this.markDestroyElement(Q);const dt={animation:c,stage:"collapse",data:Q};this.destroyElements(Se,dt),this.createElements(oe,dt),this.updateElements(Ye,dt),yield(f=this.context.animation.animate(c,{beforeAnimate:Kt=>this.emit(new N0(gt.BEFORE_ANIMATE,ge.COLLAPSE,Kt,Q),dt),afterAnimate:Kt=>this.emit(new N0(gt.AFTER_ANIMATE,ge.COLLAPSE,Kt,Q),dt)},{collapse:{target:s,descendants:Array.from(Se.nodes).map(([,Kt])=>Wr(Kt)),position:Mo(Ye.nodes.get(s))}}))===null||f===void 0?void 0:f.finished})}expandNode(s,c){return Nm(this,void 0,void 0,function*(){var f;const{model:g,layout:_}=this.context;if(!g.getAncestorsData(s,Ke).every(Kt=>Of(Kt)))return;const O=Mo(g.getNodeData([s])[0]),D=this.computeChangesAndDrawData({stage:"expand",animation:c});if(!D)return;const{drawData:{add:G}}=D;this.createElements(G,{animation:!1,stage:"expand",target:s}),this.context.animation.clear();const Q=yield _.simulate();g.updateData(Q),this.computeStyle("expand");const oe=this.computeChangesAndDrawData({stage:"collapse",animation:c});if(!oe)return;const{drawData:Se}=oe,{update:Ye}=Se,dt={animation:c,stage:"expand",data:Se};G.edges.forEach(Kt=>Ye.edges.set(Wr(Kt),Kt)),G.nodes.forEach(Kt=>Ye.nodes.set(Wr(Kt),Kt)),this.updateElements(Ye,dt),yield(f=this.context.animation.animate(c,{beforeAnimate:Kt=>this.emit(new N0(gt.BEFORE_ANIMATE,ge.EXPAND,Kt,Se),dt),afterAnimate:Kt=>this.emit(new N0(gt.AFTER_ANIMATE,ge.EXPAND,Kt,Se),dt)},{expand:{target:s,descendants:Array.from(G.nodes).map(([,Kt])=>Wr(Kt)),position:O}}))===null||f===void 0?void 0:f.finished})}collapseCombo(s,c){return Nm(this,void 0,void 0,function*(){var f;const{model:g,element:_}=this.context;if(g.getAncestorsData(s,Ke).some(An=>Of(An)))return;const O=_.getElement(s),D=O.getComboPosition(Object.assign(Object.assign({},O.attributes),{collapsed:!0})),G=this.computeChangesAndDrawData({stage:"collapse",animation:c});if(!G)return;const{dataChanges:Q,drawData:oe}=G;this.markDestroyElement(oe);const{update:Se,remove:Ye}=oe,dt={animation:c,stage:"collapse",data:oe};this.destroyElements(Ye,dt),this.updateElements(Se,dt);const Kt=An=>Array.from(An).map(([,Wn])=>Wr(Wn));yield(f=this.context.animation.animate(c,{before:()=>this.emit(new Fh(gt.BEFORE_DRAW,{dataChanges:Q,animation:c}),dt),beforeAnimate:An=>this.emit(new N0(gt.BEFORE_ANIMATE,ge.COLLAPSE,An,oe),dt),afterAnimate:An=>this.emit(new N0(gt.AFTER_ANIMATE,ge.COLLAPSE,An,oe),dt),after:()=>this.emit(new Fh(gt.AFTER_DRAW,{dataChanges:Q,animation:c}),dt)},{collapse:{target:s,descendants:[...Kt(Ye.nodes),...Kt(Ye.combos)],position:D}}))===null||f===void 0?void 0:f.finished})}expandCombo(s,c){return Nm(this,void 0,void 0,function*(){var f;const{model:g}=this.context,_=Mo(g.getComboData([s])[0]);this.computeStyle("expand");const O=this.computeChangesAndDrawData({stage:"expand",animation:c});if(!O)return;const{dataChanges:D,drawData:G}=O,{add:Q,update:oe}=G,Se={animation:c,stage:"expand",data:G,target:s};this.createElements(Q,Se),this.updateElements(oe,Se);const Ye=dt=>Array.from(dt).map(([,Kt])=>Wr(Kt));yield(f=this.context.animation.animate(c,{before:()=>this.emit(new Fh(gt.BEFORE_DRAW,{dataChanges:D,animation:c}),Se),beforeAnimate:dt=>this.emit(new N0(gt.BEFORE_ANIMATE,ge.EXPAND,dt,G),Se),afterAnimate:dt=>this.emit(new N0(gt.AFTER_ANIMATE,ge.EXPAND,dt,G),Se),after:()=>this.emit(new Fh(gt.AFTER_DRAW,{dataChanges:D,animation:c}),Se)},{expand:{target:s,descendants:[...Ye(Q.nodes),...Ye(Q.combos)],position:_}}))===null||f===void 0?void 0:f.finished})}destroy(){this.container.destroy(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={},this.context={}}}const My=Symbol("Comlink.proxy"),Ry=Symbol("Comlink.endpoint"),cb=Symbol("Comlink.releaseProxy"),S1=Symbol("Comlink.finalizer"),Dm=Symbol("Comlink.thrown"),fb=m=>typeof m=="object"&&m!==null||typeof m=="function",cE={canHandle:m=>fb(m)&&m[My],serialize(m){const{port1:s,port2:c}=new MessageChannel;return Py(m,s),[c,[c]]},deserialize(m){return m.start(),A1(m)}},db={canHandle:m=>fb(m)&&Dm in m,serialize({value:m}){let s;return m instanceof Error?s={isError:!0,value:{message:m.message,name:m.name,stack:m.stack}}:s={isError:!1,value:m},[s,[]]},deserialize(m){throw m.isError?Object.assign(new Error(m.value.message),m.value):m.value}},km=new Map([["proxy",cE],["throw",db]]);function hb(m,s){for(const c of m)if(s===c||c==="*"||c instanceof RegExp&&c.test(s))return!0;return!1}function Py(m,s=globalThis,c=["*"]){s.addEventListener("message",function f(g){if(!g||!g.data)return;if(!hb(c,g.origin)){console.warn(`Invalid origin '${g.origin}' for comlink proxy`);return}const{id:_,type:O,path:D}=Object.assign({path:[]},g.data),G=(g.data.argumentList||[]).map(rm);let Q;try{const oe=D.slice(0,-1).reduce((Ye,dt)=>Ye[dt],m),Se=D.reduce((Ye,dt)=>Ye[dt],m);switch(O){case"GET":Q=Se;break;case"SET":oe[D.slice(-1)[0]]=rm(g.data.value),Q=!0;break;case"APPLY":Q=Se.apply(oe,G);break;case"CONSTRUCT":{const Ye=new Se(...G);Q=vb(Ye)}break;case"ENDPOINT":{const{port1:Ye,port2:dt}=new MessageChannel;Py(m,dt),Q=hE(Ye,[Ye])}break;case"RELEASE":Q=void 0;break;default:return}}catch(oe){Q={value:oe,[Dm]:0}}Promise.resolve(Q).catch(oe=>({value:oe,[Dm]:0})).then(oe=>{const[Se,Ye]=kv(oe);s.postMessage(Object.assign(Object.assign({},Se),{id:_}),Ye),O==="RELEASE"&&(s.removeEventListener("message",f),Iy(s),S1 in m&&typeof m[S1]=="function"&&m[S1]())}).catch(oe=>{const[Se,Ye]=kv({value:new TypeError("Unserializable return value"),[Dm]:0});s.postMessage(Object.assign(Object.assign({},Se),{id:_}),Ye)})}),s.start&&s.start()}function fE(m){return m.constructor.name==="MessagePort"}function Iy(m){fE(m)&&m.close()}function A1(m,s){const c=new Map;return m.addEventListener("message",function(g){const{data:_}=g;if(!_||!_.id)return;const O=c.get(_.id);if(O)try{O(_)}finally{c.delete(_.id)}}),nm(m,c,[],s)}function Bm(m){if(m)throw new Error("Proxy has been released and is not useable")}function pb(m){return Fm(m,new Map,{type:"RELEASE"}).then(()=>{Iy(m)})}const C1=new WeakMap,Dv="FinalizationRegistry"in globalThis&&new FinalizationRegistry(m=>{const s=(C1.get(m)||0)-1;C1.set(m,s),s===0&&pb(m)});function dE(m,s){const c=(C1.get(s)||0)+1;C1.set(s,c),Dv&&Dv.register(m,s,m)}function gb(m){Dv&&Dv.unregister(m)}function nm(m,s,c=[],f=function(){}){let g=!1;const _=new Proxy(f,{get(O,D){if(Bm(g),D===cb)return()=>{gb(_),pb(m),s.clear(),g=!0};if(D==="then"){if(c.length===0)return{then:()=>_};const G=Fm(m,s,{type:"GET",path:c.map(Q=>Q.toString())}).then(rm);return G.then.bind(G)}return nm(m,s,[...c,D])},set(O,D,G){Bm(g);const[Q,oe]=kv(G);return Fm(m,s,{type:"SET",path:[...c,D].map(Se=>Se.toString()),value:Q},oe).then(rm)},apply(O,D,G){Bm(g);const Q=c[c.length-1];if(Q===Ry)return Fm(m,s,{type:"ENDPOINT"}).then(rm);if(Q==="bind")return nm(m,s,c.slice(0,-1));const[oe,Se]=Ny(G);return Fm(m,s,{type:"APPLY",path:c.map(Ye=>Ye.toString()),argumentList:oe},Se).then(rm)},construct(O,D){Bm(g);const[G,Q]=Ny(D);return Fm(m,s,{type:"CONSTRUCT",path:c.map(oe=>oe.toString()),argumentList:G},Q).then(rm)}});return dE(_,m),_}function Ly(m){return Array.prototype.concat.apply([],m)}function Ny(m){const s=m.map(kv);return[s.map(c=>c[0]),Ly(s.map(c=>c[1]))]}const mb=new WeakMap;function hE(m,s){return mb.set(m,s),m}function vb(m){return Object.assign(m,{[My]:!0})}function lg(m,s=globalThis,c="*"){return{postMessage:(f,g)=>m.postMessage(f,c,g),addEventListener:s.addEventListener.bind(s),removeEventListener:s.removeEventListener.bind(s)}}function kv(m){for(const[s,c]of km)if(c.canHandle(m)){const[f,g]=c.serialize(m);return[{type:"HANDLER",name:s,value:f},g]}return[{type:"RAW",value:m},mb.get(m)||[]]}function rm(m){switch(m.type){case"HANDLER":return km.get(m.name).deserialize(m.value);case"RAW":return m.value}}function Fm(m,s,c,f){return new Promise(g=>{const _=Um();s.set(_,g),m.start&&m.start(),m.postMessage(Object.assign({id:_},c),f)})}function Um(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class Pc extends cy.Z{constructor(s,c,f){super(),this.graph=s,this.layout=c,this.options=f,this.spawnWorker()}spawnWorker(){this.proxy=A1(new Worker(new URL(A.p+A.u(3335),A.b),{type:void 0})),this.running&&(this.running=!1,this.execute())}execute(){var s;return(0,Ut.mG)(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const c=this.layout.options,{onTick:f}=c,g=(0,Ut._T)(c,["onTick"]),_={};Object.keys(g).forEach(Q=>{(0,Ce.Z)(g[Q])||(_[Q]=g[Q])});const O={layout:{id:this.layout.id,options:_,iterations:(s=this.options)===null||s===void 0?void 0:s.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},D=new Float32Array([0]),[G]=yield this.proxy.calculateLayout(O,[D]);return G})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[cb]()}isRunning(){return this.running}}var O1=A(28632),im=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})},pE=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};class yb{get presetOptions(){return{animation:!!_t(this.context.options,!0)}}get options(){const{options:s}=this.context;return s.layout}constructor(s){this.instances=[],this.context=s}getLayoutInstance(){return this.instances}layout(){return im(this,void 0,void 0,function*(){if(!this.options)return;const s=Array.isArray(this.options)?this.options:[this.options],{graph:c}=this.context;Qh(c,new Fh(gt.BEFORE_LAYOUT));for(const f of s){const g=s.indexOf(f),_=this.getLayoutData(f),O=Object.assign(Object.assign({},this.presetOptions),f);Qh(c,new Fh(gt.BEFORE_STAGE_LAYOUT,{options:O,index:g}));const D=yield this.stepLayout(_,O,g);Qh(c,new Fh(gt.AFTER_STAGE_LAYOUT,{options:O,index:g})),f.animation||this.updateElementPosition(D,!1)}Qh(c,new Fh(gt.AFTER_LAYOUT)),this.transformDataAfterLayout()})}transformDataAfterLayout(){const s=this.context.transform.getTransformInstance();Object.values(s).forEach(c=>c.afterLayout())}simulate(){return im(this,void 0,void 0,function*(){if(!this.options)return{};const s=Array.isArray(this.options)?this.options:[this.options];let c={};for(const f of s){const g=s.indexOf(f),_=this.getLayoutData(f);c=yield this.stepLayout(_,Object.assign(Object.assign(Object.assign({},this.presetOptions),f),{animation:!1}),g)}return c})}stepLayout(s,c,f){return im(this,void 0,void 0,function*(){return sr(c)?yield this.treeLayout(s,c,f):yield this.graphLayout(s,c,f)})}graphLayout(s,c,f){return im(this,void 0,void 0,function*(){const{animation:g,enableWorker:_,iterations:O=300}=c,D=this.initGraphLayout(c);if(!D)return{};if(this.instances[f]=D,this.instance=D,_){const Q=D;return this.supervisor=new Pc(Q.graphData2LayoutModel(s),Q.instance,{iterations:O}),Qr(yield this.supervisor.execute())}if((0,O1.h)(D))return g?yield D.execute(s,{onTick:Q=>{this.updateElementPosition(Q,!1)}}):(D.execute(s),D.stop(),D.tick(O));const G=yield D.execute(s);if(g){const Q=this.updateElementPosition(G,g);yield Q==null?void 0:Q.finished}return G})}treeLayout(s,c,f){return im(this,void 0,void 0,function*(){const{type:g,animation:_}=c,O=rn("layout",g);if(!O)return{};const{nodes:D=[],edges:G=[]}=s,Q=new Te.k({nodes:D.map(Kt=>({id:Wr(Kt),data:Kt.data||{}})),edges:G.map(Kt=>({id:Wr(Kt),source:Kt.source,target:Kt.target,data:Kt.data||{}}))});lb(Q);const oe={nodes:[],edges:[]},Se={nodes:[],edges:[]};Q.getRoots(Ue).forEach(Kt=>{Yf(Kt,Kr=>{Kr.children=Q.getSuccessors(Kr.id)},Kr=>Q.getSuccessors(Kr.id),"TB");const An=O(Kt,c),{x:Wn,y:$r,z:ni=0}=An;Yf(An,Kr=>{const{id:pa,x:Ia,y:$a,z:Go=0}=Kr;oe.nodes.push({id:pa,style:{x:Wn,y:$r,z:ni}}),Se.nodes.push({id:pa,style:{x:Ia,y:$a,z:Go}})},Kr=>Kr.children,"TB")});const dt=this.inferTreeLayoutOffset(Se);if(w1(Se,dt),_){w1(oe,dt),this.updateElementPosition(oe,!1);const Kt=this.updateElementPosition(Se,_);yield Kt==null?void 0:Kt.finished}return Se})}inferTreeLayoutOffset(s){var c;let[f,g]=[1/0,-1/0],[_,O]=[1/0,-1/0];(c=s.nodes)===null||c===void 0||c.forEach(An=>{const{x:Wn=0,y:$r=0}=An.style||{};f=Math.min(f,Wn),g=Math.max(g,Wn),_=Math.min(_,$r),O=Math.max(O,$r)});const{canvas:D}=this.context,G=D.getSize(),[Q,oe]=D.getCanvasByViewport([0,0]),[Se,Ye]=D.getCanvasByViewport(G);if(f>=Q&&g<=Se&&_>=oe&&O<=Ye)return[0,0];const dt=(Q+Se)/2,Kt=(oe+Ye)/2;return[dt-(f+g)/2,Kt-(_+O)/2]}stopLayout(){this.instance&&(0,O1.h)(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(s){const{nodeFilter:c=()=>!0}=s,{nodes:f,edges:g,combos:_}=this.context.model.getData(),O=oe=>this.context.element.getElement(oe),D=f.filter(oe=>{const Se=Wr(oe),Ye=O(Se);return!Ye||rl(Ye)?!1:c(oe)}),G=new Map(D.map(oe=>[Wr(oe),oe])),Q=g.filter(oe=>{const{source:Se,target:Ye}=oe;return!(!G.has(Se)||!G.has(Ye))});return{nodes:D,edges:Q,combos:_}}initGraphLayout(s){var c;const{element:f,viewport:g}=this.context,{type:_,enableWorker:O,animation:D,iterations:G}=s,Q=pE(s,["type","enableWorker","animation","iterations"]),[oe,Se]=g.getCanvasSize(),Ye=[oe/2,Se/2],dt=(c=s==null?void 0:s.nodeSize)!==null&&c!==void 0?c:ni=>{const Kr=f==null?void 0:f.getElement(ni.id),{size:pa}=(Kr==null?void 0:Kr.attributes)||{};return pa},Kt=rn("layout",_);if(!Kt)return ln.warn(`The layout of ${_} is not registered.`);const An=Object.getPrototypeOf(Kt.prototype)===ot.prototype?Kt:Or(Kt,this.context),Wn=new An(this.context),$r={nodeSize:dt,width:oe,height:Se,center:Ye};switch(Wn.id){case"d3-force":case"d3-force-3d":Object.assign($r,{center:{x:oe/2,y:Se/2,z:0}});break;default:break}return(0,li.Z)(Wn.options,$r,Q),Wn}updateElementPosition(s,c){const{model:f,element:g}=this.context;return g?(f.updateData(s),g.draw({animation:c,silence:!0})):null}destroy(){var s;this.stopLayout(),this.context={},(s=this.supervisor)===null||s===void 0||s.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const w1=(m,s)=>{var c;const[f,g]=s;(c=m.nodes)===null||c===void 0||c.forEach(_=>{if(_.style){const{x:O=0,y:D=0}=_.style;_.style.x=O+f,_.style.y=D+g}else _.style={x:f,y:g}})};class gE extends Ku{constructor(s){super(s),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(s){this.setExtensions(s)}getPluginInstance(s){const c=this.extensionMap[s];if(c)return c;ln.warn(`Cannot find the plugin ${s}, will try to find it by type.`);const f=this.extensions.find(g=>g.type===s);if(f)return this.extensionMap[f.key]}}const Dy=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class _b extends Ku{constructor(s){super(s),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(s){this.setExtensions([...Dy.slice(0,Dy.length-1),...s,Dy[Dy.length-1]])}getTransformInstance(s){return s?this.extensionMap[s]:this.extensionMap}}var zh=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class zm{get padding(){return wi(this.context.options.padding)}get paddingOffset(){const[s,c,f,g]=this.padding,[_,O,D]=[(g-c)/2,(s-f)/2,0];return[_,O,D]}constructor(s){this.landmarkCounter=0,this.context=s;const[c,f]=this.paddingOffset,{zoom:g,rotation:_,x:O=c,y:D=f}=s.options;this.transform({mode:"absolute",scale:g,translate:[O,D],rotate:_},!1)}get camera(){const{canvas:s}=this.context;return new Proxy(s.getCamera(),{get:(c,f)=>{const _=Object.entries(s.getLayers()).filter(([D])=>!["main"].includes(D)).map(([,D])=>D.getCamera()),O=c[f];if(typeof O=="function")return(...D)=>{const G=O.apply(c,D);return _.forEach(Q=>{Q[f].apply(Q,D)}),G}}})}createLandmark(s){return this.camera.createLandmark(`landmark-${this.landmarkCounter++}`,s)}getAnimation(s){const c=_t(this.context.options,s);return c?(0,el.Z)(Object.assign({},c),["easing","duration"]):!1}getCanvasSize(){const{canvas:s}=this.context,{width:c=0,height:f=0}=s.getConfig();return[c,f]}getCanvasCenter(){const{canvas:s}=this.context,{width:c=0,height:f=0}=s.getConfig();return[c/2,f/2,0]}getViewportCenter(){const[s,c]=this.camera.getPosition();return[s,c,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(s){const{camera:c}=this,{mode:f,translate:g=[]}=s,_=this.getZoom(),O=c.getPosition(),D=c.getFocalPoint(),[G,Q]=this.getCanvasCenter(),[oe=0,Se=0,Ye=0]=g,dt=so([-oe,-Se,-Ye],_);return f==="relative"?{position:ti(O,dt),focalPoint:ti(D,dt)}:{position:ti([G,Q,O[2]],dt),focalPoint:ti([G,Q,D[2]],dt)}}getRotateOptions(s){const{mode:c,rotate:f=0}=s;return{roll:c==="relative"?this.camera.getRoll()+f:f}}getZoomOptions(s){const{zoomRange:c}=this.context.options,f=this.camera.getZoom(),{mode:g,scale:_=1}=s;return(0,no.Z)(g==="relative"?f*_:_,...c)}transform(s,c){return zh(this,void 0,void 0,function*(){const{graph:f}=this.context,{translate:g,rotate:_,scale:O,origin:D}=s;this.cancelAnimation();const G=this.getAnimation(c);if(Qh(f,new Im(gt.BEFORE_TRANSFORM,s)),!_&&O&&!g&&D&&!G){this.camera.setZoomByViewportPoint(this.getZoomOptions(s),D),Qh(f,new Im(gt.AFTER_TRANSFORM,s));return}const Q={};if(g&&Object.assign(Q,this.getTranslateOptions(s)),(0,Vu.Z)(_)&&Object.assign(Q,this.getRotateOptions(s)),(0,Vu.Z)(O)&&Object.assign(Q,{zoom:this.getZoomOptions(s)}),G)return Qh(f,new N0(gt.BEFORE_ANIMATE,ge.TRANSFORM,null,s)),new Promise(oe=>{this.transformResolver=oe,this.camera.gotoLandmark(this.createLandmark(Q),Object.assign(Object.assign({},G),{onfinish:()=>{Qh(f,new N0(gt.AFTER_ANIMATE,ge.TRANSFORM,null,s)),Qh(f,new Im(gt.AFTER_TRANSFORM,s)),this.transformResolver=void 0,oe()}}))});this.camera.gotoLandmark(this.createLandmark(Q),{duration:0}),Qh(f,new Im(gt.AFTER_TRANSFORM,s))})}fitView(s,c){return zh(this,void 0,void 0,function*(){const[f,g,_,O]=this.padding,{when:D="always",direction:G="both"}=s||{},[Q,oe]=this.context.canvas.getSize(),Se=Q-O-g,Ye=oe-f-_,dt=this.context.canvas.getBounds(),Kt=this.getBBoxInViewport(dt),[An,Wn]=nt(Kt),$r=G==="x"&&An>=Se||G==="y"&&Wn>=Ye||G==="both"&&An>=Se&&Wn>=Ye;if(D==="overflow"&&!$r)return yield this.fitCenter(c);const ni=Se/An,Kr=Ye/Wn,pa=G==="x"?ni:G==="y"?Kr:Math.min(ni,Kr),Ia=this.getAnimation(c);yield this.transform({mode:"relative",scale:pa,translate:ti(ea(this.getCanvasCenter(),this.getBBoxInViewport(dt).center),so(this.paddingOffset,pa))},Ia)})}fitCenter(s){return zh(this,void 0,void 0,function*(){const c=this.context.canvas.getBounds();yield this.focus(c,s)})}focusElements(s,c){return zh(this,void 0,void 0,function*(){const{element:f}=this.context;if(!f)return;const g=gn(s.map(_=>f.getElement(_).getRenderBounds()));yield this.focus(g,c)})}focus(s,c){return zh(this,void 0,void 0,function*(){const f=this.context.graph.getViewportByCanvas(s.center),g=this.getCanvasCenter(),_=ea(g,f);yield this.transform({mode:"relative",translate:ti(_,this.paddingOffset)},c)})}getBBoxInViewport(s){const{min:c,max:f}=s,{graph:g}=this.context,[_,O]=g.getViewportByCanvas(c),[D,G]=g.getViewportByCanvas(f),Q=new j.mN;return Q.setMinMax([_,O,0],[D,G,0]),Q}isInViewport(s,c=!1,f=0){const{graph:g}=this.context,_=this.getCanvasSize(),[O,D]=g.getCanvasByViewport([0,0]),[G,Q]=g.getCanvasByViewport(_);let oe=new j.mN;return oe.setMinMax([O,D,0],[G,Q,0]),f&&(oe=$t(oe,f)),Ar(s)?an(s,oe):c?at(s,oe):oe.intersects(s)}cancelAnimation(){var s,c;!((s=this.camera.landmarks)===null||s===void 0)&&s.length&&this.camera.cancelLandmarkAnimation(),(c=this.transformResolver)===null||c===void 0||c.call(this)}}var uf=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class Zm extends cy.Z{constructor(s){var c;super(),this.rendered=!1,this.destroyed=!1,this.context={model:new tm},this.isCollapsingExpanding=!1,this.onResize=(0,pe.Z)(()=>{this.resize()},300),this.options=Object.assign({},Zm.defaultOptions,s),this._setOptions(this.options,!0),this.context.graph=this,this.options.autoResize&&((c=globalThis.addEventListener)===null||c===void 0||c.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(s){this._setOptions(s,!1)}_setOptions(s,c){if(this.updateCanvas(s),c){const{data:Ye}=s;Ye&&this.addData(Ye);return}Object.assign(this.options,s);const{behaviors:f,combo:g,data:_,edge:O,layout:D,node:G,plugins:Q,theme:oe,transforms:Se}=s;f&&this.setBehaviors(f),_&&this.setData(_),G&&this.setNode(G),O&&this.setEdge(O),g&&this.setCombo(g),D&&this.setLayout(D),oe&&this.setTheme(oe),Q&&this.setPlugins(Q),Se&&this.setTransforms(Se)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(s,c){s&&(this.options.width=s),c&&(this.options.height=c),this.resize(s,c)}setZoomRange(s){this.options.zoomRange=s}getZoomRange(){return this.options.zoomRange}setNode(s){this.options.node=s,this.context.model.refreshData()}setEdge(s){this.options.edge=s,this.context.model.refreshData()}setCombo(s){this.options.combo=s,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(s){this.options.theme=(0,Ce.Z)(s)?s(this.getTheme()):s}setLayout(s){this.options.layout=(0,Ce.Z)(s)?s(this.getLayout()):s}getLayout(){return this.options.layout}setBehaviors(s){var c;this.options.behaviors=(0,Ce.Z)(s)?s(this.getBehaviors()):s,(c=this.context.behavior)===null||c===void 0||c.setBehaviors(this.options.behaviors)}updateBehavior(s){this.setBehaviors(c=>c.map(f=>typeof f=="object"&&f.key===s.key?Object.assign(Object.assign({},f),s):f))}getBehaviors(){return this.options.behaviors||[]}setPlugins(s){var c;this.options.plugins=(0,Ce.Z)(s)?s(this.getPlugins()):s,(c=this.context.plugin)===null||c===void 0||c.setPlugins(this.options.plugins)}updatePlugin(s){this.setPlugins(c=>c.map(f=>typeof f=="object"&&f.key===s.key?Object.assign(Object.assign({},f),s):f))}getPlugins(){return this.options.plugins||[]}getPluginInstance(s){return this.context.plugin.getPluginInstance(s)}setTransforms(s){var c;this.options.transforms=(0,Ce.Z)(s)?s(this.getTransforms()):s,(c=this.context.transform)===null||c===void 0||c.setTransforms(this.options.transforms)}updateTransform(s){this.setTransforms(c=>c.map(f=>typeof f=="object"&&f.key===s.key?Object.assign(Object.assign({},f),s):f)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(s){return Array.isArray(s)?s.map(c=>this.context.model.getElementDataById(c)):this.context.model.getElementDataById(s)}getNodeData(s){var c;return s===void 0?this.context.model.getNodeData():Array.isArray(s)?this.context.model.getNodeData(s):(c=this.context.model.getNodeData([s]))===null||c===void 0?void 0:c[0]}getEdgeData(s){var c;return s===void 0?this.context.model.getEdgeData():Array.isArray(s)?this.context.model.getEdgeData(s):(c=this.context.model.getEdgeData([s]))===null||c===void 0?void 0:c[0]}getComboData(s){var c;return s===void 0?this.context.model.getComboData():Array.isArray(s)?this.context.model.getComboData(s):(c=this.context.model.getComboData([s]))===null||c===void 0?void 0:c[0]}setData(s){this.context.model.setData((0,Ce.Z)(s)?s(this.getData()):s)}addData(s){this.context.model.addData((0,Ce.Z)(s)?s(this.getData()):s)}addNodeData(s){this.context.model.addNodeData((0,Ce.Z)(s)?s(this.getNodeData()):s)}addEdgeData(s){this.context.model.addEdgeData((0,Ce.Z)(s)?s(this.getEdgeData()):s)}addComboData(s){this.context.model.addComboData((0,Ce.Z)(s)?s(this.getComboData()):s)}addChildrenData(s,c){this.context.model.addChildrenData(s,c)}updateData(s){this.context.model.updateData((0,Ce.Z)(s)?s(this.getData()):s)}updateNodeData(s){this.context.model.updateNodeData((0,Ce.Z)(s)?s(this.getNodeData()):s)}updateEdgeData(s){this.context.model.updateEdgeData((0,Ce.Z)(s)?s(this.getEdgeData()):s)}updateComboData(s){this.context.model.updateComboData((0,Ce.Z)(s)?s(this.getComboData()):s)}removeData(s){this.context.model.removeData((0,Ce.Z)(s)?s(this.getData()):s)}removeNodeData(s){this.context.model.removeNodeData((0,Ce.Z)(s)?s(this.getNodeData()):s)}removeEdgeData(s){this.context.model.removeEdgeData((0,Ce.Z)(s)?s(this.getEdgeData()):s)}removeComboData(s){this.context.model.removeComboData((0,Ce.Z)(s)?s(this.getComboData()):s)}getElementType(s){return this.context.model.getElementType(s)}getRelatedEdgesData(s,c="both"){return this.context.model.getRelatedEdgesData(s,c)}getNeighborNodesData(s){return this.context.model.getNeighborNodesData(s)}getAncestorsData(s,c){return this.context.model.getAncestorsData(s,c)}getParentData(s,c){return this.context.model.getParentData(s,c)}getChildrenData(s){return this.context.model.getChildrenData(s)}getDescendantsData(s){return this.context.model.getDescendantsData(s)}getElementDataByState(s,c){return this.context.model.getElementDataByState(s,c)}initCanvas(){return uf(this,void 0,void 0,function*(){var s;if(this.context.canvas)return yield this.context.canvas.ready;const{container:c="container",width:f,height:g,renderer:_,cursor:O,background:D,canvas:G,devicePixelRatio:Q=(s=globalThis.devicePixelRatio)!==null&&s!==void 0?s:1}=this.options;if(c instanceof Ip)this.context.canvas=c,O&&c.setCursor(O),_&&c.setRenderer(_),yield c.ready;else{const oe=(0,Mc.Z)(c)?document.getElementById(c):c,Se=ab(oe);this.emit(gt.BEFORE_CANVAS_INIT,{container:oe,width:f,height:g});const Ye=Object.assign(Object.assign({},G),{container:oe,width:f||Se[0],height:g||Se[1],background:D,renderer:_,cursor:O,devicePixelRatio:Q}),dt=new Ip(Ye);this.context.canvas=dt,yield dt.ready,this.emit(gt.AFTER_CANVAS_INIT,{canvas:dt})}})}updateCanvas(s){var c,f;const{renderer:g,cursor:_,height:O,width:D}=s,G=this.context.canvas;G&&(g&&(this.emit(gt.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),G.setRenderer(g),this.emit(gt.AFTER_RENDERER_CHANGE,{renderer:g})),_&&G.setCursor(_),((0,Vu.Z)(D)||(0,Vu.Z)(O))&&this.setSize((c=D!=null?D:this.options.width)!==null&&c!==void 0?c:0,(f=O!=null?O:this.options.height)!==null&&f!==void 0?f:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new sE(this.context)),this.context.plugin||(this.context.plugin=new gE(this.context)),this.context.viewport||(this.context.viewport=new zm(this.context)),this.context.transform||(this.context.transform=new _b(this.context)),this.context.element||(this.context.element=new wy(this.context)),this.context.animation||(this.context.animation=new oE(this.context)),this.context.layout||(this.context.layout=new yb(this.context)),this.context.behavior||(this.context.behavior=new uE(this.context))}prepare(){return uf(this,void 0,void 0,function*(){if(yield Promise.resolve(),this.destroyed)throw new Error(ft("The graph instance has been destroyed"));yield this.initCanvas(),this.initRuntime()})}render(){return uf(this,void 0,void 0,function*(){yield this.prepare(),Qh(this,new Fh(gt.BEFORE_RENDER));const s=this.context.element.draw({type:"render"});yield Promise.all([s==null?void 0:s.finished,this.context.layout.layout()]),yield this.autoFit(),this.rendered=!0,Qh(this,new Fh(gt.AFTER_RENDER))})}draw(){return uf(this,void 0,void 0,function*(){var s;yield this.prepare(),yield(s=this.context.element.draw())===null||s===void 0?void 0:s.finished})}layout(){return uf(this,void 0,void 0,function*(){yield this.context.layout.layout()})}stopLayout(){this.context.layout.stopLayout()}clear(){return uf(this,void 0,void 0,function*(){this.context.model.setData({}),yield this.draw()})}destroy(){var s;Qh(this,new Fh(gt.BEFORE_DESTROY));const{layout:c,animation:f,element:g,model:_,canvas:O,behavior:D,plugin:G}=this.context;G==null||G.destroy(),D==null||D.destroy(),c==null||c.destroy(),f==null||f.destroy(),g==null||g.destroy(),_.destroy(),O==null||O.destroy(),this.options={},this.context={},this.off(),(s=globalThis.removeEventListener)===null||s===void 0||s.call(globalThis,"resize",this.onResize),this.destroyed=!0,Qh(this,new Fh(gt.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(s,c){var f;const g=ab((f=this.context.canvas)===null||f===void 0?void 0:f.getContainer()),_=[s||g[0],c||g[1]];if(!this.context.canvas)return;const O=this.context.canvas.getSize();(0,K.Z)(_,O)||(Qh(this,new Fh(gt.BEFORE_SIZE_CHANGE,{size:_})),this.context.canvas.resize(..._),Qh(this,new Fh(gt.AFTER_SIZE_CHANGE,{size:_})))}fitView(s,c){return uf(this,void 0,void 0,function*(){var f;yield(f=this.context.viewport)===null||f===void 0?void 0:f.fitView(s,c)})}fitCenter(s){return uf(this,void 0,void 0,function*(){var c;yield(c=this.context.viewport)===null||c===void 0?void 0:c.fitCenter(s)})}autoFit(){return uf(this,void 0,void 0,function*(){const{autoFit:s}=this.context.options;if(s)if((0,Mc.Z)(s))s==="view"?yield this.fitView():s==="center"&&(yield this.fitCenter());else{const{type:c,animation:f}=s;c==="view"?yield this.fitView(s.options,f):c==="center"&&(yield this.fitCenter(f))}})}focusElement(s,c){return uf(this,void 0,void 0,function*(){var f;yield(f=this.context.viewport)===null||f===void 0?void 0:f.focusElements(Array.isArray(s)?s:[s],c)})}zoomBy(s,c,f){return uf(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:s,origin:f},c)})}zoomTo(s,c,f){return uf(this,void 0,void 0,function*(){this.context.viewport.transform({mode:"absolute",scale:s,origin:f},c)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(s,c,f){return uf(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:s,origin:f},c)})}rotateTo(s,c,f){return uf(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:s,origin:f},c)})}getRotation(){return this.context.viewport.getRotation()}translateBy(s,c){return uf(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:s},c)})}translateTo(s,c){return uf(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:s},c)})}getPosition(){return ea([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(s,c){return uf(this,arguments,void 0,function*(f,g,_=!0){var O,D;const[G,Q]=(0,H.Z)(f)?[f,(O=g)!==null&&O!==void 0?O:!0]:[{[f]:g},_];Object.entries(G).forEach(([oe,Se])=>this.context.model.translateNodeLikeBy(oe,Se)),yield(D=this.context.element.draw({animation:Q,stage:"translate"}))===null||D===void 0?void 0:D.finished})}translateElementTo(s,c){return uf(this,arguments,void 0,function*(f,g,_=!0){var O,D;const[G,Q]=(0,H.Z)(f)?[f,(O=g)!==null&&O!==void 0?O:!0]:[{[f]:g},_];Object.entries(G).forEach(([oe,Se])=>this.context.model.translateNodeLikeTo(oe,Se)),yield(D=this.context.element.draw({animation:Q,stage:"translate"}))===null||D===void 0?void 0:D.finished})}getElementPosition(s){return this.context.model.getElementPosition(s)}getElementRenderStyle(s){return(0,Rf.Z)(this.context.element.getElement(s).attributes,["context"])}setElementVisibility(s,c){return uf(this,arguments,void 0,function*(f,g,_=!0){var O,D;const[G,Q]=(0,H.Z)(f)?[f,(O=g)!==null&&O!==void 0?O:!0]:[{[f]:g},_],oe={nodes:[],edges:[],combos:[]};Object.entries(G).forEach(([dt,Kt])=>{const An=this.getElementType(dt);oe[`${An}s`].push({id:dt,style:{visibility:Kt}})});const{model:Se,element:Ye}=this.context;Se.preventUpdateNodeLikeHierarchy(()=>{Se.updateData(oe)}),yield(D=Ye.draw({animation:Q,stage:"visibility"}))===null||D===void 0?void 0:D.finished})}showElement(s,c){return uf(this,void 0,void 0,function*(){const f=Array.isArray(s)?s:[s];yield this.setElementVisibility(Object.fromEntries(f.map(g=>[g,"visible"])),c)})}hideElement(s,c){return uf(this,void 0,void 0,function*(){const f=Array.isArray(s)?s:[s];yield this.setElementVisibility(Object.fromEntries(f.map(g=>[g,"hidden"])),c)})}getElementVisibility(s){var c,f;const g=this.context.element.getElement(s);return(f=(c=g==null?void 0:g.style)===null||c===void 0?void 0:c.visibility)!==null&&f!==void 0?f:"visible"}setElementZIndex(s,c){return uf(this,void 0,void 0,function*(){var f;const g={nodes:[],edges:[],combos:[]},_=(0,H.Z)(s)?s:{[s]:c};Object.entries(_).forEach(([G,Q])=>{const oe=this.getElementType(G);g[`${oe}s`].push({id:G,style:{zIndex:Q}})});const{model:O,element:D}=this.context;O.preventUpdateNodeLikeHierarchy(()=>O.updateData(g)),yield(f=D.draw({animation:!1,stage:"zIndex"}))===null||f===void 0?void 0:f.finished})}frontElement(s){return uf(this,void 0,void 0,function*(){const c=Array.isArray(s)?s:[s],{model:f}=this.context,g={};c.map(_=>{const O=f.getFrontZIndex(_);if(f.getElementType(_)==="combo"){const G=f.getAncestorsData(_,Ke).at(-1)||this.getComboData(_),Q=[G,...f.getDescendantsData(Wr(G))],oe=O-T1(G);Q.forEach(Ye=>{g[Wr(Ye)]=this.getElementZIndex(Wr(Ye))+oe});const{internal:Se}=y0(Q.map(Wr),Ye=>f.getRelatedEdgesData(Ye));Se.forEach(Ye=>{const dt=Wr(Ye);g[dt]=this.getElementZIndex(dt)+oe})}else g[_]=O}),yield this.setElementZIndex(g)})}getElementZIndex(s){return T1(this.context.model.getElementDataById(s))}setElementState(s,c){return uf(this,arguments,void 0,function*(f,g,_=!0){var O,D;const[G,Q]=(0,H.Z)(f)?[f,(O=g)!==null&&O!==void 0?O:!0]:[{[f]:g},_],oe=Ye=>Ye?Array.isArray(Ye)?Ye:[Ye]:[],Se={nodes:[],edges:[],combos:[]};Object.entries(G).forEach(([Ye,dt])=>{const Kt=this.getElementType(Ye);Se[`${Kt}s`].push({id:Ye,states:oe(dt)})}),this.updateData(Se),yield(D=this.context.element.draw({animation:Q,stage:"state"}))===null||D===void 0?void 0:D.finished})}getElementState(s){return this.context.model.getElementState(s)}getElementRenderBounds(s){return this.context.element.getElement(s).getRenderBounds()}collapseElement(s){return uf(this,arguments,void 0,function*(c,f=!0){const{model:g,element:_}=this.context;if(Of(g.getNodeLikeData([c])[0])||this.isCollapsingExpanding)return;const O=g.getElementType(c);yield this.frontElement(c),this.isCollapsingExpanding=!0,this.setElementCollapsibility(c,!0),O==="node"?yield _.collapseNode(c,f):O==="combo"&&(yield _.collapseCombo(c,f)),this.isCollapsingExpanding=!1})}expandElement(s){return uf(this,arguments,void 0,function*(c,f=!0){const{model:g,element:_}=this.context;if(!Of(g.getNodeLikeData([c])[0])||this.isCollapsingExpanding)return;const O=g.getElementType(c);this.isCollapsingExpanding=!0,this.setElementCollapsibility(c,!1),O==="node"?yield _.expandNode(c,f):O==="combo"&&(yield _.expandCombo(c,f)),this.isCollapsingExpanding=!1})}setElementCollapsibility(s,c){const f=this.getElementType(s);f==="node"?this.updateNodeData([{id:s,style:{collapsed:c}}]):f==="combo"&&this.updateComboData([{id:s,style:{collapsed:c}}])}toDataURL(){return uf(this,arguments,void 0,function*(s={}){return this.context.canvas.toDataURL(s)})}getCanvasByViewport(s){return this.context.canvas.getCanvasByViewport(s)}getViewportByCanvas(s){return this.context.canvas.getViewportByCanvas(s)}getClientByCanvas(s){return this.context.canvas.getClientByCanvas(s)}getCanvasByClient(s){return this.context.canvas.getCanvasByClient(s)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(s,c,f){return super.on(s,c,f)}once(s,c){return super.once(s,c)}off(s,c){return super.off(s,c)}}Zm.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]};class k0 extends Cf{beforeDraw(s,c){return s}afterLayout(){}}class ky extends k0{beforeDraw(s){const{model:c}=this.context,f=s.add.combos,g=_=>{const O=[];return _.forEach((D,G)=>{const oe=c.getAncestorsData(G,"combo").map(Se=>Wr(Se)).reverse();O.push([G,D,oe.length])}),new Map(O.sort(([,,D],[,,G])=>G-D).map(([D,G])=>[D,G]))};return s.add.combos=g(f),s.update.combos=g(s.update.combos),s}}function qh(m,s,c,f,g){const _=Wr(f),O=`${c}s`,D=g?f:m.add[O].get(_)||m.update[O].get(_)||m.remove[O].get(_)||f;Object.entries(m).forEach(([G,Q])=>{s===G?Q[O].set(_,D):Q[O].delete(_)})}function Bv(m,s){return Object.keys(m).every(c=>m[c]===s[c])}class Fv extends k0{beforeDraw(s,c){if(c.stage==="visibility"||!this.context.model.model.hasTreeStructure(Ke))return s;const{model:f}=this.context,{add:g,update:_}=s,O=[...s.update.combos.entries(),...s.add.combos.entries()];for(;O.length;){const[D,G]=O.pop();if(Of(G)){const Q=f.getDescendantsData(D),oe=Q.map(Wr),{internal:Se,external:Ye}=y0(oe,dt=>f.getRelatedEdgesData(dt));Q.forEach(dt=>{const Kt=Wr(dt),An=O.findIndex(([$r])=>$r===Kt);An!==-1&&O.splice(An,1);const Wn=f.getElementType(Kt);qh(s,"remove",Wn,dt)}),Se.forEach(dt=>qh(s,"remove","edge",dt)),Ye.forEach(dt=>{var Kt;const An=Wr(dt);((Kt=this.context.element)===null||Kt===void 0?void 0:Kt.getElement(An))?_.edges.set(An,dt):g.edges.set(An,dt)})}else{const Q=f.getChildrenData(D),oe=Q.map(Wr),{edges:Se}=y0(oe,Ye=>f.getRelatedEdgesData(Ye));[...Q,...Se].forEach(Ye=>{var dt;const Kt=Wr(Ye),An=f.getElementType(Kt);((dt=this.context.element)===null||dt===void 0?void 0:dt.getElement(Kt))?qh(s,"update",An,Ye):qh(s,"add",An,Ye),An==="combo"&&O.push([Kt,Ye])})}}return s}}const By=(m,s,c,f)=>{const g=`${c}s`,_=Wr(f);!m.add[g].has(_)&&!m.update[g].has(_)&&m[s][g].set(Wr(f),f)};class bb extends k0{getElement(s){return this.context.element.getElement(s)}handleExpand(s,c){if(By(c,"add","node",s),Of(s))return;const f=Wr(s);By(c,"add","node",s),this.context.model.getRelatedEdgesData(f,"out").forEach(O=>{qh(c,"add","edge",O)}),this.context.model.getChildrenData(f).forEach(O=>{this.handleExpand(O,c)})}beforeDraw(s){const{graph:c,model:f}=this.context;if(!f.model.hasTreeStructure(Ue))return s;const{add:{nodes:g,edges:_},update:{nodes:O}}=s,D=new Map,G=new Map;g.forEach((oe,Se)=>{Of(oe)&&D.set(Se,oe)}),_.forEach(oe=>{if(c.getElementType(oe.source)!=="node")return;const Se=c.getNodeData(oe.source);Of(Se)&&D.set(oe.source,Se)}),O.forEach((oe,Se)=>{const Ye=this.getElement(Se);if(!Ye)return;const dt=Ye.attributes.collapsed;Of(oe)?dt||D.set(Se,oe):dt&&G.set(Se,oe)});const Q=new Set;return D.forEach((oe,Se)=>{f.getDescendantsData(Se).forEach(dt=>{const Kt=Wr(dt);if(Q.has(Kt))return;qh(s,"remove","node",dt),f.getRelatedEdgesData(Kt).forEach(Wn=>{qh(s,"remove","edge",Wn)}),Q.add(Kt)})}),G.forEach((oe,Se)=>{if(f.getAncestorsData(Se,Ue).some(Of)){qh(s,"remove","node",oe);return}this.handleExpand(oe,s)}),s}}class Eb extends k0{beforeDraw(s){const{add:c,update:f}=s,{model:g}=this.context;return[...c.edges.entries(),...f.edges.entries()].forEach(([,_])=>{jm(g,_)}),s}}const jm=(m,s)=>{const{source:c,target:f}=s,g=m.getElementDataById(c),_=m.getElementDataById(f),O=Cd(g,Se=>m.getParentData(Se,Ke)),D=Cd(_,Se=>m.getParentData(Se,Ke)),G=Wr(O),Q=Wr(D),oe={sourceNode:G,targetNode:Q};return s.style?Object.assign(s.style,oe):s.style=oe,s},Fy=(m,s,c)=>{const[f,g]=s,[_,O]=c;if(g===f)return _;const D=(m-f)/(g-f);return _+D*(O-_)},xb=(m,s,c)=>{const[f,g]=s,[_,O]=c,D=Math.log(m-f+1)/Math.log(g-f+1);return _+D*(O-_)},Tb=(m,s,c,f=2)=>{const[g,_]=s,[O,D]=c,G=Math.pow((m-g)/(_-g),f);return O+G*(D-O)},Sb=(m,s,c)=>{const[f,g]=s,[_,O]=c,D=Math.sqrt((m-f)/(g-f));return _+D*(O-_)};class Pg extends k0{constructor(s,c){super(s,(0,li.Z)({},Pg.defaultOptions,c)),this.assignSizeByCentrality=(f,g,_,O,D,G)=>{const Q=[g,_],oe=[O[0],D[0]],Se=[O[1],D[1]],Ye=[O[2],D[2]],dt=(Kt,An)=>{if(typeof G=="function")return G(Kt,Q,An);switch(G){case"linear":return Fy(Kt,Q,An);case"log":return xb(Kt,Q,An);case"pow":return Tb(Kt,Q,An,2);case"sqrt":return Sb(Kt,Q,An);default:return An[0]}};return[dt(f,oe),dt(f,Se),dt(f,Ye)]}}beforeDraw(s){const{model:c}=this.context,f=c.getNodeData(),g=Ve(this.options.maxSize),_=Ve(this.options.minSize),O=this.getCentralities(this.options.centrality),D=O.size>0?Math.max(...O.values()):0,G=O.size>0?Math.min(...O.values()):0;return f.forEach(Q=>{var oe;const Se=this.assignSizeByCentrality(O.get(Wr(Q))||0,G,D,_,g,this.options.scale),Ye=(oe=this.context.element)===null||oe===void 0?void 0:oe.getElement(Wr(Q)),dt={size:Se};this.assignLabelStyle(dt,Se,Q,Ye),(!Ye||!Bv(dt,Ye.attributes))&&qh(s,Ye?"update":"add","node",(0,li.Z)(Q,{style:dt}),!0)}),s}assignLabelStyle(s,c,f,g){var _;const O=g?g.config.style:(_=this.context.element)===null||_===void 0?void 0:_.getElementComputedStyle("node",f);if(Object.assign(s,(0,el.Z)(O,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){const D=this.getLabelSizeByNodeSize(c,1/0,Number(s.labelFontSize));Object.assign(s,{labelFontSize:D,labelLineHeight:D+Ln(s.labelPadding)})}return s}getLabelSizeByNodeSize(s,c,f){const g=Math.min(...s)/2,[_,O]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[f,c];return Math.min(O,Math.max(g,_))}getCentralities(s){const{model:c}=this.context,f=c.getData();if(typeof s=="function")return s(f);const g=c.getRelatedEdgesData.bind(c);return iu(f,g,s)}}Pg.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1};class Hm extends k0{constructor(s,c){super(s,Object.assign({},Hm.defaultOptions,c))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var s;const c=Mo(this.ref),{graph:f,model:g}=this.context;(s=g.getData().nodes)===null||s===void 0||s.forEach(O=>{if(Wr(O)===Wr(this.ref))return;const D=ta(ea(Mo(O),c)),G=Math.abs(D)>Math.PI/2,Q=!O.children||O.children.length===0,oe=Ve(f.getElementRenderStyle(Wr(O)).size)[0]/2,Se=(Q?1:-1)*(oe+this.options.offset),Ye=[["translate",Se*Math.cos(D),Se*Math.sin(D)],["rotate",G?(0,j.BV)(D)+180:(0,j.BV)(D)]];g.updateNodeData([{id:Wr(O),style:{labelTextAlign:G===Q?"right":"left",labelTextBaseline:"middle",labelTransform:Ye}}])}),f.draw()}}Hm.defaultOptions={offset:5};var Ab=A(29348);const mE="quadratic",Cb=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class M1 extends k0{constructor(s,c){super(s,Object.assign({},M1.defaultOptions,c)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=f=>{const{add:{edges:g},update:{nodes:_,edges:O,combos:D},remove:{edges:G}}=f,{model:Q}=this.context,oe=new Map,Se=(Kt,An)=>{Q.getRelatedEdgesData(An).forEach($r=>!oe.has(Wr($r))&&oe.set(Wr($r),$r))};_.forEach(Se),D.forEach(Se);const Ye=Kt=>{const An=Q.getEdgeData().map($r=>jm(Q,$r));vE(Kt,An,!0).forEach($r=>!oe.has(Wr($r))&&oe.set(Wr($r),$r))};if(G.size&&G.forEach(Ye),g.size&&g.forEach(Ye),O.size){const Kt=U_(fy(Q.getChanges())).update.edges;O.forEach(An=>{var Wn;Ye(An);const $r=(Wn=Kt.find(ni=>Wr(ni.value)===Wr(An)))===null||Wn===void 0?void 0:Wn.original;$r&&!zy(An,$r)&&Ye($r)})}xu(this.options.edges)||oe.forEach((Kt,An)=>!this.options.edges.includes(An)&&oe.delete(An));const dt=Q.getEdgeData().map(Wr);return new Map([...oe].sort((Kt,An)=>dt.indexOf(Kt[0])-dt.indexOf(An[0])))},this.applyBundlingStyle=(f,g,_)=>{const{edgeMap:O,reverses:D}=Uy(g);O.forEach(G=>{G.forEach((Q,oe,Se)=>{var Ye;const dt=Se.length,Kt=Q.style||{};if(Q.source===Q.target){const $r=Cb.length;Kt.loopPlacement=Cb[oe%$r],Kt.loopDist=Math.floor(oe/$r)*_+50}else if(dt===1)Kt.curveOffset=0;else{const $r=(oe%2===0?1:-1)*(D[`${Q.source}|${Q.target}|${oe}`]?-1:1);Kt.curveOffset=dt%2===1?$r*Math.ceil(oe/2)*_*2:$r*(Math.floor(oe/2)*_*2+_)}const An=Object.assign(Q,{type:mE,style:Kt}),Wn=(Ye=this.context.element)===null||Ye===void 0?void 0:Ye.getElement(Wr(Q));(!Wn||!Bv(An.style,Wn.attributes))&&qh(f,Wn?"update":"add","edge",An,!0)})})},this.resetEdgeStyle=f=>{const g=f.style||{},_=this.cacheMergeStyle.get(Wr(f))||{};return Object.keys(_).forEach(O=>{(0,K.Z)(g[O],_[O])&&(f[O]?g[O]=f[O]:delete g[O])}),Object.assign(f,{style:g})},this.applyMergingStyle=(f,g)=>{const{edgeMap:_,reverses:O}=Uy(g);_.forEach(D=>{var G;if(D.length===1){const oe=D[0],Se=(G=this.context.element)===null||G===void 0?void 0:G.getElement(Wr(oe)),Ye=this.resetEdgeStyle(oe);(!Se||!Bv(Ye,Se.attributes))&&qh(f,Se?"update":"add","edge",Ye);return}const Q=D.map(({source:oe,target:Se,style:Ye={}},dt)=>{const{startArrow:Kt,endArrow:An}=Ye,Wn={},[$r,ni]=O[`${oe}|${Se}|${dt}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return(0,Ab.Z)(Kt)&&(Wn[$r]=Kt),(0,Ab.Z)(An)&&(Wn[ni]=An),Wn}).reduce((oe,Se)=>Object.assign(Object.assign({},oe),Se),{});D.forEach((oe,Se,Ye)=>{var dt;if(Se!==0){qh(f,"remove","edge",oe);return}const Kt=Object.assign({},(0,Ce.Z)(this.options.style)?this.options.style(Ye):this.options.style,{childrenData:Ye});this.cacheMergeStyle.set(Wr(oe),Kt);const An=Object.assign(Object.assign({},oe),{type:"line",style:Object.assign(Object.assign(Object.assign({},oe.style),Q),Kt)}),Wn=(dt=this.context.element)===null||dt===void 0?void 0:dt.getElement(Wr(oe));(!Wn||!Bv(An.style,Wn.attributes))&&qh(f,Wn?"update":"add","edge",An,!0)})})}}beforeDraw(s){const c=this.getAffectedParallelEdges(s);return c.size===0||(this.options.mode==="bundle"?this.applyBundlingStyle(s,c,this.options.distance):this.applyMergingStyle(s,c)),s}}M1.defaultOptions={mode:"bundle",distance:15};const Uy=m=>{const s=new Map,c=new Set,f={};for(const[g,_]of m){if(c.has(g))continue;const{source:O,target:D}=_,G=`${O}-${D}`;s.has(G)||s.set(G,[]),s.get(G).push(_),c.add(g);for(const[Q,oe]of m)c.has(Q)||zy(_,oe)&&(s.get(G).push(oe),c.add(Q),O===oe.target&&D===oe.source&&(f[`${oe.source}|${oe.target}|${s.get(G).length-1}`]=!0))}return{edgeMap:s,reverses:f}},vE=(m,s,c)=>s.filter(f=>(c||Wr(f)!==Wr(m))&&zy(f,m)),zy=(m,s)=>{const{sourceNode:c,targetNode:f}=m.style||{},{sourceNode:g,targetNode:_}=s.style||{};return c===g&&f===_||c===_&&f===g};class Ob extends k0{beforeDraw(s,c){const{stage:f}=c;if(f==="visibility")return s;const{model:g}=this.context,{update:{nodes:_,edges:O,combos:D}}=s,G=(Q,oe)=>{g.getRelatedEdgesData(oe).forEach(Ye=>!O.has(Wr(Ye))&&O.set(Wr(Ye),Ye))};return _.forEach(G),D.forEach(G),s}}var wb=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c};function yE(m,s){const{getNodeData:c=(D,G)=>{if(D.depth=G,!D.children)return D;const{children:Q}=D,oe=wb(D,["children"]);return Object.assign(Object.assign({},oe),{children:Q.map(Se=>Se.id)})},getEdgeData:f=(D,G)=>({source:D.id,target:G.id}),getChildren:g=D=>D.children||[]}=s||{},_=[],O=[];return Yf(m,(D,G)=>{_.push(c(D,G));const Q=g(D);for(const oe of Q)O.push(f(D,oe))},D=>g(D),"TB"),{nodes:_,edges:O}}var _E=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})};class R1 extends ot{constructor(){super(...arguments),this.id="fishbone"}getRoot(){const s=this.context.model.getRootsData();if(!(xu(s)||s.length>2))return s[0]}formatSize(s){const c=typeof s=="function"?s:()=>s;return f=>Ve(c(f))}doLayout(s,c){const{hGap:f,getRibSep:g,vGap:_,nodeSize:O,height:D}=c,{model:G}=this.context,Q=this.formatSize(O);let oe=Q(s)[0]+g(s);const Se=(Kr,pa=0)=>{var Ia;return pa+=f*((Kr.children||[]).length+1),(Ia=Kr.children)===null||Ia===void 0||Ia.forEach($a=>{var Go;(Go=G.getNodeLikeDatum($a).children)===null||Go===void 0||Go.forEach(Rs=>{const Fu=G.getNodeLikeDatum(Rs);pa=Se(Fu,pa)})}),pa},Ye=Kr=>{if(Kr.depth===1)return oe;const pa=G.getParentData(Kr.id,"tree");if(Wm(Kr)){const Ia=G.getParentData(pa.id,"tree"),$a=An(Kr)-An(Ia);return Ye(pa)+$a*f/_}else{const Ia=(pa.children||[]).indexOf(Kr.id),$a=G.getNodeData((pa.children||[]).slice(Ia));return dt(pa)-$a.reduce((Go,Jo)=>Go+Se(Jo),0)-Q(pa)[0]/2}},dt=(0,ku.Z)(Kr=>{if(Zy(Kr))return Q(Kr)[0]/2;const pa=G.getParentData(Kr.id,"tree");if(Wm(Kr))return Ye(Kr)+Se(Kr)+Q(Kr)[0]/2;{const Ia=An(Kr)-An(pa),$a=f/_;return Ye(Kr)+Ia*$a}},Kr=>Kr.id),Kt=Kr=>An(G.getParentData(Kr,"tree")),An=(0,ku.Z)(Kr=>{if(Zy(Kr))return D/2;if(Wm(Kr)){const pa=G.getParentData(Kr.id,"tree"),Ia=pa.children.indexOf(Kr.id);if(Ia===0)return Kt(pa.id)+_;const $a=G.getNodeLikeDatum(pa.children[Ia-1]);if(xu($a.children))return An($a)+_;const Go=G.getDescendantsData($a.id);return Math.max(...Go.map(Jo=>Wm(Jo)?Kt(Jo.id):An(Jo)))+_}else{if(xu(Kr.children))return Kt(Kr.id)+_;const pa=G.getNodeLikeDatum(Kr.children.slice(-1)[0]);if(xu(pa.children))return An(pa)+_;const Ia=G.getDescendantsData(Kr.id).slice(-1)[0];return(Wm(Ia)?Kt(Ia.id):An(Ia))+_}},Kr=>Kr.id);let Wn=0;const $r={nodes:[],edges:[]},ni=Kr=>{var pa;(pa=Kr.children)===null||pa===void 0||pa.forEach(Rs=>ni(G.getNodeLikeDatum(Rs)));const Ia=An(Kr),$a=dt(Kr);if($r.nodes.push({id:Kr.id,x:$a,y:Ia}),Zy(Kr))return;const Go=G.getRelatedEdgesData(Kr.id,"in")[0],Jo=[Ye(Kr),Wm(Kr)?Ia:Kt(Kr.id)];$r.edges.push({id:Wr(Go),controlPoints:[Jo],relatedNodeId:Kr.id}),Wn=Math.max(Wn,$a+g(Kr)),Kr.depth===1&&(oe=Wn)};return ni(s),$r}placeAlterative(s,c){const f=(c.children||[]).filter((D,G)=>G%2!==0);if(f.length===0)return s;const{model:g}=this.context,_=s.nodes.find(D=>D.id===c.id).y,O=D=>{const G=g.getAncestorsData(D,"tree");if(xu(G))return!1;const Q=G.length===1?D:G[G.length-2].id;return f.includes(Q)};s.nodes.forEach(D=>{O(D.id)&&(D.y=2*_-D.y)}),s.edges.forEach(D=>{O(D.relatedNodeId)&&(D.controlPoints=D.controlPoints.map(G=>[G[0],2*_-G[1]]))})}rightToLeft(s,c){return s.nodes.forEach(f=>f.x=c.width-f.x),s.edges.forEach(f=>{f.controlPoints=f.controlPoints.map(g=>[c.width-g[0],g[1]])}),s}execute(s,c){return _E(this,void 0,void 0,function*(){const f=Object.assign(Object.assign(Object.assign({},R1.defaultOptions),this.options),c),{direction:g,nodeSize:_}=f,O=this.getRoot();if(!O)return s;const D=this.formatSize(_);f.vGap||(f.vGap=Math.max(...(s.nodes||[]).map(Ye=>D(Ye)[1]))),f.hGap||(f.hGap=Math.max(...(s.nodes||[]).map(Ye=>D(Ye)[0])));let G=this.doLayout(O,f);this.placeAlterative(G,O),g==="RL"&&(G=this.rightToLeft(G,f));const{model:Q}=this.context,oe=[],Se=[];return G.nodes.forEach(Ye=>{const{id:dt,x:Kt,y:An}=Ye,Wn=Q.getNodeLikeDatum(dt);oe.push(Mb(Wn,{x:Kt,y:An}))}),G.edges.forEach(Ye=>{const{id:dt,controlPoints:Kt}=Ye,An=Q.getEdgeDatum(dt);Se.push(Mb(An,{controlPoints:Kt}))}),{nodes:oe,edges:Se}})}}R1.defaultOptions={direction:"RL",getRibSep:()=>60};const Mb=(m,s)=>Object.assign(Object.assign({},m),{style:Object.assign(Object.assign({},m.style||{}),s)}),Zy=m=>m.depth===0,Wm=m=>(m.depth||(m.depth=0))%2===0,Uv=["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],Rb=["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],jy=["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],bE=["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],EE=["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"],Pb=["#7E92B5","#F4664A","#FFBE3A"],C={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},Z={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function xe(m){const{bgColor:s,textColor:c,nodeColor:f,nodeColorDisabled:g,nodeStroke:_,nodeHaloStrokeOpacityActive:O=.15,nodeHaloStrokeOpacitySelected:D=.25,nodeOpacityDisabled:G=.06,nodeIconOpacityInactive:Q=.85,nodeOpacityInactive:oe=.25,nodeBadgePalette:Se=Pb,nodePaletteOptions:Ye=C,edgeColor:dt,edgeColorDisabled:Kt,edgePaletteOptions:An=Z,comboColor:Wn,comboColorDisabled:$r,comboStroke:ni,comboStrokeDisabled:Kr,edgeColorInactive:pa}=m;return{background:s,node:{palette:Ye,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:Se,fill:f,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:s,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:c,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:f,portLineWidth:1,portStroke:_,portStrokeOpacity:.65,size:32,stroke:_,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:D,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:_},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:O},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:_,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:oe,donutOpacity:oe,fillOpacity:oe,iconOpacity:Q,labelFill:c,labelFillOpacity:oe,strokeOpacity:oe},disabled:{badgeBackgroundOpacity:.25,donutOpacity:G,fill:g,fillOpacity:G,iconFill:g,iconOpacity:.25,labelFill:c,labelFillOpacity:.25,strokeOpacity:G}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:An,style:{badgeBackgroundFill:dt,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:s,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:c,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:dt,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:pa,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:Kt,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:s,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:Wn,halo:!1,haloLineWidth:12,haloStroke:ni,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:s,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:c,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:ni},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:$r,fillOpacity:.25,labelOpacity:.25,stroke:Kr,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}const Lr=xe({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),la=xe({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"}),Fa={animation:{"combo-collapse":Vt,"combo-expand":De,"node-collapse":ct,"node-expand":Rt,"path-in":Oe,"path-out":Ge,fade:Ot,translate:Xe},behavior:{"brush-select":vd,"click-select":_d,"collapse-expand":lc,"create-edge":V,"drag-canvas":ke,"drag-element-force":Tr,"drag-element":qt,"fix-element-size":ri,"focus-element":jr,"hover-activate":Vi,"lasso-select":da,"auto-adapt-label":Sr,"optimize-viewport-transform":na,"scroll-canvas":ka,"zoom-canvas":qa},combo:{circle:xp,rect:Zf},edge:{cubic:Od,line:N,polyline:Ul,quadratic:ad,"cubic-horizontal":Ed,"cubic-radial":id,"cubic-vertical":uh},layout:{"antv-dagre":Ts.b,"combo-combined":Ir.u,"compact-box":_o.compactBox,"d3-force":bu.j,"force-atlas2":Ls.E,circular:to.S,concentric:me.W,dagre:kt.V,dendrogram:_o.dendrogram,fishbone:R1,force:ll.y,fruchterman:Gu.O,grid:cl.M,indented:_o.indented,mds:dl.A,mindmap:_o.mindmap,radial:pd.D,random:gd._},node:{circle:ts,diamond:Co,ellipse:ho,hexagon:Yo,html:tf,image:Uf,rect:rc,star:Du,donut:ef,triangle:zc},palette:{spectral:Uv,tableau:Rb,oranges:jy,greens:bE,blues:EE},theme:{dark:Lr,light:la},plugin:{"bubble-sets":$p,"edge-bundling":xm,"edge-filter-lens":Gg,"grid-line":f1,background:If,contextmenu:Em,fisheye:Yg,fullscreen:Og,history:d1,hull:Sm,legend:Xp,minimap:wg,snapline:V0,timebar:Mm,toolbar:b1,tooltip:Iv,watermark:sf},transform:{"arrange-draw-order":ky,"collapse-expand-combo":Fv,"collapse-expand-node":bb,"get-edge-actual-ends":Eb,"map-node-size":Pg,"place-radial-labels":Hm,"process-parallel-edges":M1,"update-related-edges":Ob},shape:{circle:j.Cd,ellipse:j.Pj,group:j.ZA,html:j.k9,image:nc,line:j.x1,path:j.y$,polygon:j.mg,polyline:j.aH,rect:j.UL,text:j.xv,label:mu,badge:Nu}};function Bo(){Object.entries(Fa).forEach(([m,s])=>{Object.entries(s).forEach(([c,f])=>{Cy(m,c,f)})})}j.GZ.enableMassiveParsedStyleAssignOptimization=!0,Bo();const Fo={css:"//at.alicdn.com/t/a/font_470089_8hnbbf8n4u8.css",js:"//at.alicdn.com/t/a/font_470089_8hnbbf8n4u8.js"};var Ca=A(75271),Ys=A(13040),Cu=A.n(Ys),hl=A(58051);var ac=null,gl=null,Ic=16,qc=null;function op(m){return m}var B0=j.bn.CIRCLE,sp=j.bn.ELLIPSE,Wd=j.bn.GROUP,Kp=j.bn.HTML,Ig=j.bn.IMAGE,xE=j.bn.LINE,cO=j.bn.PATH,fO=j.bn.POLYGON,dS=j.bn.POLYLINE,Hy=j.bn.RECT,hS=j.bn.TEXT,zv=!1,pS=`ReactG: You are using "zIndex" attribute for an element.
react-g may get confused with ordering. Just define correct order of elements in your render function of a component.
`,TE=function(s){return s.slice(0,2)==="on"},SE=function(s){return s.substring(2).toLowerCase()},gS=function(s,c){Object.keys(s).forEach(function(f){TE(f)&&c.addEventListener(SE(f),s[f])})},s3=function(s,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!zv&&"zIndex"in c&&(console.warn(pS),zv=!0),Object.keys(f).forEach(function(g){var _=f[g]!==c[g];_&&(TE(g)?s.removeEventListener(SE(g)):s.removeAttribute(g))}),Object.keys(c).forEach(function(g){var _=f[g]!==c[g];_&&(TE(g)?typeof c[g]=="function"&&s.addEventListener(SE(g),c[g]):s.setAttribute(g,c[g]))})},am=Cu()({getPublicInstance:function(s){return s},getRootHostContext:function(s){},getChildHostContext:function(s,c,f){},prepareForCommit:function(s){return null},resetAfterCommit:function(s){},preparePortalMount:function(s){},createInstance:function(s,c,f,g,_){var O=(f.document||f.ownerDocument).createElement(s,{style:c});return gS(c,O),O},appendInitialChild:function(s,c){s.appendChild(c)},finalizeInitialChildren:function(s,c,f,g,_){return!1},prepareUpdate:function(s,c,f,g,_,O){return!0},shouldSetTextContent:function(s,c){return!1},createTextInstance:function(s,c,f,g){},scheduleTimeout:function(s,c){},cancelTimeout:function(s){},noTimeout:void 0,now:hl.unstable_now,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,appendChild:function(s,c){s.appendChild(c)},appendChildToContainer:function(s,c){s.appendChild(c)},commitTextUpdate:function(s,c,f){},commitMount:function(s,c,f,g){},commitUpdate:function(s,c,f,g,_,O){s3(s,_,g)},insertBefore:function(s,c,f){s.insertBefore(c,f)},insertInContainerBefore:function(s,c,f){s.insertBefore(c,f)},removeChild:function(s,c){s.removeChild(c)},removeChildFromContainer:function(s,c){s.removeChild(c)},resetTextContent:function(s){},hideInstance:function(s){},hideTextInstance:function(s){},unhideInstance:function(s,c){},unhideTextInstance:function(s,c){},clearContainer:function(s){s.removeChildren()},cloneInstance:function(s,c,f,g,_,O,D,G){return s},createContainerChildSet:function(s){},appendChildToContainerChildSet:function(s,c){},finalizeContainerChildren:function(s,c){},replaceContainerChildren:function(s,c){},canHydrateInstance:function(s,c,f){return s},canHydrateTextInstance:function(s,c){return null},getNextHydratableSibling:function(s){},getFirstHydratableChild:function(s){},hydrateInstance:function(s,c,f,g,_,O){},hydrateTextInstance:function(s,c,f){return!1},didNotMatchHydratedContainerTextInstance:function(s,c,f){},didNotMatchHydratedTextInstance:function(s,c,f,g,_){},didNotHydrateContainerInstance:function(s,c){},didNotHydrateInstance:function(s,c,f,g){},didNotFindHydratableContainerInstance:function(s,c,f){},didNotFindHydratableContainerTextInstance:function(s,c){},didNotFindHydratableInstance:function(s,c,f,g,_){},didNotFindHydratableTextInstance:function(s,c,f,g){}});am.injectIntoDevTools({bundleType:1,version:Ca.version,rendererPackageName:"react-g",rendererConfig:{getInspectorDataForViewTag:function(s){}}});var AE=new WeakMap,Ib=function(s,c,f){var g=AE.get(c)||am.createContainer(c,1,!1,null);AE.set(c,g),am.updateContainer(s,g,null,f)};function mS(m){if(typeof m=="function")throw new Error("Callback ref not support!")}var dO=null;const kg=class kg extends rc{constructor(s){super(g0(us({},s),{style:us(us({},kg.defaultStyleProps),s.style)}))}drawKeyShape(s,c){const{component:f}=s,[g,_]=this.getSize();return this.upsert("key",j.ZA,{width:g,height:_},c,{afterCreate:O=>{Ib(f,O)},afterUpdate:O=>{Ib(f,O)}})}};fS(kg,"defaultStyleProps",{halo:!1,label:!1,icon:!1});let u3=kg;var vS=A(30967),P1=A.t(vS,2);const Lb=us({},P1),{version:Nb,render:yS,unmountComponentAtNode:_S}=Lb;let Wy;try{Number((Nb||"").split(".")[0])>=18&&Lb.createRoot&&({createRoot:Wy}=Lb)}catch(m){}function CE(m){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:s}=Lb;s&&typeof s=="object"&&(s.usingClientEntryPoint=m)}const om="__rc_react_root__";function OE(m,s){CE(!0);const c=s[om]||Wy(s);CE(!1),c.render(m),s[om]=c}function L4(m,s){yS(m,s)}function Db(m,s){Wy?OE(m,s):L4(m,s)}function Vy(m){return t3(this,null,function*(){return Promise.resolve().then(()=>{var s;(s=m[om])==null||s.unmount(),delete m[om]})})}function bS(m){_S(m)}function l3(m){return t3(this,null,function*(){if(Wy)return Vy(m);bS(m)})}class ES extends tf{getKeyStyle(s){return us({},super.getKeyStyle(s))}connectedCallback(){super.connectedCallback();const{component:s}=this.attributes;Db(s,this.getDomElement())}attributeChangedCallback(s,c,f){s==="component"&&c!==f&&Db(this.attributes.component,this.getDomElement())}destroy(){l3(this.getDomElement()),super.destroy()}}class cg extends Vi{getActiveIds(s){const{model:c,graph:f}=this.context,g=s.target.id,_=f.getElementType(g),O=[g];if(_==="edge"){const D=c.getEdgeDatum(g);this.collectChainNodes(D.source,"in",O),this.collectChainNodes(D.target,"out",O)}else _==="node"&&this.collectChainNodes(g,"both",O);return f.frontElement(O),O}collectChainNodes(s,c,f){const{model:g}=this.context;g.getRelatedEdgesData(s,c).forEach(O=>{f.includes(Wr(O))||f.push(Wr(O)),f.includes(O.source)||(f.push(O.source),this.collectChainNodes(O.source,"in",f)),f.includes(O.target)||(f.push(O.target),this.collectChainNodes(O.target,"out",f))})}}class Gy extends Vi{getActiveIds(s){const{model:c,graph:f}=this.context,g=s.target.id,_=f.getElementType(g),O=[g];if(_==="edge"){const D=c.getEdgeDatum(g);O.push(D.source,D.target)}else _==="node"&&O.push(...c.getRelatedEdgesData(g).map(Wr));return f.frontElement(O),O}}class Zv extends Ul{getControlPoints(s){const[c,f]=this.getEndpoints(s,!1),[g]=c,[,_]=f;return[[g,_]]}}class xS extends k0{beforeDraw(s){const{model:c}=this.context,{nodes:f,edges:g}=c.getData(),_=f.filter(D=>D.depth===1),O=_.map(D=>D.id);return g.forEach(D=>{O.includes(D.target)&&(D.style||(D.style={}),D.style.zIndex=_.length-_.findIndex(G=>G.id===D.target))}),s}}const fc=class fc extends k0{constructor(s,c){super(s,Object.assign({},fc.defaultOptions,c))}beforeDraw(s){const c=this.context.model.getNodeData();if(c.length===0)return s;let f=0;const g=(_,O)=>{var G;const D=c.find(Q=>Q.id==_);D&&(D.style||(D.style={}),D.style.color=O||this.options.colors[f++%this.options.colors.length],(G=D.children)==null||G.forEach(Q=>{var oe;return g(Q,(oe=D.style)==null?void 0:oe.color)}))};return c.filter(_=>_.depth===1).forEach(_=>g(_.id)),s}};fS(fc,"defaultOptions",{colors:["#1783FF","#F08F56","#D580FF","#00C9C9","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]});let kb=fc;var ph=A(32699),up=A(28025);const sm=up.default.div`
  ${({$placement:m})=>{switch(m){case"top":return"transform: translate(-50%, -100%); flex-direction: column-reverse;";case"right":return"transform: translate(0, -50%);";case"left":return"transform: translate(-100%, -50%); flex-direction: row-reverse;";default:return"transform: translate(-50%, 0); flex-direction: column;"}}}

  .indented-icon-bar {
    ${({$placement:m})=>m==="top"||m==="bottom"?"width: 2px; height: 8px; margin: 0 7px;":"width: 8px; height: 2px; margin: 7px 0;"}
    background-color: ${({$color:m})=>m};
  }

  .indented-icon-circle {
    width: 16px;
    height: 16px;
    color: #fff;
    font-weight: 600;
    font-size: 10px;
    line-height: ${({$isCollapsed:m})=>m?"16px":"14px"};
    text-align: center;
    background-color: ${({$color:m})=>m};
    border-radius: 50%;
  }

  .indented-icon-circle-arrow {
    width: 16px;
    height: 16px;
    transform: ${({$isCollapsed:m,$placement:s})=>{if(m)return"none";switch(s){case"top":return"translateY(1px) rotate(-90deg)";case"right":return"translateX(-1px) rotate(0deg)";case"left":return"translateX(1px) rotate(180deg)";default:return"translateY(-1px) rotate(90deg)"}}};
  }

  display: ${({$isCollapsed:m})=>m?"flex":"none"};

  .collapsible-node-wrapper:hover & {
    display: flex;
  }
`,TS=m=>{var oe;const{className:s,style:c,graph:f,data:g,isCollapsed:_,countType:O="descendant",placement:D="bottom"}=m,G=((oe=f.getNodeData(g.id).style)==null?void 0:oe.color)||"#99ADD1",Q=(O==="descendant"?f.getDescendantsData(g.id):f.getChildrenData(g.id)).length;return Ca.createElement(sm,{$color:G,$isCollapsed:_,$placement:D,className:s,style:c},Ca.createElement("div",{className:"indented-icon-bar"}),Ca.createElement("div",{className:"indented-icon-circle"},_?Q:Ca.createElement("div",{className:"indented-icon-circle-arrow"},Ca.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Ca.createElement("path",{d:"M11,4 L5,8 L11,12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))},wE=up.default.div`
  height: 16px;
  width: 16px;
  transform: translate(-50%, -50%);
  background: #fff;
  border-radius: 50%;
  border: 2px solid #99add1;
  color: #99add1;
  font-weight: 800;
  line-height: 14px;
  text-align: center;
  box-sizing: content-box;
`,fg=m=>{const{isCollapsed:s,style:c,className:f}=m;return Ca.createElement(wE,{className:f,style:c},s?"+":"-")},c3=up.default.div`
  height: inherit;
  width: inherit;
  border-radius: 4px;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.1);
  position: relative;
  border: none;
  background-color: #fff;
  box-sizing: content-box;

  ${m=>m.$isActive&&(0,up.css)`
      transform: translate(-3px, -3px);
      border: 3px solid #1783ff;
    `}

  .org-chart-node-line {
    width: 100%;
    height: 6px;
    background-color: ${m=>m.$color};
    border-radius: 2px 2px 0 0;
  }

  .org-chart-node-content {
    height: calc(100% - 6px);
    margin: 0 16px 3px;
    display: flex;
    align-items: center;

    &-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 16px;
      background-color: ${m=>m.$color};
      font-weight: 600;
      font-size: 18px;
      text-align: center;
      line-height: 40px;
      color: #fff;
    }

    &-detail {
      width: calc(100% - 56px);
    }

    &-name {
      color: #242424;
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 5px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    &-post {
      color: #616161;
      font-size: 14px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }
`,lp=m=>{const{name:s,position:c,status:f="online",isActive:g,className:_,style:O}=m,D={online:"#1783FF",busy:"#00C9C9",offline:"#F08F56"};return Ca.createElement(c3,{$color:D[f],$isActive:g,className:_,style:O},Ca.createElement("div",{className:"org-chart-node-line"}),Ca.createElement("div",{className:"org-chart-node-content"},Ca.createElement("div",{className:"org-chart-node-content-avatar"},s.slice(0,1)),Ca.createElement("div",{className:"org-chart-node-content-detail"},Ca.createElement("div",{className:"org-chart-node-content-name"},s),c&&Ca.createElement("div",{className:"org-chart-node-content-post"},c))))};var jv=function(){return jv=Object.assign||function(m){for(var s,c=1,f=arguments.length;c<f;c++){s=arguments[c];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(m[g]=s[g])}return m},jv.apply(this,arguments)},ME=function(m,s,c,f){function g(_){return _ instanceof c?_:new c(function(O){O(_)})}return new(c||(c=Promise))(function(_,O){function D(oe){try{Q(f.next(oe))}catch(Se){O(Se)}}function G(oe){try{Q(f.throw(oe))}catch(Se){O(Se)}}function Q(oe){oe.done?_(oe.value):g(oe.value).then(D,G)}Q((f=f.apply(m,s||[])).next())})},RE=function(m,s){var c={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},f,g,_,O=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return O.next=D(0),O.throw=D(1),O.return=D(2),typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function D(Q){return function(oe){return G([Q,oe])}}function G(Q){if(f)throw new TypeError("Generator is already executing.");for(;O&&(O=0,Q[0]&&(c=0)),c;)try{if(f=1,g&&(_=Q[0]&2?g.return:Q[0]?g.throw||((_=g.return)&&_.call(g),0):g.next)&&!(_=_.call(g,Q[1])).done)return _;switch(g=0,_&&(Q=[Q[0]&2,_.value]),Q[0]){case 0:case 1:_=Q;break;case 4:return c.label++,{value:Q[1],done:!1};case 5:c.label++,g=Q[1],Q=[0];continue;case 7:Q=c.ops.pop(),c.trys.pop();continue;default:if(_=c.trys,!(_=_.length>0&&_[_.length-1])&&(Q[0]===6||Q[0]===2)){c=0;continue}if(Q[0]===3&&(!_||Q[1]>_[0]&&Q[1]<_[3])){c.label=Q[1];break}if(Q[0]===6&&c.label<_[1]){c.label=_[1],_=Q;break}if(_&&c.label<_[2]){c.label=_[2],c.ops.push(Q);break}_[2]&&c.ops.pop(),c.trys.pop();continue}Q=s.call(m,c)}catch(oe){Q=[6,oe],g=0}finally{f=_=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}},Hv=jv({},P1),f3=Hv.version,PE=Hv.render,d3=Hv.unmountComponentAtNode,jf;try{var Bb=Number((f3||"").split(".")[0]);Bb>=18&&(jf=Hv.createRoot)}catch(m){}function Yy(m){var s=Hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;s&&typeof s=="object"&&(s.usingClientEntryPoint=m)}var Fb="__rc_react_root__";function Vm(m,s){Yy(!0);var c=s[Fb]||jf(s);Yy(!1),c.render(m),s[Fb]=c}function Zc(m,s){PE(m,s)}function Ub(m,s){}function $y(m,s){if(jf){Vm(m,s);return}Zc(m,s)}function I1(m){return ME(this,void 0,void 0,function(){return RE(this,function(s){return[2,Promise.resolve().then(function(){var c;(c=m[Fb])===null||c===void 0||c.unmount(),delete m[Fb]})]})})}function Gm(m){d3(m)}function L1(m){}function IE(m){return ME(this,void 0,void 0,function(){return RE(this,function(s){return jf!==void 0?[2,I1(m)]:(Gm(m),[2])})})}var dg=new Map;typeof document!="undefined"&&dg.set("tooltip",document.createElement("div"));var h3=function(m,s){s===void 0&&(s=!1);var c=null;if(s)c=dg.get("tooltip");else if(c=document.createElement("div"),m!=null&&m.key){var f=dg.get(m.key);f?c=f:dg.set(m.key,c)}return render(m,c),c},LE=function(m){if(typeof document=="undefined")return"loading";var s=m.attachShadow({mode:"open"}),c=document.createElement("div"),f=document.createElement("style");f.innerHTML=`.loading {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 80px;
  }
  .loading div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #ccc;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
  }
  .loading div:nth-child(1) {
    left: 8px;
    animation: loading1 0.6s infinite;
  }
  .loading div:nth-child(2) {
    left: 8px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(3) {
    left: 32px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(4) {
    left: 56px;
    animation: loading3 0.6s infinite;
  }
  @keyframes loading1 {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes loading3 {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes loading2 {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(24px, 0);
    }
  }
  `,c.classList.add("loading"),c.innerHTML="<div></div><div></div><div></div><div></div>",s.appendChild(f),s.appendChild(c)},SS=function(m){var s=m.loadingTemplate,c=m.theme,f=c===void 0?"light":c,g=Ca.useRef(null);Ca.useEffect(function(){!s&&g.current&&LE(g.current)},[]);var _=function(){return s||Ca.createElement("div",{ref:g})};return Ca.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:f==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},_())},AS=function(){var m=function(s,c){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(f[_]=g[_])},m(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");m(s,c);function f(){this.constructor=s}s.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),zb=function(m){AS(s,m);function s(){var c=m!==null&&m.apply(this,arguments)||this;return c.state={hasError:!1},c.renderError=function(f){var g=c.props.errorTemplate;switch(f){default:return typeof g=="function"?g(f):g||Ca.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",f.message)}},c}return s.getDerivedStateFromError=function(c){return{hasError:!0,error:c}},s.getDerivedStateFromProps=function(c,f){return f.children!==c.children?{children:c.children,hasError:!1,error:void 0}:null},s.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Ca.createElement(Ca.Fragment,null,this.props.children)},s}(Ca.Component),Zb,NE=function(){return Zb||(Zb=document.createElement("canvas").getContext("2d")),Zb},Xy=function(m,s,c){if(c||arguments.length===2)for(var f=0,g=s.length,_;f<g;f++)(_||!(f in s))&&(_||(_=Array.prototype.slice.call(s,0,f)),_[f]=s[f]);return m.concat(_||Array.prototype.slice.call(s))},CS=(0,ph.memoize)(function(m,s){s===void 0&&(s={});var c=s.fontSize,f=s.fontFamily,g=f===void 0?"sans-serif":f,_=s.fontWeight,O=s.fontStyle,D=s.fontVariant,G=NE();return G.font=[O,_,D,"".concat(c,"px"),g].join(" "),G.measureText((0,ph.isString)(m)?m:"")},function(m,s){return s===void 0&&(s={}),Xy([m],(0,ph.values)(s),!0).join("")}),Wv=function(m,s){return s===void 0&&(s={}),CS(m,s).width},Ky=function(m,s){s===void 0&&(s={});var c=CS(m,s);return c.actualBoundingBoxAscent+c.actualBoundingBoxDescent};function OS(m,s){let c=0,f=0,g=0;return m.length===4?(c=parseInt(m[1]+m[1],16),f=parseInt(m[2]+m[2],16),g=parseInt(m[3]+m[3],16)):m.length===7&&(c=parseInt(m[1]+m[2],16),f=parseInt(m[3]+m[4],16),g=parseInt(m[5]+m[6],16)),`rgba(${c}, ${f}, ${g}, ${s})`}function DE(m,s){let c=0,f=0,g=0;m.length===4?(c=parseInt(m[1]+m[1],16),f=parseInt(m[2]+m[2],16),g=parseInt(m[3]+m[3],16)):m.length===7&&(c=parseInt(m[1]+m[2],16),f=parseInt(m[3]+m[4],16),g=parseInt(m[5]+m[6],16)),c=Math.max(0,c-s),f=Math.max(0,f-s),g=Math.max(0,g-s);const _=O=>O.toString(16).padStart(2,"0");return`#${_(c)}${_(f)}${_(g)}`}const p3=up.default.div`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-wrap: anywhere;
  line-height: 1.5em;
  text-align: center;
  height: inherit;
  width: inherit;
  box-sizing: content-box;
  font-size: 14px;

  ${({$type:m,$color:s,$borderWidth:c})=>{switch(m){case"normal":return`
          color: ${s};
        `;case"filled":return(0,up.css)`
          color: #fff;
          background-color: ${s};
          border-radius: 8px;
        `;case"outlined":return(0,up.css)`
          height: calc(100% - 2 * ${c}px);
          width: calc(100% - 2 * ${c}px);
          color: ${s};
          background-color: #fff;
          border: ${c}px solid ${s};
          border-radius: 8px;
        `;case"underlined":return(0,up.css)`
          height: calc(100% - ${c}px / 2);
          width: inherit;
          border-bottom: ${c}px solid ${s};
          background-color: #fff;
          color: ${s};
        `}}}

  ${({$isActive:m,$isSelected:s,$borderWidth:c,$color:f})=>(m||s)&&(0,up.css)`
      height: calc(100% - 2 * ${c}px);
      width: calc(100% - 2 * ${c}px);
      border: ${c}px solid ${DE(f,100)};
      ${s&&`box-shadow: 0 0 0 2px ${OS(f,.1)};`}
    `}
`,cp=m=>{const{className:s,style:c={},type:f="normal",text:g="",font:_,color:O="#1783ff",borderWidth:D=3,maxWidth:G=1/0,isActive:Q=!1,isSelected:oe=!1}=m,Se=Wv(g,_)>G;return Ca.createElement(p3,{$type:f,$color:O,$borderWidth:D,$isActive:Q,$isSelected:oe,className:`text-node ${s}`,style:us(us({},c),_)},Ca.createElement("div",{style:Se?{width:"calc(100% - 12px)"}:{}},g))},kE=up.default.div`
  position: relative;
  height: inherit;
  width: inherit;
`,um=up.default.div`
  position: absolute;
  z-index: 10;

  &:hover {
    cursor: pointer;
  }

  ${({$placement:m,$offsetX:s,$offsetY:c})=>{const f={top:`left: calc(50% + ${s}px); top: ${c}px;`,bottom:`left: calc(50% + ${s}px); top: calc(100% + ${c}px);`,right:`left: calc(100% + ${s}px); top: calc(50% + ${c}px);`,left:`left: ${s}px; top: calc(50% + ${c}px);`};return(0,up.css)`
      ${f[m]}
    `}}
`,Qy=m=>s=>{const{data:c,graph:f,trigger:g,iconRender:_,iconPlacement:O,iconOffsetX:D,iconOffsetY:G,iconClassName:Q,iconStyle:oe,refreshLayout:Se}=s,[Ye,dt]=(0,Ca.useState)((0,ph.get)(c,"style.collapsed",!1)),Kt=(0,Ca.useRef)(null),An=(0,Ca.useRef)(null),Wn=g==="icon"&&!(0,ph.isEmpty)(c.children),$r=Kr=>t3(this,null,function*(){Kr.stopPropagation(),yield f[Ye?"expandElement":"collapseElement"](Wr(c)),dt(Ia=>!Ia),Se&&(yield f.layout())});(0,Ca.useEffect)(()=>{const Kr=g==="icon"?An.current:g==="node"?Kt.current:g;return Kr==null||Kr.addEventListener("click",$r),()=>{Kr==null||Kr.removeEventListener("click",$r)}},[g,Ye]);const ni=Kr=>typeof Kr=="function"?Kr.call(f,c):Kr;return Ca.createElement(kE,{ref:Kt,className:"collapsible-node-wrapper"},Wn&&Ca.createElement(um,{ref:An,$placement:ni(O),$offsetX:ni(D),$offsetY:ni(G),className:Q,style:oe},_==null?void 0:_.call(f,Ye,c)),m.call(f,c))},hO=(m,s,c)=>{const f=(g=!1)=>{const[_,O]=g?["target","source"]:["source","target"];return s.filter(D=>D[_]===m).map(D=>D[O])};return c==="out"?f():c==="in"?f(!0):f().concat(f(!0))},{PlusMinusIcon:Ym}=ne,t_=class t_ extends k0{constructor(s,c){super(s,Object.assign({},t_.defaultOptions,c))}afterLayout(){const{graph:s,element:c,model:f}=this.context,{nodes:g=[],edges:_=[]}=s.getData(),Q=this.options,{enable:O}=Q,D=J0(Q,["enable"]);g.forEach(oe=>{const Se=Wr(oe);if(!c.getElement(Se)||oe.children&&oe.children.length>0)return;const dt=hO(Se,_,this.options.direction);dt.length!==0&&f.updateNodeData([{id:Se,children:dt}])});const G=s.getOptions().node;if((0,ph.has)(G,"style.component")){const oe=(0,ph.get)(G,"style.component");(0,ph.set)(G,"style.component",Se=>{if(!(typeof O=="function"?O(Se):O))return oe.call(s,Se);const Ye=Qy(oe);return Ca.createElement(Ye,us({data:Se,graph:s},D))})}s.setNode(G),s.draw()}};fS(t_,"defaultOptions",{enable:!0,trigger:"icon",direction:"out",iconRender:s=>Ca.createElement(Ym,{isCollapsed:s}),iconPlacement:"bottom",iconOffsetX:0,iconOffsetY:0,iconClassName:"",iconStyle:{},refreshLayout:!1});let Md=t_;const Qd=(m,s,c)=>{const[f,g]=s,[_,O]=c;if(g===f)return _;const D=(m-f)/(g-f);return _+D*(O-_)},jb=(m,s,c)=>{const[f,g]=s,[_,O]=c,D=Math.log(m-f+1)/Math.log(g-f+1);return _+D*(O-_)},Lg=(m,s,c,f=2)=>{const[g,_]=s,[O,D]=c,G=Math.pow((m-g)/(_-g),f);return O+G*(D-O)},N1=(m,s,c)=>{const[f,g]=s,[_,O]=c,D=Math.sqrt((m-f)/(g-f));return _+D*(O-_)},n_=class n_ extends k0{constructor(c,f){super(c,Object.assign({},n_.defaultOptions,f));fS(this,"assignLineWidthByValue",(c,f,g,_,O,D)=>{const G=[f,g],Q=[_,O];if(c<f||c>g||f===g)return Q[0];if(typeof D=="function")return D(c,G,Q);switch(D){case"linear":return Qd(c,G,Q);case"log":return jb(c,G,Q);case"pow":return Lg(c,G,Q,2);case"sqrt":return N1(c,G,Q);default:return Q[0]}})}beforeDraw(c){const f=this.context.model.getEdgeData(),{maxValue:g,minValue:_,maxLineWidth:O,minLineWidth:D,scale:G,value:Q}=this.options,oe=f.reduce((Se,Ye)=>(Se[Wr(Ye)]=typeof Q=="function"?Q.call(this.context.graph,Ye):Q,Se),{});return f.forEach(Se=>{const Ye=this.assignLineWidthByValue(oe[Wr(Se)]||0,typeof _=="function"?_(Se,oe):_,typeof g=="function"?g(Se,oe):g,typeof D=="function"?D(Se):D,typeof O=="function"?O(Se):O,G);Se.style||(Se.style={}),Se.style.lineWidth=Ye}),c}};fS(n_,"defaultOptions",{minValue:(c,f)=>Math.min(...Object.values(f)),maxValue:(c,f)=>Math.max(...Object.values(f)),minLineWidth:1,maxLineWidth:10,scale:"linear"});let Hb=n_;class lm extends k0{afterLayout(){const{graph:s,model:c,element:f}=this.context;s.getNodeData().forEach(g=>{const _=Wr(g);if(!f.getElement(_))return;const D=s.getElementRenderStyle(_),{size:G}=D;c.updateNodeData([{id:_,style:{dx:-G[0]/2,dy:-G[1]/2}}])}),s.draw()}}const BE={node:{react:ES},edge:{indented:Zv},behavior:{"hover-activate-neighbors":Gy,"hover-activate-chain":cg},transform:{"translate-react-node-origin":lm,"collapse-expand-react-node":Md,"assign-color-by-branch":kb,"map-edge-line-width":Hb,"arrange-edge-z-index":xS}};function FE(){Object.entries(BE).forEach(([m,s])=>{Object.entries(s).forEach(([c,f])=>{Cy(m,c,f)})})}FE();var fp=Ca.createContext({graph:null,isReady:!1}),Wb=function(){var m=React.useContext(fp);if(m===void 0||Object.keys(m).length===0)throw new Error("useGraphin must be used within a GraphinProvider.");return m},qy=function(){return qy=Object.assign||function(m){for(var s,c=1,f=arguments.length;c<f;c++){s=arguments[c];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(m[g]=s[g])}return m},qy.apply(this,arguments)},Vb=function(m,s){var c=typeof Symbol=="function"&&m[Symbol.iterator];if(!c)return m;var f=c.call(m),g,_=[],O;try{for(;(s===void 0||s-- >0)&&!(g=f.next()).done;)_.push(g.value)}catch(D){O={error:D}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(O)throw O.error}}return _};function wS(m){var s=m.onInit,c=m.onReady,f=m.onDestroy,g=m.options,_=Vb((0,Ca.useState)(!1),2),O=_[0],D=_[1],G=(0,Ca.useRef)(null),Q=(0,Ca.useRef)(null);return(0,Ca.useEffect)(function(){if(!(G.current||!Q.current)){var oe=new Zm(qy({container:Q.current},g));return G.current=oe,D(!0),s==null||s(G.current),function(){var Se=G.current;Se&&(Se.destroy(),f==null||f(),G.current=null)}}},[]),(0,Ca.useEffect)(function(){var oe=Q.current,Se=G.current;!g||!oe||!Se||Se.destroyed||(Se.setOptions(g),Se.render().then(function(){return c==null?void 0:c(Se)}))},[g]),{graph:G.current,containerRef:Q,isReady:O}}var Gb=function(){return Gb=Object.assign||function(m){for(var s,c=1,f=arguments.length;c<f;c++){s=arguments[c];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(m[g]=s[g])}return m},Gb.apply(this,arguments)},g3=function(m,s){var c={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&s.indexOf(f)<0&&(c[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(m);g<f.length;g++)s.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(m,f[g])&&(c[f[g]]=m[f[g]]);return c},Yb=(0,Ca.forwardRef)(function(m,s){var c=m.style,f=m.children,g=g3(m,["style","children"]),_=wS(g),O=_.graph,D=_.containerRef,G=_.isReady;(0,Ca.useImperativeHandle)(s,function(){return O},[O]);var Q=Gb({height:"inherit",position:"relative"},c);return f?Ca.createElement(fp.Provider,{value:{graph:O,isReady:G}},Ca.createElement("div",{ref:D,style:Q},G&&f)):Ca.createElement("div",{ref:D,style:Q})}),D1=(0,Ca.memo)(Yb);const hg=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const An=s,{containerStyle:_,className:O,onInit:D,onReady:G,onDestroy:Q,errorTemplate:oe,loading:Se,loadingTemplate:Ye}=An,dt=J0(An,["containerStyle","className","onInit","onReady","onDestroy","errorTemplate","loading","loadingTemplate"]),Kt=(0,Ca.useRef)(null);return(0,Ca.useImperativeHandle)(c,()=>Kt.current),Ca.createElement(zb,{errorTemplate:oe},Se&&Ca.createElement(SS,{loadingTemplate:Ye}),!(0,ph.isEmpty)(dt.data)&&Ca.createElement(D1,{ref:Wn=>{Kt.current=Wn},className:O,style:_,options:dt,onInit:D,onReady:G,onDestroy:Q},m))}),G0={autoResize:!0,behaviors:[{key:"zoom-canvas",type:"zoom-canvas"},{key:"drag-canvas",type:"drag-canvas"}]};function Ng(...m){if(m.length===0)return{};const s=us({},m[0]);for(let c=1;c<m.length;c++){const f=m[c];for(const g in f)if(f.hasOwnProperty(g)){const _=f[g],O=s[g];["component","data"].includes(g)?s[g]=_:typeof _=="function"?["plugins","behaviors","transforms"].includes(g)?s[g]=_(O||[]):s[g]=function(D){const G=_.call(this,D);return(0,ph.isPlainObject)(G)?Ng(O,G):G}:(0,ph.isPlainObject)(_)&&(0,ph.isPlainObject)(O)?s[g]=Ng(O,_):s[g]=_}}return s}const pO={node:{type:"circle",style:{labelText:m=>m.id}}},Lp=({direction:m,compact:s})=>{const c=g=>(0,ph.isEmpty)(g.children),f=s?"compact-box":"dendrogram";return m==="vertical"?{node:{style:{labelBackground:!0,labelPlacement:"right",labelTransform:g=>c(g)?"rotate(90deg) translate(18px)":"translate(18px)",ports:[{placement:"top"},{placement:"bottom"}]}},edge:{type:"cubic-vertical"},layout:{type:f,direction:"TB",nodeSep:40,rankSep:140,getVGap:()=>80,getHGap:()=>20}}:m==="horizontal"?{node:{style:{labelBackground:!0,labelPlacement:g=>c(g)?"right":"left",ports:[{placement:"left"},{placement:"right"}]}},edge:{type:"cubic-horizontal"},layout:{type:f,direction:"LR",nodeSep:40,rankSep:200,getVGap:()=>5,getHGap:()=>100}}:{node:{style:{labelBackground:!0}},edge:{type:"cubic-radial"},layout:{type:f,direction:"RL",radial:!0,nodeSep:40,rankSep:200,getVGap:()=>30,getHGap:()=>60},transforms:g=>[...g,"place-radial-labels"]}},m3=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const _=(0,Ca.useMemo)(()=>{const Q=s,{direction:O="horizontal",compact:D=!1}=Q,G=J0(Q,["direction","compact"]);return Ng(G0,pO,Lp({direction:O,compact:D}),G)},[s]);return Ca.createElement(hg,g0(us({},_),{ref:c}),m)}),{TextNode:cm}=ue,Dg={padding:[20,0,0,50],node:{type:"react",style:{component:m=>Ca.createElement(cm,{type:"filled",text:m.id}),size:[100,40],ports:[{placement:"left"},{placement:"right"}]},state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"cubic-horizontal",style:{strokeOpacity:.5},state:{active:{strokeOpacity:1}}},layout:{type:"antv-dagre",rankdir:"LR"},transforms:["translate-react-node-origin"]},gO=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const _=(0,Ca.useMemo)(()=>Ng(G0,Dg,s),[s]);return Ca.createElement(hg,g0(us({},_),{ref:c}),m)}),{TextNode:$b}=ue,UE={padding:[20,0,0,50],node:{type:"react",style:{component:m=>Ca.createElement($b,{type:"filled",text:m.id}),size:[100,40],ports:[{placement:"left"},{placement:"right"}]},state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"polyline",style:{lineWidth:2,endArrow:!0,radius:8,router:{type:"orth"}}},layout:{type:"dagre",rankdir:"LR",animation:!1},transforms:["translate-react-node-origin"]},zE=({direction:m})=>{let s={};return m==="vertical"&&(s={node:{style:{ports:[{placement:"top"},{placement:"bottom"}]}},layout:{type:"dagre",rankdir:"TB"}}),s},ZE=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const _=(0,Ca.useMemo)(()=>{const G=s,{direction:O="horizontal"}=G,D=J0(G,["direction"]);return Ng(G0,UE,zE({direction:O}),D)},[s]);return Ca.createElement(hg,g0(us({},_),{ref:c}),m)});function $m(m,s=[0,0],c={fontSize:16,fontFamily:"PingFang SC"},f=0,g=1/0){const _=Ky(m,c),O=Wv(m,c)+4,D=g===1/0?1:Math.ceil(O/g),[G,Q]=s;return[Math.max(f,Math.min(g,O))+G,Q+_+_*1.5*(D-1)]}const MS=(0,ph.memoize)((m,s)=>{if(!s)return"center";const c=Mo(m)[0];return Mo(s)[0]>c?"left":"right"},(m,s)=>s?[Mo(m),Mo(s)].flat().join("-"):"center"),pg=(m,s)=>{const c=m.getParentData(Wr(s),"tree");return MS(s,c)},RS=m=>!m.children||m.children.length===0,Np=(0,ph.memoize)((m,s,c,f=0)=>{const g={fontWeight:f===0?600:400,fontSize:f===0?24:16},O=$m(m,f===0?[64,30]:[12,12],g,s,c);return{font:g,size:O}}),fm=(0,ph.memoize)((m,s,c,f=0)=>{const g={fontWeight:f===0||f===1?600:400,fontSize:f===0?24:16},O=$m(m,f===0?[64,30]:[36,24],g,s,c);return{font:g,size:O}}),{ArrowCountIcon:Jy}=ne,{TextNode:Xm}=ue,v3={node:{type:"react",style:{component:m=>Ca.createElement(Xm,{type:"filled",text:Wr(m)}),size:m=>$m(Wr(m),[24,16])},state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"indented",style:{lineWidth:3}},transforms:m=>[...m,{type:"collapse-expand-react-node",key:"collapse-expand-react-node",enable:!1,trigger:"icon",iconRender:function(s,c){return Ca.createElement(Jy,{graph:this,data:c,isCollapsed:s})}}],layout:{type:"indented",direction:"LR",indent:m=>Xb(m,20),getWidth:m=>$m(Wr(m),[24,16])[0],getHeight:m=>$m(Wr(m),[24,16])[1],getVGap:()=>14},animation:{duration:500}},Xb=(m,s)=>{if(m.depth===0)return 0;let c=s,f=m.parent;for(;f;)c+=f.width/2,f=f.parent;return c/m.depth},jE=(m,s)=>{const c=pg(m,s);return c==="left"?"right":c==="center"?"center":"left"},y3=({type:m,nodeMinWidth:s,nodeMaxWidth:c,direction:f})=>{let g={};const _=s||0,O=c||300;return m==="boxed"?g={node:{style:{component:function(D){var Se;const G=D.depth,Q=(Se=D.style)==null?void 0:Se.color,oe={type:G===0||G===1?"filled":"outlined",text:Wr(D),color:G===0?"#f1f4f5":Q,maxWidth:O,font:fm(Wr(D),_,O,G).font,style:us({textAlign:jE(this,D)},G===0?{color:"#252525"}:{})};return Ca.createElement(Xm,us({},oe))},size:D=>fm(Wr(D),_,O,D.depth).size}},edge:{style:{stroke:function(D){return this.getNodeData(D.source).style.color||"#99ADD1"},radius:16}},transforms:D=>[...D,{type:"assign-color-by-branch",key:"assign-color-by-branch"}],layout:{type:"indented",indent:D=>Xb(D,20),getWidth:D=>fm(Wr(D),_,O,D.depth).size[0],getHeight:D=>fm(Wr(D),_,O,D.depth).size[1],getVGap:()=>14}}:m==="linear"&&(g={node:{style:{component:function(D){var Se;const G=D.depth,Q=(Se=D.style)==null?void 0:Se.color,oe={text:Wr(D),color:Q,maxWidth:O,font:Np(Wr(D),_,O,G).font};return Object.assign(oe,G===0?{type:"filled",color:"#f1f4f5",style:{color:"#252525"}}:{type:"underlined",style:{textAlign:jE(this,D)}}),Ca.createElement(Xm,us({},oe))},size:D=>Np(Wr(D),_,O,D.depth).size,ports:function(D){const G=pg(this,D);return G==="left"?[{placement:"bottom"},{placement:"bottom-right"}]:G==="center"?[{placement:"bottom"}]:[{placement:"bottom"},{placement:"bottom-left"}]}}},edge:{style:{stroke:function(D){return this.getNodeData(D.target).style.color||"#99ADD1"},radius:24}},layout:{type:"indented",indent:D=>Xb(D,20),getWidth:D=>Np(Wr(D),_,O,D.depth).size[0],getHeight:D=>Np(Wr(D),_,O,D.depth).size[1],getVGap:()=>12},transforms:D=>[...D,{type:"assign-color-by-branch",key:"assign-color-by-branch"},{type:"arrange-edge-z-index",key:"arrange-edge-z-index"}]}),f&&(g.layout||(g.layout={}),Object.assign(g.layout,{direction:f==="alternate"?"H":f==="left"?"RL":"LR"})),g},PS=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const Se=s,{type:_="default",nodeMinWidth:O,nodeMaxWidth:D,direction:G="right"}=Se,Q=J0(Se,["type","nodeMinWidth","nodeMaxWidth","direction"]),oe=(0,Ca.useMemo)(()=>Ng(G0,v3,y3({type:_,nodeMinWidth:O,nodeMaxWidth:D,direction:G}),Q),[s]);return Ca.createElement(hg,g0(us({},oe),{ref:c}),m)}),{ArrowCountIcon:Kb}=ne,{TextNode:k1}=ue,_3={node:{type:"react",style:{component:m=>Ca.createElement(k1,{type:"filled",text:Wr(m)}),size:m=>$m(Wr(m),[24,16]),dx:function(m){const s=pg(this,m),c=$m(Wr(m),[24,16]);return s==="left"?-c[0]:s==="center"?-c[0]/2:0},ports:[{placement:"left"},{placement:"right"}]},state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"cubic-horizontal",style:{lineWidth:3}},transforms:m=>[...m,{type:"collapse-expand-react-node",key:"collapse-expand-react-node",enable:!1,trigger:"icon",iconRender:function(s,c){const f=pg(this,c);return Ca.createElement(Kb,{graph:this,data:c,isCollapsed:s,placement:f==="left"?"left":"right"})},iconPlacement:function(s){return pg(this,s)==="left"?"left":"right"}}],layout:{type:"mindmap",direction:"H",getWidth:m=>120,getHeight:m=>$m(m.id,[24,16])[1],getHGap:()=>64},animation:{duration:500}};function b3({type:m,direction:s,nodeMinWidth:c,nodeMaxWidth:f}){let g={};if(m==="boxed"){const _=c||120,O=f||300;g={node:{style:{component:D=>{var Se;const G=D.depth,Q=(Se=D.style)==null?void 0:Se.color,oe={text:Wr(D),color:Q,maxWidth:O,font:fm(Wr(D),_,O,G).font};return Object.assign(oe,G===0?{type:"filled",color:"#f1f4f5",style:{color:"#252525"}}:G===1?{type:"filled"}:{type:"outlined"}),Ca.createElement(k1,us({},oe))},size:D=>fm(Wr(D),_,O,D.depth).size,dx:function(D){const G=pg(this,D),Q=fm(Wr(D),_,O,D.depth).size;return G==="left"?-Q[0]:G==="center"?-Q[0]/2:0},ports:[{placement:"left"},{placement:"right"}]}},edge:{style:{stroke:function(D){return this.getNodeData(D.source).style.color||"#99ADD1"}}},transforms:D=>[...D,{type:"assign-color-by-branch",key:"assign-color-by-branch"}],layout:{type:"mindmap",getHeight:D=>fm(Wr(D),_,O,D.depth).size[1],getVGap:()=>14}}}else if(m==="linear"){const _=c||0,O=f||300;g={node:{style:{component:function(D){var dt;const G=pg(this,D),Q=D.depth,oe=(dt=D.style)==null?void 0:dt.color,{font:Se}=Np(Wr(D),_,O,Q),Ye={text:Wr(D),color:oe,maxWidth:O,font:Se};return Object.assign(Ye,Q===0?{type:"filled",color:"#f1f4f5",style:{color:"#252525"}}:{type:"underlined",style:G==="left"?{textAlign:"right"}:G==="center"?{textAlign:"center"}:{}}),Ca.createElement(k1,us({},Ye))},size:D=>Np(Wr(D),_,O,D.depth).size,dx:function(D){const G=pg(this,D),Q=Np(Wr(D),_,O,D.depth).size;return G==="left"?-Q[0]:G==="center"?-Q[0]/2:0},ports:function(D){return pg(this,D)==="center"?[{placement:"left"},{placement:"right"}]:[{placement:"left-bottom"},{placement:"right-bottom"}]}}},edge:{style:{stroke:function(D){return this.getNodeData(D.target).style.color||"#99ADD1"}}},layout:{type:"mindmap",getHeight:D=>Np(Wr(D),_,O,D.depth).size[1],getVGap:()=>12},transforms:D=>[...D.filter(G=>G.key!=="collapse-expand-react-node"),{type:"assign-color-by-branch",key:"assign-color-by-branch"},g0(us({},D.find(G=>G.key==="collapse-expand-react-node")),{iconOffsetY:G=>G.depth===0?0:Np(Wr(G),_,O,G.depth).size[1]/2})]}}return s&&(g.layout||(g.layout={}),g.layout.direction=s==="alternate"?"H":s==="left"?"RL":"LR"),g}const HE=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const _=(0,Ca.useMemo)(()=>{const Ye=s,{type:O="default",nodeMinWidth:D,nodeMaxWidth:G,direction:Q="alternate"}=Ye,oe=J0(Ye,["type","nodeMinWidth","nodeMaxWidth","direction"]);return Ng(G0,_3,b3({type:O,nodeMinWidth:D,nodeMaxWidth:G,direction:Q}),oe)},[s]);return Ca.createElement(hg,g0(us({},_),{ref:c}),m)}),Jh=32,Qb={node:{type:"circle"},layout:{type:"d3-force",link:{distance:Jh*4},collide:{radius:Jh},manyBody:{strength:-Jh*22},x:{},y:{}}},WE=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const _=(0,Ca.useMemo)(()=>Ng(G0,Qb,s),[s]);return Ca.createElement(hg,g0(us({},_),{ref:c}),m)}),{TextNode:IS}=ue,LS={padding:[20,0,0,50],node:{type:"react",style:{component:m=>Ca.createElement(IS,{type:"filled",text:m.id}),size:[100,40],ports:[{placement:"top"},{placement:"bottom"}]},state:{active:{halo:!1},selected:{halo:!1}},animation:!1},edge:{type:"polyline",style:{lineWidth:2,router:{type:"orth"}},animation:!1},layout:{type:"antv-dagre"},transforms:["translate-react-node-origin"]};function e_({direction:m}){let s={};return m==="vertical"?s={node:{style:{ports:[{placement:"top"},{placement:"bottom"}]}},transforms:c=>[...c,{type:"collapse-expand-react-node",key:"collapse-expand-react-node",enable:!1,refreshLayout:!0}],layout:{rankdir:"TB"}}:s={node:{style:{ports:[{placement:"left"},{placement:"right"}]}},transforms:c=>[...c,{type:"collapse-expand-react-node",key:"collapse-expand-react-node",iconPlacement:"right",enable:!1,refreshLayout:!0}],layout:{rankdir:"LR"}},s}const qb=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const _=(0,Ca.useMemo)(()=>{const Q=s,{direction:O="vertical"}=Q,D=J0(Q,["direction"]);return Ng(G0,LS,e_({direction:O}),D)},[s]);return Ca.createElement(hg,g0(us({},_),{ref:c}),m)}),Jb={node:{style:{size:10,labelText:m=>m.id,labelPlacement:"center"}},edge:{type:"polyline"},layout:{type:"fishbone",hGap:40,vGap:60},animation:!1},VE="system-ui, sans-serif",e2=(m,s)=>s===0?$m(m,[80,48],{fontSize:24,fontWeight:600,fontFamily:VE}):s===1?$m(m,[80,30],{fontSize:18,fontFamily:VE}):[2,30],GE=m=>{var c;const s=m.depth;return s===0?"#EFF0F0":s===1?((c=m.style)==null?void 0:c.color)||"#EFF0F0":"transparent"};function E3({type:m}){const s={node:{type:"rect",style:{fill:c=>GE(c),labelFill:c=>c.depth===1?"#fff":"#262626",labelFillOpacity:1,labelFontSize:c=>c.depth===0?24:c.depth===1?18:16,labelFontWeight:c=>c.depth===0?600:400,labelLineHeight:c=>c.depth===0?26:c.depth===1?20:18,labelText:c=>c.id,radius:8,size:c=>e2(c.id,c.depth)}},edge:{type:"polyline",style:{lineWidth:3,stroke:function(c){return this.getNodeData(c.target).style.color||"#99ADD1"}}},transforms:c=>[...c,{type:"assign-color-by-branch",key:"assign-color-by-branch"},{type:"arrange-edge-z-index",key:"arrange-edge-z-index"}]};return s.layout||(s.layout={}),m==="decision"?(s.node.style.labelPlacement=c=>c.depth===0||c.depth===1?"center":"right",Object.assign(s.layout,{direction:"LR"})):m==="cause"&&(s.node.style.labelPlacement=c=>c.depth===0||c.depth===1?"center":"left",Object.assign(s.layout,{direction:"RL"})),s}const t2=(0,Ca.forwardRef)((f,c)=>{var g=f,{children:m}=g,s=J0(g,["children"]);const G=s,{type:_="cause"}=G,O=J0(G,["type"]),D=(0,Ca.useMemo)(()=>Ng(G0,Jb,E3({type:_}),O),[s]);return Ca.createElement(hg,g0(us({},D),{ref:c}),m)})},11256:function(cn,Ne,A){"use strict";var w=A(2053),B=A(99459),ne=A(57904),ue=A(58006),j=A(75271),q=A(82187),Y=A.n(q),K=A(75875),H=A(57495),ae=A(93151),ie=A(57034),le=A(42335),se=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,ie.U)(K.iN.primary);var ge=j.forwardRef(function(ye,ve){var fe=ye.className,Fe=ye.icon,yt=ye.spin,gt=ye.rotate,pt=ye.tabIndex,lt=ye.onClick,Ke=ye.twoToneColor,Ue=(0,ue.Z)(ye,se),Pt=j.useContext(H.Z),Gt=Pt.prefixCls,rn=Gt===void 0?"anticon":Gt,_n=Pt.rootClassName,qe=Y()(_n,rn,(0,ne.Z)((0,ne.Z)({},"".concat(rn,"-").concat(Fe.name),!!Fe.name),"".concat(rn,"-spin"),!!yt||Fe.name==="loading"),fe),Nt=pt;Nt===void 0&&lt&&(Nt=-1);var ft=gt?{msTransform:"rotate(".concat(gt,"deg)"),transform:"rotate(".concat(gt,"deg)")}:void 0,ln=(0,le.H9)(Ke),tt=(0,B.Z)(ln,2),Pe=tt[0],Qe=tt[1];return j.createElement("span",(0,w.Z)({role:"img","aria-label":Fe.name},Ue,{ref:ve,tabIndex:Nt,onClick:lt,className:qe}),j.createElement(ae.Z,{icon:Fe,primaryColor:Pe,secondaryColor:Qe,style:ft}))});ge.displayName="AntdIcon",ge.getTwoToneColor=ie.m,ge.setTwoToneColor=ie.U,Ne.Z=ge},57495:function(cn,Ne,A){"use strict";var w=A(75271),B=(0,w.createContext)({});Ne.Z=B},93151:function(cn,Ne,A){"use strict";var w=A(58006),B=A(98037),ne=A(75271),ue=A(42335),j=["icon","className","onClick","style","primaryColor","secondaryColor"],q={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Y(ae){var ie=ae.primaryColor,le=ae.secondaryColor;q.primaryColor=ie,q.secondaryColor=le||(0,ue.pw)(ie),q.calculated=!!le}function K(){return(0,B.Z)({},q)}var H=function(ie){var le=ie.icon,se=ie.className,ge=ie.onClick,ye=ie.style,ve=ie.primaryColor,fe=ie.secondaryColor,Fe=(0,w.Z)(ie,j),yt=ne.useRef(),gt=q;if(ve&&(gt={primaryColor:ve,secondaryColor:fe||(0,ue.pw)(ve)}),(0,ue.C3)(yt),(0,ue.Kp)((0,ue.r)(le),"icon should be icon definiton, but got ".concat(le)),!(0,ue.r)(le))return null;var pt=le;return pt&&typeof pt.icon=="function"&&(pt=(0,B.Z)((0,B.Z)({},pt),{},{icon:pt.icon(gt.primaryColor,gt.secondaryColor)})),(0,ue.R_)(pt.icon,"svg-".concat(pt.name),(0,B.Z)((0,B.Z)({className:se,onClick:ge,style:ye,"data-icon":pt.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},Fe),{},{ref:yt}))};H.displayName="IconReact",H.getTwoToneColors=K,H.setTwoToneColors=Y,Ne.Z=H},57034:function(cn,Ne,A){"use strict";A.d(Ne,{U:function(){return ue},m:function(){return j}});var w=A(99459),B=A(93151),ne=A(42335);function ue(q){var Y=(0,ne.H9)(q),K=(0,w.Z)(Y,2),H=K[0],ae=K[1];return B.Z.setTwoToneColors({primaryColor:H,secondaryColor:ae})}function j(){var q=B.Z.getTwoToneColors();return q.calculated?[q.primaryColor,q.secondaryColor]:q.primaryColor}},97512:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return K}});var w=A(2053),B=A(75271),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},ue=ne,j=A(11256),q=function(ae,ie){return B.createElement(j.Z,(0,w.Z)({},ae,{ref:ie,icon:ue}))},Y=B.forwardRef(q),K=Y},16449:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return K}});var w=A(2053),B=A(75271),ne={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},ue=ne,j=A(11256),q=function(ae,ie){return B.createElement(j.Z,(0,w.Z)({},ae,{ref:ie,icon:ue}))},Y=B.forwardRef(q),K=Y},93879:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return K}});var w=A(2053),B=A(75271),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},ue=ne,j=A(11256),q=function(ae,ie){return B.createElement(j.Z,(0,w.Z)({},ae,{ref:ie,icon:ue}))},Y=B.forwardRef(q),K=Y},20466:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return K}});var w=A(2053),B=A(75271),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},ue=ne,j=A(11256),q=function(ae,ie){return B.createElement(j.Z,(0,w.Z)({},ae,{ref:ie,icon:ue}))},Y=B.forwardRef(q),K=Y},25478:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return K}});var w=A(2053),B=A(75271),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},ue=ne,j=A(11256),q=function(ae,ie){return B.createElement(j.Z,(0,w.Z)({},ae,{ref:ie,icon:ue}))},Y=B.forwardRef(q),K=Y},8298:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return K}});var w=A(2053),B=A(75271),ne={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ue=ne,j=A(11256),q=function(ae,ie){return B.createElement(j.Z,(0,w.Z)({},ae,{ref:ie,icon:ue}))},Y=B.forwardRef(q),K=Y},42335:function(cn,Ne,A){"use strict";A.d(Ne,{C3:function(){return Fe},H9:function(){return ye},Kp:function(){return ae},R_:function(){return se},pw:function(){return ge},r:function(){return ie},vD:function(){return ve}});var w=A(98037),B=A(24744),ne=A(75875),ue=A(93722),j=A(58223),q=A(7302),Y=A(75271),K=A(57495);function H(yt){return yt.replace(/-(.)/g,function(gt,pt){return pt.toUpperCase()})}function ae(yt,gt){(0,q.ZP)(yt,"[@ant-design/icons] ".concat(gt))}function ie(yt){return(0,B.Z)(yt)==="object"&&typeof yt.name=="string"&&typeof yt.theme=="string"&&((0,B.Z)(yt.icon)==="object"||typeof yt.icon=="function")}function le(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(yt).reduce(function(gt,pt){var lt=yt[pt];switch(pt){case"class":gt.className=lt,delete gt.class;break;default:delete gt[pt],gt[H(pt)]=lt}return gt},{})}function se(yt,gt,pt){return pt?Y.createElement(yt.tag,(0,w.Z)((0,w.Z)({key:gt},le(yt.attrs)),pt),(yt.children||[]).map(function(lt,Ke){return se(lt,"".concat(gt,"-").concat(yt.tag,"-").concat(Ke))})):Y.createElement(yt.tag,(0,w.Z)({key:gt},le(yt.attrs)),(yt.children||[]).map(function(lt,Ke){return se(lt,"".concat(gt,"-").concat(yt.tag,"-").concat(Ke))}))}function ge(yt){return(0,ne.R_)(yt)[0]}function ye(yt){return yt?Array.isArray(yt)?yt:[yt]:[]}var ve={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},fe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Fe=function(gt){var pt=(0,Y.useContext)(K.Z),lt=pt.csp,Ke=pt.prefixCls,Ue=fe;Ke&&(Ue=Ue.replace(/anticon/g,Ke)),(0,Y.useEffect)(function(){var Pt=gt.current,Gt=(0,j.A)(Pt);(0,ue.hq)(Ue,"@ant-design-icons",{prepend:!0,csp:lt,attachTo:Gt})},[])}},30016:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Area",ref:q}))});Ne.Z=ue},48198:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Bar",ref:q}))});Ne.Z=ue},38317:function(cn,Ne,A){"use strict";A.d(Ne,{P:function(){return l7}});var w={};A.r(w),A.d(w,{area:function(){return Tp},bottom:function(){return Xc},bottomLeft:function(){return Xc},bottomRight:function(){return Xc},inside:function(){return Xc},left:function(){return Xc},outside:function(){return zd},right:function(){return Xc},spider:function(){return Rh},surround:function(){return Ph},top:function(){return Xc},topLeft:function(){return Xc},topRight:function(){return Xc}});var B={};A.r(B),A.d(B,{interpolateBlues:function(){return R_},interpolateBrBG:function(){return s0},interpolateBuGn:function(){return Fi},interpolateBuPu:function(){return eo},interpolateCividis:function(){return P_},interpolateCool:function(){return F_},interpolateCubehelixDefault:function(){return $2},interpolateGnBu:function(){return Ua},interpolateGreens:function(){return u1},interpolateGreys:function(){return np},interpolateInferno:function(){return Z_},interpolateMagma:function(){return d1},interpolateOrRd:function(){return Ya},interpolateOranges:function(){return $p},interpolatePRGn:function(){return Ra},interpolatePiYG:function(){return _s},interpolatePlasma:function(){return X2},interpolatePuBu:function(){return ju},interpolatePuBuGn:function(){return Ss},interpolatePuOr:function(){return mf},interpolatePuRd:function(){return od},interpolatePurples:function(){return G2},interpolateRainbow:function(){return Og},interpolateRdBu:function(){return Dr},interpolateRdGy:function(){return Pa},interpolateRdPu:function(){return bm},interpolateRdYlBu:function(){return Oi},interpolateRdYlGn:function(){return Ki},interpolateReds:function(){return n3},interpolateSinebow:function(){return fy},interpolateSpectral:function(){return Ei},interpolateTurbo:function(){return U_},interpolateViridis:function(){return z_},interpolateWarm:function(){return B_},interpolateYlGn:function(){return Yp},interpolateYlGnBu:function(){return o1},interpolateYlOrBr:function(){return Ev},interpolateYlOrRd:function(){return Tv},schemeAccent:function(){return me},schemeBlues:function(){return s1},schemeBrBG:function(){return Tf},schemeBuGn:function(){return Er},schemeBuPu:function(){return ma},schemeCategory10:function(){return Ir},schemeDark2:function(){return bu},schemeGnBu:function(){return lo},schemeGreens:function(){return Sv},schemeGreys:function(){return sy},schemeObservable10:function(){return kt},schemeOrRd:function(){return No},schemeOranges:function(){return uy},schemePRGn:function(){return qr},schemePaired:function(){return Ls},schemePastel1:function(){return ll},schemePastel2:function(){return Gu},schemePiYG:function(){return La},schemePuBu:function(){return ou},schemePuBuGn:function(){return Su},schemePuOr:function(){return Al},schemePuRd:function(){return cc},schemePurples:function(){return Av},schemeRdBu:function(){return Kn},schemeRdGy:function(){return ii},schemeRdPu:function(){return $h},schemeRdYlBu:function(){return Na},schemeRdYlGn:function(){return Bi},schemeReds:function(){return Ba},schemeSet1:function(){return cl},schemeSet2:function(){return dl},schemeSet3:function(){return pd},schemeSpectral:function(){return Xr},schemeTableau10:function(){return gd},schemeYlGn:function(){return tp},schemeYlGnBu:function(){return b0},schemeYlOrBr:function(){return M_},schemeYlOrRd:function(){return xv}});var ne={};A.r(ne),A.d(ne,{geoAlbers:function(){return __},geoAlbersUsa:function(){return IL},geoAzimuthalEqualArea:function(){return A2},geoAzimuthalEqualAreaRaw:function(){return tg},geoAzimuthalEquidistant:function(){return Ns},geoAzimuthalEquidistantRaw:function(){return LC},geoConicConformal:function(){return ng},geoConicConformalRaw:function(){return O2},geoConicEqualArea:function(){return FT},geoConicEqualAreaRaw:function(){return Bx},geoConicEquidistant:function(){return mh},geoConicEquidistantRaw:function(){return mp},geoEqualEarth:function(){return Q0},geoEqualEarthRaw:function(){return Ql},geoEquirectangular:function(){return w0},geoEquirectangularRaw:function(){return Xl},geoGnomonic:function(){return Jd},geoGnomonicRaw:function(){return t0},geoIdentity:function(){return TD},geoMercator:function(){return ci},geoMercatorRaw:function(){return C2},geoNaturalEarth1:function(){return ym},geoNaturalEarth1Raw:function(){return Bd},geoOrthographic:function(){return UT},geoOrthographicRaw:function(){return ey},geoProjection:function(){return vm},geoProjectionMutator:function(){return PC},geoStereographic:function(){return eu},geoStereographicRaw:function(){return xo},geoTransverseMercator:function(){return Es},geoTransverseMercatorRaw:function(){return gR}});var ue={};A.r(ue),A.d(ue,{frequency:function(){return ZR},id:function(){return o8},name:function(){return s8},weight:function(){return a8}});var j=A(75271),q=A(30967),Y=A.t(q,2),K=function(){return K=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},K.apply(this,arguments)},H=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},ae=function(n,i){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},o,l,p,v;return v={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function S(P){return function(I){return R([P,I])}}function R(P){if(o)throw new TypeError("Generator is already executing.");for(;v&&(v=0,P[0]&&(a=0)),a;)try{if(o=1,l&&(p=P[0]&2?l.return:P[0]?l.throw||((p=l.return)&&p.call(l),0):l.next)&&!(p=p.call(l,P[1])).done)return p;switch(l=0,p&&(P=[P[0]&2,p.value]),P[0]){case 0:case 1:p=P;break;case 4:return a.label++,{value:P[1],done:!1};case 5:a.label++,l=P[1],P=[0];continue;case 7:P=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(P[0]===6||P[0]===2)){a=0;continue}if(P[0]===3&&(!p||P[1]>p[0]&&P[1]<p[3])){a.label=P[1];break}if(P[0]===6&&a.label<p[1]){a.label=p[1],p=P;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(P);break}p[2]&&a.ops.pop(),a.trys.pop();continue}P=i.call(n,a)}catch(I){P=[6,I],l=0}finally{o=p=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},ie=K({},Y),le=ie.version,se=ie.render,ge=ie.unmountComponentAtNode,ye;try{var ve=Number((le||"").split(".")[0]);ve>=18&&(ye=ie.createRoot)}catch(n){}function fe(n){var i=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;i&&typeof i=="object"&&(i.usingClientEntryPoint=n)}var Fe="__rc_react_root__";function yt(n,i){fe(!0);var a=i[Fe]||ye(i);fe(!1),a.render(n),i[Fe]=a}function gt(n,i){se(n,i)}function pt(n,i){}function lt(n,i){if(ye){yt(n,i);return}gt(n,i)}function Ke(n){return H(this,void 0,void 0,function(){return ae(this,function(i){return[2,Promise.resolve().then(function(){var a;(a=n[Fe])===null||a===void 0||a.unmount(),delete n[Fe]})]})})}function Ue(n){ge(n)}function Pt(n){}function Gt(n){return H(this,void 0,void 0,function(){return ae(this,function(i){return ye!==void 0?[2,Ke(n)]:(Ue(n),[2])})})}var rn=new Map;typeof document!="undefined"&&rn.set("tooltip",document.createElement("div"));var _n=function(n,i){i===void 0&&(i=!1);var a=null;if(i)a=rn.get("tooltip");else if(a=document.createElement("div"),n!=null&&n.key){var o=rn.get(n.key);o?a=o:rn.set(n.key,a)}return lt(n,a),a},qe=function(n){if(typeof document=="undefined")return"loading";var i=n.attachShadow({mode:"open"}),a=document.createElement("div"),o=document.createElement("style");o.innerHTML=`.loading {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 80px;
  }
  .loading div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #ccc;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
  }
  .loading div:nth-child(1) {
    left: 8px;
    animation: loading1 0.6s infinite;
  }
  .loading div:nth-child(2) {
    left: 8px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(3) {
    left: 32px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(4) {
    left: 56px;
    animation: loading3 0.6s infinite;
  }
  @keyframes loading1 {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes loading3 {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes loading2 {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(24px, 0);
    }
  }
  `,a.classList.add("loading"),a.innerHTML="<div></div><div></div><div></div><div></div>",i.appendChild(o),i.appendChild(a)},Nt=function(n){var i=n.loadingTemplate,a=n.theme,o=a===void 0?"light":a,l=j.useRef(null);j.useEffect(function(){!i&&l.current&&qe(l.current)},[]);var p=function(){return i||j.createElement("div",{ref:l})};return j.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:o==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},p())},ft=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),ln=function(n){ft(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.state={hasError:!1},a.renderError=function(o){var l=a.props.errorTemplate;switch(o){default:return typeof l=="function"?l(o):l||j.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",o.message)}},a}return i.getDerivedStateFromError=function(a){return{hasError:!0,error:a}},i.getDerivedStateFromProps=function(a,o){return o.children!==a.children?{children:a.children,hasError:!1,error:void 0}:null},i.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):j.createElement(j.Fragment,null,this.props.children)},i}(j.Component),tt=A(32699),Pe=function(n){var i=/react|\.jsx|children:\[\(|return\s+[A-Za-z0-9].createElement\((?!['"][g|circle|ellipse|image|rect|line|polyline|polygon|text|path|html|mesh]['"])([^\)])*,/i;return i.test(n)},Qe=function(){return Qe=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},Qe.apply(this,arguments)};function He(n,i){var a=(0,j.useRef)(),o=(0,j.useRef)(),l=(0,j.useRef)(null),p=i.onReady,v=i.onEvent,S=function(I,k){var z;I===void 0&&(I="image/png");var te=(z=l.current)===null||z===void 0?void 0:z.getElementsByTagName("canvas")[0];return te==null?void 0:te.toDataURL(I,k)},R=function(I,k,z){I===void 0&&(I="download"),k===void 0&&(k="image/png");var te=I;I.indexOf(".")===-1&&(te="".concat(I,".").concat(k.split("/")[1]));var de=S(k,z),be=document.createElement("a");return be.href=de,be.download=te,document.body.appendChild(be),be.click(),document.body.removeChild(be),be=null,te},P=function(I,k){k===void 0&&(k=!1);var z=Object.keys(I),te=k;z.forEach(function(de){var be=I[de];de==="tooltip"&&(te=!0),(0,tt.isFunction)(be)&&Pe("".concat(be))?I[de]=function(){for(var Re=[],Ie=0;Ie<arguments.length;Ie++)Re[Ie]=arguments[Ie];return _n(be.apply(void 0,Re),te)}:(0,tt.isArray)(be)?be.forEach(function(Re){P(Re,te)}):(0,tt.isObject)(be)?P(be,te):te=k})};return(0,j.useEffect)(function(){a.current&&!(0,tt.isEqual)(o.current,i)&&(o.current=(0,tt.cloneDeep)(i),P(i),a.current.update(i),a.current.render())},[i]),(0,j.useEffect)(function(){if(!l.current)return function(){return null};o.current||(o.current=(0,tt.cloneDeep)(i)),P(i);var I=new n(l.current,Qe({},i));I.toDataURL=S,I.downloadImage=R,I.render(),a.current=I,p&&p(I);var k=function(z){v&&v(I,z)};return I.on("*",k),function(){a.current&&(a.current.destroy(),a.current.off("*",k),a.current=void 0)}},[]),{chart:a,container:l}}var _t=A(80216);const Bt="main-layer",At="label-layer",Je="element",zt="view",mn="plot",Ot="component",Xe="label",ct="area",Rt="mask";var Oe=A(95198),Ge=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Vt=(n,i,a)=>[["M",n-a,i],["A",a,a,0,1,0,n+a,i],["A",a,a,0,1,0,n-a,i],["Z"]];Vt.style=["fill"];const De=Vt.bind(void 0);De.style=["stroke","lineWidth"];const et=(n,i,a)=>[["M",n-a,i-a],["L",n+a,i-a],["L",n+a,i+a],["L",n-a,i+a],["Z"]];et.style=["fill"];const Ce=et.bind(void 0);Ce.style=["fill"];const J=et.bind(void 0);J.style=["stroke","lineWidth"];const Le=(n,i,a)=>{const o=a*.618;return[["M",n-o,i],["L",n,i-a],["L",n+o,i],["L",n,i+a],["Z"]]};Le.style=["fill"];const Jt=Le.bind(void 0);Jt.style=["stroke","lineWidth"];const Be=(n,i,a)=>{const o=a*Math.sin(.3333333333333333*Math.PI);return[["M",n-a,i+o],["L",n,i-o],["L",n+a,i+o],["Z"]]};Be.style=["fill"];const In=Be.bind(void 0);In.style=["stroke","lineWidth"];const cr=(n,i,a)=>{const o=a*Math.sin(.3333333333333333*Math.PI);return[["M",n-a,i-o],["L",n+a,i-o],["L",n,i+o],["Z"]]};cr.style=["fill"];const bn=cr.bind(void 0);bn.style=["stroke","lineWidth"];const ir=(n,i,a)=>{const o=a/2*Math.sqrt(3);return[["M",n,i-a],["L",n+o,i-a/2],["L",n+o,i+a/2],["L",n,i+a],["L",n-o,i+a/2],["L",n-o,i-a/2],["Z"]]};ir.style=["fill"];const Nr=ir.bind(void 0);Nr.style=["stroke","lineWidth"];const Ar=(n,i,a)=>{const o=a-1.5;return[["M",n-a,i-o],["L",n+a,i+o],["L",n+a,i-o],["L",n-a,i+o],["Z"]]};Ar.style=["fill"];const Zr=Ar.bind(void 0);Zr.style=["stroke","lineWidth"];const wi=(n,i,a)=>[["M",n,i+a],["L",n,i-a]];wi.style=["stroke","lineWidth"];const Ln=(n,i,a)=>[["M",n-a,i-a],["L",n+a,i+a],["M",n+a,i-a],["L",n-a,i+a]];Ln.style=["stroke","lineWidth"];const Nn=(n,i,a)=>[["M",n-a/2,i-a],["L",n+a/2,i-a],["M",n,i-a],["L",n,i+a],["M",n-a/2,i+a],["L",n+a/2,i+a]];Nn.style=["stroke","lineWidth"];const $n=(n,i,a)=>[["M",n-a,i],["L",n+a,i],["M",n,i-a],["L",n,i+a]];$n.style=["stroke","lineWidth"];const wn=(n,i,a)=>[["M",n-a,i],["L",n+a,i]];wn.style=["stroke","lineWidth"];const nt=(n,i,a)=>[["M",n-a,i],["L",n+a,i]];nt.style=["stroke","lineWidth"];const ze=nt.bind(void 0);ze.style=["stroke","lineWidth"];const vt=(n,i,a)=>[["M",n-a,i],["A",a/2,a/2,0,1,1,n,i],["A",a/2,a/2,0,1,0,n+a,i]];vt.style=["stroke","lineWidth"];const $t=(n,i,a)=>[["M",n-a-1,i-2.5],["L",n,i-2.5],["L",n,i+2.5],["L",n+a+1,i+2.5]];$t.style=["stroke","lineWidth"];const gn=(n,i,a)=>[["M",n-a-1,i+2.5],["L",n,i+2.5],["L",n,i-2.5],["L",n+a+1,i-2.5]];gn.style=["stroke","lineWidth"];const at=(n,i,a)=>[["M",n-(a+1),i+2.5],["L",n-a/2,i+2.5],["L",n-a/2,i-2.5],["L",n+a/2,i-2.5],["L",n+a/2,i+2.5],["L",n+a+1,i+2.5]];at.style=["stroke","lineWidth"];const an=(n,i,a)=>[["M",n-5,i+2.5],["L",n-5,i],["L",n,i],["L",n,i-3],["L",n,i+3],["L",n+6.5,i+3]];an.style=["stroke","lineWidth"];const hn=new Map([["bowtie",Ar],["cross",Ln],["dash",ze],["diamond",Le],["dot",nt],["hexagon",ir],["hollowBowtie",Zr],["hollowDiamond",Jt],["hollowHexagon",Nr],["hollowPoint",De],["hollowSquare",J],["hollowTriangle",In],["hollowTriangleDown",bn],["hv",$t],["hvh",at],["hyphen",wn],["line",wi],["plus",$n],["point",Vt],["rect",Ce],["smooth",vt],["square",et],["tick",Nn],["triangleDown",cr],["triangle",Be],["vh",gn],["vhv",an]]);function pr(n,i){var{d:a,fill:o,lineWidth:l,path:p,stroke:v,color:S}=i,R=Ge(i,["d","fill","lineWidth","path","stroke","color"]);const P=hn.get(n)||hn.get("point");return(...I)=>new Oe.y$({style:Object.assign(Object.assign({},R),{d:P(...I),stroke:P.style.includes("stroke")?S||v:"",fill:P.style.includes("fill")?S||o:"",lineWidth:P.style.includes("lineWidth")?l||l||2:0})})}function ur(n,i){hn.set(n,i)}function pi(n){hn.delete(n)}const ar={};function di(n,i){n.startsWith("symbol.")?ur(n.split(".").pop(),i):Object.assign(ar,{[n]:i})}var sa=A(58126),xa=A(30223),za=A(99860),Ui=A(11051);class Ao extends Map{constructor(i,a=xi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),i!=null)for(const[o,l]of i)this.set(o,l)}get(i){return super.get(cs(this,i))}has(i){return super.has(cs(this,i))}set(i,a){return super.set(ra(this,i),a)}delete(i){return super.delete(ms(this,i))}}class fs extends null{constructor(i,a=xi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),i!=null)for(const o of i)this.add(o)}has(i){return super.has(cs(this,i))}add(i){return super.add(ra(this,i))}delete(i){return super.delete(ms(this,i))}}function cs({_intern:n,_key:i},a){const o=i(a);return n.has(o)?n.get(o):a}function ra({_intern:n,_key:i},a){const o=i(a);return n.has(o)?n.get(o):(n.set(o,a),a)}function ms({_intern:n,_key:i},a){const o=i(a);return n.has(o)&&(a=n.get(o),n.delete(o)),a}function xi(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Gn(n){return n}function _e(n,...i){return Yn(n,Gn,Gn,i)}function oi(n,...i){return Yn(n,Array.from,Gn,i)}function Ka(n,i){for(let a=1,o=i.length;a<o;++a)n=n.flatMap(l=>l.pop().map(([p,v])=>[...l,p,v]));return n}function Cn(n,...i){return Ka(oi(n,...i),i)}function Un(n,i,...a){return Ka(It(n,i,...a),a)}function tn(n,i,...a){return Yn(n,Gn,i,a)}function It(n,i,...a){return Yn(n,Array.from,i,a)}function Zt(n,...i){return Yn(n,identity,Bn,i)}function $e(n,...i){return Yn(n,Array.from,Bn,i)}function Bn(n){if(n.length!==1)throw new Error("duplicate key");return n[0]}function Yn(n,i,a,o){return function l(p,v){if(v>=o.length)return a(p);const S=new Ao,R=o[v++];let P=-1;for(const I of p){const k=R(I,++P,p),z=S.get(k);z?z.push(I):S.set(k,[I])}for(const[I,k]of S)S.set(I,l(k,v));return i(S)}(n,0)}var or=A(76109),Ze=A(37090),je=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})};function st(n){return n}function St(n){return n.reduce((i,a)=>(o,...l)=>a(i(o,...l),...l),st)}function En(n){return n.reduce((i,a)=>o=>je(this,void 0,void 0,function*(){const l=yield i(o);return a(l)}),st)}function fn(n){return n.replace(/( |^)[a-z]/g,i=>i.toUpperCase())}function sn(n=""){throw new Error(n)}function Pn(n,i){const{attributes:a}=i,o=new Set(["id","className"]);for(const[l,p]of Object.entries(a))o.has(l)||n.attr(l,p)}function Hn(n){return n!=null&&!Number.isNaN(n)}function Ut(n,i){return n+(i-n)*Math.random()}function Yt(n){const i=new Map;return a=>{if(i.has(a))return i.get(a);const o=n(a);return i.set(a,o),o}}function Xt(n,i){const{transform:a}=n.style,l=(p=>p==="none"||p===void 0)(a)?"":a;n.style.transform=`${l} ${i}`.trimStart()}function jt(n,i){return fr(n,i)||{}}function fr(n,i){const a=Object.entries(n||{}).filter(([o])=>o.startsWith(i)).map(([o,l])=>[(0,or.Z)(o.replace(i,"").trim()),l]).filter(([o])=>!!o);return a.length===0?null:Object.fromEntries(a)}function vr(n,i){return Object.fromEntries(Object.entries(n).map(([a,o])=>[`${i}${upperFirst(a)}`,o]))}function yr(n,i){return Object.fromEntries(Object.entries(n).filter(([a])=>i.find(o=>a.startsWith(o))))}function Br(n,...i){return Object.fromEntries(Object.entries(n).filter(([a])=>i.every(o=>!a.startsWith(o))))}function Gi(n,i){if(n===void 0)return null;if(typeof n=="number")return n;const a=+n.replace("%","");return Number.isNaN(a)?null:a/100*i}function qi(n){return typeof n=="object"&&!(n instanceof Date)&&n!==null&&!Array.isArray(n)}function $i(n){return n===null||n===!1}function Wi(n,i,a=5,o=0){if(!(o>=a)){for(const l of Object.keys(i)){const p=i[l];!(0,Ze.Z)(p)||!(0,Ze.Z)(n[l])?n[l]=p:Wi(n[l],p,a,o+1)}return n}}function Ii(n){return new Qa([n],null,n,n.ownerDocument)}class Qa{constructor(i=null,a=null,o=null,l=null,p=[null,null,null,null,null],v=[],S=[]){this._elements=Array.from(i),this._data=a,this._parent=o,this._document=l,this._enter=p[0],this._update=p[1],this._exit=p[2],this._merge=p[3],this._split=p[4],this._transitions=v,this._facetElements=S}selectAll(i){const a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new Qa(a,null,this._elements[0],this._document)}selectFacetAll(i){const a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new Qa(this._elements,null,this._parent,this._document,void 0,void 0,a)}select(i){const a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new Qa([a],null,a,this._document)}append(i){const a=typeof i=="function"?i:()=>this.createElement(i),o=[];if(this._data!==null){for(let l=0;l<this._data.length;l++){const p=this._data[l],[v,S]=Array.isArray(p)?p:[p,null],R=a(v,l);R.__data__=v,S!==null&&(R.__fromElements__=S),this._parent.appendChild(R),o.push(R)}return new Qa(o,null,this._parent,this._document)}else{for(let l=0;l<this._elements.length;l++){const p=this._elements[l],v=p.__data__,S=a(v,l);p.appendChild(S),o.push(S)}return new Qa(o,null,o[0],this._document)}}maybeAppend(i,a,o){const l=this._elements[0],p=l.getElementById(i);if(p)return new Qa([p],null,this._parent,this._document);const v=typeof a=="string"?this.createElement(a):a();return v.id=i,o&&(v.className=o),l.appendChild(v),new Qa([v],null,this._parent,this._document)}data(i,a=l=>l,o=()=>null){const l=[],p=[],v=new Set(this._elements),S=[],R=new Set,P=new Map(this._elements.map((te,de)=>[a(te.__data__,de),te])),I=new Map(this._facetElements.map((te,de)=>[a(te.__data__,de),te])),k=_e(this._elements,te=>o(te.__data__));for(let te=0;te<i.length;te++){const de=i[te],be=a(de,te),Re=o(de,te);if(P.has(be)){const Ie=P.get(be);Ie.__data__=de,Ie.__facet__=!1,p.push(Ie),v.delete(Ie),P.delete(be)}else if(I.has(be)){const Ie=I.get(be);Ie.__data__=de,Ie.__facet__=!0,p.push(Ie),I.delete(be)}else if(k.has(be)){const Ie=k.get(be);S.push([de,Ie]);for(const it of Ie)v.delete(it);k.delete(be)}else if(P.has(Re)){const Ie=P.get(Re);Ie.__toData__?Ie.__toData__.push(de):Ie.__toData__=[de],R.add(Ie),v.delete(Ie)}else l.push(de)}const z=[new Qa([],l,this._parent,this._document),new Qa(p,null,this._parent,this._document),new Qa(v,null,this._parent,this._document),new Qa([],S,this._parent,this._document),new Qa(R,null,this._parent,this._document)];return new Qa(this._elements,null,this._parent,this._document,z)}merge(i){const a=[...this._elements,...i._elements],o=[...this._transitions,...i._transitions];return new Qa(a,null,this._parent,this._document,void 0,o)}createElement(i){if(this._document)return this._document.createElement(i,{});const a=Qa.registry[i];return a?new a:sn(`Unknown node type: ${i}`)}join(i=v=>v,a=v=>v,o=v=>v.remove(),l=v=>v,p=v=>v.remove()){const v=i(this._enter),S=a(this._update),R=o(this._exit),P=l(this._merge),I=p(this._split);return S.merge(v).merge(R).merge(P).merge(I)}remove(){for(let i=0;i<this._elements.length;i++){const a=this._transitions[i];if(a){const o=Array.isArray(a)?a:[a];Promise.all(o.map(l=>l.finished)).then(()=>{this._elements[i].remove()})}else this._elements[i].remove()}return new Qa([],null,this._parent,this._document,void 0,this._transitions)}each(i){for(let a=0;a<this._elements.length;a++){const o=this._elements[a],l=o.__data__;i(l,a,o)}return this}attr(i,a){const o=typeof a!="function"?()=>a:a;return this.each(function(l,p,v){a!==void 0&&(v[i]=o(l,p,v))})}style(i,a){const o=typeof a!="function"?()=>a:a;return this.each(function(l,p,v){a!==void 0&&(v.style[i]=o(l,p,v))})}transition(i){const a=typeof i!="function"?()=>i:i,{_transitions:o}=this;return this.each(function(l,p,v){o[p]=a(l,p,v)})}on(i,a){return this.each(function(o,l,p){p.addEventListener(i,a)}),this}call(i,...a){return i(this,...a),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}Qa.registry={g:Oe.ZA,rect:Oe.UL,circle:Oe.Cd,path:Oe.y$,text:Oe.xv,ellipse:Oe.Pj,image:Oe.Ee,line:Oe.x1,polygon:Oe.mg,polyline:Oe.aH,html:Oe.k9};const on={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CHANGE_DATA:"beforechangedata",AFTER_CHANGE_DATA:"afterchangedata",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"};var dn=A(18814),jn=A(70373);function Ur(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Yr(n,i){if((a=(n=i?n.toExponential(i-1):n.toExponential()).indexOf("e"))<0)return null;var a,o=n.slice(0,a);return[o.length>1?o[0]+o.slice(2):o,+n.slice(a+1)]}function Et(n){return n=Yr(Math.abs(n)),n?n[1]:NaN}function Ct(n,i){return function(a,o){for(var l=a.length,p=[],v=0,S=n[0],R=0;l>0&&S>0&&(R+S+1>o&&(S=Math.max(1,o-R)),p.push(a.substring(l-=S,l+S)),!((R+=S+1)>o));)S=n[v=(v+1)%n.length];return p.reverse().join(i)}}function xn(n){return function(i){return i.replace(/[0-9]/g,function(a){return n[+a]})}}var Xn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mt(n){if(!(i=Xn.exec(n)))throw new Error("invalid format: "+n);var i;return new vn({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}mt.prototype=vn.prototype;function vn(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}vn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tr(n){e:for(var i=n.length,a=1,o=-1,l;a<i;++a)switch(n[a]){case".":o=l=a;break;case"0":o===0&&(o=a),l=a;break;default:if(!+n[a])break e;o>0&&(o=0);break}return o>0?n.slice(0,o)+n.slice(l+1):n}var Mr;function ui(n,i){var a=Yr(n,i);if(!a)return n+"";var o=a[0],l=a[1],p=l-(Mr=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,v=o.length;return p===v?o:p>v?o+new Array(p-v+1).join("0"):p>0?o.slice(0,p)+"."+o.slice(p):"0."+new Array(1-p).join("0")+Yr(n,Math.max(0,i+p-1))[0]}function Ri(n,i){var a=Yr(n,i);if(!a)return n+"";var o=a[0],l=a[1];return l<0?"0."+new Array(-l).join("0")+o:o.length>l+1?o.slice(0,l+1)+"."+o.slice(l+1):o+new Array(l-o.length+2).join("0")}var Aa={"%":(n,i)=>(n*100).toFixed(i),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Ur,e:(n,i)=>n.toExponential(i),f:(n,i)=>n.toFixed(i),g:(n,i)=>n.toPrecision(i),o:n=>Math.round(n).toString(8),p:(n,i)=>Ri(n*100,i),r:Ri,s:ui,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Ga(n){return n}var vo=Array.prototype.map,To=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Po(n){var i=n.grouping===void 0||n.thousands===void 0?Ga:Ct(vo.call(n.grouping,Number),n.thousands+""),a=n.currency===void 0?"":n.currency[0]+"",o=n.currency===void 0?"":n.currency[1]+"",l=n.decimal===void 0?".":n.decimal+"",p=n.numerals===void 0?Ga:xn(vo.call(n.numerals,String)),v=n.percent===void 0?"%":n.percent+"",S=n.minus===void 0?"\u2212":n.minus+"",R=n.nan===void 0?"NaN":n.nan+"";function P(k){k=mt(k);var z=k.fill,te=k.align,de=k.sign,be=k.symbol,Re=k.zero,Ie=k.width,it=k.comma,ut=k.precision,Mt=k.trim,en=k.type;en==="n"?(it=!0,en="g"):Aa[en]||(ut===void 0&&(ut=12),Mt=!0,en="g"),(Re||z==="0"&&te==="=")&&(Re=!0,z="0",te="=");var Rn=be==="$"?a:be==="#"&&/[boxX]/.test(en)?"0"+en.toLowerCase():"",Jn=be==="$"?o:/[%p]/.test(en)?v:"",nr=Aa[en],mr=/[defgprs%]/.test(en);ut=ut===void 0?6:/[gprs]/.test(en)?Math.max(1,Math.min(21,ut)):Math.max(0,Math.min(20,ut));function Vr(Hr){var fi=Rn,dr=Jn,_r,lr,hr;if(en==="c")dr=nr(Hr)+dr,Hr="";else{Hr=+Hr;var Ti=Hr<0||1/Hr<0;if(Hr=isNaN(Hr)?R:nr(Math.abs(Hr),ut),Mt&&(Hr=tr(Hr)),Ti&&+Hr==0&&de!=="+"&&(Ti=!1),fi=(Ti?de==="("?de:S:de==="-"||de==="("?"":de)+fi,dr=(en==="s"?To[8+Mr/3]:"")+dr+(Ti&&de==="("?")":""),mr){for(_r=-1,lr=Hr.length;++_r<lr;)if(hr=Hr.charCodeAt(_r),48>hr||hr>57){dr=(hr===46?l+Hr.slice(_r+1):Hr.slice(_r))+dr,Hr=Hr.slice(0,_r);break}}}it&&!Re&&(Hr=i(Hr,1/0));var Rr=fi.length+Hr.length+dr.length,Gr=Rr<Ie?new Array(Ie-Rr+1).join(z):"";switch(it&&Re&&(Hr=i(Gr+Hr,Gr.length?Ie-dr.length:1/0),Gr=""),te){case"<":Hr=fi+Hr+dr+Gr;break;case"=":Hr=fi+Gr+Hr+dr;break;case"^":Hr=Gr.slice(0,Rr=Gr.length>>1)+fi+Hr+dr+Gr.slice(Rr);break;default:Hr=Gr+fi+Hr+dr;break}return p(Hr)}return Vr.toString=function(){return k+""},Vr}function I(k,z){var te=P((k=mt(k),k.type="f",k)),de=Math.max(-8,Math.min(8,Math.floor(Et(z)/3)))*3,be=Math.pow(10,-de),Re=To[8+de/3];return function(Ie){return te(be*Ie)+Re}}return{format:P,formatPrefix:I}}var ds,Za,ks;oo({thousands:",",grouping:[3],currency:["$",""]});function oo(n){return ds=Po(n),Za=ds.format,ks=ds.formatPrefix,ds}function nu(n,i){return Object.entries(n).reduce((a,[o,l])=>(a[o]=i(l,o,n),a),{})}function wu(n){return n.map((i,a)=>a)}function Ll(n){const i=n.length,a=n[0].length,o=new Array(a).fill(0).map(()=>new Array(i));for(let l=0;l<a;l++)for(let p=0;p<i;p++)o[l][p]=n[p][l];return o}function Si(n){return n[0]}function Sn(n){return n[n.length-1]}function Qt(n){return!n.some(Array.isArray)}function rr(n){return Array.from(new Set(n))}function rt(n,i){const a=[[],[]];return n.forEach(o=>{a[i(o)?0:1].push(o)}),a}function ai(n,i=n.length){if(i===1)return n.map(o=>[o]);const a=[];for(let o=0;o<n.length;o++){const l=n.slice(o+1);ai(l,i-1).forEach(v=>{a.push([n[o],...v])})}return a}function mi(n){if(n.length===1)return[n];const i=[];for(let a=1;a<=n.length;a++)i.push(...ai(n,a));return i}var _a=A(87314);function Xi(n,i){let a=0;if(i===void 0)for(let o of n)(o=+o)&&(a+=o);else{let o=-1;for(let l of n)(l=+i(l,++o,n))&&(a+=l)}return a}function ia(n,i){let a;if(i===void 0)for(const o of n)o!=null&&(a<o||a===void 0&&o>=o)&&(a=o);else{let o=-1;for(let l of n)(l=i(l,++o,n))!=null&&(a<l||a===void 0&&l>=l)&&(a=l)}return a}function ua(n){return n*Math.PI/180}function co(n){return n*180/Math.PI}function Ro(n,i){return n=n%(2*Math.PI),i=i%(2*Math.PI),n<0&&(n=2*Math.PI+n),i<0&&(i=2*Math.PI+i),n>=i&&(i=i+2*Math.PI),{startAngle:n,endAngle:i}}const As=(n={})=>{const i={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},a=Object.assign(Object.assign({},i),n);return Object.assign(Object.assign({},a),Ro(a.startAngle,a.endAngle))},So=n=>{const{startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=As(n);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",i,a,o,l]]};So.props={};const ao=(n={})=>{const i={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},i),n)},Wa=n=>{const{startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=ao(n);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...So({startAngle:i,endAngle:a,innerRadius:o,outerRadius:l})]};Wa.props={};function ns(n,i,a){return Math.max(i,Math.min(n,a))}function Do(n,i=10){return typeof n!="number"||Math.abs(n)<1e-15?n:parseFloat(n.toFixed(i))}const ls=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var Bs=A(16290);function Xo(n){const{transformations:i}=n.getOptions();return i.map(([o])=>o).filter(o=>o==="transpose").length%2!==0}function wt(n){const{transformations:i}=n.getOptions();return i.some(([a])=>a==="polar")}function er(n){const{transformations:i}=n.getOptions();return i.some(([a])=>a==="reflect")&&i.some(([a])=>a.startsWith("transpose"))}function nn(n){const{transformations:i}=n.getOptions();return i.some(([a])=>a==="helix")}function wr(n){const{transformations:i}=n.getOptions();return i.some(([a])=>a==="parallel")}function hi(n){const{transformations:i}=n.getOptions();return i.some(([a])=>a==="fisheye")}function gi(n){return wr(n)&&wt(n)}function xr(n){return nn(n)||wt(n)}function Ji(n){return wt(n)&&Xo(n)}function Ai(n){return wt(n)||wr(n)||er(n)||Ji(n)}function Mi(n){if(xr(n)){const[i,a]=n.getSize(),o=n.getOptions().transformations.find(l=>l[0]==="polar");if(o)return Math.max(i,a)/2*o[4]}return 0}function po(n){const{transformations:i}=n.getOptions(),[,,,a,o]=i.find(l=>l[0]==="polar");return[+a,+o]}function ha(n,i=!0){const{transformations:a}=n.getOptions(),[,o,l]=a.find(p=>p[0]==="polar");return i?[+o*180/Math.PI,+l*180/Math.PI]:[o,l]}function Qo(n,i){const{transformations:a}=n.getOptions(),[,...o]=a.find(l=>l[0]===i);return o}var Cs=A(6234),Oo=A(88409),su=A(73959);function ru(n,i){let a,o;if(i===void 0)for(const l of n)l!=null&&(a===void 0?l>=l&&(a=o=l):(a>l&&(a=l),o<l&&(o=l)));else{let l=-1;for(let p of n)(p=i(p,++l,n))!=null&&(a===void 0?p>=p&&(a=o=p):(a>p&&(a=p),o<p&&(o=p)))}return[a,o]}var xt=A(99938),Zn=A(69210);function Cr(n){for(var i=1/0,a=1/0,o=-1/0,l=-1/0,p=0;p<n.length;p++){var v=n[p],S=v.x,R=v.y,P=v.width,I=v.height,k=(0,xt.CR)([S+P,R+I],2),z=k[0],te=k[1];S<i&&(i=S),R<a&&(a=R),z>o&&(o=z),te>l&&(l=te)}return new Zn.b(i,a,o-i,l-a)}var Di=function(n,i,a){var o=n.width,l=n.height,p=a.flexDirection,v=p===void 0?"row":p,S=a.flexWrap,R=S===void 0?"nowrap":S,P=a.justifyContent,I=P===void 0?"flex-start":P,k=a.alignContent,z=k===void 0?"flex-start":k,te=a.alignItems,de=te===void 0?"flex-start":te,be=v==="row",Re=v==="row"||v==="column",Ie=be?Re?[1,0]:[-1,0]:Re?[0,1]:[0,-1],it=(0,xt.CR)([0,0],2),ut=it[0],Mt=it[1],en=i.map(function(dr){var _r,lr=dr.width,hr=dr.height,Ti=(0,xt.CR)([ut,Mt],2),Rr=Ti[0],Gr=Ti[1];return _r=(0,xt.CR)([ut+lr*Ie[0],Mt+hr*Ie[1]],2),ut=_r[0],Mt=_r[1],new Zn.b(Rr,Gr,lr,hr)}),Rn=Cr(en),Jn={"flex-start":0,"flex-end":be?o-Rn.width:l-Rn.height,center:be?(o-Rn.width)/2:(l-Rn.height)/2},nr=en.map(function(dr){var _r=dr.x,lr=dr.y,hr=Zn.b.fromRect(dr);return hr.x=be?_r+Jn[I]:_r,hr.y=be?lr:lr+Jn[I],hr}),mr=Cr(nr),Vr=function(dr){var _r=(0,xt.CR)(be?["height",l]:["width",o],2),lr=_r[0],hr=_r[1];switch(de){case"flex-start":return 0;case"flex-end":return hr-dr[lr];case"center":return hr/2-dr[lr]/2;default:return 0}},Hr=nr.map(function(dr){var _r=dr.x,lr=dr.y,hr=Zn.b.fromRect(dr);return hr.x=be?_r:_r+Vr(hr),hr.y=be?lr+Vr(hr):lr,hr}),fi=Hr.map(function(dr){var _r,lr,hr=Zn.b.fromRect(dr);return hr.x+=(_r=n.x)!==null&&_r!==void 0?_r:0,hr.y+=(lr=n.y)!==null&&lr!==void 0?lr:0,hr});return fi},wa=function(n,i,a){return[]},Eo=function(n,i,a){if(i.length===0)return[];var o={flex:Di,grid:wa},l=a.display in o?o[a.display]:null;return(l==null?void 0:l.call(null,n,i,a))||[]},yo=A(27475),Wr=function(n){(0,xt.ZT)(i,n);function i(a){var o=n.call(this,a)||this;o.layoutEvents=[Oe.Dk.BOUNDS_CHANGED,Oe.Dk.INSERTED,Oe.Dk.REMOVED],o.$margin=(0,yo.j)(0),o.$padding=(0,yo.j)(0);var l=a.style||{},p=l.margin,v=p===void 0?0:p,S=l.padding,R=S===void 0?0:S;return o.margin=v,o.padding=R,o.isMutationObserved=!0,o.bindEvents(),o}return Object.defineProperty(i.prototype,"margin",{get:function(){return this.$margin},set:function(a){this.$margin=(0,yo.j)(a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this.$padding},set:function(a){this.$padding=(0,yo.j)(a)},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var a=this.attributes,o=a.x,l=o===void 0?0:o,p=a.y,v=p===void 0?0:p,S=a.width,R=a.height,P=(0,xt.CR)(this.$margin,4),I=P[0],k=P[1],z=P[2],te=P[3];return new Zn.b(l-te,v-I,S+te+k,R+I+z)},i.prototype.appendChild=function(a,o){return a.isMutationObserved=!0,n.prototype.appendChild.call(this,a,o),a},i.prototype.getAvailableSpace=function(){var a=this.attributes,o=a.width,l=a.height,p=(0,xt.CR)(this.$padding,4),v=p[0],S=p[1],R=p[2],P=p[3],I=(0,xt.CR)(this.$margin,4),k=I[0],z=I[3];return new Zn.b(P+z,v+k,o-P-S,l-v-R)},i.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(v){return!v.isConnected}))try{var a=this.attributes,o=a.x,l=a.y;this.style.transform="translate(".concat(o,", ").concat(l,")");var p=Eo(this.getAvailableSpace(),this.children.map(function(v){return v.getBBox()}),this.attributes);this.children.forEach(function(v,S){var R=p[S],P=R.x,I=R.y;v.style.transform="translate(".concat(P,", ").concat(I,")")})}catch(v){}},i.prototype.bindEvents=function(){var a=this;this.layoutEvents.forEach(function(o){a.addEventListener(o,function(l){l.target&&(l.target.isMutationObserved=!0,a.layout())})})},i.prototype.attributeChangedCallback=function(a,o,l){a==="margin"?this.margin=l:a==="padding"&&(this.padding=l),this.layout()},i}(Oe.ZA),hs=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Ma(n){return class extends Oe.b_{constructor(i){super(i),this.descriptor=n}connectedCallback(){var i,a;(a=(i=this.descriptor).render)===null||a===void 0||a.call(i,this.attributes,this)}update(i={}){var a,o;this.attr((0,Ui.Z)({},this.attributes,i)),(o=(a=this.descriptor).render)===null||o===void 0||o.call(a,this.attributes,this)}}}function iu(n,i,a){return n.querySelector(i)?Ii(n).select(i):Ii(n).append(a)}function au(n){return Array.isArray(n)?n.join(", "):`${n||""}`}function as(n,i){const a={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:o,justifyContent:l,alignItems:p}=a;const v={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return n in v&&([o,l,p]=v[n]),Object.assign({display:"flex",flexDirection:o,justifyContent:l,alignItems:p},i)}class $s extends Wr{get child(){var i;return(i=this.children)===null||i===void 0?void 0:i[0]}update(i){var a;this.attr(i);const{subOptions:o}=i;(a=this.child)===null||a===void 0||a.update(o)}}class Xs extends $s{update(i){var a;const{subOptions:o}=i;this.attr(i),(a=this.child)===null||a===void 0||a.update(o)}}function Lu(n,i){var a;return(a=n.filter(o=>o.getOptions().name===i))===null||a===void 0?void 0:a[0]}function Mu(n){return n==="horizontal"||n===0}function Nl(n){return n==="vertical"||n===-Math.PI/2}function Ks(n,i,a){const{bbox:o}=n,{position:l="top",size:p,length:v}=i,S=["top","bottom","center"].includes(l),[R,P]=S?[o.height,o.width]:[o.width,o.height],{defaultSize:I,defaultLength:k}=a.props,z=p||I||R,te=v||k||P,de=S?"horizontal":"vertical",[be,Re]=S?[te,z]:[z,te];return{orientation:de,width:be,height:Re,size:z,length:te}}function nl(n){return n.find(i=>i.getOptions().domain.length>0).getOptions().domain}function hu(n){const i=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:a}=n,o=hs(n,["style"]),l={};return Object.entries(o).forEach(([p,v])=>{i.includes(p)?l[`show${(0,jn.Z)(p)}`]=v:l[p]=v}),Object.assign(Object.assign({},l),a)}var oc=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function _l(n,i){const{eulerAngles:a,origin:o}=i;o&&n.setOrigin(o),a&&n.rotate(a[0],a[1],a[2])}function Ku(n){const{innerWidth:i,innerHeight:a,depth:o}=n.getOptions();return[i,a,o]}function Cf(n,i){const{width:a,height:o}=i.getOptions();return l=>{if(!hi(i))return l;const p=n==="bottom"?[l,1]:[0,l],v=i.map(p);if(n==="bottom"){const S=v[0];return new Oo.b({domain:[0,a],range:[0,1]}).map(S)}else if(n==="left"){const S=v[1];return new Oo.b({domain:[0,o],range:[0,1]}).map(S)}return l}}function bc(n,i,a){if(n.getTicks)return n.getTicks();if(!a)return i;const[o,l]=ru(i,v=>+v),{tickCount:p}=n.getOptions();return a(o,l,p)}function Sr(n,i){if(wt(i))return te=>te;const a=i.getOptions(),{innerWidth:o,innerHeight:l,insetTop:p,insetBottom:v,insetLeft:S,insetRight:R}=a,[P,I,k]=n==="left"||n==="right"?[p,v,l]:[S,R,o],z=new Oo.b({domain:[0,1],range:[P/k,1-I/k]});return te=>z.map(te)}function li(n,i,a,o,l,p,v,S){var R;(a!==void 0||p!==void 0)&&n.update(Object.assign(Object.assign({},a&&{tickCount:a}),p&&{tickMethod:p}));const P=bc(n,i,p),I=l?P.filter(l):P,k=Ie=>Ie instanceof Date?String(Ie):typeof Ie=="object"&&Ie?Ie:String(Ie),z=o||((R=n.getFormatter)===null||R===void 0?void 0:R.call(n))||k,te=Sr(v,S),de=Cf(v,S),be=Ie=>["top","bottom","center","outer"].includes(Ie),Re=Ie=>["left","right"].includes(Ie);return wt(S)||Xo(S)?I.map((Ie,it,ut)=>{var Mt,en;const Rn=((Mt=n.getBandWidth)===null||Mt===void 0?void 0:Mt.call(n,Ie))/2||0,Jn=te(n.map(Ie)+Rn);return{value:er(S)&&v==="center"||Xo(S)&&((en=n.getTicks)===null||en===void 0?void 0:en.call(n))&&be(v)||Xo(S)&&Re(v)?1-Jn:Jn,label:k(z(Do(Ie),it,ut)),id:String(it)}}):I.map((Ie,it,ut)=>{var Mt;const en=((Mt=n.getBandWidth)===null||Mt===void 0?void 0:Mt.call(n,Ie))/2||0,Rn=de(te(n.map(Ie)+en));return{value:Re(v)?1-Rn:Rn,label:k(z(Do(Ie),it,ut)),id:String(it)}})}function Ci(n,i,a="xy"){const[o,l,p]=Ku(i);return a==="xy"?n.includes("bottom")||n.includes("top")?l:o:a==="xz"?n.includes("bottom")||n.includes("top")?p:o:n.includes("bottom")||n.includes("top")?l:p}function ti(n=[],i){if(n.length>0)return n;const{labelAutoRotate:a,labelAutoHide:o,labelAutoEllipsis:l,labelAutoWrap:p}=i,v=[],S=(R,P)=>{P&&v.push(Object.assign(Object.assign({},R),P))};return S({type:"rotate",optionalAngles:[0,15,30,45,60,90]},a),S({type:"ellipsis",minLength:20},l),S({type:"hide"},o),S({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},p),v}function ea(n,i,a,o,l){const{x:p,y:v,width:S,height:R}=i,P=[p+S/2,v+R/2],I=Math.min(S,R)/2,[k,z]=ha(l),[te,de]=Ku(l),be=Math.min(te,de)/2,Re={center:P,radius:I,startAngle:k,endAngle:z,gridLength:(o-a)*be};if(n==="inner"){const{insetLeft:Ie,insetTop:it}=l.getOptions();return Object.assign(Object.assign({},Re),{center:[P[0]-Ie,P[1]-it],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},Re),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function mo(n,i,a){return Ji(i)||wr(i)?!1:n===void 0?!!a.getTicks:n}function so(n){const{depth:i}=n.getOptions();return i?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function Io(n,i,a,o,l){const{x:p,y:v,width:S,height:R}=a;if(n==="bottom")return{startPos:[p,v],endPos:[p+S,v]};if(n==="left")return{startPos:[p+S,v+R],endPos:[p+S,v]};if(n==="right")return{startPos:[p,v+R],endPos:[p,v]};if(n==="top")return{startPos:[p,v+R],endPos:[p+S,v+R]};if(n==="center"){if(i==="vertical")return{startPos:[p,v],endPos:[p,v+R]};if(i==="horizontal")return{startPos:[p,v],endPos:[p+S,v]};if(typeof i=="number"){const[P,I]=o.getCenter(),[k,z]=po(o),[te,de]=ha(o),be=Math.min(S,R)/2,{insetLeft:Re,insetTop:Ie}=o.getOptions(),it=k*be,ut=z*be,[Mt,en]=[P+p-Re,I+v-Ie],[Rn,Jn]=[Math.cos(i),Math.sin(i)],nr=[Mt+ut*Rn,en+ut*Jn],mr=[Mt+it*Rn,en+it*Jn],Vr=()=>{const{domain:fi}=l.getOptions();return fi.length},Hr=wt(o)&&l?Vr():3;return{startPos:nr,endPos:mr,gridClosed:Math.abs(de-te-360)<1e-6,gridCenter:[Mt,en],gridControlAngles:new Array(Hr).fill(0).map((fi,dr,_r)=>(de-te)/Hr*dr)}}}return{}}const Ha=n=>{const{order:i,size:a,position:o,orientation:l,labelFormatter:p,tickFilter:v,tickCount:S,tickMethod:R,important:P={},style:I={},indexBBox:k,title:z,grid:te=!1}=n,de=oc(n,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[be],value:Re,coordinate:Ie,theme:it})=>{const{bbox:ut}=Re,{domain:Mt}=be.getOptions(),en=li(be,Mt,S,p,v,R,o,Ie),Rn=k?en.map((dr,_r)=>{const lr=k.get(_r);return!lr||lr[0]!==dr.label?dr:Object.assign(Object.assign({},dr),{bbox:lr[1]})}):en,[Jn,nr]=po(Ie),mr=ea(o,ut,Jn,nr,Ie),{axis:Vr,axisArc:Hr={}}=it,fi=hu((0,Ui.Z)({},Vr,Hr,mr,Object.assign(Object.assign({type:"arc",data:Rn,titleText:au(z),grid:te},de),P)));return new Cs.R({style:(0,su.Z)(fi,["transform"])})}};function wo(n,i,a,o,l,p){const v=a.axis,S=["top","right","bottom","left"].includes(l)?a[`axis${fn(l)}`]:a.axisLinear,R=n.getOptions().name,P=a[`axis${(0,jn.Z)(R)}`]||{};return Object.assign({},v,S,P)}function zo(n,i,a,o,l,p){const v=wo(n,i,a,o,l,p);return l==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},v),{labelDirection:o==="right"?"negative":"positive"}),o==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:o==="right"?"negative":"positive",labelSpacing:o==="center"?0:4,titleSpacing:Nl(p)?10:0,tick:o==="center"?!1:void 0}):v}const rs=n=>{const{direction:i="left",important:a={},labelFormatter:o,order:l,orientation:p,actualPosition:v,position:S,size:R,style:P={},title:I,tickCount:k,tickFilter:z,tickMethod:te,transform:de,indexBBox:be}=n,Re=oc(n,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:Ie,value:it,coordinate:ut,theme:Mt})=>{const{bbox:en}=it,[Rn]=Ie,{domain:Jn,xScale:nr}=Rn.getOptions(),mr=zo(Rn,ut,Mt,i,S,p),Vr=Object.assign(Object.assign(Object.assign({},mr),P),Re),Hr=Ci(v||S,ut,n.plane),fi=Io(S,p,en,ut,nr),dr=so(ut),_r=li(Rn,Jn,k,o,z,te,S,ut),lr=be?_r.map((Rr,Gr)=>{const Qi=be.get(Gr);return!Qi||Qi[0]!==Rr.label?Rr:Object.assign(Object.assign({},Rr),{bbox:Qi[1]})}):_r,hr=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Vr),{type:"linear",data:lr,crossSize:R,titleText:au(I),labelOverlap:ti(de,Vr),grid:mo(Vr.grid,ut,Rn),gridLength:Hr,line:!0,indexBBox:be}),Vr.line?null:{lineOpacity:0}),fi),dr),a);return hr.labelOverlap.find(Rr=>Rr.type==="hide")&&(hr.crossSize=!1),new Cs.R({className:"axis",style:hu(hr)})}},Vo=n=>i=>{const{labelFormatter:a,labelFilter:o=()=>!0}=i;return l=>{var p;const{scales:[v]}=l,S=((p=v.getTicks)===null||p===void 0?void 0:p.call(v))||v.getOptions().domain,R=typeof a=="string"?Za(a):a,P=(k,z,te)=>o(S[z],z,S),I=Object.assign(Object.assign({},i),{labelFormatter:R,labelFilter:P,scale:v});return n(I)(l)}},Fs=Vo(rs),_u=Vo(Ha);Fs.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]},_u.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var bs=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Vs(n){const i=n%(Math.PI*2);return i===Math.PI/2?{titleTransform:"translate(0, 50%)"}:i>-Math.PI/2&&i<Math.PI/2?{titleTransform:"translate(50%, 0)"}:i>Math.PI/2&&i<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function vi(n,i,a,o){const{radar:l}=n,[p]=o,v=p.getOptions().name,[S,R]=ha(a),{axisRadar:P={}}=i;return Object.assign(Object.assign({},P),{grid:v==="position",gridConnect:"line",gridControlAngles:new Array(l.count).fill(0).map((I,k)=>(R-S)/l.count*k)})}const fa=n=>{const{important:i={}}=n,a=bs(n,["important"]);return o=>{const{theme:l,coordinate:p,scales:v}=o;return Fs(Object.assign(Object.assign(Object.assign({},a),Vs(n.orientation)),{important:Object.assign(Object.assign({},vi(n,l,p,v)),i)}))(o)}};fa.props=Object.assign(Object.assign({},Fs.props),{defaultPosition:"center"});var ta=A(63777),fo=A(49025),Ko=A(71350),es=A(50885),Mo=A(22397),ys=A(20949),Bc=A(97289),ec=A(64820),ff=A(27604),ld=A(25889),Ol=A(60817),al=A(91715),Dl=A(72807),Vc=A(2412),Qs=A(50664),$u=A(43489),Ru=A(90079),Wl=A(58420),tc=A(35433);function Ec(n,i){for(var a=1;a<n.length;a+=1){var o=n[a-1],l=n[a];if(i>=o&&i<=l)return[o,l]}return[i,i]}function cd(n,i,a){var o=Array.from(i),l=n.length;return new Array(l).fill(0).reduce(function(p,v,S){var R=o[S%o.length];return p+=" ".concat(n[S],":").concat(R).concat(S<l-1?" ".concat(n[S+1],":").concat(R):"")},"l(".concat(a==="horizontal"?"0":"270",")"))}function wc(n,i){var a=(0,xt.CR)(Ec(n,i),2),o=a[0],l=a[1];return{tick:i>(o+l)/2?l:o,range:[o,l]}}var Tl=(0,Wl.A)({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function ed(n){var i=n.orientation,a=n.size,o=n.length;return(0,tc._h)(i,[o,a],[a,o])}function Fc(n){var i=n.type,a=(0,xt.CR)(ed(n),2),o=a[0],l=a[1];return i==="size"?[["M",0,l],["L",0+o,0],["L",0+o,l],["Z"]]:[["M",0,l],["L",0,0],["L",0+o,0],["L",0+o,l],["Z"]]}function hc(n){return Fc(n)}function Sd(n){var i=n.orientation,a=n.color,o=n.block,l=n.partition,p;if((0,Ru.Z)(a)){var v=20;p=new Array(v).fill(0).map(function(P,I,k){return a(I/(k.length-1))})}else p=a;var S=p.length,R=p.map(function(P){return(0,Oe.lu)(P).toString()});return S?S===1?R[0]:o?cd(l,R,i):R.reduce(function(P,I,k){return P+=" ".concat(k/(S-1),":").concat(I)},"l(".concat((0,tc._h)(i,"0","270"),")")):""}function Oh(n){var i=n.orientation,a=n.range;if(!a)return[];var o=(0,xt.CR)(ed(n),2),l=o[0],p=o[1],v=(0,xt.CR)(a,2),S=v[0],R=v[1],P=(0,tc._h)(i,S*l,0),I=(0,tc._h)(i,0,S*p),k=(0,tc._h)(i,R*l,l),z=(0,tc._h)(i,p,R*p);return[["M",P,I],["L",P,z],["L",k,z],["L",k,I],["Z"]]}function Fd(n,i){var a=(0,ys.zs)(i,"track");n.maybeAppendByClassName(Tl.track,"path").styles((0,xt.pi)({d:Fc(i)},a))}function $d(n,i){var a=(0,ys.zs)(i,"selection"),o=Sd(i),l=n.maybeAppendByClassName(Tl.selection,"path").styles((0,xt.pi)({d:hc(i),fill:o},a)),p=l.maybeAppendByClassName(Tl.clipPath,"path").styles({d:Oh(i)}).node();l.style("clipPath",p)}var Xd=function(n){(0,xt.ZT)(i,n);function i(a){return n.call(this,a,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return i.prototype.render=function(a,o){var l=(0,es.Ys)(o).maybeAppendByClassName(Tl.trackGroup,"g");Fd(l,a);var p=(0,es.Ys)(o).maybeAppendByClassName(Tl.selectionGroup,"g");$d(p,a)},i}(Ko.w);function fd(n){return{min:Math.min.apply(Math,(0,xt.ev)([],(0,xt.CR)(n.map(function(i){return i.value})),!1)),max:Math.max.apply(Math,(0,xt.ev)([],(0,xt.CR)(n.map(function(i){return i.value})),!1))}}var Mc=function(n){(0,xt.ZT)(i,n);function i(a){var o=n.call(this,a,Qs.B0)||this;return o.eventToOffsetScale=new Oo.b({}),o.innerRibbonScale=new Oo.b({}),o.cacheLabelBBox=null,o.cacheHandleBBox=null,o.onHovering=function(l){var p=o.attributes,v=p.data,S=p.block;l.stopPropagation();var R=o.getValueByCanvasPoint(l);if(S){var P=wc(v.map(function(z){var te=z.value;return te}),R).range,I=o.getRealSelection(P);o.showIndicator((P[0]+P[1])/2,"".concat(I[0],"-").concat(I[1])),o.dispatchIndicated(R,P)}else{var k=o.getTickValue(R);o.showIndicator(k,"".concat(o.getRealValue(k))),o.dispatchIndicated(k)}},o.onDragStart=function(l){return function(p){p.stopPropagation(),o.attributes.slidable&&(o.target=l,o.prevValue=o.getTickValue(o.getValueByCanvasPoint(p)),document.addEventListener("mousemove",o.onDragging),document.addEventListener("touchmove",o.onDragging),document.addEventListener("mouseleave",o.onDragEnd),document.addEventListener("mouseup",o.onDragEnd),document.addEventListener("mouseup",o.onDragEnd),document.addEventListener("touchend",o.onDragEnd))}},o.onDragging=function(l){var p=o.target;o.updateMouse();var v=(0,xt.CR)(o.selection,2),S=v[0],R=v[1],P=o.getTickValue(o.getValueByCanvasPoint(l)),I=P-o.prevValue;p==="start"?S!==P&&o.updateSelection(P,R):p==="end"?R!==P&&o.updateSelection(S,P):p==="ribbon"&&I!==0&&(o.prevValue=P,o.updateSelection(I,I,!0))},o.onDragEnd=function(){o.style.cursor="pointer",document.removeEventListener("mousemove",o.onDragging),document.removeEventListener("touchmove",o.onDragging),document.removeEventListener("mouseup",o.onDragEnd),document.removeEventListener("touchend",o.onDragEnd)},o}return Object.defineProperty(i.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var a=this.attributes,o=a.width,l=a.height;return new Zn.b(0,0,o,l)},i.prototype.render=function(a,o){var l=this,p=a.showLabel;this.renderTitle((0,es.Ys)(o));var v=this.availableSpace,S=v.x,R=v.y,P=(0,es.Ys)(o).maybeAppendByClassName(Qs.Ec.contentGroup,"g").styles({transform:"translate(".concat(S,", ").concat(R,")")}),I=P.maybeAppendByClassName(Qs.Ec.labelGroup,"g").styles({zIndex:1});(0,Mo.z)(!!p,I,function(z){l.renderLabel(z)});var k=P.maybeAppendByClassName(Qs.Ec.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=P.maybeAppendByClassName(Qs.Ec.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(k),this.renderIndicator(P),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(i.prototype,"range",{get:function(){var a=this.attributes,o=a.data,l=a.domain;return l?{min:l[0],max:l[1]}:fd(o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonScale",{get:function(){var a=this.range,o=a.min,l=a.max;return this.innerRibbonScale.update({domain:[o,l],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonRange",{get:function(){var a=(0,xt.CR)(this.selection,2),o=a[0],l=a[1],p=this.ribbonScale;return[p.map(o),p.map(l)]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selection",{get:function(){var a=this.range,o=a.min,l=a.max,p=this.attributes.defaultValue,v=p===void 0?[o,l]:p,S=(0,xt.CR)(v,2),R=S[0],P=S[1];return[R,P]},enumerable:!1,configurable:!0}),i.prototype.ifHorizontal=function(a,o){return(0,tc._h)(this.attributes.orientation,typeof a=="function"?a():a,typeof o=="function"?o():o)},i.prototype.renderTitle=function(a){var o=this.attributes,l=o.showTitle,p=o.titleText,v=o.width,S=o.height,R=(0,ys.zs)(this.attributes,"title"),P=(0,xt.pi)((0,xt.pi)({},R),{width:v,height:S,text:p}),I=this;a.selectAll(Qs.Ec.title.class).data(l?[p]:[]).join(function(k){return k.append(function(){return new Vc.Dx({style:P})}).attr("className",Qs.Ec.title.name).each(function(){I.title=this})},function(k){return k.update(P)},function(k){return k.each(function(){I.title=void 0}).remove()})},Object.defineProperty(i.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var a=this.attributes,o=a.width,l=a.height;return new Zn.b(0,0,o,l)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelFixedSpacing",{get:function(){var a=this.attributes.showTick;return a?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelPosition",{get:function(){var a=this.attributes,o=a.orientation,l=a.labelDirection,p={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return p[o][l]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelBBox",{get:function(){var a,o=this.attributes.showLabel;if(!o)return new Zn.b(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var l=((a=this.label.querySelector(Ol.Ec.labelGroup.class))===null||a===void 0?void 0:a.children.slice(-1)[0]).getBBox(),p=l.width,v=l.height;return this.cacheLabelBBox=new Zn.b(0,0,p,v),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelShape",{get:function(){var a=this.attributes,o=a.showLabel,l=a.labelSpacing,p=l===void 0?0:l;if(!o)return{width:0,height:0,size:0,length:0};var v=this.labelBBox,S=v.width,R=v.height,P=this.ifHorizontal(R,S)+p+this.labelFixedSpacing,I=this.ifHorizontal(S,R);return{width:S,height:R,size:P,length:I}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonBBox",{get:function(){var a=this.attributes,o=a.showHandle,l=a.ribbonSize,p=this.availableSpace,v=p.width,S=p.height,R=this.labelShape,P=R.size,I=R.length,k=(0,xt.CR)(this.ifHorizontal([S,v],[v,S]),2),z=k[0],te=k[1],de=o?this.handleShape:{size:0,length:0},be=de.size,Re=de.length,Ie=this.handleOffsetRatio,it=0,ut=this.labelPosition;l?it=l:["bottom","right"].includes(ut)?it=Math.min(z-P,(z-be)/Ie):z*(1-Ie)>be?it=Math.max(z-P,0):it=Math.max((z-P-be)/Ie,0);var Mt=Math.max(Re,I),en=te-Mt,Rn=(0,xt.CR)(this.ifHorizontal([en,it],[it,en]),2),Jn=Rn[0],nr=Rn[1],mr=["top","left"].includes(ut)?P:0,Vr=(0,xt.CR)(this.ifHorizontal([Mt/2,mr],[mr,Mt/2]),2),Hr=Vr[0],fi=Vr[1];return new Zn.b(Hr,fi,Jn,nr)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonShape",{get:function(){var a=this.ribbonBBox,o=a.width,l=a.height;return this.ifHorizontal({size:l,length:o},{size:o,length:l})},enumerable:!1,configurable:!0}),i.prototype.renderRibbon=function(a){var o=this.attributes,l=o.data,p=o.type,v=o.orientation,S=o.color,R=o.block,P=(0,ys.zs)(this.attributes,"ribbon"),I=this.range,k=I.min,z=I.max,te=this.ribbonBBox,de=te.x,be=te.y,Re=this.ribbonShape,Ie=Re.length,it=Re.size,ut=(0,Bc.n)({transform:"translate(".concat(de,", ").concat(be,")"),length:Ie,size:it,type:p,orientation:v,color:S,block:R,partition:l.map(function(Mt){return(Mt.value-k)/(z-k)}),range:this.ribbonRange},P);this.ribbon=a.maybeAppendByClassName(Qs.Ec.ribbon,function(){return new Xd({style:ut})}).update(ut)},i.prototype.getHandleClassName=function(a){return"".concat(Qs.Ec.prefix("".concat(a,"-handle")))},i.prototype.renderHandles=function(){var a=this.attributes,o=a.showHandle,l=a.orientation,p=(0,ys.zs)(this.attributes,"handle"),v=(0,xt.CR)(this.selection,2),S=v[0],R=v[1],P=(0,xt.pi)((0,xt.pi)({},p),{orientation:l}),I=p.shape,k=I===void 0?"slider":I,z=k==="basic"?$u.H:Dl.H,te=this;this.handlesGroup.selectAll(Qs.Ec.handle.class).data(o?[{value:S,type:"start"},{value:R,type:"end"}]:[],function(de){return de.type}).join(function(de){return de.append(function(){return new z({style:P})}).attr("className",function(be){var Re=be.type;return"".concat(Qs.Ec.handle," ").concat(te.getHandleClassName(Re))}).each(function(be){var Re=be.type,Ie=be.value;this.update({labelText:Ie});var it="".concat(Re,"Handle");te[it]=this,this.addEventListener("pointerdown",te.onDragStart(Re))})},function(de){return de.update(P).each(function(be){var Re=be.value;this.update({labelText:Re})})},function(de){return de.each(function(be){var Re=be.type,Ie="".concat(Re,"Handle");te[Ie]=void 0}).remove()})},i.prototype.adjustHandles=function(){var a=(0,xt.CR)(this.selection,2),o=a[0],l=a[1];this.setHandlePosition("start",o),this.setHandlePosition("end",l)},Object.defineProperty(i.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Zn.b(0,0,0,0);var a=this.startHandle.getBBox(),o=a.width,l=a.height,p=this.endHandle.getBBox(),v=p.width,S=p.height,R=(0,xt.CR)([Math.max(o,v),Math.max(l,S)],2),P=R[0],I=R[1];return this.cacheHandleBBox=new Zn.b(0,0,P,I),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"handleShape",{get:function(){var a=this.handleBBox,o=a.width,l=a.height,p=(0,xt.CR)(this.ifHorizontal([l,o],[o,l]),2),v=p[0],S=p[1];return{width:o,height:l,size:v,length:S}},enumerable:!1,configurable:!0}),i.prototype.setHandlePosition=function(a,o){var l=this.attributes.handleFormatter,p=this.ribbonBBox,v=p.x,S=p.y,R=this.ribbonShape.size,P=this.getOffset(o),I=(0,xt.CR)(this.ifHorizontal([v+P,S+R*this.handleOffsetRatio],[v+R*this.handleOffsetRatio,S+P]),2),k=I[0],z=I[1],te=this.handlesGroup.select(".".concat(this.getHandleClassName(a))).node();te==null||te.update({transform:"translate(".concat(k,", ").concat(z,")"),formatter:l})},i.prototype.renderIndicator=function(a){var o=(0,ys.zs)(this.attributes,"indicator");this.indicator=a.maybeAppendByClassName(Qs.Ec.indicator,function(){return new al.z({})}).update(o)},Object.defineProperty(i.prototype,"labelData",{get:function(){var a=this,o=this.attributes.data;return o.reduce(function(l,p,v,S){var R,P,I=(R=p==null?void 0:p.id)!==null&&R!==void 0?R:v.toString();if(l.push((0,xt.pi)((0,xt.pi)({},p),{id:I,index:v,type:"value",label:(P=p==null?void 0:p.label)!==null&&P!==void 0?P:p.value.toString(),value:a.ribbonScale.map(p.value)})),v<S.length-1){var k=S[v+1],z=(0,xt.CR)([p.value,k.value],2),te=z[0],de=z[1],be=(te+de)/2;l.push((0,xt.pi)((0,xt.pi)({},p),{id:I,index:v,type:"range",range:[te,de],label:[te,de].join("~"),value:a.ribbonScale.map(be)}))}return l},[])},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelStyle",{get:function(){var a=(0,xt.CR)(["center","middle"],2),o=a[0],l=a[1],p=this.labelPosition;return p==="top"?l="bottom":p==="bottom"?l="top":p==="left"?o="end":p==="right"&&(o="start"),{labelTextAlign:o,labelTextBaseline:l}},enumerable:!1,configurable:!0}),i.prototype.renderLabel=function(a){var o=this.attributes,l=o.showTick,p=l===void 0?!1:l,v=o.labelFilter,S=o.labelFormatter,R=(0,ys.zs)(this.attributes,"tick"),P=(0,ys.zs)(this.attributes,"label"),I=P.align,k=(0,Bc.n)((0,xt.pi)({showLine:!1,showGrid:!1,showTick:p,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),(0,ys.dq)(R,"tick"),(0,ys.dq)(P,"label"),{data:this.labelData}),z={tickFilter:function(de,be,Re){return(de==null?void 0:de.type)!=="value"?!1:v?v(de,de.index,Re.filter(function(Ie){return Ie.type!=="value"})):!0},labelFilter:function(de,be,Re){return(de==null?void 0:de.type)!==I?!1:v?v(de,de.index,Re.filter(function(Ie){return Ie.type===I})):!0},labelFormatter:S},te=(0,xt.pi)((0,xt.pi)((0,xt.pi)({},k),z),{labelOverlap:[{type:"hide"}]});this.label=a.maybeAppendByClassName(Qs.Ec.label,function(){return new Cs.R({style:te})}).node(),this.label.update(te,!1)},Object.defineProperty(i.prototype,"labelAxisStyle",{get:function(){var a=this.attributes,o=a.showTick,l=a.labelDirection,p=a.labelSpacing,v=a.tickLength,S=this.ribbonShape.size,R=this.labelPosition,P=this.labelFixedSpacing,I=(0,xt.CR)([0,0,0],3),k=I[0],z=I[1],te=I[2],de=v!=null?v:S;return o?(te=de,z=P,l==="positive"?R==="right"?(k=de,te=de):R==="bottom"&&(k=te):l==="negative"&&(R==="top"||R==="left")&&(k=S)):l==="positive"?R==="right"?z=de:R==="bottom"&&(k=S+P,z=p):l==="negative"&&(R==="left"||R==="top")&&(z=p),{offset:k,spacing:z,tickLength:te}},enumerable:!1,configurable:!0}),i.prototype.adjustLabel=function(){var a=this.attributes.showLabel;if(a){var o=this.ribbonBBox,l=o.x,p=o.y,v=o.width,S=o.height,R=this.labelAxisStyle,P=R.offset,I=R.spacing,k=R.tickLength,z=(0,xt.CR)(this.ifHorizontal([[l,p+P],[l+v,p+P]],[[l+P,p+S],[l+P,p]]),2),te=z[0],de=z[1];this.label.update({startPos:te,endPos:de,tickLength:k,labelSpacing:I},!1)}},i.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},i.prototype.showIndicator=function(a,o){o===void 0&&(o="".concat(a));var l=this.attributes.showIndicator;if(!l||typeof a!="number"){this.hideIndicator();return}var p=this.range,v=p.min,S=p.max,R=this.ribbonBBox,P=R.x,I=R.y,k=(0,ta.Z)(a,v,S),z=this.getOffset(k),te=this.ifHorizontal([z+P,I],[P,z+I]);this.indicator.update({x:te[0],y:te[1],position:this.ifHorizontal("top","left"),labelText:o}),(0,ec.$Z)(this.indicator.node())},i.prototype.hideIndicator=function(){(0,ec.Cp)(this.indicator.node())},i.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},i.prototype.setSelection=function(a,o){this.updateSelection(a,o)},i.prototype.updateSelection=function(a,o,l){var p;l===void 0&&(l=!1);var v=(0,xt.CR)(this.selection,2),S=v[0],R=v[1],P=(0,xt.CR)([a,o],2),I=P[0],k=P[1];l&&(I+=S,k+=R);var z=this.range,te=z.min,de=z.max;p=(0,xt.CR)((0,tc.GU)([te,de],[I,k],this.selection),2),I=p[0],k=p[1],this.update({defaultValue:[I,k]}),this.dispatchSelection()},Object.defineProperty(i.prototype,"step",{get:function(){var a=this.attributes.step,o=a===void 0?1:a,l=this.range,p=l.min,v=l.max;return(0,fo.Z)(o)?(0,ff.Zd)((v-p)*Qs.D_,0):o},enumerable:!1,configurable:!0}),i.prototype.getTickValue=function(a){var o=this.attributes,l=o.data,p=o.block,v=this.range.min;return p?wc(l.map(function(S){var R=S.value;return R}),a).tick:(0,tc.jN)(a,this.step,v)},i.prototype.getValueByCanvasPoint=function(a){var o=this.range,l=o.min,p=o.max,v=(0,xt.CR)(this.ribbon.node().getPosition(),2),S=v[0],R=v[1],P=this.ifHorizontal(S,R),I=this.ifHorizontal.apply(this,(0,xt.ev)([],(0,xt.CR)((0,ld.s)(a)),!1)),k=I-P,z=(0,ta.Z)(this.getOffset(k,!0),l,p);return z},i.prototype.getOffset=function(a,o){o===void 0&&(o=!1);var l=this.range,p=l.min,v=l.max,S=this.ribbonShape.length,R=this.eventToOffsetScale;return R.update({domain:[p,v],range:[0,S]}),o?R.invert(a):R.map(a)},i.prototype.getRealSelection=function(a){var o=this.range.max,l=(0,xt.CR)(a,2),p=l[0],v=l[1];return this.ifHorizontal([p,v],[o-v,o-p])},i.prototype.getRealValue=function(a){var o=this.range.max;return this.ifHorizontal(a,o-a)},i.prototype.dispatchSelection=function(){var a=this.getRealSelection(this.selection),o=new Oe.Aw("valuechange",{detail:{value:a}});this.dispatchEvent(o)},i.prototype.dispatchIndicated=function(a,o){var l=this,p=this.range.max,v=this.ifHorizontal(function(){return{value:a,range:o}},function(){return{value:p-a,range:o?l.getRealSelection(o):void 0}}),S=new Oe.Aw("indicate",{detail:v});this.dispatchEvent(S)},i}(Ko.w),Uc=A(22355),md=A(77341),vd=A(39429);class yd extends vd.X{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:md.Z}}map(i){const[a]=this.options.range;return a!==void 0?a:this.options.unknown}invert(i){const[a]=this.options.range;return i===a&&a!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:i,domain:a,tickCount:o}=this.options,[l,p]=a;return!(0,Uc.Z)(l)||!(0,Uc.Z)(p)?[]:i(l,p,o)}clone(){return new yd(this.options)}}var df=A(48478),Ef=A(88784);class Yf extends vd.X{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(i){super(i)}map(i){if(!(0,df.J)(i))return this.options.unknown;const a=(0,Ef.b)(this.thresholds,i,0,this.n);return this.options.range[a]}invert(i){const{range:a}=this.options,o=a.indexOf(i),l=this.thresholds;return[l[o-1],l[o]]}clone(){return new Yf(this.options)}rescale(){const{domain:i,range:a}=this.options;this.n=Math.min(i.length,a.length-1),this.thresholds=i}}var $f=A(54663),td=A(65443);function Ad(n){return(0,$f.Z)(n)?0:(0,td.Z)(n)?n.length:Object.keys(n).length}var kl=function(n,i){if(!(0,td.Z)(n))return-1;var a=Array.prototype.indexOf;if(a)return a.call(n,i);for(var o=-1,l=0;l<n.length;l++)if(n[l]===i){o=l;break}return o},Bl=kl;function _d(n){return Math.abs(n)<1e-14?n:parseFloat(n.toFixed(14))}const Of=[1,5,2,2.5,4,3],hf=null,Ud=Number.EPSILON*100;function dd(n,i){return(n%i+i)%i}function pf(n){return Math.round(n*1e12)/1e12}function nd(n,i,a,o,l,p){const v=Ad(i),S=Bl(i,n);let R=0;const P=dd(o,p);return(P<Ud||p-P<Ud)&&o<=0&&l>=0&&(R=1),1-S/(v-1)-a+R}function Kd(n,i,a){const o=Ad(i);return 1-Bl(i,n)/(o-1)-a+1}function sc(n,i,a,o,l,p){const v=(n-1)/(p-l),S=(i-1)/(Math.max(p,o)-Math.min(a,l));return 2-Math.max(v/S,S/v)}function Gc(n,i){return n>=i?2-(n-1)/(i-1):1}function ee(n,i,a,o){const l=i-n;return 1-.5*(p0(i-o,2)+p0(n-a,2))/p0(.1*l,2)}function Me(n,i,a){const o=i-n;if(a>o){const l=(a-o)/2;return 1-p0(l,2)/p0(.1*o,2)}return 1}function Ve(){return 1}const Tt=(n,i,a=5,o=!0,l=Of,p=[.25,.2,.5,.05])=>{const v=a<0?0:Math.round(a);if(Number.isNaN(n)||Number.isNaN(i)||typeof n!="number"||typeof i!="number"||!v)return[];if(i-n<1e-15||v===1)return[n];const S={score:-2,lmin:0,lmax:0,lstep:0};let R=1;for(;R<1/0;){for(let de=0;de<l.length;de+=1){const be=l[de],Re=Kd(be,l,R);if(p[0]*Re+p[1]+p[2]+p[3]<S.score){R=1/0;break}let Ie=2;for(;Ie<1/0;){const it=Gc(Ie,v);if(p[0]*Re+p[1]+p[2]*it+p[3]<S.score)break;const ut=(i-n)/(Ie+1)/R/be;let Mt=Math.ceil(Math.log10(ut));for(;Mt<1/0;){const en=R*be*p0(10,Mt),Rn=Me(n,i,en*(Ie-1));if(p[0]*Re+p[1]*Rn+p[2]*it+p[3]<S.score)break;const Jn=Math.floor(i/en)*R-(Ie-1)*R,nr=Math.ceil(n/en)*R;if(Jn<=nr){const mr=nr-Jn;for(let Vr=0;Vr<=mr;Vr+=1){const fi=(Jn+Vr)*(en/R),dr=fi+en*(Ie-1),_r=en,lr=nd(be,l,R,fi,dr,_r),hr=ee(n,i,fi,dr),Ti=sc(Ie,v,n,i,fi,dr),Rr=Ve(),Gr=p[0]*lr+p[1]*hr+p[2]*Ti+p[3]*Rr;Gr>S.score&&(!o||fi<=n&&dr>=i)&&(S.lmin=fi,S.lmax=dr,S.lstep=_r,S.score=Gr)}}Mt+=1}Ie+=1}}R+=1}const P=_d(S.lmax),I=_d(S.lmin),k=_d(S.lstep),z=Math.floor(pf((P-I)/k))+1,te=new Array(z);te[0]=_d(I);for(let de=1;de<z;de+=1)te[de]=_d(te[de-1]+k);return te};var pn=A(91915);class yn extends Yf{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:Tt}}constructor(i){super(i)}nice(){const{nice:i}=this.options;if(i){const[a,o,l]=this.getTickMethodOptions();this.options.domain=(0,pn.n)(a,o,l)}}getTicks(){const{tickMethod:i}=this.options,[a,o,l]=this.getTickMethodOptions();return i(a,o,l)}getTickMethodOptions(){const{domain:i,tickCount:a}=this.options,o=i[0],l=i[i.length-1];return[o,l,a]}rescale(){this.nice();const{range:i,domain:a}=this.options,[o,l]=a;this.n=i.length-1,this.thresholds=new Array(this.n);for(let p=0;p<this.n;p+=1)this.thresholds[p]=((p+1)*l-(p-this.n)*o)/(this.n+1)}invert(i){const[a,o]=super.invert(i),[l,p]=this.options.domain;return a===void 0&&o===void 0?[a,o]:[a||l,o||p]}getThresholds(){return this.thresholds}clone(){return new yn(this.options)}}function Vn(n,i){const a=n.length;if(!a)return;if(a<2)return n[a-1];const o=(a-1)*i,l=Math.floor(o),p=n[l],v=n[l+1];return p+(v-p)*(o-l)}function Pr(n,i,a=!1){const o=n;a||o.sort((p,v)=>p-v);const l=[];for(let p=1;p<i;p+=1)l.push(Vn(o,p/i));return l}class Zi extends Yf{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:Tt}}constructor(i){super(i)}rescale(){const{domain:i,range:a}=this.options;this.n=a.length-1,this.thresholds=Pr(i,this.n+1,!1)}invert(i){const[a,o]=super.invert(i),{domain:l}=this.options,p=l[0],v=l[l.length-1];return a===void 0&&o===void 0?[a,o]:[a||p,o||v]}getThresholds(){return this.thresholds}clone(){return new Zi(this.options)}getTicks(){const{tickCount:i,domain:a,tickMethod:o}=this.options,l=a.length-1,p=a[0],v=a[l];return o(p,v,i)}}var ji=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Dt(n,i,a){return n.size=i,Mu(a)?n.height=i:n.width=i,n}function Ta(n,i,a){const{size:o}=i,l=Ks(n,i,a);return Dt(l,o,l.orientation)}function ba(n){return i=>({value:i/n,label:String(i)})}function yi(n,i,a,o,l){const p=i.thresholds,v=ba(o);return Object.assign(Object.assign({},n),{color:l,data:[a,...p,o].map(v)})}function ko(n,i,a){const l=[-1/0,...i.thresholds,1/0].map((p,v)=>({value:v,label:p}));return Object.assign(Object.assign({},n),{data:l,color:a,labelFilter:(p,v)=>v>0&&v<l.length-1})}function pu(n){const{domain:i}=n.getOptions(),[a,o]=[i[0],Sn(i)];return[a,o]}function gu(n,i){const a=n.getOptions(),o=n.clone();return o.update(Object.assign(Object.assign({},a),{range:[(0,Oe.lu)(i).toString()]})),o}function ps(n,i,a,o,l,p){const{length:v}=n,S=a||o,R=l.color?p.legendContinuous.ribbonFill||"black":p.color,P=i||gu(S,R),[I,k]=pu(P),[z,te]=pu([i,a,o].filter(de=>de!==void 0).find(de=>!(de instanceof yd)));return Object.assign(Object.assign({},n),{domain:[z,te],data:P.getTicks().map(de=>({value:de})),color:new Array(Math.floor(v)).fill(0).map((de,be)=>{const Re=(k-I)/(v-1)*be+I,Ie=P.map(Re)||R,it=o?o.map(Re):1;return Ie.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(ut,Mt,en,Rn)=>`rgba(${Mt}, ${en}, ${Rn}, ${it})`)})})}function Zs(n,i,a,o,l,p){const v=Lu(n,"color"),S=Ta(a,o,l);if(v instanceof Yf){const{range:I}=v.getOptions(),[k,z]=pu(v);return v instanceof yn||v instanceof Zi?yi(S,v,k,z,I):ko(S,v,I)}const R=Lu(n,"size"),P=Lu(n,"opacity");return ps(S,v,R,P,i,p)}const ss=n=>{const{labelFormatter:i,layout:a,order:o,orientation:l,position:p,size:v,title:S,style:R,crossPadding:P,padding:I}=n,k=ji(n,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:z,value:te,theme:de,scale:be})=>{const{bbox:Re}=te,{x:Ie,y:it,width:ut,height:Mt}=Re,en=as(p,a),{legendContinuous:Rn={}}=de,Jn=hu(Object.assign({},Rn,Object.assign(Object.assign({titleText:au(S),labelAlign:"value",labelFormatter:typeof i=="string"?mr=>Za(i)(mr.label):i},Zs(z,be,te,n,ss,de)),R),k)),nr=new $s({style:Object.assign(Object.assign({x:Ie,y:it,width:ut,height:Mt},en),{subOptions:Jn})});return nr.appendChild(new Mc({className:"legend-continuous",style:Jn})),nr}};ss.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const wl=n=>(...i)=>ss(Object.assign({},{block:!0},n))(...i);wl.props=Object.assign(Object.assign({},ss.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const ol=n=>i=>{const{scales:a}=i,o=Lu(a,"size");return ss(Object.assign({},{type:"size",data:o.getTicks().map((l,p)=>({value:l,label:String(l)}))},n))(i)};ol.props=Object.assign(Object.assign({},ss.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const Lo=n=>ol(Object.assign({},{block:!0},n));Lo.props=Object.assign(Object.assign({},ss.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var Fl=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Rl=({static:n=!1}={})=>i=>{const{width:a,height:o,depth:l,paddingLeft:p,paddingRight:v,paddingTop:S,paddingBottom:R,padding:P,inset:I,insetLeft:k,insetTop:z,insetRight:te,insetBottom:de,margin:be,marginLeft:Re,marginBottom:Ie,marginTop:it,marginRight:ut,data:Mt,coordinate:en,theme:Rn,component:Jn,interaction:nr,x:mr,y:Vr,z:Hr,key:fi,frame:dr,labelTransform:_r,parentKey:lr,clip:hr,viewStyle:Ti,title:Rr}=i,Gr=Fl(i,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:mr,y:Vr,z:Hr,key:fi,width:a,height:o,depth:l,padding:P,paddingLeft:p,paddingRight:v,paddingTop:S,inset:I,insetLeft:k,insetTop:z,insetRight:te,insetBottom:de,paddingBottom:R,theme:Rn,coordinate:en,component:Jn,interaction:nr,frame:dr,labelTransform:_r,margin:be,marginLeft:Re,marginBottom:Ie,marginTop:it,marginRight:ut,parentKey:lr,clip:hr,style:Ti},!n&&{title:Rr}),{marks:[Object.assign(Object.assign(Object.assign({},Gr),{key:`${fi}-0`,data:Mt}),n&&{title:Rr})]})]};Rl.props={};var Kl=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function xu(n){return(i,...a)=>(0,Ui.Z)({},n(i,...a),i)}function xc(n){return(i,...a)=>(0,Ui.Z)({},i,n(i,...a))}function Vl(n){return n instanceof Date?!1:typeof n=="object"}function Js(n,i){if(!n)return i;if(Array.isArray(n))return n;if(Vl(n)){const{value:a=i}=n,o=Kl(n,["value"]);return Object.assign(Object.assign({},o),{value:a})}return n}var mu=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Nu=()=>n=>{const{children:i}=n,a=mu(n,["children"]);if(!Array.isArray(i))return[];const{data:o,scale:l={},axis:p={},legend:v={},encode:S={},transform:R=[]}=a,P=mu(a,["data","scale","axis","legend","encode","transform"]),I=i.map(k=>{var{data:z,scale:te={},axis:de={},legend:be={},encode:Re={},transform:Ie=[]}=k,it=mu(k,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:Js(z,o),scale:(0,Ui.Z)({},l,te),encode:(0,Ui.Z)({},S,Re),transform:[...R,...Ie],axis:de&&p?(0,Ui.Z)({},p,de):!1,legend:be&&v?(0,Ui.Z)({},v,be):!1},it)});return[Object.assign(Object.assign({},P),{marks:I,type:"standardView"})]};Nu.props={};function vu([n,i],[a,o]){return[n-a,i-o]}function yc([n,i],[a,o]){return[n+a,i+o]}function bl([n,i],[a,o]){return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))}function pc([n,i]){return Math.atan2(i,n)}function Hi([n,i]){return pc([n,i])+Math.PI/2}function Yc(n,i){const a=pc(n),o=pc(i);return a<o?o-a:Math.PI*2-(a-o)}function js(n){let i=1/0,a=-1/0,o=1/0,l=-1/0;for(const[S,R]of n)i=Math.min(S,i),a=Math.max(S,a),o=Math.min(R,o),l=Math.max(R,l);const p=a-i,v=l-o;return[i,o,p,v]}function Li([n,i],[a,o]){return[(n+a)/2,(i+o)/2]}function $o(n,i){for(const[a,o]of Object.entries(i))n.style(a,o)}function $c(n,i){return i.forEach((a,o)=>o===0?n.moveTo(a[0],a[1]):n.lineTo(a[0],a[1])),n.closePath(),n}function nc(n,i,a){const{arrowSize:o}=a,l=typeof o=="string"?+parseFloat(o)/100*bl(n,i):o,p=Math.PI/6,v=Math.atan2(i[1]-n[1],i[0]-n[0]),S=Math.PI/2-v-p,R=[i[0]-l*Math.sin(S),i[1]-l*Math.cos(S)],P=v-p,I=[i[0]-l*Math.cos(P),i[1]-l*Math.sin(P)];return[R,I]}function rd(n,i,a,o,l){const p=pc(vu(o,i))+Math.PI,v=pc(vu(o,a))+Math.PI;return n.arc(o[0],o[1],l,p,v,v-p<0),n}function qu(n,i,a,o="y",l="between",p=!1){const v=(Re,Ie)=>Re==="y"||Re===!0?Ie?180:90:Ie?90:0,S=o==="y"||o===!0?a:i,R=v(o,p),P=wu(S),[I,k]=ru(P,Re=>S[Re]),z=new Oo.b({domain:[I,k],range:[0,100]}),te=Re=>(0,Uc.Z)(S[Re])&&!Number.isNaN(S[Re])?z.map(S[Re]):0,de={between:Re=>`${n[Re]} ${te(Re)}%`,start:Re=>Re===0?`${n[Re]} ${te(Re)}%`:`${n[Re-1]} ${te(Re)}%, ${n[Re]} ${te(Re)}%`,end:Re=>Re===n.length-1?`${n[Re]} ${te(Re)}%`:`${n[Re]} ${te(Re)}%, ${n[Re+1]} ${te(Re)}%`},be=P.sort((Re,Ie)=>te(Re)-te(Ie)).map(de[l]||de.between).join(",");return`linear-gradient(${R}deg, ${be})`}function b(n){const[i,a,o,l]=n;return[l,i,a,o]}function L(n,i,a){const[o,l,,p]=Xo(n)?b(i):i,[v,S]=a,R=n.getCenter(),P=Hi(vu(o,R)),I=Hi(vu(l,R)),k=I===P&&v!==S?I+Math.PI*2:I;return{startAngle:P,endAngle:k-P>=0?k:Math.PI*2+k,innerRadius:bl(p,R),outerRadius:bl(o,R)}}function we(n){const i="connect";return Object.fromEntries(Object.entries(n).filter(([a])=>a.startsWith(i)).map(([a,o])=>[lowerFirst(a.replace(i,"").trim()),o]).filter(([a])=>a!==void 0))}function On(n){const{colorAttribute:i,opacityAttribute:a=i}=n;return`${a}Opacity`}function _i(n,i){if(!wt(n))return"";const a=n.getCenter(),{transform:o}=i;return`translate(${a[0]}, ${a[1]}) ${o||""}`}function Oa(n){if(n.length===1)return n[0];const[[i,a,o=0],[l,p,v=0]]=n;return[(i+l)/2,(a+p)/2,(o+v)/2]}function Xa(n){return n.replace(/-(\w)/g,function(i,a){return a.toUpperCase()})}function ts(n){return n.replace(/([A-Z])/g,"-$1").toLowerCase()}var is=A(23271),Co=Array.prototype.slice;function Vu(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function ul(n){return function(){return n}}function ef(n){this._context=n}ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;default:this._context.lineTo(n,i);break}}};function Tc(n){return new ef(n)}const _h=Math.PI,bh=2*_h,rh=1e-6,ho=bh-rh;function Yo(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=arguments[i]+n[i]}function cu(n){let i=Math.floor(n);if(!(i>=0))throw new Error(`invalid digits: ${n}`);if(i>15)return Yo;const a=p0(10,i);return function(o){this._+=o[0];for(let l=1,p=o.length;l<p;++l)this._+=Math.round(arguments[l]*a)/a+o[l]}}class el{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?Yo:cu(i)}moveTo(i,a){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,a){this._append`L${this._x1=+i},${this._y1=+a}`}quadraticCurveTo(i,a,o,l){this._append`Q${+i},${+a},${this._x1=+o},${this._y1=+l}`}bezierCurveTo(i,a,o,l,p,v){this._append`C${+i},${+a},${+o},${+l},${this._x1=+p},${this._y1=+v}`}arcTo(i,a,o,l,p){if(i=+i,a=+a,o=+o,l=+l,p=+p,p<0)throw new Error(`negative radius: ${p}`);let v=this._x1,S=this._y1,R=o-i,P=l-a,I=v-i,k=S-a,z=I*I+k*k;if(this._x1===null)this._append`M${this._x1=i},${this._y1=a}`;else if(z>rh)if(!(Math.abs(k*R-P*I)>rh)||!p)this._append`L${this._x1=i},${this._y1=a}`;else{let te=o-v,de=l-S,be=R*R+P*P,Re=te*te+de*de,Ie=Math.sqrt(be),it=Math.sqrt(z),ut=p*Math.tan((_h-Math.acos((be+z-Re)/(2*Ie*it)))/2),Mt=ut/it,en=ut/Ie;Math.abs(Mt-1)>rh&&this._append`L${i+Mt*I},${a+Mt*k}`,this._append`A${p},${p},0,0,${+(k*te>I*de)},${this._x1=i+en*R},${this._y1=a+en*P}`}}arc(i,a,o,l,p,v){if(i=+i,a=+a,o=+o,v=!!v,o<0)throw new Error(`negative radius: ${o}`);let S=o*Math.cos(l),R=o*Math.sin(l),P=i+S,I=a+R,k=1^v,z=v?l-p:p-l;this._x1===null?this._append`M${P},${I}`:(Math.abs(this._x1-P)>rh||Math.abs(this._y1-I)>rh)&&this._append`L${P},${I}`,o&&(z<0&&(z=z%bh+bh),z>ho?this._append`A${o},${o},0,1,${k},${i-S},${a-R}A${o},${o},0,1,${k},${this._x1=P},${this._y1=I}`:z>rh&&this._append`A${o},${o},0,${+(z>=_h)},${k},${this._x1=i+o*Math.cos(p)},${this._y1=a+o*Math.sin(p)}`)}rect(i,a,o,l){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+a}h${o=+o}v${+l}h${-o}Z`}toString(){return this._}}function Hs(){return new el}Hs.prototype=el.prototype;function Xf(n=3){return new el(+n)}function tf(n){let i=3;return n.digits=function(a){if(!arguments.length)return i;if(a==null)i=null;else{const o=Math.floor(a);if(!(o>=0))throw new RangeError(`invalid digits: ${a}`);i=o}return n},()=>new el(i)}function Gl(n){return n[0]}function Uf(n){return n[1]}function rc(n,i){var a=ul(!0),o=null,l=Tc,p=null,v=tf(S);n=typeof n=="function"?n:n===void 0?Gl:ul(n),i=typeof i=="function"?i:i===void 0?Uf:ul(i);function S(R){var P,I=(R=Vu(R)).length,k,z=!1,te;for(o==null&&(p=l(te=v())),P=0;P<=I;++P)!(P<I&&a(k=R[P],P,R))===z&&((z=!z)?p.lineStart():p.lineEnd()),z&&p.point(+n(k,P,R),+i(k,P,R));if(te)return p=null,te+""||null}return S.x=function(R){return arguments.length?(n=typeof R=="function"?R:ul(+R),S):n},S.y=function(R){return arguments.length?(i=typeof R=="function"?R:ul(+R),S):i},S.defined=function(R){return arguments.length?(a=typeof R=="function"?R:ul(!!R),S):a},S.curve=function(R){return arguments.length?(l=R,o!=null&&(p=l(o)),S):l},S.context=function(R){return arguments.length?(R==null?o=p=null:p=l(o=R),S):o},S}function Du(n){const i=typeof n=="function"?n:n.render;return class extends Oe.b_{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){i(this)}}}var zc=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function zf(n){const{min:[i,a],max:[o,l]}=n.getLocalBounds();let p=0,v=0;return i>0&&(p=i),o<0&&(p=o),a>0&&(v=a),l<0&&(v=l),[p,v]}function Qu(n,i=[]){const[a=0,o=0,l=a,p=o]=i,v=n.parentNode,S=v.getEulerAngles();v.setEulerAngles(0);const{min:R,halfExtents:P}=n.getLocalBounds(),[I,k]=R,[z,te]=P;return v.setEulerAngles(S),{x:I-p,y:k-a,width:z*2+p+o,height:te*2+a+l}}const xp=(n,i,a)=>{const o=dist(n,i),l=dist(i,a),p=dist(a,n);return(Math.pow(o,2)+Math.pow(l,2)-Math.pow(p,2))/(2*o*l)};function Zf(n,i,a,o,l=!0,p=!0){const v=k=>rc()(k);if(!i[0]&&!i[1])return v([zf(n),i]);if(!a.length)return v([[0,0],i]);const[S,R]=a,P=[...R],I=[...S];if(R[0]!==S[0]){const k=l?-4:4;P[1]=R[1],p&&!l&&(P[0]=Math.max(S[0],R[0]-k),R[1]<S[1]?I[1]=P[1]:(I[1]=S[1],I[0]=Math.max(I[0],P[0]-k))),!p&&!l&&(P[0]=Math.max(S[0],R[0]-k),R[1]>S[1]?I[1]=P[1]:(I[1]=S[1],I[0]=Math.max(I[0],P[0]-k))),!p&&l&&(P[0]=Math.min(S[0],R[0]-k),R[1]>S[1]?I[1]=P[1]:(I[1]=S[1],I[0]=Math.min(I[0],P[0]-k))),p&&l&&(P[0]=Math.min(S[0],R[0]-k),R[1]<S[1]?I[1]=P[1]:(I[1]=S[1],I[0]=Math.min(I[0],P[0]-k)))}return v([R,P,I,S,i])}const Gh=Du(n=>{const i=n.attributes,{className:a,class:o,transform:l,rotate:p,labelTransform:v,labelTransformOrigin:S,x:R,y:P,x0:I=R,y0:k=P,text:z,background:te,connector:de,startMarker:be,endMarker:Re,coordCenter:Ie,innerHTML:it}=i,ut=zc(i,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(n.style.transform=`translate(${R}, ${P})`,[R,P,I,k].some(Rr=>!(0,Uc.Z)(Rr))){n.children.forEach(Rr=>Rr.remove());return}const Mt=jt(ut,"background"),{padding:en}=Mt,Rn=zc(Mt,["padding"]),Jn=jt(ut,"connector"),{points:nr=[]}=Jn,mr=zc(Jn,["points"]);let Vr;it?Vr=Ii(n).maybeAppend("html","html",a).style("zIndex",0).style("innerHTML",it).call($o,Object.assign({transform:v,transformOrigin:S},ut)).node():Vr=Ii(n).maybeAppend("text","text").style("zIndex",0).style("text",z).call($o,Object.assign({textBaseline:"middle",transform:v,transformOrigin:S},ut)).node();const Hr=Ii(n).maybeAppend("background","rect").style("zIndex",-1).call($o,Qu(Vr,en)).call($o,te?Rn:{}).node(),fi=+I<Ie[0],dr=+k<Ie[1],_r=[+I-+R,+k-+P],lr=Zf(Hr,_r,nr,Ie,fi,dr),hr=be&&new is.J({id:"startMarker",style:Object.assign({x:0,y:0},jt(ut,"startMarker"))}),Ti=Re&&new is.J({id:"endMarker",style:Object.assign({x:0,y:0},jt(ut,"endMarker"))});Ii(n).maybeAppend("connector","path").style("zIndex",0).style("d",lr).style("markerStart",hr).style("markerEnd",Ti).call($o,de?mr:{})});function ih(n,i){let a,o=-1,l=-1;if(i===void 0)for(const p of n)++l,p!=null&&(a<p||a===void 0&&p>=p)&&(a=p,o=l);else for(let p of n)(p=i(p,++l,n))!=null&&(a<p||a===void 0&&p>=p)&&(a=p,o=l);return o}function Tp(n,i,a,o){const l=i.length/2,p=i.slice(0,l),v=i.slice(l);let S=ih(p,(te,de)=>Math.abs(te[1]-v[de][1]));S=Math.max(Math.min(S,l-2),1);const R=te=>[p[te][0],(p[te][1]+v[te][1])/2],P=R(S),I=R(S-1),k=R(S+1),z=pc(vu(k,I))/Math.PI*180;return{x:P[0],y:P[1],transform:`rotate(${z})`,textAlign:"center",textBaseline:"middle"}}function Z0(n,i,a,o){const{bounds:l}=a,[[p,v],[S,R]]=l,P=S-p,I=R-v,k=z=>{const{x:te,y:de}=z,be=Gi(a.x,P),Re=Gi(a.y,I);return Object.assign(Object.assign({},z),{x:(be||te)+p,y:(Re||de)+v})};return k(n==="left"?{x:0,y:I/2,textAlign:"start",textBaseline:"middle"}:n==="right"?{x:P,y:I/2,textAlign:"end",textBaseline:"middle"}:n==="top"?{x:P/2,y:0,textAlign:"center",textBaseline:"top"}:n==="bottom"?{x:P/2,y:I,textAlign:"center",textBaseline:"bottom"}:n==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:n==="top-right"?{x:P,y:0,textAlign:"end",textBaseline:"top"}:n==="bottom-left"?{x:0,y:I,textAlign:"start",textBaseline:"bottom"}:n==="bottom-right"?{x:P,y:I,textAlign:"end",textBaseline:"bottom"}:{x:P/2,y:I/2,textAlign:"center",textBaseline:"middle"})}function wh(n,i,a,o){const{y:l,y1:p,autoRotate:v,rotateToAlignArc:S}=a,R=o.getCenter(),P=L(o,i,[l,p]),{innerRadius:I,outerRadius:k,startAngle:z,endAngle:te}=P,de=n==="inside"?(z+te)/2:te,be=xf(de,v,S),Re=(()=>{const[Ie,it]=i,ut=I+(k-I)*.5,[Mt,en]=n==="inside"?Sc(R,de,ut):Li(Ie,it);return{x:Mt,y:en}})();return Object.assign(Object.assign({},Re),{textAlign:n==="inside"?"center":"start",textBaseline:"middle",rotate:be})}function Sc(n,i,a){return[n[0]+Math.sin(i)*a,n[1]-Math.cos(i)*a]}function xf(n,i,a){if(!i)return 0;const o=a?0:Math.sin(n)<0?90:-90;return n/Math.PI*180+o}function m0(n,i,a,o){const{y:l,y1:p,autoRotate:v,rotateToAlignArc:S,radius:R=.5,offset:P=0}=a,I=L(o,i,[l,p]),{startAngle:k,endAngle:z}=I,te=o.getCenter(),de=(k+z)/2,Re={textAlign:"center",textBaseline:"middle",rotate:xf(de,v,S)},{innerRadius:Ie,outerRadius:it}=I,Mt=Ie+(it-Ie)*R+P,[en,Rn]=Sc(te,de,Mt);return Object.assign({x:en,y:Rn},Re)}function ah(n){return n===void 0?null:n}function gf(n,i,a,o){const{bounds:l}=a,[p]=l;return{x:ah(p[0]),y:ah(p[1])}}function Xc(n,i,a,o){const{bounds:l}=a;return l.length===1?gf(n,i,a,o):(er(o)?wh:xr(o)?m0:Z0)(n,i,a,o)}function P0(n,i,a,o,l){const[p,v]=Sc(n,i,a),[S,R]=Sc(n,i,o),P=Math.sin(i)>0?1:-1;return[[p,v],[S,R],[S+P*l,R]]}function Rd(n,i,a){const o=L(a,n,[i.y,i.y1]),{innerRadius:l,outerRadius:p}=o;return l+(p-l)}function oh(n,i,a){const o=L(a,n,[i.y,i.y1]),{startAngle:l,endAngle:p}=o;return(l+p)/2}function nf(n,i,a,o){const{autoRotate:l,rotateToAlignArc:p,offset:v=0,connector:S=!0,connectorLength:R=v,connectorLength2:P=0,connectorDistance:I=0}=a,k=o.getCenter(),z=oh(i,a,o),te=Math.sin(z)>0?1:-1,de=xf(z,l,p),be={textAlign:te>0||er(o)?"start":"end",textBaseline:"middle",rotate:de},Re=Rd(i,a,o),Ie=Re+(S?R:v),[[it,ut],[Mt,en],[Rn,Jn]]=P0(k,z,Re,Ie,S?P:0),nr=S?+I*te:0,mr=Rn+nr,Vr=Jn,Hr={connector:S,connectorPoints:[[Mt-mr,en-Vr],[Rn-mr,Jn-Vr]]};return Object.assign(Object.assign({x0:it,y0:ut,x:Rn+nr,y:Jn},be),Hr)}function zd(n,i,a,o){const{bounds:l}=a;return l.length===1?gf(n,i,a,o):(er(o)?wh:xr(o)?nf:Z0)(n,i,a,o)}function Sl(n,i){return n==null||i==null?NaN:n<i?-1:n>i?1:n>=i?0:NaN}function Zd(n,i){return Array.from(i,a=>n[a])}function hd(n,...i){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[a]=i;if(a&&a.length!==2||i.length>1){const o=Uint32Array.from(n,(l,p)=>p);return i.length>1?(i=i.map(l=>n.map(l)),o.sort((l,p)=>{for(const v of i){const S=Pd(v[l],v[p]);if(S)return S}})):(a=n.map(a),o.sort((l,p)=>Pd(a[l],a[p]))),Zd(n,o)}return n.sort(Mh(a))}function Mh(n=Sl){if(n===Sl)return Pd;if(typeof n!="function")throw new TypeError("compare is not a function");return(i,a)=>{const o=n(i,a);return o||o===0?o:(n(a,a)===0)-(n(i,i)===0)}}function Pd(n,i){return(n==null||!(n>=n))-(i==null||!(i>=i))||(n<i?-1:n>i?1:0)}function bd(n,i={}){const{labelHeight:a=14,height:o}=i,l=hd(n,P=>P.y),p=l.length,v=new Array(p);for(let P=0;P<p;P++){const I=l[P],{y:k}=I;v[P]={y:k,y1:k+a,labels:[k]}}let S=!0;for(;S;){S=!1;for(let P=v.length-1;P>0;P--){const I=v[P],k=v[P-1];if(k.y1>I.y){S=!0,k.labels.push(...I.labels),v.splice(P,1),k.y1+=I.y1-I.y;const z=k.y1-k.y;k.y1=Math.max(Math.min(k.y1,o),z),k.y=k.y1-z}}}let R=0;for(const P of v){const{y:I,labels:k}=P;let z=I-a;for(const te of k){const de=l[R++],Re=z+a-te;de.connectorPoints[0][1]-=Re,de.y=z+a,z+=a}}}function Kc(n,i){const a=hd(n,S=>S.y),{height:o,labelHeight:l=14}=i,p=Math.ceil(o/l);if(a.length<=p)return bd(a,i);const v=[];for(let S=0;S<a.length;S++)S<a.length-p?(a[S].opacity=0,a[S].connector=!1):v.push(a[S]);bd(v,i)}var Sp=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const i0=new WeakMap;function sh(n,i,a){const{connectorLength:o,connectorLength2:l,connectorDistance:p}=i,v=Sp(nf("outside",n,i,a),[]),S=a.getCenter(),R=Rd(n,i,a),P=oh(n,i,a),I=R+o+l,k=Math.sin(P)>0?1:-1,z=S[0]+(I+ +p)*k,{x:te}=v,de=z-te;return v.x+=de,v.connectorPoints[0][0]-=de,v}function Rh(n,i,a,o,l,p){if(!xr(o))return{};if(i0.has(i))return i0.get(i);const v=p.map(z=>sh(z,a,o)),{width:S,height:R}=o.getOptions(),P=v.filter(z=>z.x<S/2),I=v.filter(z=>z.x>=S/2),k=Object.assign(Object.assign({},l),{height:R});return Kc(P,k),Kc(I,k),v.forEach((z,te)=>i0.set(p[te],z)),i0.get(i)}var v0=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Ph(n,i,a,o){if(!xr(o))return{};const{connectorLength:l,connectorLength2:p,connectorDistance:v}=a,S=v0(nf("outside",i,a,o),[]),{x0:R,y0:P}=S,I=o.getCenter(),z=Mi(o)+l,te=Hi([R-I[0],P-I[1]]),de=Math.sin(te)>0?1:-1,[be,Re]=Sc(I,te,z);return S.x=be+(p+v)*de,S.y=Re,S}var Ih=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Ap(n,i){return n!==void 0?n:xr(i)?"inside":Xo(i)?"right":"top"}function j0(n,i,a,o,l,p){const{position:v}=i,{render:S}=l,R=Ap(v,a),I=o[S?"htmlLabel":R==="inside"?"innerLabel":"label"],k=Object.assign({},I,i),z=w[Xa(R)];if(!z)throw new Error(`Unknown position: ${R}`);return Object.assign(Object.assign({},I),z(R,n,k,a,l,p))}const a0=(n,i)=>{const{coordinate:a,theme:o}=i,{render:l}=n;return(p,v,S,R)=>{const{text:P,x:I,y:k,transform:z="",transformOrigin:te,className:de=""}=v,be=Ih(v,["text","x","y","transform","transformOrigin","className"]),Re=j0(p,v,a,o,n,R),{rotate:Ie=0,transform:it=""}=Re,ut=Ih(Re,["rotate","transform"]);return Ii(new Gh).call($o,ut).style("text",`${P}`).style("className",`${de} g2-label`).style("innerHTML",l?l(P,v.datum,v.index):void 0).style("labelTransform",`${it} rotate(${+Ie}) ${z}`.trim()).style("labelTransformOrigin",te).style("coordCenter",a.getCenter()).call($o,be).node()}};a0.props={defaultMarker:"point"};var y0=A(13639);function Cd(n,i){return n==null||i==null?NaN:i<n?-1:i>n?1:i>=n?0:NaN}function Lh(n){let i,a,o;n.length!==2?(i=Sl,a=(S,R)=>Sl(n(S),R),o=(S,R)=>n(S)-R):(i=n===Sl||n===Cd?n:Cp,a=n,o=n);function l(S,R,P=0,I=S.length){if(P<I){if(i(R,R)!==0)return I;do{const k=P+I>>>1;a(S[k],R)<0?P=k+1:I=k}while(P<I)}return P}function p(S,R,P=0,I=S.length){if(P<I){if(i(R,R)!==0)return I;do{const k=P+I>>>1;a(S[k],R)<=0?P=k+1:I=k}while(P<I)}return P}function v(S,R,P=0,I=S.length){const k=l(S,R,P,I-1);return k>P&&o(S[k-1],R)>-o(S[k],R)?k-1:k}return{left:l,center:v,right:p}}function Cp(){return 0}function Zu(n){return n===null?NaN:+n}function*ep(n,i){if(i===void 0)for(let a of n)a!=null&&(a=+a)>=a&&(yield a);else{let a=-1;for(let o of n)(o=i(o,++a,n))!=null&&(o=+o)>=o&&(yield o)}}const _0=Lh(Sl),Nh=_0.right,Ho=_0.left,Op=Lh(Zu).center;var o0=Nh;function wf(n,i,a){return Math.min(a,Math.max(i,n))}function Od(n){return!!n.getBandWidth}function Ed(n,i,a){if(!Od(n))return n.invert(i);const{adjustedRange:o}=n,{domain:l}=n.getOptions(),p=a?-1:0,v=n.getStep(),S=a?o:o.map(I=>I+v),R=Ho(S,i),P=wf(R+p,0,l.length-1);return l[P]}function id(n,i,a){if(!i)return n.getOptions().domain;if(!Od(n)){const R=hd(i);if(!a)return R;const[P]=R,{range:I}=n.getOptions(),[k,z]=I,te=k>z?-1:1,de=n.invert(n.map(P)+te*a);return[P,de]}const{domain:o}=n.getOptions(),l=i[0],p=o.indexOf(l);if(a){const R=p+Math.round(o.length*a);return o.slice(p,R)}const v=i[i.length-1],S=o.indexOf(v);return o.slice(p,S+1)}function uh(n,i,a,o,l,p){const{x:v,y:S}=l,R=(te,de)=>{const[be,Re]=p.invert(te);return[Ed(v,be,de),Ed(S,Re,de)]},P=R([n,i],!0),I=R([a,o],!1),k=id(v,[P[0],I[0]]),z=id(S,[P[1],I[1]]);return[k,z]}function N(n,i){const[a,o]=n,l=p=>p.getStep?p.getStep():0;return[i.map(a),i.map(o)+l(i)]}function F(n,i,a){const{x:o,y:l}=i,[p,v]=n,S=N(p,o),R=N(v,l),P=[S[0],R[0]],I=[S[1],R[1]],[k,z]=a.map(P),[te,de]=a.map(I);return[k,z,te,de]}const ce=Math.abs,ht=Math.atan2,Ft=Math.cos,kn=Math.max,si=Math.min,ki=Math.sin,ro=Math.sqrt,bo=1e-12,Gs=Math.PI,lu=Gs/2,Us=2*Gs;function pl(n){return n>1?0:n<-1?Gs:Math.acos(n)}function Ul(n){return n>=1?lu:n<=-1?-lu:Math.asin(n)}function ad(n){return n.innerRadius}function ja(n){return n.outerRadius}function Sa(n){return n.startAngle}function uo(n){return n.endAngle}function Is(n){return n&&n.padAngle}function tu(n,i,a,o,l,p,v,S){var R=a-n,P=o-i,I=v-l,k=S-p,z=k*R-I*P;if(!(z*z<bo))return z=(I*(i-p)-k*(n-l))/z,[n+z*R,i+z*P]}function uc(n,i,a,o,l,p,v){var S=n-a,R=i-o,P=(v?p:-p)/ro(S*S+R*R),I=P*R,k=-P*S,z=n+I,te=i+k,de=a+I,be=o+k,Re=(z+de)/2,Ie=(te+be)/2,it=de-z,ut=be-te,Mt=it*it+ut*ut,en=l-p,Rn=z*be-de*te,Jn=(ut<0?-1:1)*ro(kn(0,en*en*Mt-Rn*Rn)),nr=(Rn*ut-it*Jn)/Mt,mr=(-Rn*it-ut*Jn)/Mt,Vr=(Rn*ut+it*Jn)/Mt,Hr=(-Rn*it+ut*Jn)/Mt,fi=nr-Re,dr=mr-Ie,_r=Vr-Re,lr=Hr-Ie;return fi*fi+dr*dr>_r*_r+lr*lr&&(nr=Vr,mr=Hr),{cx:nr,cy:mr,x01:-I,y01:-k,x11:nr*(l/en-1),y11:mr*(l/en-1)}}function Tu(){var n=ad,i=ja,a=ul(0),o=null,l=Sa,p=uo,v=Is,S=null,R=tf(P);function P(){var I,k,z=+n.apply(this,arguments),te=+i.apply(this,arguments),de=l.apply(this,arguments)-lu,be=p.apply(this,arguments)-lu,Re=ce(be-de),Ie=be>de;if(S||(S=I=R()),te<z&&(k=te,te=z,z=k),!(te>bo))S.moveTo(0,0);else if(Re>Us-bo)S.moveTo(te*Ft(de),te*ki(de)),S.arc(0,0,te,de,be,!Ie),z>bo&&(S.moveTo(z*Ft(be),z*ki(be)),S.arc(0,0,z,be,de,Ie));else{var it=de,ut=be,Mt=de,en=be,Rn=Re,Jn=Re,nr=v.apply(this,arguments)/2,mr=nr>bo&&(o?+o.apply(this,arguments):ro(z*z+te*te)),Vr=si(ce(te-z)/2,+a.apply(this,arguments)),Hr=Vr,fi=Vr,dr,_r;if(mr>bo){var lr=Ul(mr/z*ki(nr)),hr=Ul(mr/te*ki(nr));(Rn-=lr*2)>bo?(lr*=Ie?1:-1,Mt+=lr,en-=lr):(Rn=0,Mt=en=(de+be)/2),(Jn-=hr*2)>bo?(hr*=Ie?1:-1,it+=hr,ut-=hr):(Jn=0,it=ut=(de+be)/2)}var Ti=te*Ft(it),Rr=te*ki(it),Gr=z*Ft(en),Qi=z*ki(en);if(Vr>bo){var ga=te*Ft(ut),ya=te*ki(ut),Ea=z*Ft(Mt),go=z*ki(Mt),Wo;if(Re<Gs)if(Wo=tu(Ti,Rr,Ea,go,ga,ya,Gr,Qi)){var Ps=Ti-Wo[0],jo=Rr-Wo[1],Uo=ga-Wo[0],Eu=ya-Wo[1],ws=1/ki(pl((Ps*Uo+jo*Eu)/(ro(Ps*Ps+jo*jo)*ro(Uo*Uo+Eu*Eu)))/2),gs=ro(Wo[0]*Wo[0]+Wo[1]*Wo[1]);Hr=si(Vr,(z-gs)/(ws-1)),fi=si(Vr,(te-gs)/(ws+1))}else Hr=fi=0}Jn>bo?fi>bo?(dr=uc(Ea,go,Ti,Rr,te,fi,Ie),_r=uc(ga,ya,Gr,Qi,te,fi,Ie),S.moveTo(dr.cx+dr.x01,dr.cy+dr.y01),fi<Vr?S.arc(dr.cx,dr.cy,fi,ht(dr.y01,dr.x01),ht(_r.y01,_r.x01),!Ie):(S.arc(dr.cx,dr.cy,fi,ht(dr.y01,dr.x01),ht(dr.y11,dr.x11),!Ie),S.arc(0,0,te,ht(dr.cy+dr.y11,dr.cx+dr.x11),ht(_r.cy+_r.y11,_r.cx+_r.x11),!Ie),S.arc(_r.cx,_r.cy,fi,ht(_r.y11,_r.x11),ht(_r.y01,_r.x01),!Ie))):(S.moveTo(Ti,Rr),S.arc(0,0,te,it,ut,!Ie)):S.moveTo(Ti,Rr),!(z>bo)||!(Rn>bo)?S.lineTo(Gr,Qi):Hr>bo?(dr=uc(Gr,Qi,ga,ya,z,-Hr,Ie),_r=uc(Ti,Rr,Ea,go,z,-Hr,Ie),S.lineTo(dr.cx+dr.x01,dr.cy+dr.y01),Hr<Vr?S.arc(dr.cx,dr.cy,Hr,ht(dr.y01,dr.x01),ht(_r.y01,_r.x01),!Ie):(S.arc(dr.cx,dr.cy,Hr,ht(dr.y01,dr.x01),ht(dr.y11,dr.x11),!Ie),S.arc(0,0,z,ht(dr.cy+dr.y11,dr.cx+dr.x11),ht(_r.cy+_r.y11,_r.cx+_r.x11),Ie),S.arc(_r.cx,_r.cy,Hr,ht(_r.y11,_r.x11),ht(_r.y01,_r.x01),!Ie))):S.arc(0,0,z,en,Mt,Ie)}if(S.closePath(),I)return S=null,I+""||null}return P.centroid=function(){var I=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,k=(+l.apply(this,arguments)+ +p.apply(this,arguments))/2-Gs/2;return[Ft(k)*I,ki(k)*I]},P.innerRadius=function(I){return arguments.length?(n=typeof I=="function"?I:ul(+I),P):n},P.outerRadius=function(I){return arguments.length?(i=typeof I=="function"?I:ul(+I),P):i},P.cornerRadius=function(I){return arguments.length?(a=typeof I=="function"?I:ul(+I),P):a},P.padRadius=function(I){return arguments.length?(o=I==null?null:typeof I=="function"?I:ul(+I),P):o},P.startAngle=function(I){return arguments.length?(l=typeof I=="function"?I:ul(+I),P):l},P.endAngle=function(I){return arguments.length?(p=typeof I=="function"?I:ul(+I),P):p},P.padAngle=function(I){return arguments.length?(v=typeof I=="function"?I:ul(+I),P):v},P.context=function(I){return arguments.length?(S=I==null?null:I,P):S},P}var zl=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function rf(n,i,a,o,l={}){const{inset:p=0,radius:v=0,insetLeft:S=p,insetTop:R=p,insetRight:P=p,insetBottom:I=p,radiusBottomLeft:k=v,radiusBottomRight:z=v,radiusTopLeft:te=v,radiusTopRight:de=v,minWidth:be=-1/0,maxWidth:Re=1/0,minHeight:Ie=-1/0}=l,it=zl(l,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!wt(o)&&!nn(o)){const nr=!!Xo(o),[mr,,Vr]=nr?b(i):i,[Hr,fi]=mr,[dr,_r]=vu(Vr,mr),lr=dr>0?Hr:Hr+dr,hr=_r>0?fi:fi+_r,Ti=Math.abs(dr),Rr=Math.abs(_r),Gr=lr+S,Qi=hr+R,ga=Ti-(S+P),ya=Rr-(R+I),Ea=nr?ns(ga,Ie,1/0):ns(ga,be,Re),go=nr?ns(ya,be,Re):ns(ya,Ie,1/0),Wo=nr?Gr:Gr-(Ea-ga)/2,Ps=nr?Qi-(go-ya)/2:Qi-(go-ya);return Ii(n.createElement("rect",{})).style("x",Wo).style("y",Ps).style("width",Ea).style("height",go).style("radius",[te,de,z,k]).call($o,it).node()}const{y:ut,y1:Mt}=a,en=o.getCenter(),Rn=L(o,i,[ut,Mt]),Jn=Tu().cornerRadius(v).padAngle(p*Math.PI/180);return Ii(n.createElement("path",{})).style("d",Jn(Rn)).style("transform",`translate(${en[0]}, ${en[1]})`).style("radius",v).style("inset",p).call($o,it).node()}const fu=(n,i)=>{const{colorAttribute:a,opacityAttribute:o="fill",first:l=!0,last:p=!0}=n,v=zl(n,["colorAttribute","opacityAttribute","first","last"]),{coordinate:S,document:R}=i;return(P,I,k)=>{const{color:z,radius:te=0}=k,de=zl(k,["color","radius"]),be=de.lineWidth||1,{stroke:Re,radius:Ie=te,radiusTopLeft:it=Ie,radiusTopRight:ut=Ie,radiusBottomRight:Mt=Ie,radiusBottomLeft:en=Ie,innerRadius:Rn=0,innerRadiusTopLeft:Jn=Rn,innerRadiusTopRight:nr=Rn,innerRadiusBottomRight:mr=Rn,innerRadiusBottomLeft:Vr=Rn,lineWidth:Hr=a==="stroke"||Re?be:0,inset:fi=0,insetLeft:dr=fi,insetRight:_r=fi,insetBottom:lr=fi,insetTop:hr=fi,minWidth:Ti,maxWidth:Rr,minHeight:Gr}=v,Qi=zl(v,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:ga=z,opacity:ya}=I,Ea=[l?it:Jn,l?ut:nr,p?Mt:mr,p?en:Vr],go=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];Xo(S)&&go.push(go.shift());const Wo=Object.assign(Object.assign({radius:Ie},Object.fromEntries(go.map((Ps,jo)=>[Ps,Ea[jo]]))),{inset:fi,insetLeft:dr,insetRight:_r,insetBottom:lr,insetTop:hr,minWidth:Ti,maxWidth:Rr,minHeight:Gr});return Ii(rf(R,P,I,S,Wo)).call($o,de).style("fill","transparent").style(a,ga).style(On(n),ya).style("lineWidth",Hr).style("stroke",Re===void 0?ga:Re).call($o,Qi).node()}};fu.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const xd={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function Td(n,i){var a;return(a=n.style[i])!==null&&a!==void 0?a:xd[i]}function Gp(n,i,a,o){n.style[i]=a,o&&n.children.forEach(l=>Gp(l,i,a,o))}function Dh(n){Gp(n,"visibility","hidden",!0)}function Kf(n){Gp(n,"visibility","visible",!0)}var Yh=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function lh(n){return Ii(n).selectAll(`.${Je}`).nodes().filter(i=>!i.__removed__)}function wp(n,i){return un(n,i).flatMap(({container:a})=>lh(a))}function un(n,i){return i.filter(a=>a!==n&&a.options.parentKey===n.options.key)}function Mn(n){return Ii(n).select(`.${mn}`).node()}function kr(n){if(n.tagName==="g")return n.getRenderBounds();const i=n.getGeometryBounds(),a=new Oe.mN;return a.setFromTransformedAABB(i,n.getWorldTransform()),a}function Yi(n,i){const{offsetX:a,offsetY:o}=i,l=kr(n),{min:[p,v],max:[S,R]}=l,P=a<p||a>S,I=o<v||o>R;return P||I?null:[a-p,o-v]}function Zo(n,i){const{offsetX:a,offsetY:o}=i,[l,p,v,S]=os(n);return[Math.min(v,Math.max(l,a))-l,Math.min(S,Math.max(p,o))-p]}function os(n){const i=n.getRenderBounds(),{min:[a,o],max:[l,p]}=i;return[a,o,l,p]}function yu(n){return i=>i.__data__.color}function Pu(n){return i=>i.__data__.x}function tl(n){const i=Array.isArray(n)?n:[n],a=new Map(i.flatMap(o=>Array.from(o.markState.keys()).map(p=>[lc(o.key,p.key),p.data])));return o=>{const{index:l,markKey:p,viewKey:v}=o.__data__;return a.get(lc(v,p))[l]}}function rl(n,i=(o,l)=>o,a=(o,l,p)=>o.setAttribute(l,p)){const o="__states__",l="__ordinal__",p=I=>{const{[o]:k=[],[l]:z={}}=I,te=k.reduce((de,be)=>Object.assign(Object.assign({},de),n[be]),z);if(Object.keys(te).length!==0){for(const[de,be]of Object.entries(te)){const Re=Td(I,de),Ie=i(be,I);a(I,de,Ie),de in z||(z[de]=Re)}I[l]=z}},v=I=>{I[o]||(I[o]=[])};return{setState:(I,...k)=>{v(I),I[o]=[...k],p(I)},removeState:(I,...k)=>{v(I);for(const z of k){const te=I[o].indexOf(z);te!==-1&&I[o].splice(te,1)}p(I)},hasState:(I,k)=>(v(I),I[o].indexOf(k)!==-1)}}function Mf(n){return n===void 0?!0:typeof n!="object"?!1:Object.keys(n).length===0}function lc(n,i){return`${n},${i}`}function ic(n,i){const o=(Array.isArray(n)?n:[n]).flatMap(p=>p.marks.map(v=>[lc(p.key,v.key),v.state])),l={};for(const p of i){const[v,S]=Array.isArray(p)?p:[p,{}];l[v]=o.reduce((R,P)=>{const[I,k={}]=P,z=Mf(k[v])?S:k[v];for(const[te,de]of Object.entries(z)){const be=R[te],Re=(Ie,it,ut,Mt)=>{const en=lc(Mt.__data__.viewKey,Mt.__data__.markKey);return I!==en?be==null?void 0:be(Ie,it,ut,Mt):typeof de!="function"?de:de(Ie,it,ut,Mt)};R[te]=Re}return R},{})}return l}function W(n,i){const a=new Map(n.map((l,p)=>[l,p])),o=i?n.map(i):n;return(l,p)=>{if(typeof l!="function")return l;const v=a.get(p),S=i?i(p):p;return l(S,v,o,p)}}function X(n){var{link:i=!1,valueof:a=(I,k)=>I,coordinate:o}=n,l=Yh(n,["link","valueof","coordinate"]);const p="element-link";if(!i)return[()=>{},()=>{}];const v=I=>I.__data__.points,S=(I,k)=>{const[,z,te]=I,[de,,,be]=k;return[z,de,be,te]};return[I=>{var k;if(I.length<=1)return;const z=hd(I,(te,de)=>{const{x:be}=te.__data__,{x:Re}=de.__data__;return be-Re});for(let te=1;te<z.length;te++){const de=Hs(),be=z[te-1],Re=z[te],[Ie,it,ut,Mt]=S(v(be),v(Re));de.moveTo(...Ie),de.lineTo(...it),de.lineTo(...ut),de.lineTo(...Mt),de.closePath();const en=nu(l,mr=>a(mr,be)),{fill:Rn=be.getAttribute("fill")}=en,Jn=Yh(en,["fill"]),nr=new Oe.y$({className:p,style:Object.assign({d:de.toString(),fill:Rn,zIndex:-2},Jn)});(k=be.link)===null||k===void 0||k.remove(),be.parentNode.appendChild(nr),be.link=nr}},I=>{var k;(k=I.link)===null||k===void 0||k.remove(),I.link=null}]}function E(n,i,a){const o=l=>{const{transform:p}=n.style;return p?`${p} ${l}`:l};if(wt(a)){const{points:l}=n.__data__,[p,v]=Xo(a)?b(l):l,S=a.getCenter(),R=vu(p,S),P=vu(v,S),I=pc(R),k=Yc(R,P),z=I+k/2,te=i*Math.cos(z),de=i*Math.sin(z);return o(`translate(${te}, ${de})`)}return Xo(a)?o(`translate(${i}, 0)`):o(`translate(0, ${-i})`)}function x(n){var{document:i,background:a,scale:o,coordinate:l,valueof:p}=n,v=Yh(n,["document","background","scale","coordinate","valueof"]);const S="element-background";if(!a)return[()=>{},()=>{}];const R=(Ie,it,ut)=>{const Mt=Ie.invert(it),en=it+Ie.getBandWidth(Mt)/2,Rn=Ie.getStep(Mt)/2,Jn=Rn*ut;return[en-Rn+Jn,en+Rn-Jn]},P=(Ie,it)=>{const{x:ut}=o;if(!Od(ut))return[0,1];const{__data__:Mt}=Ie,{x:en}=Mt,[Rn,Jn]=R(ut,en,it);return[Rn,Jn]},I=(Ie,it)=>{const{y:ut}=o;if(!Od(ut))return[0,1];const{__data__:Mt}=Ie,{y:en}=Mt,[Rn,Jn]=R(ut,en,it);return[Rn,Jn]},k=(Ie,it)=>{const{padding:ut}=it,[Mt,en]=P(Ie,ut),[Rn,Jn]=I(Ie,ut),nr=[[Mt,Rn],[en,Rn],[en,Jn],[Mt,Jn]].map(fi=>l.map(fi)),{__data__:mr}=Ie,{y:Vr,y1:Hr}=mr;return rf(i,nr,{y:Vr,y1:Hr},l,it)},z=(Ie,it)=>{const{transform:ut="scale(1.2, 1.2)",transformOrigin:Mt="center center",stroke:en=""}=it,Rn=Yh(it,["transform","transformOrigin","stroke"]),Jn=Object.assign({transform:ut,transformOrigin:Mt,stroke:en},Rn),nr=Ie.cloneNode(!0);for(const[mr,Vr]of Object.entries(Jn))nr.style[mr]=Vr;return nr},te=()=>{const{x:Ie,y:it}=o;return[Ie,it].some(Od)};return[Ie=>{Ie.background&&Ie.background.remove();const it=nu(v,fi=>p(fi,Ie)),{fill:ut="#CCD6EC",fillOpacity:Mt=.3,zIndex:en=-2,padding:Rn=.001,lineWidth:Jn=0}=it,nr=Yh(it,["fill","fillOpacity","zIndex","padding","lineWidth"]),mr=Object.assign(Object.assign({},nr),{fill:ut,fillOpacity:Mt,zIndex:en,padding:Rn,lineWidth:Jn}),Hr=(te()?k:z)(Ie,mr);Hr.className=S,Ie.parentNode.parentNode.appendChild(Hr),Ie.background=Hr},Ie=>{var it;(it=Ie.background)===null||it===void 0||it.remove(),Ie.background=null},Ie=>Ie.className===S]}function V(n,i){const o=n.getRootNode().defaultView.getContextService().getDomElement();o!=null&&o.style&&(n.cursor=o.style.cursor,o.style.cursor=i)}function pe(n){V(n,n.cursor)}function he(n,i,a){return n.find(o=>Object.entries(i).every(([l,p])=>a(o)[l]===p))}function ke(n,i){return Math.sqrt(Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2))}function bt(n,i=!1){const a=(0,y0.Z)(n,o=>!!o).map((o,l)=>[l===0?"M":"L",...o]);return i&&a.push(["Z"]),a}function qt(n){return n.querySelectorAll(".element")}function Te(n,i,a=0){const o=[["M",...i[1]]],l=ke(n,i[1]),p=ke(n,i[0]);return l===0?o.push(["L",...i[3]],["A",p,p,0,a,1,...i[0]],["Z"]):o.push(["A",l,l,0,a,0,...i[2]],["L",...i[3]],["A",p,p,0,a,1,...i[0]],["Z"]),o}function ot(n,i){if(i(n))return n;let a=n.parent;for(;a&&!i(a);)a=a.parent;return a}function Wt(n,i){const{__data__:a}=n,{markKey:o,index:l,seriesIndex:p}=a,{markState:v}=i,S=Array.from(v.keys()).find(R=>R.key===o);if(S)return p?p.map(R=>S.data[R]):S.data[l]}function zn(n){return ot(n,i=>i.className==="component")}function qn(n){return ot(n,i=>i.className==="element")}function sr(n){return ot(n,i=>i.className==="label")}function Qn(n,i,a,o=l=>!0){return l=>{if(!o(l))return;a.emit(`plot:${n}`,l);const{target:p}=l;if(!p)return;const{className:v}=p;if(v==="plot")return;const S=qn(p),R=zn(p),P=sr(p),I=S||R||P;if(!I)return;const{className:k,markType:z}=I,te=Object.assign(Object.assign({},l),{nativeEvent:!0});k==="element"?(te.data={data:Wt(I,i)},a.emit(`element:${n}`,te),a.emit(`${z}:${n}`,te)):k==="label"?(te.data={data:I.attributes.datum},a.emit(`label:${n}`,te),a.emit(`${v}:${n}`,te)):(a.emit(`component:${n}`,te),a.emit(`${v}:${n}`,te))}}function Qr(){return(n,i,a)=>{const{container:o,view:l}=n,p=Qn(on.CLICK,l,a,Jn=>Jn.detail===1),v=Qn(on.DBLCLICK,l,a,Jn=>Jn.detail===2),S=Qn(on.POINTER_TAP,l,a),R=Qn(on.POINTER_DOWN,l,a),P=Qn(on.POINTER_UP,l,a),I=Qn(on.POINTER_OVER,l,a),k=Qn(on.POINTER_OUT,l,a),z=Qn(on.POINTER_MOVE,l,a),te=Qn(on.POINTER_ENTER,l,a),de=Qn(on.POINTER_LEAVE,l,a),be=Qn(on.POINTER_UPOUTSIDE,l,a),Re=Qn(on.DRAG_START,l,a),Ie=Qn(on.DRAG,l,a),it=Qn(on.DRAG_END,l,a),ut=Qn(on.DRAG_ENTER,l,a),Mt=Qn(on.DRAG_LEAVE,l,a),en=Qn(on.DRAG_OVER,l,a),Rn=Qn(on.DROP,l,a);return o.addEventListener("click",p),o.addEventListener("click",v),o.addEventListener("pointertap",S),o.addEventListener("pointerdown",R),o.addEventListener("pointerup",P),o.addEventListener("pointerover",I),o.addEventListener("pointerout",k),o.addEventListener("pointermove",z),o.addEventListener("pointerenter",te),o.addEventListener("pointerleave",de),o.addEventListener("pointerupoutside",be),o.addEventListener("dragstart",Re),o.addEventListener("drag",Ie),o.addEventListener("dragend",it),o.addEventListener("dragenter",ut),o.addEventListener("dragleave",Mt),o.addEventListener("dragover",en),o.addEventListener("drop",Rn),()=>{o.removeEventListener("click",p),o.removeEventListener("click",v),o.removeEventListener("pointertap",S),o.removeEventListener("pointerdown",R),o.removeEventListener("pointerup",P),o.removeEventListener("pointerover",I),o.removeEventListener("pointerout",k),o.removeEventListener("pointermove",z),o.removeEventListener("pointerenter",te),o.removeEventListener("pointerleave",de),o.removeEventListener("pointerupoutside",be),o.removeEventListener("dragstart",Re),o.removeEventListener("drag",Ie),o.removeEventListener("dragend",it),o.removeEventListener("dragenter",ut),o.removeEventListener("dragleave",Mt),o.removeEventListener("dragover",en),o.removeEventListener("drop",Rn)}}}Qr.props={reapplyWhenUpdate:!0};function Or(){return{"component.axisRadar":fa,"component.axisLinear":Fs,"component.axisArc":_u,"component.legendContinuousBlock":wl,"component.legendContinuousBlockSize":Lo,"component.legendContinuousSize":ol,"interaction.event":Qr,"composition.mark":Rl,"composition.view":Nu,"shape.label.label":a0}}var bi=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Pi(n,i){const a=Object.assign(Object.assign({},Or()),i),o=p=>{if(typeof p!="string")return p;const v=`${n}.${p}`;return a[v]||sn(`Unknown Component: ${v}`)};return[(p,v)=>{const{type:S}=p,R=bi(p,["type"]);S||sn("Plot type is required!");const P=o(S);return P==null?void 0:P(R,v)},o]}function zr(n){const{canvas:i,group:a}=n;return(i==null?void 0:i.document)||(a==null?void 0:a.ownerDocument)||sn("Cannot find library document")}var Tr=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Fr(n,i,a){const[o]=Pi("coordinate",a),{innerHeight:l,innerWidth:p,insetLeft:v,insetTop:S,insetRight:R,insetBottom:P}=n,{coordinates:I=[]}=i,k=_o(I),z=k[0].type==="cartesian3D",te=Object.assign(Object.assign({},n),{x:v,y:S,width:p-v-R,height:l-P-S,transformations:k.flatMap(o)});return z?new Bs.Coordinate3D(te):new Bs.Coordinate(te)}function ri(n,i){const{coordinate:a={},coordinates:o}=n,l=Tr(n,["coordinate","coordinates"]);if(o)return n;const{type:p,transform:v=[]}=a,S=Tr(a,["type","transform"]);if(!p)return Object.assign(Object.assign({},l),{coordinates:v});const[,R]=Pi("coordinate",i),{transform:P=!1}=R(p).props||{};if(P)throw new Error(`Unknown coordinate: ${p}.`);return Object.assign(Object.assign({},l),{coordinates:[Object.assign({type:p},S),...v]})}function gr(n,i){return n.filter(a=>a.type===i)}function jr(n){return gr(n,"polar").length>0}function Vi(n){return gr(n,"helix").length>0}function da(n){return gr(n,"transpose").length%2===1}function na(n){return gr(n,"parallel").length>0}function Ja(n){return gr(n,"theta").length>0}function ka(n){return gr(n,"reflect").length>0}function no(n){return gr(n,"radial").length>0}function aa(n){return gr(n,"radar").length>0}function qa(n){return gr(n,"reflectY").length>0}function _o(n){return n.find(i=>i.type==="cartesian"||i.type==="cartesian3D")?n:[...n,{type:"cartesian"}]}var Ts=A(43552);function to(n){for(var i=n.length/6|0,a=new Array(i),o=0;o<i;)a[o]="#"+n.slice(o*6,++o*6);return a}var Ir=to("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),me=to("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),bu=to("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),kt=to("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ls=to("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ll=to("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Gu=to("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),cl=to("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),dl=to("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),pd=to("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),gd=to("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ku=A(13157);function Rf(n,i,a,o,l){var p=n*n,v=p*n;return((1-3*n+3*p-v)*i+(4-6*p+3*v)*a+(1+3*n+3*p-3*v)*o+v*l)/6}function sl(n){var i=n.length-1;return function(a){var o=a<=0?a=0:a>=1?(a=1,i-1):Math.floor(a*i),l=n[o],p=n[o+1],v=o>0?n[o-1]:2*l-p,S=o<i-1?n[o+2]:2*p-l;return Rf((a-o/i)*i,v,l,p,S)}}function af(n){var i=n.length;return function(a){var o=Math.floor(((a%=1)<0?++a:a)*i),l=n[(o+i-1)%i],p=n[o%i],v=n[(o+1)%i],S=n[(o+2)%i];return Rf((a-o/i)*i,l,p,v,S)}}var Qc=function(n){return function(){return n}};function Pf(n,i){return function(a){return n+a*i}}function If(n,i,a){return n=Math.pow(n,a),i=Math.pow(i,a)-n,a=1/a,function(o){return Math.pow(n+o*i,a)}}function wd(n,i){var a=i-n;return a?Pf(n,a>180||a<-180?a-360*Math.round(a/360):a):Qc(isNaN(n)?i:n)}function Rc(n){return(n=+n)==1?Bu:function(i,a){return a-i?If(i,a,n):Qc(isNaN(i)?a:i)}}function Bu(n,i){var a=i-n;return a?Pf(n,a):Qc(isNaN(n)?i:n)}var of=function n(i){var a=Rc(i);function o(l,p){var v=a((l=(0,ku.B8)(l)).r,(p=(0,ku.B8)(p)).r),S=a(l.g,p.g),R=a(l.b,p.b),P=Bu(l.opacity,p.opacity);return function(I){return l.r=v(I),l.g=S(I),l.b=R(I),l.opacity=P(I),l+""}}return o.gamma=n,o}(1);function El(n){return function(i){var a=i.length,o=new Array(a),l=new Array(a),p=new Array(a),v,S;for(v=0;v<a;++v)S=(0,ku.B8)(i[v]),o[v]=S.r||0,l[v]=S.g||0,p[v]=S.b||0;return o=n(o),l=n(l),p=n(p),S.opacity=1,function(R){return S.r=o(R),S.g=l(R),S.b=p(R),S+""}}}var vs=El(sl),qs=El(af),uu=n=>vs(n[n.length-1]),Tf=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(to),s0=uu(Tf),qr=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(to),Ra=uu(qr),La=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(to),_s=uu(La),Al=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(to),mf=uu(Al),Kn=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(to),Dr=uu(Kn),ii=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(to),Pa=uu(ii),Na=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(to),Oi=uu(Na),Bi=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(to),Ki=uu(Bi),Xr=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(to),Ei=uu(Xr),Er=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(to),Fi=uu(Er),ma=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(to),eo=uu(ma),lo=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(to),Ua=uu(lo),No=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(to),Ya=uu(No),Su=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(to),Ss=uu(Su),ou=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(to),ju=uu(ou),cc=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(to),od=uu(cc),$h=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(to),bm=uu($h),b0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(to),o1=uu(b0),tp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(to),Yp=uu(tp),M_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(to),Ev=uu(M_),xv=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(to),Tv=uu(xv),s1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(to),R_=uu(s1),Sv=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(to),u1=uu(Sv),sy=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(to),np=uu(sy),Av=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(to),G2=uu(Av),Ba=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(to),n3=uu(Ba),uy=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(to),$p=uu(uy);function P_(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}var qo=A(41842),r3=Math.PI/180,Y2=180/Math.PI,I_=-.14861,l1=1.78277,Em=-.29227,xm=-.90649,Cv=1.97294,ly=Cv*xm,L_=Cv*l1,Tm=l1*Em-xm*I_;function N_(n){if(n instanceof og)return new og(n.h,n.s,n.l,n.opacity);n instanceof ku.Ss||(n=(0,ku.SU)(n));var i=n.r/255,a=n.g/255,o=n.b/255,l=(Tm*o+ly*i-L_*a)/(Tm+ly-L_),p=o-l,v=(Cv*(a-l)-Em*p)/xm,S=Math.sqrt(v*v+p*p)/(Cv*l*(1-l)),R=S?Math.atan2(v,p)*Y2-120:NaN;return new og(R<0?R+360:R,S,l,n.opacity)}function ch(n,i,a,o){return arguments.length===1?N_(n):new og(n,i,a,o==null?1:o)}function og(n,i,a,o){this.h=+n,this.s=+i,this.l=+a,this.opacity=+o}(0,qo.Z)(og,ch,(0,qo.l)(ku.Il,{brighter:function(i){return i=i==null?ku.J5:Math.pow(ku.J5,i),new og(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?ku.xV:Math.pow(ku.xV,i),new og(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=isNaN(this.h)?0:(this.h+120)*r3,a=+this.l,o=isNaN(this.s)?0:this.s*a*(1-a),l=Math.cos(i),p=Math.sin(i);return new ku.Ss(255*(a+o*(I_*l+l1*p)),255*(a+o*(Em*l+xm*p)),255*(a+o*(Cv*l)),this.opacity)}}));function D_(n){return function i(a){a=+a;function o(l,p){var v=n((l=ch(l)).h,(p=ch(p)).h),S=Bu(l.s,p.s),R=Bu(l.l,p.l),P=Bu(l.opacity,p.opacity);return function(I){return l.h=v(I),l.s=S(I),l.l=R(Math.pow(I,a)),l.opacity=P(I),l+""}}return o.gamma=i,o}(1)}var k_=D_(wd),Gg=D_(Bu),$2=Gg(ch(300,.5,0),ch(-240,.5,1)),B_=Gg(ch(-100,.75,.35),ch(80,1.5,.8)),F_=Gg(ch(260,.75,.35),ch(80,1.5,.8)),Yg=ch();function Og(n){(n<0||n>1)&&(n-=Math.floor(n));var i=Math.abs(n-.5);return Yg.h=360*n-100,Yg.s=1.5-1.5*i,Yg.l=.8-.9*i,Yg+""}var c1=(0,ku.B8)(),f1=Math.PI/3,cy=Math.PI*2/3;function fy(n){var i;return n=(.5-n)*Math.PI,c1.r=255*(i=Math.sin(n))*i,c1.g=255*(i=Math.sin(n+f1))*i,c1.b=255*(i=Math.sin(n+cy))*i,c1+""}function U_(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function H0(n){var i=n.length;return function(a){return n[Math.max(0,Math.min(i-1,Math.floor(a*i)))]}}var z_=H0(to("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),d1=H0(to("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Z_=H0(to("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),X2=H0(to("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Xh(n,i,a,o,l,p){const{guide:v={}}=a,S=W0(n,i,a);if(typeof S!="string")return a;const R=jd(S,n,i,a),P=p1(S,R,a);return Object.assign(Object.assign(Object.assign({},a),Cm(S,n,i,a,o)),{domain:P,range:$g(S,n,i,a,P,l,p),expectedDomain:R,guide:v,name:n,type:S})}function h1(n,i){const a={};for(const o of n){const{values:l,name:p}=o,v=i[p];for(const S of l){const{name:R,value:P}=S;a[R]=P.map(I=>v.map(I))}}return a}function K2(n,i){const a=Array.from(n.values()).flatMap(l=>l.channels);It(a,l=>l.map(p=>i.get(p.scale.uid)),l=>l.name).filter(([,l])=>l.some(p=>typeof p.getOptions().groupTransform=="function")&&l.every(p=>p.getTicks)).map(l=>l[1]).forEach(l=>{const p=l.map(v=>v.getOptions().groupTransform)[0];p(l)})}function Q2(n,i){var a;const{components:o=[]}=i,l=["scale","encode","axis","legend","data","transform"],p=Array.from(new Set(n.flatMap(S=>S.channels.map(R=>R.scale)))),v=new Map(p.map(S=>[S.name,S]));for(const S of o){const R=dy(S);for(const P of R){const I=v.get(P),k=((a=S.scale)===null||a===void 0?void 0:a[P])||{},{independent:z=!1}=k;if(I&&!z){const{guide:te}=I,de=typeof te=="boolean"?{}:te;I.guide=(0,Ui.Z)({},de,S),Object.assign(I,k)}else{const te=Object.assign(Object.assign({},k),{expectedDomain:k.domain,name:P,guide:(0,su.Z)(S,l)});p.push(te)}}}return p}function q2(n){if(!n||!Array.isArray(n))return[st,st];let i,a;return[p=>{var v;i=p.map.bind(p),a=(v=p.invert)===null||v===void 0?void 0:v.bind(p);const S=n.filter(([z])=>typeof z=="function"),R=n.filter(([z])=>typeof z!="function"),P=new Map(R);if(p.map=z=>{for(const[te,de]of S)if(te(z))return de;return P.has(z)?P.get(z):i(z)},!a)return p;const I=new Map(R.map(([z,te])=>[te,z])),k=new Map(S.map(([z,te])=>[te,z]));return p.invert=z=>k.has(z)?z:I.has(z)?I.get(z):a(z),p},p=>(i!==null&&(p.map=i),a!==null&&(p.invert=a),p)]}function j_(n,i){const a=Object.keys(n);for(const o of Object.values(i)){const{name:l}=o.getOptions();if(!(l in n))n[l]=o;else{const p=a.filter(R=>R.startsWith(l)).map(R=>+(R.replace(l,"")||0)),v=ia(p)+1,S=`${l}${v}`;n[S]=o,o.getOptions().key=S}}return n}function H_(n,i){const[a]=Pi("scale",i),{relations:o}=n,[l]=q2(o),p=a(n);return l(p)}function Sm(n){const i=n.flatMap(a=>Array.from(a.values())).flatMap(a=>a.channels.map(o=>o.scale));Am(i,"x"),Am(i,"y")}function dy(n){const{channels:i=[],type:a,scale:o={}}=n,l=["shape","color","opacity","size"];return i.length!==0?i:a==="axisX"?["x"]:a==="axisY"?["y"]:a==="legends"?Object.keys(o).filter(p=>l.includes(p)):[]}function Am(n,i){const a=n.filter(({name:p,facet:v=!0})=>v&&p===i),o=a.flatMap(p=>p.domain),l=a.every(Xp)?ru(o):a.every(wg)?Array.from(new Set(o)):null;if(l!==null)for(const p of a)p.domain=l}function p1(n,i,a){const{ratio:o}=a;return o==null?i:Xp({type:n})?g1(i,o,n):wg({type:n})?hy(i,o):i}function g1(n,i,a){const o=n.map(Number),l=new Oo.b({domain:o,range:[o[0],o[0]+(o[o.length-1]-o[0])*i]});return a==="time"?n.map(p=>new Date(l.map(p))):n.map(p=>l.map(p))}function hy(n,i){const a=Math.round(n.length*i);return n.slice(0,a)}function Xp(n){const{type:i}=n;return typeof i!="string"?!1:["linear","log","pow","time"].includes(i)}function wg(n){const{type:i}=n;return typeof i!="string"?!1:["band","point","ordinal"].includes(i)}function W0(n,i,a){const{type:o,domain:l,range:p,quantitative:v,ordinal:S}=a;return o!==void 0?o:yy(i)?"identity":typeof p=="string"?"linear":(l||p||[]).length>2?fh(n,S):l!==void 0?vy([l])?fh(n,S):Ov(i)?"time":gy(n,p,v):vy(i)?fh(n,S):Ov(i)?"time":gy(n,p,v)}function jd(n,i,a,o){const{domain:l}=o;if(l!==void 0)return l;switch(n){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return W_(Xg(a,o),o);case"band":case"ordinal":case"point":return V_(a);case"quantile":return E0(a);case"sequential":return W_(i3(a),o);default:return[]}}function $g(n,i,a,o,l,p,v){const{range:S}=o;if(typeof S=="string")return Kh(S);if(S!==void 0)return S;const{rangeMin:R,rangeMax:P}=o;switch(n){case"linear":case"time":case"log":case"pow":case"sqrt":{const I=V0(a,o,l,p,v),[k,z]=Om(i,I);return[R!=null?R:k,P!=null?P:z]}case"band":case"point":{const I=i==="size"?5:0,k=i==="size"?10:1;return[R!=null?R:I,P!=null?P:k]}case"ordinal":return V0(a,o,l,p,v);case"sequential":return;case"constant":return[a[0][0]];default:return[]}}function Cm(n,i,a,o,l){switch(n){case"linear":case"time":case"log":case"pow":case"sqrt":return Mg(l,o);case"band":case"point":return rp(n,i,l,o);case"sequential":return Ms(o);default:return o}}function V0(n,i,a,o,l){const[p]=Pi("palette",l),{category10:v,category20:S}=o,R=rr(a).length<=v.length?v:S,{palette:P=R,offset:I}=i;if(Array.isArray(P))return P;try{return p({type:P})}catch(k){const z=py(P,a,I);if(z)return z;throw new Error(`Unknown Component: ${P} `)}}function Kh(n){return n.split("-")}function py(n,i,a=o=>o){if(!n)return null;const o=(0,jn.Z)(n),l=B[`scheme${o}`],p=B[`interpolate${o}`];if(!l&&!p)return null;if(l){if(!l.some(Array.isArray))return l;const v=l[i.length];if(v)return v}return i.map((v,S)=>p(a(S/i.length)))}function Ms(n){const{palette:i="ylGnBu",offset:a}=n,o=(0,jn.Z)(i),l=B[`interpolate${o}`];if(!l)throw new Error(`Unknown palette: ${o}`);return{interpolator:a?p=>l(a(p)):l}}function Mg(n,i){const{interpolate:a=Ts.wp,nice:o=!1,tickCount:l=5}=i;return Object.assign(Object.assign({},i),{interpolate:a,nice:o,tickCount:l})}function rp(n,i,a,o){if(o.padding!==void 0||o.paddingInner!==void 0||o.paddingOuter!==void 0)return Object.assign(Object.assign({},o),{unknown:NaN});const l=Mp(n,i,a),{paddingInner:p=l,paddingOuter:v=l}=o;return Object.assign(Object.assign({},o),{paddingInner:p,paddingOuter:v,padding:l,unknown:NaN})}function Mp(n,i,a){return i==="enterDelay"||i==="enterDuration"||i==="size"?0:n==="band"?Ja(a)?0:.1:n==="point"?.5:0}function fh(n,i){return i||(Lf(n)?"point":"ordinal")}function gy(n,i,a){return a||(n!=="color"||i?"linear":"sequential")}function W_(n,i){if(n.length===0)return n;const{domainMin:a,domainMax:o}=i,[l,p]=n;return[a!=null?a:l,o!=null?o:p]}function Xg(n,i){const{zero:a=!1}=i;let o=1/0,l=-1/0;for(const p of n)for(const v of p)Hn(v)&&(o=Math.min(o,+v),l=Math.max(l,+v));return o===1/0?[]:a?[Math.min(0,o),l]:[o,l]}function V_(n){return Array.from(new Set(n.flat()))}function E0(n){return n.flat().sort()}function i3(n){let i=1/0,a=-1/0;for(const o of n)for(const l of o)Hn(l)&&(i=Math.min(i,+l),a=Math.max(a,+l));return i===1/0?[]:[i<0?-a:i,a]}function Om(n,i){return n==="enterDelay"?[0,1e3]:n=="enterDuration"?[300,1e3]:n.startsWith("y")||n.startsWith("position")?[1,0]:n==="color"?[Si(i),Sn(i)]:n==="opacity"?[0,1]:n==="size"?[1,10]:[0,1]}function vy(n){return Rp(n,i=>{const a=typeof i;return a==="string"||a==="boolean"})}function Ov(n){return Rp(n,i=>i instanceof Date)}function yy(n){return Rp(n,qi)}function Rp(n,i){for(const a of n)if(a.some(i))return!0;return!1}function Lf(n){return n.startsWith("x")||n.startsWith("y")||n.startsWith("position")||n.startsWith("size")}function _y(n){return n.startsWith("x")||n.startsWith("y")||n.startsWith("position")||n==="enterDelay"||n==="enterDuration"||n==="updateDelay"||n==="updateDuration"||n==="exitDelay"||n==="exitDuration"}function wm(n){if(!n||!n.type)return!1;if(typeof n.type=="function")return!0;const{type:i,domain:a,range:o,interpolator:l}=n,p=a&&a.length>0,v=o&&o.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(i)&&p&&v||["sequential"].includes(i)&&p&&(v||l)||["constant","identity"].includes(i)&&v)}const Kg={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},wv={threshold:"threshold",quantize:"quantize",quantile:"quantile"},I0={ordinal:"ordinal",band:"band",point:"point"},dh={constant:"constant"};var L0=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function sg(n,i,a){const{coordinates:o=[],title:l}=i,[,p]=Pi("component",a),v=n.filter(({guide:I})=>I!==null),S=[],R=ip(i,n,a);if(S.push(...R),l){const{props:I}=p("title"),{defaultPosition:k,defaultOrientation:z,defaultOrder:te,defaultSize:de,defaultCrossPadding:be}=I,Re=typeof l=="string"?{title:l}:l;S.push(Object.assign({type:"title",position:k,orientation:z,order:te,crossPadding:be[0],defaultSize:de},Re))}return J2(v,o).forEach(([I,k])=>{const{props:z}=p(I),{defaultPosition:te,defaultPlane:de="xy",defaultOrientation:be,defaultSize:Re,defaultOrder:Ie,defaultLength:it,defaultPadding:ut=[0,0],defaultCrossPadding:Mt=[0,0]}=z,en=(0,Ui.Z)({},...k),{guide:Rn,field:Jn}=en,nr=Array.isArray(Rn)?Rn:[Rn];for(const mr of nr){const[Vr,Hr]=Mv(I,te,be,mr,k,v,o);if(!Vr&&!Hr)continue;const fi=Vr==="left"||Vr==="right",dr=fi?ut[1]:ut[0],_r=fi?Mt[1]:Mt[0],{size:lr,order:hr=Ie,length:Ti=it,padding:Rr=dr,crossPadding:Gr=_r}=mr;S.push(Object.assign(Object.assign({title:Jn},mr),{defaultSize:Re,length:Ti,position:Vr,plane:de,orientation:Hr,padding:Rr,order:hr,crossPadding:Gr,size:lr,type:I,scales:k}))}}),S}function Yl(n,i,a,o,l){const[p]=Pi("component",o),{scaleInstances:v,scale:S,bbox:R}=n,P=L0(n,["scaleInstances","scale","bbox"]),I={bbox:R,library:o};return p(P)({coordinate:i,library:o,markState:l,scales:v,theme:a,value:I,scale:S})}function a3(n){return n.map(i=>{const a=(0,Ui.Z)(i,i.style);return delete a.style,a})}function x0(n){return n.flatMap(i=>i.type=="group"?i.children:i)}function Id(n,i){const a=["left","right","bottom","top"];return oi(n,({type:p,position:v,group:S})=>a.includes(v)?S===void 0?p.startsWith("legend")?`legend-${v}`:Symbol("independent"):S==="independent"?Symbol("independent"):S:Symbol("independent")).flatMap(([,p])=>{if(p.length===1)return p[0];if(i!==void 0){const I=p.filter(be=>be.length!==void 0).map(be=>be.length),k=Xi(I);if(k>i)return p.forEach(be=>be.group=Symbol("independent")),p;const z=i-k,te=p.length-I.length,de=z/te;p.forEach(be=>{be.length===void 0&&(be.length=de)})}const v=ia(p,I=>I.size),S=ia(p,I=>I.order),R=ia(p,I=>I.crossPadding),P=p[0].position;return{type:"group",size:v,order:S,position:P,children:p,crossPadding:R}})}function o3(n,i){const a=["shape","size","color","opacity"],o=(z,te)=>z==="constant"&&te==="size",l=n.filter(({type:z,name:te})=>typeof z=="string"&&a.includes(te)&&!o(z,te)),p=l.filter(({type:z})=>z==="constant"),v=l.filter(({type:z})=>z!=="constant"),R=oi(v,z=>z.field?z.field:Symbol("independent")).map(([z,te])=>[z,[...te,...p]]).filter(([,z])=>z.some(te=>te.type!=="constant")),P=new Map(R);if(P.size===0)return[];const I=z=>z.sort(([te],[de])=>te.localeCompare(de));return Array.from(P).map(([,z])=>{const de=mi(z).sort((be,Re)=>Re.length-be.length).map(be=>({combination:be,option:be.map(Re=>[Re.name,ug(Re)])}));for(const{option:be,combination:Re}of de)if(!be.every(Ie=>Ie[1]==="constant")&&be.every(Ie=>Ie[1]==="discrete"||Ie[1]==="constant"))return["legendCategory",Re];for(const[be,Re]of ls)for(const{option:Ie,combination:it}of de)if(Re.some(ut=>(0,_a.Z)(I(ut),I(Ie))))return[be,it];return null}).filter(Hn)}function ug(n){const{type:i}=n;return typeof i!="string"?null:i in Kg?"continuous":i in I0?"discrete":i in wv?"distribution":i in dh?"constant":null}function G_(n,i){return n.map(a=>{const{name:o}=a;if(Vi(i)||Ja(i)||da(i)&&(jr(i)||no(i)))return null;if(o.startsWith("x"))return jr(i)?["axisArc",[a]]:no(i)?["axisLinear",[a]]:[da(i)?"axisY":"axisX",[a]];if(o.startsWith("y"))return jr(i)?["axisLinear",[a]]:no(i)?["axisArc",[a]]:[da(i)?"axisX":"axisY",[a]];if(o.startsWith("z"))return["axisZ",[a]];if(o.startsWith("position")){if(aa(i))return["axisRadar",[a]];if(!jr(i))return["axisY",[a]]}return null}).filter(Hn)}function J2(n,i){const a=n.filter(o=>wm(o));return[...o3(a,i),...G_(a,i)]}function by(n){const i=gr(n,"polar");if(i.length){const o=i[i.length-1],{startAngle:l,endAngle:p}=As(o);return[l,p]}const a=gr(n,"radial");if(a.length){const o=a[a.length-1],{startAngle:l,endAngle:p}=ao(o);return[l,p]}return[-Math.PI/2,Math.PI/2*3]}function eE(n){const i=/position(\d*)/g.exec(n);return i?+i[1]:null}function Ey(n,i,a,o,l){const{name:p}=a[0];if(n==="axisRadar"){const v=o.filter(k=>k.name.startsWith("position")),S=eE(p);if(p===v.slice(-1)[0].name||S===null)return[null,null];const[R,P]=by(l);return["center",(P-R)/(v.length-1)*S+R]}if(n==="axisY"&&na(l))return da(l)?["center","horizontal"]:["center","vertical"];if(n==="axisLinear"){const[v]=by(l);return["center",v]}return n==="axisArc"?i[0]==="inner"?["inner",null]:["outer",null]:jr(l)?["center",null]:no(l)?["center",null]:n==="axisX"&&ka(l)||n==="axisX"&&qa(l)?["top",null]:i}function Mv(n,i,a,o,l,p,v){const[S]=by(v),R=[o.position||i,S!=null?S:a];return typeof n=="string"&&n.startsWith("axis")?Ey(n,R,l,p,v):typeof n=="string"&&n.startsWith("legend")&&jr(v)&&o.position==="center"?["center","vertical"]:R}function xy(n,i,a=[]){return n==="x"?da(a)?`${i}Y`:`${i}X`:n==="y"?da(a)?`${i}X`:`${i}Y`:null}function ip(n,i,a){const[,o]=Pi("component",a),{coordinates:l}=n;function p(v,S,R,P){const I=xy(S,v,l);if(!P||!I)return;const{props:k}=o(I),{defaultPosition:z,defaultSize:te,defaultOrder:de,defaultCrossPadding:[be]}=k;return Object.assign(Object.assign({position:z,defaultSize:te,order:de,type:I,crossPadding:be},P),{scales:[R]})}return i.filter(v=>v.slider||v.scrollbar).flatMap(v=>{const{slider:S,scrollbar:R,name:P}=v;return[p("slider",P,v,S),p("scrollbar",P,v,R)]}).filter(v=>!!v)}function Rv(n,i,a,o,l,p){const{type:v}=n;if(!["left","right","bottom","top"].includes(o)||typeof v!="string")return;const R=v;return(R.startsWith("axis")?$_:R.startsWith("group")?m1:R.startsWith("legendContinuous")?tE:R==="legendCategory"?Ty:R.startsWith("slider")?Y_:R==="title"?Hd:R.startsWith("scrollbar")?Ld:()=>{})(n,i,a,o,l,p)}function m1(n,i,a,o,l,p){const{children:v}=n,S=ia(v,P=>P.crossPadding);v.forEach(P=>P.crossPadding=S),v.forEach(P=>Rv(P,i,a,o,l,p));const R=ia(v,P=>P.size);n.size=R,v.forEach(P=>P.size=R)}function Ld(n,i,a,o,l,p){const{trackSize:v=6}=(0,Ui.Z)({},l.scrollbar,n);n.size=v}function Hd(n,i,a,o,l,p){const v=(0,Ui.Z)({},l.title,n),{title:S,subtitle:R,spacing:P=0}=v,I=L0(v,["title","subtitle","spacing"]);if(S){const k=jt(I,"title"),z=qg(S,k);n.size=z.height}if(R){const k=jt(I,"subtitle"),z=qg(R,k);n.size+=P+z.height}}function Y_(n,i,a,o,l,p){const v=()=>{const{slider:I}=l;return(0,Ui.Z)({},I,n)},{trackSize:S,handleIconSize:R}=v(),P=Math.max(S,R*2.4);n.size=P}function $_(n,i,a,o,l,p){var v;n.transform=n.transform||[{type:"hide"}];const S=o==="left"||o==="right",R=_1(n,o,l),{tickLength:P=0,labelSpacing:I=0,titleSpacing:k=0,labelAutoRotate:z}=R,te=L0(R,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),de=v1(n,p),be=Pv(te,de),Re=P+I;if(be&&be.length){const it=ia(be,Mt=>Mt.width),ut=ia(be,Mt=>Mt.height);if(S)n.size=it+Re;else{const{tickFilter:Mt,labelTransform:en}=n;Sy(de,be,i,a,Mt)&&!en&&z!==!1&&z!==null?(n.labelTransform="rotate(90)",n.size=it+Re):(n.labelTransform=(v=n.labelTransform)!==null&&v!==void 0?v:"rotate(0)",n.size=ut+Re)}}else n.size=P;const Ie=y1(te);Ie&&(S?n.size+=k+Ie.width:n.size+=k+Ie.height)}function tE(n,i,a,o,l,p){const S=(()=>{const{legendContinuous:Mt}=l;return(0,Ui.Z)({},Mt,n)})(),{labelSpacing:R=0,titleSpacing:P=0}=S,I=L0(S,["labelSpacing","titleSpacing"]),k=o==="left"||o==="right",z=jt(I,"ribbon"),{size:te}=z,de=jt(I,"handleIcon"),{size:be}=de,Re=Math.max(te,be*2.4);n.size=Re;const Ie=v1(n,p),it=Pv(I,Ie);if(it){const Mt=k?"width":"height",en=ia(it,Rn=>Rn[Mt]);n.size+=en+R}const ut=y1(I);ut&&(k?n.size=Math.max(n.size,ut.width):n.size+=P+ut.height)}function Ty(n,i,a,o,l,p){const S=(()=>{const{legendCategory:_r}=l,{title:lr}=n,[hr,Ti]=Array.isArray(lr)?[lr,void 0]:[void 0,lr];return(0,Ui.Z)({title:hr},_r,Object.assign(Object.assign({},n),{title:Ti}))})(),{itemSpacing:R,itemMarkerSize:P,titleSpacing:I,rowPadding:k,colPadding:z,maxCols:te=1/0,maxRows:de=1/0}=S,be=L0(S,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:Re,length:Ie}=n,it=_r=>Math.min(_r,de),ut=_r=>Math.min(_r,te),Mt=o==="left"||o==="right",en=Ie===void 0?i+(Mt?0:a[0]+a[1]):Ie,Rn=y1(be),Jn=v1(n,p),nr=Pv(be,Jn,"itemLabel"),mr=Math.max(nr[0].height,P)+k,Vr=(_r,lr=0)=>P+_r+R[0]+lr;Mt?(()=>{let _r=-1/0,lr=0,hr=1,Ti=0,Rr=-1/0,Gr=-1/0;const Qi=Rn?Rn.height:0,ga=en-Qi;for(const{width:ya}of nr){const Ea=Vr(ya,z);_r=Math.max(_r,Ea),lr+mr>ga?(hr++,Rr=Math.max(Rr,Ti),Gr=Math.max(Gr,lr),Ti=1,lr=mr):(lr+=mr,Ti++)}hr<=1&&(Rr=Ti,Gr=lr),n.size=_r*ut(hr),n.length=Gr+Qi,(0,Ui.Z)(n,{cols:ut(hr),gridRow:Rr})})():typeof Re=="number"?(()=>{const _r=Math.ceil(nr.length/Re),lr=ia(nr,hr=>Vr(hr.width))*Re;n.size=mr*it(_r)-k,n.length=Math.min(lr,en)})():(()=>{let _r=1,lr=0,hr=-1/0;for(const{width:Ti}of nr){const Rr=Vr(Ti,z);lr+Rr>en?(hr=Math.max(hr,lr),lr=Rr,_r++):lr+=Rr}_r===1&&(hr=lr),n.size=mr*it(_r)-k,n.length=hr})(),Rn&&(Mt?n.size=Math.max(n.size,Rn.width):n.size+=I+Rn.height)}function v1(n,i){const[a]=Pi("scale",i),{scales:o,tickCount:l,tickMethod:p}=n,v=o.find(S=>S.type!=="constant"&&S.type!=="identity");return l!==void 0&&(v.tickCount=l),p!==void 0&&(v.tickMethod=p),a(v)}function Pv(n,i,a="label"){const{labelFormatter:o,tickFilter:l,label:p=!0}=n,v=L0(n,["labelFormatter","tickFilter","label"]);if(!p)return null;const S=Mm(i,o,l),R=jt(v,a),P=S.map((z,te)=>Object.fromEntries(Object.entries(R).map(([de,be])=>[de,typeof be=="function"?be(z,te):be]))),I=S.map((z,te)=>{const de=P[te];return qg(z,de)});if(!P.some(z=>z.transform)){const z=S.map((te,de)=>de);n.indexBBox=new Map(z.map(te=>[te,[S[te],I[te]]]))}return I}function y1(n){const i=P=>P===!1||P===null,{title:a}=n,o=L0(n,["title"]);if(i(a)||a===void 0)return null;const l=jt(o,"title"),{direction:p,transform:v}=l,S=Array.isArray(a)?a.join(","):a;return typeof S!="string"?null:qg(S,Object.assign(Object.assign({},l),{transform:v||(p==="vertical"?"rotate(-90)":"")}))}function _1(n,i,a){const{title:o}=n,[l,p]=Array.isArray(o)?[o,void 0]:[void 0,o],{axis:v,[`axis${fn(i)}`]:S}=a;return(0,Ui.Z)({title:l},v,S,Object.assign(Object.assign({},n),{title:p}))}function Qg(n,i){const a=n.getTicks?n.getTicks():n.getOptions().domain;return i?a.filter(i):a}function Mm(n,i,a){const l=Qg(n,a).map(v=>typeof v=="number"?Do(v):v),p=i?typeof i=="string"?Za(i):i:n.getFormatter?n.getFormatter():v=>`${v}`;return l.map(p)}function X_(n,i){return n.getBandWidth?n.getBandWidth(i)/2:0}function Sy(n,i,a,o,l){if(Xi(i,te=>te.width)>a)return!0;const v=n.clone();v.update({range:[0,a]});const S=Qg(n,l),R=S.map(te=>v.map(te)+X_(v,te)),P=S.map((te,de)=>de),I=-o[0],k=a+o[1],z=(te,de)=>{const{width:be}=de;return[te-be/2,te+be/2]};for(let te=0;te<P.length;te++){const de=R[te],[be,Re]=z(de,i[te]);if(be<I||Re>k)return!0;const Ie=R[te+1];if(Ie){const[it]=z(Ie,i[te+1]);if(Re>it)return!0}}return!1}function qg(n,i){const a=T0(n),{filter:o}=i,l=L0(i,["filter"]);return a.attr(Object.assign(Object.assign({},l),{visibility:"none"})),a.getBBox()}function T0(n){return n instanceof Oe.s$?n:new Oe.xv({style:{text:`${n}`}})}function kh(n,i){let a;if(i===void 0)for(const o of n)o!=null&&(a>o||a===void 0&&o>=o)&&(a=o);else{let o=-1;for(let l of n)(l=i(l,++o,n))!=null&&(a>l||a===void 0&&l>=l)&&(a=l)}return a}function nE(n){const i=n.find(({type:l})=>l==="axisX"),a=n.find(({type:l})=>l==="axisY"),o=n.find(({type:l})=>l==="axisZ");i&&a&&o&&(i.plane="xy",a.plane="xy",o.plane="yz",o.origin=[i.bbox.x,i.bbox.y,0],o.eulerAngles=[0,-90,0],o.bbox.x=i.bbox.x,o.bbox.y=i.bbox.y,n.push(Object.assign(Object.assign({},i),{plane:"xz",showLabel:!1,showTitle:!1,origin:[i.bbox.x,i.bbox.y,0],eulerAngles:[-90,0,0]})),n.push(Object.assign(Object.assign({},a),{plane:"yz",showLabel:!1,showTitle:!1,origin:[a.bbox.x+a.bbox.width,a.bbox.y,0],eulerAngles:[0,-90,0]})),n.push(Object.assign(Object.assign({},o),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function K_(n,i,a,o){var l,p;const{width:v,height:S,depth:R,x:P=0,y:I=0,z:k=0,inset:z=(l=a.inset)!==null&&l!==void 0?l:0,insetLeft:te=z,insetTop:de=z,insetBottom:be=z,insetRight:Re=z,margin:Ie=(p=a.margin)!==null&&p!==void 0?p:0,marginLeft:it=Ie,marginBottom:ut=Ie,marginTop:Mt=Ie,marginRight:en=Ie,padding:Rn=a.padding,paddingBottom:Jn=Rn,paddingLeft:nr=Rn,paddingRight:mr=Rn,paddingTop:Vr=Rn}=rE(n,i,a,o),Hr=1/4,fi=(ws,gs,Ws,Au,Yu)=>{const{marks:yl}=i;if(yl.length===0)return[Au,Yu];if(ws-Au-Yu-ws*Hr>0)return[Au,Yu];const dc=ws*(1-Hr);return[gs==="auto"?dc*Au/(Au+Yu):Au,Ws==="auto"?dc*Yu/(Au+Yu):Yu]},dr=ws=>ws==="auto"?20:ws!=null?ws:20,_r=dr(Vr),lr=dr(Jn),hr=Iv(n,S-_r-lr,[_r+Mt,lr+ut],["left","right"],i,a,o),{paddingLeft:Ti,paddingRight:Rr}=hr,Gr=v-it-en,[Qi,ga]=fi(Gr,nr,mr,Ti,Rr),ya=Gr-Qi-ga,Ea=Iv(n,ya,[Qi+it,ga+en],["bottom","top"],i,a,o),{paddingTop:go,paddingBottom:Wo}=Ea,Ps=S-ut-Mt,[jo,Uo]=fi(Ps,Jn,Vr,Wo,go),Eu=Ps-jo-Uo;return{width:v,height:S,depth:R,insetLeft:te,insetTop:de,insetBottom:be,insetRight:Re,innerWidth:ya,innerHeight:Eu,paddingLeft:Qi,paddingRight:ga,paddingTop:Uo,paddingBottom:jo,marginLeft:it,marginBottom:ut,marginTop:Mt,marginRight:en,x:P,y:I,z:k}}function b1(n){const{height:i,width:a,padding:o=0,paddingLeft:l=o,paddingRight:p=o,paddingTop:v=o,paddingBottom:S=o,margin:R=16,marginLeft:P=R,marginRight:I=R,marginTop:k=R,marginBottom:z=R,inset:te=0,insetLeft:de=te,insetRight:be=te,insetTop:Re=te,insetBottom:Ie=te}=n,it=en=>en==="auto"?20:en,ut=a-it(l)-it(p)-P-I-de-be,Mt=i-it(v)-it(S)-k-z-Re-Ie;return{width:ut,height:Mt}}function rE(n,i,a,o){const{coordinates:l}=i;if(!jr(l)&&!no(l))return i;const p=n.filter(Ie=>typeof Ie.type=="string"&&Ie.type.startsWith("axis"));if(p.length===0)return i;const v=p.map(Ie=>{const it=Ie.type==="axisArc"?"arc":"linear";return _1(Ie,it,a)}),S=ia(v,Ie=>{var it;return(it=Ie.labelSpacing)!==null&&it!==void 0?it:0}),R=p.flatMap((Ie,it)=>{const ut=v[it],Mt=v1(Ie,o);return Pv(ut,Mt)}).filter(Hn),P=ia(R,Ie=>Ie.height)+S,I=p.flatMap((Ie,it)=>{const ut=v[it];return y1(ut)}).filter(Ie=>Ie!==null),k=I.length===0?0:ia(I,Ie=>Ie.height),{inset:z=P,insetLeft:te=z,insetBottom:de=z,insetTop:be=z+k,insetRight:Re=z}=i;return Object.assign(Object.assign({},i),{insetLeft:te,insetBottom:de,insetTop:be,insetRight:Re})}function Iv(n,i,a,o,l,p,v){const S=_e(n,de=>de.position),{padding:R=p.padding,paddingLeft:P=R,paddingRight:I=R,paddingBottom:k=R,paddingTop:z=R}=l,te={paddingBottom:k,paddingLeft:P,paddingTop:z,paddingRight:I};for(const de of o){const be=`padding${fn(Xa(de))}`,Re=S.get(de)||[],Ie=te[be],it=mr=>{mr.size===void 0&&(mr.size=mr.defaultSize)},ut=mr=>{mr.type==="group"?(mr.children.forEach(it),mr.size=ia(mr.children,Vr=>Vr.size)):mr.size=mr.defaultSize},Mt=mr=>{mr.size||(Ie!=="auto"?ut(mr):(Rv(mr,i,a,de,p,v),it(mr)))},en=mr=>{mr.type.startsWith("axis")&&mr.labelAutoHide===void 0&&(mr.labelAutoHide=!0)},Rn=de==="bottom"||de==="top",Jn=kh(Re,mr=>mr.order),nr=Re.filter(mr=>mr.type.startsWith("axis")&&mr.order==Jn);if(nr.length&&(nr[0].crossPadding=0),typeof Ie=="number")Re.forEach(it),Re.forEach(en);else if(Re.length===0)te[be]=0;else{const mr=Rn?i+a[0]+a[1]:i,Vr=Id(Re,mr);Vr.forEach(Mt);const Hr=Vr.reduce((fi,{size:dr,crossPadding:_r=12})=>fi+dr+_r,0);te[be]=Hr}}return te}function Ay(n,i,a){const o=_e(n,Rn=>`${Rn.plane||"xy"}-${Rn.position}`),{paddingLeft:l,paddingRight:p,paddingTop:v,paddingBottom:S,marginLeft:R,marginTop:P,marginBottom:I,marginRight:k,innerHeight:z,innerWidth:te,insetBottom:de,insetLeft:be,insetRight:Re,insetTop:Ie,height:it,width:ut,depth:Mt}=a,en={xy:Bh({width:ut,height:it,paddingLeft:l,paddingRight:p,paddingTop:v,paddingBottom:S,marginLeft:R,marginTop:P,marginBottom:I,marginRight:k,innerHeight:z,innerWidth:te,insetBottom:de,insetLeft:be,insetRight:Re,insetTop:Ie}),yz:Bh({width:Mt,height:it,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:Mt,innerHeight:it,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:Bh({width:ut,height:Mt,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:ut,innerHeight:Mt,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[Rn,Jn]of o.entries()){const[nr,mr]=Rn.split("-"),Vr=en[nr][mr],[Hr,fi]=rt(Jn,dr=>typeof dr.type!="string"?!1:!!(mr==="center"||dr.type.startsWith("axis")&&["inner","outer"].includes(mr)));Hr.length&&ql(Hr,i,Vr,mr),fi.length&&eb(Jn,i,Vr)}}function Bh({width:n,height:i,paddingLeft:a,paddingRight:o,paddingTop:l,paddingBottom:p,marginLeft:v,marginTop:S,marginBottom:R,marginRight:P,innerHeight:I,innerWidth:k,insetBottom:z,insetLeft:te,insetRight:de,insetTop:be}){const Re=a+v,Ie=l+S,it=o+P,ut=p+R,Mt=n-v-P,en=[Re+te,Ie+be,k-te-de,I-be-z,"center",null,null];return{top:[Re,0,k,Ie,"vertical",!0,Sl,v,Mt],right:[n-it,Ie,it,I,"horizontal",!1,Sl],bottom:[Re,i-ut,k,ut,"vertical",!1,Sl,v,Mt],left:[0,Ie,Re,I,"horizontal",!0,Sl],"top-left":[Re,0,k,Ie,"vertical",!0,Sl],"top-right":[Re,0,k,Ie,"vertical",!0,Sl],"bottom-left":[Re,i-ut,k,ut,"vertical",!1,Sl],"bottom-right":[Re,i-ut,k,ut,"vertical",!1,Sl],center:en,inner:en,outer:en}}function ql(n,i,a,o){const[l,p]=rt(n,v=>!!(typeof v.type=="string"&&v.type.startsWith("axis")));Q_(l,i,a,o),tb(p,i,a)}function Q_(n,i,a,o){o==="center"?gi(i)?E1(n,i,a,o):wt(i)?iE(n,i,a):wr(i)&&sf(n,i,a,n[0].orientation):o==="inner"?ap(n,i,a):o==="outer"&&q_(n,i,a)}function ap(n,i,a){const[o,l,,p]=a,[v,S]=i.getCenter(),[R]=po(i),P=p/2,I=R*P,k=v-I,z=S-I;for(let te=0;te<n.length;te++){const de=n[te];de.bbox={x:o+k,y:l+z,width:I*2,height:I*2}}}function q_(n,i,a){const[o,l,p,v]=a;for(const S of n)S.bbox={x:o,y:l,width:p,height:v}}function iE(n,i,a){const[o,l,p,v]=a;for(const S of n)S.bbox={x:o,y:l,width:p,height:v}}function sf(n,i,a,o){o==="horizontal"?J_(n,i,a):o==="vertical"&&Cy(n,i,a)}function Cy(n,i,a){const[o,l,,p]=a,v=new Array(n.length).fill(0),R=i.map(v).filter((P,I)=>I%2===0).map(P=>P+o);for(let P=0;P<n.length;P++){const I=n[P],k=R[P],z=R[P+1]-k;I.bbox={x:k,y:l,width:z,height:p}}}function J_(n,i,a){const[o,l,p]=a,v=new Array(n.length).fill(0),R=i.map(v).filter((P,I)=>I%2===1).map(P=>P+l);for(let P=0;P<n.length;P++){const I=n[P],k=R[P],z=R[P+1]-k;I.bbox={x:o,y:k,width:p,height:z}}}function E1(n,i,a,o){const[l,p,v,S]=a;for(const R of n)R.bbox={x:l,y:p,width:v,height:S},R.radar={index:n.indexOf(R),count:n.length}}function eb(n,i,a){const[o,l,p,v,S,R,P,I,k]=a,[z,te,de,be,Re,Ie,it,ut]=S==="vertical"?["y",l,"x",o,"height",v,"width",p]:["x",o,"y",l,"width",p,"height",v];n.sort((mr,Vr)=>P==null?void 0:P(mr.order,Vr.order));const Mt=mr=>mr==="title"||mr==="group"||mr.startsWith("legend"),en=(mr,Vr,Hr)=>Hr===void 0?Vr:Mt(mr)?Hr:Vr,Rn=(mr,Vr,Hr)=>Hr===void 0?Vr:Mt(mr)?Hr:Vr,Jn=R?te+Ie:te;for(let mr=0,Vr=Jn;mr<n.length;mr++){const Hr=n[mr],{crossPadding:fi=0,type:dr}=Hr,{size:_r}=Hr;Hr.bbox={[z]:R?Vr-_r-fi:Vr+fi,[de]:Rn(dr,be,I),[Re]:_r,[it]:en(dr,ut,k)},Vr+=(_r+fi)*(R?-1:1)}const nr=n.filter(mr=>mr.type==="group");for(const mr of nr){const{bbox:Vr,children:Hr}=mr,fi=Vr[it],dr=fi/Hr.length,_r=Hr.reduce((Gr,Qi)=>{var ga;const ya=(ga=Qi.layout)===null||ga===void 0?void 0:ga.justifyContent;return ya||Gr},"flex-start"),lr=Hr.map((Gr,Qi)=>{const{length:ga=dr,padding:ya=0}=Gr;return ga+(Qi===Hr.length-1?0:ya)}),hr=Xi(lr),Ti=fi-hr,Rr=_r==="flex-start"?0:_r==="center"?Ti/2:Ti;for(let Gr=0,Qi=Vr[de]+Rr;Gr<Hr.length;Gr++){const ga=Hr[Gr],{padding:ya=0}=ga,Ea=Gr===Hr.length-1?0:ya;ga.bbox={[Re]:Vr[Re],[z]:Vr[z],[de]:Qi,[it]:lr[Gr]-Ea},(0,Ui.Z)(ga,{layout:{justifyContent:_r}}),Qi+=lr[Gr]}}}function tb(n,i,a){if(n.length===0)return;const[o,l,p,v]=a,[S]=po(i),R=v/2*S/Math.sqrt(2),P=o+p/2,I=l+v/2;for(let k=0;k<n.length;k++){const z=n[k];z.bbox={x:P-R,y:I-R,width:R*2,height:R*2}}}function Pp(n,i,a={},o=!1){if($i(n)||Array.isArray(n)&&o)return n;const l=jt(n,i);return(0,Ui.Z)(a,l)}function Lv(n,i={}){return $i(n)||Array.isArray(n)||!nb(n)?n:(0,Ui.Z)(i,n)}function nb(n){if(Object.keys(n).length===0)return!0;const{title:i,items:a}=n;return i!==void 0||a!==void 0}function Ip(n,i){return typeof n=="object"?jt(n,i):n}var rb=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},Jg=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Rm(n,i,a){const{encode:o={},scale:l={},transform:p=[]}=i,v=Jg(i,["encode","scale","transform"]);return[n,Object.assign(Object.assign({},v),{encode:o,scale:l,transform:p})]}function ib(n,i,a){return rb(this,void 0,void 0,function*(){const{library:o}=a,{data:l}=i,[p]=Pi("data",o),v=Lm(l),{transform:S=[]}=v,I=[Jg(v,["transform"]),...S].map(te=>p(te,a)),k=yield En(I)(l),z=l&&!Array.isArray(l)&&!Array.isArray(k)?{value:k}:k;return[Array.isArray(k)?wu(k):[],Object.assign(Object.assign({},i),{data:z})]})}function ab(n,i,a){const{encode:o}=i;if(!o)return[n,i];const l={};for(const[p,v]of Object.entries(o))if(Array.isArray(v))for(let S=0;S<v.length;S++){const R=`${p}${S===0?"":S}`;l[R]=v[S]}else l[p]=v;return[n,Object.assign(Object.assign({},i),{encode:l})]}function x1(n,i,a){const{encode:o,data:l}=i;if(!o)return[n,i];const p=nu(o,v=>Nd(v)?v:{type:Uh(l,v),value:v});return[n,Object.assign(Object.assign({},i),{encode:p})]}function Fh(n,i,a){const{encode:o}=i;if(!o)return[n,i];const l=nu(o,(p,v)=>{const{type:S}=p;return S!=="constant"||_y(v)?p:Object.assign(Object.assign({},p),{constant:!0})});return[n,Object.assign(Object.assign({},i),{encode:l})]}function N0(n,i,a){const{encode:o,data:l}=i;if(!o)return[n,i];const{library:p}=a,v=sE(p),S=nu(o,R=>v(l,R));return[n,Object.assign(Object.assign({},i),{encode:S})]}function Pm(n,i,a){const{tooltip:o={}}=i;return $i(o)?[n,i]:Array.isArray(o)?[n,Object.assign(Object.assign({},i),{tooltip:{items:o}})]:qi(o)&&nb(o)?[n,Object.assign(Object.assign({},i),{tooltip:o})]:[n,Object.assign(Object.assign({},i),{tooltip:{items:[o]}})]}function Im(n,i,a){const{data:o,encode:l,tooltip:p={}}=i;if($i(p))return[n,i];const v=k=>{if(!k)return k;if(typeof k=="string")return n.map(z=>({name:k,value:o[z][k]}));if(qi(k)){const{field:z,channel:te,color:de,name:be=z,valueFormatter:Re=Rn=>Rn}=k,Ie=typeof Re=="string"?Za(Re):Re,it=te&&l[te],ut=it&&l[te].field,Mt=be||ut||te,en=[];for(const Rn of n){const Jn=z?o[Rn][z]:it?l[te].value[Rn]:null;en[Rn]={name:Mt,color:de,value:Ie(Jn)}}return en}if(typeof k=="function"){const z=[];for(const te of n){const de=k(o[te],te,o,l);qi(de)?z[te]=de:z[te]={value:de}}return z}return k},{title:S,items:R=[]}=p,P=Jg(p,["title","items"]),I=Object.assign({title:v(S),items:Array.isArray(R)?R.map(v):[]},P);return[n,Object.assign(Object.assign({},i),{tooltip:I})]}function Qh(n,i,a){const{encode:o}=i,l=Jg(i,["encode"]);if(!o)return[n,i];const p=Object.entries(o),v=p.filter(([,R])=>{const{value:P}=R;return Array.isArray(P[0])}).flatMap(([R,P])=>{const I=[[R,new Array(n.length).fill(void 0)]],{value:k}=P,z=Jg(P,["value"]);for(let te=0;te<k.length;te++){const de=k[te];if(Array.isArray(de))for(let be=0;be<de.length;be++){const Re=I[be]||[`${R}${be}`,new Array(n).fill(void 0)];Re[1][te]=de[be],I[be]=Re}}return I.map(([te,de])=>[te,Object.assign({type:"column",value:de},z)])}),S=Object.fromEntries([...p,...v]);return[n,Object.assign(Object.assign({},l),{encode:S})]}function aE(n,i,a){const{axis:o={},legend:l={},slider:p={},scrollbar:v={}}=i,S=(P,I)=>{if(typeof P=="boolean")return P?{}:null;const k=P[I];return k===void 0||k?k:null},R=typeof o=="object"?Array.from(new Set(["x","y","z",...Object.keys(o)])):["x","y","z"];return(0,Ui.Z)(i,{scale:Object.assign(Object.assign({},Object.fromEntries(R.map(P=>{const I=S(v,P);return[P,Object.assign({guide:S(o,P),slider:S(p,P),scrollbar:I},I&&{ratio:I.ratio===void 0?.5:I.ratio})]}))),{color:{guide:S(l,"color")},size:{guide:S(l,"size")},shape:{guide:S(l,"shape")},opacity:{guide:S(l,"opacity")}})}),[n,i]}function T1(n,i,a){const{animate:o}=i;return o||o===void 0?[n,i]:((0,Ui.Z)(i,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[n,i])}function Nd(n){if(typeof n!="object"||n instanceof Date||n===null)return!1;const{type:i}=n;return Hn(i)}function Uh(n,i){return typeof i=="function"?"transform":typeof i=="string"&&em(n,i)?"field":"constant"}function em(n,i){return Array.isArray(n)?n.some(a=>a[i]!==void 0):!1}function Lm(n){if((0,Uc.Z)(n))return{type:"inline",value:n};if(!n)return{type:"inline",value:null};if(Array.isArray(n))return{type:"inline",value:n};const{type:i="inline"}=n,a=Jg(n,["type"]);return Object.assign(Object.assign({},a),{type:i})}var Eh=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},ob=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function oE(n,i,a){return Eh(this,void 0,void 0,function*(){const[o,l]=yield uE(n,i,a),{encode:p,scale:v,data:S,tooltip:R}=l;if(Array.isArray(S)===!1)return null;const{channels:P}=i,I=It(Object.entries(p).filter(([,z])=>Hn(z)),z=>z.map(([te,de])=>Object.assign({name:te},de)),([z])=>{var te;const de=(te=/([^\d]+)\d*$/.exec(z))===null||te===void 0?void 0:te[1],be=P.find(Re=>Re.name===de);return be!=null&&be.independent?z:de}),k=P.filter(z=>{const{name:te,required:de}=z;if(I.find(([be])=>be===te))return!0;if(de)throw new Error(`Missing encoding for channel: ${te}.`);return!1}).flatMap(z=>{const{name:te,scale:de,scaleKey:be,range:Re,quantitative:Ie,ordinal:it}=z;return I.filter(([Mt])=>Mt.startsWith(te)).map(([Mt,en],Rn)=>{const Jn=en.some(hr=>hr.visual),nr=en.some(hr=>hr.constant),mr=v[Mt]||{},{independent:Vr=!1,key:Hr=be||Mt,type:fi=nr?"constant":Jn?"identity":de}=mr,dr=ob(mr,["independent","key","type"]),_r=fi==="constant",lr=_r?void 0:Re;return{name:Mt,values:en,scaleKey:Vr||_r?Symbol("independent"):Hr,scale:Object.assign(Object.assign({type:fi,range:lr},dr),{quantitative:Ie,ordinal:it})}})});return[l,Object.assign(Object.assign({},i),{index:o,channels:k,tooltip:R})]})}function sE(n){const[i]=Pi("encode",n);return(a,o)=>o===void 0||a===void 0?null:Object.assign(Object.assign({},o),{type:"column",value:i(o)(a),field:sb(o)})}function uE(n,i,a){return Eh(this,void 0,void 0,function*(){const{library:o}=a,[l]=Pi("transform",o),{preInference:p=[],postInference:v=[]}=i,{transform:S=[]}=n,R=[Rm,ib,ab,x1,Fh,N0,Qh,T1,aE,Pm,...p.map(l),...S.map(l),...v.map(l),Im];let P=[],I=n;for(const k of R)[P,I]=yield k(P,I,a);return[P,I]})}function sb(n){const{type:i,value:a}=n;return i==="field"&&typeof a=="string"?a:null}var D0=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},S0=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Nv(n,i,a){var o;return D0(this,void 0,void 0,function*(){const{library:l}=a,[p]=Pi("composition",l),[v]=Pi("interaction",l),S=new Set(Object.keys(l).map(dr=>{var _r;return(_r=/mark\.(.*)/.exec(dr))===null||_r===void 0?void 0:_r[1]}).filter(Hn)),R=new Set(Object.keys(l).map(dr=>{var _r;return(_r=/component\.(.*)/.exec(dr))===null||_r===void 0?void 0:_r[1]}).filter(Hn)),P=dr=>{const{type:_r}=dr;if(typeof _r=="function"){const{props:lr={}}=_r,{composite:hr=!0}=lr;if(hr)return"mark"}return typeof _r!="string"?_r:S.has(_r)||R.has(_r)?"mark":_r},I=dr=>P(dr)==="mark",k=dr=>P(dr)==="standardView",z=dr=>{const{type:_r}=dr;return typeof _r!="string"?!1:!!R.has(_r)},te=dr=>{if(k(dr))return[dr];const _r=P(dr);return p({type:_r,static:z(dr)})(dr)},de=[],be=new Map,Re=new Map,Ie=[n],it=[];for(;Ie.length;){const dr=Ie.shift();if(k(dr)){const _r=Re.get(dr),[lr,hr]=_r?My(_r,dr,l):yield hh(dr,a);be.set(lr,dr),de.push(lr);const Ti=hr.flatMap(te).map(Rr=>ri(Rr,l));if(Ie.push(...Ti),Ti.every(k)){const Rr=yield Promise.all(Ti.map(Gr=>Nm(Gr,a)));Sm(Rr);for(let Gr=0;Gr<Ti.length;Gr++){const Qi=Ti[Gr],ga=Rr[Gr];Re.set(Qi,ga)}}}else{const _r=I(dr)?dr:yield Ly(dr,a),lr=te(_r);Array.isArray(lr)?Ie.push(...lr):typeof lr=="function"&&it.push(lr())}}a.emitter.emit(on.BEFORE_PAINT);const ut=new Map,Mt=new Map,en=[];i.selectAll(lg(zt)).data(de,dr=>dr.key).join(dr=>dr.append("g").attr("className",zt).attr("id",_r=>_r.key).call(ub).each(function(_r,lr,hr){Ry(_r,Ii(hr),en,a),ut.set(_r,hr)}),dr=>dr.call(ub).each(function(_r,lr,hr){Ry(_r,Ii(hr),en,a),Mt.set(_r,hr)}),dr=>dr.each(function(_r,lr,hr){const Ti=hr.nameInteraction.values();for(const Rr of Ti)Rr.destroy()}).remove());const Rn=(dr,_r,lr)=>Array.from(dr.entries()).map(([hr,Ti])=>{const Rr=lr||new Map,Gr=(ya,Ea=go=>go)=>Rr.set(ya,Ea),Qi=be.get(hr),ga=lE(Ii(Ti),Qi,a);return{view:hr,container:Ti,options:Qi,setState:Gr,update:(ya,Ea)=>D0(this,void 0,void 0,function*(){const Wo=St(Array.from(Rr.values()))(Qi);return yield ga(Wo,ya,()=>{(0,dn.Z)(Ea)&&_r(dr,Ea,Rr)})})}}),Jn=(dr=Mt,_r,lr)=>{var hr;const Ti=Rn(dr,Jn,lr);for(const Rr of Ti){const{options:Gr,container:Qi}=Rr,ga=Qi.nameInteraction;let ya=nm(Gr);_r&&(ya=ya.filter(Ea=>_r.includes(Ea[0])));for(const Ea of ya){const[go,Wo]=Ea,Ps=ga.get(go);if(Ps&&((hr=Ps.destroy)===null||hr===void 0||hr.call(Ps)),Wo){const Uo=wy(Rr.view,go,Wo,v)(Rr,Ti,a.emitter);ga.set(go,{destroy:Uo})}}}},nr=Rn(ut,Jn);for(const dr of nr){const{options:_r}=dr,lr=new Map;dr.container.nameInteraction=lr;for(const hr of nm(_r)){const[Ti,Rr]=hr;if(Rr){const Qi=wy(dr.view,Ti,Rr,v)(dr,nr,a.emitter);lr.set(Ti,{destroy:Qi})}}}Jn();const{width:mr,height:Vr}=n,Hr=[];for(const dr of it){const _r=new Promise(lr=>D0(this,void 0,void 0,function*(){for(const hr of dr){const Ti=Object.assign({width:mr,height:Vr},hr);yield Nv(Ti,i,a)}lr()}));Hr.push(_r)}a.views=de,(o=a.animations)===null||o===void 0||o.forEach(dr=>dr==null?void 0:dr.cancel()),a.animations=en,a.emitter.emit(on.AFTER_PAINT);const fi=en.filter(Hn).map(C1).map(dr=>dr.finished);return Promise.all([...fi,...Hr])})}function ub(n){n.style("transform",i=>`translate(${i.layout.x}, ${i.layout.y})`)}function Rg(n){const[,i]=Pi("interaction",n);return a=>{const[o,l]=a;try{return[o,i(o)]}catch(p){return[o,l.type]}}}function lE(n,i,a){const{library:o}=a,l=Rg(o),p=R=>R[1]&&R[1].props&&R[1].props.reapplyWhenUpdate,S=nm(i).map(l).filter(p).map(R=>R[0]);return(R,P,I)=>D0(this,void 0,void 0,function*(){const k=[],[z,te]=yield hh(R,a);Ry(z,n,k,a);for(const de of S.filter(be=>be!==P))Oy(de,n,R,z,a);for(const de of te)Nv(de,n,a);return I(),{options:R,view:z}})}function Oy(n,i,a,o,l){var p;const{library:v}=l,[S]=Pi("interaction",v),P=i.node().nameInteraction,I=nm(a).find(([be])=>be===n),k=P.get(n);if(!k||((p=k.destroy)===null||p===void 0||p.call(k),!I[1]))return;const z=wy(o,n,I[1],S),te={options:a,view:o,container:i.node(),update:be=>Promise.resolve(be)},de=z(te,[],l.emitter);P.set(n,{destroy:de})}function hh(n,i){return D0(this,void 0,void 0,function*(){const{library:a}=i,o=yield tm(n,i),l=lb(o);n.interaction=l.interaction,n.coordinate=l.coordinate,n.marks=[...l.marks,...l.components];const p=ri(l,a),v=yield Nm(p,i);return My(v,p,a)})}function lb(n){const{coordinate:i={},interaction:a={},style:o={},marks:l}=n,p=S0(n,["coordinate","interaction","style","marks"]),v=l.map(z=>z.coordinate||{}),S=l.map(z=>z.interaction||{}),R=l.map(z=>z.viewStyle||{}),P=[...v,i].reduceRight((z,te)=>(0,Ui.Z)(z,te),{}),I=[a,...S].reduce((z,te)=>(0,Ui.Z)(z,te),{}),k=[...R,o].reduce((z,te)=>(0,Ui.Z)(z,te),{});return Object.assign(Object.assign({},p),{marks:l,coordinate:P,interaction:I,style:k})}function tm(n,i){return D0(this,void 0,void 0,function*(){const{library:a}=i,[o,l]=Pi("mark",a),p=new Set(Object.keys(a).map(te=>{var de;return(de=/component\.(.*)/.exec(te))===null||de===void 0?void 0:de[1]}).filter(Hn)),{marks:v}=n,S=[],R=[],P=[...v],{width:I,height:k}=b1(n),z={options:n,width:I,height:k};for(;P.length;){const[te]=P.splice(0,1),de=yield Ly(te,i),{type:be=sn("G2Mark type is required."),key:Re}=de;if(p.has(be))R.push(de);else{const{props:Ie={}}=l(be),{composite:it=!0}=Ie;if(!it)S.push(de);else{const{data:ut}=de,Mt=Object.assign(Object.assign({},de),{data:ut&&(Array.isArray(ut)?ut:ut.value)}),en=yield o(Mt,z),Rn=Array.isArray(en)?en:[en];P.unshift(...Rn.map((Jn,nr)=>Object.assign(Object.assign({},Jn),{key:`${Re}-${nr}`})))}}}return Object.assign(Object.assign({},n),{marks:S,components:R})})}function Nm(n,i){return D0(this,void 0,void 0,function*(){const{library:a}=i,[o]=Pi("theme",a),[,l]=Pi("mark",a),{theme:p,marks:v,coordinates:S=[]}=n,R=o(gb(p)),P=new Map;for(const k of v){const{type:z}=k,{props:te={}}=l(z),de=yield oE(k,te,i);if(de){const[be,Re]=de;P.set(be,Re)}}const I=_e(Array.from(P.values()).flatMap(k=>k.channels),({scaleKey:k})=>k);for(const k of I.values()){const z=k.reduce((Mt,{scale:en})=>(0,Ui.Z)(Mt,en),{}),{scaleKey:te}=k[0],{values:de}=k[0],be=Array.from(new Set(de.map(Mt=>Mt.field).filter(Hn))),Re=(0,Ui.Z)({guide:{title:be.length===0?void 0:be},field:be[0]},z),{name:Ie}=k[0],it=k.flatMap(({values:Mt})=>Mt.map(en=>en.value)),ut=Object.assign(Object.assign({},Xh(Ie,it,Re,S,R,a)),{uid:Symbol("scale"),key:te});k.forEach(Mt=>Mt.scale=ut)}return P})}function wy(n,i,a,o){const l=n.theme,p=typeof i=="string"?l[i]||{}:{};return o((0,Ui.Z)(p,Object.assign({type:i},a)))}function My(n,i,a){var o;const[l]=Pi("mark",a),[p]=Pi("theme",a),[v]=Pi("labelTransform",a),{key:S,frame:R=!1,theme:P,clip:I,style:k={},labelTransform:z=[]}=i,te=p(gb(P)),de=Array.from(n.values()),be=Q2(de,i),Re=a3(sg(rm(Array.from(be),de,n),i,a)),Ie=K_(Re,i,te,a),it=Fr(Ie,i,a),ut=R?(0,Ui.Z)({mainLineWidth:1,mainStroke:"#000"},k):k;Ay(Id(Re),it,Ie),nE(Re);const Mt=new Map(Array.from(n.values()).flatMap(nr=>{const{channels:mr}=nr;return mr.map(({scale:Vr})=>[Vr.uid,H_(Vr,a)])}));K2(n,Mt);const en={};for(const nr of Re){const{scales:mr=[]}=nr,Vr=[];for(const Hr of mr){const{name:fi,uid:dr}=Hr,_r=(o=Mt.get(dr))!==null&&o!==void 0?o:H_(Hr,a);Vr.push(_r),fi==="y"&&_r.update(Object.assign(Object.assign({},_r.getOptions()),{xScale:en.x})),j_(en,{[fi]:_r})}nr.scaleInstances=Vr}const Rn=[];for(const[nr,mr]of n.entries()){const{children:Vr,dataDomain:Hr,modifier:fi,key:dr}=nr,{index:_r,channels:lr,tooltip:hr}=mr,Ti=Object.fromEntries(lr.map(({name:ws,scale:gs})=>[ws,gs])),Rr=nu(Ti,({uid:ws})=>Mt.get(ws));j_(en,Rr);const Gr=h1(lr,Rr),Qi=l(nr),[ga,ya,Ea]=Dm(Qi(_r,Rr,Gr,it)),go=Hr||ga.length,Wo=fi?fi(ya,go,Ie):[],Ps=ws=>{var gs,Ws;return(Ws=(gs=hr.title)===null||gs===void 0?void 0:gs[ws])===null||Ws===void 0?void 0:Ws.value},jo=ws=>hr.items.map(gs=>gs[ws]),Uo=ga.map((ws,gs)=>{const Ws=Object.assign({points:ya[gs],transform:Wo[gs],index:ws,markKey:dr,viewKey:S},hr&&{title:Ps(ws),items:jo(ws)});for(const[Au,Yu]of Object.entries(Gr))Ws[Au]=Yu[ws],Ea&&(Ws[`series${(0,jn.Z)(Au)}`]=Ea[gs].map(yl=>Yu[yl]));return Ea&&(Ws.seriesIndex=Ea[gs]),Ea&&hr&&(Ws.seriesItems=Ea[gs].map(Au=>jo(Au)),Ws.seriesTitle=Ea[gs].map(Au=>Ps(Au))),Ws});mr.data=Uo,mr.index=ga;const Eu=Vr==null?void 0:Vr(Uo,Rr,Ie);Rn.push(...Eu||[])}return[{layout:Ie,theme:te,coordinate:it,markState:n,key:S,clip:I,scale:en,style:ut,components:Re,labelTransform:St(z.map(v))},Rn]}function Ry(n,i,a,o){return D0(this,void 0,void 0,function*(){const{library:l}=o,{components:p,theme:v,layout:S,markState:R,coordinate:P,key:I,style:k,clip:z,scale:te}=n,{x:de,y:be,width:Re,height:Ie}=S,it=S0(S,["x","y","width","height"]),ut=["view","plot","main","content"],Mt=ut.map((Rr,Gr)=>Gr),en=["a","margin","padding","inset"],Rn=ut.map(Rr=>fr(Object.assign({},v.view,k),Rr)),Jn=en.map(Rr=>jt(it,Rr)),nr=Rr=>Rr.style("x",Gr=>dr[Gr].x).style("y",Gr=>dr[Gr].y).style("width",Gr=>dr[Gr].width).style("height",Gr=>dr[Gr].height).each(function(Gr,Qi,ga){Fm(Ii(ga),Rn[Gr])});let mr=0,Vr=0,Hr=Re,fi=Ie;const dr=Mt.map(Rr=>{const Gr=Jn[Rr],{left:Qi=0,top:ga=0,bottom:ya=0,right:Ea=0}=Gr;return mr+=Qi,Vr+=ga,Hr-=Qi+Ea,fi-=ga+ya,{x:mr,y:Vr,width:Hr,height:fi}});i.selectAll(lg(ct)).data(Mt.filter(Rr=>Hn(Rn[Rr])),Rr=>ut[Rr]).join(Rr=>Rr.append("rect").attr("className",ct).style("zIndex",-2).call(nr),Rr=>Rr.call(nr),Rr=>Rr.remove());const _r=hb(R),lr=_r?{duration:_r[1]}:!1;for(const[,Rr]of oi(p,Gr=>`${Gr.type}-${Gr.position}`))Rr.forEach((Gr,Qi)=>Gr.index=Qi);const hr=i.selectAll(lg(Ot)).data(p,Rr=>`${Rr.type}-${Rr.position}-${Rr.index}`).join(Rr=>Rr.append("g").style("zIndex",({zIndex:Gr})=>Gr||-1).attr("className",Ot).append(Gr=>Yl((0,Ui.Z)({animate:lr,scale:te},Gr),P,v,l,R)),Rr=>Rr.transition(function(Gr,Qi,ga){const{preserve:ya=!1}=Gr;if(ya)return;const Ea=Yl((0,Ui.Z)({animate:lr,scale:te},Gr),P,v,l,R),{attributes:go}=Ea,[Wo]=ga.childNodes;return Wo.update(go,!1)})).transitions();a.push(...hr.flat().filter(Hn));const Ti=i.selectAll(lg(mn)).data([S],()=>I).join(Rr=>Rr.append("rect").style("zIndex",0).style("fill","transparent").attr("className",mn).call(Ny).call(vb,Array.from(R.keys())).call(kv,z),Rr=>Rr.call(vb,Array.from(R.keys())).call(Gr=>_r?mb(Gr,_r):Ny(Gr)).call(kv,z)).transitions();a.push(...Ti.flat());for(const[Rr,Gr]of R.entries()){const{data:Qi}=Gr,{key:ga,class:ya,type:Ea}=Rr,go=i.select(`#${ga}`),Wo=Iy(Rr,Gr,n,o),Ps=pb(Rr,Gr,n,l),jo=Dv(Rr,Gr,n,l),Uo=dE(Rr,Gr,n,l),Eu=Py(i,go,ya,"element"),ws=go.selectAll(lg(Je)).selectFacetAll(Eu).data(Qi,gs=>gs.key,gs=>gs.groupKey).join(gs=>gs.append(Wo).attr("className",Je).attr("markType",Ea).transition(function(Ws,Au,Yu){return Ps(Ws,[Yu])}),gs=>gs.call(Ws=>{const Au=Ws.parent(),Yu=Yt(yl=>{const[cf,Ml]=yl.getBounds().min;return[cf,Ml]});Ws.transition(function(yl,cf,Ml){fE(Ml,Au,Yu);const dc=Wo(yl,cf),nh=jo(yl,[Ml],[dc]);return nh!==null||(Ml.nodeName===dc.nodeName&&dc.nodeName!=="g"?Pn(Ml,dc):(Ml.parentNode.replaceChild(dc,Ml),dc.className=Je,dc.markType=Ea,dc.__data__=Ml.__data__)),nh}).attr("markType",Ea).attr("className",Je)}),gs=>gs.each(function(Ws,Au,Yu){Yu.__removed__=!0}).transition(function(Ws,Au,Yu){return Uo(Ws,[Yu])}).remove(),gs=>gs.append(Wo).attr("className",Je).attr("markType",Ea).transition(function(Ws,Au,Yu){const{__fromElements__:yl}=Yu,cf=jo(Ws,yl,[Yu]);return new Qa(yl,null,Yu.parentNode).transition(cf).remove(),cf}),gs=>gs.transition(function(Ws,Au,Yu){const cf=new Qa([],Yu.__toData__,Yu.parentNode).append(Wo).attr("className",Je).attr("markType",Ea).nodes();return jo(Ws,[Yu],cf)}).remove()).transitions();a.push(...ws.flat())}cb(n,i,a,l,o)})}function cb(n,i,a,o,l){const[p]=Pi("labelTransform",o),{markState:v,labelTransform:S}=n,R=i.select(lg(At)).node(),P=new Map,I=new Map,k=Array.from(v.entries()).flatMap(([Re,Ie])=>{const{labels:it=[],key:ut}=Re,Mt=db(Re,Ie,n,o,l),en=i.select(`#${ut}`).selectAll(lg(Je)).nodes().filter(Rn=>!Rn.__removed__);return it.flatMap((Rn,Jn)=>{const{transform:nr=[]}=Rn,mr=S0(Rn,["transform"]);return en.flatMap(Vr=>{const Hr=S1(mr,Jn,Vr);return Hr.forEach(fi=>{P.set(fi,Mt),I.set(fi,Rn)}),Hr})})}),z=Ii(R).selectAll(lg(Xe)).data(k,Re=>Re.key).join(Re=>Re.append(Ie=>P.get(Ie)(Ie)).attr("className",Xe),Re=>Re.each(function(Ie,it,ut){const en=P.get(Ie)(Ie);Pn(ut,en)}),Re=>Re.remove()).nodes(),te=_e(z,Re=>I.get(Re.__data__)),{coordinate:de}=n,be={canvas:l.canvas,coordinate:de};for(const[Re,Ie]of te){const{transform:it=[]}=Re;St(it.map(p))(Ie,be)}S&&S(z,be)}function S1(n,i,a){const{seriesIndex:o,seriesKey:l,points:p,key:v,index:S}=a.__data__,R=cE(a);if(!o)return[Object.assign(Object.assign({},n),{key:`${v}-${i}`,bounds:R,index:S,points:p,dependentElement:a})];const P=fb(n),I=o.map((k,z)=>Object.assign(Object.assign({},n),{key:`${l[z]}-${i}`,bounds:[p[z]],index:k,points:p,dependentElement:a}));return P?P(I):I}function Dm([n,i,a]){if(a)return[n,i,a];const o=[],l=[];for(let p=0;p<n.length;p++){const v=n[p],S=i[p];S.every(([R,P])=>Hn(R)&&Hn(P))&&(o.push(v),l.push(S))}return[o,l]}function fb(n){const{selector:i}=n;if(!i)return null;if(typeof i=="function")return i;if(i==="first")return a=>[a[0]];if(i==="last")return a=>[a[a.length-1]];throw new Error(`Unknown selector: ${i}`)}function cE(n){const i=n.cloneNode(),a=n.getAnimations();i.style.visibility="hidden",a.forEach(v=>{const S=v.effect.getKeyframes();i.attr(S[S.length-1])}),n.parentNode.appendChild(i);const o=i.getLocalBounds();i.destroy();const{min:l,max:p}=o;return[l,p]}function db(n,i,a,o,l){const[p]=Pi("shape",o),{data:v,encode:S}=n,{data:R,defaultLabelShape:P}=i,I=R.map(be=>be.points),k=nu(S,be=>be.value),{theme:z,coordinate:te}=a,de=Object.assign(Object.assign({},l),{document:zr(l),theme:z,coordinate:te});return be=>{const{index:Re,points:Ie}=be,it=v[Re],{formatter:ut=Ti=>`${Ti}`,transform:Mt,style:en,render:Rn}=be,Jn=S0(be,["formatter","transform","style","render"]),nr=nu(Object.assign(Object.assign({},Jn),en),Ti=>km(Ti,it,Re,v,{channel:k})),{shape:mr=P,text:Vr}=nr,Hr=S0(nr,["shape","text"]),fi=typeof ut=="string"?Za(ut):ut,dr=Object.assign(Object.assign({},Hr),{text:fi(Vr,it,Re,v),datum:it}),_r=Object.assign({type:`label.${mr}`,render:Rn},Hr),lr=p(_r,de),hr=A1(z,"label",mr,"label");return lr(Ie,dr,hr,I)}}function km(n,i,a,o,l){return typeof n=="function"?n(i,a,o,l):typeof n!="string"?n:qi(i)&&i[n]!==void 0?i[n]:n}function hb(n){let i=-1/0,a=1/0;for(const[o,l]of n){const{animate:p={}}=o,{data:v}=l,{enter:S={},update:R={},exit:P={}}=p,{type:I,duration:k=300,delay:z=0}=R,{type:te,duration:de=300,delay:be=0}=S,{type:Re,duration:Ie=300,delay:it=0}=P;for(const ut of v){const{updateType:Mt=I,updateDuration:en=k,updateDelay:Rn=z,enterType:Jn=te,enterDuration:nr=de,enterDelay:mr=be,exitDuration:Vr=Ie,exitDelay:Hr=it,exitType:fi=Re}=ut;(Mt===void 0||Mt)&&(i=Math.max(i,en+Rn),a=Math.min(a,Rn)),(fi===void 0||fi)&&(i=Math.max(i,Vr+Hr),a=Math.min(a,Hr)),(Jn===void 0||Jn)&&(i=Math.max(i,nr+mr),a=Math.min(a,mr))}}return i===-1/0?null:[a,i-a]}function Py(n,i,a,o){return n.node().parentElement.findAll(p=>p.style.facet!==void 0&&p.style.facet===a&&p!==i.node()).flatMap(p=>p.getElementsByClassName(o))}function fE(n,i,a){if(!n.__facet__)return;const o=n.parentNode.parentNode,l=i.parentNode,[p,v]=a(o),[S,R]=a(l),P=`translate(${p-S}, ${v-R})`;Xt(n,P),i.append(n)}function Iy(n,i,a,o){const{library:l}=o,[p]=Pi("shape",l),{data:v,encode:S}=n,{defaultShape:R,data:P,shape:I}=i,k=nu(S,it=>it.value),z=P.map(it=>it.points),{theme:te,coordinate:de}=a,{type:be,style:Re={}}=n,Ie=Object.assign(Object.assign({},o),{document:zr(o),coordinate:de,theme:te});return it=>{const{shape:ut=R}=Re,{shape:Mt=ut,points:en,seriesIndex:Rn,index:Jn}=it,nr=S0(it,["shape","points","seriesIndex","index"]),mr=Object.assign(Object.assign({},nr),{index:Jn}),Vr=Rn?Rn.map(lr=>v[lr]):v[Jn],Hr=Rn||Jn,fi=nu(Re,lr=>km(lr,Vr,Hr,v,{channel:k})),dr=I[Mt]?I[Mt](fi,Ie):p(Object.assign(Object.assign({},fi),{type:hE(n,Mt)}),Ie),_r=A1(te,be,Mt,R);return dr(en,mr,_r,z)}}function A1(n,i,a,o){if(typeof i!="string")return;const{color:l}=n,p=n[i]||{},v=p[a]||p[o];return Object.assign({color:l},v)}function Bm(n,i,a,o,l){var p,v;const[,S]=Pi("shape",l),[R]=Pi("animation",l),{defaultShape:P,shape:I}=a,{theme:k,coordinate:z}=o,de=`default${(0,jn.Z)(n)}Animation`,{[de]:be}=((p=I[P])===null||p===void 0?void 0:p.props)||S(hE(i,P)).props,{[n]:Re={}}=k,Ie=((v=i.animate)===null||v===void 0?void 0:v[n])||{},it={coordinate:z};return(ut,Mt,en)=>{const{[`${n}Type`]:Rn,[`${n}Delay`]:Jn,[`${n}Duration`]:nr,[`${n}Easing`]:mr}=ut,Vr=Object.assign({type:Rn||be},Ie);if(!Vr.type)return null;const Hr=R(Vr,it),fi={delay:Jn,duration:nr,easing:mr},dr=Hr(Mt,en,(0,Ui.Z)(Re,fi));return Array.isArray(dr)?dr:[dr]}}function pb(n,i,a,o){return Bm("enter",n,i,a,o)}function C1(n){return n.finished.then(()=>{n.cancel()}),n}function Dv(n,i,a,o){return Bm("update",n,i,a,o)}function dE(n,i,a,o){return Bm("exit",n,i,a,o)}function gb(n={}){if(typeof n=="string")return{type:n};const{type:i="light"}=n,a=S0(n,["type"]);return Object.assign(Object.assign({},a),{type:i})}function nm(n){const i={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:a={}}=n;return Object.entries((0,Ui.Z)(i,a)).reverse()}function Ly(n,i){return D0(this,void 0,void 0,function*(){const{data:a}=n,o=S0(n,["data"]);if(a==null)return n;const[,{data:l}]=yield ib([],{data:a},i);return Object.assign({data:l},o)})}function Ny(n){n.style("transform",i=>`translate(${i.paddingLeft+i.marginLeft}, ${i.paddingTop+i.marginTop})`).style("width",i=>i.innerWidth).style("height",i=>i.innerHeight)}function mb(n,i){const[a,o]=i;n.transition(function(l,p,v){const{transform:S,width:R,height:P}=v.style,{paddingLeft:I,paddingTop:k,innerWidth:z,innerHeight:te,marginLeft:de,marginTop:be}=l,Re=[{transform:S,width:R,height:P},{transform:`translate(${I+de}, ${k+be})`,width:z,height:te}];return v.animate(Re,{delay:a,duration:o,fill:"both"})})}function hE(n,i){const{type:a}=n;return typeof i=="string"?`${a}.${i}`:i}function vb(n,i){const a=p=>p.class!==void 0?`${p.class}`:"";n.nodes().length===0||(n.selectAll(lg(Bt)).data(i,p=>p.key).join(p=>p.append("g").attr("className",Bt).attr("id",v=>v.key).style("facet",a).style("fill","transparent").style("zIndex",v=>{var S;return(S=v.zIndex)!==null&&S!==void 0?S:0}),p=>p.style("facet",a).style("fill","transparent").style("zIndex",v=>{var S;return(S=v.zIndex)!==null&&S!==void 0?S:0}),p=>p.remove()),n.select(lg(At)).node())||n.append("g").attr("className",At).style("zIndex",0)}function lg(...n){return n.map(i=>`.${i}`).join("")}function kv(n,i){n.node()&&n.style("clipPath",a=>{if(!i)return null;const{paddingTop:o,paddingLeft:l,marginLeft:p,marginTop:v,innerWidth:S,innerHeight:R}=a;return new Oe.UL({style:{x:l+p,y:o+v,width:S,height:R}})})}function rm(n,i,a){var o;for(const[P]of a.entries())if(P.type==="cell")return n.filter(I=>I.name!=="shape");if(i.length!==1||n.some(P=>P.name==="shape"))return n;const{defaultShape:l}=i[0];if(!["point","line","rect","hollow"].includes(l))return n;const v={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},R={field:((o=n.find(P=>P.name==="color"))===null||o===void 0?void 0:o.field)||null,name:"shape",type:"constant",domain:[],range:[v[l]]};return[...n,R]}function Fm(n,i){for(const[a,o]of Object.entries(i))n.style(a,o)}function Um(...n){return i=>n.reduce((a,o)=>o(a),i)}var Pc=A(85695);function O1(n){const{style:i,scale:a,type:o}=n,l={},p=(0,Pc.Z)(i,"columnWidthRatio");return p&&o==="interval"&&(l.x=Object.assign(Object.assign({},a==null?void 0:a.x),{padding:1-p})),Object.assign(Object.assign({},n),{scale:Object.assign(Object.assign({},a),l)})}function im(n){const i=pE(n);return i.children&&Array.isArray(i.children)&&(i.children=i.children.map(a=>im(a))),i}function pE(n){return Um(O1)(n)}function yb(n){const i=(0,Ui.Z)({},n),a=new Map([[i,null]]),o=new Map([[null,-1]]),l=[i];for(;l.length;){const p=l.shift();if(p.key===void 0){const S=a.get(p),R=o.get(p),P=S===null?"0":`${S.key}-${R}`;p.key=P}const{children:v=[]}=p;if(Array.isArray(v))for(let S=0;S<v.length;S++){const R=(0,Ui.Z)({},v[S]);v[S]=R,a.set(R,p),o.set(R,S),l.push(R)}}return i}function w1(n,i){const a=new sa.Th;return a.registerPlugin(new xa.S),new Oe.Xz({width:n,height:i,container:document.createElement("div"),renderer:a})}function gE(n,i={},a=()=>{},o=l=>{throw l}){const{width:l=640,height:p=480,depth:v=0}=n,S=im(n),R=yb(S),{canvas:P=w1(l,p),emitter:I=new _t.Z,library:k}=i;i.canvas=P,i.emitter=I;const{width:z,height:te}=P.getConfig();(z!==l||te!==p)&&P.resize(l,p),I.emit(on.BEFORE_RENDER);const de=Ii(P.document.documentElement);return P.ready.then(()=>Nv(Object.assign(Object.assign({},R),{width:l,height:p,depth:v}),de,i)).then(()=>{if(v){const[be,Re]=P.document.documentElement.getPosition();P.document.documentElement.setPosition(be,Re,-v/2)}P.requestAnimationFrame(()=>{I.emit(on.AFTER_RENDER),a==null||a()})}).catch(be=>{o==null||o(be)}),zm(P.getConfig().container)}function Dy(n,i={},a=()=>{},o=l=>{throw l}){var l;const{width:p=640,height:v=480}=n,S=yb(n),{group:R=new Group,emitter:P=new EventEmitter,library:I}=i;R!=null&&R.parentElement||error("renderToMountedElement can't render chart to unmounted group.");const k=select(R);return i.group=R,i.emitter=P,i.canvas=i.canvas||((l=R==null?void 0:R.ownerDocument)===null||l===void 0?void 0:l.defaultView),P.emit(ChartEvent.BEFORE_RENDER),plot(Object.assign(Object.assign({},S),{width:p,height:v}),k,i).then(()=>{var z;(z=i.canvas)===null||z===void 0||z.requestAnimationFrame(()=>{P.emit(ChartEvent.AFTER_RENDER),a==null||a()})}).catch(z=>{o==null||o(z)}),R}function _b(n,i={},a=!1){const{canvas:o,emitter:l}=i;o&&(zh(o),a?o.destroy():o.destroyChildren()),l.off()}function zh(n){const i=n.getRoot().querySelectorAll(`.${zt}`);i==null||i.forEach(a=>{const{nameInteraction:o=new Map}=a;(o==null?void 0:o.size)>0&&Array.from(o==null?void 0:o.values()).forEach(l=>{l==null||l.destroy()})})}function zm(n){return typeof n=="string"?document.getElementById(n):n}const uf=n=>n?parseInt(n):0;function Zm(n){const i=getComputedStyle(n),a=n.clientWidth||uf(i.width),o=n.clientHeight||uf(i.height),l=uf(i.paddingLeft)+uf(i.paddingRight),p=uf(i.paddingTop)+uf(i.paddingBottom);return{width:a-l,height:o-p}}function k0(n){const{height:i,width:a,padding:o=0,paddingLeft:l=o,paddingRight:p=o,paddingTop:v=o,paddingBottom:S=o,margin:R=0,marginLeft:P=R,marginRight:I=R,marginTop:k=R,marginBottom:z=R,inset:te=0,insetLeft:de=te,insetRight:be=te,insetTop:Re=te,insetBottom:Ie=te}=n,it=en=>en==="auto"?20:en,ut=a-it(l)-it(p)-P-I-de-be,Mt=i-it(v)-it(S)-k-z-Re-Ie;return{width:ut,height:Mt}}function ky(n,i){const a=[n];for(;a.length;){const o=a.shift();i&&i(o);const l=o.children||[];for(const p of l)a.push(p)}}class qh{constructor(i={},a){this.parentNode=null,this.children=[],this.index=0,this.type=a,this.value=i}map(i=a=>a){const a=i(this.value);return this.value=a,this}attr(i,a){return arguments.length===1?this.value[i]:this.map(o=>(o[i]=a,o))}append(i){const a=new i({});return a.children=[],this.push(a),a}push(i){return i.parentNode=this,i.index=this.children.length,this.children.push(i),this}remove(){const i=this.parentNode;if(i){const{children:a}=i,o=a.findIndex(l=>l===this);a.splice(o,1)}return this}getNodeByKey(i){let a=null;return ky(this,l=>{i===l.attr("key")&&(a=l)}),a}getNodesByType(i){const a=[];return ky(this,l=>{i===l.type&&a.push(l)}),a}getNodeByType(i){let a=null;return ky(this,o=>{a||i===o.type&&(a=o)}),a}call(i,...a){return i(this.map(),...a),this}getRoot(){let i=this;for(;i&&i.parentNode;)i=i.parentNode;return i}}var Bv=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Fv=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],By="__remove__",bb="__callback__",Eb=1,jm=1;function Fy(n){if(n===void 0){const i=document.createElement("div");return i[By]=!0,i}return typeof n=="string"?document.getElementById(n):n}function xb(n){const i=n.parentNode;i&&i.removeChild(n)}function Tb(n){if(n.type!==null)return n;const i=n.children[n.children.length-1];for(const a of Fv)i.attr(a,n.attr(a));return i}function Sb(n){return Object.assign(Object.assign({},n.value),{type:n.type})}function Pg(n,i){const{width:a,height:o,autoFit:l,depth:p=0}=n;let v=640,S=480;if(l){const{width:R,height:P}=Zm(i);v=R||v,S=P||S}return v=a||v,S=o||S,{width:Math.max((0,Uc.Z)(v)?v:Eb,Eb),height:Math.max((0,Uc.Z)(S)?S:jm,jm),depth:p}}function Hm(n){const i=Tb(n),a=[i],o=new Map;for(o.set(i,Sb(i));a.length;){const l=a.pop(),p=o.get(l),{children:v=[]}=l;for(const S of v)if(S.type===bb)p.children=S.value;else{const R=Sb(S),{children:P=[]}=p;P.push(R),a.push(S),o.set(S,R),p.children=P}}return o.get(i)}function Ab(n,i){return typeof n=="function"?!0:new Set(Object.keys(i)).has(n)}function mE(n,i){return typeof n!="function"&&new Set(Object.keys(i)).has(n)}function Cb(n,i,a,o,l){const{type:p}=n,{type:v=a||p}=i;if(mE(v,l)){for(const S of Fv)n.attr(S)!==void 0&&i[S]===void 0&&(i[S]=n.attr(S));return i}if(Ab(v,o)){const S={type:"view"},R=Object.assign({},i);for(const P of Fv)R[P]!==void 0&&(S[P]=R[P],delete R[P]);return Object.assign(Object.assign({},S),{children:[R]})}return i}function M1(n,i,a){if(typeof n=="function")return i.mark;const l=Object.assign(Object.assign({},i),a)[n];if(!l)throw new Error(`Unknown mark: ${n}.`);return l}function Uy(n,i,a){if(typeof n=="function"){const R=new qh;return R.value=n,R.type=bb,R}const{type:o,children:l}=n,p=Bv(n,["type","children"]),v=M1(o,i,a),S=new v;return S.value=p,S.type=o,S}function vE(n,i){const{type:a,children:o}=i,l=Bv(i,["type","children"]);n.type===a||a===void 0?Wi(n.value,l):typeof a=="string"&&(n.type=a,n.value=l)}function zy(n,i,a,o){if(!n)return;const l=[[n,i]];for(;l.length;){const[p,v]=l.shift(),S=Uy(v,a,o);Array.isArray(p.children)&&p.push(S);const{children:R}=v;if(Array.isArray(R))for(const P of R)l.push([S,P]);else typeof R=="function"&&l.push([S,R])}}function Ob(n,i,a,o,l){const p=Cb(n,i,a,o,l),v=[[null,n,p]];for(;v.length;){const[S,R,P]=v.shift();if(!R)zy(S,P,o,l);else if(!P)R.remove();else{vE(R,P);const{children:I}=P,{children:k}=R;if(Array.isArray(I)&&Array.isArray(k)){const z=Math.max(I.length,k.length);for(let te=0;te<z;te++){const de=I[te],be=k[te];v.push([R,be,de])}}else typeof I=="function"&&v.push([R,null,I])}}}function wb(){let n,i;return[new Promise((o,l)=>{i=o,n=l}),i,n]}function yE(n,i,{key:a=i}){n.prototype[i]=function(o){return arguments.length===0?this.attr(a):this.attr(a,o)}}function _E(n,i,{key:a=i}){n.prototype[i]=function(o){if(arguments.length===0)return this.attr(a);if(Array.isArray(o))return this.attr(a,o);const l=[...this.attr(a)||[],o];return this.attr(a,l)}}function R1(n,i,{key:a=i}){n.prototype[i]=function(o,l){if(arguments.length===0)return this.attr(a);if(arguments.length===1&&typeof o!="string")return this.attr(a,o);const p=this.attr(a)||{};return p[o]=arguments.length===1?!0:l,this.attr(a,p)}}function Mb(n,i,a){n.prototype[i]=function(o){if(arguments.length===0)return this.attr(i);if(Array.isArray(o))return this.attr(i,{items:o});if(qi(o)&&(o.title!==void 0||o.items!==void 0))return this.attr(i,o);if(o===null||o===!1)return this.attr(i,o);const l=this.attr(i)||{},{items:p=[]}=l;return p.push(o),l.items=p,this.attr(i,l)}}function Zy(n,i,{ctor:a}){n.prototype[i]=function(o){const l=this.append(a);return i==="mark"&&(l.type=o),l}}function Wm(n,i,{ctor:a}){n.prototype[i]=function(){return this.type=null,this.append(a)}}function Uv(n){return i=>{for(const[a,o]of Object.entries(n)){const{type:l}=o;l==="value"?yE(i,a,o):l==="array"?_E(i,a,o):l==="object"?R1(i,a,o):l==="node"?Zy(i,a,o):l==="container"?Wm(i,a,o):l==="mix"&&Mb(i,a,o)}return i}}function Rb(n){return Object.fromEntries(Object.entries(n).map(([i,a])=>[i,{type:"node",ctor:a}]))}const jy={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},bE=Object.assign(Object.assign({},jy),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),EE=Object.assign(Object.assign({},jy),{labelTransform:{type:"array"}});var Pb=function(n,i,a,o){var l=arguments.length,p=l<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(n,i,a,o);else for(var S=n.length-1;S>=0;S--)(v=n[S])&&(p=(l<3?v(p):l>3?v(i,a,p):v(i,a))||p);return l>3&&p&&Object.defineProperty(i,a,p),p};let C=class extends qh{changeData(i){var a;const o=this.getRoot();if(o)return this.attr("data",i),!((a=this.children)===null||a===void 0)&&a.length&&this.children.forEach(l=>{l.attr("data",i)}),o==null?void 0:o.render()}getView(){const i=this.getRoot(),{views:a}=i.getContext();if(a!=null&&a.length)return a.find(o=>o.key===this._key)}getScale(){var i;return(i=this.getView())===null||i===void 0?void 0:i.scale}getScaleByChannel(i){const a=this.getScale();if(a)return a[i]}getCoordinate(){var i;return(i=this.getView())===null||i===void 0?void 0:i.coordinate}getTheme(){var i;return(i=this.getView())===null||i===void 0?void 0:i.theme}getGroup(){const i=this._key;return i?this.getRoot().getContext().canvas.getRoot().getElementById(i):void 0}show(){const i=this.getGroup();i&&!i.isVisible()&&Kf(i)}hide(){const i=this.getGroup();i&&i.isVisible()&&Dh(i)}};C=Pb([Uv(EE)],C);var Z=function(n,i,a,o){var l=arguments.length,p=l<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(n,i,a,o);else for(var S=n.length-1;S>=0;S--)(v=n[S])&&(p=(l<3?v(p):l>3?v(i,a,p):v(i,a))||p);return l>3&&p&&Object.defineProperty(i,a,p),p};let xe=class extends qh{changeData(i){const a=this.getRoot();if(a)return this.attr("data",i),a==null?void 0:a.render()}getMark(){var i;const a=(i=this.getRoot())===null||i===void 0?void 0:i.getView();if(!a)return;const{markState:o}=a,l=Array.from(o.keys()).find(p=>p.key===this.attr("key"));return o.get(l)}getScale(){var i;const a=(i=this.getRoot())===null||i===void 0?void 0:i.getView();if(a)return a==null?void 0:a.scale}getScaleByChannel(i){var a,o;const l=(a=this.getRoot())===null||a===void 0?void 0:a.getView();if(l)return(o=l==null?void 0:l.scale)===null||o===void 0?void 0:o[i]}getGroup(){const i=this.attr("key");return i?this.getRoot().getContext().canvas.getRoot().getElementById(i):void 0}};xe=Z([Uv(bE)],xe);var Lt=function(n,i,a,o){var l=arguments.length,p=l<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(n,i,a,o);else for(var S=n.length-1;S>=0;S--)(v=n[S])&&(p=(l<3?v(p):l>3?v(i,a,p):v(i,a))||p);return l>3&&p&&Object.defineProperty(i,a,p),p},Dn=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Lr="G2_CHART_KEY";class Ni extends C{constructor(i){const{container:a,canvas:o,renderer:l,plugins:p,lib:v,createCanvas:S}=i,R=Dn(i,["container","canvas","renderer","plugins","lib","createCanvas"]);super(R,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=(0,za.Z)(()=>{this.forceFit()},300),this._renderer=l||new sa.Th,this._plugins=p||[],this._container=Fy(a),this._emitter=new _t.Z,this._context={library:Object.assign(Object.assign({},v),ar),emitter:this._emitter,canvas:o,createCanvas:S},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._context.canvas.getConfig().supportsCSSTransform=!0,this._bindAutoFit(),this._rendering=!0;const i=new Promise((p,v)=>gE(this._computedOptions(),this._context,this._createResolve(p),this._createReject(v))),[a,o,l]=wb();return i.then(o).catch(l).then(()=>this._renderTrailing()),a}options(i){if(arguments.length===0)return Hm(this);const{type:a}=i;return a&&(this._previousDefinedType=a),Ob(this,i,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(i,a,o){return this._emitter.on(i,a,o),this}once(i,a){return this._emitter.once(i,a),this}emit(i,...a){return this._emitter.emit(i,...a),this}off(i,a){return this._emitter.off(i,a),this}clear(){const i=this.options();this.emit(on.BEFORE_CLEAR),this._reset(),_b(i,this._context,!1),this.emit(on.AFTER_CLEAR)}destroy(){const i=this.options();this.emit(on.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),_b(i,this._context,!0),this._container[By]&&xb(this._container),this.emit(on.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:i,height:a}=Pg(this.options(),this._container);if(i===this._width&&a===this._height)return Promise.resolve(this);this.emit(on.BEFORE_CHANGE_SIZE);const o=this.render();return o.then(()=>{this.emit(on.AFTER_CHANGE_SIZE)}),o}changeSize(i,a){if(i===this._width&&a===this._height)return Promise.resolve(this);this.emit(on.BEFORE_CHANGE_SIZE),this.attr("width",i),this.attr("height",a);const o=this.render();return o.then(()=>{this.emit(on.AFTER_CHANGE_SIZE)}),o}_create(){const{library:i}=this._context,a=p=>p.startsWith("mark.")||p==="component.axisX"||p==="component.axisY"||p==="component.legends",o=["mark.mark",...Object.keys(i).filter(a)];this._marks={};for(const p of o){const v=p.split(".").pop();class S extends xe{constructor(){super({},v)}}this._marks[v]=S,this[v]=function(R){const P=this.append(S);return v==="mark"&&(P.type=R),P}}const l=["composition.view",...Object.keys(i).filter(p=>p.startsWith("composition.")&&p!=="composition.mark")];this._compositions=Object.fromEntries(l.map(p=>{const v=p.split(".").pop();let S=class extends C{constructor(){super({},v)}};return S=Lt([Uv(Rb(this._marks))],S),[v,S]}));for(const p of Object.values(this._compositions))Uv(Rb(this._compositions))(p);for(const p of l){const v=p.split(".").pop();this[v]=function(){const S=this._compositions[v];return this.type=null,this.append(S)}}}_reset(){const i=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([a])=>a.startsWith("margin")||a.startsWith("padding")||a.startsWith("inset")||i.includes(a))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const i=this._trailingResolve.bind(this);this._trailingResolve=null,i(this)}).catch(i=>{const a=this._trailingReject.bind(this);this._trailingReject=null,a(i)}))}_createResolve(i){return()=>{this._rendering=!1,i(this)}}_createReject(i){return a=>{this._rendering=!1,i(a)}}_computedOptions(){const i=this.options(),{key:a=Lr}=i,{width:o,height:l,depth:p}=Pg(i,this._container);return this._width=o,this._height=l,this._key=a,Object.assign(Object.assign({key:this._key},i),{width:o,height:l,depth:p})}_createCanvas(){const{width:i,height:a}=Pg(this.options(),this._container);this._plugins.push(new xa.S),this._plugins.forEach(o=>this._renderer.registerPlugin(o)),this._context.canvas=new Oe.Xz({container:this._container,width:i,height:a,renderer:this._renderer})}_addToTrailing(){var i;return(i=this._trailingResolve)===null||i===void 0||i.call(this,this),this._trailing=!0,new Promise((o,l)=>{this._trailingResolve=o,this._trailingReject=l})}_bindAutoFit(){const i=this.options(),{autoFit:a}=i;if(this._hasBindAutoFit){a||this._unbindAutoFit();return}a&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}function la(n,i){class a extends n{constructor(l){super(Object.assign(Object.assign({},l),{lib:i}))}}return a}var Fa=A(1819);function Bo(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function Fo(n,i,a,o,l){for(var p=n.children,v,S=-1,R=p.length,P=n.value&&(o-i)/n.value;++S<R;)v=p[S],v.y0=a,v.y1=l,v.x0=i,v.x1=i+=v.value*P}function Ca(){var n=1,i=1,a=0,o=!1;function l(v){var S=v.height+1;return v.x0=v.y0=a,v.x1=n,v.y1=i/S,v.eachBefore(p(i,S)),o&&v.eachBefore(Bo),v}function p(v,S){return function(R){R.children&&Fo(R,R.x0,v*(R.depth+1)/S,R.x1,v*(R.depth+2)/S);var P=R.x0,I=R.y0,k=R.x1-a,z=R.y1-a;k<P&&(P=k=(P+k)/2),z<I&&(I=z=(I+z)/2),R.x0=P,R.y0=I,R.x1=k,R.y1=z}}return l.round=function(v){return arguments.length?(o=!!v,l):o},l.size=function(v){return arguments.length?(n=+v[0],i=+v[1],l):[n,i]},l.padding=function(v){return arguments.length?(a=+v,l):a},l}var Ys=A(82092);function Cu(n){var i=0,a=n.children,o=a&&a.length;if(!o)i=1;else for(;--o>=0;)i+=a[o].value;n.value=i}function hl(){return this.eachAfter(Cu)}var ac=A(335);function gl(n,i){var a=-1,o=ac(this),l;try{for(o.s();!(l=o.n()).done;){var p=l.value;n.call(i,p,++a,this)}}catch(v){o.e(v)}finally{o.f()}return this}function Ic(n,i){for(var a=this,o=[a],l,p,v=-1;a=o.pop();)if(n.call(i,a,++v,this),l=a.children)for(p=l.length-1;p>=0;--p)o.push(l[p]);return this}function qc(n,i){for(var a=this,o=[a],l=[],p,v,S,R=-1;a=o.pop();)if(l.push(a),p=a.children)for(v=0,S=p.length;v<S;++v)o.push(p[v]);for(;a=l.pop();)n.call(i,a,++R,this);return this}function op(n,i){var a=-1,o=ac(this),l;try{for(o.s();!(l=o.n()).done;){var p=l.value;if(n.call(i,p,++a,this))return p}}catch(v){o.e(v)}finally{o.f()}}function B0(n){return this.eachAfter(function(i){for(var a=+n(i.data)||0,o=i.children,l=o&&o.length;--l>=0;)a+=o[l].value;i.value=a})}function sp(n){return this.eachBefore(function(i){i.children&&i.children.sort(n)})}function Wd(n){for(var i=this,a=Kp(i,n),o=[i];i!==a;)i=i.parent,o.push(i);for(var l=o.length;n!==a;)o.splice(l,0,n),n=n.parent;return o}function Kp(n,i){if(n===i)return n;var a=n.ancestors(),o=i.ancestors(),l=null;for(n=a.pop(),i=o.pop();n===i;)l=n,n=a.pop(),i=o.pop();return l}function Ig(){for(var n=this,i=[n];n=n.parent;)i.push(n);return i}function xE(){return Array.from(this)}function cO(){var n=[];return this.eachBefore(function(i){i.children||n.push(i)}),n}function fO(){var n=this,i=[];return n.each(function(a){a!==n&&i.push({source:a.parent,target:a})}),i}var dS=A(90228),Hy=dS().mark(hS);function hS(){var n,i,a,o,l,p;return dS().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:n=this,a=[n];case 1:i=a.reverse(),a=[];case 2:if(!(n=i.pop())){S.next=8;break}return S.next=5,n;case 5:if(o=n.children)for(l=0,p=o.length;l<p;++l)a.push(o[l]);S.next=2;break;case 8:if(a.length){S.next=1;break}case 9:case"end":return S.stop()}},Hy,this)}function zv(n,i){n instanceof Map?(n=[void 0,n],i===void 0&&(i=SE)):i===void 0&&(i=TE);for(var a=new am(n),o,l=[a],p,v,S,R;o=l.pop();)if((v=i(o.data))&&(R=(v=Array.from(v)).length))for(o.children=v,S=R-1;S>=0;--S)l.push(p=v[S]=new am(v[S])),p.parent=o,p.depth=o.depth+1;return a.eachBefore(s3)}function pS(){return zv(this).eachBefore(gS)}function TE(n){return n.children}function SE(n){return Array.isArray(n)?n[1]:null}function gS(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function s3(n){var i=0;do n.height=i;while((n=n.parent)&&n.height<++i)}function am(n){this.data=n,this.depth=this.height=0,this.parent=null}am.prototype=zv.prototype=Ys({constructor:am,count:hl,each:gl,eachAfter:qc,eachBefore:Ic,find:op,sum:B0,sort:sp,path:Wd,ancestors:Ig,descendants:xE,leaves:cO,links:fO,copy:pS},Symbol.iterator,hS);var AE=A(43706);function Ib(n,i){for(var a in i)i.hasOwnProperty(a)&&a!=="constructor"&&i[a]!==void 0&&(n[a]=i[a])}function mS(n,i,a,o){return i&&Ib(n,i),a&&Ib(n,a),o&&Ib(n,o),n}var dO=A(44591);const u3={field:"value",size:[1,1],round:!1,padding:0,sort:(n,i)=>i.value-n.value,as:["x","y"],ignoreParentValue:!0},vS="nodeIndex",P1="childNodeCount",Lb="nodeAncestor",Nb="Invalid field: it must be a string!";function yS(n,i){const{field:a,fields:o}=n;if((0,AE.Z)(a))return a;if((0,dn.Z)(a))return console.warn(Nb),a[0];if(console.warn(`${Nb} will try to get fields instead.`),(0,AE.Z)(o))return o;if((0,dn.Z)(o)&&o.length)return o[0];if(i)return i;throw new TypeError(Nb)}function _S(n){const i=[];if(n&&n.each){let a,o;n.each(l=>{var p,v;l.parent!==a?(a=l.parent,o=0):o+=1;const S=(0,y0.Z)((((p=l.ancestors)===null||p===void 0?void 0:p.call(l))||[]).map(R=>i.find(P=>P.name===R.name)||R),({depth:R})=>R>0&&R<l.depth);l[Lb]=S,l[P1]=((v=l.children)===null||v===void 0?void 0:v.length)||0,l[vS]=o,i.push(l)})}else n&&n.eachNode&&n.eachNode(a=>{i.push(a)});return i}function Wy(n,i){i=mS({},u3,i);const a=i.as;if(!(0,dn.Z)(a)||a.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');let o;try{o=yS(i)}catch(R){console.warn(R)}const p=(R=>Ca().size(i.size).round(i.round).padding(i.padding)(zv(R).sum(P=>Ad(P.children)?i.ignoreParentValue?0:P[o]-(0,dO.Z)(P.children,(I,k)=>I+k[o],0):P[o]).sort(i.sort)))(n),v=a[0],S=a[1];return p.each(R=>{var P,I;R[v]=[R.x0,R.x1,R.x1,R.x0],R[S]=[R.y1,R.y1,R.y0,R.y0],R.name=R.name||((P=R.data)===null||P===void 0?void 0:P.name)||((I=R.data)===null||I===void 0?void 0:I.label),R.data.name=R.name,["x0","x1","y0","y1"].forEach(k=>{a.indexOf(k)===-1&&delete R[k]})}),_S(p)}var CE=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const om="sunburst",OE="markType",L4="value",Db="path",Vy="ancestor-node";function bS(n){const{data:i,encode:a}=n,{color:o,value:l}=a,v=Wy(i,{field:l,type:"hierarchy.partition",as:["x","y"]}),S=[];return v.forEach(R=>{var P,I,k,z;if(R.depth===0)return null;let te=R.data.name;const de=[te];let be=Object.assign({},R);for(;be.depth>1;)te=`${(P=be.parent.data)===null||P===void 0?void 0:P.name} / ${te}`,de.unshift((I=be.parent.data)===null||I===void 0?void 0:I.name),be=be.parent;const Re=Object.assign(Object.assign(Object.assign({},(0,Fa.Z)(R.data,[l])),{[Db]:te,[Vy]:be.data.name}),R);o&&o!==Vy&&(Re[o]=R.data[o]||((z=(k=R.parent)===null||k===void 0?void 0:k.data)===null||z===void 0?void 0:z[o])),S.push(Re)}),S.map(R=>{const P=R.x.slice(0,2),I=[R.y[2],R.y[0]];return P[0]===P[1]&&(I[0]=I[1]=(R.y[2]+R.y[0])/2),Object.assign(Object.assign({},R),{x:P,y:I,fillOpacity:Math.pow(.85,R.depth)})})}const l3={id:om,encode:{x:"x",y:"y",key:Db,color:Vy,value:"value"},axis:{x:!1,y:!1},style:{[OE]:om,stroke:"#fff",lineWidth:.5,fillOpacity:"fillOpacity",[P1]:P1,depth:"depth"},state:{active:{zIndex:2,stroke:"#000"},inactive:{zIndex:1,stroke:"#fff"}},legend:!1,interaction:{drillDown:!0},coordinate:{type:"polar",innerRadius:.2}},ES=n=>{const{encode:i,data:a=[],legend:o}=n,l=CE(n,["encode","data","legend"]),p=Object.assign(Object.assign({},l.coordinate),{innerRadius:Math.max((0,Pc.Z)(l,["coordinate","innerRadius"],.2),1e-5)}),v=Object.assign(Object.assign({},l3.encode),i),{value:S}=v,R=bS({encode:v,data:a});return console.log(R,"rectData"),[(0,Ui.Z)({},l3,Object.assign(Object.assign({type:"rect",data:R,encode:v,tooltip:{title:"path",items:[P=>({name:S,value:P[S]})]}},l),{coordinate:p}))]};ES.props={};var cg=A(80821),Gy=Object.keys?function(n){return Object.keys(n)}:function(n){var i=[];return(0,cg.Z)(n,function(a,o){(0,Ru.Z)(n)&&o==="prototype"||i.push(o)}),i},Zv=Gy,xS=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})};const kb=n=>n.querySelectorAll(".element").filter(i=>(0,Pc.Z)(i,["style",OE])===om);function ph(n){return Ii(n).select(`.${mn}`).node()}const up={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.85)",fontSize:12,y:1},active:{fill:"rgba(0, 0, 0, 0.5)"}};function sm(n={}){const{breadCrumb:i={},isFixedColor:a=!1}=n,o=(0,Ui.Z)({},up,i);return l=>{const{update:p,setState:v,container:S,view:R,options:P}=l,I=S.ownerDocument,k=ph(S),z=P.marks.find(({id:ut})=>ut===om),{state:te}=z,de=I.createElement("g");k.appendChild(de);const be=(ut,Mt)=>xS(this,void 0,void 0,function*(){if(de.removeChildren(),ut){const en=I.createElement("text",{style:Object.assign({x:0,text:o.rootText,depth:0},o.style)});de.appendChild(en);let Rn="";const Jn=ut==null?void 0:ut.split(" / ");let nr=o.style.y,mr=de.getBBox().width;const Vr=k.getBBox().width,Hr=Jn.map((fi,dr)=>{const _r=I.createElement("text",{style:Object.assign(Object.assign({x:mr,text:" / "},o.style),{y:nr})});de.appendChild(_r),mr+=_r.getBBox().width,Rn=`${Rn}${fi} / `;const lr=I.createElement("text",{name:Rn.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:fi,x:mr,depth:dr+1},o.style),{y:nr})});return de.appendChild(lr),mr+=lr.getBBox().width,mr>Vr&&(nr=de.getBBox().height,mr=0,_r.attr({x:mr,y:nr}),mr+=_r.getBBox().width,lr.attr({x:mr,y:nr}),mr+=lr.getBBox().width),lr});[en,...Hr].forEach((fi,dr)=>{if(dr===Hr.length)return;const _r=Object.assign({},fi.attributes);fi.attr("cursor","pointer"),fi.addEventListener("mouseenter",()=>{fi.attr(o.active)}),fi.addEventListener("mouseleave",()=>{fi.attr(_r)}),fi.addEventListener("click",()=>{be(fi.name,(0,Pc.Z)(fi,["style","depth"]))})})}v("drillDown",en=>{const{marks:Rn}=en,Jn=Rn.map(nr=>{if(nr.id!==om&&nr.type!=="rect")return nr;const{data:mr}=nr,Vr=Object.fromEntries(["color"].map(fi=>[fi,{domain:R.scale[fi].getOptions().domain}])),Hr=mr.filter(fi=>{const dr=fi.path;return a||(fi[Vy]=dr.split(" / ")[Mt]),ut?new RegExp(`^${ut}.+`).test(dr):!0});return(0,Ui.Z)({},nr,a?{data:Hr,scale:Vr}:{data:Hr})});return Object.assign(Object.assign({},en),{marks:Jn})}),yield p()}),Re=ut=>{const Mt=ut.target;if((0,Pc.Z)(Mt,["style",OE])!==om||(0,Pc.Z)(Mt,["markType"])!=="rect"||!(0,Pc.Z)(Mt,["style",P1]))return;const en=(0,Pc.Z)(Mt,["__data__","key"]),Rn=(0,Pc.Z)(Mt,["style","depth"]);Mt.style.cursor="pointer",be(en,Rn)};k.addEventListener("click",Re);const Ie=Zv(Object.assign(Object.assign({},te.active),te.inactive)),it=()=>{kb(k).forEach(Mt=>{const en=(0,Pc.Z)(Mt,["style",P1]);if((0,Pc.Z)(Mt,["style","cursor"])!=="pointer"&&en){Mt.style.cursor="pointer";const Jn=(0,Fa.Z)(Mt.attributes,Ie);Mt.addEventListener("mouseenter",()=>{Mt.attr(te.active)}),Mt.addEventListener("mouseleave",()=>{Mt.attr((0,Ui.Z)(Jn,te.inactive))})}})};return k.addEventListener("mousemove",it),()=>{de.remove(),k.removeEventListener("click",Re),k.removeEventListener("mousemove",it)}}}function TS(){return{"interaction.drillDown":sm,"mark.sunburst":ES}}const wE=()=>[["cartesian"]];wE.props={};const fg=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];fg.props={transform:!0};const c3=(n={})=>{const i={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},i),n)},lp=n=>{const{startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=c3(n);return[...fg(),...So({startAngle:i,endAngle:a,innerRadius:o,outerRadius:l})]};lp.props={};const jv=()=>[["parallel",0,1,0,1]];jv.props={};const ME=({focusX:n=0,focusY:i=0,distortionX:a=2,distortionY:o=2,visual:l=!1})=>[["fisheye",n,i,a,o,l]];ME.props={transform:!0};const RE=n=>{const{startAngle:i=-Math.PI/2,endAngle:a=Math.PI*3/2,innerRadius:o=0,outerRadius:l=1}=n;return[...jv(),...So({startAngle:i,endAngle:a,innerRadius:o,outerRadius:l})]};RE.props={};const Hv=({value:n})=>i=>i.map(()=>n);Hv.props={};const f3=({value:n})=>i=>i.map(a=>a[n]);f3.props={};const PE=({value:n})=>i=>i.map(n);PE.props={};const d3=({value:n})=>()=>n;d3.props={};function jf(n,i){if(n!==null)return{type:"column",value:n,field:i}}function Bb(n,i){const a=jf(n,i);return Object.assign(Object.assign({},a),{inferred:!0})}function Yy(n,i){if(n!==null)return{type:"column",value:n,field:i,visual:!0}}function Fb(n,i){const a=jf(n,i);return Object.assign(Object.assign({},a),{constant:!1})}function Vm(n,i){const a=[];for(const o of n)a[o]=i;return a}function Zc(n,i){const a=n[i];if(!a)return[null,null];const{value:o,field:l=null}=a;return[o,l]}function Ub(n,...i){for(const a of i)if(typeof a=="string"){const[o,l]=Zc(n,a);if(o!==null)return[o,l]}else return[a,null];return[null,null]}function $y(n){return n instanceof Date?!1:typeof n=="object"}const I1=()=>(n,i)=>{const{encode:a}=i,{y1:o}=a;return o!==void 0?[n,i]:[n,(0,Ui.Z)({},i,{encode:{y1:Bb(Vm(n,0))}})]};I1.props={};const Gm=()=>(n,i)=>{const{encode:a}=i,{x:o}=a;return o!==void 0?[n,i]:[n,(0,Ui.Z)({},i,{encode:{x:Bb(Vm(n,0))},scale:{x:{guide:null}}})]};Gm.props={};const L1=(n,i)=>fu(Object.assign({colorAttribute:"fill"},n),i);L1.props=Object.assign(Object.assign({},fu.props),{defaultMarker:"square"});const IE=(n,i)=>fu(Object.assign({colorAttribute:"stroke"},n),i);IE.props=Object.assign(Object.assign({},fu.props),{defaultMarker:"hollowSquare"});function dg(){}function h3(n){this._context=n}h3.prototype={areaStart:dg,areaEnd:dg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,i){n=+n,i=+i,this._point?this._context.lineTo(n,i):(this._point=1,this._context.moveTo(n,i))}};function LE(n){return new h3(n)}var SS=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function AS(n,i,a){const[o,l,p,v]=n;if(Xo(a)){const P=[i?i[0][0]:l[0],l[1]],I=[i?i[3][0]:p[0],p[1]];return[o,P,I,v]}const S=[l[0],i?i[0][1]:l[1]],R=[p[0],i?i[3][1]:p[1]];return[o,S,R,v]}const zb=(n,i)=>{const{adjustPoints:a=AS}=n,o=SS(n,["adjustPoints"]),{coordinate:l,document:p}=i;return(v,S,R,P)=>{const{index:I}=S,{color:k}=R,z=SS(R,["color"]),te=P[I+1],de=a(v,te,l),be=!!Xo(l),[Re,Ie,it,ut]=be?b(de):de,{color:Mt=k,opacity:en}=S,Rn=rc().curve(LE)([Re,Ie,it,ut]);return Ii(p.createElement("path",{})).call($o,z).style("d",Rn).style("fill",Mt).style("fillOpacity",en).call($o,o).node()}};zb.props={defaultMarker:"square"};function Zb(n,i,a){const[o,l,p,v]=n;if(Xo(a)){const P=[i?i[0][0]:(l[0]+p[0])/2,l[1]],I=[i?i[3][0]:(l[0]+p[0])/2,p[1]];return[o,P,I,v]}const S=[l[0],i?i[0][1]:(l[1]+p[1])/2],R=[p[0],i?i[3][1]:(l[1]+p[1])/2];return[o,S,R,v]}const NE=(n,i)=>zb(Object.assign({adjustPoints:Zb},n),i);NE.props={defaultMarker:"square"};function Xy(n){return Math.abs(n)>10?String(n):n.toString().padStart(2,"0")}function CS(n){const i=n.getFullYear(),a=Xy(n.getMonth()+1),o=Xy(n.getDate()),l=`${i}-${a}-${o}`,p=n.getHours(),v=n.getMinutes(),S=n.getSeconds();return p||v||S?`${l} ${Xy(p)}:${Xy(v)}:${Xy(S)}`:l}const Wv=(n={})=>{const{channel:i="x"}=n;return(a,o)=>{const{encode:l}=o,{tooltip:p}=o;if($i(p))return[a,o];const{title:v}=p;if(v!==void 0)return[a,o];const S=Object.keys(l).filter(P=>P.startsWith(i)).filter(P=>!l[P].inferred).map(P=>Zc(l,P)).filter(([P])=>P).map(P=>P[0]);if(S.length===0)return[a,o];const R=[];for(const P of a)R[P]={value:S.map(I=>I[P]instanceof Date?CS(I[P]):I[P]).join(", ")};return[a,(0,Ui.Z)({},o,{tooltip:{title:R}})]}};Wv.props={};const Ky=n=>{const{channel:i}=n;return(a,o)=>{const{encode:l,tooltip:p}=o;if($i(p))return[a,o];const{items:v=[]}=p;if(!v||v.length>0)return[a,o];const R=(Array.isArray(i)?i:[i]).flatMap(P=>Object.keys(l).filter(I=>I.startsWith(P)).map(I=>{const{field:k,value:z,inferred:te=!1,aggregate:de}=l[I];return te?null:de&&z?{channel:I}:k?{field:k}:z?{channel:I}:null}).filter(I=>I!==null));return[a,(0,Ui.Z)({},o,{tooltip:{items:R}})]}};Ky.props={};var OS=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const DE=()=>(n,i)=>{const{encode:a}=i,{key:o}=a,l=OS(a,["key"]);if(o!==void 0)return[n,i];const p=Object.values(l).map(({value:S})=>S),v=n.map(S=>p.filter(Array.isArray).map(R=>R[S]).join("-"));return[n,(0,Ui.Z)({},i,{encode:{key:jf(v)}})]};DE.props={};function p3(n={}){const{shapes:i}=n;return[{name:"color"},{name:"opacity"},{name:"shape",range:i},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function cp(n={}){return[...p3(n),{name:"title",scale:"identity"}]}function kE(){return[{type:MaybeTitle,channel:"color"},{type:MaybeTooltip,channel:["x","y","z"]}]}function um(){return[{type:Wv,channel:"color"},{type:Ky,channel:["x","y"]}]}function Qy(){return[{type:Wv,channel:"x"},{type:Ky,channel:["y"]}]}function hO(){return[{type:Wv,channel:"color"},{type:Ky,channel:["position"]}]}function Ym(n={}){return p3(n)}function Md(){return[{type:DE}]}function Qd(){return[]}function jb(n,i){return n.getBandWidth(n.invert(i))}function Lg(n,i,a={}){const{x:o,y:l,series:p}=i,{x:v,y:S,series:R}=n,{style:{bandOffset:P=R?0:.5,bandOffsetX:I=P,bandOffsetY:k=P}={}}=a,z=!!(v!=null&&v.getBandWidth),te=!!(S!=null&&S.getBandWidth),de=!!(R!=null&&R.getBandWidth);return!z&&!te?be=>be:(be,Re)=>{const Ie=z?jb(v,o[Re]):0,it=te?jb(S,l[Re]):0,Mt=de&&p?(jb(R,p[Re])/2+ +p[Re])*Ie:0,[en,Rn]=be;return[en+I*Ie+Mt,Rn+k*it]}}function N1(n){return parseFloat(n)/100}function Hb(n,i,a,o){const{x:l,y:p}=a,{innerWidth:v,innerHeight:S}=o.getOptions(),R=Array.from(n,P=>{const I=l[P],k=p[P],z=typeof I=="string"?N1(I)*v:+I,te=typeof k=="string"?N1(k)*S:+k;return[[z,te]]});return[n,R]}function lm(n){return typeof n=="function"?n:i=>i[n]}function BE(n,i){return Array.from(n,lm(i))}function FE(n,i){const{source:a=I=>I.source,target:o=I=>I.target,value:l=I=>I.value}=i,{links:p,nodes:v}=n,S=BE(p,a),R=BE(p,o),P=BE(p,l);return{links:p.map((I,k)=>({target:R[k],source:S[k],value:P[k]})),nodes:v||Array.from(new Set([...S,...R]),I=>({key:I}))}}function fp(n,i){return n.getBandWidth(n.invert(i))}const Wb={rect:L1,hollow:IE,funnel:zb,pyramid:NE},qy=()=>(n,i,a,o)=>{const{x:l,y:p,y1:v,series:S,size:R}=a,P=i.x,I=i.series,[k]=o.getSize(),z=R?R.map(be=>+be/k):null,te=R?(be,Re,Ie)=>{const it=be+Re/2,ut=z[Ie];return[it-ut/2,it+ut/2]}:(be,Re,Ie)=>[be,be+Re],de=Array.from(n,be=>{const Re=fp(P,l[be]),Ie=I?fp(I,S==null?void 0:S[be]):1,it=Re*Ie,ut=(+(S==null?void 0:S[be])||0)*Re,Mt=+l[be]+ut,[en,Rn]=te(Mt,it,be),Jn=+p[be],nr=+v[be];return[[en,Jn],[Rn,Jn],[Rn,nr],[en,nr]].map(dr=>o.map(dr))});return[n,de]};qy.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:Wb,channels:[...cp({shapes:Object.keys(Wb)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...Md(),{type:I1},{type:Gm}],postInference:[...Qd(),...Qy()],interaction:{shareTooltip:!0}};const Vb={rect:L1,hollow:IE},wS=()=>(n,i,a,o)=>{const{x:l,x1:p,y:v,y1:S}=a,R=Array.from(n,P=>{const I=[+l[P],+v[P]],k=[+p[P],+v[P]],z=[+p[P],+S[P]],te=[+l[P],+S[P]];return[I,k,z,te].map(de=>o.map(de))});return[n,R]};wS.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:Vb,channels:[...cp({shapes:Object.keys(Vb)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Md(),{type:I1}],postInference:[...Qd(),...Qy()],interaction:{shareTooltip:!0}};var Gb=Yb(Tc);function g3(n){this._curve=n}g3.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(n,i){this._curve.point(i*Math.sin(n),i*-Math.cos(n))}};function Yb(n){function i(a){return new g3(n(a))}return i._curve=n,i}function D1(n){var i=n.curve;return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n.curve=function(a){return arguments.length?i(Yb(a)):i()._curve},n}function hg(){return D1(rc().curve(Gb))}var G0=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Ng=Du(n=>{const{d1:i,d2:a,style1:o,style2:l}=n.attributes,p=n.ownerDocument;Ii(n).maybeAppend("line",()=>p.createElement("path",{})).style("d",i).call($o,o),Ii(n).maybeAppend("line1",()=>p.createElement("path",{})).style("d",a).call($o,l)});function pO(n,i){const a=[],o=[];let l=!1,p=null;for(const v of n)!i(v[0])||!i(v[1])?l=!0:(a.push(v),l&&(l=!1,o.push([p,v])),p=v);return[a,o]}const Lp=(n,i)=>{const{curve:a,gradient:o=!1,gradientColor:l="between",defined:p=I=>!Number.isNaN(I)&&I!==void 0&&I!==null,connect:v=!1}=n,S=G0(n,["curve","gradient","gradientColor","defined","connect"]),{coordinate:R,document:P}=i;return(I,k,z)=>{const{color:te,lineWidth:de}=z,be=G0(z,["color","lineWidth"]),{color:Re=te,size:Ie=de,seriesColor:it,seriesX:ut,seriesY:Mt}=k,en=_i(R,k),Rn=Xo(R),Jn=o&&it?qu(it,ut,Mt,o,l,Rn):Re,nr=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},be),Jn&&{stroke:Jn}),Ie&&{lineWidth:Ie}),en&&{transform:en}),S);let mr;if(wt(R)){const lr=R.getCenter();mr=hr=>hg().angle((Ti,Rr)=>Hi(vu(hr[Rr],lr))).radius((Ti,Rr)=>bl(hr[Rr],lr)).defined(([Ti,Rr])=>p(Ti)&&p(Rr)).curve(a)(hr)}else mr=rc().x(lr=>lr[0]).y(lr=>lr[1]).defined(([lr,hr])=>p(lr)&&p(hr)).curve(a);const[Vr,Hr]=pO(I,p),fi=jt(nr,"connect"),dr=!!Hr.length;if(!dr||v&&!Object.keys(fi).length)return Ii(P.createElement("path",{})).style("d",mr(Vr)||[]).call($o,nr).node();if(dr&&!v)return Ii(P.createElement("path",{})).style("d",mr(I)).call($o,nr).node();const _r=lr=>lr.map(mr).join(",");return Ii(new Ng).style("style1",Object.assign(Object.assign({},nr),fi)).style("style2",nr).style("d1",_r(Hr)).style("d2",mr(I)).node()}};Lp.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const m3=(n,i)=>{const{coordinate:a}=i;return(...o)=>{const l=wt(a)?LE:Tc;return Lp(Object.assign({curve:l},n),i)(...o)}};m3.props=Object.assign(Object.assign({},Lp.props),{defaultMarker:"line"});function cm(n,i,a){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-i),n._y2+n._k*(n._y1-a),n._x2,n._y2)}function Dg(n,i){this._context=n,this._k=(1-i)/6}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cm(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2,this._x1=n,this._y1=i;break;case 2:this._point=3;default:cm(this,n,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var gO=function n(i){function a(o){return new Dg(o,i)}return a.tension=function(o){return n(+o)},a}(0);function $b(n,i){this._context=n,this._k=(1-i)/6}$b.prototype={areaStart:dg,areaEnd:dg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._x3=n,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=i);break;case 2:this._point=3,this._x5=n,this._y5=i;break;default:cm(this,n,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var UE=function n(i){function a(o){return new $b(o,i)}return a.tension=function(o){return n(+o)},a}(0);function zE(n,i,a){var o=n._x1,l=n._y1,p=n._x2,v=n._y2;if(n._l01_a>bo){var S=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,R=3*n._l01_a*(n._l01_a+n._l12_a);o=(o*S-n._x0*n._l12_2a+n._x2*n._l01_2a)/R,l=(l*S-n._y0*n._l12_2a+n._y2*n._l01_2a)/R}if(n._l23_a>bo){var P=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,I=3*n._l23_a*(n._l23_a+n._l12_a);p=(p*P+n._x1*n._l23_2a-i*n._l12_2a)/I,v=(v*P+n._y1*n._l23_2a-a*n._l12_2a)/I}n._context.bezierCurveTo(o,l,p,v,n._x2,n._y2)}function ZE(n,i){this._context=n,this._alpha=i}ZE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){if(n=+n,i=+i,this._point){var a=this._x2-n,o=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;break;case 2:this._point=3;default:zE(this,n,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var $m=function n(i){function a(o){return i?new ZE(o,i):new Dg(o,0)}return a.alpha=function(o){return n(+o)},a}(.5);function MS(n,i){this._context=n,this._alpha=i}MS.prototype={areaStart:dg,areaEnd:dg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,i){if(n=+n,i=+i,this._point){var a=this._x2-n,o=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=i);break;case 2:this._point=3,this._x5=n,this._y5=i;break;default:zE(this,n,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var pg=function n(i){function a(o){return i?new MS(o,i):new $b(o,0)}return a.alpha=function(o){return n(+o)},a}(.5);function RS(n){return n<0?-1:1}function Np(n,i,a){var o=n._x1-n._x0,l=i-n._x1,p=(n._y1-n._y0)/(o||l<0&&-0),v=(a-n._y1)/(l||o<0&&-0),S=(p*l+v*o)/(o+l);return(RS(p)+RS(v))*Math.min(Math.abs(p),Math.abs(v),.5*Math.abs(S))||0}function fm(n,i){var a=n._x1-n._x0;return a?(3*(n._y1-n._y0)/a-i)/2:i}function Jy(n,i,a){var o=n._x0,l=n._y0,p=n._x1,v=n._y1,S=(p-o)/3;n._context.bezierCurveTo(o+S,l+S*i,p-S,v-S*a,p,v)}function Xm(n){this._context=n}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jy(this,this._t0,fm(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){var a=NaN;if(n=+n,i=+i,!(n===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;break;case 2:this._point=3,Jy(this,fm(this,a=Np(this,n,i)),a);break;default:Jy(this,this._t0,a=Np(this,n,i));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=i,this._t0=a}}};function v3(n){this._context=new Xb(n)}(v3.prototype=Object.create(Xm.prototype)).point=function(n,i){Xm.prototype.point.call(this,i,n)};function Xb(n){this._context=n}Xb.prototype={moveTo:function(n,i){this._context.moveTo(i,n)},closePath:function(){this._context.closePath()},lineTo:function(n,i){this._context.lineTo(i,n)},bezierCurveTo:function(n,i,a,o,l,p){this._context.bezierCurveTo(i,n,o,a,p,l)}};function jE(n){return new Xm(n)}function y3(n){return new v3(n)}var PS=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Kb=(n,i)=>{const a=PS(n,[]),{coordinate:o}=i;return(...l)=>{const p=wt(o)?pg:Xo(o)?y3:jE;return Lp(Object.assign({curve:p},a),i)(...l)}};Kb.props=Object.assign(Object.assign({},Lp.props),{defaultMarker:"smooth"});function k1(n,i){this._context=n,this._t=i}k1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(n,i);else{var a=this._x*(1-this._t)+n*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,i)}break}}this._x=n,this._y=i}};function _3(n){return new k1(n,.5)}function b3(n){return new k1(n,0)}function HE(n){return new k1(n,1)}const Jh=(n,i)=>Lp(Object.assign({curve:HE},n),i);Jh.props=Object.assign(Object.assign({},Lp.props),{defaultMarker:"hv"});const Qb=(n,i)=>Lp(Object.assign({curve:b3},n),i);Qb.props=Object.assign(Object.assign({},Lp.props),{defaultMarker:"vh"});const WE=(n,i)=>Lp(Object.assign({curve:_3},n),i);WE.props=Object.assign(Object.assign({},Lp.props),{defaultMarker:"hvh"});var IS=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function LS(n,i,a,o,l){const p=vu(a,i),v=pc(p),S=v+Math.PI/2,R=[o/2*Math.cos(S),o/2*Math.sin(S)],P=[l/2*Math.cos(S),l/2*Math.sin(S)],I=[l/2*Math.cos(v),l/2*Math.sin(v)],k=[o/2*Math.cos(v),o/2*Math.sin(v)],z=yc(i,R),te=yc(a,P),de=yc(te,I),be=yc(a,I),Re=vu(be,P),Ie=vu(a,P),it=vu(i,R),ut=vu(it,k),Mt=vu(i,k),en=vu(z,k);n.moveTo(...z),n.lineTo(...te),n.arcTo(...de,...be,l/2),n.arcTo(...Re,...Ie,l/2),n.lineTo(...it),n.arcTo(...ut,...Mt,o/2),n.arcTo(...en,...z,o/2),n.closePath()}const e_=(n,i)=>{const{document:a}=i;return(o,l,p)=>{const{seriesSize:v,color:S}=l,{color:R}=p,P=IS(p,["color"]),I=Hs();for(let k=0;k<o.length-1;k++){const z=o[k],te=o[k+1],de=v[k],be=v[k+1];[...z,...te].every(Hn)&&LS(I,z,te,de,be)}return Ii(a.createElement("path",{})).call($o,P).style("fill",S||R).style("d",I.toString()).call($o,n).node()}};e_.props=Object.assign(Object.assign({},Lp.props),{defaultMarker:"line"});const qb=()=>(n,i)=>{const{style:a={},encode:o}=i,{series:l}=o,{gradient:p}=a;return!p||l?[n,i]:[n,(0,Ui.Z)({},i,{encode:{series:Yy(Vm(n,void 0))}})]};qb.props={};const Jb=()=>(n,i)=>{const{encode:a}=i,{series:o,color:l}=a;if(o!==void 0||l===void 0)return[n,i];const[p,v]=Zc(a,"color");return[n,(0,Ui.Z)({},i,{encode:{series:jf(p,v)}})]};Jb.props={};const VE={line:m3,smooth:Kb,hv:Jh,vh:Qb,hvh:WE,trail:e_},e2=(n,i,a,o)=>{var l,p;const{series:v,x:S,y:R}=a,{x:P,y:I}=i;if(S===void 0||R===void 0)throw new Error("Missing encode for x or y channel.");const k=v?Array.from(_e(n,Re=>v[Re]).values()):[n],z=k.map(Re=>Re[0]).filter(Re=>Re!==void 0),te=(((l=P==null?void 0:P.getBandWidth)===null||l===void 0?void 0:l.call(P))||0)/2,de=(((p=I==null?void 0:I.getBandWidth)===null||p===void 0?void 0:p.call(I))||0)/2,be=Array.from(k,Re=>Re.map(Ie=>o.map([+S[Ie]+te,+R[Ie]+de])));return[z,be,k]},GE=(n,i,a,o)=>{const l=Object.entries(a).filter(([v])=>v.startsWith("position")).map(([,v])=>v);if(l.length===0)throw new Error("Missing encode for position channel.");const p=Array.from(n,v=>{const S=l.map(I=>+I[v]),R=o.map(S),P=[];for(let I=0;I<R.length;I+=2)P.push([R[I],R[I+1]]);return P});return[n,p]},E3=()=>(n,i,a,o)=>(wr(o)?GE:e2)(n,i,a,o);E3.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:VE,channels:[...cp({shapes:Object.keys(VE)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Md(),{type:qb},{type:Jb}],postInference:[...Qd(),...Qy(),...hO()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};var t2=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function kg(n,i,a,o){if(i.length===1)return;const{size:l}=a;if(n==="fixed")return l;if(n==="normal"||hi(o)){const[[p,v],[S,R]]=i,P=Math.abs((S-p)/2),I=Math.abs((R-v)/2);return Math.max(0,(P+I)/2)}return l}const fc=(n,i)=>{const{colorAttribute:a,symbol:o,mode:l="auto"}=n,p=t2(n,["colorAttribute","symbol","mode"]),v=hn.get(o)||hn.get("point"),{coordinate:S,document:R}=i;return(P,I,k)=>{const{lineWidth:z,color:te}=k,de=p.stroke?z||1:z,{color:be=te,transform:Re,opacity:Ie}=I,[it,ut]=Oa(P),en=kg(l,P,I,S)||p.r||k.r;return Ii(R.createElement("path",{})).call($o,k).style("fill","transparent").style("d",v(it,ut,en)).style("lineWidth",de).style("transform",Re).style("transformOrigin",`${it-en} ${ut-en}`).style("stroke",be).style(On(n),Ie).style(a,be).call($o,p).node()}};fc.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const t_=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"point"},n),i);t_.props=Object.assign({defaultMarker:"hollowPoint"},fc.props);const n_=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"diamond"},n),i);n_.props=Object.assign({defaultMarker:"hollowDiamond"},fc.props);const m=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},n),i);m.props=Object.assign({defaultMarker:"hollowHexagon"},fc.props);const s=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"square"},n),i);s.props=Object.assign({defaultMarker:"hollowSquare"},fc.props);const c=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},n),i);c.props=Object.assign({defaultMarker:"hollowTriangleDown"},fc.props);const f=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"triangle"},n),i);f.props=Object.assign({defaultMarker:"hollowTriangle"},fc.props);const g=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},n),i);g.props=Object.assign({defaultMarker:"hollowBowtie"},fc.props);var _=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const O=(n,i)=>{const{colorAttribute:a,mode:o="auto"}=n,l=_(n,["colorAttribute","mode"]),{coordinate:p,document:v}=i;return(S,R,P)=>{const{lineWidth:I,color:k}=P,z=l.stroke?I||1:I,{color:te=k,transform:de,opacity:be}=R,[Re,Ie]=Oa(S),ut=kg(o,S,R,p)||l.r||P.r;return Ii(v.createElement("circle",{})).call($o,P).style("fill","transparent").style("cx",Re).style("cy",Ie).style("r",ut).style("lineWidth",z).style("transform",de).style("transformOrigin",`${Re} ${Ie}`).style("stroke",te).style(On(n),be).style(a,te).call($o,l).node()}},D=(n,i)=>O(Object.assign({colorAttribute:"fill"},n),i);D.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const G=(n,i)=>O(Object.assign({colorAttribute:"stroke"},n),i);G.props=Object.assign({defaultMarker:"hollowPoint"},D.props);const Q=(n,i)=>fc(Object.assign({colorAttribute:"fill",symbol:"point"},n),i);Q.props=Object.assign({defaultMarker:"point"},fc.props);const oe=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"plus"},n),i);oe.props=Object.assign({defaultMarker:"plus"},fc.props);const Se=(n,i)=>fc(Object.assign({colorAttribute:"fill",symbol:"diamond"},n),i);Se.props=Object.assign({defaultMarker:"diamond"},fc.props);const Ye=(n,i)=>fc(Object.assign({colorAttribute:"fill",symbol:"square"},n),i);Ye.props=Object.assign({defaultMarker:"square"},fc.props);const dt=(n,i)=>fc(Object.assign({colorAttribute:"fill",symbol:"triangle"},n),i);dt.props=Object.assign({defaultMarker:"triangle"},fc.props);const Kt=(n,i)=>fc(Object.assign({colorAttribute:"fill",symbol:"hexagon"},n),i);Kt.props=Object.assign({defaultMarker:"hexagon"},fc.props);const An=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"cross"},n),i);An.props=Object.assign({defaultMarker:"cross"},fc.props);const Wn=(n,i)=>fc(Object.assign({colorAttribute:"fill",symbol:"bowtie"},n),i);Wn.props=Object.assign({defaultMarker:"bowtie"},fc.props);const $r=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},n),i);$r.props=Object.assign({defaultMarker:"hyphen"},fc.props);const ni=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"line"},n),i);ni.props=Object.assign({defaultMarker:"line"},fc.props);const Kr=(n,i)=>fc(Object.assign({colorAttribute:"stroke",symbol:"tick"},n),i);Kr.props=Object.assign({defaultMarker:"tick"},fc.props);const pa=(n,i)=>fc(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},n),i);pa.props=Object.assign({defaultMarker:"triangleDown"},fc.props);const Ia=()=>(n,i)=>{const{encode:a}=i,{y:o}=a;return o!==void 0?[n,i]:[n,(0,Ui.Z)({},i,{encode:{y:Bb(Vm(n,0))},scale:{y:{guide:null}}})]};Ia.props={};const $a=()=>(n,i)=>{const{encode:a}=i,{size:o}=a;return o!==void 0?[n,i]:[n,(0,Ui.Z)({},i,{encode:{size:Yy(Vm(n,3))}})]};$a.props={};const Go={hollow:t_,hollowDiamond:n_,hollowHexagon:m,hollowSquare:s,hollowTriangleDown:c,hollowTriangle:f,hollowBowtie:g,hollowCircle:G,point:Q,plus:oe,diamond:Se,square:Ye,triangle:dt,hexagon:Kt,cross:An,bowtie:Wn,hyphen:$r,line:ni,tick:Kr,triangleDown:pa,circle:D},Jo=n=>(i,a,o,l)=>{const{x:p,y:v,x1:S,y1:R,size:P,dx:I,dy:k}=o,[z,te]=l.getSize(),de=Lg(a,o,n),be=Ie=>{const it=+((I==null?void 0:I[Ie])||0),ut=+((k==null?void 0:k[Ie])||0),Mt=S?(+p[Ie]+ +S[Ie])/2:+p[Ie],en=R?(+v[Ie]+ +R[Ie])/2:+v[Ie],Rn=Mt+it,Jn=en+ut;return[Rn,Jn]},Re=P?Array.from(i,Ie=>{const[it,ut]=be(Ie),Mt=+P[Ie],en=Mt/z,Rn=Mt/te,Jn=[it-en,ut-Rn],nr=[it+en,ut+Rn];return[l.map(de(Jn,Ie)),l.map(de(nr,Ie))]}):Array.from(i,Ie=>[l.map(de(be(Ie),Ie))]);return[i,Re]};Jo.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:Go,channels:[...cp({shapes:Object.keys(Go)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...Md(),{type:Gm},{type:Ia}],postInference:[...Qd(),{type:$a},...um()]};const Rs=(n,i)=>{const{coordinate:a}=i;return(o,l,p)=>{const{color:v,text:S="",fontSize:R,rotate:P=0,transform:I=""}=l,k={text:String(S),stroke:v,fill:v,fontSize:R},[[z,te]]=o;return Ii(new Gh).style("x",z).style("y",te).call($o,p).style("transform",`${I}rotate(${+P})`).style("coordCenter",a.getCenter()).call($o,k).call($o,n).node()}};Rs.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Fu=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function fl(n){const i=n/Math.sqrt(2),a=n*Math.sqrt(2),[o,l]=[-i,i-a],[p,v]=[0,0],[S,R]=[i,i-a];return[["M",o,l],["A",n,n,0,1,1,S,R],["L",p,v],["Z"]]}function Ou(n){const{min:i,max:a}=n.getLocalBounds();return[(i[0]+a[0])*.5,(i[1]+a[1])*.5]}const vf=Du(n=>{const i=n.attributes,{class:a,x:o,y:l,transform:p}=i,v=Fu(i,["class","x","y","transform"]),S=jt(v,"marker"),{size:R=24}=S,P=()=>fl(R/2),I=Ii(n).maybeAppend("marker",()=>new is.J({})).call(te=>te.node().update(Object.assign({symbol:P},S))).node(),[k,z]=Ou(I);Ii(n).maybeAppend("text","text").style("x",k).style("y",z).call($o,v)}),gc=(n,i)=>{const a=Fu(n,[]);return(o,l,p)=>{const{color:v}=p,S=Fu(p,["color"]),{color:R=v,text:P=""}=l,I={text:String(P),stroke:R,fill:R},[[k,z]]=o;return Ii(new vf).call($o,S).style("transform",`translate(${k},${z})`).call($o,I).call($o,a).node()}};gc.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const mc=(n,i)=>{const{coordinate:a}=i;return(o,l,p)=>{const{color:v,text:S="",fontSize:R,rotate:P=0,transform:I=""}=l,k={text:String(S),stroke:v,fill:v,fontSize:R,textAlign:"center",textBaseline:"middle"},[[z,te]]=o;return Ii(new Oe.xv).style("x",z).style("y",te).call($o,p).style("transformOrigin","center center").style("transform",`${I}rotate(${P}deg)`).style("coordCenter",a.getCenter()).call($o,k).call($o,n).node()}};mc.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Lc=()=>(n,i)=>{const{data:a}=i;if(!Array.isArray(a)||a.some($y))return[n,i];const o=Array.isArray(a[0])?a:[a],l=o.map(v=>v[0]),p=o.map(v=>v[1]);return[n,(0,Ui.Z)({},i,{encode:{x:jf(l),y:jf(p)}})]};Lc.props={};var lf=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const jc=()=>(n,i)=>{const{data:a,style:o={}}=i,l=lf(i,["data","style"]),{x:p,y:v}=o,S=lf(o,["x","y"]);if(p==null||v==null)return[n,i];const R=p||0,P=v||0;return[[0],(0,Ui.Z)({},l,{data:[0],cartesian:!0,encode:{x:jf([R]),y:jf([P])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:S})]};jc.props={};const zs={text:Rs,badge:gc,tag:mc},Uu=n=>{const{cartesian:i=!1}=n;return i?Hb:(a,o,l,p)=>{const{x:v,y:S}=l,R=Lg(o,l,n),P=Array.from(a,I=>{const k=[+v[I],+S[I]];return[p.map(R(k,I))]});return[a,P]}};Uu.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:zs,channels:[...cp({shapes:Object.keys(zs)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...Md(),{type:Lc},{type:jc}],postInference:[...Qd(),...um()]};const ml=()=>(n,i)=>[n,(0,Ui.Z)({scale:{x:{padding:0},y:{padding:0}}},i)];ml.props={};const Zl={cell:L1,hollow:IE},Pl=()=>(n,i,a,o)=>{const{x:l,y:p}=a,v=i.x,S=i.y,R=Array.from(n,P=>{const I=v.getBandWidth(v.invert(+l[P])),k=S.getBandWidth(S.invert(+p[P])),z=+l[P],te=+p[P],de=[z,te],be=[z+I,te],Re=[z+I,te+k],Ie=[z,te+k];return[de,be,Re,Ie].map(it=>o.map(it))});return[n,R]};Pl.props={defaultShape:"cell",defaultLabelShape:"label",shape:Zl,composite:!1,channels:[...cp({shapes:Object.keys(Zl)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...Md(),{type:Gm},{type:Ia},{type:ml}],postInference:[...Qd(),...um()]};function Dd(n,i,a){var o=null,l=ul(!0),p=null,v=Tc,S=null,R=tf(P);n=typeof n=="function"?n:n===void 0?Gl:ul(+n),i=typeof i=="function"?i:ul(i===void 0?0:+i),a=typeof a=="function"?a:a===void 0?Uf:ul(+a);function P(k){var z,te,de,be=(k=Vu(k)).length,Re,Ie=!1,it,ut=new Array(be),Mt=new Array(be);for(p==null&&(S=v(it=R())),z=0;z<=be;++z){if(!(z<be&&l(Re=k[z],z,k))===Ie)if(Ie=!Ie)te=z,S.areaStart(),S.lineStart();else{for(S.lineEnd(),S.lineStart(),de=z-1;de>=te;--de)S.point(ut[de],Mt[de]);S.lineEnd(),S.areaEnd()}Ie&&(ut[z]=+n(Re,z,k),Mt[z]=+i(Re,z,k),S.point(o?+o(Re,z,k):ut[z],a?+a(Re,z,k):Mt[z]))}if(it)return S=null,it+""||null}function I(){return rc().defined(l).curve(v).context(p)}return P.x=function(k){return arguments.length?(n=typeof k=="function"?k:ul(+k),o=null,P):n},P.x0=function(k){return arguments.length?(n=typeof k=="function"?k:ul(+k),P):n},P.x1=function(k){return arguments.length?(o=k==null?null:typeof k=="function"?k:ul(+k),P):o},P.y=function(k){return arguments.length?(i=typeof k=="function"?k:ul(+k),a=null,P):i},P.y0=function(k){return arguments.length?(i=typeof k=="function"?k:ul(+k),P):i},P.y1=function(k){return arguments.length?(a=k==null?null:typeof k=="function"?k:ul(+k),P):a},P.lineX0=P.lineY0=function(){return I().x(n).y(i)},P.lineY1=function(){return I().x(n).y(a)},P.lineX1=function(){return I().x(o).y(i)},P.defined=function(k){return arguments.length?(l=typeof k=="function"?k:ul(!!k),P):l},P.curve=function(k){return arguments.length?(v=k,p!=null&&(S=v(p)),P):v},P.context=function(k){return arguments.length?(k==null?p=S=null:S=v(p=k),P):p},P}function kd(){var n=Dd().curve(Gb),i=n.curve,a=n.lineX0,o=n.lineX1,l=n.lineY0,p=n.lineY1;return n.angle=n.x,delete n.x,n.startAngle=n.x0,delete n.x0,n.endAngle=n.x1,delete n.x1,n.radius=n.y,delete n.y,n.innerRadius=n.y0,delete n.y0,n.outerRadius=n.y1,delete n.y1,n.lineStartAngle=function(){return D1(a())},delete n.lineX0,n.lineEndAngle=function(){return D1(o())},delete n.lineX1,n.lineInnerRadius=function(){return D1(l())},delete n.lineY0,n.lineOuterRadius=function(){return D1(p())},delete n.lineY1,n.curve=function(v){return arguments.length?i(Yb(v)):i()._curve},n}var Y0=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function F0(n,i){const a=[],o=[],l=[];let p=!1,v=null;const S=n.length/2;for(let R=0;R<S;R++){const P=n[R],I=n[R+S];if([...P,...I].some(k=>!i(k)))p=!0;else{if(a.push(P),o.push(I),p&&v){p=!1;const[k,z]=v;l.push([k,P,z,I])}v=[P,I]}}return[a.concat(o),l]}const u0=Du(n=>{const{areaPath:i,connectPath:a,areaStyle:o,connectStyle:l}=n.attributes,p=n.ownerDocument;Ii(n).maybeAppend("connect-path",()=>p.createElement("path",{})).style("d",a).call($o,l),Ii(n).maybeAppend("area-path",()=>p.createElement("path",{})).style("d",i).call($o,o)}),Nf=(n,i)=>{const{curve:a,gradient:o=!1,defined:l=P=>!Number.isNaN(P)&&P!==void 0&&P!==null,connect:p=!1}=n,v=Y0(n,["curve","gradient","defined","connect"]),{coordinate:S,document:R}=i;return(P,I,k)=>{const{color:z}=k,{color:te=z,seriesColor:de,seriesX:be,seriesY:Re}=I,Ie=Xo(S),it=_i(S,I),ut=o&&de?qu(de,be,Re,o,void 0,Ie):te,Mt=Object.assign(Object.assign(Object.assign(Object.assign({},k),{stroke:ut,fill:ut}),it&&{transform:it}),v),[en,Rn]=F0(P,l),Jn=jt(Mt,"connect"),nr=!!Rn.length,mr=Vr=>Ii(R.createElement("path",{})).style("d",Vr||"").call($o,Mt).node();if(wt(S)){const Vr=Hr=>{const fi=S.getCenter(),dr=Hr.slice(0,Hr.length/2),_r=Hr.slice(Hr.length/2);return kd().angle((lr,hr)=>Hi(vu(dr[hr],fi))).outerRadius((lr,hr)=>bl(dr[hr],fi)).innerRadius((lr,hr)=>bl(_r[hr],fi)).defined((lr,hr)=>[...dr[hr],..._r[hr]].every(l)).curve(a)(_r)};return!nr||p&&!Object.keys(Jn).length?mr(Vr(en)):nr&&!p?mr(Vr(P)):Ii(new u0).style("areaStyle",Mt).style("connectStyle",Object.assign(Object.assign({},Jn),v)).style("areaPath",Vr(P)).style("connectPath",Rn.map(Vr).join("")).node()}else{const Vr=Hr=>{const fi=Hr.slice(0,Hr.length/2),dr=Hr.slice(Hr.length/2);return Ie?Dd().y((_r,lr)=>fi[lr][1]).x1((_r,lr)=>fi[lr][0]).x0((_r,lr)=>dr[lr][0]).defined((_r,lr)=>[...fi[lr],...dr[lr]].every(l)).curve(a)(fi):Dd().x((_r,lr)=>fi[lr][0]).y1((_r,lr)=>fi[lr][1]).y0((_r,lr)=>dr[lr][1]).defined((_r,lr)=>[...fi[lr],...dr[lr]].every(l)).curve(a)(fi)};return!nr||p&&!Object.keys(Jn).length?mr(Vr(en)):nr&&!p?mr(Vr(P)):Ii(new u0).style("areaStyle",Mt).style("connectStyle",Object.assign(Object.assign({},Jn),v)).style("areaPath",Vr(P)).style("connectPath",Rn.map(Vr).join("")).node()}}};Nf.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const e0=(n,i)=>{const{coordinate:a}=i;return(...o)=>{const l=wt(a)?LE:Tc;return Nf(Object.assign({curve:l},n),i)(...o)}};e0.props=Object.assign(Object.assign({},Nf.props),{defaultMarker:"square"});var Dp=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Zh=(n,i)=>{const a=Dp(n,[]),{coordinate:o}=i;return(...l)=>{const p=wt(o)?pg:Xo(o)?y3:jE;return Nf(Object.assign({curve:p},a),i)(...l)}};Zh.props=Object.assign(Object.assign({},Nf.props),{defaultMarker:"smooth"});const Vv=(n,i)=>(...a)=>Nf(Object.assign({curve:_3},n),i)(...a);Vv.props=Object.assign(Object.assign({},Nf.props),{defaultMarker:"hvh"});const $0=(n,i)=>(...a)=>Nf(Object.assign({curve:b3},n),i)(...a);$0.props=Object.assign(Object.assign({},Nf.props),{defaultMarker:"vh"});const r_=(n,i)=>(...a)=>Nf(Object.assign({curve:HE},n),i)(...a);r_.props=Object.assign(Object.assign({},Nf.props),{defaultMarker:"hv"});const l0={area:e0,smooth:Zh,hvh:Vv,vh:$0,hv:r_},jh=()=>(n,i,a,o)=>{var l,p;const{x:v,y:S,y1:R,series:P}=a,{x:I,y:k}=i,z=P?Array.from(_e(n,Ie=>P[Ie]).values()):[n],te=z.map(Ie=>Ie[0]).filter(Ie=>Ie!==void 0),de=(((l=I==null?void 0:I.getBandWidth)===null||l===void 0?void 0:l.call(I))||0)/2,be=(((p=k==null?void 0:k.getBandWidth)===null||p===void 0?void 0:p.call(k))||0)/2,Re=Array.from(z,Ie=>{const it=Ie.length,ut=new Array(it*2);for(let Mt=0;Mt<Ie.length;Mt++){const en=Ie[Mt];ut[Mt]=o.map([+v[en]+de,+S[en]+be]),ut[it+Mt]=o.map([+v[en]+de,+R[en]+be])}return ut});return[te,Re,z]};jh.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:l0,channels:[...cp({shapes:Object.keys(l0)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Md(),{type:Jb},{type:I1},{type:ml}],postInference:[...Qd(),...Qy()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const Km=()=>(n,i)=>{const{encode:a}=i,{y1:o}=a;if(o)return[n,i];const[l]=Zc(a,"y");return[n,(0,Ui.Z)({},i,{encode:{y1:jf([...l])}})]};Km.props={};const dp=()=>(n,i)=>{const{encode:a}=i,{x1:o}=a;if(o)return[n,i];const[l]=Zc(a,"x");return[n,(0,Ui.Z)({},i,{encode:{x1:jf([...l])}})]};dp.props={};var kp=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const $l=(n,i)=>{const{arrow:a=!0,arrowSize:o="40%"}=n,l=kp(n,["arrow","arrowSize"]),{document:p}=i;return(v,S,R)=>{const{defaultColor:P}=R,I=kp(R,["defaultColor"]),{color:k=P,transform:z}=S,[te,de]=v,be=Hs();if(be.moveTo(...te),be.lineTo(...de),a){const[Re,Ie]=nc(te,de,{arrowSize:o});be.moveTo(...Re),be.lineTo(...de),be.lineTo(...Ie)}return Ii(p.createElement("path",{})).call($o,I).style("d",be.toString()).style("stroke",k).style("transform",z).call($o,l).node()}};$l.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Df=(n,i)=>{const{arrow:a=!1}=n;return(...o)=>$l(Object.assign(Object.assign({},n),{arrow:a}),i)(...o)};Df.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Ac=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Hf=(n,i)=>{const a=Ac(n,[]),{coordinate:o,document:l}=i;return(p,v,S)=>{const{color:R}=S,P=Ac(S,["color"]),{color:I=R,transform:k}=v,[z,te]=p,de=Hs();if(de.moveTo(z[0],z[1]),wt(o)){const be=o.getCenter();de.quadraticCurveTo(be[0],be[1],te[0],te[1])}else{const be=Li(z,te),Re=bl(z,te)/2;rd(de,z,te,be,Re)}return Ii(l.createElement("path",{})).call($o,P).style("d",de.toString()).style("stroke",I).style("transform",k).call($o,a).node()}};Hf.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var qd=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const zu=(n,i)=>{const a=qd(n,[]),{document:o}=i;return(l,p,v)=>{const{color:S}=v,R=qd(v,["color"]),{color:P=S,transform:I}=p,[k,z]=l,te=Hs();return te.moveTo(k[0],k[1]),te.bezierCurveTo(k[0]/2+z[0]/2,k[1],k[0]/2+z[0]/2,z[1],z[0],z[1]),Ii(o.createElement("path",{})).call($o,R).style("d",te.toString()).style("stroke",P).style("transform",I).call($o,a).node()}};zu.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var kf=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Qf(n,i,a,o){const l=Hs();if(wt(a)){const p=a.getCenter(),v=bl(n,p),R=(bl(i,p)-v)*o+v;return l.moveTo(n[0],n[1]),rd(l,n,i,p,R),l.lineTo(i[0],i[1]),l}return Xo(a)?(l.moveTo(n[0],n[1]),l.lineTo(n[0]+(i[0]-n[0])*o,n[1]),l.lineTo(n[0]+(i[0]-n[0])*o,i[1]),l.lineTo(i[0],i[1]),l):(l.moveTo(n[0],n[1]),l.lineTo(n[0],n[1]+(i[1]-n[1])*o),l.lineTo(i[0],n[1]+(i[1]-n[1])*o),l.lineTo(i[0],i[1]),l)}const c0=(n,i)=>{const{cornerRatio:a=1/3}=n,o=kf(n,["cornerRatio"]),{coordinate:l,document:p}=i;return(v,S,R)=>{const{defaultColor:P}=R,I=kf(R,["defaultColor"]),{color:k=P,transform:z}=S,[te,de]=v,be=Qf(te,de,l,a);return Ii(p.createElement("path",{})).call($o,I).style("d",be.toString()).style("stroke",k).style("transform",z).call($o,o).node()}};c0.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const qf={link:Df,arc:Hf,smooth:zu,vhv:c0},yf=n=>(i,a,o,l)=>{const{x:p,y:v,x1:S=p,y1:R=v}=o,P=Lg(a,o,n),I=i.map(k=>[l.map(P([+p[k],+v[k]],k)),l.map(P([+S[k],+R[k]],k))]);return[i,I]};yf.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:qf,channels:[...cp({shapes:Object.keys(qf)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Md(),{type:Km},{type:dp}],postInference:[...Qd(),...um()]};var xh=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Bp=(n,i)=>{const{coordinate:a,document:o}=i;return(l,p,v)=>{const{color:S}=v,R=xh(v,["color"]),{color:P=S,src:I="",size:k=32,transform:z=""}=p;let{width:te=k,height:de=k}=n;const[[be,Re]]=l,[Ie,it]=a.getSize();te=typeof te=="string"?N1(te)*Ie:te,de=typeof de=="string"?N1(de)*it:de;const ut=be-Number(te)/2,Mt=Re-Number(de)/2;return Ii(o.createElement("image",{})).call($o,R).style("x",ut).style("y",Mt).style("src",I).style("stroke",P).style("transform",z).call($o,n).style("width",te).style("height",de).node()}};Bp.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Th={image:Bp},Gv=n=>{const{cartesian:i}=n;return i?Hb:(a,o,l,p)=>{const{x:v,y:S}=l,R=Lg(o,l,n),P=Array.from(a,I=>{const k=[+v[I],+S[I]];return[p.map(R(k,I))]});return[a,P]}};Gv.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:Th,channels:[...cp({shapes:Object.keys(Th)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...Md(),{type:Lc},{type:jc}],postInference:[...Qd(),...um()]};var Yv=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function A0(n,i){const a=Hs();if(wt(i)){const o=i.getCenter(),l=[...n,n[0]],p=l.map(v=>bl(v,o));return l.forEach((v,S)=>{if(S===0){a.moveTo(v[0],v[1]);return}const R=p[S],P=n[S-1],I=p[S-1];I!==void 0&&Math.abs(R-I)<1e-10?rd(a,P,v,o,R):a.lineTo(v[0],v[1])}),a.closePath(),a}return $c(a,n)}const Qp=(n,i)=>{const{coordinate:a,document:o}=i;return(l,p,v)=>{const{color:S}=v,R=Yv(v,["color"]),{color:P=S,transform:I}=p,k=A0(l,a);return Ii(o.createElement("path",{})).call($o,R).style("d",k.toString()).style("stroke",P).style("fill",P).style("transform",I).call($o,n).node()}};Qp.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var qp=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Qm(n,i){const[a,o,l,p]=n,v=Hs();if(wt(i)){const S=i.getCenter(),R=bl(S,a);return v.moveTo(a[0],a[1]),v.quadraticCurveTo(S[0],S[1],l[0],l[1]),rd(v,l,p,S,R),v.quadraticCurveTo(S[0],S[1],o[0],o[1]),rd(v,o,a,S,R),v.closePath(),v}return v.moveTo(a[0],a[1]),v.bezierCurveTo(a[0]/2+l[0]/2,a[1],a[0]/2+l[0]/2,l[1],l[0],l[1]),v.lineTo(p[0],p[1]),v.bezierCurveTo(p[0]/2+o[0]/2,p[1],p[0]/2+o[0]/2,o[1],o[0],o[1]),v.lineTo(a[0],a[1]),v.closePath(),v}const X0=(n,i)=>{const a=qp(n,[]),{coordinate:o,document:l}=i;return(p,v,S)=>{const{color:R}=S,P=qp(S,["color"]),{color:I=R,transform:k}=v,z=Qm(p,o);return Ii(l.createElement("path",{})).call($o,P).style("d",z.toString()).style("fill",I||R).style("stroke",I||R).style("transform",k).call($o,a).node()}};X0.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Fp={polygon:Qp,ribbon:X0},Bg=()=>(n,i,a,o)=>{const l=Object.entries(a).filter(([S])=>S.startsWith("x")).map(([,S])=>S),p=Object.entries(a).filter(([S])=>S.startsWith("y")).map(([,S])=>S),v=n.map(S=>{const R=[];for(let P=0;P<l.length;P++){const I=l[P][S];if(I===void 0)break;const k=p[P][S];R.push(o.map([+I,+k]))}return R});return[n,v]};Bg.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:Fp,channels:[...cp({shapes:Object.keys(Fp)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Md()],postInference:[...Qd(),...um()]};var DS=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function x3(n,i){const a=Hs();if(!wt(i))a.moveTo(...n[0]),a.lineTo(...n[1]),a.moveTo(...n[2]),a.lineTo(...n[3]),a.moveTo(...n[4]),a.lineTo(...n[5]),a.lineTo(...n[6]),a.lineTo(...n[7]),a.closePath(),a.moveTo(...n[8]),a.lineTo(...n[9]),a.moveTo(...n[10]),a.lineTo(...n[11]),a.moveTo(...n[12]),a.lineTo(...n[13]);else{const o=i.getCenter(),[l,p]=o,v=pc(vu(n[0],o)),S=pc(vu(n[1],o)),R=bl(o,n[2]),P=bl(o,n[3]),I=bl(o,n[8]),k=bl(o,n[10]),z=bl(o,n[11]);a.moveTo(...n[0]),a.arc(l,p,R,v,S),a.arc(l,p,R,S,v,!0),a.moveTo(...n[2]),a.lineTo(...n[3]),a.moveTo(...n[4]),a.arc(l,p,P,v,S),a.lineTo(...n[6]),a.arc(l,p,k,S,v,!0),a.closePath(),a.moveTo(...n[8]),a.arc(l,p,I,v,S),a.arc(l,p,I,S,v,!0),a.moveTo(...n[10]),a.lineTo(...n[11]),a.moveTo(...n[12]),a.arc(l,p,z,v,S),a.arc(l,p,z,S,v,!0)}return a}const T3=(n,i)=>{const{coordinate:a,document:o}=i;return(l,p,v)=>{const{color:S,transform:R}=p,{color:P,fill:I=P,stroke:k=P}=v,z=DS(v,["color","fill","stroke"]),te=x3(l,a);return Ii(o.createElement("path",{})).call($o,z).style("d",te.toString()).style("stroke",k).style("fill",S||I).style("transform",R).call($o,n).node()}};T3.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var mO=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function B1(n,i,a=4){const o=Hs();if(!wt(i))return o.moveTo(...n[2]),o.lineTo(...n[3]),o.lineTo(n[3][0]-a,n[3][1]),o.lineTo(n[10][0]-a,n[10][1]),o.lineTo(n[10][0]+a,n[10][1]),o.lineTo(n[3][0]+a,n[3][1]),o.lineTo(...n[3]),o.closePath(),o.moveTo(...n[10]),o.lineTo(...n[11]),o.moveTo(n[3][0]+a/2,n[8][1]),o.arc(n[3][0],n[8][1],a/2,0,Math.PI*2),o.closePath(),o;const l=i.getCenter(),[p,v]=l,S=bl(l,n[3]),R=bl(l,n[8]),P=bl(l,n[10]),I=pc(vu(n[2],l)),k=Math.asin(a/R),z=I-k,te=I+k;o.moveTo(...n[2]),o.lineTo(...n[3]),o.moveTo(Math.cos(z)*S+p,Math.sin(z)*S+v),o.arc(p,v,S,z,te),o.lineTo(Math.cos(te)*P+p,Math.sin(te)*P+v),o.arc(p,v,P,te,z,!0),o.lineTo(Math.cos(z)*S+p,Math.sin(z)*S+v),o.closePath(),o.moveTo(...n[10]),o.lineTo(...n[11]);const de=(z+te)/2;return o.moveTo(Math.cos(de)*(R+a/2)+p,Math.sin(de)*(R+a/2)+v),o.arc(Math.cos(de)*R+p,Math.sin(de)*R+v,a/2,de,Math.PI*2+de),o.closePath(),o}const YE=(n,i)=>{const{coordinate:a,document:o}=i;return(l,p,v)=>{const{color:S,transform:R}=p,P=4,{color:I,fill:k=I,stroke:z=I}=v,te=mO(v,["color","fill","stroke"]),de=B1(l,a,P);return Ii(o.createElement("path",{})).call($o,te).style("d",de.toString()).style("stroke",z).style("fill",S||k).style("transform",R).call($o,n).node()}};YE.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const kS={box:T3,violin:YE},qm=()=>(n,i,a,o)=>{const{x:l,y:p,y1:v,y2:S,y3:R,y4:P,series:I}=a,k=i.x,z=i.series,te=Array.from(n,de=>{const be=k.getBandWidth(k.invert(+l[de])),Re=z?z.getBandWidth(z.invert(+(I==null?void 0:I[de]))):1,Ie=be*Re,it=(+(I==null?void 0:I[de])||0)*be,ut=+l[de]+it+Ie/2,[Mt,en,Rn,Jn,nr]=[+p[de],+v[de],+S[de],+R[de],+P[de]];return[[ut-Ie/2,nr],[ut+Ie/2,nr],[ut,nr],[ut,Jn],[ut-Ie/2,Jn],[ut+Ie/2,Jn],[ut+Ie/2,en],[ut-Ie/2,en],[ut-Ie/2,Rn],[ut+Ie/2,Rn],[ut,en],[ut,Mt],[ut-Ie/2,Mt],[ut+Ie/2,Mt]].map(Vr=>o.map(Vr))});return[n,te]};qm.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:kS,channels:[...cp({shapes:Object.keys(kS)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...Md(),{type:Gm}],postInference:[...Qd(),...Qy()],interaction:{shareTooltip:!0}};const $E={vector:$l},Jm=()=>(n,i,a,o)=>{const{x:l,y:p,size:v,rotate:S}=a,[R,P]=o.getSize(),I=n.map(k=>{const z=+S[k]/180*Math.PI,te=+v[k],de=te/R,be=te/P,Re=de*Math.cos(z),Ie=-be*Math.sin(z);return[o.map([+l[k]-Re/2,+p[k]-Ie/2]),o.map([+l[k]+Re/2,+p[k]+Ie/2])]});return[n,I]};Jm.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:$E,channels:[...cp({shapes:Object.keys($E)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...Md()],postInference:[...Qd(),...um()]};var Fg=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function n2(n,i,a){return n.createElement("path",{style:Object.assign({d:`M ${i},${i} L -${i},0 L ${i},-${i} L 0,0 Z`,transformOrigin:"center"},a)})}function Wf(n,i){if(!wt(i))return rc().x(o=>o[0]).y(o=>o[1])(n);const a=i.getCenter();return Tu()({startAngle:0,endAngle:Math.PI*2,outerRadius:bl(n[0],a),innerRadius:bl(n[1],a)})}function Up(n,i){if(!wt(n))return i;const[a,o]=n.getCenter();return`translate(${a}, ${o}) ${i||""}`}const Sh=(n,i)=>{const{arrow:a,arrowSize:o=4}=n,l=Fg(n,["arrow","arrowSize"]),{coordinate:p,document:v}=i;return(S,R,P)=>{const{color:I,lineWidth:k}=P,z=Fg(P,["color","lineWidth"]),{color:te=I,size:de=k}=R,be=a?n2(v,o,Object.assign({fill:l.stroke||te,stroke:l.stroke||te},jt(l,"arrow"))):null,Re=Wf(S,p),Ie=Up(p,R.transform);return Ii(v.createElement("path",{})).call($o,z).style("d",Re).style("stroke",te).style("lineWidth",de).style("transform",Ie).style("markerEnd",be).call($o,l).node()}};Sh.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Ug=()=>(n,i)=>{const{data:a}=i;return!Array.isArray(a)||a.some($y)?[n,i]:[n,(0,Ui.Z)({},i,{encode:{x:jf(a)}})]};Ug.props={};const $v={line:Sh},S3=n=>(i,a,o,l)=>{const{x:p}=o,v=Lg(a,o,(0,Ui.Z)({style:{bandOffset:0}},n)),S=Array.from(i,R=>{const P=[p[R],1],I=[p[R],0];return[P,I].map(k=>l.map(v(k,R)))});return[i,S]};S3.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:$v,channels:[...Ym({shapes:Object.keys($v)}),{name:"x",required:!0}],preInference:[...Md(),{type:Ug}],postInference:[...Qd()]};const A3=()=>(n,i)=>{const{data:a}=i;return!Array.isArray(a)||a.some($y)?[n,i]:[n,(0,Ui.Z)({},i,{encode:{y:jf(a)}})]};A3.props={};const XE={line:Sh},C3=n=>(i,a,o,l)=>{const{y:p}=o,v=Lg(a,o,(0,Ui.Z)({style:{bandOffset:0}},n)),S=Array.from(i,R=>{const P=[0,p[R]],I=[1,p[R]];return[P,I].map(k=>l.map(v(k,R)))});return[i,S]};C3.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:XE,channels:[...Ym({shapes:Object.keys(XE)}),{name:"y",required:!0}],preInference:[...Md(),{type:A3}],postInference:[...Qd()]};var O3=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function KE(n,i,a){return[["M",n,i],["L",n+2*a,i-a],["L",n+2*a,i+a],["Z"]]}function vO(n){return rc().x(i=>i[0]).y(i=>i[1])(n)}function UN(n,i,a,o,l=0){const[[p,v],[S,R]]=i;if(Xo(n)){const z=p+a,te=S+o,de=z+l;return[[z,v],[de,v],[de,R],[te,R]]}const P=v-a,I=R-o,k=P-l;return[[p,P],[p,k],[S,k],[S,I]]}const w3=(n,i)=>{const{offset:a=0,offset1:o=a,offset2:l=a,connectLength1:p,endMarker:v=!0}=n,S=O3(n,["offset","offset1","offset2","connectLength1","endMarker"]),{coordinate:R}=i;return(P,I,k)=>{const{color:z,connectLength1:te}=k,de=O3(k,["color","connectLength1"]),{color:be,transform:Re}=I,Ie=UN(R,P,o,l,p!=null?p:te),it=jt(Object.assign(Object.assign({},S),k),"endMarker");return Ii(new Oe.y$).call($o,de).style("d",vO(Ie)).style("stroke",be||z).style("transform",Re).style("markerEnd",v?new is.J({className:"marker",style:Object.assign(Object.assign({},it),{symbol:KE})}):null).call($o,S).node()}};w3.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const r2={connector:w3},N4=(...n)=>yf(...n);N4.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:r2,channels:[...Ym({shapes:Object.keys(r2)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Md()],postInference:[...Qd()]};function M3(n,i,a,o){if(i)return()=>[0,1];const{[n]:l,[`${n}1`]:p}=a;return v=>{var S;const R=((S=o.getBandWidth)===null||S===void 0?void 0:S.call(o,o.invert(+p[v])))||0;return[l[v],p[v]+R]}}function QE(n={}){const{extendX:i=!1,extendY:a=!1}=n;return(o,l,p,v)=>{const S=M3("x",i,p,l.x),R=M3("y",a,p,l.y),P=Array.from(o,I=>{const[k,z]=S(I),[te,de]=R(I);return[[k,te],[z,te],[z,de],[k,de]].map(ut=>v.map(ut))});return[o,P]}}const i2={range:L1},yO=()=>QE();yO.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:i2,channels:[...Ym({shapes:Object.keys(i2)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Md()],postInference:[...Qd()]};const BS=()=>(n,i)=>{const{data:a}=i;if(Array.isArray(a)&&(a.every(Array.isArray)||!a.some($y))){const o=(l,p)=>Array.isArray(l[0])?l.map(v=>v[p]):[l[p]];return[n,(0,Ui.Z)({},i,{encode:{x:jf(o(a,0)),x1:jf(o(a,1))}})]}return[n,i]};BS.props={};const C0={range:L1},_O=()=>QE({extendY:!0});_O.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:C0,channels:[...Ym({shapes:Object.keys(C0)}),{name:"x",required:!0}],preInference:[...Md(),{type:BS}],postInference:[...Qd()]};const bO=()=>(n,i)=>{const{data:a}=i;if(Array.isArray(a)&&(a.every(Array.isArray)||!a.some($y))){const o=(l,p)=>Array.isArray(l[0])?l.map(v=>v[p]):[l[p]];return[n,(0,Ui.Z)({},i,{encode:{y:jf(o(a,0)),y1:jf(o(a,1))}})]}return[n,i]};bO.props={};const Vf={range:L1},EO=()=>QE({extendX:!0});EO.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:Vf,channels:[...Ym({shapes:Object.keys(Vf)}),{name:"y",required:!0}],preInference:[...Md(),{type:bO}],postInference:[...Qd()]};var a2=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const i_=(n,i)=>{const{arrow:a,colorAttribute:o}=n,l=a2(n,["arrow","colorAttribute"]),{coordinate:p,document:v}=i;return(S,R,P)=>{const{color:I,stroke:k}=P,z=a2(P,["color","stroke"]),{d:te,color:de=I}=R,[be,Re]=p.getSize();return Ii(v.createElement("path",{})).call($o,z).style("d",typeof te=="function"?te({width:be,height:Re}):te).style(o,de).call($o,l).node()}};i_.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const xO=(n,i)=>i_(Object.assign({colorAttribute:"fill"},n),i);xO.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const TO=(n,i)=>i_(Object.assign({fill:"none",colorAttribute:"stroke"},n),i);TO.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const SO={path:xO,hollow:TO},AO=n=>(i,a,o,l)=>[i,i.map(()=>[[0,0]])];AO.props={defaultShape:"path",defaultLabelShape:"label",shape:SO,composite:!1,channels:[...cp({shapes:Object.keys(SO)}),{name:"d",scale:"identity"}],preInference:[...Md()],postInference:[...Qd()]};var D4=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const FS=(n,i)=>{const{render:a}=n,o=D4(n,["render"]);return l=>{const[[p,v]]=l;return a(Object.assign(Object.assign({},o),{x:p,y:v}),i)}};FS.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const US=()=>(n,i)=>{const{style:a={}}=i;return[n,(0,Ui.Z)({},i,{style:Object.assign(Object.assign({},a),Object.fromEntries(Object.entries(a).filter(([,o])=>typeof o=="function").map(([o,l])=>[o,()=>l])))})]};US.props={};const k4={shape:FS},CO=n=>{const{cartesian:i}=n;return i?Hb:(a,o,l,p)=>{const{x:v,y:S}=l,R=Lg(o,l,n),P=Array.from(a,I=>{const k=[+v[I],+S[I]];return[p.map(R(k,I))]});return[a,P]}};CO.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:k4,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Md(),{type:Lc},{type:jc},{type:US}]};var B4=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const zS=(n,i)=>{const{document:a}=i;return(o,l,p)=>{const{transform:v}=l,{color:S}=p,R=B4(p,["color"]),{color:P=S}=l,[I,...k]=o,z=Hs();return z.moveTo(...I),k.forEach(([te,de])=>{z.lineTo(te,de)}),z.closePath(),Ii(a.createElement("path",{})).call($o,R).style("d",z.toString()).style("stroke",P||S).style("fill",P||S).style("fillOpacity",.4).style("transform",v).call($o,n).node()}};zS.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const OO={density:zS},ZS=()=>(n,i,a,o)=>{const{x:l,series:p}=a,v=Object.entries(a).filter(([k])=>k.startsWith("y")).map(([,k])=>k),S=Object.entries(a).filter(([k])=>k.startsWith("size")).map(([,k])=>k);if(l===void 0||v===void 0||S===void 0)throw new Error("Missing encode for x or y or size channel.");const R=i.x,P=i.series,I=Array.from(n,k=>{const z=R.getBandWidth(R.invert(+l[k])),te=P?P.getBandWidth(P.invert(+(p==null?void 0:p[k]))):1,de=z*te,be=(+(p==null?void 0:p[k])||0)*z,Re=+l[k]+be+de/2;return[...v.map((it,ut)=>[Re+ +S[ut][k]/n.length,+v[ut][k]]),...v.map((it,ut)=>[Re-+S[ut][k]/n.length,+v[ut][k]]).reverse()].map(it=>o.map(it))});return[n,I]};ZS.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:OO,channels:[...cp({shapes:Object.keys(OO)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...Md(),{type:I1},{type:Gm}],postInference:[...Qd(),...Qy()],interaction:{shareTooltip:!0}};function wO(n){var i,a,o,l=n||1;function p(S,R){++i>l&&(o=a,v(1),++i),a[S]=R}function v(S){i=0,a=Object.create(null),S||(o=Object.create(null))}return v(),{clear:v,has:function(S){return a[S]!==void 0||o[S]!==void 0},get:function(S){var R=a[S];if(R!==void 0)return R;if((R=o[S])!==void 0)return p(S,R),R},set:function(S,R){a[S]!==void 0?a[S]=R:p(S,R)}}}const zN=wO(3);function F4(n,i=(...o)=>`${o[0]}`,a=16){const o=wO(a);return(...l)=>{const p=i(...l);let v=o.get(p);return o.has(p)?o.get(p):(v=n(...l),o.set(p,v),v)}}function U4(n){return typeof n=="string"?n.split(" ").map(i=>{const[a,o]=i.split(":");return[+a,o]}):n}function R3(n,i,a){const o=n?n():document.createElement("canvas");return o.width=i,o.height=a,o}const z4=F4((n,i,a)=>{const o=R3(a,n*2,n*2),l=o.getContext("2d"),p=n,v=n;if(i===1)l.beginPath(),l.arc(p,v,n,0,2*Math.PI,!1),l.fillStyle="rgba(0,0,0,1)",l.fill();else{const S=l.createRadialGradient(p,v,n*i,p,v,n);S.addColorStop(0,"rgba(0,0,0,1)"),S.addColorStop(1,"rgba(0,0,0,0)"),l.fillStyle=S,l.fillRect(0,0,2*n,2*n)}return o},n=>`${n}`);function Z4(n,i){const o=R3(i,256,1).getContext("2d"),l=o.createLinearGradient(0,0,256,1);return U4(n).forEach(([p,v])=>{l.addColorStop(p,v)}),o.fillStyle=l,o.fillRect(0,0,256,1),o.getImageData(0,0,256,1).data}function MO(n,i,a,o,l,p){const{blur:v}=l;let S=o.length;for(;S--;){const{x:R,y:P,value:I,radius:k}=o[S],z=Math.min(I,a),te=R-k,de=P-k,be=z4(k,1-v,p),Re=(z-i)/(a-i);n.globalAlpha=Math.max(Re,.001),n.drawImage(be,te,de)}return n}function j4(n,i,a,o,l){const{minOpacity:p,opacity:v,maxOpacity:S,useGradientOpacity:R}=l,P=0,I=0,k=i,z=a,te=n.getImageData(P,I,k,z),de=te.data,be=de.length;for(let Re=3;Re<be;Re+=4){const Ie=de[Re],it=Ie*4;if(!it)continue;const ut=v||Math.max(0,Math.min(S,Math.max(p,Ie)));de[Re-3]=o[it],de[Re-2]=o[it+1],de[Re-1]=o[it+2],de[Re]=R?o[it+3]:ut}return te}function H4(n,i,a,o,l,p,v){const S=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},p);S.minOpacity*=255,S.opacity*=255,S.maxOpacity*=255;const P=R3(v,n,i).getContext("2d"),I=Z4(S.gradient,v);P.clearRect(0,0,n,i),MO(P,a,o,l,S,v);const k=j4(P,n,i,I,S),te=R3(v,n,i).getContext("2d");return te.putImageData(k,0,0),te}var W4=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function RO(n,i){return Object.keys(n).reduce((a,o)=>{const l=n[o];return i(l,o)||(a[o]=l),a},{})}const PO=(n,i)=>{const{gradient:a,opacity:o,maxOpacity:l,minOpacity:p,blur:v,useGradientOpacity:S}=n,R=W4(n,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:P,createCanvas:I,document:k}=i;return(z,te,de)=>{const{transform:be}=te,[Re,Ie]=P.getSize(),it=z.map(Jn=>({x:Jn[0],y:Jn[1],value:Jn[2],radius:Jn[3]})),ut=kh(z,Jn=>Jn[2]),Mt=ia(z,Jn=>Jn[2]),Rn=Re&&Ie?H4(Re,Ie,ut,Mt,it,RO({gradient:a,opacity:o,minOpacity:p,maxOpacity:l,blur:v,useGradientOpacity:S},Jn=>Jn===void 0),I):{canvas:null};return Ii(k.createElement("image",{})).call($o,de).style("x",0).style("y",0).style("width",Re).style("height",Ie).style("src",Rn.canvas).style("transform",be).call($o,R).node()}};PO.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const IO={heatmap:PO},LO=n=>(i,a,o,l)=>{const{x:p,y:v,size:S,color:R}=o,P=Array.from(i,I=>{const k=S?+S[I]:40;return[...l.map([+p[I],+v[I]]),R[I],k]});return[[0],[P]]};LO.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:IO,channels:[...cp({shapes:Object.keys(IO)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...Md(),{type:Gm},{type:Ia}],postInference:[...Qd(),...um()]};var V4=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},G4=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Y4(n,i){const{text:a="text",value:o="value"}=i;return n.map(l=>Object.assign(Object.assign({},l),{text:l[a],value:l[o]}))}const NO=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:n=>n.fontFamily}}),jS=(n,i)=>V4(void 0,void 0,void 0,function*(){const{width:a,height:o}=i,{data:l,encode:p={},scale:v,style:S={},layout:R={}}=n,P=G4(n,["data","encode","scale","style","layout"]),I=Y4(l,p);return(0,Ui.Z)({},NO(),Object.assign(Object.assign({data:{value:I,transform:[Object.assign({type:"wordCloud",size:[a,o]},R)]},encode:p,scale:v,style:S},P),{axis:!1}))});jS.props={};const DO=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];DO.props={};const kO=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];kO.props={};const BO=n=>new Oo.b(n);BO.props={};var FO=A(5733);const UO=n=>new FO.r(n);UO.props={};var qE=A(42109);const zO=n=>new qE.t(n);zO.props={};class JE extends vd.X{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:Tt}}map(i){return(0,df.J)(i)?i:this.options.unknown}invert(i){return this.map(i)}clone(){return new JE(this.options)}getTicks(){const{domain:i,tickCount:a,tickMethod:o}=this.options,[l,p]=i;return!(0,Uc.Z)(l)||!(0,Uc.Z)(p)?[]:o(l,p,a)}}const ZO=n=>new JE(n);ZO.props={};class HS extends qE.t{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:FO.z,paddingInner:1,paddingOuter:0}}constructor(i){super(i)}getPaddingInner(){return 1}clone(){return new HS(this.options)}update(i){super.update(i)}getPaddingOuter(){return this.options.padding}}const jO=n=>new HS(n);jO.props={};var ex=A(96673),HO=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,F1="\\d\\d?",U1="\\d\\d",$4="\\d{3}",X4="\\d{4}",tx="[^\\s]+",WS=/\[([^]*?)\]/gm;function WO(n,i){for(var a=[],o=0,l=n.length;o<l;o++)a.push(n[o].substr(0,i));return a}var VO=function(n){return function(i,a){var o=a[n].map(function(p){return p.toLowerCase()}),l=o.indexOf(i.toLowerCase());return l>-1?l:null}};function a_(n){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];for(var o=0,l=i;o<l.length;o++){var p=l[o];for(var v in p)n[v]=p[v]}return n}var GO=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],YO=["January","February","March","April","May","June","July","August","September","October","November","December"],K4=WO(YO,3),Q4=WO(GO,3),$O={dayNamesShort:Q4,dayNames:GO,monthNamesShort:K4,monthNames:YO,amPm:["am","pm"],DoFn:function(n){return n+["th","st","nd","rd"][n%10>3?0:(n-n%10!==10?1:0)*n%10]}},nx=a_({},$O),XO=function(n){return nx=a_(nx,n)},VS=function(n){return n.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},O0=function(n,i){for(i===void 0&&(i=2),n=String(n);n.length<i;)n="0"+n;return n},KO={D:function(n){return String(n.getDate())},DD:function(n){return O0(n.getDate())},Do:function(n,i){return i.DoFn(n.getDate())},d:function(n){return String(n.getDay())},dd:function(n){return O0(n.getDay())},ddd:function(n,i){return i.dayNamesShort[n.getDay()]},dddd:function(n,i){return i.dayNames[n.getDay()]},M:function(n){return String(n.getMonth()+1)},MM:function(n){return O0(n.getMonth()+1)},MMM:function(n,i){return i.monthNamesShort[n.getMonth()]},MMMM:function(n,i){return i.monthNames[n.getMonth()]},YY:function(n){return O0(String(n.getFullYear()),4).substr(2)},YYYY:function(n){return O0(n.getFullYear(),4)},h:function(n){return String(n.getHours()%12||12)},hh:function(n){return O0(n.getHours()%12||12)},H:function(n){return String(n.getHours())},HH:function(n){return O0(n.getHours())},m:function(n){return String(n.getMinutes())},mm:function(n){return O0(n.getMinutes())},s:function(n){return String(n.getSeconds())},ss:function(n){return O0(n.getSeconds())},S:function(n){return String(Math.round(n.getMilliseconds()/100))},SS:function(n){return O0(Math.round(n.getMilliseconds()/10),2)},SSS:function(n){return O0(n.getMilliseconds(),3)},a:function(n,i){return n.getHours()<12?i.amPm[0]:i.amPm[1]},A:function(n,i){return n.getHours()<12?i.amPm[0].toUpperCase():i.amPm[1].toUpperCase()},ZZ:function(n){var i=n.getTimezoneOffset();return(i>0?"-":"+")+O0(Math.floor(Math.abs(i)/60)*100+Math.abs(i)%60,4)},Z:function(n){var i=n.getTimezoneOffset();return(i>0?"-":"+")+O0(Math.floor(Math.abs(i)/60),2)+":"+O0(Math.abs(i)%60,2)}},QO=function(n){return+n-1},qO=[null,F1],JO=[null,tx],ew=["isPm",tx,function(n,i){var a=n.toLowerCase();return a===i.amPm[0]?0:a===i.amPm[1]?1:null}],o2=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(n){var i=(n+"").match(/([+-]|\d\d)/gi);if(i){var a=+i[1]*60+parseInt(i[2],10);return i[0]==="+"?a:-a}return 0}],rx={D:["day",F1],DD:["day",U1],Do:["day",F1+tx,function(n){return parseInt(n,10)}],M:["month",F1,QO],MM:["month",U1,QO],YY:["year",U1,function(n){var i=new Date,a=+(""+i.getFullYear()).substr(0,2);return+(""+(+n>68?a-1:a)+n)}],h:["hour",F1,void 0,"isPm"],hh:["hour",U1,void 0,"isPm"],H:["hour",F1],HH:["hour",U1],m:["minute",F1],mm:["minute",U1],s:["second",F1],ss:["second",U1],YYYY:["year",X4],S:["millisecond","\\d",function(n){return+n*100}],SS:["millisecond",U1,function(n){return+n*10}],SSS:["millisecond",$4],d:qO,dd:qO,ddd:JO,dddd:JO,MMM:["month",tx,VO("monthNamesShort")],MMMM:["month",tx,VO("monthNames")],a:ew,A:ew,ZZ:o2,Z:o2},z1={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},ix=function(n){return a_(z1,n)},tw=function(n,i,a){if(i===void 0&&(i=z1.default),a===void 0&&(a={}),typeof n=="number"&&(n=new Date(n)),Object.prototype.toString.call(n)!=="[object Date]"||isNaN(n.getTime()))throw new Error("Invalid Date pass to format");i=z1[i]||i;var o=[];i=i.replace(WS,function(p,v){return o.push(v),"@@@"});var l=a_(a_({},nx),a);return i=i.replace(HO,function(p){return KO[p](n,l)}),i.replace(/@@@/g,function(){return o.shift()})};function nw(n,i,a){if(a===void 0&&(a={}),typeof i!="string")throw new Error("Invalid format in fecha parse");if(i=z1[i]||i,n.length>1e3)return null;var o=new Date,l={year:o.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},p=[],v=[],S=i.replace(WS,function(Mt,en){return v.push(VS(en)),"@@@"}),R={},P={};S=VS(S).replace(HO,function(Mt){var en=rx[Mt],Rn=en[0],Jn=en[1],nr=en[3];if(R[Rn])throw new Error("Invalid format. "+Rn+" specified twice in format");return R[Rn]=!0,nr&&(P[nr]=!0),p.push(en),"("+Jn+")"}),Object.keys(P).forEach(function(Mt){if(!R[Mt])throw new Error("Invalid format. "+Mt+" is required in specified format")}),S=S.replace(/@@@/g,function(){return v.shift()});var I=n.match(new RegExp(S,"i"));if(!I)return null;for(var k=a_(a_({},nx),a),z=1;z<I.length;z++){var te=p[z-1],de=te[0],be=te[2],Re=be?be(I[z],k):+I[z];if(Re==null)return null;l[de]=Re}l.isPm===1&&l.hour!=null&&+l.hour!=12?l.hour=+l.hour+12:l.isPm===0&&+l.hour==12&&(l.hour=0);var Ie;if(l.timezoneOffset==null){Ie=new Date(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond);for(var it=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],z=0,ut=it.length;z<ut;z++)if(R[it[z][0]]&&l[it[z][0]]!==Ie[it[z][1]]())return null}else if(Ie=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute-l.timezoneOffset,l.second,l.millisecond)),l.month>11||l.month<0||l.day>31||l.day<1||l.hour>23||l.hour<0||l.minute>59||l.minute<0||l.second>59||l.second<0)return null;return Ie}var rw={format:tw,parse:nw,defaultI18n:$O,setGlobalDateI18n:XO,setGlobalDateMasks:ix},ZN=null,GS=A(29785);const s2=1e3,ax=s2*60,P3=ax*60,ev=P3*24,Xv=ev*7,YS=ev*30,iw=ev*365;function hp(n,i,a,o){const l=(P,I)=>{const k=te=>o(te)%I===0;let z=I;for(;z&&!k(P);)a(P,-1),z-=1;return P},p=(P,I)=>{I&&l(P,I),i(P)},v=(P,I)=>{const k=new Date(+P);return p(k,I),k},S=(P,I)=>{const k=new Date(+P-1);return p(k,I),a(k,I),p(k),k};return{ceil:S,floor:v,range:(P,I,k,z)=>{const te=[],de=Math.floor(k),be=z?S(P,k):S(P);for(let Re=be;Re<I;a(Re,de),p(Re))te.push(new Date(+Re));return te},duration:n}}const aw=hp(1,n=>n,(n,i=1)=>{n.setTime(+n+i)},n=>n.getTime()),jN=hp(s2,n=>{n.setMilliseconds(0)},(n,i=1)=>{n.setTime(+n+s2*i)},n=>n.getSeconds()),q4=hp(ax,n=>{n.setSeconds(0,0)},(n,i=1)=>{n.setTime(+n+ax*i)},n=>n.getMinutes()),I3=hp(P3,n=>{n.setMinutes(0,0,0)},(n,i=1)=>{n.setTime(+n+P3*i)},n=>n.getHours()),ow=hp(ev,n=>{n.setHours(0,0,0,0)},(n,i=1)=>{n.setTime(+n+ev*i)},n=>n.getDate()-1),sw=hp(YS,n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,i=1)=>{const a=n.getMonth();n.setMonth(a+i)},n=>n.getMonth()),J4=hp(Xv,n=>{n.setDate(n.getDate()-n.getDay()%7),n.setHours(0,0,0,0)},(n,i=1)=>{n.setDate(n.getDate()+7*i)},n=>{const i=sw.floor(n),a=new Date(+n);return Math.floor((+a-+i)/Xv)}),uw=hp(iw,n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,i=1)=>{const a=n.getFullYear();n.setFullYear(a+i)},n=>n.getFullYear()),e6={millisecond:aw,second:jN,minute:q4,hour:I3,day:ow,week:J4,month:sw,year:uw},lw=hp(1,n=>n,(n,i=1)=>{n.setTime(+n+i)},n=>n.getTime()),$S=hp(s2,n=>{n.setUTCMilliseconds(0)},(n,i=1)=>{n.setTime(+n+s2*i)},n=>n.getUTCSeconds()),t6=hp(ax,n=>{n.setUTCSeconds(0,0)},(n,i=1)=>{n.setTime(+n+ax*i)},n=>n.getUTCMinutes()),n6=hp(P3,n=>{n.setUTCMinutes(0,0,0)},(n,i=1)=>{n.setTime(+n+P3*i)},n=>n.getUTCHours()),r6=hp(ev,n=>{n.setUTCHours(0,0,0,0)},(n,i=1)=>{n.setTime(+n+ev*i)},n=>n.getUTCDate()-1),cw=hp(YS,n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,i=1)=>{const a=n.getUTCMonth();n.setUTCMonth(a+i)},n=>n.getUTCMonth()),i6=hp(Xv,n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7)%7),n.setUTCHours(0,0,0,0)},(n,i=1)=>{n.setTime(+n+Xv*i)},n=>{const i=cw.floor(n),a=new Date(+n);return Math.floor((+a-+i)/Xv)}),a6=hp(iw,n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,i=1)=>{const a=n.getUTCFullYear();n.setUTCFullYear(a+i)},n=>n.getUTCFullYear()),fw={millisecond:lw,second:$S,minute:t6,hour:n6,day:r6,week:i6,month:cw,year:a6};var dw=A(5097);function o6(n){const i=n?fw:e6,{year:a,month:o,week:l,day:p,hour:v,minute:S,second:R,millisecond:P}=i;return{tickIntervals:[[R,1],[R,5],[R,15],[R,30],[S,1],[S,5],[S,15],[S,30],[v,1],[v,3],[v,6],[v,12],[p,1],[p,2],[l,1],[o,1],[o,3],[a,1]],year:a,millisecond:P}}function hw(n,i,a,o,l){const p=+n,v=+i,{tickIntervals:S,year:R,millisecond:P}=o6(l),I=([Re,Ie])=>Re.duration*Ie,k=o?(v-p)/o:a||5,z=o||(v-p)/k,te=S.length,de=(0,Ef.b)(S,z,0,te,I);let be;if(de===te){const Re=(0,dw.l)(p/R.duration,v/R.duration,k);be=[R,Re]}else if(de){const Re=z/I(S[de-1])<I(S[de])/z,[Ie,it]=Re?S[de-1]:S[de],ut=o?Math.ceil(o/Ie.duration):it;be=[Ie,ut]}else{const Re=Math.max((0,dw.l)(p,v,k),1);be=[P,Re]}return be}const pw=(n,i,a,o,l)=>{const p=n>i,v=p?i:n,S=p?n:i,[R,P]=hw(v,S,a,o,l),I=R.range(v,new Date(+S+1),P,!0);return p?I.reverse():I},s6=(n,i,a,o,l)=>{const p=n>i,v=p?i:n,S=p?n:i,[R,P]=hw(v,S,a,o,l),I=[R.floor(v,P),R.ceil(S,P)];return p?I.reverse():I};function u6(n,i){const{second:a,minute:o,hour:l,day:p,week:v,month:S,year:R}=i;return a.floor(n)<n?".SSS":o.floor(n)<n?":ss":l.floor(n)<n?"hh:mm":p.floor(n)<n?"hh A":S.floor(n)<n?v.floor(n)<n?"MMM DD":"ddd DD":R.floor(n)<n?"MMMM":"YYYY"}function l6(n){const i=n.getTimezoneOffset(),a=new Date(n);return a.setMinutes(a.getMinutes()+i,a.getSeconds(),a.getMilliseconds()),a}class XS extends GS.V{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:pw,interpolate:Ts.fv,mask:void 0,utc:!1}}chooseTransforms(){return[o=>+o,o=>new Date(o)]}chooseNice(){return s6}getTickMethodOptions(){const{domain:i,tickCount:a,tickInterval:o,utc:l}=this.options,p=i[0],v=i[i.length-1];return[p,v,a,o,l]}getFormatter(){const{mask:i,utc:a}=this.options,o=a?fw:e6,l=a?l6:ex.Z;return p=>tw(l(p),i||u6(p,o))}clone(){return new XS(this.options)}}const gw=n=>new XS(n);gw.props={};const KS=n=>i=>-n(-i),L3=(n,i)=>{const a=Math.log(n),o=n===Math.E?Math.log:n===10?Math.log10:n===2?Math.log2:l=>Math.log(l)/a;return i?KS(o):o},QS=(n,i)=>{const a=n===Math.E?Math.exp:o=>p0(n,o);return i?KS(a):a},Z1=(n,i,a,o=10)=>{const l=n<0,p=QS(o,l),v=L3(o,l),S=i<n,R=S?i:n,P=S?n:i;let I=v(R),k=v(P),z=[];if(!(o%1)&&k-I<a){if(I=Math.floor(I),k=Math.ceil(k),l)for(;I<=k;I+=1){const te=p(I);for(let de=o-1;de>=1;de-=1){const be=te*de;if(be>P)break;be>=R&&z.push(be)}}else for(;I<=k;I+=1){const te=p(I);for(let de=1;de<o;de+=1){const be=te*de;if(be>P)break;be>=R&&z.push(be)}}z.length*2<a&&(z=(0,md.Z)(R,P,a))}else{const te=a===-1?k-I:Math.min(k-I,a);z=(0,md.Z)(I,k,te).map(p)}return S?z.reverse():z},c6=(n,i,a,o)=>{const l=n<0,p=L3(o,l),v=QS(o,l),S=n>i,R=S?i:n,P=S?n:i,I=[v(Math.floor(p(R))),v(Math.ceil(p(P)))];return S?I.reverse():I};class qS extends GS.V{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:Ts.wp,tickMethod:Z1,tickCount:5}}chooseNice(){return c6}getTickMethodOptions(){const{domain:i,tickCount:a,base:o}=this.options,l=i[0],p=i[i.length-1];return[l,p,a,o]}chooseTransforms(){const{base:i,domain:a}=this.options,o=a[0]<0;return[L3(i,o),QS(i,o)]}clone(){return new qS(this.options)}}const o_=n=>new qS(n);o_.props={};const f6=n=>i=>i<0?-p0(-i,n):p0(i,n),d6=n=>i=>i<0?-p0(-i,1/n):p0(i,1/n),h6=n=>n<0?-Math.sqrt(-n):Math.sqrt(n);class N3 extends GS.V{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:Ts.wp,tickMethod:md.Z,tickCount:5}}constructor(i){super(i)}chooseTransforms(){const{exponent:i}=this.options;if(i===1)return[ex.Z,ex.Z];const a=i===.5?h6:f6(i),o=d6(i);return[a,o]}clone(){return new N3(this.options)}}const mw=n=>new N3(n);mw.props={};class JS extends N3{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Ts.wp,tickMethod:md.Z,tickCount:5,exponent:.5}}constructor(i){super(i)}update(i){super.update(i)}clone(){return new JS(this.options)}}const vw=n=>new JS(n);vw.props={};const yw=n=>new Yf(n);yw.props={};const eA=n=>new Zi(n);eA.props={};const _w=n=>new yn(n);_w.props={};var bw=A(98882),p6=A(79572);const g6=n=>i=>{const a=n(i);return(0,Uc.Z)(a)?Math.round(a):a};function tA(n,i){return a=>{a.prototype.rescale=function(){this.initRange(),this.nice();const[o]=this.chooseTransforms();this.composeOutput(o,this.chooseClamp(o))},a.prototype.initRange=function(){const{interpolator:o}=this.options;this.options.range=n(o)},a.prototype.composeOutput=function(o,l){const{domain:p,interpolator:v,round:S}=this.getOptions(),R=i(p.map(o)),P=S?g6(v):v;this.output=(0,bw.q)(P,R,l,o)},a.prototype.invert=void 0}}var Ew=function(n,i,a,o){var l=arguments.length,p=l<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(n,i,a,o);else for(var S=n.length-1;S>=0;S--)(v=n[S])&&(p=(l<3?v(p):l>3?v(i,a,p):v(i,a))||p);return l>3&&p&&Object.defineProperty(i,a,p),p},D3;function K0(n){return[n(0),n(1)]}const m6=n=>{const[i,a]=n;return(0,bw.q)((0,Ts.fv)(0,1),(0,p6.I)(i,a))};let nA=D3=class extends Oo.b{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:ex.Z,tickMethod:md.Z,tickCount:5}}constructor(i){super(i)}clone(){return new D3(this.options)}};nA=D3=Ew([tA(K0,m6)],nA);const rA=n=>new nA(n);rA.props={};const zp=n=>new yd(n);zp.props={};function iA({colorDefault:n,colorBlack:i,colorWhite:a,colorStroke:o,colorBackground:l,padding1:p,padding2:v,padding3:S,alpha90:R,alpha65:P,alpha45:I,alpha25:k,alpha10:z,category10:te,category20:de,sizeDefault:be=1,padding:Re="auto",margin:Ie=16}){return{padding:Re,margin:Ie,size:be,color:n,category10:te,category20:de,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:l,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:i,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:o,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:o,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:o,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:o,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:o,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:o,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:o,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:o,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:o,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:i,gridStrokeOpacity:z,labelAlign:"horizontal",labelFill:i,labelOpacity:I,labelFontSize:12,labelFontWeight:"normal",labelSpacing:p,line:!1,lineLineWidth:.5,lineStroke:i,lineStrokeOpacity:I,tickLength:4,tickLineWidth:1,tickStroke:i,tickOpacity:I,titleFill:i,titleOpacity:R,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:i,itemLabelFillOpacity:R,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[p,p],itemValueFill:i,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:i,navButtonFillOpacity:.65,navPageNumFill:i,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:i,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:i,tickStrokeOpacity:.25,rowPadding:p,colPadding:v,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:i,handleLabelFillOpacity:I,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:i,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:i,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:i,labelFillOpacity:I,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:R,tickStroke:i,tickStrokeOpacity:I},label:{fill:i,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:i,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:a,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:i,fontWeight:"normal"},slider:{trackSize:16,trackFill:o,trackFillOpacity:1,selectionFill:n,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:i,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:i,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:i,titleFillOpacity:R,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:i,subtitleFillOpacity:P,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const y6=iA({colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),u2=n=>(0,Ui.Z)({},y6,n);u2.props={};const xw=n=>(0,Ui.Z)({},u2(),{category10:"category10",category20:"category20"},n);xw.props={};const Tw=iA({colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25}),aA=n=>(0,Ui.Z)({},Tw,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},n),oA=n=>Object.assign({},aA(),{category10:"category10",category20:"category20"},n);oA.props={};const _6=iA({colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),Sw=n=>(0,Ui.Z)({},_6,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(i,a)=>a!==0},axisRight:{gridFilter:(i,a)=>a!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},n);Sw.props={};const k3=n=>(...i)=>{const a=Fs(Object.assign({},{crossPadding:50},n))(...i);return _l(a,n),a};k3.props=Object.assign(Object.assign({},Fs.props),{defaultPosition:"bottom"});function b6(){}const ox=n=>(...i)=>{const a=Fs(Object.assign({},{crossPadding:10},n))(...i);return _l(a,n),a};ox.props=Object.assign(Object.assign({},Fs.props),{defaultPosition:"left"});var Aw=A(76947);function sx(n){if((0,td.Z)(n)){var i=n;return i[i.length-1]}}var E6=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function x6(n,i){const a=Lu(n,"shape"),o=Lu(n,"color"),l=a?a.clone():null,p=[];for(const[S,R]of i){const P=S.type,k=((o==null?void 0:o.getOptions().domain.length)>0?o==null?void 0:o.getOptions().domain:R.data).map((z,te)=>{var de;return l?l.map(z||"point"):((de=S==null?void 0:S.style)===null||de===void 0?void 0:de.shape)||R.defaultShape||"point"});typeof P=="string"&&p.push([P,k])}if(p.length===0)return["point",["point"]];if(p.length===1||!a)return p[0];const{range:v}=a.getOptions();return p.map(([S,R])=>{let P=0;for(let I=0;I<p.length;I++){const k=v[I%v.length];R[I]===k&&P++}return[P/R.length,[S,R]]}).sort((S,R)=>R[0]-S[0])[0][1]}function Ju(n,i){const{scales:a,library:o,markState:l}=i,[p,v]=x6(a,l),{itemMarker:S,itemMarkerSize:R}=n,P=(z,te)=>{var de,be,Re;const Ie=((Re=(be=(de=o[`mark.${p}`])===null||de===void 0?void 0:de.props)===null||be===void 0?void 0:be.shape[z])===null||Re===void 0?void 0:Re.props.defaultMarker)||sx(z.split(".")),it=typeof R=="function"?R(te):R;return()=>pr(Ie,{color:te.color})(0,0,it)},I=z=>`${v[z]}`;return Lu(a,"shape")&&!S?(z,te)=>P(I(te),z):typeof S=="function"?(z,te)=>{const de=S(z.id,te);return typeof de=="string"?P(de,z):de}:(z,te)=>P(S||I(te),z)}function B3(n){const i=Lu(n,"opacity");if(i){const{range:a}=i.getOptions();return(o,l)=>a[l]}}function Cw(n,i){const a=Lu(n,"size");return a instanceof JE?a.map(NaN)*2:i}function T6(n,i){const{labelFormatter:a=z=>`${z}`}=n,{scales:o,theme:l}=i,p=l.legendCategory.itemMarkerSize,v=Cw(o,p),S={itemMarker:Ju(Object.assign(Object.assign({},n),{itemMarkerSize:v}),i),itemMarkerSize:v,itemMarkerOpacity:B3(o)},R=typeof a=="string"?Za(a):a,P=Lu(o,"color"),I=nl(o),k=P?z=>P.map(z):()=>i.theme.color;return Object.assign(Object.assign({},S),{data:I.map(z=>({id:z,label:R(z),color:k(z)}))})}function Ow(n,i,a){const{position:o}=i;if(o==="center"){const{bbox:v}=n,{width:S,height:R}=v;return{width:S,height:R}}const{width:l,height:p}=Ks(n,i,a);return{width:l,height:p}}const F3=n=>{const{labelFormatter:i,layout:a,order:o,orientation:l,position:p,size:v,title:S,cols:R,itemMarker:P}=n,I=E6(n,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:k}=I;return z=>{const{value:te,theme:de}=z,{bbox:be}=te,{width:Re,height:Ie}=Ow(te,n,F3),it=as(p,a),ut=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(p)?"vertical":"horizontal",width:Re,height:Ie,layout:R!==void 0?"grid":"flex"},R!==void 0&&{gridCol:R}),k!==void 0&&{gridRow:k}),{titleText:au(S)}),T6(n,z)),{legendCategory:Mt={}}=de,en=hu(Object.assign({},Mt,ut,I)),Rn=new Xs({style:Object.assign(Object.assign({x:be.x,y:be.y,width:be.width,height:be.height},it),{subOptions:en})});return Rn.appendChild(new Aw.W({className:"legend-category",style:en})),Rn}};F3.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const sA=n=>()=>new Oe.ZA;sA.props={};var Cc=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function uA(n,i,a,o){switch(o){case"center":return{x:n+a/2,y:i,textAlign:"middle"};case"right":return{x:n+a,y:i,textAlign:"right"};default:return{x:n,y:i,textAlign:"left"}}}const HN=Ma({render(n,i){const{width:a,title:o,subtitle:l,spacing:p=2,align:v="left",x:S,y:R}=n,P=Cc(n,["width","title","subtitle","spacing","align","x","y"]);i.style.transform=`translate(${S}, ${R})`;const I=jt(P,"title"),k=jt(P,"subtitle"),te=iu(i,".title","text").attr("className","title").call($o,Object.assign(Object.assign(Object.assign({},uA(0,0,a,v)),{fontSize:14,textBaseline:"top",text:o}),I)).node().getLocalBounds();iu(i,".sub-title","text").attr("className","sub-title").call(de=>{if(!l)return de.node().remove();de.node().attr(Object.assign(Object.assign(Object.assign({},uA(0,te.max[1]+p,a,v)),{fontSize:12,textBaseline:"top",text:l}),k))})}}),gg=n=>({value:i,theme:a})=>{const{x:o,y:l,width:p,height:v}=i.bbox;return new HN({style:(0,Ui.Z)({},a.title,Object.assign({x:o,y:l,width:p,height:v},n))})};gg.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};var l2=A(99012),U3=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function ww(n,i,a){const{x:o,y:l,width:p,height:v}=n;if(i==="left")return[o+p-a,l];if(i==="right")return[o,l];if(i==="bottom")return[o,l];if(i==="top")return[o,l+v-a]}const Kv=n=>{const{orientation:i,labelFormatter:a,size:o,style:l={},position:p}=n,v=U3(n,["orientation","labelFormatter","size","style","position"]);return S=>{var R;const{scales:[P],value:I,theme:k,coordinate:z}=S,{bbox:te}=I,{width:de,height:be}=te,{slider:Re={}}=k,Ie=((R=P.getFormatter)===null||R===void 0?void 0:R.call(P))||(nr=>nr+""),it=typeof a=="string"?Za(a):a,ut=i==="horizontal",Mt=Xo(z)&&ut,{trackSize:en=Re.trackSize}=l,[Rn,Jn]=ww(te,p,en);return new l2.i({className:"slider",style:Object.assign({},Re,Object.assign(Object.assign({x:Rn,y:Jn,trackLength:ut?de:be,orientation:i,formatter:nr=>{const mr=it||Ie,Vr=Mt?1-nr:nr,Hr=Ed(P,Vr,!0);return mr(Hr)},sparklineData:Mw(n,S)},l),v))})}};function z3(n,i){const[a]=Array.from(n.entries()).filter(([l])=>l.type==="line"||l.type==="area").filter(([l])=>l.slider).map(([l])=>{const{encode:p,slider:v}=l;if(v!=null&&v.x){const S=R=>{const P=p[R];return[R,P?P.value:void 0]};return Object.fromEntries(i.map(S))}});if(!(a!=null&&a.series))return a==null?void 0:a.y;const o=a.series.reduce((l,p,v)=>(l[p]=l[p]||[],l[p].push(a.y[v]),l),{});return Object.values(o)}function Mw(n,i){const{markState:a}=i;return(0,dn.Z)(n.sparklineData)?n.sparklineData:z3(a,["y","series"])}Kv.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const S6=n=>Kv(Object.assign(Object.assign({},n),{orientation:"horizontal"}));S6.props=Object.assign(Object.assign({},Kv.props),{defaultPosition:"bottom"});const Rw=n=>Kv(Object.assign(Object.assign({},n),{orientation:"vertical"}));Rw.props=Object.assign(Object.assign({},Kv.props),{defaultPosition:"left"});var ux=function(n){(0,xt.ZT)(i,n);function i(a){var o=n.call(this,a,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return o.range=[0,1],o.onValueChange=function(l){var p=o.attributes.value;if(l!==p){var v={detail:{oldValue:l,value:p}};o.dispatchEvent(new Oe.Aw("scroll",v)),o.dispatchEvent(new Oe.Aw("valuechange",v))}},o.onTrackClick=function(l){var p=o.attributes.slidable;if(p){var v=(0,xt.CR)(o.getLocalPosition(),2),S=v[0],R=v[1],P=(0,xt.CR)(o.padding,4),I=P[0],k=P[3],z=o.getOrientVal([S+k,R+I]),te=o.getOrientVal((0,ld.s)(l)),de=(te-z)/o.trackLength;o.setValue(de,!0)}},o.onThumbMouseenter=function(l){o.dispatchEvent(new Oe.Aw("thumbMouseenter",{detail:l.detail}))},o.onTrackMouseenter=function(l){o.dispatchEvent(new Oe.Aw("trackMouseenter",{detail:l.detail}))},o.onThumbMouseleave=function(l){o.dispatchEvent(new Oe.Aw("thumbMouseleave",{detail:l.detail}))},o.onTrackMouseleave=function(l){o.dispatchEvent(new Oe.Aw("trackMouseleave",{detail:l.detail}))},o}return Object.defineProperty(i.prototype,"padding",{get:function(){var a=this.attributes.padding;return(0,yo.j)(a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){var a=this.attributes.value,o=(0,xt.CR)(this.range,2),l=o[0],p=o[1];return(0,ta.Z)(a,l,p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trackLength",{get:function(){var a=this.attributes,o=a.viewportLength,l=a.trackLength,p=l===void 0?o:l;return p},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"availableSpace",{get:function(){var a=this.attributes.trackSize,o=this.trackLength,l=(0,xt.CR)(this.padding,4),p=l[0],v=l[1],S=l[2],R=l[3],P=(0,xt.CR)(this.getOrientVal([[o,a],[a,o]]),2),I=P[0],k=P[1];return{x:R,y:p,width:+I-(R+v),height:+k-(p+S)}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trackRadius",{get:function(){var a=this.attributes,o=a.isRound,l=a.trackSize;return o?l/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"thumbRadius",{get:function(){var a=this.attributes,o=a.isRound,l=a.thumbRadius;if(!o)return 0;var p=this.availableSpace,v=p.width,S=p.height;return l||this.getOrientVal([S,v])/2},enumerable:!1,configurable:!0}),i.prototype.getValues=function(a){a===void 0&&(a=this.value);var o=this.attributes,l=o.viewportLength,p=o.contentLength,v=l/p,S=(0,xt.CR)(this.range,2),R=S[0],P=S[1],I=a*(P-R-v);return[I,I+v]},i.prototype.getValue=function(){return this.value},i.prototype.renderSlider=function(a){var o=this.attributes,l=o.x,p=o.y,v=o.orientation,S=o.trackSize,R=o.padding,P=o.slidable,I=(0,ys.zs)(this.attributes,"track"),k=(0,ys.zs)(this.attributes,"thumb"),z=(0,xt.pi)((0,xt.pi)({x:l,y:p,brushable:!1,orientation:v,padding:R,selectionRadius:this.thumbRadius,showHandle:!1,slidable:P,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:S,values:this.getValues()},(0,ys.dq)(I,"track")),(0,ys.dq)(k,"selection"));this.slider=(0,es.Ys)(a).maybeAppendByClassName("scrollbar",function(){return new l2.i({style:z})}).update(z).node()},i.prototype.render=function(a,o){this.renderSlider(o)},i.prototype.setValue=function(a,o){o===void 0&&(o=!1);var l=this.attributes.value,p=(0,xt.CR)(this.range,2),v=p[0],S=p[1];this.slider.setValues(this.getValues((0,ta.Z)(a,v,S)),o),this.onValueChange(l)},i.prototype.bindEvents=function(){var a=this;this.slider.addEventListener("trackClick",function(o){o.stopPropagation(),a.onTrackClick(o.detail)}),this.onHover()},i.prototype.getOrientVal=function(a){var o=this.attributes.orientation;return o==="horizontal"?a[0]:a[1]},i.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},i.tag="scrollbar",i}(Ko.w),lx=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Qv=n=>{const{orientation:i,labelFormatter:a,style:o}=n,l=lx(n,["orientation","labelFormatter","style"]);return({scales:[p],value:v,theme:S})=>{const{bbox:R}=v,{x:P,y:I,width:k,height:z}=R,{scrollbar:te={}}=S,{ratio:de,range:be}=p.getOptions(),Re=i==="horizontal"?k:z,Ie=Re/de,[it,ut]=be,Mt=ut>it?0:1;return new ux({className:"g2-scrollbar",style:Object.assign({},te,Object.assign(Object.assign(Object.assign(Object.assign({},o),{x:P,y:I,trackLength:Re,value:Mt}),l),{orientation:i,contentLength:Ie,viewportLength:Re}))})}};Qv.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const Z3=n=>Qv(Object.assign(Object.assign({},n),{orientation:"horizontal"}));Z3.props=Object.assign(Object.assign({},Qv.props),{defaultPosition:"bottom"});const lA=n=>Qv(Object.assign(Object.assign({},n),{orientation:"vertical"}));lA.props=Object.assign(Object.assign({},Qv.props),{defaultPosition:"left"});const j3=(n,i)=>{const{coordinate:o}=i;return(l,p,v)=>{const[S]=l,{transform:R="",fillOpacity:P=1,strokeOpacity:I=1,opacity:k=1}=S.style,[z,te]=Xo(o)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],de=[{transform:`${R} ${te}`.trimStart(),transformOrigin:z,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${R} ${te}`.trimStart(),transformOrigin:z,fillOpacity:P,strokeOpacity:I,opacity:k,offset:.01},{transform:`${R} scale(1, 1)`.trimStart(),transformOrigin:z,fillOpacity:P,strokeOpacity:I,opacity:k}];return S.animate(de,Object.assign(Object.assign({},v),n))}},Pw=(n,i)=>{const{coordinate:o}=i;return(l,p,v)=>{const[S]=l,{transform:R="",fillOpacity:P=1,strokeOpacity:I=1,opacity:k=1}=S.style,[z,te]=Xo(o)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],de=[{transform:`${R} scale(1, 1)`.trimStart(),transformOrigin:z},{transform:`${R} ${te}`.trimStart(),transformOrigin:z,fillOpacity:P,strokeOpacity:I,opacity:k,offset:.99},{transform:`${R} ${te}`.trimStart(),transformOrigin:z,fillOpacity:0,strokeOpacity:0,opacity:0}];return S.animate(de,Object.assign(Object.assign({},v),n))}},cA=(n,i)=>{const{coordinate:o}=i;return Oe.ux.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:Oe.h0.NUMBER}),(l,p,v)=>{const[S]=l,R=I=>{const{__data__:k,style:z}=I,{radius:te=0,inset:de=0,fillOpacity:be=1,strokeOpacity:Re=1,opacity:Ie=1}=z,{points:it,y:ut,y1:Mt}=k,en=L(o,it,[ut,Mt]),{innerRadius:Rn,outerRadius:Jn}=en,nr=Tu().cornerRadius(te).padAngle(de*Math.PI/180),mr=new Oe.y$({}),Vr=dr=>(mr.attr({d:nr(dr)}),(0,Oe.YR)(mr)),Hr=[{scaleInYRadius:Rn+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:Rn+1e-4,fillOpacity:be,strokeOpacity:Re,opacity:Ie,offset:.01},{scaleInYRadius:Jn,fillOpacity:be,strokeOpacity:Re,opacity:Ie}],fi=I.animate(Hr,Object.assign(Object.assign({},v),n));return fi.onframe=function(){I.style.d=Vr(Object.assign(Object.assign({},en),{outerRadius:Number(I.style.scaleInYRadius)}))},fi.onfinish=function(){I.style.d=Vr(Object.assign(Object.assign({},en),{outerRadius:Jn}))},fi},P=I=>{const{style:k}=I,{transform:z="",fillOpacity:te=1,strokeOpacity:de=1,opacity:be=1}=k,[Re,Ie]=Xo(o)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],it=[{transform:`${z} ${Ie}`.trimStart(),transformOrigin:Re,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${z} ${Ie}`.trimStart(),transformOrigin:Re,fillOpacity:te,strokeOpacity:de,opacity:be,offset:.01},{transform:`${z} scale(1, 1)`.trimStart(),transformOrigin:Re,fillOpacity:te,strokeOpacity:de,opacity:be}];return I.animate(it,Object.assign(Object.assign({},v),n))};return wt(o)?R(S):P(S)}},c2=(n,i)=>{const{coordinate:o}=i;return(l,p,v)=>{const[S]=l,{transform:R="",fillOpacity:P=1,strokeOpacity:I=1,opacity:k=1}=S.style,[z,te]=Xo(o)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],de=[{transform:`${R} scale(1, 1)`.trimStart(),transformOrigin:z},{transform:`${R} ${te}`.trimStart(),transformOrigin:z,fillOpacity:P,strokeOpacity:I,opacity:k,offset:.99},{transform:`${R} ${te}`.trimStart(),transformOrigin:z,fillOpacity:0,strokeOpacity:0,opacity:0}];return S.animate(de,Object.assign(Object.assign({},v),n))}},Iw=(n,i)=>{Oe.ux.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:Oe.h0.NUMBER});const{coordinate:o}=i;return(l,p,v)=>{const[S]=l;if(!wt(o))return j3(n,i)(l,p,v);const{__data__:R,style:P}=S,{radius:I=0,inset:k=0,fillOpacity:z=1,strokeOpacity:te=1,opacity:de=1}=P,{points:be,y:Re,y1:Ie}=R,it=Tu().cornerRadius(I).padAngle(k*Math.PI/180),ut=L(o,be,[Re,Ie]),{startAngle:Mt,endAngle:en}=ut,Rn=[{waveInArcAngle:Mt+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:Mt+1e-4,fillOpacity:z,strokeOpacity:te,opacity:de,offset:.01},{waveInArcAngle:en,fillOpacity:z,strokeOpacity:te,opacity:de}],Jn=S.animate(Rn,Object.assign(Object.assign({},v),n));return Jn.onframe=function(){S.style.d=it(Object.assign(Object.assign({},ut),{endAngle:Number(S.style.waveInArcAngle)}))},Jn.onfinish=function(){S.style.d=it(Object.assign(Object.assign({},ut),{endAngle:en}))},Jn}};Iw.props={};const Lw=n=>(i,a,o)=>{const[l]=i,{fillOpacity:p=1,strokeOpacity:v=1,opacity:S=1}=l.style,R=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:p,strokeOpacity:v,opacity:S}];return l.animate(R,Object.assign(Object.assign({},o),n))};Lw.props={};const fA=n=>(i,a,o)=>{const[l]=i,{fillOpacity:p=1,strokeOpacity:v=1,opacity:S=1}=l.style,R=[{fillOpacity:p,strokeOpacity:v,opacity:S},{fillOpacity:0,strokeOpacity:0,opacity:0}];return l.animate(R,Object.assign(Object.assign({},o),n))};fA.props={};const A6=n=>(a,o,l)=>{const[p]=a,{transform:v="",fillOpacity:S=1,strokeOpacity:R=1,opacity:P=1}=p.style,I="center center",k=[{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:I,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:I,fillOpacity:S,strokeOpacity:R,opacity:P,offset:.01},{transform:`${v} scale(1)`.trimStart(),transformOrigin:I,fillOpacity:S,strokeOpacity:R,opacity:P}];return p.animate(k,Object.assign(Object.assign({},l),n))},H3=n=>(a,o,l)=>{const[p]=a,{transform:v="",fillOpacity:S=1,strokeOpacity:R=1,opacity:P=1}=p.style,I="center center",k=[{transform:`${v} scale(1)`.trimStart(),transformOrigin:I},{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:I,fillOpacity:S,strokeOpacity:R,opacity:P,offset:.99},{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:I,fillOpacity:0,strokeOpacity:0,opacity:0}];return p.animate(k,Object.assign(Object.assign({},l),n))},H1=n=>(i,a,o)=>{var l,p;const[v]=i,S=((p=(l=v).getTotalLength)===null||p===void 0?void 0:p.call(l))||0,R=[{lineDash:[0,S]},{lineDash:[S,0]}];return v.animate(R,Object.assign(Object.assign({},o),n))};H1.props={};const Nw={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},dA={[Oe.bn.CIRCLE]:["cx","cy","r"],[Oe.bn.ELLIPSE]:["cx","cy","rx","ry"],[Oe.bn.RECT]:["x","y","width","height"],[Oe.bn.IMAGE]:["x","y","width","height"],[Oe.bn.LINE]:["x1","y1","x2","y2"],[Oe.bn.POLYLINE]:["points"],[Oe.bn.POLYGON]:["points"]};function f2(n,i,a=!1){const o={};for(const l of i){const p=n.style[l];p?o[l]=p:a&&(o[l]=Nw[l])}return o}const s_=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function Dw(n){const{min:i,max:a}=n.getLocalBounds(),[o,l]=i,[p,v]=a,S=v-l,R=p-o;return[o,l,R,S]}function C6(n){const[i,a,o,l]=n;return`
    M ${i} ${a}
    L ${i+o} ${a}
    L ${i+o} ${a+l}
    L ${i} ${a+l}
    Z
  `}function WN(n,i){const[a,o,l,p]=Dw(n),v=p/l,S=Math.ceil(Math.sqrt(i/v)),R=Math.ceil(i/S),P=[],I=p/R;let k=0,z=i;for(;z>0;){const te=Math.min(z,S),de=l/te;for(let be=0;be<te;be++){const Re=a+be*de,Ie=o+k*I;P.push(C6([Re,Ie,de,I]))}z-=te,k+=1}return P}function kw(n="pack"){return typeof n=="function"?n:WN}function d2(n,i,a){let{transform:o}=n.style;const{transform:l}=i.style;Bw(i,n);let p=s_;if(n.nodeName===Oe.bn.GROUP){const[R,P,I,k]=Dw(n),[z,te,de,be]=Dw(i),Re=R-z,Ie=P-te,it=I/de,ut=k/be;o=`translate(${Re}, ${Ie}) scale(${it}, ${ut})`}else p=p.concat(dA[n.nodeName]||[]);const v=[Object.assign({transform:o!=null?o:"none"},f2(n,p,!0)),Object.assign({transform:l!=null?l:"none"},f2(i,p,!0))];return i.animate(v,a)}function Bw(n,i){n.__data__=i.__data__,n.className=i.className,n.markType=i.markType,i.parentNode.replaceChild(n,i)}function O6(n,i){const{nodeName:a}=n;if(a==="path")return n;const o=new Oe.y$({style:Object.assign(Object.assign({},f2(n,s_)),{d:i})});return Bw(o,n),o}function h2(n,i){const a=n.indexOf(i),o=n.lastIndexOf(i);return a===o}function w6(n){return!h2(n,"m")||!h2(n,"M")}function Fw(n){const i=(0,Oe.YR)(n);if(i&&!w6(i))return i}function W3(n){const{nodeName:i}=n;if(i==="path"){const a=(0,Pc.Z)(n,"attributes");return a.markerEnd||a.markerStart}return!1}function V3(n,i,a,o){const{nodeName:l}=i,{nodeName:p}=a,v=Fw(i),S=Fw(a),R=l===p&&l!=="path",P=v===void 0||S===void 0,I=W3(i)||W3(a);if(R||P||I)return d2(i,a,o);const k=O6(n,v),z=[Object.assign({},f2(i,s_)),Object.assign({},f2(a,s_))];if(v!==S){z[0].d=v,z[1].d=S;const te=k.animate(z,o);return te.onfinish=()=>{const de=k.style.d;Pn(k,a),k.style.d=de,k.style.transform="none"},k.style.transform="none",te}return null}function cx(n,i,a,o){n.style.visibility="hidden";const l=o(n,i.length);return i.map((p,v)=>{const S=new Oe.y$({style:Object.assign({d:l[v]},f2(n,s_))});return V3(p,S,p,a)})}function hA(n,i,a,o){const l=o(i,n.length),{fillOpacity:p=1,strokeOpacity:v=1,opacity:S=1}=i.style,R=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:p,strokeOpacity:v,opacity:S}],P=i.animate(R,a);return[...n.map((k,z)=>{const te=new Oe.y$({style:{d:l[z],fill:i.style.fill}});return V3(k,k,te,a)}),P]}const pA=n=>(i,a,o)=>{const l=kw(n.split),p=Object.assign(Object.assign({},o),n),{length:v}=i,{length:S}=a;if(v===1&&S===1||v>1&&S>1){const[R]=i,[P]=a;return V3(R,R,P,p)}if(v===1&&S>1){const[R]=i;return cx(R,a,p,l)}if(v>1&&S===1){const[R]=a;return hA(i,R,p,l)}return null};pA.props={};const Uw=(n,i)=>(a,o,l)=>{const[p]=a,{min:[v,S],halfExtents:R}=p.getLocalBounds(),P=R[0]*2,I=R[1]*2,k=new Oe.y$({style:{d:`M${v},${S}L${v+P},${S}L${v+P},${S+I}L${v},${S+I}Z`}});return p.appendChild(k),p.style.clipPath=k,j3(n,i)([k],o,l)};Uw.props={};const M6=(n,i)=>(a,o,l)=>{const[p]=a,{min:[v,S],halfExtents:R}=p.getLocalBounds(),P=R[0]*2,I=R[1]*2,k=new Oe.y$({style:{d:`M${v},${S}L${v+P},${S}L${v+P},${S+I}L${v},${S+I}Z`}});return p.appendChild(k),p.style.clipPath=k,cA(n,i)([k],o,l)};M6.props={};var R6=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function VN(n,{elements:i,datum:a,groupKey:o=k=>k,link:l=!1,background:p=!1,delay:v=60,scale:S,coordinate:R,emitter:P,state:I={}}){var k;const z=i(n),te=new Set(z),de=_e(z,o),be=W(z,a),[Re,Ie]=X(Object.assign({elements:z,valueof:be,link:l,coordinate:R},jt(I.active,"link"))),[it,ut,Mt]=x(Object.assign({document:n.ownerDocument,scale:S,coordinate:R,background:p,valueof:be},jt(I.active,"background"))),en=(0,Ui.Z)(I,{active:Object.assign({},((k=I.active)===null||k===void 0?void 0:k.offset)&&{transform:(...Ti)=>{const Rr=I.active.offset(...Ti),[,Gr]=Ti;return E(z[Gr],Rr,R)}})}),{setState:Rn,removeState:Jn,hasState:nr}=rl(en,be);let mr;const Vr=Ti=>{const{target:Rr,nativeEvent:Gr=!0}=Ti;if(!te.has(Rr))return;mr&&clearTimeout(mr);const Qi=o(Rr),ga=de.get(Qi),ya=new Set(ga);for(const Ea of z)ya.has(Ea)?nr(Ea,"active")||Rn(Ea,"active"):(Rn(Ea,"inactive"),Ie(Ea)),Ea!==Rr&&ut(Ea);it(Rr),Re(ga),Gr&&P.emit("element:highlight",{nativeEvent:Gr,data:{data:a(Rr),group:ga.map(a)}})},Hr=()=>{mr&&clearTimeout(mr),mr=setTimeout(()=>{fi(),mr=null},v)},fi=(Ti=!0)=>{for(const Rr of z)Jn(Rr,"active","inactive"),ut(Rr),Ie(Rr);Ti&&P.emit("element:unhighlight",{nativeEvent:Ti})},dr=Ti=>{const{target:Rr}=Ti;p&&!Mt(Rr)||!p&&!te.has(Rr)||(v>0?Hr():fi())},_r=()=>{fi()};n.addEventListener("pointerover",Vr),n.addEventListener("pointerout",dr),n.addEventListener("pointerleave",_r);const lr=Ti=>{const{nativeEvent:Rr}=Ti;Rr||fi(!1)},hr=Ti=>{const{nativeEvent:Rr}=Ti;if(Rr)return;const{data:Gr}=Ti.data,Qi=he(z,Gr,a);Qi&&Vr({target:Qi,nativeEvent:!1})};return P.on("element:highlight",hr),P.on("element:unhighlight",lr),()=>{n.removeEventListener("pointerover",Vr),n.removeEventListener("pointerout",dr),n.removeEventListener("pointerleave",_r),P.off("element:highlight",hr),P.off("element:unhighlight",lr);for(const Ti of z)ut(Ti),Ie(Ti)}}function G3(n){var{delay:i,createGroup:a,background:o=!1,link:l=!1}=n,p=R6(n,["delay","createGroup","background","link"]);return(v,S,R)=>{const{container:P,view:I,options:k}=v,{scale:z,coordinate:te}=I,de=Mn(P);return VN(de,Object.assign({elements:lh,datum:tl(I),groupKey:a?a(I):void 0,coordinate:te,scale:z,state:ic(k,[["active",o?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:o,link:l,delay:i,emitter:R},p))}}G3.props={reapplyWhenUpdate:!0};function fx(n){return G3(Object.assign(Object.assign({},n),{createGroup:Pu}))}fx.props={reapplyWhenUpdate:!0};function gA(n){return G3(Object.assign(Object.assign({},n),{createGroup:yu}))}gA.props={reapplyWhenUpdate:!0};var P6=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function I6(n,{elements:i,datum:a,groupKey:o=k=>k,link:l=!1,single:p=!1,coordinate:v,background:S=!1,scale:R,emitter:P,state:I={}}){var k;const z=i(n),te=new Set(z),de=_e(z,o),be=W(z,a),[Re,Ie]=X(Object.assign({link:l,elements:z,valueof:be,coordinate:v},jt(I.selected,"link"))),[it,ut]=x(Object.assign({document:n.ownerDocument,background:S,coordinate:v,scale:R,valueof:be},jt(I.selected,"background"))),Mt=(0,Ui.Z)(I,{selected:Object.assign({},((k=I.selected)===null||k===void 0?void 0:k.offset)&&{transform:(..._r)=>{const lr=I.selected.offset(..._r),[,hr]=_r;return E(z[hr],lr,v)}})}),{setState:en,removeState:Rn,hasState:Jn}=rl(Mt,be),nr=(_r=!0)=>{for(const lr of z)Rn(lr,"selected","unselected"),Ie(lr),ut(lr);_r&&P.emit("element:unselect",{nativeEvent:!0})},mr=(_r,lr,hr=!0)=>{if(Jn(lr,"selected"))nr();else{const Ti=o(lr),Rr=de.get(Ti),Gr=new Set(Rr);for(const Qi of z)Gr.has(Qi)?en(Qi,"selected"):(en(Qi,"unselected"),Ie(Qi)),Qi!==lr&&ut(Qi);if(Re(Rr),it(lr),!hr)return;P.emit("element:select",Object.assign(Object.assign({},_r),{nativeEvent:hr,data:{data:[a(lr),...Rr.map(a)]}}))}},Vr=(_r,lr,hr=!0)=>{const Ti=o(lr),Rr=de.get(Ti),Gr=new Set(Rr);if(Jn(lr,"selected")){if(!z.some(ga=>!Gr.has(ga)&&Jn(ga,"selected")))return nr();for(const ga of Rr)en(ga,"unselected"),Ie(ga),ut(ga)}else{const Qi=Rr.some(ga=>Jn(ga,"selected"));for(const ga of z)Gr.has(ga)?en(ga,"selected"):Jn(ga,"selected")||en(ga,"unselected");!Qi&&l&&Re(Rr),it(lr)}hr&&P.emit("element:select",Object.assign(Object.assign({},_r),{nativeEvent:hr,data:{data:z.filter(Qi=>Jn(Qi,"selected")).map(a)}}))},Hr=_r=>{const{target:lr,nativeEvent:hr=!0}=_r;return te.has(lr)?p?mr(_r,lr,hr):Vr(_r,lr,hr):nr()};n.addEventListener("click",Hr);const fi=_r=>{const{nativeEvent:lr,data:hr}=_r;if(lr)return;const Ti=p?hr.data.slice(0,1):hr.data;for(const Rr of Ti){const Gr=he(z,Rr,a);Hr({target:Gr,nativeEvent:!1})}},dr=()=>{nr(!1)};return P.on("element:select",fi),P.on("element:unselect",dr),()=>{for(const _r of z)Ie(_r);n.removeEventListener("click",Hr),P.off("element:select",fi),P.off("element:unselect",dr)}}function Y3(n){var{createGroup:i,background:a=!1,link:o=!1}=n,l=P6(n,["createGroup","background","link"]);return(p,v,S)=>{const{container:R,view:P,options:I}=p,{coordinate:k,scale:z}=P,te=Mn(R);return I6(te,Object.assign({elements:lh,datum:tl(P),groupKey:i?i(P):void 0,coordinate:k,scale:z,state:ic(I,[["selected",a?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:a,link:o,emitter:S},l))}}Y3.props={reapplyWhenUpdate:!0};function zw(n){return Y3(Object.assign(Object.assign({},n),{createGroup:Pu}))}zw.props={reapplyWhenUpdate:!0};function Zw(n){return Y3(Object.assign(Object.assign({},n),{createGroup:yu}))}Zw.props={reapplyWhenUpdate:!0};var u_=A(2170);function L6(n){const{coordinate:i={}}=n,{transform:a=[]}=i,o=a.find(p=>p.type==="fisheye");if(o)return o;const l={type:"fisheye"};return a.push(l),i.transform=a,n.coordinate=i,l}function N6({wait:n=30,leading:i,trailing:a=!1}){return o=>{const{options:l,update:p,setState:v,container:S}=o,R=Mn(S),P=(0,u_.Z)(I=>{const k=Yi(R,I);if(!k){v("fisheye"),p();return}v("fisheye",z=>{const te=(0,Ui.Z)({},z,{interaction:{tooltip:{preserve:!0}}});for(const Ie of te.marks)Ie.animate=!1;const[de,be]=k,Re=L6(te);return Re.focusX=de,Re.focusY=be,Re.visual=!0,te}),p()},n,{leading:i,trailing:a});return R.addEventListener("pointerenter",P),R.addEventListener("pointermove",P),R.addEventListener("pointerleave",P),()=>{R.removeEventListener("pointerenter",P),R.removeEventListener("pointermove",P),R.removeEventListener("pointerleave",P)}}}var D6=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},k6=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function B6(n){const{transform:i=[]}=n,a=i.find(l=>l.type==="normalizeY");if(a)return a;const o={type:"normalizeY"};return i.push(o),n.transform=i,o}function F6(n,i,a){const[o]=Array.from(n.entries()).filter(([l])=>l.type===i).map(([l])=>{const{encode:p}=l,v=S=>{const R=p[S];return[S,R?R.value:void 0]};return Object.fromEntries(a.map(v))});return o}function jw(n){var{wait:i=20,leading:a,trailing:o=!1,labelFormatter:l=v=>`${v}`}=n,p=k6(n,["wait","leading","trailing","labelFormatter"]);return v=>{const{view:S,container:R,update:P,setState:I}=v,{markState:k,scale:z,coordinate:te}=S,de=F6(k,"line",["x","y","series"]);if(!de)return;const{y:be,x:Re,series:Ie=[]}=de,it=be.map((Ti,Rr)=>Rr),ut=hd(it.map(Ti=>Re[Ti])),Mt=Mn(R),en=R.getElementsByClassName(Je),Rn=R.getElementsByClassName(Xe),nr=_e(Rn,Ti=>Ti.__data__.key.split("-")[0]),mr=new Oe.x1({style:Object.assign({x1:0,y1:0,x2:0,y2:Mt.getAttribute("height"),stroke:"black",lineWidth:1},jt(p,"rule"))}),Vr=new Oe.xv({style:Object.assign({x:0,y:Mt.getAttribute("height"),text:"",fontSize:10},jt(p,"label"))});mr.append(Vr),Mt.appendChild(mr);const Hr=(Ti,Rr,Gr)=>{const[Qi]=Ti.invert(Gr),ga=Rr.invert(Qi);return ut[Op(ut,ga)]},fi=(Ti,Rr)=>{mr.setAttribute("x1",Ti[0]),mr.setAttribute("x2",Ti[0]),Vr.setAttribute("text",l(Rr))};let dr;const _r=Ti=>D6(this,void 0,void 0,function*(){const{x:Rr}=z,Gr=Hr(te,Rr,Ti);fi(Ti,Gr),I("chartIndex",ga=>{const ya=(0,Ui.Z)({},ga),Ea=ya.marks.find(Uo=>Uo.type==="line"),Wo=ia(tn(it,Uo=>ia(Uo,Eu=>+be[Eu])/kh(Uo,Eu=>+be[Eu]),Uo=>Ie[Uo]).values()),Ps=[1/Wo,Wo];(0,Ui.Z)(Ea,{scale:{y:{domain:Ps}}});const jo=B6(Ea);jo.groupBy="color",jo.basis=(Uo,Eu)=>{const ws=Uo[Lh(gs=>Re[+gs]).center(Uo,Gr)];return Eu[ws]};for(const Uo of ya.marks)Uo.animate=!1;return ya}),dr=(yield P("chartIndex")).view}),lr=Ti=>{const{scale:Rr,coordinate:Gr}=dr,{x:Qi,y:ga}=Rr,ya=Hr(Gr,Qi,Ti);fi(Ti,ya);for(const Ea of en){const{seriesIndex:go,key:Wo}=Ea.__data__,Ps=go[Lh(Au=>Re[+Au]).center(go,ya)],jo=[0,ga.map(1)],Uo=[0,ga.map(be[Ps]/be[go[0]])],[,Eu]=Gr.map(jo),[,ws]=Gr.map(Uo),gs=Eu-ws;Ea.setAttribute("transform",`translate(0, ${gs})`);const Ws=nr.get(Wo)||[];for(const Au of Ws)Au.setAttribute("dy",gs)}},hr=(0,u_.Z)(Ti=>{const Rr=Yi(Mt,Ti);Rr&&lr(Rr)},i,{leading:a,trailing:o});return _r([0,0]),Mt.addEventListener("pointerenter",hr),Mt.addEventListener("pointermove",hr),Mt.addEventListener("pointerleave",hr),()=>{mr.remove(),Mt.removeEventListener("pointerenter",hr),Mt.removeEventListener("pointermove",hr),Mt.removeEventListener("pointerleave",hr)}}}jw.props={reapplyWhenUpdate:!0};function tv(n,i){let a,o=-1,l=-1;if(i===void 0)for(const p of n)++l,p!=null&&(a>p||a===void 0&&p>=p)&&(a=p,o=l);else for(let p of n)(p=i(p,++l,n))!=null&&(a>p||a===void 0&&p>=p)&&(a=p,o=l);return o}function dx(n,i){let a=0,o=0;if(i===void 0)for(let l of n)l!=null&&(l=+l)>=l&&(++a,o+=l);else{let l=-1;for(let p of n)(p=i(p,++l,n))!=null&&(p=+p)>=p&&(++a,o+=p)}if(a)return o/a}var GN=A(62229),l_=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function $3(n,i){return i?typeof i=="string"?document.querySelector(i):i:n.ownerDocument.defaultView.getContextService().getDomElement().parentElement}function Hw(n){const i=n.getRenderBounds(),{min:[a,o],max:[l,p]}=i;return{x:a,y:o,width:l-a,height:p-o}}function U6(n,i){const a=n.getBoundingClientRect(),o=i.getBoundingClientRect();return{x:a.x-o.x,y:a.y-o.y}}function z6(n,i,a,o,l,p,v,S={},R=[10,10]){const P={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},I=new GN.u({className:"tooltip",style:{x:i,y:a,container:v,data:[],bounding:p,position:o,enterable:l,title:"",offset:R,template:{prefixCls:"g2-"},style:(0,Ui.Z)(P,S)}});return n.appendChild(I.HTMLTooltipElement),I}function Ww({root:n,data:i,x:a,y:o,render:l,event:p,single:v,position:S="right-bottom",enterable:R=!1,css:P,mount:I,bounding:k,offset:z}){const te=$3(n,I),de=$3(n),be=v?de:n,Re=k||Hw(n),Ie=U6(de,te),{tooltipElement:it=z6(te,a,o,S,R,Re,Ie,P,z)}=be,{items:ut,title:Mt=""}=i;it.update(Object.assign({x:a,y:o,data:ut,title:Mt,position:S,enterable:R,container:Ie},l!==void 0&&{content:l(p,{items:ut,title:Mt})})),be.tooltipElement=it}function W1({root:n,single:i,emitter:a,nativeEvent:o=!0,event:l=null}){o&&a.emit("tooltip:hide",{nativeEvent:o});const p=$3(n),v=i?p:n,{tooltipElement:S}=v;S&&S.hide(l==null?void 0:l.clientX,l==null?void 0:l.clientY),Xw(n),vA(n),Kw(n)}function mA({root:n,single:i}){const a=$3(n),o=i?a:n;if(!o)return;const{tooltipElement:l}=o;l&&(l.destroy(),o.tooltipElement=void 0),Xw(n),vA(n),Kw(n)}function Vw(n){const{value:i}=n;return Object.assign(Object.assign({},n),{value:i===void 0?"undefined":i})}function Z6(n){const{__data__:i}=n,{title:a,items:o=[]}=i,l=o.filter(Hn).map(p=>{var{color:v=Gw(n)}=p,S=l_(p,["color"]);return Object.assign(Object.assign({},S),{color:v})}).map(Vw);return Object.assign(Object.assign({},a&&{title:a}),{items:l})}function j6(n,i){const{color:a,series:o,facet:l=!1}=n,{color:p,series:v}=i,S=R=>R&&R.invert&&!(R instanceof qE.t)&&!(R instanceof yd);if(S(o))return o.clone().invert(v);if(v&&o instanceof qE.t&&o.invert(v)!==p&&!l)return o.invert(v);if(S(a)){const R=a.invert(p);return Array.isArray(R)?null:R}return null}function Gw(n){const i=n.getAttribute("fill"),a=n.getAttribute("stroke"),{__data__:o}=n,{color:l=i&&i!=="transparent"?i:a}=o;return l}function Yw(n,i=a=>a){const a=new Map(n.map(o=>[i(o),o]));return Array.from(a.values())}function $w(n,i,a,o=n.map(p=>p.__data__),l={}){const p=R=>R instanceof Date?+R:R,v=Yw(o.map(R=>R.title),p).filter(Hn),S=o.flatMap((R,P)=>{const I=n[P],{items:k=[],title:z}=R,te=k.filter(Hn),de=a!==void 0?a:k.length<=1;return te.map(be=>{var{color:Re=Gw(I)||l.color,name:Ie}=be,it=l_(be,["color","name"]);const ut=j6(i,R),Mt=de?ut||Ie:Ie||ut;return Object.assign(Object.assign({},it),{color:Re,name:Mt||z})})}).map(Vw);return Object.assign(Object.assign({},v.length>0&&{title:v.join(",")}),{items:Yw(S,R=>`(${p(R.name)}, ${p(R.value)}, ${p(R.color)})`)})}function H6(n,i,a,o){var{plotWidth:l,plotHeight:p,mainWidth:v,mainHeight:S,startX:R,startY:P,transposed:I,polar:k,insetLeft:z,insetTop:te}=o,de=l_(o,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const be=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},de),Re=(Rn,Jn,nr)=>{const mr=new Oe.Cd({style:Object.assign({cx:Rn,cy:Jn,r:nr},be)});return n.appendChild(mr),mr},Ie=(Rn,Jn,nr,mr)=>{const Vr=new Oe.x1({style:Object.assign({x1:Rn,x2:Jn,y1:nr,y2:mr},be)});return n.appendChild(Vr),Vr},ut=((Rn,Jn)=>{if(Jn.length===1)return Jn[0];const nr=Jn.map(Vr=>bl(Vr,Rn)),mr=tv(nr,Vr=>Vr);return Jn[mr]})(a,i),Mt=()=>I?[R+ut[0],R+ut[0],P,P+p]:[R,R+l,ut[1]+P,ut[1]+P],en=()=>{const Rn=R+z+v/2,Jn=P+te+S/2,nr=bl([Rn,Jn],ut);return[Rn,Jn,nr]};if(k){const[Rn,Jn,nr]=en(),mr=n.ruleX||Re(Rn,Jn,nr);mr.style.cx=Rn,mr.style.cy=Jn,mr.style.r=nr,n.ruleX=mr}else{const[Rn,Jn,nr,mr]=Mt(),Vr=n.ruleX||Ie(Rn,Jn,nr,mr);Vr.style.x1=Rn,Vr.style.x2=Jn,Vr.style.y1=nr,Vr.style.y2=mr,n.ruleX=Vr}}function W6(n,i,a){var{plotWidth:o,plotHeight:l,mainWidth:p,mainHeight:v,startX:S,startY:R,transposed:P,polar:I,insetLeft:k,insetTop:z}=a,te=l_(a,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const de=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},te),be=i.map(mr=>mr[1]),Re=i.map(mr=>mr[0]),Ie=dx(be),it=dx(Re),ut=()=>{if(I){const mr=Math.min(p,v)/2,Vr=S+k+p/2,Hr=R+z+v/2,fi=pc(vu([it,Ie],[Vr,Hr])),dr=Vr+mr*Math.cos(fi),_r=Hr+mr*Math.sin(fi);return[Vr,dr,Hr,_r]}return P?[S,S+o,Ie+R,Ie+R]:[it+S,it+S,R,R+l]},[Mt,en,Rn,Jn]=ut(),nr=()=>{const mr=new Oe.x1({style:Object.assign({x1:Mt,x2:en,y1:Rn,y2:Jn},de)});return n.appendChild(mr),mr};if(Re.length>0){const mr=n.ruleY||nr();mr.style.x1=Mt,mr.style.x2=en,mr.style.y1=Rn,mr.style.y2=Jn,n.ruleY=mr}}function Xw(n){n.ruleY&&(n.ruleY.remove(),n.ruleY=void 0)}function vA(n){n.ruleX&&(n.ruleX.remove(),n.ruleX=void 0)}function V6(n,{data:i,style:a,theme:o}){n.markers&&n.markers.forEach(v=>v.remove());const{type:l=""}=a,p=i.filter(v=>{const[{x:S,y:R}]=v;return Hn(S)&&Hn(R)}).map(v=>{const[{color:S,element:R},P]=v,I=S||R.style.fill||R.style.stroke||o.color,k=l==="hollow"?"transparent":I,z=l==="hollow"?I:"#fff";return new Oe.Cd({className:"g2-tooltip-marker",style:Object.assign({cx:P[0],cy:P[1],fill:k,r:4,stroke:z,lineWidth:2},a)})});for(const v of p)n.appendChild(v);n.markers=p}function Kw(n){n.markers&&(n.markers.forEach(i=>i.remove()),n.markers=[])}function Qw(n,i){return Array.from(n.values()).some(a=>{var o;return(o=a.interaction)===null||o===void 0?void 0:o[i]})}function V1(n,i){return n===void 0?i:n}function qw(n){const{title:i,items:a}=n;return a.length===0&&i===void 0}function G6(n){return Array.from(n.values()).some(i=>{var a;return((a=i.interaction)===null||a===void 0?void 0:a.seriesTooltip)&&i.tooltip})}function Jw(n,i){var{elements:a,sort:o,filter:l,scale:p,coordinate:v,crosshairs:S,crosshairsX:R,crosshairsY:P,render:I,groupName:k,emitter:z,wait:te=50,leading:de=!0,trailing:be=!1,startX:Re=0,startY:Ie=0,body:it=!0,single:ut=!0,position:Mt,enterable:en,mount:Rn,bounding:Jn,theme:nr,offset:mr,disableNative:Vr=!1,marker:Hr=!0,preserve:fi=!1,style:dr={},css:_r={}}=i,lr=l_(i,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css"]);const hr=a(n),Ti=Xo(v),Rr=wt(v),Gr=(0,Ui.Z)(dr,lr),{innerWidth:Qi,innerHeight:ga,width:ya,height:Ea,insetLeft:go,insetTop:Wo}=v.getOptions(),Ps=[],jo=[];for(const Wu of hr){const{__data__:Jl}=Wu,{seriesX:kc,title:Wc,items:Yd}=Jl;kc?Ps.push(Wu):(Wc||Yd)&&jo.push(Wu)}const Uo=Wu=>Wu.markType==="interval",Eu=jo.length&&jo.every(Uo)&&!wt(v),ws=Wu=>Wu.__data__.x,Ws=!!p.x.getBandWidth&&jo.length>0;Ps.sort((Wu,Jl)=>{const kc=Ti?0:1,Wc=Yd=>Yd.getBounds().min[kc];return Ti?Wc(Jl)-Wc(Wu):Wc(Wu)-Wc(Jl)});const Au=Wu=>{const Jl=Ti?1:0,{min:kc,max:Wc}=Wu.getLocalBounds();return hd([kc[Jl],Wc[Jl]])};Eu?hr.sort((Wu,Jl)=>ws(Wu)-ws(Jl)):jo.sort((Wu,Jl)=>{const[kc,Wc]=Au(Wu),[Yd,d0]=Au(Jl),h0=(kc+Wc)/2,Vp=(Yd+d0)/2;return Ti?Vp-h0:h0-Vp});const Yu=new Map(Ps.map(Wu=>{const{__data__:Jl}=Wu,{seriesX:kc}=Jl,Wc=kc.map((d0,h0)=>h0),Yd=hd(Wc,d0=>kc[+d0]);return[Wu,[Yd,kc]]})),{x:yl}=p,cf=yl!=null&&yl.getBandWidth?yl.getBandWidth()/2:0,Ml=Wu=>{const[Jl]=v.invert(Wu);return Jl-cf},dc=(Wu,Jl,kc,Wc)=>{const{_x:Yd}=Wu,d0=Yd!==void 0?yl.map(Yd):Ml(Jl),h0=Wc.filter(Hn),[Vp,bv]=hd([h0[0],h0[h0.length-1]]),a1=Vp===bv;if(!Ws&&(d0<Vp||d0>bv)&&!a1)return null;const cS=Lh(w_=>Wc[+w_]).center,oO=cS(kc,d0);return kc[oO]},nh=Eu?(Wu,Jl)=>{const kc=Lh(ws).center,Wc=kc(Jl,Ml(Wu)),Yd=Jl[Wc];return _e(Jl,ws).get(ws(Yd))}:(Wu,Jl)=>{const Wc=Wu[Ti?1:0],Yd=Jl.filter(Vp=>{const[bv,a1]=Au(Vp);return Wc>=bv&&Wc<=a1});if(!Ws||Yd.length>0)return Yd;const d0=Lh(Vp=>{const[bv,a1]=Au(Vp);return(bv+a1)/2}).center,h0=d0(Jl,Wc);return[Jl[h0]].filter(Hn)},_p=(Wu,Jl)=>{const{__data__:kc}=Wu;return Object.fromEntries(Object.entries(kc).filter(([Wc])=>Wc.startsWith("series")&&Wc!=="series").map(([Wc,Yd])=>{const d0=Yd[Jl];return[(0,or.Z)(Wc.replace("series","")),d0]}))},ag=(0,u_.Z)(Wu=>{var Jl;const kc=Yi(n,Wu);if(!kc)return;const Wc=kr(n),Yd=Wc.min[0],d0=Wc.min[1],h0=[kc[0]-Re,kc[1]-Ie];if(!h0)return;const Vp=nh(h0,jo),bv=[],a1=[];for(const R0 of Ps){const[uO,kN]=Yu.get(R0),lO=dc(Wu,h0,uO,kN);if(lO!==null){bv.push(R0);const P4=_p(R0,lO),{x:f7,y:d7}=P4,h7=v.map([(f7||0)+cf,d7||0]);a1.push([Object.assign(Object.assign({},P4),{element:R0}),h7])}}const cS=Array.from(new Set(a1.map(R0=>R0[0].x))),oO=cS[tv(cS,R0=>Math.abs(R0-Ml(h0)))],w_=a1.filter(R0=>R0[0].x===oO),NN=[...w_.map(R0=>R0[0]),...Vp.map(R0=>R0.__data__)],R4=[...bv,...Vp],sO=$w(R4,p,k,NN,nr);if(o&&sO.items.sort((R0,uO)=>o(R0)-o(uO)),l&&(sO.items=sO.items.filter(l)),R4.length===0||qw(sO)){r0(Wu);return}if(it&&Ww({root:n,data:sO,x:kc[0]+Yd,y:kc[1]+d0,render:I,event:Wu,single:ut,position:Mt,enterable:en,mount:Rn,bounding:Jn,css:_r,offset:mr}),S||R||P){const R0=jt(Gr,"crosshairs"),uO=Object.assign(Object.assign({},R0),jt(Gr,"crosshairsX")),kN=Object.assign(Object.assign({},R0),jt(Gr,"crosshairsY")),lO=w_.map(P4=>P4[1]);R&&H6(n,lO,kc,Object.assign(Object.assign({},uO),{plotWidth:Qi,plotHeight:ga,mainWidth:ya,mainHeight:Ea,insetLeft:go,insetTop:Wo,startX:Re,startY:Ie,transposed:Ti,polar:Rr})),P&&W6(n,lO,Object.assign(Object.assign({},kN),{plotWidth:Qi,plotHeight:ga,mainWidth:ya,mainHeight:Ea,insetLeft:go,insetTop:Wo,startX:Re,startY:Ie,transposed:Ti,polar:Rr}))}if(Hr){const R0=jt(Gr,"marker");V6(n,{data:w_,style:R0,theme:nr})}const DN=(Jl=w_[0])===null||Jl===void 0?void 0:Jl[0].x,c7=DN!=null?DN:Ml(h0);z.emit("tooltip:show",Object.assign(Object.assign({},Wu),{nativeEvent:!0,data:{data:{x:Ed(p.x,c7,!0)}}}))},te,{leading:de,trailing:be}),r0=Wu=>{W1({root:n,single:ut,emitter:z,event:Wu})},Ag=()=>{mA({root:n,single:ut})},bp=Wu=>{var Jl,{nativeEvent:kc,data:Wc,offsetX:Yd,offsetY:d0}=Wu,h0=l_(Wu,["nativeEvent","data","offsetX","offsetY"]);if(kc)return;const Vp=(Jl=Wc==null?void 0:Wc.data)===null||Jl===void 0?void 0:Jl.x,a1=p.x.map(Vp),[cS,oO]=v.map([a1,.5]),w_=n.getRenderBounds(),NN=w_.min[0],R4=w_.min[1];ag(Object.assign(Object.assign({},h0),{offsetX:Yd!==void 0?Yd:NN+cS,offsetY:d0!==void 0?d0:R4+oO,_x:Vp}))},_v=()=>{W1({root:n,single:ut,emitter:z,nativeEvent:!1})},z0=()=>{Ep(),Ag()},q0=()=>{Cg()},Cg=()=>{Vr||(n.addEventListener("pointerenter",ag),n.addEventListener("pointermove",ag),n.addEventListener("pointerleave",Wu=>{Yi(n,Wu)||r0(Wu)}))},Ep=()=>{Vr||(n.removeEventListener("pointerenter",ag),n.removeEventListener("pointermove",ag),n.removeEventListener("pointerleave",r0))};return Cg(),z.on("tooltip:show",bp),z.on("tooltip:hide",_v),z.on("tooltip:disable",z0),z.on("tooltip:enable",q0),()=>{Ep(),z.off("tooltip:show",bp),z.off("tooltip:hide",_v),z.off("tooltip:disable",z0),z.off("tooltip:enable",q0),fi?W1({root:n,single:ut,emitter:z,nativeEvent:!1}):Ag()}}function Y6(n,{elements:i,coordinate:a,scale:o,render:l,groupName:p,sort:v,filter:S,emitter:R,wait:P=50,leading:I=!0,trailing:k=!1,groupKey:z=Hr=>Hr,single:te=!0,position:de,enterable:be,datum:Re,view:Ie,mount:it,bounding:ut,theme:Mt,offset:en,shared:Rn=!1,body:Jn=!0,disableNative:nr=!1,preserve:mr=!1,css:Vr={}}){var Hr,fi;const dr=i(n),_r=_e(dr,z),lr=gs=>gs.markType==="interval",hr=dr.every(lr)&&!wt(a),Ti=o.x,Rr=o.series,Gr=(fi=(Hr=Ti==null?void 0:Ti.getBandWidth)===null||Hr===void 0?void 0:Hr.call(Ti))!==null&&fi!==void 0?fi:0,Qi=Rr?gs=>{const Ws=Math.round(1/Rr.valueBandWidth);return gs.__data__.x+gs.__data__.series*Gr+Gr/(Ws*2)}:gs=>gs.__data__.x+Gr/2;hr&&dr.sort((gs,Ws)=>Qi(gs)-Qi(Ws));const ga=gs=>{const{target:Ws}=gs;return ot(Ws,Au=>Au.classList?Au.classList.includes("element"):!1)},ya=hr?gs=>{const Ws=Yi(n,gs);if(!Ws)return;const[Au]=a.invert(Ws),Yu=Lh(Qi).center,yl=Yu(dr,Au),cf=dr[yl];return!Rn&&dr.find(dc=>dc!==cf&&Qi(dc)===Qi(cf))?ga(gs):cf}:ga,Ea=(0,u_.Z)(gs=>{const Ws=ya(gs);if(!Ws){W1({root:n,single:te,emitter:R,event:gs});return}const Au=z(Ws),Yu=_r.get(Au);if(!Yu)return;const yl=Yu.length===1&&!Rn?Z6(Yu[0]):$w(Yu,o,p,void 0,Mt);if(v&&yl.items.sort((dc,nh)=>v(dc)-v(nh)),S&&(yl.items=yl.items.filter(S)),qw(yl)){W1({root:n,single:te,emitter:R,event:gs});return}const{offsetX:cf,offsetY:Ml}=gs;Jn&&Ww({root:n,data:yl,x:cf,y:Ml,render:l,event:gs,single:te,position:de,enterable:be,mount:it,bounding:ut,css:Vr,offset:en}),R.emit("tooltip:show",Object.assign(Object.assign({},gs),{nativeEvent:!0,data:{data:Wt(Ws,Ie)}}))},P,{leading:I,trailing:k}),go=gs=>{W1({root:n,single:te,emitter:R,event:gs})},Wo=()=>{nr||(n.addEventListener("pointermove",Ea),n.addEventListener("pointerleave",go))},Ps=()=>{nr||(n.removeEventListener("pointermove",Ea),n.removeEventListener("pointerleave",go))},jo=({nativeEvent:gs,offsetX:Ws,offsetY:Au,data:Yu})=>{if(gs)return;const{data:yl}=Yu,cf=he(dr,yl,Re);if(!cf)return;const Ml=cf.getBBox(),{x:dc,y:nh,width:_p,height:ag}=Ml,r0=n.getBBox();Ea({target:cf,offsetX:Ws!==void 0?Ws+r0.x:dc+_p/2,offsetY:Au!==void 0?Au+r0.y:nh+ag/2})},Uo=({nativeEvent:gs}={})=>{gs||W1({root:n,single:te,emitter:R,nativeEvent:!1})},Eu=()=>{Ps(),mA({root:n,single:te})},ws=()=>{Wo()};return R.on("tooltip:show",jo),R.on("tooltip:hide",Uo),R.on("tooltip:enable",ws),R.on("tooltip:disable",Eu),Wo(),()=>{Ps(),R.off("tooltip:show",jo),R.off("tooltip:hide",Uo),mr?W1({root:n,single:te,emitter:R,nativeEvent:!1}):mA({root:n,single:te})}}function e5(n){const{shared:i,crosshairs:a,crosshairsX:o,crosshairsY:l,series:p,name:v,item:S=()=>({}),facet:R=!1}=n,P=l_(n,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(I,k,z)=>{const{container:te,view:de}=I,{scale:be,markState:Re,coordinate:Ie,theme:it}=de,ut=Qw(Re,"seriesTooltip"),Mt=Qw(Re,"crosshairs"),en=Mn(te),Rn=V1(p,ut),Jn=V1(a,Mt);if(Rn&&G6(Re)&&!R)return Jw(en,Object.assign(Object.assign({},P),{theme:it,elements:lh,scale:be,coordinate:Ie,crosshairs:Jn,crosshairsX:V1(V1(o,a),!1),crosshairsY:V1(l,Jn),item:S,emitter:z}));if(Rn&&R){const nr=k.filter(_r=>_r!==I&&_r.options.parentKey===I.options.key),mr=wp(I,k),Vr=nr[0].view.scale,Hr=en.getBounds(),fi=Hr.min[0],dr=Hr.min[1];return Object.assign(Vr,{facet:!0}),Jw(en.parentNode.parentNode,Object.assign(Object.assign({},P),{theme:it,elements:()=>mr,scale:Vr,coordinate:Ie,crosshairs:V1(a,Mt),crosshairsX:V1(V1(o,a),!1),crosshairsY:V1(l,Jn),item:S,startX:fi,startY:dr,emitter:z}))}return Y6(en,Object.assign(Object.assign({},P),{datum:tl(de),elements:lh,scale:be,coordinate:Ie,groupKey:i?Pu(de):void 0,item:S,emitter:z,view:de,theme:it,shared:i}))}}e5.props={reapplyWhenUpdate:!0};var yA=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})};const t5="legend-category",n5="legend-continuous",$6="items-item",X6="legend-category-item-marker",K6="legend-category-item-label";function r5(n){return n.getElementsByClassName(X6)[0]}function i5(n){return n.getElementsByClassName(K6)[0]}function a5(n){return n.getElementsByClassName($6)}function _A(n){return n.getElementsByClassName(t5)}function bA(n){return n.getElementsByClassName(n5)}function o5(n,i){[..._A(n),...bA(n)].forEach(o=>{i(o,l=>l)})}function pp(n){let i=n.parentNode;for(;i&&!i.__data__;)i=i.parentNode;return i.__data__}function YN(n){let i=n;for(;i&&!i.attr("class").startsWith("legend");)i=i.children[0];return i.attributes}function Q6(n,{legends:i,marker:a,label:o,datum:l,filter:p,emitter:v,channel:S,state:R={}}){const P=new Map,I=new Map,k=new Map,{unselected:z={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=R,te={unselected:jt(z,"marker")},de={unselected:jt(z,"label")},{setState:be,removeState:Re}=rl(te,void 0),{setState:Ie,removeState:it}=rl(de,void 0),ut=Array.from(i(n));let Mt=ut.map(l);const en=()=>{for(const nr of ut){const mr=l(nr),Vr=a(nr),Hr=o(nr);Mt.includes(mr)?(Re(Vr,"unselected"),it(Hr,"unselected")):(be(Vr,"unselected"),Ie(Hr,"unselected"))}};for(const nr of ut){const mr=()=>{V(n,"pointer")},Vr=()=>{pe(n)},Hr=fi=>yA(this,void 0,void 0,function*(){const dr=l(nr),_r=Mt.indexOf(dr);_r===-1?Mt.push(dr):Mt.splice(_r,1),yield p(Mt),en();const{nativeEvent:lr=!0}=fi;lr&&(Mt.length===ut.length?v.emit("legend:reset",{nativeEvent:lr}):v.emit("legend:filter",Object.assign(Object.assign({},fi),{nativeEvent:lr,data:{channel:S,values:Mt}})))});nr.addEventListener("click",Hr),nr.addEventListener("pointerenter",mr),nr.addEventListener("pointerout",Vr),P.set(nr,Hr),I.set(nr,mr),k.set(nr,Vr)}const Rn=nr=>yA(this,void 0,void 0,function*(){const{nativeEvent:mr}=nr;if(mr)return;const{data:Vr}=nr,{channel:Hr,values:fi}=Vr;Hr===S&&(Mt=fi,yield p(Mt),en())}),Jn=nr=>yA(this,void 0,void 0,function*(){const{nativeEvent:mr}=nr;mr||(Mt=ut.map(l),yield p(Mt),en())});return v.on("legend:filter",Rn),v.on("legend:reset",Jn),()=>{for(const nr of ut)nr.removeEventListener("click",P.get(nr)),nr.removeEventListener("pointerenter",I.get(nr)),nr.removeEventListener("pointerout",k.get(nr)),v.off("legend:filter",Rn),v.off("legend:reset",Jn)}}function q6(n,{legend:i,filter:a,emitter:o,channel:l}){const p=({detail:{value:v}})=>{a(v),o.emit({nativeEvent:!0,data:{channel:l,values:v}})};return i.addEventListener("valuechange",p),()=>{i.removeEventListener("valuechange",p)}}function s5(n,{legend:i,channel:a,value:o,ordinal:l,channels:p,allChannels:v,facet:S=!1}){return yA(this,void 0,void 0,function*(){const{view:R,update:P,setState:I}=n;I(i,k=>{const{marks:z}=k,te=z.map(de=>{if(de.type==="legends")return de;const{transform:be=[],data:Re=[]}=de,Ie=be.findIndex(({type:Mt})=>Mt.startsWith("group")||Mt.startsWith("bin")),it=[...be];Re.length&&it.splice(Ie+1,0,{type:"filter",[a]:{value:o,ordinal:l}});const ut=Object.fromEntries(p.map(Mt=>[Mt,{domain:R.scale[Mt].getOptions().domain}]));return(0,Ui.Z)({},de,Object.assign(Object.assign({transform:it,scale:ut},!l&&{animate:!1}),{legend:S?!1:Object.fromEntries(v.map(Mt=>[Mt,{preserve:!0}]))}))});return Object.assign(Object.assign({},k),{marks:te})}),yield P()})}function J6(n,i){for(const a of n)s5(a,Object.assign(Object.assign({},i),{facet:!0}))}function eP(){return(n,i,a)=>{const{container:o}=n,l=i.filter(k=>k!==n),p=l.length>0,v=k=>pp(k).scales.map(z=>z.name),S=[..._A(o),...bA(o)],R=S.flatMap(v),P=p?(0,u_.Z)(J6,50,{trailing:!0}):(0,u_.Z)(s5,50,{trailing:!0}),I=S.map(k=>{const{name:z,domain:te}=pp(k).scales[0],de=v(k),be={legend:k,channel:z,channels:de,allChannels:R};return k.className===t5?Q6(o,{legends:a5,marker:r5,label:i5,datum:Re=>{const{__data__:Ie}=Re,{index:it}=Ie;return te[it]},filter:Re=>{const Ie=Object.assign(Object.assign({},be),{value:Re,ordinal:!0});P(p?l:n,Ie)},state:k.attributes.state,channel:z,emitter:a}):q6(o,{legend:k,filter:Re=>{const Ie=Object.assign(Object.assign({},be),{value:Re,ordinal:!1});P(p?l:n,Ie)},emitter:a,channel:z})});return()=>{I.forEach(k=>k())}}}function tP(){return(n,i,a)=>{const{container:o,view:l,options:p}=n,v=_A(o),S=lh(o),R=te=>pp(te).scales[0].name,P=te=>{const{scale:{[te]:de}}=l;return de},I=ic(p,["active","inactive"]),k=W(S,tl(l)),z=[];for(const te of v){const de=Qi=>{const{data:ga}=te.attributes,{__data__:ya}=Qi,{index:Ea}=ya;return ga[Ea].label},be=R(te),Re=a5(te),Ie=P(be),it=_e(S,Qi=>Ie.invert(Qi.__data__[be])),{state:ut={}}=te.attributes,{inactive:Mt={}}=ut,{setState:en,removeState:Rn}=rl(I,k),Jn={inactive:jt(Mt,"marker")},nr={inactive:jt(Mt,"label")},{setState:mr,removeState:Vr}=rl(Jn),{setState:Hr,removeState:fi}=rl(nr),dr=Qi=>{for(const ga of Re){const ya=r5(ga),Ea=i5(ga);ga===Qi||Qi===null?(Vr(ya,"inactive"),fi(Ea,"inactive")):(mr(ya,"inactive"),Hr(Ea,"inactive"))}},_r=(Qi,ga)=>{const ya=de(ga),Ea=new Set(it.get(ya));for(const Wo of S)Ea.has(Wo)?en(Wo,"active"):en(Wo,"inactive");dr(ga);const{nativeEvent:go=!0}=Qi;go&&a.emit("legend:highlight",Object.assign(Object.assign({},Qi),{nativeEvent:go,data:{channel:be,value:ya}}))},lr=new Map;for(const Qi of Re){const ga=ya=>{_r(ya,Qi)};Qi.addEventListener("pointerover",ga),lr.set(Qi,ga)}const hr=Qi=>{for(const ya of S)Rn(ya,"inactive","active");dr(null);const{nativeEvent:ga=!0}=Qi;ga&&a.emit("legend:unhighlight",{nativeEvent:ga})},Ti=Qi=>{const{nativeEvent:ga,data:ya}=Qi;if(ga)return;const{channel:Ea,value:go}=ya;if(Ea!==be)return;const Wo=Re.find(Ps=>de(Ps)===go);Wo&&_r({nativeEvent:!1},Wo)},Rr=Qi=>{const{nativeEvent:ga}=Qi;ga||hr({nativeEvent:!1})};te.addEventListener("pointerleave",hr),a.on("legend:highlight",Ti),a.on("legend:unhighlight",Rr);const Gr=()=>{te.removeEventListener(hr),a.off("legend:highlight",Ti),a.off("legend:unhighlight",Rr);for(const[Qi,ga]of lr)Qi.removeEventListener(ga)};z.push(Gr)}return()=>z.forEach(te=>te())}}var mg=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function nP(n,i){const[a,o,l,p]=n,[v,S,R,P]=i;return!(v>l||R<a||S>p||P<o)}function rP(n,i,a,o,l){const[p,v,S,R]=l;return[Math.max(p,Math.min(n,a)),Math.max(v,Math.min(i,o)),Math.min(S,Math.max(n,a)),Math.min(R,Math.max(i,o))]}function iP(n){const{width:i,height:a}=n.getBBox();return[0,0,i,a]}function nv(n,i){for(const[a,o]of Object.entries(i))n.style(a,o)}const u5=Du(n=>{const i=n.attributes,{x:a,y:o,width:l,height:p,class:v,renders:S={},handleSize:R=10,document:P}=i,I=mg(i,["x","y","width","height","class","renders","handleSize","document"]);if(!P||l===void 0||p===void 0||a===void 0||o===void 0)return;const k=R/2,z=(go,Wo,Ps)=>{go.handle||(go.handle=Ps.createElement("rect"),go.append(go.handle));const{handle:jo}=go;return jo.attr(Wo),jo},te=jt(Br(I,"handleNW","handleNE"),"handleN"),{render:de=z}=te,be=mg(te,["render"]),Re=jt(I,"handleE"),{render:Ie=z}=Re,it=mg(Re,["render"]),ut=jt(Br(I,"handleSE","handleSW"),"handleS"),{render:Mt=z}=ut,en=mg(ut,["render"]),Rn=jt(I,"handleW"),{render:Jn=z}=Rn,nr=mg(Rn,["render"]),mr=jt(I,"handleNW"),{render:Vr=z}=mr,Hr=mg(mr,["render"]),fi=jt(I,"handleNE"),{render:dr=z}=fi,_r=mg(fi,["render"]),lr=jt(I,"handleSE"),{render:hr=z}=lr,Ti=mg(lr,["render"]),Rr=jt(I,"handleSW"),{render:Gr=z}=Rr,Qi=mg(Rr,["render"]),ga=(go,Wo)=>{const{id:Ps}=go,jo=Wo(go,go.attributes,P);jo.id=Ps,jo.style.draggable=!0},ya=go=>()=>{const Wo=Du(Ps=>ga(Ps,go));return new Wo({})},Ea=Ii(n).attr("className",v).style("transform",`translate(${a}, ${o})`).style("draggable",!0);Ea.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(nv,Object.assign(Object.assign({width:l,height:p},Br(I,"handle")),{transform:void 0})),Ea.maybeAppend("handle-n",ya(de)).style("x",k).style("y",-k).style("width",l-R).style("height",R).style("fill","transparent").call(nv,be),Ea.maybeAppend("handle-e",ya(Ie)).style("x",l-k).style("y",k).style("width",R).style("height",p-R).style("fill","transparent").call(nv,it),Ea.maybeAppend("handle-s",ya(Mt)).style("x",k).style("y",p-k).style("width",l-R).style("height",R).style("fill","transparent").call(nv,en),Ea.maybeAppend("handle-w",ya(Jn)).style("x",-k).style("y",k).style("width",R).style("height",p-R).style("fill","transparent").call(nv,nr),Ea.maybeAppend("handle-nw",ya(Vr)).style("x",-k).style("y",-k).style("width",R).style("height",R).style("fill","transparent").call(nv,Hr),Ea.maybeAppend("handle-ne",ya(dr)).style("x",l-k).style("y",-k).style("width",R).style("height",R).style("fill","transparent").call(nv,_r),Ea.maybeAppend("handle-se",ya(hr)).style("x",l-k).style("y",p-k).style("width",R).style("height",R).style("fill","transparent").call(nv,Ti),Ea.maybeAppend("handle-sw",ya(Gr)).style("x",-k).style("y",p-k).style("width",R).style("height",R).style("fill","transparent").call(nv,Qi)});function EA(n,i){var{brushed:a=()=>{},brushended:o=()=>{},brushcreated:l=()=>{},brushstarted:p=()=>{},brushupdated:v=()=>{},extent:S=iP(n),brushRegion:R=(jo,Uo,Eu,ws,gs)=>[jo,Uo,Eu,ws],reverse:P=!1,fill:I="#777",fillOpacity:k="0.3",stroke:z="#fff",selectedHandles:te=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=i,de=mg(i,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let be=null,Re=null,Ie=null,it=null,ut=null,Mt=!1;const[en,Rn,Jn,nr]=S;V(n,"crosshair"),n.style.draggable=!0;const mr=(jo,Uo,Eu)=>{if(p(Eu),it&&it.remove(),ut&&ut.remove(),be=[jo,Uo],P)return Vr();Hr()},Vr=()=>{ut=new Oe.y$({style:Object.assign(Object.assign({},de),{fill:I,fillOpacity:k,stroke:z,pointerEvents:"none"})}),it=new u5({style:{x:0,y:0,width:0,height:0,draggable:!0,document:n.ownerDocument},className:"mask"}),n.appendChild(ut),n.appendChild(it)},Hr=()=>{it=new u5({style:Object.assign(Object.assign({document:n.ownerDocument,x:0,y:0},de),{fill:I,fillOpacity:k,stroke:z,draggable:!0}),className:"mask"}),n.appendChild(it)},fi=(jo=!0)=>{it&&it.remove(),ut&&ut.remove(),be=null,Re=null,Ie=null,Mt=!1,it=null,ut=null,o(jo)},dr=(jo,Uo,Eu=!0)=>{const[ws,gs,Ws,Au]=rP(jo[0],jo[1],Uo[0],Uo[1],S),[Yu,yl,cf,Ml]=R(ws,gs,Ws,Au,S);return P?lr(Yu,yl,cf,Ml):_r(Yu,yl,cf,Ml),a(Yu,yl,cf,Ml,Eu),[Yu,yl,cf,Ml]},_r=(jo,Uo,Eu,ws)=>{it.style.x=jo,it.style.y=Uo,it.style.width=Eu-jo,it.style.height=ws-Uo},lr=(jo,Uo,Eu,ws)=>{ut.style.d=`
      M${en},${Rn}L${Jn},${Rn}L${Jn},${nr}L${en},${nr}Z
      M${jo},${Uo}L${jo},${ws}L${Eu},${ws}L${Eu},${Uo}Z
    `,it.style.x=jo,it.style.y=Uo,it.style.width=Eu-jo,it.style.height=ws-Uo},hr=jo=>{const Uo=(yl,cf,Ml,dc,nh)=>yl+cf<dc?dc-cf:yl+Ml>nh?nh-Ml:yl,Eu=jo[0]-Ie[0],ws=jo[1]-Ie[1],gs=Uo(Eu,be[0],Re[0],en,Jn),Ws=Uo(ws,be[1],Re[1],Rn,nr),Au=[be[0]+gs,be[1]+Ws],Yu=[Re[0]+gs,Re[1]+Ws];dr(Au,Yu)},Ti={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},Rr=jo=>Qi(jo)||Gr(jo),Gr=jo=>{const{id:Uo}=jo;return te.indexOf(Uo)===-1?!1:new Set(Object.keys(Ti)).has(Uo)},Qi=jo=>jo===it.getElementById("selection"),ga=jo=>{const{target:Uo}=jo,[Eu,ws]=Zo(n,jo);if(!it||!Rr(Uo)){mr(Eu,ws,jo),Mt=!0;return}Rr(Uo)&&(Ie=[Eu,ws])},ya=jo=>{const{target:Uo}=jo,Eu=Zo(n,jo);if(!be)return;if(!Ie)return dr(be,Eu);if(Qi(Uo))return hr(Eu);const[ws,gs]=[Eu[0]-Ie[0],Eu[1]-Ie[1]],{id:Ws}=Uo;if(Ti[Ws]){const[Au,Yu,yl,cf]=Ti[Ws].vector;return dr([be[0]+ws*Au,be[1]+gs*Yu],[Re[0]+ws*yl,Re[1]+gs*cf])}},Ea=jo=>{if(Ie){Ie=null;const{x:Ws,y:Au,width:Yu,height:yl}=it.style;be=[Ws,Au],Re=[Ws+Yu,Au+yl],v(Ws,Au,Ws+Yu,Au+yl,jo);return}Re=Zo(n,jo);const[Uo,Eu,ws,gs]=dr(be,Re);Mt=!1,l(Uo,Eu,ws,gs,jo)},go=jo=>{const{target:Uo}=jo;it&&!Rr(Uo)&&fi()},Wo=jo=>{const{target:Uo}=jo;!it||!Rr(Uo)||Mt?V(n,"crosshair"):Qi(Uo)?V(n,"move"):Gr(Uo)&&V(n,Ti[Uo.id].cursor)},Ps=()=>{V(n,"default")};return n.addEventListener("dragstart",ga),n.addEventListener("drag",ya),n.addEventListener("dragend",Ea),n.addEventListener("click",go),n.addEventListener("pointermove",Wo),n.addEventListener("pointerleave",Ps),{mask:it,move(jo,Uo,Eu,ws,gs=!0){it||mr(jo,Uo,{}),be=[jo,Uo],Re=[Eu,ws],dr([jo,Uo],[Eu,ws],gs)},remove(jo=!0){it&&fi(jo)},destroy(){it&&fi(!1),V(n,"default"),n.removeEventListener("dragstart",ga),n.removeEventListener("drag",ya),n.removeEventListener("dragend",Ea),n.removeEventListener("click",go),n.removeEventListener("pointermove",Wo),n.removeEventListener("pointerleave",Ps)}}}function xA(n,i,a){return i.filter(o=>{if(o===n)return!1;const{interaction:l={}}=o.options;return Object.values(l).find(p=>p.brushKey===a)})}function aP(n,i,a){return xA(n,i,a).map(o=>Mn(o.container))}function oP(n,i,a){return xA(n,i,a).map(o=>o.options)}function l5(n,i){var{elements:a,selectedHandles:o,siblings:l=ya=>[],datum:p,brushRegion:v,extent:S,reverse:R,scale:P,coordinate:I,series:k=!1,key:z=ya=>ya,bboxOf:te=ya=>{const{x:Ea,y:go,width:Wo,height:Ps}=ya.style;return{x:Ea,y:go,width:Wo,height:Ps}},state:de={},emitter:be}=i,Re=mg(i,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const Ie=a(n),it=l(n),ut=it.flatMap(a),Mt=W(Ie,p),en=jt(Re,"mask"),{setState:Rn,removeState:Jn}=rl(de,Mt),nr=new Map,{width:mr,height:Vr,x:Hr=0,y:fi=0}=te(n),dr=S||[0,0,mr,Vr],_r=()=>{for(const ya of[...Ie,...ut])Jn(ya,"active","inactive")},lr=(ya,Ea,go,Wo)=>{var Ps;for(const Uo of it)(Ps=Uo.brush)===null||Ps===void 0||Ps.remove();const jo=new Set;for(const Uo of Ie){const{min:Eu,max:ws}=Uo.getLocalBounds(),[gs,Ws]=Eu,[Au,Yu]=ws;nP([gs,Ws,Au,Yu],[ya,Ea,go,Wo])?(Rn(Uo,"active"),jo.add(z(Uo))):Rn(Uo,"inactive")}for(const Uo of ut)jo.has(z(Uo))?Rn(Uo,"active"):Rn(Uo,"inactive")},hr=()=>{for(const ya of Ie)Jn(ya,"inactive");for(const ya of nr.values())ya.remove();nr.clear()},Ti=(ya,Ea,go,Wo)=>{const Ps=Uo=>{const Eu=Uo.cloneNode();return Eu.__data__=Uo.__data__,Uo.parentNode.appendChild(Eu),nr.set(Uo,Eu),Eu},jo=new Oe.UL({style:{x:ya+Hr,y:Ea+fi,width:go-ya,height:Wo-Ea}});n.appendChild(jo);for(const Uo of Ie){const Eu=nr.get(Uo)||Ps(Uo);Eu.style.clipPath=jo,Rn(Uo,"inactive"),Rn(Eu,"active")}},Rr=EA(n,Object.assign(Object.assign({},en),{extent:dr,brushRegion:v,reverse:R,selectedHandles:o,brushended:ya=>{const Ea=k?hr:_r;ya&&be.emit("brush:remove",{nativeEvent:!0}),Ea()},brushed:(ya,Ea,go,Wo,Ps)=>{const jo=uh(ya,Ea,go,Wo,P,I);Ps&&be.emit("brush:highlight",{nativeEvent:!0,data:{selection:jo}}),(k?Ti:lr)(ya,Ea,go,Wo)},brushcreated:(ya,Ea,go,Wo,Ps)=>{const jo=uh(ya,Ea,go,Wo,P,I);be.emit("brush:end",Object.assign(Object.assign({},Ps),{nativeEvent:!0,data:{selection:jo}}))},brushupdated:(ya,Ea,go,Wo,Ps)=>{const jo=uh(ya,Ea,go,Wo,P,I);be.emit("brush:end",Object.assign(Object.assign({},Ps),{nativeEvent:!0,data:{selection:jo}}))},brushstarted:ya=>{be.emit("brush:start",ya)}})),Gr=({nativeEvent:ya,data:Ea})=>{if(ya)return;const{selection:go}=Ea,[Wo,Ps,jo,Uo]=F(go,P,I);Rr.move(Wo,Ps,jo,Uo,!1)};be.on("brush:highlight",Gr);const Qi=({nativeEvent:ya}={})=>{ya||Rr.remove(!1)};be.on("brush:remove",Qi);const ga=Rr.destroy.bind(Rr);return Rr.destroy=()=>{be.off("brush:highlight",Gr),be.off("brush:remove",Qi),ga()},Rr}function TA(n){var{facet:i,brushKey:a}=n,o=mg(n,["facet","brushKey"]);return(l,p,v)=>{const{container:S,view:R,options:P}=l,I=Mn(S),k={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},z=["active",["inactive",{opacity:.5}]],{scale:te,coordinate:de}=R;if(i){const Re=I.getBounds(),Ie=Re.min[0],it=Re.min[1],ut=Re.max[0],Mt=Re.max[1];return l5(I.parentNode.parentNode,Object.assign(Object.assign({elements:()=>wp(l,p),datum:tl(un(l,p).map(en=>en.view)),brushRegion:(en,Rn,Jn,nr)=>[en,Rn,Jn,nr],extent:[Ie,it,ut,Mt],state:ic(un(l,p).map(en=>en.options),z),emitter:v,scale:te,coordinate:de,selectedHandles:void 0},k),o))}const be=l5(I,Object.assign(Object.assign({elements:lh,key:Re=>Re.__data__.key,siblings:()=>aP(l,p,a),datum:tl([R,...xA(l,p,a).map(Re=>Re.view)]),brushRegion:(Re,Ie,it,ut)=>[Re,Ie,it,ut],extent:void 0,state:ic([P,...oP(l,p,a)],z),emitter:v,scale:te,coordinate:de,selectedHandles:void 0},k),o));return I.brush=be,()=>be.destroy()}}function SA(n,i,a,o,l){const[,p,,v]=l;return[n,p,a,v]}function sP(n){return TA(Object.assign(Object.assign({},n),{brushRegion:SA,selectedHandles:["handle-e","handle-w"]}))}function X3(n,i,a,o,l){const[p,,v]=l;return[p,i,v,o]}function uP(n){return TA(Object.assign(Object.assign({},n),{brushRegion:X3,selectedHandles:["handle-n","handle-s"]}))}var AA=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const lP="axis",cP="axis-line",fP="axis-main-group",c5="axis-hot-area";function $N(n){return n.getElementsByClassName(lP)}function f5(n){return n.getElementsByClassName(cP)[0]}function CA(n){return n.getElementsByClassName(fP)[0]}function d5(n){return CA(n).getLocalBounds()}function dP(n,i){var{cross:a,offsetX:o,offsetY:l}=i,p=AA(i,["cross","offsetX","offsetY"]);const v=d5(n),S=f5(n),[R]=S.getLocalBounds().min,[P,I]=v.min,[k,z]=v.max,te=(k-P)*2;return{brushRegion:X3,hotZone:new Oe.UL({className:c5,style:Object.assign({width:a?te/2:te,transform:`translate(${(a?P:R-te/2).toFixed(2)}, ${I})`,height:z-I},p)}),extent:a?(de,be,Re,Ie)=>[-1/0,be,1/0,Ie]:(de,be,Re,Ie)=>[Math.floor(P-o),be,Math.ceil(k-o),Ie]}}function h5(n,i){var{offsetY:a,offsetX:o,cross:l=!1}=i,p=AA(i,["offsetY","offsetX","cross"]);const v=d5(n),S=f5(n),[,R]=S.getLocalBounds().min,[P,I]=v.min,[k,z]=v.max,te=z-I;return{brushRegion:SA,hotZone:new Oe.UL({className:c5,style:Object.assign({width:k-P,height:l?te:te*2,transform:`translate(${P}, ${l?I:R-te})`},p)}),extent:l?(de,be,Re,Ie)=>[de,-1/0,Re,1/0]:(de,be,Re,Ie)=>[de,Math.floor(I-a),Re,Math.ceil(z-a)]}}function hP(n,i){var{axes:a,elements:o,points:l,horizontal:p,datum:v,offsetY:S,offsetX:R,reverse:P=!1,state:I={},emitter:k,coordinate:z}=i,te=AA(i,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const de=o(n),be=a(n),Re=W(de,v),{setState:Ie,removeState:it}=rl(I,Re),ut=new Map,Mt=jt(te,"mask"),en=Gr=>Array.from(ut.values()).every(([Qi,ga,ya,Ea])=>Gr.some(([go,Wo])=>go>=Qi&&go<=ya&&Wo>=ga&&Wo<=Ea)),Rn=be.map(Gr=>Gr.attributes.scale),Jn=Gr=>Gr.length>2?[Gr[0],Gr[Gr.length-1]]:Gr,nr=new Map,mr=()=>{nr.clear();for(let Gr=0;Gr<be.length;Gr++){const Qi=Rn[Gr],{domain:ga}=Qi.getOptions();nr.set(Gr,Jn(ga))}};mr();const Vr=(Gr,Qi)=>{const ga=[];for(const Ea of de){const go=l(Ea);en(go)?(Ie(Ea,"active"),ga.push(Ea)):Ie(Ea,"inactive")}if(nr.set(Gr,fi(ga,Gr)),!Qi)return;const ya=()=>{if(!dr)return Array.from(nr.values());const Ea=[];for(const[go,Wo]of nr){const Ps=Rn[go],{name:jo}=Ps.getOptions();jo==="x"?Ea[0]=Wo:Ea[1]=Wo}return Ea};k.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:ya()}})},Hr=Gr=>{for(const Qi of de)it(Qi,"active","inactive");mr(),Gr&&k.emit("brushAxis:remove",{nativeEvent:!0})},fi=(Gr,Qi)=>{const ga=Rn[Qi],{name:ya}=ga.getOptions(),Ea=Gr.map(go=>{const Wo=go.__data__;return ga.invert(Wo[ya])});return Jn(id(ga,Ea))},dr=be.some(p)&&be.some(Gr=>!p(Gr)),_r=[];for(let Gr=0;Gr<be.length;Gr++){const Qi=be[Gr],ga=p(Qi)?h5:dP,{hotZone:ya,brushRegion:Ea,extent:go}=ga(Qi,{offsetY:S,offsetX:R,cross:dr,zIndex:999,fill:"transparent"});Qi.parentNode.appendChild(ya);const Wo=EA(ya,Object.assign(Object.assign({},Mt),{reverse:P,brushRegion:Ea,brushended(Ps){ut.delete(Qi),Array.from(ut.entries()).length===0?Hr(Ps):Vr(Gr,Ps)},brushed(Ps,jo,Uo,Eu,ws){ut.set(Qi,go(Ps,jo,Uo,Eu)),Vr(Gr,ws)}}));_r.push(Wo)}const lr=(Gr={})=>{const{nativeEvent:Qi}=Gr;Qi||_r.forEach(ga=>ga.remove(!1))},hr=(Gr,Qi,ga)=>{const[ya,Ea]=Gr,go=jo=>jo.getStep?jo.getStep():0,Wo=Ti(ya,Qi,ga),Ps=Ti(Ea,Qi,ga)+go(Qi);return p(ga)?[Wo,-1/0,Ps,1/0]:[-1/0,Wo,1/0,Ps]},Ti=(Gr,Qi,ga)=>{const{height:ya,width:Ea}=z.getOptions(),go=Qi.clone();return p(ga)?go.update({range:[0,Ea]}):go.update({range:[ya,0]}),go.map(Gr)},Rr=Gr=>{const{nativeEvent:Qi}=Gr;if(Qi)return;const{selection:ga}=Gr.data;for(let ya=0;ya<_r.length;ya++){const Ea=ga[ya],go=_r[ya],Wo=be[ya];if(Ea){const Ps=Rn[ya];go.move(...hr(Ea,Ps,Wo),!1)}else go.remove(!1)}};return k.on("brushAxis:remove",lr),k.on("brushAxis:highlight",Rr),()=>{_r.forEach(Gr=>Gr.destroy()),k.off("brushAxis:remove",lr),k.off("brushAxis:highlight",Rr)}}function pP(n){return(i,a,o)=>{const{container:l,view:p,options:v}=i,S=Mn(l),{x:R,y:P}=S.getBBox(),{coordinate:I}=p;return hP(l,Object.assign({elements:lh,axes:$N,offsetY:P,offsetX:R,points:k=>k.__data__.points,horizontal:k=>{const{startPos:[z,te],endPos:[de,be]}=k.attributes;return z!==de&&te===be},datum:tl(p),state:ic(v,["active",["inactive",{opacity:.5}]]),coordinate:I,emitter:o},n))}}var gP=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},p5=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function mP(n=300){let i=null;return a=>{const{timeStamp:o}=a;return i!==null&&o-i<n?(i=o,!0):(i=o,!1)}}function vP(n,i){var{filter:a,reset:o,brushRegion:l,extent:p,reverse:v,emitter:S,scale:R,coordinate:P,selection:I,series:k=!1}=i,z=p5(i,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const te=jt(z,"mask"),{width:de,height:be}=n.getBBox(),Re=p||[0,0,de,be],Ie=mP(),it=EA(n,Object.assign(Object.assign({},te),{extent:Re,brushRegion:l,reverse:v,brushcreated:ut}));n.addEventListener("click",Mt);function ut(Rn,Jn,nr,mr,Vr){Vr.nativeEvent=!0,a(I(Rn,Jn,nr,mr),Vr),it.remove()}function Mt(Rn){Ie(Rn)&&(Rn.nativeEvent=!0,o(Rn))}const en=({nativeEvent:Rn,data:Jn})=>{if(Rn)return;const{selection:nr}=Jn;a(nr,{nativeEvent:!1})};return S.on("brush:filter",en),()=>{it.destroy(),S.off("brush:filter",en),n.removeEventListener("click",Mt)}}function OA(n){var{hideX:i=!0,hideY:a=!0}=n,o=p5(n,["hideX","hideY"]);return(l,p,v)=>{const{container:S,view:R,options:P,update:I,setState:k}=l,z=Mn(S),te={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let de=!1,be=!1,Re=R;const{scale:Ie,coordinate:it}=R;return vP(z,Object.assign(Object.assign({brushRegion:(ut,Mt,en,Rn)=>[ut,Mt,en,Rn],selection:(ut,Mt,en,Rn)=>{const{scale:Jn,coordinate:nr}=Re;return uh(ut,Mt,en,Rn,Jn,nr)},filter:(ut,Mt)=>gP(this,void 0,void 0,function*(){if(be)return;be=!0;const[en,Rn]=ut;k("brushFilter",nr=>{const{marks:mr}=nr,Vr=mr.map(Hr=>(0,Ui.Z)({axis:Object.assign(Object.assign({},i&&{x:{transform:[{type:"hide"}]}}),a&&{y:{transform:[{type:"hide"}]}})},Hr,{scale:{x:{domain:en,nice:!1},y:{domain:Rn,nice:!1}}}));return Object.assign(Object.assign({},P),{marks:Vr,clip:!0})}),v.emit("brush:filter",Object.assign(Object.assign({},Mt),{data:{selection:[en,Rn]}})),Re=(yield I()).view,be=!1,de=!0}),reset:ut=>{if(be||!de)return;const{scale:Mt}=R,{x:en,y:Rn}=Mt,Jn=en.getOptions().domain,nr=Rn.getOptions().domain;v.emit("brush:filter",Object.assign(Object.assign({},ut),{data:{selection:[Jn,nr]}})),de=!1,Re=R,k("brushFilter"),I()},extent:void 0,emitter:v,scale:Ie,coordinate:it},te),o))}}function yP(n){return OA(Object.assign(Object.assign({hideX:!0},n),{brushRegion:SA}))}function _P(n){return OA(Object.assign(Object.assign({hideY:!0},n),{brushRegion:X3}))}var bP=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})};const g5="slider";function EP(n,i,a,o=!1,l="x",p="y"){const{marks:v}=n,S=v.map(R=>{var P,I;return(0,Ui.Z)({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},R,{scale:i,[a]:Object.assign(Object.assign({},((P=R[a])===null||P===void 0?void 0:P[l])&&{[l]:Object.assign({preserve:!0},o&&{ratio:null})}),((I=R[a])===null||I===void 0?void 0:I[p])&&{[p]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},n),{marks:S,clip:!0,animate:!1})}function xP(n,i,a){const[o,l]=n,p=a?R=>1-R:R=>R,v=Ed(i,p(o),!0),S=Ed(i,p(l),!1);return id(i,[v,S])}function hx(n){return[n[0],n[n.length-1]]}function m5({initDomain:n={},className:i=g5,prefix:a="slider",setValue:o=(P,I)=>P.setValues(I),hasState:l=!1,wait:p=50,leading:v=!0,trailing:S=!1,getInitValues:R=P=>{var I;const k=(I=P==null?void 0:P.attributes)===null||I===void 0?void 0:I.values;if(k[0]!==0||k[1]!==1)return k}}){return(P,I,k)=>{const{container:z,view:te,update:de,setState:be}=P,Re=z.getElementsByClassName(i);if(!Re.length)return()=>{};let Ie=!1;const{scale:it,coordinate:ut,layout:Mt}=te,{paddingLeft:en,paddingTop:Rn,paddingBottom:Jn,paddingRight:nr}=Mt,{x:mr,y:Vr}=it,Hr=Xo(ut),fi=hr=>{const Ti=hr==="vertical"?"y":"x",Rr=hr==="vertical"?"x":"y";return Hr?[Rr,Ti]:[Ti,Rr]},dr=new Map,_r=new Set,lr={x:n.x||mr.getOptions().domain,y:n.y||Vr.getOptions().domain};for(const hr of Re){const{orientation:Ti}=hr.attributes,[Rr,Gr]=fi(Ti),Qi=`${a}${(0,jn.Z)(Rr)}:filter`,ga=Rr==="x",{ratio:ya}=mr.getOptions(),{ratio:Ea}=Vr.getOptions(),go=Uo=>{if(Uo.data){const{selection:Au}=Uo.data,[Yu=hx(lr.x),yl=hx(lr.y)]=Au;return ga?[id(mr,Yu,ya),id(Vr,yl,Ea)]:[id(Vr,yl,Ea),id(mr,Yu,ya)]}const{value:Eu}=Uo.detail,ws=it[Rr],gs=xP(Eu,ws,Hr&&Ti==="horizontal"),Ws=lr[Gr];return[gs,Ws]},Wo=(0,u_.Z)(Uo=>bP(this,void 0,void 0,function*(){const{initValue:Eu=!1}=Uo;if(Ie&&!Eu)return;Ie=!0;const{nativeEvent:ws=!0}=Uo,[gs,Ws]=go(Uo);if(lr[Rr]=gs,lr[Gr]=Ws,ws){const Au=ga?gs:Ws,Yu=ga?Ws:gs;k.emit(Qi,Object.assign(Object.assign({},Uo),{nativeEvent:ws,data:{selection:[hx(Au),hx(Yu)]}}))}be(hr,Au=>Object.assign(Object.assign({},EP(Au,{[Rr]:{domain:gs,nice:!1}},a,l,Rr,Gr)),{paddingLeft:en,paddingTop:Rn,paddingBottom:Jn,paddingRight:nr})),yield de(),Ie=!1}),p,{leading:v,trailing:S}),Ps=Uo=>{const{nativeEvent:Eu}=Uo;if(Eu)return;const{data:ws}=Uo,{selection:gs}=ws,[Ws,Au]=gs;hr.dispatchEvent(new Oe.Aw("valuechange",{data:ws,nativeEvent:!1}));const Yu=ga?N(Ws,mr):N(Au,Vr);o(hr,Yu)};k.on(Qi,Ps),hr.addEventListener("valuechange",Wo),dr.set(hr,Wo),_r.add([Qi,Ps]);const jo=R(hr);jo&&hr.dispatchEvent(new Oe.Aw("valuechange",{detail:{value:jo},nativeEvent:!1,initValue:!0}))}return()=>{for(const[hr,Ti]of dr)hr.removeEventListener("valuechange",Ti);for(const[hr,Ti]of _r)k.off(hr,Ti)}}}const v5="g2-scrollbar";function TP(n={}){return(i,a,o)=>{const{view:l,container:p}=i;if(!p.getElementsByClassName(v5).length)return()=>{};const{scale:S}=l,{x:R,y:P}=S,I={x:[...R.getOptions().domain],y:[...P.getOptions().domain]};return R.update({domain:R.getOptions().expectedDomain}),P.update({domain:P.getOptions().expectedDomain}),m5(Object.assign(Object.assign({},n),{initDomain:I,className:v5,prefix:"scrollbar",hasState:!0,setValue:(z,te)=>z.setValue(te[0]),getInitValues:z=>{const te=z.slider.attributes.values;if(te[0]!==0)return te}}))(i,a,o)}}var SP=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function AP(n,i,a){return`<${n} style="${Object.entries(a).map(([o,l])=>`${ts(o)}:${l}`).join(";")}">${i}</${n}>`}const y5={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function _5(n){return n.nodeName!=="text"?!1:!!n.isOverflowing()}function b5(n){var{offsetX:i=8,offsetY:a=8}=n,o=SP(n,["offsetX","offsetY"]);return l=>{const{container:p}=l,[v,S]=p.getBounds().min,R=jt(o,"tip"),P=new Set,I=z=>{const{target:te}=z;if(!_5(te)){z.stopPropagation();return}const{offsetX:de,offsetY:be}=z,Re=de+i-v,Ie=be+a-S;if(te.tip){te.tip.style.x=Re,te.tip.style.y=Ie;return}const{text:it}=te.style,ut=new Oe.k9({className:"poptip",style:{innerHTML:AP("div",it,Object.assign(Object.assign({},y5),R)),x:Re,y:Ie}});p.appendChild(ut),te.tip=ut,P.add(ut)},k=z=>{const{target:te}=z;if(!_5(te)){z.stopPropagation();return}te.tip&&(te.tip.remove(),te.tip=null,P.delete(te.tip))};return p.addEventListener("pointerover",I),p.addEventListener("pointerout",k),()=>{p.removeEventListener("pointerover",I),p.removeEventListener("pointerout",k),P.forEach(z=>z.remove())}}}b5.props={reapplyWhenUpdate:!0};function E5(n,i){var a=Zv(i),o=a.length;if((0,$f.Z)(n))return!o;for(var l=0;l<o;l+=1){var p=a[l];if(i[p]!==n[p]||!(p in n))return!1}return!0}var x5=E5;function CP(n,i){if(!(0,dn.Z)(n))return null;var a;if((0,Ru.Z)(i)&&(a=i),(0,Ze.Z)(i)&&(a=function(l){return x5(l,i)}),a){for(var o=0;o<n.length;o+=1)if(a(n[o]))return n[o]}return null}var p2=CP;function K3(n){return n==null?null:T5(n)}function T5(n){if(typeof n!="function")throw new Error;return n}var OP={depth:-1},S5={},Q3={};function A5(n){return n.id}function C5(n){return n.parentId}function wA(){var n=A5,i=C5,a;function o(l){var p=Array.from(l),v=n,S=i,R,P,I,k,z,te,de,be,Re=new Map;if(a!=null){var Ie=p.map(function(nr,mr){return wP(a(nr,mr,l))}),it=Ie.map(O5),ut=new Set(Ie).add(""),Mt=ac(it),en;try{for(Mt.s();!(en=Mt.n()).done;){var Rn=en.value;ut.has(Rn)||(ut.add(Rn),Ie.push(Rn),it.push(O5(Rn)),p.push(Q3))}}catch(nr){Mt.e(nr)}finally{Mt.f()}v=function(mr,Vr){return Ie[Vr]},S=function(mr,Vr){return it[Vr]}}for(I=0,R=p.length;I<R;++I)P=p[I],te=p[I]=new am(P),(de=v(P,I,l))!=null&&(de+="")&&(be=te.id=de,Re.set(be,Re.has(be)?S5:te)),(de=S(P,I,l))!=null&&(de+="")&&(te.parent=de);for(I=0;I<R;++I)if(te=p[I],de=te.parent){if(z=Re.get(de),!z)throw new Error("missing: "+de);if(z===S5)throw new Error("ambiguous: "+de);z.children?z.children.push(te):z.children=[te],te.parent=z}else{if(k)throw new Error("multiple roots");k=te}if(!k)throw new Error("no root");if(a!=null){for(;k.data===Q3&&k.children.length===1;)k=k.children[0],--R;for(var Jn=p.length-1;Jn>=0&&(te=p[Jn],te.data===Q3);--Jn)te.data=null}if(k.parent=OP,k.eachBefore(function(nr){nr.depth=nr.parent.depth+1,--R}).eachBefore(s3),k.parent=null,R>0)throw new Error("cycle");return k}return o.id=function(l){return arguments.length?(n=K3(l),o):n},o.parentId=function(l){return arguments.length?(i=K3(l),o):i},o.path=function(l){return arguments.length?(a=K3(l),o):a},o}function wP(n){n="".concat(n);var i=n.length;return MA(n,i-1)&&!MA(n,i-2)&&(n=n.slice(0,-1)),n[0]==="/"?n:"/".concat(n)}function O5(n){var i=n.length;if(i<2)return"";for(;--i>1&&!MA(n,i););return n.slice(0,i)}function MA(n,i){if(n[i]==="/"){for(var a=0;i>0&&n[--i]==="\\";)++a;if(!(a&1))return!0}return!1}function w5(n,i,a,o,l){var p=n.children,v,S=p.length,R,P=new Array(S+1);for(P[0]=R=v=0;v<S;++v)P[v+1]=R+=p[v].value;I(0,S,n.value,i,a,o,l);function I(k,z,te,de,be,Re,Ie){if(k>=z-1){var it=p[k];it.x0=de,it.y0=be,it.x1=Re,it.y1=Ie;return}for(var ut=P[k],Mt=te/2+ut,en=k+1,Rn=z-1;en<Rn;){var Jn=en+Rn>>>1;P[Jn]<Mt?en=Jn+1:Rn=Jn}Mt-P[en-1]<P[en]-Mt&&k+1<en&&--en;var nr=P[en]-ut,mr=te-nr;if(Re-de>Ie-be){var Vr=te?(de*mr+Re*nr)/te:Re;I(k,en,nr,de,be,Vr,Ie),I(en,z,mr,Vr,be,Re,Ie)}else{var Hr=te?(be*mr+Ie*nr)/te:Ie;I(k,en,nr,de,be,Re,Hr),I(en,z,mr,de,Hr,Re,Ie)}}}function px(n,i,a,o,l){for(var p=n.children,v,S=-1,R=p.length,P=n.value&&(l-a)/n.value;++S<R;)v=p[S],v.x0=i,v.x1=o,v.y0=a,v.y1=a+=v.value*P}function gx(n,i,a,o,l){(n.depth&1?px:Fo)(n,i,a,o,l)}var RA=(1+Math.sqrt(5))/2;function PA(n,i,a,o,l,p){for(var v=[],S=i.children,R,P,I=0,k=0,z=S.length,te,de,be=i.value,Re,Ie,it,ut,Mt,en,Rn;I<z;){te=l-a,de=p-o;do Re=S[k++].value;while(!Re&&k<z);for(Ie=it=Re,en=Math.max(de/te,te/de)/(be*n),Rn=Re*Re*en,Mt=Math.max(it/Rn,Rn/Ie);k<z;++k){if(Re+=P=S[k].value,P<Ie&&(Ie=P),P>it&&(it=P),Rn=Re*Re*en,ut=Math.max(it/Rn,Rn/Ie),ut>Mt){Re-=P;break}Mt=ut}v.push(R={value:Re,dice:te<de,children:S.slice(I,k)}),R.dice?Fo(R,a,o,l,be?o+=de*Re/be:p):px(R,a,o,be?a+=te*Re/be:l,p),be-=Re,I=k}return v}var MP=function n(i){function a(o,l,p,v,S){PA(i,o,l,p,v,S)}return a.ratio=function(o){return n((o=+o)>1?o:1)},a}(RA),RP=function n(i){function a(o,l,p,v,S){if((R=o._squarify)&&R.ratio===i)for(var R,P,I,k,z=-1,te,de=R.length,be=o.value;++z<de;){for(P=R[z],I=P.children,k=P.value=0,te=I.length;k<te;++k)P.value+=I[k].value;P.dice?Fo(P,l,p,v,be?p+=(S-p)*P.value/be:S):px(P,l,p,be?l+=(v-l)*P.value/be:v,S),be-=P.value}else o._squarify=R=PA(i,o,l,p,v,S),R.ratio=i}return a.ratio=function(o){return n((o=+o)>1?o:1)},a}(RA);function rv(){return 0}function g2(n){return function(){return n}}function IA(){var n=MP,i=!1,a=1,o=1,l=[0],p=rv,v=rv,S=rv,R=rv,P=rv;function I(z){return z.x0=z.y0=0,z.x1=a,z.y1=o,z.eachBefore(k),l=[0],i&&z.eachBefore(Bo),z}function k(z){var te=l[z.depth],de=z.x0+te,be=z.y0+te,Re=z.x1-te,Ie=z.y1-te;Re<de&&(de=Re=(de+Re)/2),Ie<be&&(be=Ie=(be+Ie)/2),z.x0=de,z.y0=be,z.x1=Re,z.y1=Ie,z.children&&(te=l[z.depth+1]=p(z)/2,de+=P(z)-te,be+=v(z)-te,Re-=S(z)-te,Ie-=R(z)-te,Re<de&&(de=Re=(de+Re)/2),Ie<be&&(be=Ie=(be+Ie)/2),n(z,de,be,Re,Ie))}return I.round=function(z){return arguments.length?(i=!!z,I):i},I.size=function(z){return arguments.length?(a=+z[0],o=+z[1],I):[a,o]},I.tile=function(z){return arguments.length?(n=T5(z),I):n},I.padding=function(z){return arguments.length?I.paddingInner(z).paddingOuter(z):I.paddingInner()},I.paddingInner=function(z){return arguments.length?(p=typeof z=="function"?z:g2(+z),I):p},I.paddingOuter=function(z){return arguments.length?I.paddingTop(z).paddingRight(z).paddingBottom(z).paddingLeft(z):I.paddingTop()},I.paddingTop=function(z){return arguments.length?(v=typeof z=="function"?z:g2(+z),I):v},I.paddingRight=function(z){return arguments.length?(S=typeof z=="function"?z:g2(+z),I):S},I.paddingBottom=function(z){return arguments.length?(R=typeof z=="function"?z:g2(+z),I):R},I.paddingLeft=function(z){return arguments.length?(P=typeof z=="function"?z:g2(+z),I):P},I}function PP(n,i){return Array.isArray(n)?typeof i=="function"?wA().path(i)(n):wA()(n):zv(n)}function M5(n,i=[n.data.name]){n.id=n.id||n.data.name,n.path=i,n.children&&n.children.forEach(a=>{a.id=`${n.id}/${a.data.name}`,a.path=[...i,a.data.name],M5(a,a.path)})}function R5(n){const i=(0,Pc.Z)(n,["data","name"]);i.replaceAll&&(n.path=i.replaceAll(".","/").split("/")),n.children&&n.children.forEach(a=>{R5(a)})}function IP(n,i){const a={treemapBinary:w5,treemapDice:Fo,treemapSlice:px,treemapSliceDice:gx,treemapSquarify:MP,treemapResquarify:RP},o=n==="treemapSquarify"?a[n].ratio(i):a[n];if(!o)throw new TypeError("Invalid tile method!");return o}function P5(n,i,a){const{value:o}=a,l=IP(i.tile,i.ratio),p=PP(n,i.path);(0,dn.Z)(n)?R5(p):M5(p),o?p.sum(R=>i.ignoreParentValue&&R.children?0:lm(o)(R)).sort(i.sort):p.count(),IA().tile(l).size(i.size).round(i.round).paddingInner(i.paddingInner).paddingOuter(i.paddingOuter).paddingTop(i.paddingTop).paddingRight(i.paddingRight).paddingBottom(i.paddingBottom).paddingLeft(i.paddingLeft)(p);const v=p.descendants().map(R=>Object.assign(R,{id:R.id.replace(/^\//,""),x:[R.x0,R.x1],y:[R.y0,R.y1]}));return[v.filter(typeof i.layer=="function"?i.layer:R=>R.height===i.layer),v]}var LP=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},NP=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function DP(n){return Ii(n).select(`.${mn}`).node()}const kP={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function BP(n={}){const{originData:i=[],layout:a}=n,o=NP(n,["originData","layout"]),l=(0,Ui.Z)({},kP,o),p=jt(l,"breadCrumb"),v=jt(l,"active");return S=>{const{update:R,setState:P,container:I,options:k}=S,z=DP(I),te=k.marks[0],{state:de}=te,be=new Oe.ZA;z.appendChild(be);const Re=(Mt,en)=>LP(this,void 0,void 0,function*(){if(be.removeChildren(),en){let Rn="",Jn=p.y,nr=0;const mr=[],Vr=z.getBBox().width,Hr=Mt.map((fi,dr)=>{Rn=`${Rn}${fi}/`,mr.push(fi);const _r=new Oe.xv({name:Rn.replace(/\/$/,""),style:Object.assign(Object.assign({text:fi,x:nr,path:[...mr],depth:dr},p),{y:Jn})});be.appendChild(_r),nr+=_r.getBBox().width;const lr=new Oe.xv({style:Object.assign(Object.assign({x:nr,text:" / "},p),{y:Jn})});return be.appendChild(lr),nr+=lr.getBBox().width,nr>Vr&&(Jn=be.getBBox().height+p.y,nr=0,_r.attr({x:nr,y:Jn}),nr+=_r.getBBox().width,lr.attr({x:nr,y:Jn}),nr+=lr.getBBox().width),dr===Ad(Mt)-1&&lr.remove(),_r});Hr.forEach((fi,dr)=>{if(dr===Ad(Hr)-1)return;const _r=Object.assign({},fi.attributes);fi.attr("cursor","pointer"),fi.addEventListener("mouseenter",()=>{fi.attr(v)}),fi.addEventListener("mouseleave",()=>{fi.attr(_r)}),fi.addEventListener("click",()=>{Re((0,Pc.Z)(fi,["style","path"]),(0,Pc.Z)(fi,["style","depth"]))})})}o5(I,P),P("treemapDrillDown",Rn=>{const{marks:Jn}=Rn,nr=Mt.join("/"),mr=Jn.map(Vr=>{if(Vr.type!=="rect")return Vr;let Hr=i;if(en){const dr=i.filter(Rr=>{const Gr=(0,Pc.Z)(Rr,["id"]);return Gr&&(Gr.match(`${nr}/`)||nr.match(Gr))}).map(Rr=>({value:Rr.height===0?(0,Pc.Z)(Rr,["value"]):void 0,name:(0,Pc.Z)(Rr,["id"])})),{paddingLeft:_r,paddingBottom:lr,paddingRight:hr}=a,Ti=Object.assign(Object.assign({},a),{paddingTop:(a.paddingTop||be.getBBox().height+10)/(en+1),paddingLeft:_r/(en+1),paddingBottom:lr/(en+1),paddingRight:hr/(en+1),path:Rr=>Rr.name,layer:Rr=>Rr.depth===en+1});Hr=P5(dr,Ti,{value:"value"})[0]}else Hr=i.filter(dr=>dr.depth===1);const fi=[];return Hr.forEach(({path:dr})=>{fi.push(sx(dr))}),(0,Ui.Z)({},Vr,{data:Hr,scale:{color:{domain:fi}}})});return Object.assign(Object.assign({},Rn),{marks:mr})}),yield R(void 0,["legendFilter"])}),Ie=Mt=>{const en=Mt.target;if((0,Pc.Z)(en,["markType"])!=="rect")return;const Rn=(0,Pc.Z)(en,["__data__","key"]),Jn=p2(i,nr=>nr.id===Rn);(0,Pc.Z)(Jn,"height")&&Re((0,Pc.Z)(Jn,"path"),(0,Pc.Z)(Jn,"depth"))};z.addEventListener("click",Ie);const it=Zv(Object.assign(Object.assign({},de.active),de.inactive)),ut=()=>{qt(z).forEach(en=>{const Rn=(0,Pc.Z)(en,["style","cursor"]),Jn=p2(i,nr=>nr.id===(0,Pc.Z)(en,["__data__","key"]));if(Rn!=="pointer"&&(Jn!=null&&Jn.height)){en.style.cursor="pointer";const nr=(0,Fa.Z)(en.attributes,it);en.addEventListener("mouseenter",()=>{en.attr(de.active)}),en.addEventListener("mouseleave",()=>{en.attr((0,Ui.Z)(nr,de.inactive))})}})};return ut(),z.addEventListener("mousemove",ut),()=>{be.remove(),z.removeEventListener("click",Ie),z.removeEventListener("mousemove",ut)}}}var LA=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},FP=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const UP={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},NA="movePoint",I5=n=>{const i=n.target,{markType:a}=i;a==="line"&&(i.attr("_lineWidth",i.attr("lineWidth")||1),i.attr("lineWidth",i.attr("_lineWidth")+3)),a==="interval"&&(i.attr("_opacity",i.attr("opacity")||1),i.attr("opacity",.7*i.attr("_opacity")))},L5=n=>{const i=n.target,{markType:a}=i;a==="line"&&i.attr("lineWidth",i.attr("_lineWidth")),a==="interval"&&i.attr("opacity",i.attr("_opacity"))},zP=(n,i,a)=>i.map(o=>["x","color"].reduce((p,v)=>{const S=a[v];return S&&o[S]!==n[S]?!1:p},!0)?Object.assign(Object.assign({},o),n):o),ZP=n=>{const i=(0,Pc.Z)(n,["__data__","y"]),o=(0,Pc.Z)(n,["__data__","y1"])-i,{__data__:{data:l,encode:p,transform:v},childNodes:S}=n.parentNode,R=p2(v,({type:k})=>k==="normalizeY"),P=(0,Pc.Z)(p,["y","field"]),I=l[S.indexOf(n)][P];return(k,z=!1)=>R||z?k/(1-k)/(o/(1-o))*I:k},jP=(n,i)=>{const a=(0,Pc.Z)(n,["__data__","seriesItems",i,"0","value"]),o=(0,Pc.Z)(n,["__data__","seriesIndex",i]),{__data__:{data:l,encode:p,transform:v}}=n.parentNode,S=p2(v,({type:I})=>I==="normalizeY"),R=(0,Pc.Z)(p,["y","field"]),P=l[o][R];return I=>S?a===1?I:I/(1-I)/(a/(1-a))*P:I},N5=(n,i,a)=>{n.forEach((o,l)=>{o.attr("stroke",i[1]===l?a.activeStroke:a.stroke)})},D5=(n,i,a,o)=>{const l=new Oe.y$({style:a}),p=new Oe.xv({style:o});return i.appendChild(p),n.appendChild(l),[l,p]},HP=(n,i)=>{if(!(0,Pc.Z)(n,["options","range","indexOf"]))return;const o=n.options.range.indexOf(i);return n.sortedDomain[o]},DA=(n,i,a)=>{const o=ke(n,i),p=ke(n,a)/o,v=n[0]+(i[0]-n[0])*p,S=n[1]+(i[1]-n[1])*p;return[v,S]};function q3(n={}){const{selection:i=[],precision:a=2}=n,o=FP(n,["selection","precision"]),l=Object.assign(Object.assign({},UP),o||{}),p=jt(l,"path"),v=jt(l,"label"),S=jt(l,"point");return(R,P,I)=>{const{update:k,setState:z,container:te,view:de,options:{marks:be,coordinate:Re}}=R,Ie=Mn(te);let it=qt(Ie),ut,Mt=i;const{transform:en=[],type:Rn}=Re,Jn=!!p2(en,({type:Rr})=>Rr==="transpose"),nr=Rn==="polar",mr=Rn==="theta",Vr=!!p2(it,({markType:Rr})=>Rr==="area");Vr&&(it=it.filter(({markType:Rr})=>Rr==="area"));const Hr=new Oe.ZA({style:{zIndex:2}});Ie.appendChild(Hr);const fi=()=>{I.emit("element-point:select",{nativeEvent:!0,data:{selection:Mt}})},dr=(Rr,Gr)=>{I.emit("element-point:moved",{nativeEvent:!0,data:{changeData:Rr,data:Gr}})},_r=Rr=>{const Gr=Rr.target;Mt=[Gr.parentNode.childNodes.indexOf(Gr)],fi(),hr(Gr)},lr=Rr=>{const{data:{selection:Gr},nativeEvent:Qi}=Rr;if(Qi)return;Mt=Gr;const ga=(0,Pc.Z)(it,[Mt==null?void 0:Mt[0]]);ga&&hr(ga)},hr=Rr=>{const{attributes:Gr,markType:Qi,__data__:ga}=Rr,{stroke:ya}=Gr,{points:Ea,seriesTitle:go,color:Wo,title:Ps,seriesX:jo,y1:Uo}=ga;if(Jn&&Qi!=="interval")return;const{scale:Eu,coordinate:ws}=(ut==null?void 0:ut.view)||de,{color:gs,y:Ws,x:Au}=Eu,Yu=ws.getCenter();Hr.removeChildren();let yl;const cf=(Ml,dc,nh,_p)=>LA(this,void 0,void 0,function*(){return z("elementPointMove",ag=>{var r0;const Ag=(((r0=ut==null?void 0:ut.options)===null||r0===void 0?void 0:r0.marks)||be).map(bp=>{if(!_p.includes(bp.type))return bp;const{data:_v,encode:z0}=bp,Cg=Object.keys(z0).reduce((Wu,Jl)=>{const kc=z0[Jl];return Jl==="x"&&(Wu[kc]=Ml),Jl==="y"&&(Wu[kc]=dc),Jl==="color"&&(Wu[kc]=nh),Wu},{}),Ep=zP(Cg,_v,z0);return dr(Cg,Ep),(0,Ui.Z)({},bp,{data:Ep,animate:!1})});return Object.assign(Object.assign({},ag),{marks:Ag})}),yield k("elementPointMove")});if(["line","area"].includes(Qi))Ea.forEach((Ml,dc)=>{const nh=Au.invert(jo[dc]);if(!nh)return;const _p=new Oe.Cd({name:NA,style:Object.assign({cx:Ml[0],cy:Ml[1],fill:ya},S)}),ag=jP(Rr,dc);_p.addEventListener("mousedown",r0=>{const Ag=ws.output([jo[dc],0]),bp=go==null?void 0:go.length;te.attr("cursor","move"),Mt[1]!==dc&&(Mt[1]=dc,fi()),N5(Hr.childNodes,Mt,S);const[_v,z0]=D5(Hr,_p,p,v),q0=Ep=>{const Wu=Ml[1]+Ep.clientY-yl[1];if(Vr)if(nr){const Jl=Ml[0]+Ep.clientX-yl[0],[kc,Wc]=DA(Yu,Ag,[Jl,Wu]),[,Yd]=ws.output([1,Ws.output(0)]),[,d0]=ws.invert([kc,Yd-(Ea[dc+bp][1]-Wc)]),h0=(dc+1)%bp,Vp=(dc-1+bp)%bp,bv=bt([Ea[Vp],[kc,Wc],go[h0]&&Ea[h0]]);z0.attr("text",ag(Ws.invert(d0)).toFixed(a)),_v.attr("d",bv),_p.attr("cx",kc),_p.attr("cy",Wc)}else{const[,Jl]=ws.output([1,Ws.output(0)]),[,kc]=ws.invert([Ml[0],Jl-(Ea[dc+bp][1]-Wu)]),Wc=bt([Ea[dc-1],[Ml[0],Wu],go[dc+1]&&Ea[dc+1]]);z0.attr("text",ag(Ws.invert(kc)).toFixed(a)),_v.attr("d",Wc),_p.attr("cy",Wu)}else{const[,Jl]=ws.invert([Ml[0],Wu]),kc=bt([Ea[dc-1],[Ml[0],Wu],Ea[dc+1]]);z0.attr("text",Ws.invert(Jl).toFixed(a)),_v.attr("d",kc),_p.attr("cy",Wu)}};yl=[r0.clientX,r0.clientY],window.addEventListener("mousemove",q0);const Cg=()=>LA(this,void 0,void 0,function*(){if(te.attr("cursor","default"),window.removeEventListener("mousemove",q0),te.removeEventListener("mouseup",Cg),(0,fo.Z)(z0.attr("text")))return;const Ep=Number(z0.attr("text")),Wu=HP(gs,Wo);ut=yield cf(nh,Ep,Wu,["line","area"]),z0.remove(),_v.remove(),hr(Rr)});te.addEventListener("mouseup",Cg)}),Hr.appendChild(_p)}),N5(Hr.childNodes,Mt,S);else if(Qi==="interval"){let Ml=[(Ea[0][0]+Ea[1][0])/2,Ea[0][1]];Jn?Ml=[Ea[0][0],(Ea[0][1]+Ea[1][1])/2]:mr&&(Ml=Ea[0]);const dc=ZP(Rr),nh=new Oe.Cd({name:NA,style:Object.assign(Object.assign({cx:Ml[0],cy:Ml[1],fill:ya},S),{stroke:S.activeStroke})});nh.addEventListener("mousedown",_p=>{te.attr("cursor","move");const ag=HP(gs,Wo),[r0,Ag]=D5(Hr,nh,p,v),bp=z0=>{if(Jn){const q0=Ml[0]+z0.clientX-yl[0],[Cg]=ws.output([Ws.output(0),Ws.output(0)]),[,Ep]=ws.invert([Cg+(q0-Ea[2][0]),Ml[1]]),Wu=bt([[q0,Ea[0][1]],[q0,Ea[1][1]],Ea[2],Ea[3]],!0);Ag.attr("text",dc(Ws.invert(Ep)).toFixed(a)),r0.attr("d",Wu),nh.attr("cx",q0)}else if(mr){const q0=Ml[1]+z0.clientY-yl[1],Cg=Ml[0]+z0.clientX-yl[0],[Ep,Wu]=DA(Yu,[Cg,q0],Ml),[Jl,kc]=DA(Yu,[Cg,q0],Ea[1]),Wc=ws.invert([Ep,Wu])[1],Yd=Uo-Wc;if(Yd<0)return;const d0=Te(Yu,[[Ep,Wu],[Jl,kc],Ea[2],Ea[3]],Yd>.5?1:0);Ag.attr("text",dc(Yd,!0).toFixed(a)),r0.attr("d",d0),nh.attr("cx",Ep),nh.attr("cy",Wu)}else{const q0=Ml[1]+z0.clientY-yl[1],[,Cg]=ws.output([1,Ws.output(0)]),[,Ep]=ws.invert([Ml[0],Cg-(Ea[2][1]-q0)]),Wu=bt([[Ea[0][0],q0],[Ea[1][0],q0],Ea[2],Ea[3]],!0);Ag.attr("text",dc(Ws.invert(Ep)).toFixed(a)),r0.attr("d",Wu),nh.attr("cy",q0)}};yl=[_p.clientX,_p.clientY],window.addEventListener("mousemove",bp);const _v=()=>LA(this,void 0,void 0,function*(){if(te.attr("cursor","default"),te.removeEventListener("mouseup",_v),window.removeEventListener("mousemove",bp),(0,fo.Z)(Ag.attr("text")))return;const z0=Number(Ag.attr("text"));ut=yield cf(Ps,z0,ag,[Qi]),Ag.remove(),r0.remove(),hr(Rr)});te.addEventListener("mouseup",_v)}),Hr.appendChild(nh)}};it.forEach((Rr,Gr)=>{Mt[0]===Gr&&hr(Rr),Rr.addEventListener("click",_r),Rr.addEventListener("mouseenter",I5),Rr.addEventListener("mouseleave",L5)});const Ti=Rr=>{const Gr=Rr==null?void 0:Rr.target;(!Gr||Gr.name!==NA&&!it.includes(Gr))&&(Mt=[],fi(),Hr.removeChildren())};return I.on("element-point:select",lr),I.on("element-point:unselect",Ti),te.addEventListener("mousedown",Ti),()=>{Hr.remove(),I.off("element-point:select",lr),I.off("element-point:unselect",Ti),te.removeEventListener("mousedown",Ti),it.forEach(Rr=>{Rr.removeEventListener("click",_r),Rr.removeEventListener("mouseenter",I5),Rr.removeEventListener("mouseleave",L5)})}}}var WP=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const k5=()=>n=>{const{children:i}=n;if(!Array.isArray(i))return[];const{x:a=0,y:o=0,width:l,height:p,data:v}=n;return i.map(S=>{var{data:R,x:P,y:I,width:k,height:z}=S,te=WP(S,["data","x","y","width","height"]);return Object.assign(Object.assign({},te),{data:Js(R,v),x:P!=null?P:a,y:I!=null?I:o,width:k!=null?k:l,height:z!=null?z:p})})};k5.props={};var B5=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const F5=()=>n=>{const{children:i}=n;if(!Array.isArray(i))return[];const{direction:a="row",ratio:o=i.map(()=>1),padding:l=0,data:p}=n,[v,S,R,P]=a==="col"?["y","height","width","x"]:["x","width","height","y"],I=o.reduce((be,Re)=>be+Re),k=n[S]-l*(i.length-1),z=o.map(be=>k*(be/I)),te=[];let de=n[v]||0;for(let be=0;be<z.length;be+=1){const Re=i[be],{data:Ie}=Re,it=B5(Re,["data"]),ut=Js(Ie,p);te.push(Object.assign({[v]:de,[S]:z[be],[P]:n[P]||0,[R]:n[R],data:ut},it)),de+=z[be]+l}return te};F5.props={};class mx{constructor(i){this.$value=i}static of(i){return new mx(i)}call(i,...a){return this.$value=i(this.$value,...a),this}value(){return this.$value}}var VP=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const GP=xu(n=>{const{encode:i,data:a,scale:o,shareSize:l=!1}=n,{x:p,y:v}=i,S=(R,P)=>{var I;if(R===void 0||!l)return{};const k=_e(a,de=>de[R]),z=((I=o==null?void 0:o[P])===null||I===void 0?void 0:I.domain)||Array.from(k.keys()),te=z.map(de=>k.has(de)?k.get(de).length:1);return{domain:z,flex:te}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:p===void 0?null:{position:"top"}},p===void 0&&{paddingInner:0}),S(p,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:v===void 0?null:{position:"right"}},v===void 0&&{paddingInner:0}),S(v,"y"))}}}),kA=xc(n=>{const{data:i,scale:a,legend:o}=n,l=[n];let p,v,S;for(;l.length;){const z=l.shift(),{children:te,encode:de={},scale:be={},legend:Re={}}=z,{color:Ie}=de,{color:it}=be,{color:ut}=Re;Ie!==void 0&&(p=Ie),it!==void 0&&(v=it),ut!==void 0&&(S=ut),Array.isArray(te)&&l.push(...te)}const R=()=>{var z;const te=(z=a==null?void 0:a.color)===null||z===void 0?void 0:z.domain;if(te!==void 0)return[te];if(p===void 0)return[void 0];const de=typeof p=="function"?p:Re=>Re[p],be=i.map(de);return be.some(Re=>typeof Re=="number")?[ru(be)]:[Array.from(new Set(be)),"ordinal"]},P=typeof p=="string"?p:"",[I,k]=R();return Object.assign({encode:{color:{type:"column",value:I!=null?I:[]}},scale:{color:(0,Ui.Z)({},v,{domain:I,type:k})}},o===void 0&&{legend:{color:(0,Ui.Z)({title:P},S)}})}),BA=xu(()=>({animate:{enterType:"fadeIn"}})),FA=xc(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),UA=xc(()=>({type:"cell"})),YP=xc(n=>{const{data:i}=n;return{data:{type:"inline",value:i,transform:[{type:"custom",callback:()=>{const{data:o,encode:l}=n,{x:p,y:v}=l,S=p?Array.from(new Set(o.map(I=>I[p]))):[],R=v?Array.from(new Set(o.map(I=>I[v]))):[];return(()=>{if(S.length&&R.length){const I=[];for(const k of S)for(const z of R)I.push({[p]:k,[v]:z});return I}if(S.length)return S.map(I=>({[p]:I}));if(R.length)return R.map(I=>({[v]:I}))})()}}]}}}),U5=xc((n,i=J3,a=$P,o=XP,l={})=>{const{data:p,encode:v,children:S,scale:R,x:P=0,y:I=0,shareData:k=!1,key:z}=n,{value:te}=p,{x:de,y:be}=v,{color:Re}=R,{domain:Ie}=Re;return{children:(ut,Mt,en)=>{const{x:Rn,y:Jn}=Mt,{paddingLeft:nr,paddingTop:mr,marginLeft:Vr,marginTop:Hr}=en,{domain:fi}=Rn.getOptions(),{domain:dr}=Jn.getOptions(),_r=wu(ut),lr=ut.map(i),hr=ut.map(({x:ya,y:Ea})=>[Rn.invert(ya),Jn.invert(Ea)]),Rr=hr.map(([ya,Ea])=>go=>{const{[de]:Wo,[be]:Ps}=go;return(de!==void 0?Wo===ya:!0)&&(be!==void 0?Ps===Ea:!0)}).map(ya=>te.filter(ya)),Gr=k?ia(Rr,ya=>ya.length):void 0,Qi=hr.map(([ya,Ea])=>({columnField:de,columnIndex:fi.indexOf(ya),columnValue:ya,columnValuesLength:fi.length,rowField:be,rowIndex:dr.indexOf(Ea),rowValue:Ea,rowValuesLength:dr.length})),ga=Qi.map(ya=>Array.isArray(S)?S:[S(ya)].flat(1));return _r.flatMap(ya=>{const[Ea,go,Wo,Ps]=lr[ya],jo=Qi[ya],Uo=Rr[ya];return ga[ya].map(ws=>{var gs,Ws,{scale:Au,key:Yu,facet:yl=!0,axis:cf={},legend:Ml={}}=ws,dc=VP(ws,["scale","key","facet","axis","legend"]);const nh=((gs=Au==null?void 0:Au.y)===null||gs===void 0?void 0:gs.guide)||cf.y,_p=((Ws=Au==null?void 0:Au.x)===null||Ws===void 0?void 0:Ws.guide)||cf.x,ag={x:{tickCount:de?5:void 0},y:{tickCount:be?5:void 0}},r0=yl?Uo:Uo.length===0?[]:te,Ag={color:{domain:Ie}},bp={x:z5(_p,a)(jo,r0),y:z5(nh,o)(jo,r0)};return Object.assign(Object.assign({key:`${Yu}-${ya}`,data:r0,margin:0,x:Ea+nr+P+Vr,y:go+mr+I+Hr,parentKey:z,width:Wo,height:Ps,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!r0.length,dataDomain:Gr,scale:(0,Ui.Z)(ag,Au,Ag),axis:(0,Ui.Z)({},cf,bp),legend:!1},dc),l)})})}}});function J3(n){const{points:i}=n;return js(i)}function eT(n,i){return i.length?(0,Ui.Z)({title:!1,tick:null,label:null},n):(0,Ui.Z)({title:!1,tick:null,label:null,grid:null},n)}function $P(n){return(i,a)=>{const{rowIndex:o,rowValuesLength:l,columnIndex:p,columnValuesLength:v}=i;if(o!==l-1)return eT(n,a);const S=p!==v-1?!1:void 0,R=a.length?void 0:null;return(0,Ui.Z)({title:S,grid:R},n)}}function XP(n){return(i,a)=>{const{rowIndex:o,columnIndex:l}=i;if(l!==0)return eT(n,a);const p=o!==0?!1:void 0,v=a.length?void 0:null;return(0,Ui.Z)({title:p,grid:v},n)}}function z5(n,i){return typeof n=="function"?n:n===null||n===!1?()=>null:i(n)}const Z5=()=>n=>[mx.of(n).call(UA).call(kA).call(BA).call(GP).call(FA).call(YP).call(U5).value()];Z5.props={};var c_=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const vx=xu(n=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),KP=xc(n=>{const{data:i,children:a,x:o=0,y:l=0,key:p}=n;return{children:(S,R,P)=>{const{x:I,y:k}=R,{paddingLeft:z,paddingTop:te,marginLeft:de,marginTop:be}=P,{domain:Re}=I.getOptions(),{domain:Ie}=k.getOptions(),it=wu(S),ut=S.map(({points:Jn})=>js(Jn)),Mt=S.map(({x:Jn,y:nr})=>[I.invert(Jn),k.invert(nr)]),en=Mt.map(([Jn,nr])=>({columnField:Jn,columnIndex:Re.indexOf(Jn),columnValue:Jn,columnValuesLength:Re.length,rowField:nr,rowIndex:Ie.indexOf(nr),rowValue:nr,rowValuesLength:Ie.length})),Rn=en.map(Jn=>Array.isArray(a)?a:[a(Jn)].flat(1));return it.flatMap(Jn=>{const[nr,mr,Vr,Hr]=ut[Jn],[fi,dr]=Mt[Jn],_r=en[Jn];return Rn[Jn].map(hr=>{var Ti,Rr;const{scale:Gr,key:Qi,encode:ga,axis:ya,interaction:Ea}=hr,go=c_(hr,["scale","key","encode","axis","interaction"]),Wo=(Ti=Gr==null?void 0:Gr.y)===null||Ti===void 0?void 0:Ti.guide,Ps=(Rr=Gr==null?void 0:Gr.x)===null||Rr===void 0?void 0:Rr.guide,jo={x:{facet:!1},y:{facet:!1}},Uo={x:qP(Ps)(_r,i),y:f_(Wo)(_r,i)},Eu={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:i,parentKey:p,key:`${Qi}-${Jn}`,x:nr+z+o+de,y:mr+te+l+be,width:Vr,height:Hr,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:(0,Ui.Z)(jo,Gr),axis:(0,Ui.Z)(Eu,ya,Uo),legend:!1,encode:(0,Ui.Z)({},ga,{x:fi,y:dr}),interaction:(0,Ui.Z)({},Ea,{legendFilter:!1})},go)})})}}}),QP=xc(n=>{const{encode:i}=n,a=c_(n,["encode"]),{position:o=[],x:l=o,y:p=[...o].reverse()}=i,v=c_(i,["position","x","y"]),S=[];for(const R of[l].flat(1))for(const P of[p].flat(1))S.push({$x:R,$y:P});return Object.assign(Object.assign({},a),{data:S,encode:Object.assign(Object.assign({},v),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[l].flat(1).length===1&&{x:{paddingInner:0}}),[p].flat(1).length===1&&{y:{paddingInner:0}})})});function qP(n){return typeof n=="function"?n:n===null?()=>null:(i,a)=>{const{rowIndex:o,rowValuesLength:l}=i;if(o!==l-1)return eT(n,a)}}function f_(n){return typeof n=="function"?n:n===null?()=>null:(i,a)=>{const{columnIndex:o}=i;if(o!==0)return eT(n,a)}}const JP=()=>n=>[mx.of(n).call(UA).call(kA).call(KP).call(QP).call(BA).call(FA).call(vx).value()];var eI=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const tI=xu(n=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),nI=xu(n=>({coordinate:{type:"polar"}})),rI=n=>{const{encode:i}=n,a=eI(n,["encode"]),{position:o}=i;return Object.assign(Object.assign({},a),{encode:{x:o}})};function iI(n){return i=>null}function aI(n){const{points:i}=n,[a,o,l,p]=i,v=bl(a,p),S=vu(a,p),R=vu(o,l),P=Yc(S,R),I=1/Math.sin(P/2),k=v/(1+I),z=k*Math.sqrt(2),[te,de]=l,Re=Hi(S)+P/2,Ie=k*I,it=te+Ie*Math.sin(Re),ut=de-Ie*Math.cos(Re);return[it-z/2,ut-z/2,z,z]}const zA=()=>n=>[mx.of(n).call(UA).call(rI).call(kA).call(nI).call(YP).call(U5,aI,iI,iI,{frame:!1}).call(BA).call(FA).call(tI).value()];function oI(n,i,a){const l=a,p=[0,l],v=[-l+1,1];if(n==="normal")return p;if(n==="reverse")return v;if(n==="alternate")return i%2===0?p:v;if(n==="reverse-alternate")return i%2===0?v:p}function sI(n,i,a){const o=[n];for(;o.length;){const l=o.pop();l.animate=(0,Ui.Z)({enter:{duration:i},update:{duration:i,easing:a,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:i}},l.animate||{});const{children:p}=l;Array.isArray(p)&&o.push(...p)}return n}const j5=()=>n=>{const{children:i=[],duration:a=1e3,iterationCount:o=1,direction:l="normal",easing:p="ease-in-out-sine"}=n,v=i.length;if(!Array.isArray(i)||v===0)return[];const{key:S}=i[0],R=i.map(P=>Object.assign(Object.assign({},P),{key:S})).map(P=>sI(P,a,p));return function*(){let P=0,I;for(;o==="infinite"||P<o;){const[k,z]=oI(l,P,v);for(let te=k;te<z;te+=1){const de=Math.abs(te);I!==de&&(yield R[de]),I=de}P++}}};j5.props={};function G1(n,i,a){const{encode:o}=a;if(n===null)return[i];const l=tT(n).map(v=>{var S;return[v,(S=Zc(o,v))===null||S===void 0?void 0:S[0]]}).filter(([,v])=>Hn(v)),p=v=>l.map(([,S])=>S[v]).join("-");return Array.from(_e(i,p).values())}function H5(n){return Array.isArray(n)?cI(n):typeof n=="function"?lI(n):n==="series"?uI:n==="value"?G5:n==="sum"?fI:n==="maxIndex"?dI:null}function W5(n,i){for(const a of n)a.sort(i)}function V5(n,i){return(i==null?void 0:i.domain)||Array.from(new Set(n))}function tT(n){return Array.isArray(n)?n:[n]}function uI(n,i,a){return yx(o=>a[o])}function lI(n){return(i,a,o)=>yx(l=>n(i[l]))}function cI(n){return(i,a,o)=>(l,p)=>n.reduce((v,S)=>v!==0?v:Sl(i[l][S],i[p][S]),0)}function G5(n,i,a){return yx(o=>i[o])}function fI(n,i,a){const o=wu(n),l=Array.from(_e(o,v=>a[+v]).entries()),p=new Map(l.map(([v,S])=>[v,S.reduce((R,P)=>R+ +i[P])]));return yx(v=>p.get(a[v]))}function dI(n,i,a){const o=wu(n),l=Array.from(_e(o,v=>a[+v]).entries()),p=new Map(l.map(([v,S])=>[v,ih(S,R=>i[R])]));return yx(v=>p.get(a[v]))}function yx(n){return(i,a)=>Sl(n(i),n(a))}const Y5=(n={})=>{const{groupBy:i="x",orderBy:a=null,reverse:o=!1,y:l="y",y1:p="y1",series:v=!0}=n;return(S,R)=>{var P;const{data:I,encode:k,style:z={}}=R,[te,de]=Zc(k,"y"),[be,Re]=Zc(k,"y1"),[Ie]=v?Ub(k,"series","color"):Zc(k,"color"),it=G1(i,S,R),Mt=((P=H5(a))!==null&&P!==void 0?P:()=>null)(I,te,Ie);Mt&&W5(it,Mt);const en=new Array(S.length),Rn=new Array(S.length),Jn=new Array(S.length),nr=[],mr=[];for(const _r of it){o&&_r.reverse();const lr=be?+be[_r[0]]:0,hr=[],Ti=[];for(const go of _r){const Wo=Jn[go]=+te[go]-lr;Wo<0?Ti.push(go):Wo>=0&&hr.push(go)}const Rr=hr.length>0?hr:Ti,Gr=Ti.length>0?Ti:hr;let Qi=hr.length-1,ga=0;for(;Qi>0&&te[Rr[Qi]]===0;)Qi--;for(;ga<Gr.length-1&&te[Gr[ga]]===0;)ga++;nr.push(Rr[Qi]),mr.push(Gr[ga]);let ya=lr;for(const go of Ti.reverse()){const Wo=Jn[go];ya=en[go]=(Rn[go]=ya)+Wo}let Ea=lr;for(const go of hr){const Wo=Jn[go];Wo>0?Ea=en[go]=(Rn[go]=Ea)+Wo:en[go]=Rn[go]=Ea}}const Vr=new Set(nr),Hr=new Set(mr),fi=l==="y"?en:Rn,dr=p==="y"?en:Rn;return[S,(0,Ui.Z)({},R,{encode:{y0:Bb(te,de),y:jf(fi,de),y1:jf(dr,Re)},style:Object.assign({first:(_r,lr)=>Vr.has(lr),last:(_r,lr)=>Hr.has(lr)},z)})]}};Y5.props={};function $5(n,i){let a=0;if(i===void 0)for(let o of n)o!=null&&(o=+o)>=o&&++a;else{let o=-1;for(let l of n)(l=i(l,++o,n))!=null&&(l=+l)>=l&&++a}return a}function hI(n,i){let a=0,o,l=0,p=0;if(i===void 0)for(let v of n)v!=null&&(v=+v)>=v&&(o=v-l,l+=o/++a,p+=o*(v-l));else{let v=-1;for(let S of n)(S=i(S,++v,n))!=null&&(S=+S)>=S&&(o=S-l,l+=o/++a,p+=o*(S-l))}if(a>1)return p/(a-1)}function X5(n,i){const a=hI(n,i);return a&&Math.sqrt(a)}function pI(n,i,a){const o=$5(n),l=X5(n);return o&&l?Math.ceil((a-i)*Math.cbrt(o)/(3.49*l)):1}var K5=Array.prototype,gI=K5.slice,XN=K5.map;function ZA(n){return()=>n}const mI=Math.sqrt(50),vI=Math.sqrt(10),yI=Math.sqrt(2);function m2(n,i,a){const o=(i-n)/Math.max(0,a),l=Math.floor(Math.log10(o)),p=o/Math.pow(10,l),v=p>=mI?10:p>=vI?5:p>=yI?2:1;let S,R,P;return l<0?(P=Math.pow(10,-l)/v,S=Math.round(n*P),R=Math.round(i*P),S/P<n&&++S,R/P>i&&--R,P=-P):(P=Math.pow(10,l)*v,S=Math.round(n/P),R=Math.round(i/P),S*P<n&&++S,R*P>i&&--R),R<S&&.5<=a&&a<2?m2(n,i,a*2):[S,R,P]}function Q5(n,i,a){if(i=+i,n=+n,a=+a,!(a>0))return[];if(n===i)return[n];const o=i<n,[l,p,v]=o?m2(i,n,a):m2(n,i,a);if(!(p>=l))return[];const S=p-l+1,R=new Array(S);if(o)if(v<0)for(let P=0;P<S;++P)R[P]=(p-P)/-v;else for(let P=0;P<S;++P)R[P]=(p-P)*v;else if(v<0)for(let P=0;P<S;++P)R[P]=(l+P)/-v;else for(let P=0;P<S;++P)R[P]=(l+P)*v;return R}function Jp(n,i,a){return i=+i,n=+n,a=+a,m2(n,i,a)[2]}function KN(n,i,a){i=+i,n=+n,a=+a;const o=i<n,l=o?Jp(i,n,a):Jp(n,i,a);return(o?-1:1)*(l<0?1/-l:l)}function nT(n,i,a){let o;for(;;){const l=Jp(n,i,a);if(l===o||l===0||!isFinite(l))return[n,i];l>0?(n=Math.floor(n/l)*l,i=Math.ceil(i/l)*l):l<0&&(n=Math.ceil(n*l)/l,i=Math.floor(i*l)/l),o=l}}function jA(n){return Math.max(1,Math.ceil(Math.log($5(n))/Math.LN2)+1)}function QN(){var n=Gn,i=ru,a=jA;function o(l){Array.isArray(l)||(l=Array.from(l));var p,v=l.length,S,R,P=new Array(v);for(p=0;p<v;++p)P[p]=n(l[p],p,l);var I=i(P),k=I[0],z=I[1],te=a(P,k,z);if(!Array.isArray(te)){const ut=z,Mt=+te;if(i===ru&&([k,z]=nT(k,z,Mt)),te=Q5(k,z,Mt),te[0]<=k&&(R=Jp(k,z,Mt)),te[te.length-1]>=z)if(ut>=z&&i===ru){const en=Jp(k,z,Mt);isFinite(en)&&(en>0?z=(Math.floor(z/en)+1)*en:en<0&&(z=(Math.ceil(z*-en)+1)/-en))}else te.pop()}for(var de=te.length,be=0,Re=de;te[be]<=k;)++be;for(;te[Re-1]>z;)--Re;(be||Re<de)&&(te=te.slice(be,Re),de=Re-be);var Ie=new Array(de+1),it;for(p=0;p<=de;++p)it=Ie[p]=[],it.x0=p>0?te[p-1]:k,it.x1=p<de?te[p]:z;if(isFinite(R)){if(R>0)for(p=0;p<v;++p)(S=P[p])!=null&&k<=S&&S<=z&&Ie[Math.min(de,Math.floor((S-k)/R))].push(l[p]);else if(R<0){for(p=0;p<v;++p)if((S=P[p])!=null&&k<=S&&S<=z){const ut=Math.floor((k-S)*R);Ie[Math.min(de,ut+(te[ut]<=S))].push(l[p])}}}else for(p=0;p<v;++p)(S=P[p])!=null&&k<=S&&S<=z&&Ie[o0(te,S,0,de)].push(l[p]);return Ie}return o.value=function(l){return arguments.length?(n=typeof l=="function"?l:ZA(l),o):n},o.domain=function(l){return arguments.length?(i=typeof l=="function"?l:ZA([l[0],l[1]]),o):i},o.thresholds=function(l){return arguments.length?(a=typeof l=="function"?l:ZA(Array.isArray(l)?gI.call(l):l),o):a},o}function q5(n,i,a=0,o=1/0,l){if(i=Math.floor(i),a=Math.floor(Math.max(0,a)),o=Math.floor(Math.min(n.length-1,o)),!(a<=i&&i<=o))return n;for(l=l===void 0?Pd:Mh(l);o>a;){if(o-a>600){const R=o-a+1,P=i-a+1,I=Math.log(R),k=.5*Math.exp(2*I/3),z=.5*Math.sqrt(I*k*(R-k)/R)*(P-R/2<0?-1:1),te=Math.max(a,Math.floor(i-P*k/R+z)),de=Math.min(o,Math.floor(i+(R-P)*k/R+z));q5(n,i,te,de,l)}const p=n[i];let v=a,S=o;for(rT(n,a,i),l(n[o],p)>0&&rT(n,a,o);v<S;){for(rT(n,v,S),++v,--S;l(n[v],p)<0;)++v;for(;l(n[S],p)>0;)--S}l(n[a],p)===0?rT(n,a,S):(++S,rT(n,S,o)),S<=i&&(a=S+1),i<=S&&(o=S-1)}return n}function rT(n,i,a){const o=n[i];n[i]=n[a],n[a]=o}function _I(n,i=Sl){let a,o=!1;if(i.length===1){let l;for(const p of n){const v=i(p);(o?Sl(v,l)>0:Sl(v,v)===0)&&(a=p,l=v,o=!0)}}else for(const l of n)(o?i(l,a)>0:i(l,l)===0)&&(a=l,o=!0);return a}function HA(n,i,a){if(n=Float64Array.from(ep(n,a)),!(!(o=n.length)||isNaN(i=+i))){if(i<=0||o<2)return kh(n);if(i>=1)return ia(n);var o,l=(o-1)*i,p=Math.floor(l),v=ia(q5(n,p).subarray(0,p+1)),S=kh(n.subarray(p+1));return v+(S-v)*(l-p)}}function qN(n,i,a=number){if(!(!(o=n.length)||isNaN(i=+i))){if(i<=0||o<2)return+a(n[0],0,n);if(i>=1)return+a(n[o-1],o-1,n);var o,l=(o-1)*i,p=Math.floor(l),v=+a(n[p],p,n),S=+a(n[p+1],p+1,n);return v+(S-v)*(l-p)}}function bI(n,i,a=Zu){if(!isNaN(i=+i)){if(o=Float64Array.from(n,(S,R)=>Zu(a(n[R],R,n))),i<=0)return tv(o);if(i>=1)return ih(o);var o,l=Uint32Array.from(n,(S,R)=>R),p=o.length-1,v=Math.floor(p*i);return q5(l,v,0,p,(S,R)=>Pd(o[S],o[R])),v=_I(l.subarray(0,v+1),S=>o[S]),v>=0?v:-1}}function WA(n,i){return HA(n,.5,i)}function EI(n,i){return bI(n,.5,i)}var xI=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function Y1(n){return i=>i===null?n:`${n} of ${i}`}function J5(n){if(typeof n=="function")return[n,null];const a={mean:eM,max:TI,count:AI,first:CI,last:JN,sum:tM,min:SI,median:iT}[n];if(!a)throw new Error(`Unknown reducer: ${n}.`);return a()}function eM(){const n=(a,o)=>dx(a,l=>+o[l]),i=Y1("mean");return[n,i]}function iT(){const n=(a,o)=>WA(a,l=>+o[l]),i=Y1("median");return[n,i]}function TI(){const n=(a,o)=>ia(a,l=>+o[l]),i=Y1("max");return[n,i]}function SI(){const n=(a,o)=>kh(a,l=>+o[l]),i=Y1("min");return[n,i]}function AI(){const n=(a,o)=>a.length,i=Y1("count");return[n,i]}function tM(){const n=(a,o)=>Xi(a,l=>+o[l]),i=Y1("sum");return[n,i]}function CI(){const n=(a,o)=>o[a[0]],i=Y1("first");return[n,i]}function JN(){const n=(a,o)=>o[a[a.length-1]],i=Y1("last");return[n,i]}const VA=(n={})=>{const{groupBy:i}=n,a=xI(n,["groupBy"]);return(o,l)=>{const{data:p,encode:v}=l,S=i(o,l);if(!S)return[o,l];const R=(te,de)=>{if(te)return te;const{from:be}=de;if(!be)return te;const[,Re]=Zc(v,be);return Re},P=Object.entries(a).map(([te,de])=>{const[be,Re]=J5(de),[Ie,it]=Zc(v,te),ut=R(it,de),Mt=S.map(en=>be(en,Ie!=null?Ie:p));return[te,Object.assign(Object.assign({},Fb(Mt,(Re==null?void 0:Re(ut))||ut)),{aggregate:!0})]}),I=Object.keys(v).map(te=>{const[de,be]=Zc(v,te),Re=S.map(Ie=>de[Ie[0]]);return[te,jf(Re,be)]}),k=S.map(te=>p[te[0]]);return[wu(S),(0,Ui.Z)({},l,{data:k,encode:Object.fromEntries([...I,...P])})]}};VA.props={};var OI=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const nM="thresholds";function wI(n){const[i,a]=ru(n);return Math.min(200,pI(n,i,a))}const aT=(n={})=>{const{groupChannels:i=["color"],binChannels:a=["x","y"]}=n,o=OI(n,["groupChannels","binChannels"]),l={},p=(v,S)=>{const{encode:R}=S,P=a.map(de=>{const[be]=Zc(R,de);return be}),I=jt(o,nM),k=v.filter(de=>P.every(be=>Hn(be[de]))),z=[...i.map(de=>{const[be]=Zc(R,de);return be}).filter(Hn).map(de=>be=>de[be]),...a.map((de,be)=>{const Re=P[be],Ie=I[de]||wI(Re),it=QN().thresholds(Ie).value(Mt=>+Re[Mt])(k),ut=new Map(it.flatMap(Mt=>{const{x0:en,x1:Rn}=Mt,Jn=`${en},${Rn}`;return Mt.map(nr=>[nr,Jn])}));return l[de]=ut,Mt=>ut.get(Mt)})],te=de=>z.map(be=>be(de)).join("-");return Array.from(_e(k,te).values())};return VA(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(o).filter(([v])=>!v.startsWith(nM)))),Object.fromEntries(a.flatMap(v=>{const S=([P])=>+l[v].get(P).split(",")[0],R=([P])=>+l[v].get(P).split(",")[1];return R.from=v,[[v,S],[`${v}1`,R]]}))),{groupBy:p}))};aT.props={};const rM=(n={})=>{const{thresholds:i}=n;return aT(Object.assign(Object.assign({},n),{thresholdsX:i,groupChannels:["color"],binChannels:["x"]}))};rM.props={};var MI=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const iM=(n={})=>{const{groupBy:i="x",reverse:a=!1,orderBy:o,padding:l}=n,p=MI(n,["groupBy","reverse","orderBy","padding"]);return(v,S)=>{const{data:R,encode:P,scale:I}=S,{series:k}=I,[z]=Zc(P,"y"),[te]=Ub(P,"series","color"),de=V5(te,k),be=(0,Ui.Z)({},S,{scale:{series:{domain:de,paddingInner:l}}}),Re=G1(i,v,S),Ie=H5(o);if(!Ie)return[v,(0,Ui.Z)(be,{encode:{series:jf(te)}})];const it=Ie(R,z,te);it&&W5(Re,it);const ut=new Array(v.length);for(const Mt of Re){a&&Mt.reverse();for(let en=0;en<Mt.length;en++)ut[Mt[en]]=de[en]}return[v,(0,Ui.Z)(be,{encode:{series:jf(o?ut:te)}})]}};iM.props={};function vg(n,i,a){if(n===null)return[-.5,.5];const o=V5(n,i),p=new qE.t({domain:o,range:[0,1],padding:a}).getBandWidth();return[-p/2,p/2]}function oT(n,i,a){return i*(1-n)+a*n}const aM=(n={})=>{const{padding:i=0,paddingX:a=i,paddingY:o=i,random:l=Math.random}=n;return(p,v)=>{const{encode:S,scale:R}=v,{x:P,y:I}=R,[k]=Zc(S,"x"),[z]=Zc(S,"y"),te=vg(k,P,a),de=vg(z,I,o),be=p.map(()=>oT(l(),...de)),Re=p.map(()=>oT(l(),...te));return[p,(0,Ui.Z)({scale:{x:{padding:.5},y:{padding:.5}}},v,{encode:{dy:jf(be),dx:jf(Re)}})]}};aM.props={};const GA=(n={})=>{const{padding:i=0,random:a=Math.random}=n;return(o,l)=>{const{encode:p,scale:v}=l,{x:S}=v,[R]=Zc(p,"x"),P=vg(R,S,i),I=o.map(()=>oT(a(),...P));return[o,(0,Ui.Z)({scale:{x:{padding:.5}}},l,{encode:{dx:jf(I)}})]}};GA.props={};const oM=(n={})=>{const{padding:i=0,random:a=Math.random}=n;return(o,l)=>{const{encode:p,scale:v}=l,{y:S}=v,[R]=Zc(p,"y"),P=vg(R,S,i),I=o.map(()=>oT(a(),...P));return[o,(0,Ui.Z)({scale:{y:{padding:.5}}},l,{encode:{dy:jf(I)}})]}};oM.props={};var RI=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const YA=(n={})=>{const{groupBy:i="x"}=n;return(a,o)=>{const{encode:l}=o,{x:p}=l,v=RI(l,["x"]),S=Object.entries(v).filter(([z])=>z.startsWith("y")).map(([z])=>[z,Zc(l,z)[0]]),R=S.map(([z])=>[z,new Array(a.length)]),P=G1(i,a,o),I=new Array(P.length);for(let z=0;z<P.length;z++){const de=P[z].flatMap(Ie=>S.map(([,it])=>+it[Ie])),[be,Re]=ru(de);I[z]=(be+Re)/2}const k=Math.max(...I);for(let z=0;z<P.length;z++){const te=k-I[z],de=P[z];for(const be of de)for(let Re=0;Re<S.length;Re++){const[,Ie]=S[Re],[,it]=R[Re];it[be]=+Ie[be]+te}}return[a,(0,Ui.Z)({},o,{encode:Object.fromEntries(R.map(([z,te])=>[z,jf(te,Zc(l,z)[1])]))})]}};YA.props={};const $A=(n={})=>{const{groupBy:i="x",series:a=!0}=n;return(o,l)=>{const{encode:p}=l,[v]=Zc(p,"y"),[S,R]=Zc(p,"y1"),[P]=a?Ub(p,"series","color"):Zc(p,"color"),I=G1(i,o,l),k=new Array(o.length);for(const z of I){const te=z.map(de=>+v[de]);for(let de=0;de<z.length;de++){const be=z[de],Re=Math.max(...te.filter((Ie,it)=>it!==de));k[be]=+v[be]>Re?Re:v[be]}}return[o,(0,Ui.Z)({},l,{encode:{y1:jf(k,R)}})]}};$A.props={};const sM=n=>{const{groupBy:i=["x"],reducer:a=(v,S)=>S[v[0]],orderBy:o=null,reverse:l=!1,duration:p}=n;return(v,S)=>{const{encode:R}=S,I=(Array.isArray(i)?i:[i]).map(Re=>[Re,Zc(R,Re)[0]]);if(I.length===0)return[v,S];let k=[v];for(const[,Re]of I){const Ie=[];for(const it of k){const ut=Array.from(_e(it,Mt=>Re[Mt]).values());Ie.push(...ut)}k=Ie}if(o){const[Re]=Zc(R,o);Re&&k.sort((Ie,it)=>a(Ie,Re)-a(it,Re)),l&&k.reverse()}const z=(p||3e3)/k.length,[te]=p?[Vm(v,z)]:Ub(R,"enterDuration",Vm(v,z)),[de]=Ub(R,"enterDelay",Vm(v,0)),be=new Array(v.length);for(let Re=0,Ie=0;Re<k.length;Re++){const it=k[Re],ut=ia(it,Mt=>+te[Mt]);for(const Mt of it)be[Mt]=+de[Mt]+Ie;Ie+=ut}return[v,(0,Ui.Z)({},S,{encode:{enterDuration:Yy(te),enterDelay:Yy(be)}})]}};sM.props={};var PI=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function II(n){return typeof n=="function"?n:{min:(a,o)=>kh(a,l=>o[+l]),max:(a,o)=>ia(a,l=>o[+l]),first:(a,o)=>o[a[0]],last:(a,o)=>o[a[a.length-1]],mean:(a,o)=>dx(a,l=>o[+l]),median:(a,o)=>WA(a,l=>o[+l]),sum:(a,o)=>Xi(a,l=>o[+l]),deviation:(a,o)=>X5(a,l=>o[+l])}[n]||ia}const _x=(n={})=>{const{groupBy:i="x",basis:a="max"}=n;return(o,l)=>{const{encode:p,tooltip:v}=l,{x:S}=p,R=PI(p,["x"]),P=Object.entries(R).filter(([be])=>be.startsWith("y")).map(([be])=>[be,Zc(p,be)[0]]),[,I]=P.find(([be])=>be==="y"),k=P.map(([be])=>[be,new Array(o.length)]),z=G1(i,o,l),te=II(a);for(const be of z){const Re=te(be,I);for(const Ie of be)for(let it=0;it<P.length;it++){const[,ut]=P[it],[,Mt]=k[it];Mt[Ie]=+ut[Ie]/Re}}const de=$i(v)||(v==null?void 0:v.items)&&(v==null?void 0:v.items.length)!==0;return[o,(0,Ui.Z)({},l,Object.assign({encode:Object.fromEntries(k.map(([be,Re])=>[be,jf(Re,Zc(p,be)[1])]))},!de&&p.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};_x.props={};function yg(n,i){return[n[0]]}function bx(n,i){const a=n.length-1;return[n[a]]}function sT(n,i){const a=ih(n,o=>i[o]);return[n[a]]}function eD(n,i){const a=tv(n,o=>i[o]);return[n[a]]}function tD(n){return typeof n=="function"?n:{first:yg,last:bx,max:sT,min:eD}[n]||yg}const iv=(n={})=>{const{groupBy:i="series",channel:a,selector:o}=n;return(l,p)=>{const{encode:v}=p,S=G1(i,l,p),[R]=Zc(v,a),P=tD(o);return[S.flatMap(I=>P(I,R)),p]}};iv.props={};var dm=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const XA=(n={})=>{const{selector:i}=n,a=dm(n,["selector"]);return iv(Object.assign({channel:"x",selector:i},a))};XA.props={};var qv=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const KA=(n={})=>{const{selector:i}=n,a=qv(n,["selector"]);return iv(Object.assign({channel:"y",selector:i},a))};KA.props={};var QA=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const d_=(n={})=>{const{channels:i=["x","y"]}=n,a=QA(n,["channels"]),o=(l,p)=>G1(i,l,p);return VA(Object.assign(Object.assign({},a),{groupBy:o}))};d_.props={};const uM=(n={})=>d_(Object.assign(Object.assign({},n),{channels:["x","color","series"]}));uM.props={};const qA=(n={})=>d_(Object.assign(Object.assign({},n),{channels:["y","color","series"]}));qA.props={};const lM=(n={})=>d_(Object.assign(Object.assign({},n),{channels:["color"]}));lM.props={};function uT(n,i,a){return(i.length!==2?hd(tn(n,i,a),([o,l],[p,v])=>Sl(l,v)||Sl(o,p)):hd(_e(n,a),([o,l],[p,v])=>i(l,v)||Sl(o,p))).map(([o])=>o)}var lT=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function nD(n,i,a){const{by:o=n,reducer:l="max"}=i,[p]=Zc(a,o);if(typeof l=="function")return v=>l(v,p);if(l==="max")return v=>ia(v,S=>+p[S]);if(l==="min")return v=>kh(v,S=>+p[S]);if(l==="sum")return v=>Xi(v,S=>+p[S]);if(l==="median")return v=>WA(v,S=>+p[S]);if(l==="mean")return v=>dx(v,S=>+p[S]);if(l==="first")return v=>p[v[0]];if(l==="last")return v=>p[v[v.length-1]];throw new Error(`Unknown reducer: ${l}`)}function cM(n,i,a){const{reverse:o,channel:l}=a,{encode:p}=i,[v]=Zc(p,l),S=hd(n,R=>v[R]);return o&&S.reverse(),[S,i]}function rD(n,i,a){if(!Array.isArray(a))return n;const o=new Set(a);return n.filter(l=>o.has(i[l]))}function LI(n,i,a){var o;const{reverse:l,slice:p,channel:v}=a,S=lT(a,["reverse","slice","channel"]),{encode:R,scale:P={}}=i,I=(o=P[v])===null||o===void 0?void 0:o.domain,[k]=Zc(R,v),z=nD(v,S,R),te=rD(n,k,I),de=uT(te,z,Ie=>k[Ie]);l&&de.reverse();const be=typeof p=="number"?[0,p]:p,Re=p?de.slice(...be):de;return[n,(0,Ui.Z)(i,{scale:{[v]:{domain:Re}}})]}const cT=(n={})=>{const{reverse:i=!1,slice:a,channel:o,ordinal:l=!0}=n,p=lT(n,["reverse","slice","channel","ordinal"]);return(v,S)=>l?LI(v,S,Object.assign({reverse:i,slice:a,channel:o},p)):cM(v,S,Object.assign({reverse:i,slice:a,channel:o},p))};cT.props={};const fM=(n={})=>cT(Object.assign(Object.assign({},n),{channel:"x"}));fM.props={};const dM=(n={})=>cT(Object.assign(Object.assign({},n),{channel:"y"}));dM.props={};const JA=(n={})=>cT(Object.assign(Object.assign({},n),{channel:"color"}));JA.props={};function hM(n,i){return typeof i=="string"?n.map(a=>a[i]):n.map(i)}function NI(n,i){if(typeof n=="function")return a=>n(a,i);if(n==="sum")return a=>Xi(a,o=>+i[o]);throw new Error(`Unknown reducer: ${n}`)}const pM=(n={})=>{const{field:i,channel:a="y",reducer:o="sum"}=n;return(l,p)=>{const{data:v,encode:S}=p,[R]=Zc(S,"x"),P=i?hM(v,i):Zc(S,a)[0],I=NI(o,P),k=It(l,I,z=>R[z]).map(z=>z[1]);return[l,(0,Ui.Z)({},p,{scale:{x:{flex:k}}})]}};pM.props={};function eC(n){const{padding:i=0,direction:a="col"}=n;return(o,l,p)=>{const v=o.length;if(v===0)return[];const{innerWidth:S,innerHeight:R}=p,P=R/S;let I=Math.ceil(Math.sqrt(l/P)),k=S/I,z=Math.ceil(l/I),te=z*k;for(;te>R;)I=I+1,k=S/I,z=Math.ceil(l/I),te=z*k;const de=R-z*k,be=z<=1?0:de/(z-1),[Re,Ie]=z<=1?[(S-v*k)/(v-1),(R-k)/2]:[0,0];return o.map((it,ut)=>{const[Mt,en,Rn,Jn]=js(it),nr=a==="col"?ut%I:Math.floor(ut/z),mr=a==="col"?Math.floor(ut/I):ut%z,Vr=nr*k,Hr=(z-mr-1)*k+de,fi=(k-i)/Rn,dr=(k-i)/Jn,_r=Vr-Mt+Re*nr+1/2*i,lr=Hr-en-be*mr-Ie+1/2*i;return`translate(${_r}, ${lr}) scale(${fi}, ${dr})`})}}const av=n=>(i,a)=>[i,(0,Ui.Z)({},a,{modifier:eC(n),axis:!1})];av.props={};function tC(n,i,a,o){const l=n.length;if(o>=l||o===0)return n;const p=te=>i[n[te]]*1,v=te=>a[n[te]]*1,S=[],R=(l-2)/(o-2);let P=0,I,k,z;S.push(P);for(let te=0;te<o-2;te++){let de=0,be=0,Re=Math.floor((te+1)*R)+1,Ie=Math.floor((te+2)*R)+1;Ie=Math.min(Ie,l);const it=Ie-Re;for(;Re<Ie;Re++)de+=p(Re),be+=v(Re);de/=it,be/=it;let ut=Math.floor((te+0)*R)+1;const Mt=Math.floor((te+1)*R)+1,en=[p(P),v(P)];for(I=k=-1;ut<Mt;ut++)k=Math.abs((en[0]-de)*(p(ut)-en[1])-(en[0]-v(ut))*(be-en[0]))*.5,k>I&&(I=k,z=ut);S.push(z),P=z}return S.push(l-1),S.map(te=>n[te])}function fT(n){if(typeof n=="function")return n;if(n==="lttb")return tC;const i={first:o=>[o[0]],last:o=>[o[o.length-1]],min:(o,l,p)=>[o[tv(o,v=>p[v])]],max:(o,l,p)=>[o[ih(o,v=>p[v])]],median:(o,l,p)=>[o[EI(o,v=>p[v])]]},a=i[n]||i.median;return(o,l,p,v)=>{const S=Math.max(1,Math.floor(o.length/v));return DI(o,S).flatMap(P=>a(P,l,p))}}function DI(n,i){const a=n.length,o=[];let l=0;for(;l<a;)o.push(n.slice(l,l+=i));return o}const gM=(n={})=>{const{strategy:i="median",thresholds:a=2e3,groupBy:o=["series","color"]}=n,l=fT(i);return(p,v)=>{const{encode:S}=v,R=G1(o,p,v),[P]=Zc(S,"x"),[I]=Zc(S,"y");return[R.flatMap(k=>l(k,P,I,a)),v]}};gM.props={};function kI(n){return typeof n=="object"?[n.value,n.ordinal]:[n,!0]}function BI(n){var i;const{encode:a}=n,o=Object.assign(Object.assign({},n),{encode:Object.assign(Object.assign({},n.encode),{y:Object.assign(Object.assign({},n.encode.y),{value:[]})})}),l=(i=a==null?void 0:a.color)===null||i===void 0?void 0:i.field;if(!a||!l)return o;let p;for(const[v,S]of Object.entries(a))(v==="x"||v==="y")&&S.field===l&&(p=Object.assign(Object.assign({},p),{[v]:Object.assign(Object.assign({},S),{value:[]})}));return p?Object.assign(Object.assign({},n),{encode:Object.assign(Object.assign({},n.encode),p)}):o}const nC=(n={})=>(i,a)=>{const{encode:o,data:l}=a,p=Object.entries(n).map(([I,k])=>{const[z]=Zc(o,I);if(!z)return null;const[te,de=!0]=kI(k);if(typeof te=="function")return be=>te(z[be]);if(de){const be=Array.isArray(te)?te:[te];return be.length===0?null:Re=>be.includes(z[Re])}else{const[be,Re]=te;return Ie=>z[Ie]>=be&&z[Ie]<=Re}}).filter(Hn),v=I=>p.every(k=>k(I)),S=i.filter(v),R=S.map((I,k)=>k);if(p.length===0){const I=BI(a);return[i,I]}const P=Object.entries(o).map(([I,k])=>[I,Object.assign(Object.assign({},k),{value:R.map(z=>k.value[S[z]]).filter(z=>z!==void 0)})]);return[R,(0,Ui.Z)({},a,{encode:Object.fromEntries(P),data:S.map(I=>l[I])})]};nC.props={};var $1={},dT={},rC=34,Ex=10,xx=13;function mM(n){return new Function("d","return {"+n.map(function(i,a){return JSON.stringify(i)+": d["+a+'] || ""'}).join(",")+"}")}function vM(n,i){var a=mM(n);return function(o,l){return i(a(o),l,n)}}function yM(n){var i=Object.create(null),a=[];return n.forEach(function(o){for(var l in o)l in i||a.push(i[l]=l)}),a}function Hh(n,i){var a=n+"",o=a.length;return o<i?new Array(i-o+1).join(0)+a:a}function hm(n){return n<0?"-"+Hh(-n,6):n>9999?"+"+Hh(n,6):Hh(n,4)}function ov(n){var i=n.getUTCHours(),a=n.getUTCMinutes(),o=n.getUTCSeconds(),l=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":hm(n.getUTCFullYear(),4)+"-"+Hh(n.getUTCMonth()+1,2)+"-"+Hh(n.getUTCDate(),2)+(l?"T"+Hh(i,2)+":"+Hh(a,2)+":"+Hh(o,2)+"."+Hh(l,3)+"Z":o?"T"+Hh(i,2)+":"+Hh(a,2)+":"+Hh(o,2)+"Z":a||i?"T"+Hh(i,2)+":"+Hh(a,2)+"Z":"")}function Jv(n){var i=new RegExp('["'+n+`
\r]`),a=n.charCodeAt(0);function o(k,z){var te,de,be=l(k,function(Re,Ie){if(te)return te(Re,Ie-1);de=Re,te=z?vM(Re,z):mM(Re)});return be.columns=de||[],be}function l(k,z){var te=[],de=k.length,be=0,Re=0,Ie,it=de<=0,ut=!1;k.charCodeAt(de-1)===Ex&&--de,k.charCodeAt(de-1)===xx&&--de;function Mt(){if(it)return dT;if(ut)return ut=!1,$1;var Rn,Jn=be,nr;if(k.charCodeAt(Jn)===rC){for(;be++<de&&k.charCodeAt(be)!==rC||k.charCodeAt(++be)===rC;);return(Rn=be)>=de?it=!0:(nr=k.charCodeAt(be++))===Ex?ut=!0:nr===xx&&(ut=!0,k.charCodeAt(be)===Ex&&++be),k.slice(Jn+1,Rn-1).replace(/""/g,'"')}for(;be<de;){if((nr=k.charCodeAt(Rn=be++))===Ex)ut=!0;else if(nr===xx)ut=!0,k.charCodeAt(be)===Ex&&++be;else if(nr!==a)continue;return k.slice(Jn,Rn)}return it=!0,k.slice(Jn,de)}for(;(Ie=Mt())!==dT;){for(var en=[];Ie!==$1&&Ie!==dT;)en.push(Ie),Ie=Mt();z&&(en=z(en,Re++))==null||te.push(en)}return te}function p(k,z){return k.map(function(te){return z.map(function(de){return I(te[de])}).join(n)})}function v(k,z){return z==null&&(z=yM(k)),[z.map(I).join(n)].concat(p(k,z)).join(`
`)}function S(k,z){return z==null&&(z=yM(k)),p(k,z).join(`
`)}function R(k){return k.map(P).join(`
`)}function P(k){return k.map(I).join(n)}function I(k){return k==null?"":k instanceof Date?ov(k):i.test(k+="")?'"'+k.replace(/"/g,'""')+'"':k}return{parse:o,parseRows:l,format:v,formatBody:S,formatRows:R,formatRow:P,formatValue:I}}function iC(n){for(var i in n){var a=n[i].trim(),o,l;if(!a)a=null;else if(a==="true")a=!0;else if(a==="false")a=!1;else if(a==="NaN")a=NaN;else if(!isNaN(o=+a))a=o;else if(l=a.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))_M&&l[4]&&!l[7]&&(a=a.replace(/-/g,"/").replace(/T/," ")),a=new Date(a);else continue;n[i]=a}return n}const _M=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var iD=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})};const FI=n=>{const{value:i,format:a=i.split(".").pop(),delimiter:o=",",autoType:l=!0}=n;return()=>iD(void 0,void 0,void 0,function*(){const p=yield fetch(i);if(a==="csv"){const v=yield p.text();return Jv(o).parse(v,l?iC:st)}else if(a==="json")return yield p.json();throw new Error(`Unknown format: ${a}.`)})};FI.props={};const bM=n=>{const{value:i}=n;return()=>i};bM.props={};function UI(n,i){return n.map(a=>{if(Array.isArray(a)){const[o,l=i]=a;return[o,l]}return[a,i]})}const EM=n=>{const{fields:i=[]}=n,a=UI(i,!0);return o=>{const l=(p,v)=>a.reduce((S,[R,P=!0])=>S!==0?S:P?p[R]<v[R]?-1:+(p[R]!==v[R]):p[R]>v[R]?-1:+(p[R]!==v[R]),0);return[...o].sort(l)}};EM.props={};function zI(n){return n!=null&&!Number.isNaN(n)}const aC=n=>{const{callback:i}=n;return a=>Array.isArray(a)?[...a].sort(i):a};aC.props={};function xM(n){return n!=null&&!Number.isNaN(n)}const TM=n=>{const{callback:i=xM}=n;return a=>a.filter(i)};TM.props={};function ZI(n,i=[]){return i.reduce((a,o)=>(o in n&&(a[o]=n[o]),a),{})}const SM=n=>{const{fields:i}=n;return a=>a.map(o=>ZI(o,i))};SM.props={};function jI(n){return Object.keys(n).length===0}const _g=n=>i=>{if(!n||jI(n))return i;const a=o=>Object.entries(o).reduce((l,[p,v])=>(l[n[p]||p]=v,l),{});return i.map(a)};_g.props={};function sv(n){return!n||Object.keys(n).length===0}const h_=n=>{const{fields:i,key:a="key",value:o="value"}=n;return l=>sv(i)?l:l.flatMap(p=>i.map(v=>Object.assign(Object.assign({},p),{[a]:v,[o]:p[v]})))};h_.props={};const AM=n=>{const{start:i,end:a}=n;return o=>o.slice(i,a)};AM.props={};const CM=n=>{const{callback:i=st}=n;return a=>i(a)};CM.props={};const gh=n=>{const{callback:i=st}=n;return a=>Array.isArray(a)?a.map(i):a};gh.props={};function OM(n){return typeof n=="string"?i=>i[n]:n}const hT=n=>{const{join:i,on:a,select:o=[],as:l=o,unknown:p=NaN}=n,[v,S]=a,R=OM(S),P=OM(v),I=tn(i,([k])=>k,k=>R(k));return k=>k.map(z=>{const te=I.get(P(z));return Object.assign(Object.assign({},z),o.reduce((de,be,Re)=>(de[l[Re]]=te?te[be]:p,de),{}))})};hT.props={};var oC=A(78434),wM=A.n(oC);function aD(n){return n!=null&&!Number.isNaN(n)}const sC=n=>{const{field:i,groupBy:a,as:o=["y","size"],min:l,max:p,size:v=10,width:S}=n,[R,P]=o;return I=>Array.from(_e(I,z=>a.map(te=>z[te]).join("-")).values()).map(z=>{const te=wM().create(z.map(Re=>Re[i]),{min:l,max:p,size:v,width:S}),de=te.map(Re=>Re.x),be=te.map(Re=>Re.y);return Object.assign(Object.assign({},z[0]),{[R]:de,[P]:be})})};sC.props={};const uC=()=>n=>(console.log("G2 data section:",n),n);uC.props={};var Bf=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})};function MM(n,i){return{set(a,o,l){if(i[a]===void 0)return this;const p=o?o.call(null,i[a]):i[a];return l?l.call(null,p):typeof n[a]=="function"?n[a](p):n[a]=p,this},setAsync(a,o,l){return Bf(this,void 0,void 0,function*(){if(i[a]===void 0)return this;const p=o?yield o.call(null,i[a]):i[a];return l?l.call(null,p):typeof n[a]=="function"?n[a](p):n[a]=p,this})}}}const pT=Math.PI/180,X1=64,p_=2048;function RM(n){return n.text}function HI(){return"serif"}function gT(){return"normal"}function WI(n){return n.value}function VI(){return~~(Math.random()*2)*90}function bg(){return 1}function GI(){}function _f(n,i,a,o){if(i.sprite)return;const l=n.context,p=n.ratio;l.clearRect(0,0,(X1<<5)/p,p_/p);let v=0,S=0,R=0;const P=a.length;for(--o;++o<P;){i=a[o],l.save(),l.font=i.style+" "+i.weight+" "+~~((i.size+1)/p)+"px "+i.font;let z=l.measureText(i.text+"m").width*p,te=i.size<<1;if(i.rotate){const de=Math.sin(i.rotate*pT),be=Math.cos(i.rotate*pT),Re=z*be,Ie=z*de,it=te*be,ut=te*de;z=Math.max(Math.abs(Re+ut),Math.abs(Re-ut))+31>>5<<5,te=~~Math.max(Math.abs(Ie+it),Math.abs(Ie-it))}else z=z+31>>5<<5;if(te>R&&(R=te),v+z>=X1<<5&&(v=0,S+=R,R=0),S+te>=p_)break;l.translate((v+(z>>1))/p,(S+(te>>1))/p),i.rotate&&l.rotate(i.rotate*pT),l.fillText(i.text,0,0),i.padding&&(l.lineWidth=2*i.padding,l.strokeText(i.text,0,0)),l.restore(),i.width=z,i.height=te,i.xoff=v,i.yoff=S,i.x1=z>>1,i.y1=te>>1,i.x0=-i.x1,i.y0=-i.y1,i.hasText=!0,v+=z}const I=l.getImageData(0,0,(X1<<5)/p,p_/p).data,k=[];for(;--o>=0;){if(i=a[o],!i.hasText)continue;const z=i.width,te=z>>5;let de=i.y1-i.y0;for(let Ie=0;Ie<de*te;Ie++)k[Ie]=0;if(v=i.xoff,v==null)return;S=i.yoff;let be=0,Re=-1;for(let Ie=0;Ie<de;Ie++){for(let it=0;it<z;it++){const ut=te*Ie+(it>>5),Mt=I[(S+Ie)*(X1<<5)+(v+it)<<2]?1<<31-it%32:0;k[ut]|=Mt,be|=Mt}be?Re=Ie:(i.y0++,de--,Ie--,S++)}i.y1=i.y0+Re,i.sprite=k.slice(0,(i.y1-i.y0)*te)}}function pm(n,i,a){a>>=5;const o=n.sprite,l=n.width>>5,p=n.x-(l<<4),v=p&127,S=32-v,R=n.y1-n.y0;let P=(n.y+n.y0)*a+(p>>5),I;for(let k=0;k<R;k++){I=0;for(let z=0;z<=l;z++)if((I<<S|(z<l?(I=o[k*l+z])>>>v:0))&i[P+z])return!0;P+=a}return!1}function PM(n,i){const a=n[0],o=n[1];i.x+i.x0<a.x&&(a.x=i.x+i.x0),i.y+i.y0<a.y&&(a.y=i.y+i.y0),i.x+i.x1>o.x&&(o.x=i.x+i.x1),i.y+i.y1>o.y&&(o.y=i.y+i.y1)}function oD(n,i){return n.x+n.x1>i[0].x&&n.x+n.x0<i[1].x&&n.y+n.y1>i[0].y&&n.y+n.y0<i[1].y}function IM(n){const i=n[0]/n[1];return function(a){return[i*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function YI(n){const a=4*n[0]/n[1];let o=0,l=0;return function(p){const v=p<0?-1:1;switch(Math.sqrt(1+4*v*p)-v&3){case 0:o+=a;break;case 1:l+=4;break;case 2:o-=a;break;default:l-=4;break}return[o,l]}}function mT(n){const i=[];let a=-1;for(;++a<n;)i[a]=0;return i}function zg(){return document.createElement("canvas")}function uv(n){return typeof n=="function"?n:function(){return n}}const lC={archimedean:IM,rectangular:YI};function Oc(){let n=[256,256],i=RM,a=HI,o=WI,l=gT,p=VI,v=bg,S=IM,R=Math.random,P=GI,I=[],k=null,z=1/0,te=zg;const de=gT,be={};be.start=function(){const[it,ut]=n,Mt=Re(te()),en=be.board?be.board:mT((n[0]>>5)*n[1]),Rn=I.length,Jn=[],nr=I.map(function(fi,dr,_r){return fi.text=i.call(this,fi,dr,_r),fi.font=a.call(this,fi,dr,_r),fi.style=de.call(this,fi,dr,_r),fi.weight=l.call(this,fi,dr,_r),fi.rotate=p.call(this,fi,dr,_r),fi.size=~~o.call(this,fi,dr,_r),fi.padding=v.call(this,fi,dr,_r),fi}).sort(function(fi,dr){return dr.size-fi.size});let mr=-1,Vr=be.board?[{x:0,y:0},{x:it,y:ut}]:void 0;k&&clearInterval(k),k=setInterval(Hr,0),Hr();function Hr(){const fi=Date.now();for(;Date.now()-fi<z&&++mr<Rn;){const dr=nr[mr];dr.x=it*(R()+.5)>>1,dr.y=ut*(R()+.5)>>1,_f(Mt,dr,nr,mr),dr.hasText&&Ie(en,dr,Vr)&&(P.call(null,"word",{cloud:be,word:dr}),Jn.push(dr),Vr?be.hasImage||PM(Vr,dr):Vr=[{x:dr.x+dr.x0,y:dr.y+dr.y0},{x:dr.x+dr.x1,y:dr.y+dr.y1}],dr.x-=n[0]>>1,dr.y-=n[1]>>1)}be._tags=Jn,be._bounds=Vr,mr>=Rn&&(be.stop(),P.call(null,"end",{cloud:be,words:Jn,bounds:Vr}))}return be},be.stop=function(){return k&&(clearInterval(k),k=null),be};function Re(it){it.width=it.height=1;const ut=Math.sqrt(it.getContext("2d").getImageData(0,0,1,1).data.length>>2);it.width=(X1<<5)/ut,it.height=p_/ut;const Mt=it.getContext("2d");return Mt.fillStyle=Mt.strokeStyle="red",Mt.textAlign="center",Mt.textBaseline="middle",{context:Mt,ratio:ut}}function Ie(it,ut,Mt){const en=ut.x,Rn=ut.y,Jn=Math.sqrt(n[0]*n[0]+n[1]*n[1]),nr=S(n),mr=R()<.5?1:-1;let Vr,Hr=-mr,fi,dr;for(;(Vr=nr(Hr+=mr))&&(fi=~~Vr[0],dr=~~Vr[1],!(Math.min(Math.abs(fi),Math.abs(dr))>=Jn));)if(ut.x=en+fi,ut.y=Rn+dr,!(ut.x+ut.x0<0||ut.y+ut.y0<0||ut.x+ut.x1>n[0]||ut.y+ut.y1>n[1])&&(!Mt||!pm(ut,it,n[0]))&&(!Mt||oD(ut,Mt))){const _r=ut.sprite,lr=ut.width>>5,hr=n[0]>>5,Ti=ut.x-(lr<<4),Rr=Ti&127,Gr=32-Rr,Qi=ut.y1-ut.y0;let ga,ya=(ut.y+ut.y0)*hr+(Ti>>5);for(let Ea=0;Ea<Qi;Ea++){ga=0;for(let go=0;go<=lr;go++)it[ya+go]|=ga<<Gr|(go<lr?(ga=_r[Ea*lr+go])>>>Rr:0);ya+=hr}return delete ut.sprite,!0}return!1}return be.createMask=it=>{const ut=document.createElement("canvas"),[Mt,en]=n;if(!Mt||!en)return;const Rn=Mt>>5,Jn=mT((Mt>>5)*en);ut.width=Mt,ut.height=en;const nr=ut.getContext("2d");nr.drawImage(it,0,0,it.width,it.height,0,0,Mt,en);const mr=nr.getImageData(0,0,Mt,en).data;for(let Vr=0;Vr<en;Vr++)for(let Hr=0;Hr<Mt;Hr++){const fi=Rn*Vr+(Hr>>5),dr=Vr*Mt+Hr<<2,lr=mr[dr]>=250&&mr[dr+1]>=250&&mr[dr+2]>=250?1<<31-Hr%32:0;Jn[fi]|=lr}be.board=Jn,be.hasImage=!0},be.timeInterval=function(it){z=it==null?1/0:it},be.words=function(it){I=it},be.size=function(it=[]){n=[+it[0],+it[1]]},be.text=function(it){i=uv(it)},be.font=function(it){a=uv(it)},be.fontWeight=function(it){l=uv(it)},be.rotate=function(it){p=uv(it)},be.canvas=function(it){te=uv(it)},be.spiral=function(it){S=lC[it]||it},be.fontSize=function(it){o=uv(it)},be.padding=function(it){v=uv(it)},be.random=function(it){R=uv(it)},be.on=function(it){P=uv(it)},be}var $I=function(n,i,a,o){function l(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function S(I){try{P(o.next(I))}catch(k){v(k)}}function R(I){try{P(o.throw(I))}catch(k){v(k)}}function P(I){I.done?p(I.value):l(I.value).then(S,R)}P((o=o.apply(n,i||[])).next())})},XI=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const KI={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function LM(n){return new Promise((i,a)=>{if(n instanceof HTMLImageElement){i(n);return}if(typeof n=="string"){const o=new Image;o.crossOrigin="anonymous",o.src=n,o.onload=()=>i(o),o.onerror=()=>{console.error(`'image ${n} load failed !!!'`),a()};return}a()})}function QI(n,i){if(typeof n=="function")return n;if(Array.isArray(n)){const[a,o]=n;if(!i)return()=>(o+a)/2;const[l,p]=i;return p===l?()=>(o+a)/2:({value:v})=>(o-a)/(p-l)*(v-l)+a}return()=>n}const qI=(n,i)=>a=>$I(void 0,void 0,void 0,function*(){const o=Object.assign({},KI,n,{canvas:i.createCanvas}),l=Oc();yield MM(l,o).set("fontSize",it=>{const ut=a.map(Mt=>Mt.value);return QI(it,[kh(ut),ia(ut)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",LM,l.createMask),l.words([...a]);const p=l.start(),[v,S]=o.size,R=[{x:0,y:0},{x:v,y:S}],{_bounds:P=R,_tags:I,hasImage:k}=p,z=I.map(it=>{var{x:ut,y:Mt,font:en}=it,Rn=XI(it,["x","y","font"]);return Object.assign(Object.assign({},Rn),{x:ut+v/2,y:Mt+S/2,fontFamily:en})}),[{x:te,y:de},{x:be,y:Re}]=P,Ie={text:"",value:0,opacity:0,fontSize:0};return z.push(Object.assign(Object.assign({},Ie),{x:k?0:te,y:k?0:de}),Object.assign(Object.assign({},Ie),{x:k?v:be,y:k?S:Re})),z});qI.props={};function NM(n){const{min:i,max:a}=n;return[[i[0],i[1]],[a[0],a[1]]]}function JI(n,i){const[a,o]=n,[l,p]=i;return a>=l[0]&&a<=p[0]&&o>=l[1]&&o<=p[1]}function sD(n,i){const[a,o]=n;return!(JI(a,i)&&JI(o,i))}function uD(n,i){const[a,o]=n,[l,p]=i;return a[0]<p[0]&&o[0]>l[0]&&a[1]<p[1]&&o[1]>l[1]}const lD=n=>{const{priority:i}=n;return a=>{const o=[];return i&&a.sort(i),a.forEach(l=>{Kf(l);const p=l.getLocalBounds();o.some(S=>uD(NM(p),NM(S.getLocalBounds())))?Dh(l):o.push(l)}),a}};function cD([n,i],[a,o]){return o>n&&i>a}function cC(){const n=new Map;return[o=>n.get(o),(o,l)=>n.set(o,l)]}function fD(n){const i=n.cloneNode(!0),a=i.getElementById("connector");a&&i.removeChild(a);const{min:o,max:l}=i.getRenderBounds();return i.destroy(),{min:o,max:l}}const dD=n=>{const{maxIterations:i=10,maxError:a=.1,padding:o=1}=n;return l=>{const p=l.length;if(p<=1)return l;const[v,S]=cC(),[R,P]=cC(),[I,k]=cC(),[z,te]=cC();for(const de of l){const{min:be,max:Re}=fD(de),[Ie,it]=be,[ut,Mt]=Re;S(de,it),P(de,it),k(de,Mt-it),te(de,[Ie,ut])}for(let de=0;de<i;de++){l.sort((Re,Ie)=>Sl(R(Re),R(Ie)));let be=0;for(let Re=0;Re<p-1;Re++){const Ie=l[Re];let it=Re+1,ut;for(;(ut=l[it])&&!cD(z(Ie),z(ut));)it+=1;if(ut){const Mt=R(Ie),en=I(Ie),Rn=R(ut),Jn=Rn-(Mt+en);if(Jn<o){const nr=(o-Jn)/2;be=Math.max(be,nr),P(Ie,Mt-nr),P(ut,Rn+nr)}}}if(be<a)break}for(const de of l)de.style.y+=R(de)-v(de);return l}},eL=()=>n=>(n.forEach(i=>{Kf(i);const a=i.attr("bounds"),o=i.getLocalBounds();sD(NM(o),a)&&Dh(i)}),n);function hD(n){return typeof n=="object"?n:(0,Oe.lu)(n)}function DM(n){let i=n/255;return i=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),i}function tL(n,i,a){return .2126*DM(n)+.7152*DM(i)+.0722*DM(a)}function nL(n,i){const{r:a,g:o,b:l}=n,{r:p,g:v,b:S}=i,R=tL(a,o,l),P=tL(p,v,S);return(Math.max(R,P)+.05)/(Math.min(R,P)+.05)}function pD(n,i){const a=ih(i,o=>nL(n,hD(o)));return i[a]}const gD=n=>{const{threshold:i=4.5,palette:a=["#000","#fff"]}=n;return o=>(o.forEach(l=>{const p=l.attr("dependentElement").parsedStyle.fill,v=l.parsedStyle.fill;nL(v,p)<i&&l.attr("fill",pD(p,a))}),o)},mD=(n,i)=>{const[[a,o],[l,p]]=i,[[v,S],[R,P]]=n;let I=0,k=0;return v<a?I=a-v:R>l&&(I=l-R),S<o?k=o-S:P>p&&(k=p-P),[I,k]},vD=()=>(n,{canvas:i})=>{const{width:a,height:o}=i.getConfig();return n.forEach(l=>{Kf(l);const{max:p,min:v}=l.getRenderBounds(),[S,R]=p,[P,I]=v,k=mD([[P,I],[S,R]],[[0,0],[a,o]]);l.style.connector&&l.style.connectorPoints&&(l.style.connectorPoints[0][0]-=k[0],l.style.connectorPoints[0][1]-=k[1]),l.style.x+=k[0],l.style.y+=k[1]}),n};function yD(){return{"data.fetch":FI,"data.inline":bM,"data.sortBy":EM,"data.sort":aC,"data.filter":TM,"data.pick":SM,"data.rename":_g,"data.fold":h_,"data.slice":AM,"data.custom":CM,"data.map":gh,"data.join":hT,"data.kde":sC,"data.log":uC,"data.wordCloud":qI,"transform.stackY":Y5,"transform.binX":rM,"transform.bin":aT,"transform.dodgeX":iM,"transform.jitter":aM,"transform.jitterX":GA,"transform.jitterY":oM,"transform.symmetryY":YA,"transform.diffY":$A,"transform.stackEnter":sM,"transform.normalizeY":_x,"transform.select":iv,"transform.selectX":XA,"transform.selectY":KA,"transform.groupX":uM,"transform.groupY":qA,"transform.groupColor":lM,"transform.group":d_,"transform.sortX":fM,"transform.sortY":dM,"transform.sortColor":JA,"transform.flexX":pM,"transform.pack":av,"transform.sample":gM,"transform.filter":nC,"coordinate.cartesian":wE,"coordinate.polar":So,"coordinate.transpose":fg,"coordinate.theta":lp,"coordinate.parallel":jv,"coordinate.fisheye":ME,"coordinate.radial":Wa,"coordinate.radar":RE,"encode.constant":Hv,"encode.field":f3,"encode.transform":PE,"encode.column":d3,"mark.interval":qy,"mark.rect":wS,"mark.line":E3,"mark.point":Jo,"mark.text":Uu,"mark.cell":Pl,"mark.area":jh,"mark.link":yf,"mark.image":Gv,"mark.polygon":Bg,"mark.box":qm,"mark.vector":Jm,"mark.lineX":S3,"mark.lineY":C3,"mark.connector":N4,"mark.range":yO,"mark.rangeX":_O,"mark.rangeY":EO,"mark.path":AO,"mark.shape":CO,"mark.density":ZS,"mark.heatmap":LO,"mark.wordCloud":jS,"palette.category10":DO,"palette.category20":kO,"scale.linear":BO,"scale.ordinal":UO,"scale.band":zO,"scale.identity":ZO,"scale.point":jO,"scale.time":gw,"scale.log":o_,"scale.pow":mw,"scale.sqrt":vw,"scale.threshold":yw,"scale.quantile":eA,"scale.quantize":_w,"scale.sequential":rA,"scale.constant":zp,"theme.classic":xw,"theme.classicDark":oA,"theme.academy":Sw,"theme.light":u2,"theme.dark":aA,"component.axisX":k3,"component.axisY":ox,"component.legendCategory":F3,"component.legendContinuous":ss,"component.legends":sA,"component.title":gg,"component.sliderX":S6,"component.sliderY":Rw,"component.scrollbarX":Z3,"component.scrollbarY":lA,"animation.scaleInX":j3,"animation.scaleOutX":Pw,"animation.scaleInY":cA,"animation.scaleOutY":c2,"animation.waveIn":Iw,"animation.fadeIn":Lw,"animation.fadeOut":fA,"animation.zoomIn":A6,"animation.zoomOut":H3,"animation.pathIn":H1,"animation.morphing":pA,"animation.growInX":Uw,"animation.growInY":M6,"interaction.elementHighlight":G3,"interaction.elementHighlightByX":fx,"interaction.elementHighlightByColor":gA,"interaction.elementSelect":Y3,"interaction.elementSelectByX":zw,"interaction.elementSelectByColor":Zw,"interaction.fisheye":N6,"interaction.chartIndex":jw,"interaction.tooltip":e5,"interaction.legendFilter":eP,"interaction.legendHighlight":tP,"interaction.brushHighlight":TA,"interaction.brushXHighlight":sP,"interaction.brushYHighlight":uP,"interaction.brushAxisHighlight":pP,"interaction.brushFilter":OA,"interaction.brushXFilter":yP,"interaction.brushYFilter":_P,"interaction.sliderFilter":m5,"interaction.scrollbarFilter":TP,"interaction.poptip":b5,"interaction.treemapDrillDown":BP,"interaction.elementPointMove":q3,"composition.spaceLayer":k5,"composition.spaceFlex":F5,"composition.facetRect":Z5,"composition.repeatMatrix":JP,"composition.facetCircle":zA,"composition.timingKeyframe":j5,"labelTransform.overlapHide":lD,"labelTransform.overlapDodgeY":dD,"labelTransform.overflowHide":eL,"labelTransform.contrastReverse":gD,"labelTransform.exceedAdjust":vD}}var vT=n=>n;function fC(n,i){n&&iL.hasOwnProperty(n.type)&&iL[n.type](n,i)}var rL={Feature:function(n,i){fC(n.geometry,i)},FeatureCollection:function(n,i){for(var a=n.features,o=-1,l=a.length;++o<l;)fC(a[o].geometry,i)}},iL={Sphere:function(n,i){i.sphere()},Point:function(n,i){n=n.coordinates,i.point(n[0],n[1],n[2])},MultiPoint:function(n,i){for(var a=n.coordinates,o=-1,l=a.length;++o<l;)n=a[o],i.point(n[0],n[1],n[2])},LineString:function(n,i){kM(n.coordinates,i,0)},MultiLineString:function(n,i){for(var a=n.coordinates,o=-1,l=a.length;++o<l;)kM(a[o],i,0)},Polygon:function(n,i){yT(n.coordinates,i)},MultiPolygon:function(n,i){for(var a=n.coordinates,o=-1,l=a.length;++o<l;)yT(a[o],i)},GeometryCollection:function(n,i){for(var a=n.geometries,o=-1,l=a.length;++o<l;)fC(a[o],i)}};function kM(n,i,a){var o=-1,l=n.length-a,p;for(i.lineStart();++o<l;)p=n[o],i.point(p[0],p[1],p[2]);i.lineEnd()}function yT(n,i){var a=-1,o=n.length;for(i.polygonStart();++a<o;)kM(n[a],i,1);i.polygonEnd()}function e1(n,i){n&&rL.hasOwnProperty(n.type)?rL[n.type](n,i):fC(n,i)}class gm{constructor(){this._partials=new Float64Array(32),this._n=0}add(i){const a=this._partials;let o=0;for(let l=0;l<this._n&&l<32;l++){const p=a[l],v=i+p,S=Math.abs(i)<Math.abs(p)?i-(v-p):p-(v-i);S&&(a[o++]=S),i=v}return a[o]=i,this._n=o+1,this}valueOf(){const i=this._partials;let a=this._n,o,l,p,v=0;if(a>0){for(v=i[--a];a>0&&(o=v,l=i[--a],v=o+l,p=l-(v-o),!p););a>0&&(p<0&&i[a-1]<0||p>0&&i[a-1]>0)&&(l=p*2,o=v+l,l==o-v&&(v=o))}return v}}function BM(n,i){const a=new gm;if(i===void 0)for(let o of n)(o=+o)&&a.add(o);else{let o=-1;for(let l of n)(l=+i(l,++o,n))&&a.add(l)}return+a}function xl(n,i){const a=new gm;let o=-1;return Float64Array.from(n,i===void 0?l=>a.add(+l||0):l=>a.add(+i(l,++o,n)||0))}var vl=1e-6,FM=1e-12,Jc=Math.PI,Wh=Jc/2,UM=Jc/4,Eg=Jc*2,gp=180/Jc,sd=Jc/180,Sf=Math.abs,v2=Math.atan,t1=Math.atan2,Dc=Math.cos,y2=Math.ceil,zM=Math.exp,_D=Math.floor,bD=Math.hypot,_T=Math.log,Tx=Math.pow,vc=Math.sin,eg=Math.sign||function(n){return n>0?1:n<0?-1:0},Zp=Math.sqrt,Sx=Math.tan;function ZM(n){return n>1?0:n<-1?Jc:Math.acos(n)}function Zg(n){return n>1?Wh:n<-1?-Wh:Math.asin(n)}function ED(n){return(n=vc(n/2))*n}function xg(){}var dC=new gm,hC=new gm,jM,HM,pC,gC,K1={point:xg,lineStart:xg,lineEnd:xg,polygonStart:function(){K1.lineStart=aL,K1.lineEnd=VM},polygonEnd:function(){K1.lineStart=K1.lineEnd=K1.point=xg,dC.add(Sf(hC)),hC=new gm},result:function(){var n=dC/2;return dC=new gm,n}};function aL(){K1.point=mC}function mC(n,i){K1.point=WM,jM=pC=n,HM=gC=i}function WM(n,i){hC.add(gC*n-pC*i),pC=n,gC=i}function VM(){WM(jM,HM)}var GM=K1,Q1=1/0,bT=Q1,g_=-Q1,ET=g_,oL={point:sL,lineStart:xg,lineEnd:xg,polygonStart:xg,polygonEnd:xg,result:function(){var n=[[Q1,bT],[g_,ET]];return g_=ET=-(bT=Q1=1/0),n}};function sL(n,i){n<Q1&&(Q1=n),n>g_&&(g_=n),i<bT&&(bT=i),i>ET&&(ET=i)}var _2=oL,b2=0,vC=0,E2=0,xT=0,TT=0,m_=0,yC=0,Ax=0,Cx=0,YM,Ox,lv,cv,mm={point:v_,lineStart:$M,lineEnd:Mx,polygonStart:function(){mm.lineStart=uL,mm.lineEnd=_C},polygonEnd:function(){mm.point=v_,mm.lineStart=$M,mm.lineEnd=Mx},result:function(){var n=Cx?[yC/Cx,Ax/Cx]:m_?[xT/m_,TT/m_]:E2?[b2/E2,vC/E2]:[NaN,NaN];return b2=vC=E2=xT=TT=m_=yC=Ax=Cx=0,n}};function v_(n,i){b2+=n,vC+=i,++E2}function $M(){mm.point=ST}function ST(n,i){mm.point=AT,v_(lv=n,cv=i)}function AT(n,i){var a=n-lv,o=i-cv,l=Zp(a*a+o*o);xT+=l*(lv+n)/2,TT+=l*(cv+i)/2,m_+=l,v_(lv=n,cv=i)}function Mx(){mm.point=v_}function uL(){mm.point=lL}function _C(){XM(YM,Ox)}function lL(n,i){mm.point=XM,v_(YM=lv=n,Ox=cv=i)}function XM(n,i){var a=n-lv,o=i-cv,l=Zp(a*a+o*o);xT+=l*(lv+n)/2,TT+=l*(cv+i)/2,m_+=l,l=cv*n-lv*i,yC+=l*(lv+n),Ax+=l*(cv+i),Cx+=l*3,v_(lv=n,cv=i)}var KM=mm;function Rx(n){this._context=n}Rx.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,i){switch(this._point){case 0:{this._context.moveTo(n,i),this._point=1;break}case 1:{this._context.lineTo(n,i);break}default:{this._context.moveTo(n+this._radius,i),this._context.arc(n,i,this._radius,0,Eg);break}}},result:xg};var CT=new gm,fv,bC,Px,Ix,x2,OT={point:xg,lineStart:function(){OT.point=cL},lineEnd:function(){fv&&EC(bC,Px),OT.point=xg},polygonStart:function(){fv=!0},polygonEnd:function(){fv=null},result:function(){var n=+CT;return CT=new gm,n}};function cL(n,i){OT.point=EC,bC=Ix=n,Px=x2=i}function EC(n,i){Ix-=n,x2-=i,CT.add(Zp(Ix*Ix+x2*x2)),Ix=n,x2=i}var QM=OT;let qM,wT,jg,MT;class dv{constructor(i){this._append=i==null?RT:JM(i),this._radius=4.5,this._=""}pointRadius(i){return this._radius=+i,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(i,a){switch(this._point){case 0:{this._append`M${i},${a}`,this._point=1;break}case 1:{this._append`L${i},${a}`;break}default:{if(this._append`M${i},${a}`,this._radius!==jg||this._append!==wT){const o=this._radius,l=this._;this._="",this._append`m0,${o}a${o},${o} 0 1,1 0,${-2*o}a${o},${o} 0 1,1 0,${2*o}z`,jg=o,wT=this._append,MT=this._,this._=l}this._+=MT;break}}}result(){const i=this._;return this._="",i.length?i:null}}function RT(n){let i=1;this._+=n[0];for(const a=n.length;i<a;++i)this._+=arguments[i]+n[i]}function JM(n){const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);if(i>15)return RT;if(i!==qM){const a=p0(10,i);qM=i,wT=function(l){let p=1;this._+=l[0];for(const v=l.length;p<v;++p)this._+=Math.round(arguments[p]*a)/a+l[p]}}return wT}function fL(n,i){let a=3,o=4.5,l,p;function v(S){return S&&(typeof o=="function"&&p.pointRadius(+o.apply(this,arguments)),e1(S,l(p))),p.result()}return v.area=function(S){return e1(S,l(GM)),GM.result()},v.measure=function(S){return e1(S,l(QM)),QM.result()},v.bounds=function(S){return e1(S,l(_2)),_2.result()},v.centroid=function(S){return e1(S,l(KM)),KM.result()},v.projection=function(S){return arguments.length?(l=S==null?(n=null,vT):(n=S).stream,v):n},v.context=function(S){return arguments.length?(p=S==null?(i=null,new dv(a)):new Rx(i=S),typeof o!="function"&&p.pointRadius(o),v):i},v.pointRadius=function(S){return arguments.length?(o=typeof S=="function"?S:(p.pointRadius(+S),+S),v):o},v.digits=function(S){if(!arguments.length)return a;if(S==null)a=null;else{const R=Math.floor(S);if(!(R>=0))throw new RangeError(`invalid digits: ${S}`);a=R}return i===null&&(p=new dv(a)),v},v.projection(n).digits(a).context(i)}function Lx(n,i,a){n=+n,i=+i,a=(l=arguments.length)<2?(i=n,n=0,1):l<3?1:+a;for(var o=-1,l=Math.max(0,Math.ceil((i-n)/a))|0,p=new Array(l);++o<l;)p[o]=n+o*a;return p}function eR(n,i,a){var o=Lx(n,i-vl,a).concat(i);return function(l){return o.map(function(p){return[l,p]})}}function tR(n,i,a){var o=Lx(n,i-vl,a).concat(i);return function(l){return o.map(function(p){return[p,l]})}}function dL(){var n,i,a,o,l,p,v,S,R=10,P=R,I=90,k=360,z,te,de,be,Re=2.5;function Ie(){return{type:"MultiLineString",coordinates:it()}}function it(){return Lx(y2(o/I)*I,a,I).map(de).concat(Lx(y2(S/k)*k,v,k).map(be)).concat(Lx(y2(i/R)*R,n,R).filter(function(ut){return Sf(ut%I)>vl}).map(z)).concat(Lx(y2(p/P)*P,l,P).filter(function(ut){return Sf(ut%k)>vl}).map(te))}return Ie.lines=function(){return it().map(function(ut){return{type:"LineString",coordinates:ut}})},Ie.outline=function(){return{type:"Polygon",coordinates:[de(o).concat(be(v).slice(1),de(a).reverse().slice(1),be(S).reverse().slice(1))]}},Ie.extent=function(ut){return arguments.length?Ie.extentMajor(ut).extentMinor(ut):Ie.extentMinor()},Ie.extentMajor=function(ut){return arguments.length?(o=+ut[0][0],a=+ut[1][0],S=+ut[0][1],v=+ut[1][1],o>a&&(ut=o,o=a,a=ut),S>v&&(ut=S,S=v,v=ut),Ie.precision(Re)):[[o,S],[a,v]]},Ie.extentMinor=function(ut){return arguments.length?(i=+ut[0][0],n=+ut[1][0],p=+ut[0][1],l=+ut[1][1],i>n&&(ut=i,i=n,n=ut),p>l&&(ut=p,p=l,l=ut),Ie.precision(Re)):[[i,p],[n,l]]},Ie.step=function(ut){return arguments.length?Ie.stepMajor(ut).stepMinor(ut):Ie.stepMinor()},Ie.stepMajor=function(ut){return arguments.length?(I=+ut[0],k=+ut[1],Ie):[I,k]},Ie.stepMinor=function(ut){return arguments.length?(R=+ut[0],P=+ut[1],Ie):[R,P]},Ie.precision=function(ut){return arguments.length?(Re=+ut,z=eR(p,l,90),te=tR(i,n,Re),de=eR(S,v,90),be=tR(o,a,Re),Ie):Re},Ie.extentMajor([[-180,-90+vl],[180,90-vl]]).extentMinor([[-180,-80-vl],[180,80+vl]])}function hL(){return dL()()}function y_(){var n=[],i;return{point:function(a,o,l){i.push([a,o,l])},lineStart:function(){n.push(i=[])},lineEnd:xg,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var a=n;return n=[],i=null,a}}}function PT(n,i){return Sf(n[0]-i[0])<vl&&Sf(n[1]-i[1])<vl}function IT(n,i,a,o){this.x=n,this.z=i,this.o=a,this.e=o,this.v=!1,this.n=this.p=null}function nR(n,i,a,o,l){var p=[],v=[],S,R;if(n.forEach(function(de){if(!((be=de.length-1)<=0)){var be,Re=de[0],Ie=de[be],it;if(PT(Re,Ie)){if(!Re[2]&&!Ie[2]){for(l.lineStart(),S=0;S<be;++S)l.point((Re=de[S])[0],Re[1]);l.lineEnd();return}Ie[0]+=2*vl}p.push(it=new IT(Re,de,null,!0)),v.push(it.o=new IT(Re,null,it,!1)),p.push(it=new IT(Ie,de,null,!1)),v.push(it.o=new IT(Ie,null,it,!0))}}),!!p.length){for(v.sort(i),rR(p),rR(v),S=0,R=v.length;S<R;++S)v[S].e=a=!a;for(var P=p[0],I,k;;){for(var z=P,te=!0;z.v;)if((z=z.n)===P)return;I=z.z,l.lineStart();do{if(z.v=z.o.v=!0,z.e){if(te)for(S=0,R=I.length;S<R;++S)l.point((k=I[S])[0],k[1]);else o(z.x,z.n.x,1,l);z=z.n}else{if(te)for(I=z.p.z,S=I.length-1;S>=0;--S)l.point((k=I[S])[0],k[1]);else o(z.x,z.p.x,-1,l);z=z.p}z=z.o,I=z.z,te=!te}while(!z.v);l.lineEnd()}}}function rR(n){if(i=n.length){for(var i,a=0,o=n[0],l;++a<i;)o.n=l=n[a],l.p=o,o=l;o.n=l=n[0],l.p=o}}function xC(n){return[t1(n[1],n[0]),Zg(n[2])]}function T2(n){var i=n[0],a=n[1],o=Dc(a);return[o*Dc(i),o*vc(i),vc(a)]}function q1(n,i){return n[0]*i[0]+n[1]*i[1]+n[2]*i[2]}function LT(n,i){return[n[1]*i[2]-n[2]*i[1],n[2]*i[0]-n[0]*i[2],n[0]*i[1]-n[1]*i[0]]}function TC(n,i){n[0]+=i[0],n[1]+=i[1],n[2]+=i[2]}function NT(n,i){return[n[0]*i,n[1]*i,n[2]*i]}function DT(n){var i=Zp(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=i,n[1]/=i,n[2]/=i}function SC(n){return Sf(n[0])<=Jc?n[0]:eg(n[0])*((Sf(n[0])+Jc)%Eg-Jc)}function pL(n,i){var a=SC(i),o=i[1],l=vc(o),p=[vc(a),-Dc(a),0],v=0,S=0,R=new gm;l===1?o=Wh+vl:l===-1&&(o=-Wh-vl);for(var P=0,I=n.length;P<I;++P)if(z=(k=n[P]).length)for(var k,z,te=k[z-1],de=SC(te),be=te[1]/2+UM,Re=vc(be),Ie=Dc(be),it=0;it<z;++it,de=Mt,Re=Rn,Ie=Jn,te=ut){var ut=k[it],Mt=SC(ut),en=ut[1]/2+UM,Rn=vc(en),Jn=Dc(en),nr=Mt-de,mr=nr>=0?1:-1,Vr=mr*nr,Hr=Vr>Jc,fi=Re*Rn;if(R.add(t1(fi*mr*vc(Vr),Ie*Jn+fi*Dc(Vr))),v+=Hr?nr+mr*Eg:nr,Hr^de>=a^Mt>=a){var dr=LT(T2(te),T2(ut));DT(dr);var _r=LT(p,dr);DT(_r);var lr=(Hr^nr>=0?-1:1)*Zg(_r[2]);(o>lr||o===lr&&(dr[0]||dr[1]))&&(S+=Hr^nr>=0?1:-1)}}return(v<-vl||v<vl&&R<-FM)^S&1}function*gL(n){for(const i of n)yield*WD(i)}function iR(n){return Array.from(gL(n))}function S2(n,i,a,o){return function(l){var p=i(l),v=y_(),S=i(v),R=!1,P,I,k,z={point:te,lineStart:be,lineEnd:Re,polygonStart:function(){z.point=Ie,z.lineStart=it,z.lineEnd=ut,I=[],P=[]},polygonEnd:function(){z.point=te,z.lineStart=be,z.lineEnd=Re,I=iR(I);var Mt=pL(P,o);I.length?(R||(l.polygonStart(),R=!0),nR(I,vL,Mt,a,l)):Mt&&(R||(l.polygonStart(),R=!0),l.lineStart(),a(null,null,1,l),l.lineEnd()),R&&(l.polygonEnd(),R=!1),I=P=null},sphere:function(){l.polygonStart(),l.lineStart(),a(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function te(Mt,en){n(Mt,en)&&l.point(Mt,en)}function de(Mt,en){p.point(Mt,en)}function be(){z.point=de,p.lineStart()}function Re(){z.point=te,p.lineEnd()}function Ie(Mt,en){k.push([Mt,en]),S.point(Mt,en)}function it(){S.lineStart(),k=[]}function ut(){Ie(k[0][0],k[0][1]),S.lineEnd();var Mt=S.clean(),en=v.result(),Rn,Jn=en.length,nr,mr,Vr;if(k.pop(),P.push(k),k=null,!!Jn){if(Mt&1){if(mr=en[0],(nr=mr.length-1)>0){for(R||(l.polygonStart(),R=!0),l.lineStart(),Rn=0;Rn<nr;++Rn)l.point((Vr=mr[Rn])[0],Vr[1]);l.lineEnd()}return}Jn>1&&Mt&2&&en.push(en.pop().concat(en.shift())),I.push(en.filter(mL))}}return z}}function mL(n){return n.length>1}function vL(n,i){return((n=n.x)[0]<0?n[1]-Wh-vl:Wh-n[1])-((i=i.x)[0]<0?i[1]-Wh-vl:Wh-i[1])}var aR=S2(function(){return!0},yL,bL,[-Jc,-Wh]);function yL(n){var i=NaN,a=NaN,o=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(p,v){var S=p>0?Jc:-Jc,R=Sf(p-i);Sf(R-Jc)<vl?(n.point(i,a=(a+v)/2>0?Wh:-Wh),n.point(o,a),n.lineEnd(),n.lineStart(),n.point(S,a),n.point(p,a),l=0):o!==S&&R>=Jc&&(Sf(i-o)<vl&&(i-=o*vl),Sf(p-S)<vl&&(p-=S*vl),a=_L(i,a,p,v),n.point(o,a),n.lineEnd(),n.lineStart(),n.point(S,a),l=0),n.point(i=p,a=v),o=S},lineEnd:function(){n.lineEnd(),i=a=NaN},clean:function(){return 2-l}}}function _L(n,i,a,o){var l,p,v=vc(n-a);return Sf(v)>vl?v2((vc(i)*(p=Dc(o))*vc(a)-vc(o)*(l=Dc(i))*vc(n))/(l*p*v)):(i+o)/2}function bL(n,i,a,o){var l;if(n==null)l=a*Wh,o.point(-Jc,l),o.point(0,l),o.point(Jc,l),o.point(Jc,0),o.point(Jc,-l),o.point(0,-l),o.point(-Jc,-l),o.point(-Jc,0),o.point(-Jc,l);else if(Sf(n[0]-i[0])>vl){var p=n[0]<i[0]?Jc:-Jc;l=a*p/2,o.point(-p,l),o.point(0,l),o.point(p,l)}else o.point(i[0],i[1])}function EL(n,i,a,o,l,p){if(a){var v=Dc(i),S=vc(i),R=o*a;l==null?(l=i+o*Eg,p=i-R/2):(l=oR(v,l),p=oR(v,p),(o>0?l<p:l>p)&&(l+=o*Eg));for(var P,I=l;o>0?I>p:I<p;I-=R)P=xC([v,-S*Dc(I),-S*vc(I)]),n.point(P[0],P[1])}}function oR(n,i){i=T2(i),i[0]-=n,DT(i);var a=ZM(-i[1]);return((-i[2]<0?-a:a)+Eg-vl)%Eg}function Nx(){var n=constant([0,0]),i=constant(90),a=constant(2),o,l,p={point:v};function v(R,P){o.push(R=l(R,P)),R[0]*=degrees,R[1]*=degrees}function S(){var R=n.apply(this,arguments),P=i.apply(this,arguments)*radians,I=a.apply(this,arguments)*radians;return o=[],l=rotateRadians(-R[0]*radians,-R[1]*radians,0).invert,EL(p,P,I,1),R={type:"Polygon",coordinates:[o]},o=l=null,R}return S.center=function(R){return arguments.length?(n=typeof R=="function"?R:constant([+R[0],+R[1]]),S):n},S.radius=function(R){return arguments.length?(i=typeof R=="function"?R:constant(+R),S):i},S.precision=function(R){return arguments.length?(a=typeof R=="function"?R:constant(+R),S):a},S}function xL(n){var i=Dc(n),a=2*sd,o=i>0,l=Sf(i)>vl;function p(I,k,z,te){EL(te,n,a,z,I,k)}function v(I,k){return Dc(I)*Dc(k)>i}function S(I){var k,z,te,de,be;return{lineStart:function(){de=te=!1,be=1},point:function(Re,Ie){var it=[Re,Ie],ut,Mt=v(Re,Ie),en=o?Mt?0:P(Re,Ie):Mt?P(Re+(Re<0?Jc:-Jc),Ie):0;if(!k&&(de=te=Mt)&&I.lineStart(),Mt!==te&&(ut=R(k,it),(!ut||PT(k,ut)||PT(it,ut))&&(it[2]=1)),Mt!==te)be=0,Mt?(I.lineStart(),ut=R(it,k),I.point(ut[0],ut[1])):(ut=R(k,it),I.point(ut[0],ut[1],2),I.lineEnd()),k=ut;else if(l&&k&&o^Mt){var Rn;!(en&z)&&(Rn=R(it,k,!0))&&(be=0,o?(I.lineStart(),I.point(Rn[0][0],Rn[0][1]),I.point(Rn[1][0],Rn[1][1]),I.lineEnd()):(I.point(Rn[1][0],Rn[1][1]),I.lineEnd(),I.lineStart(),I.point(Rn[0][0],Rn[0][1],3)))}Mt&&(!k||!PT(k,it))&&I.point(it[0],it[1]),k=it,te=Mt,z=en},lineEnd:function(){te&&I.lineEnd(),k=null},clean:function(){return be|(de&&te)<<1}}}function R(I,k,z){var te=T2(I),de=T2(k),be=[1,0,0],Re=LT(te,de),Ie=q1(Re,Re),it=Re[0],ut=Ie-it*it;if(!ut)return!z&&I;var Mt=i*Ie/ut,en=-i*it/ut,Rn=LT(be,Re),Jn=NT(be,Mt),nr=NT(Re,en);TC(Jn,nr);var mr=Rn,Vr=q1(Jn,mr),Hr=q1(mr,mr),fi=Vr*Vr-Hr*(q1(Jn,Jn)-1);if(!(fi<0)){var dr=Zp(fi),_r=NT(mr,(-Vr-dr)/Hr);if(TC(_r,Jn),_r=xC(_r),!z)return _r;var lr=I[0],hr=k[0],Ti=I[1],Rr=k[1],Gr;hr<lr&&(Gr=lr,lr=hr,hr=Gr);var Qi=hr-lr,ga=Sf(Qi-Jc)<vl,ya=ga||Qi<vl;if(!ga&&Rr<Ti&&(Gr=Ti,Ti=Rr,Rr=Gr),ya?ga?Ti+Rr>0^_r[1]<(Sf(_r[0]-lr)<vl?Ti:Rr):Ti<=_r[1]&&_r[1]<=Rr:Qi>Jc^(lr<=_r[0]&&_r[0]<=hr)){var Ea=NT(mr,(-Vr+dr)/Hr);return TC(Ea,Jn),[_r,xC(Ea)]}}}function P(I,k){var z=o?n:Jc-n,te=0;return I<-z?te|=1:I>z&&(te|=2),k<-z?te|=4:k>z&&(te|=8),te}return S2(v,S,p,o?[0,-n]:[-Jc,n-Jc])}function TL(n,i,a,o,l,p){var v=n[0],S=n[1],R=i[0],P=i[1],I=0,k=1,z=R-v,te=P-S,de;if(de=a-v,!(!z&&de>0)){if(de/=z,z<0){if(de<I)return;de<k&&(k=de)}else if(z>0){if(de>k)return;de>I&&(I=de)}if(de=l-v,!(!z&&de<0)){if(de/=z,z<0){if(de>k)return;de>I&&(I=de)}else if(z>0){if(de<I)return;de<k&&(k=de)}if(de=o-S,!(!te&&de>0)){if(de/=te,te<0){if(de<I)return;de<k&&(k=de)}else if(te>0){if(de>k)return;de>I&&(I=de)}if(de=p-S,!(!te&&de<0)){if(de/=te,te<0){if(de>k)return;de>I&&(I=de)}else if(te>0){if(de<I)return;de<k&&(k=de)}return I>0&&(n[0]=v+I*z,n[1]=S+I*te),k<1&&(i[0]=v+k*z,i[1]=S+k*te),!0}}}}}var jp=1e9,Hg=-jp;function hv(n,i,a,o){function l(P,I){return n<=P&&P<=a&&i<=I&&I<=o}function p(P,I,k,z){var te=0,de=0;if(P==null||(te=v(P,k))!==(de=v(I,k))||R(P,I)<0^k>0)do z.point(te===0||te===3?n:a,te>1?o:i);while((te=(te+k+4)%4)!==de);else z.point(I[0],I[1])}function v(P,I){return Sf(P[0]-n)<vl?I>0?0:3:Sf(P[0]-a)<vl?I>0?2:1:Sf(P[1]-i)<vl?I>0?1:0:I>0?3:2}function S(P,I){return R(P.x,I.x)}function R(P,I){var k=v(P,1),z=v(I,1);return k!==z?k-z:k===0?I[1]-P[1]:k===1?P[0]-I[0]:k===2?P[1]-I[1]:I[0]-P[0]}return function(P){var I=P,k=y_(),z,te,de,be,Re,Ie,it,ut,Mt,en,Rn,Jn={point:nr,lineStart:fi,lineEnd:dr,polygonStart:Vr,polygonEnd:Hr};function nr(lr,hr){l(lr,hr)&&I.point(lr,hr)}function mr(){for(var lr=0,hr=0,Ti=te.length;hr<Ti;++hr)for(var Rr=te[hr],Gr=1,Qi=Rr.length,ga=Rr[0],ya,Ea,go=ga[0],Wo=ga[1];Gr<Qi;++Gr)ya=go,Ea=Wo,ga=Rr[Gr],go=ga[0],Wo=ga[1],Ea<=o?Wo>o&&(go-ya)*(o-Ea)>(Wo-Ea)*(n-ya)&&++lr:Wo<=o&&(go-ya)*(o-Ea)<(Wo-Ea)*(n-ya)&&--lr;return lr}function Vr(){I=k,z=[],te=[],Rn=!0}function Hr(){var lr=mr(),hr=Rn&&lr,Ti=(z=iR(z)).length;(hr||Ti)&&(P.polygonStart(),hr&&(P.lineStart(),p(null,null,1,P),P.lineEnd()),Ti&&nR(z,S,lr,p,P),P.polygonEnd()),I=P,z=te=de=null}function fi(){Jn.point=_r,te&&te.push(de=[]),en=!0,Mt=!1,it=ut=NaN}function dr(){z&&(_r(be,Re),Ie&&Mt&&k.rejoin(),z.push(k.result())),Jn.point=nr,Mt&&I.lineEnd()}function _r(lr,hr){var Ti=l(lr,hr);if(te&&de.push([lr,hr]),en)be=lr,Re=hr,Ie=Ti,en=!1,Ti&&(I.lineStart(),I.point(lr,hr));else if(Ti&&Mt)I.point(lr,hr);else{var Rr=[it=Math.max(Hg,Math.min(jp,it)),ut=Math.max(Hg,Math.min(jp,ut))],Gr=[lr=Math.max(Hg,Math.min(jp,lr)),hr=Math.max(Hg,Math.min(jp,hr))];TL(Rr,Gr,n,i,a,o)?(Mt||(I.lineStart(),I.point(Rr[0],Rr[1])),I.point(Gr[0],Gr[1]),Ti||I.lineEnd(),Rn=!1):Ti&&(I.lineStart(),I.point(lr,hr),Rn=!1)}it=lr,ut=hr,Mt=Ti}return Jn}}function Dx(n,i){function a(o,l){return o=n(o,l),i(o[0],o[1])}return n.invert&&i.invert&&(a.invert=function(o,l){return o=i.invert(o,l),o&&n.invert(o[0],o[1])}),a}function kT(n,i){return Sf(n)>Jc&&(n-=Math.round(n/Eg)*Eg),[n,i]}kT.invert=kT;function SL(n,i,a){return(n%=Eg)?i||a?Dx(sR(n),uR(i,a)):sR(n):i||a?uR(i,a):kT}function AL(n){return function(i,a){return i+=n,Sf(i)>Jc&&(i-=Math.round(i/Eg)*Eg),[i,a]}}function sR(n){var i=AL(n);return i.invert=AL(-n),i}function uR(n,i){var a=Dc(n),o=vc(n),l=Dc(i),p=vc(i);function v(S,R){var P=Dc(R),I=Dc(S)*P,k=vc(S)*P,z=vc(R),te=z*a+I*o;return[t1(k*l-te*p,I*a-z*o),Zg(te*l+k*p)]}return v.invert=function(S,R){var P=Dc(R),I=Dc(S)*P,k=vc(S)*P,z=vc(R),te=z*l-k*p;return[t1(k*l+z*p,I*a+te*o),Zg(te*a-I*o)]},v}function CL(n){n=SL(n[0]*sd,n[1]*sd,n.length>2?n[2]*sd:0);function i(a){return a=n(a[0]*sd,a[1]*sd),a[0]*=gp,a[1]*=gp,a}return i.invert=function(a){return a=n.invert(a[0]*sd,a[1]*sd),a[0]*=gp,a[1]*=gp,a},i}function xD(n){return{stream:kx(n)}}function kx(n){return function(i){var a=new J1;for(var o in n)a[o]=n[o];return a.stream=i,a}}function J1(){}J1.prototype={constructor:J1,point:function(n,i){this.stream.point(n,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function AC(n,i,a){var o=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),o!=null&&n.clipExtent(null),e1(a,n.stream(_2)),i(_2.result()),o!=null&&n.clipExtent(o),n}function BT(n,i,a){return AC(n,function(o){var l=i[1][0]-i[0][0],p=i[1][1]-i[0][1],v=Math.min(l/(o[1][0]-o[0][0]),p/(o[1][1]-o[0][1])),S=+i[0][0]+(l-v*(o[1][0]+o[0][0]))/2,R=+i[0][1]+(p-v*(o[1][1]+o[0][1]))/2;n.scale(150*v).translate([S,R])},a)}function CC(n,i,a){return BT(n,[[0,0],i],a)}function OC(n,i,a){return AC(n,function(o){var l=+i,p=l/(o[1][0]-o[0][0]),v=(l-p*(o[1][0]+o[0][0]))/2,S=-p*o[0][1];n.scale(150*p).translate([v,S])},a)}function wC(n,i,a){return AC(n,function(o){var l=+i,p=l/(o[1][1]-o[0][1]),v=-p*o[0][0],S=(l-p*(o[1][1]+o[0][1]))/2;n.scale(150*p).translate([v,S])},a)}var lR=16,OL=Dc(30*sd);function cR(n,i){return+i?fR(n,i):wL(n)}function wL(n){return kx({point:function(i,a){i=n(i,a),this.stream.point(i[0],i[1])}})}function fR(n,i){function a(o,l,p,v,S,R,P,I,k,z,te,de,be,Re){var Ie=P-o,it=I-l,ut=Ie*Ie+it*it;if(ut>4*i&&be--){var Mt=v+z,en=S+te,Rn=R+de,Jn=Zp(Mt*Mt+en*en+Rn*Rn),nr=Zg(Rn/=Jn),mr=Sf(Sf(Rn)-1)<vl||Sf(p-k)<vl?(p+k)/2:t1(en,Mt),Vr=n(mr,nr),Hr=Vr[0],fi=Vr[1],dr=Hr-o,_r=fi-l,lr=it*dr-Ie*_r;(lr*lr/ut>i||Sf((Ie*dr+it*_r)/ut-.5)>.3||v*z+S*te+R*de<OL)&&(a(o,l,p,v,S,R,Hr,fi,mr,Mt/=Jn,en/=Jn,Rn,be,Re),Re.point(Hr,fi),a(Hr,fi,mr,Mt,en,Rn,P,I,k,z,te,de,be,Re))}}return function(o){var l,p,v,S,R,P,I,k,z,te,de,be,Re={point:Ie,lineStart:it,lineEnd:Mt,polygonStart:function(){o.polygonStart(),Re.lineStart=en},polygonEnd:function(){o.polygonEnd(),Re.lineStart=it}};function Ie(nr,mr){nr=n(nr,mr),o.point(nr[0],nr[1])}function it(){k=NaN,Re.point=ut,o.lineStart()}function ut(nr,mr){var Vr=T2([nr,mr]),Hr=n(nr,mr);a(k,z,I,te,de,be,k=Hr[0],z=Hr[1],I=nr,te=Vr[0],de=Vr[1],be=Vr[2],lR,o),o.point(k,z)}function Mt(){Re.point=Ie,o.lineEnd()}function en(){it(),Re.point=Rn,Re.lineEnd=Jn}function Rn(nr,mr){ut(l=nr,mr),p=k,v=z,S=te,R=de,P=be,Re.point=ut}function Jn(){a(k,z,I,te,de,be,p,v,l,S,R,P,lR,o),Re.lineEnd=Mt,Mt()}return Re}}var MC=kx({point:function(n,i){this.stream.point(n*sd,i*sd)}});function ML(n){return kx({point:function(i,a){var o=n(i,a);return this.stream.point(o[0],o[1])}})}function RL(n,i,a,o,l){function p(v,S){return v*=o,S*=l,[i+n*v,a-n*S]}return p.invert=function(v,S){return[(v-i)/n*o,(a-S)/n*l]},p}function RC(n,i,a,o,l,p){if(!p)return RL(n,i,a,o,l);var v=Dc(p),S=vc(p),R=v*n,P=S*n,I=v/n,k=S/n,z=(S*a-v*i)/n,te=(S*i+v*a)/n;function de(be,Re){return be*=o,Re*=l,[R*be-P*Re+i,a-P*be-R*Re]}return de.invert=function(be,Re){return[o*(I*be-k*Re+z),l*(te-k*be-I*Re)]},de}function vm(n){return PC(function(){return n})()}function PC(n){var i,a=150,o=480,l=250,p=0,v=0,S=0,R=0,P=0,I,k=0,z=1,te=1,de=null,be=aR,Re=null,Ie,it,ut,Mt=vT,en=.5,Rn,Jn,nr,mr,Vr;function Hr(lr){return nr(lr[0]*sd,lr[1]*sd)}function fi(lr){return lr=nr.invert(lr[0],lr[1]),lr&&[lr[0]*gp,lr[1]*gp]}Hr.stream=function(lr){return mr&&Vr===lr?mr:mr=MC(ML(I)(be(Rn(Mt(Vr=lr)))))},Hr.preclip=function(lr){return arguments.length?(be=lr,de=void 0,_r()):be},Hr.postclip=function(lr){return arguments.length?(Mt=lr,Re=Ie=it=ut=null,_r()):Mt},Hr.clipAngle=function(lr){return arguments.length?(be=+lr?xL(de=lr*sd):(de=null,aR),_r()):de*gp},Hr.clipExtent=function(lr){return arguments.length?(Mt=lr==null?(Re=Ie=it=ut=null,vT):hv(Re=+lr[0][0],Ie=+lr[0][1],it=+lr[1][0],ut=+lr[1][1]),_r()):Re==null?null:[[Re,Ie],[it,ut]]},Hr.scale=function(lr){return arguments.length?(a=+lr,dr()):a},Hr.translate=function(lr){return arguments.length?(o=+lr[0],l=+lr[1],dr()):[o,l]},Hr.center=function(lr){return arguments.length?(p=lr[0]%360*sd,v=lr[1]%360*sd,dr()):[p*gp,v*gp]},Hr.rotate=function(lr){return arguments.length?(S=lr[0]%360*sd,R=lr[1]%360*sd,P=lr.length>2?lr[2]%360*sd:0,dr()):[S*gp,R*gp,P*gp]},Hr.angle=function(lr){return arguments.length?(k=lr%360*sd,dr()):k*gp},Hr.reflectX=function(lr){return arguments.length?(z=lr?-1:1,dr()):z<0},Hr.reflectY=function(lr){return arguments.length?(te=lr?-1:1,dr()):te<0},Hr.precision=function(lr){return arguments.length?(Rn=cR(Jn,en=lr*lr),_r()):Zp(en)},Hr.fitExtent=function(lr,hr){return BT(Hr,lr,hr)},Hr.fitSize=function(lr,hr){return CC(Hr,lr,hr)},Hr.fitWidth=function(lr,hr){return OC(Hr,lr,hr)},Hr.fitHeight=function(lr,hr){return wC(Hr,lr,hr)};function dr(){var lr=RC(a,0,0,z,te,k).apply(null,i(p,v)),hr=RC(a,o-lr[0],l-lr[1],z,te,k);return I=SL(S,R,P),Jn=Dx(i,hr),nr=Dx(I,Jn),Rn=cR(Jn,en),_r()}function _r(){return mr=Vr=null,Hr}return function(){return i=n.apply(this,arguments),Hr.invert=i.invert&&fi,dr()}}function IC(n){var i=0,a=Jc/3,o=PC(n),l=o(i,a);return l.parallels=function(p){return arguments.length?o(i=p[0]*sd,a=p[1]*sd):[i*gp,a*gp]},l}function dR(n){var i=Dc(n);function a(o,l){return[o*i,vc(l)/i]}return a.invert=function(o,l){return[o/i,Zg(l*i)]},a}function Bx(n,i){var a=vc(n),o=(a+vc(i))/2;if(Sf(o)<vl)return dR(n);var l=1+a*(2*o-a),p=Zp(l)/o;function v(S,R){var P=Zp(l-2*o*vc(R))/o;return[P*vc(S*=o),p-P*Dc(S)]}return v.invert=function(S,R){var P=p-R,I=t1(S,Sf(P))*eg(P);return P*o<0&&(I-=Jc*eg(S)*eg(P)),[I/o,Zg((l-(S*S+P*P)*o*o)/(2*o))]},v}function FT(){return IC(Bx).scale(155.424).center([0,33.6442])}function __(){return FT().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function PL(n){var i=n.length;return{point:function(a,o){for(var l=-1;++l<i;)n[l].point(a,o)},sphere:function(){for(var a=-1;++a<i;)n[a].sphere()},lineStart:function(){for(var a=-1;++a<i;)n[a].lineStart()},lineEnd:function(){for(var a=-1;++a<i;)n[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<i;)n[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<i;)n[a].polygonEnd()}}}function IL(){var n,i,a=__(),o,l=FT().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p,v=FT().rotate([157,0]).center([-3,19.9]).parallels([8,18]),S,R,P={point:function(z,te){R=[z,te]}};function I(z){var te=z[0],de=z[1];return R=null,o.point(te,de),R||(p.point(te,de),R)||(S.point(te,de),R)}I.invert=function(z){var te=a.scale(),de=a.translate(),be=(z[0]-de[0])/te,Re=(z[1]-de[1])/te;return(Re>=.12&&Re<.234&&be>=-.425&&be<-.214?l:Re>=.166&&Re<.234&&be>=-.214&&be<-.115?v:a).invert(z)},I.stream=function(z){return n&&i===z?n:n=PL([a.stream(i=z),l.stream(z),v.stream(z)])},I.precision=function(z){return arguments.length?(a.precision(z),l.precision(z),v.precision(z),k()):a.precision()},I.scale=function(z){return arguments.length?(a.scale(z),l.scale(z*.35),v.scale(z),I.translate(a.translate())):a.scale()},I.translate=function(z){if(!arguments.length)return a.translate();var te=a.scale(),de=+z[0],be=+z[1];return o=a.translate(z).clipExtent([[de-.455*te,be-.238*te],[de+.455*te,be+.238*te]]).stream(P),p=l.translate([de-.307*te,be+.201*te]).clipExtent([[de-.425*te+vl,be+.12*te+vl],[de-.214*te-vl,be+.234*te-vl]]).stream(P),S=v.translate([de-.205*te,be+.212*te]).clipExtent([[de-.214*te+vl,be+.166*te+vl],[de-.115*te-vl,be+.234*te-vl]]).stream(P),k()},I.fitExtent=function(z,te){return BT(I,z,te)},I.fitSize=function(z,te){return CC(I,z,te)},I.fitWidth=function(z,te){return OC(I,z,te)},I.fitHeight=function(z,te){return wC(I,z,te)};function k(){return n=i=null,I}return I.scale(1070)}function hR(n){return function(i,a){var o=Dc(i),l=Dc(a),p=n(o*l);return p===1/0?[2,0]:[p*l*vc(i),p*vc(a)]}}function Fx(n){return function(i,a){var o=Zp(i*i+a*a),l=n(o),p=vc(l),v=Dc(l);return[t1(i*p,o*v),Zg(o&&a*p/o)]}}var tg=hR(function(n){return Zp(2/(1+n))});tg.invert=Fx(function(n){return 2*Zg(n/2)});function A2(){return vm(tg).scale(124.75).clipAngle(180-.001)}var LC=hR(function(n){return(n=ZM(n))&&n/vc(n)});LC.invert=Fx(function(n){return n});function Ns(){return vm(LC).scale(79.4188).clipAngle(180-.001)}function C2(n,i){return[n,_T(Sx((Wh+i)/2))]}C2.invert=function(n,i){return[n,2*v2(zM(i))-Wh]};function ci(){return Hc(C2).scale(961/Eg)}function Hc(n){var i=vm(n),a=i.center,o=i.scale,l=i.translate,p=i.clipExtent,v=null,S,R,P;i.scale=function(k){return arguments.length?(o(k),I()):o()},i.translate=function(k){return arguments.length?(l(k),I()):l()},i.center=function(k){return arguments.length?(a(k),I()):a()},i.clipExtent=function(k){return arguments.length?(k==null?v=S=R=P=null:(v=+k[0][0],S=+k[0][1],R=+k[1][0],P=+k[1][1]),I()):v==null?null:[[v,S],[R,P]]};function I(){var k=Jc*o(),z=i(CL(i.rotate()).invert([0,0]));return p(v==null?[[z[0]-k,z[1]-k],[z[0]+k,z[1]+k]]:n===C2?[[Math.max(z[0]-k,v),S],[Math.min(z[0]+k,R),P]]:[[v,Math.max(z[1]-k,S)],[R,Math.min(z[1]+k,P)]])}return I()}function Il(n){return Sx((Wh+n)/2)}function O2(n,i){var a=Dc(n),o=n===i?vc(n):_T(a/Dc(i))/_T(Il(i)/Il(n)),l=a*Tx(Il(n),o)/o;if(!o)return C2;function p(v,S){l>0?S<-Wh+vl&&(S=-Wh+vl):S>Wh-vl&&(S=Wh-vl);var R=l/Tx(Il(S),o);return[R*vc(o*v),l-R*Dc(o*v)]}return p.invert=function(v,S){var R=l-S,P=eg(o)*Zp(v*v+R*R),I=t1(v,Sf(R))*eg(R);return R*o<0&&(I-=Jc*eg(v)*eg(R)),[I/o,2*v2(Tx(l/P,1/o))-Wh]},p}function ng(){return IC(O2).scale(109.5).parallels([30,30])}function Xl(n,i){return[n,i]}Xl.invert=Xl;function w0(){return vm(Xl).scale(152.63)}function mp(n,i){var a=Dc(n),o=n===i?vc(n):(a-Dc(i))/(i-n),l=a/o+n;if(Sf(o)<vl)return Xl;function p(v,S){var R=l-S,P=o*v;return[R*vc(P),l-R*Dc(P)]}return p.invert=function(v,S){var R=l-S,P=t1(v,Sf(R))*eg(R);return R*o<0&&(P-=Jc*eg(v)*eg(R)),[P/o,l-eg(o)*Zp(v*v+R*R)]},p}function mh(){return IC(mp).scale(131.154).center([0,13.9389])}var vh=1.340264,Vd=-.081106,Af=893e-6,Hp=.003796,pv=Zp(3)/2,pR=12;function Ql(n,i){var a=Zg(pv*vc(i)),o=a*a,l=o*o*o;return[n*Dc(a)/(pv*(vh+3*Vd*o+l*(7*Af+9*Hp*o))),a*(vh+Vd*o+l*(Af+Hp*o))]}Ql.invert=function(n,i){for(var a=i,o=a*a,l=o*o*o,p=0,v,S,R;p<pR&&(S=a*(vh+Vd*o+l*(Af+Hp*o))-i,R=vh+3*Vd*o+l*(7*Af+9*Hp*o),a-=v=S/R,o=a*a,l=o*o*o,!(Sf(v)<FM));++p);return[pv*n*(vh+3*Vd*o+l*(7*Af+9*Hp*o))/Dc(a),Zg(vc(a)/pv)]};function Q0(){return vm(Ql).scale(177.158)}function t0(n,i){var a=Dc(i),o=Dc(n)*a;return[a*vc(n)/o,vc(i)/o]}t0.invert=Fx(v2);function Jd(){return vm(t0).scale(144.049).clipAngle(60)}function TD(){var n=1,i=0,a=0,o=1,l=1,p=0,v,S,R=null,P,I,k,z=1,te=1,de=kx({point:function(Mt,en){var Rn=ut([Mt,en]);this.stream.point(Rn[0],Rn[1])}}),be=vT,Re,Ie;function it(){return z=n*o,te=n*l,Re=Ie=null,ut}function ut(Mt){var en=Mt[0]*z,Rn=Mt[1]*te;if(p){var Jn=Rn*v-en*S;en=en*v+Rn*S,Rn=Jn}return[en+i,Rn+a]}return ut.invert=function(Mt){var en=Mt[0]-i,Rn=Mt[1]-a;if(p){var Jn=Rn*v+en*S;en=en*v-Rn*S,Rn=Jn}return[en/z,Rn/te]},ut.stream=function(Mt){return Re&&Ie===Mt?Re:Re=de(be(Ie=Mt))},ut.postclip=function(Mt){return arguments.length?(be=Mt,R=P=I=k=null,it()):be},ut.clipExtent=function(Mt){return arguments.length?(be=Mt==null?(R=P=I=k=null,vT):hv(R=+Mt[0][0],P=+Mt[0][1],I=+Mt[1][0],k=+Mt[1][1]),it()):R==null?null:[[R,P],[I,k]]},ut.scale=function(Mt){return arguments.length?(n=+Mt,it()):n},ut.translate=function(Mt){return arguments.length?(i=+Mt[0],a=+Mt[1],it()):[i,a]},ut.angle=function(Mt){return arguments.length?(p=Mt%360*sd,S=vc(p),v=Dc(p),it()):p*gp},ut.reflectX=function(Mt){return arguments.length?(o=Mt?-1:1,it()):o<0},ut.reflectY=function(Mt){return arguments.length?(l=Mt?-1:1,it()):l<0},ut.fitExtent=function(Mt,en){return BT(ut,Mt,en)},ut.fitSize=function(Mt,en){return CC(ut,Mt,en)},ut.fitWidth=function(Mt,en){return OC(ut,Mt,en)},ut.fitHeight=function(Mt,en){return wC(ut,Mt,en)},ut}function Bd(n,i){var a=i*i,o=a*a;return[n*(.8707-.131979*a+o*(-.013791+o*(.003971*a-.001529*o))),i*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))]}Bd.invert=function(n,i){var a=i,o=25,l;do{var p=a*a,v=p*p;a-=l=(a*(1.007226+p*(.015085+v*(-.044475+.028874*p-.005916*v)))-i)/(1.007226+p*(.015085*3+v*(-.044475*7+.028874*9*p-.005916*11*v)))}while(Sf(l)>vl&&--o>0);return[n/(.8707+(p=a*a)*(-.131979+p*(-.013791+p*p*p*(.003971-.001529*p)))),a]};function ym(){return vm(Bd).scale(175.295)}function ey(n,i){return[Dc(i)*vc(n),vc(i)]}ey.invert=Fx(Zg);function UT(){return vm(ey).scale(249.5).clipAngle(90+vl)}function xo(n,i){var a=Dc(i),o=1+Dc(n)*a;return[a*vc(n)/o,vc(i)/o]}xo.invert=Fx(function(n){return 2*v2(n)});function eu(){return vm(xo).scale(250).clipAngle(142)}function gR(n,i){return[_T(Sx((Wh+i)/2)),-n]}gR.invert=function(n,i){return[-i,2*v2(zM(n))-Wh]};function Es(){var n=Hc(gR),i=n.center,a=n.rotate;return n.center=function(o){return arguments.length?i([-o[1],o[0]]):(o=i(),[o[1],-o[0]])},n.rotate=function(o){return arguments.length?a([o[0],o[1],o.length>2?o[2]+90:90]):(o=a(),[o[0],o[1],o[2]-90])},a([0,0,90]).scale(159.155)}var Iu=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function oa(n){if(typeof n=="function")return n;const i=`geo${(0,jn.Z)(n)}`,a=ne[i];if(!a)throw new Error(`Unknown coordinate: ${n}`);return a}function zT(n){return{type:"FeatureCollection",features:n.flatMap(i=>gv(i).features)}}function gv(n){const i={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!n||!n.type)return null;const a=i[n.type];if(!a)return null;if(a==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:n}]};if(a==="feature")return{type:"FeatureCollection",features:[n]};if(a==="featureCollection")return n}function w2(n,i){var a;for(const[o,l]of Object.entries(i))(a=n[o])===null||a===void 0||a.call(n,l)}function mR(n,i,a,o){const l=()=>{const S=i.filter(NL);return S.find(P=>P.sphere)?{type:"Sphere"}:zT(S.filter(P=>!P.sphere).flatMap(P=>P.data.value))},{outline:p=l()}=o,{size:v="fitExtent"}=o;if(v==="fitExtent")return vR(n,p,a);if(v==="fitWidth")return SD(n,p,a)}function vR(n,i,a){const{x:o,y:l,width:p,height:v}=a;n.fitExtent([[o,l],[p,v]],i)}function SD(n,i,a){const{width:o,height:l}=a,[[p,v],[S,R]]=fL(n.fitWidth(o,i)).bounds(i),P=Math.ceil(R-v),I=Math.min(Math.ceil(S-p),P),k=n.scale()*(I-1)/I,[z,te]=n.translate(),de=te+(l-P)/2;n.scale(k).translate([z,de]).precision(.2)}function LL(n){const{data:i}=n;if(Array.isArray(i))return Object.assign(Object.assign({},n),{data:{value:i}});const{type:a}=i;return a==="graticule10"?Object.assign(Object.assign({},n),{data:{value:[hL()]}}):a==="sphere"?Object.assign(Object.assign({},n),{sphere:!0,data:{value:[{type:"Sphere"}]}}):n}function NL(n){return n.type==="geoPath"}const DL=()=>n=>{const{children:i,coordinate:a={}}=n;if(!Array.isArray(i))return[];const{type:o="equalEarth"}=a,l=Iu(a,["type"]),p=oa(o),v=i.map(LL);let S;function R(){return[["custom",(k,z,te,de)=>{const be=p();mR(be,v,{x:k,y:z,width:te,height:de},l),w2(be,l),S=fL(be);const Ie=new Oo.b({domain:[k,k+te]}),it=new Oo.b({domain:[z,z+de]}),ut=en=>{const Rn=be(en);if(!Rn)return[null,null];const[Jn,nr]=Rn;return[Ie.map(Jn),it.map(nr)]},Mt=en=>{if(!en)return null;const[Rn,Jn]=en,nr=[Ie.invert(Rn),it.invert(Jn)];return be.invert(nr)};return{transform:en=>ut(en),untransform:en=>Mt(en)}}]]}function P(k){const{style:z,tooltip:te={}}=k;return Object.assign(Object.assign({},k),{type:"path",tooltip:Lv(te,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},z),{d:de=>S(de)||[]})})}const I=k=>NL(k)?P(k):k;return[Object.assign(Object.assign({},n),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:R},children:v.flatMap(I)})]};DL.props={};var yR=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Cl=()=>n=>{const{type:i,data:a,scale:o,encode:l,style:p,animate:v,key:S,state:R}=n,P=yR(n,["type","data","scale","encode","style","animate","key","state"]);return[Object.assign(Object.assign({type:"geoView"},P),{children:[{type:"geoPath",key:`${S}-0`,data:{value:a},scale:o,encode:l,style:p,animate:v,state:R}]})]};Cl.props={};function b_(){return{"composition.geoView":DL,"composition.geoPath":Cl}}var _R=A(64681),bR=A(44575),ER=A(42655),Ux=A(4507),ZT=A(57280),AD=A(96207),kL=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const CD={joint:!0},M2={type:"link",axis:!1,legend:!1,encode:{x:[n=>n.source.x,n=>n.target.x],y:[n=>n.source.y,n=>n.target.y]},style:{stroke:"#999",strokeOpacity:.6}},OD={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},wD={text:""};function BL(n,i,a){const{nodes:o,links:l}=n,{joint:p,nodeStrength:v,linkStrength:S}=i,{nodeKey:R=de=>de.id,linkKey:P=de=>de.id}=a,I=(0,_R.Z)(),k=(0,bR.Z)(l).id(lm(P));typeof v=="function"&&I.strength(v),typeof S=="function"&&k.strength(S);const z=(0,ER.Z)(o).force("link",k).force("charge",I);p?z.force("center",(0,Ux.Z)()):z.force("x",(0,ZT.Z)()).force("y",(0,AD.Z)()),z.stop();const te=Math.ceil(Math.log(z.alphaMin())/Math.log(1-z.alphaDecay()));for(let de=0;de<te;de++)z.tick();return{nodesData:o,linksData:l}}const FL=n=>{const{data:i,encode:a={},scale:o,style:l={},layout:p={},nodeLabels:v=[],linkLabels:S=[],animate:R={},tooltip:P={}}=n,{nodeKey:I=Rn=>Rn.id,linkKey:k=Rn=>Rn.id}=a,z=kL(a,["nodeKey","linkKey"]),te=Object.assign({nodeKey:I,linkKey:k},z),de=jt(te,"node"),be=jt(te,"link"),{links:Re,nodes:Ie}=FE(i,te),{nodesData:it,linksData:ut}=BL({links:Re,nodes:Ie},(0,Ui.Z)({},CD,p),te),Mt=Pp(P,"link",{items:[Rn=>({name:"source",value:lm(k)(Rn.source)}),Rn=>({name:"target",value:lm(k)(Rn.target)})]}),en=Pp(P,"node",{items:[Rn=>({name:"key",value:lm(I)(Rn)})]},!0);return[(0,Ui.Z)({},M2,{data:ut,encode:be,labels:S,style:jt(l,"link"),tooltip:Mt,animate:Ip(R,"link")}),(0,Ui.Z)({},OD,{data:it,encode:Object.assign({},de),scale:o,style:jt(l,"node"),tooltip:en,labels:[Object.assign(Object.assign({},wD),jt(l,"label")),...v],animate:Ip(R,"link")})]};FL.props={};function MD(n,i){return n.parent===i.parent?1:2}function xR(n){var i=n.children;return i?i[0]:n.t}function R2(n){var i=n.children;return i?i[i.length-1]:n.t}function ty(n,i,a){var o=a/(i.i-n.i);i.c-=o,i.s+=a,n.c+=o,i.z+=a,i.m+=a}function UL(n){for(var i=0,a=0,o=n.children,l=o.length,p;--l>=0;)p=o[l],p.z+=i,p.m+=i,i+=p.s+(a+=p.c)}function RD(n,i,a){return n.a.parent===i.parent?n.a:a}function E_(n,i){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}E_.prototype=Object.create(am.prototype);function PD(n){for(var i=new E_(n,0),a,o=[i],l,p,v,S;a=o.pop();)if(p=a._.children)for(a.children=new Array(S=p.length),v=S-1;v>=0;--v)o.push(l=a.children[v]=new E_(p[v],v)),l.parent=a;return(i.parent=new E_(null,0)).children=[i],i}function zL(){var n=MD,i=1,a=1,o=null;function l(P){var I=PD(P);if(I.eachAfter(p),I.parent.m=-I.z,I.eachBefore(v),o)P.eachBefore(R);else{var k=P,z=P,te=P;P.eachBefore(function(it){it.x<k.x&&(k=it),it.x>z.x&&(z=it),it.depth>te.depth&&(te=it)});var de=k===z?1:n(k,z)/2,be=de-k.x,Re=i/(z.x+de+be),Ie=a/(te.depth||1);P.eachBefore(function(it){it.x=(it.x+be)*Re,it.y=it.depth*Ie})}return P}function p(P){var I=P.children,k=P.parent.children,z=P.i?k[P.i-1]:null;if(I){UL(P);var te=(I[0].z+I[I.length-1].z)/2;z?(P.z=z.z+n(P._,z._),P.m=P.z-te):P.z=te}else z&&(P.z=z.z+n(P._,z._));P.parent.A=S(P,z,P.parent.A||k[0])}function v(P){P._.x=P.z+P.parent.m,P.m+=P.parent.m}function S(P,I,k){if(I){for(var z=P,te=P,de=I,be=z.parent.children[0],Re=z.m,Ie=te.m,it=de.m,ut=be.m,Mt;de=R2(de),z=xR(z),de&&z;)be=xR(be),te=R2(te),te.a=P,Mt=de.z+it-z.z-Re+n(de._,z._),Mt>0&&(ty(RD(de,P,k),P,Mt),Re+=Mt,Ie+=Mt),it+=de.m,Re+=z.m,ut+=be.m,Ie+=te.m;de&&!R2(te)&&(te.t=de,te.m+=it-Ie),z&&!xR(be)&&(be.t=z,be.m+=Re-ut,k=P)}return k}function R(P){P.x*=i,P.y=P.depth*a}return l.separation=function(P){return arguments.length?(n=P,l):n},l.size=function(P){return arguments.length?(o=!1,i=+P[0],a=+P[1],l):o?null:[i,a]},l.nodeSize=function(P){return arguments.length?(o=!0,i=+P[0],a=+P[1],l):o?[i,a]:null},l}function ID(n,i){return n.parent===i.parent?1:2}function LD(n){return n.reduce(ZL,0)/n.length}function ZL(n,i){return n+i.x}function jL(n){return 1+n.reduce(HL,0)}function HL(n,i){return Math.max(n,i.y)}function ND(n){for(var i;i=n.children;)n=i[0];return n}function TR(n){for(var i;i=n.children;)n=i[i.length-1];return n}function jT(){var n=ID,i=1,a=1,o=!1;function l(p){var v,S=0;p.eachAfter(function(z){var te=z.children;te?(z.x=LD(te),z.y=jL(te)):(z.x=v?S+=n(z,v):0,z.y=0,v=z)});var R=ND(p),P=TR(p),I=R.x-n(R,P)/2,k=P.x+n(P,R)/2;return p.eachAfter(o?function(z){z.x=(z.x-p.x)*i,z.y=(p.y-z.y)*a}:function(z){z.x=(z.x-I)/(k-I)*i,z.y=(1-(p.y?z.y/p.y:1))*a})}return l.separation=function(p){return arguments.length?(n=p,l):n},l.size=function(p){return arguments.length?(o=!1,i=+p[0],a=+p[1],l):o?null:[i,a]},l.nodeSize=function(p){return arguments.length?(o=!0,i=+p[0],a=+p[1],l):o?[i,a]:null},l}const NC=n=>i=>a=>{const{field:o="value",nodeSize:l,separation:p,sortBy:v,as:S=["x","y"]}=i,[R,P]=S,I=zv(a,de=>de.children).sum(de=>de[o]).sort(v),k=n();k.size([1,1]),l&&k.nodeSize(l),p&&k.separation(p),k(I);const z=[];I.each(de=>{de[R]=de.x,de[P]=de.y,de.name=de.data.name,z.push(de)});const te=I.links();return te.forEach(de=>{de[R]=[de.source[R],de.target[R]],de[P]=[de.source[P],de.target[P]]}),{nodes:z,edges:te}},HT=n=>NC(jT)(n);HT.props={};const SR=n=>NC(zL)(n);SR.props={};const P2={sortBy:(n,i)=>i.value-n.value},WL={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},AR={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},x_={text:"",fontSize:10},CR=n=>{const{data:i,encode:a={},scale:o={},style:l={},layout:p={},nodeLabels:v=[],linkLabels:S=[],animate:R={},tooltip:P={}}=n,I=a==null?void 0:a.value,{nodes:k,edges:z}=SR(Object.assign(Object.assign(Object.assign({},P2),p),{field:I}))(i),te=Pp(P,"node",{title:"name",items:["value"]},!0),de=Pp(P,"link",{title:"",items:[be=>({name:"source",value:be.source.name}),be=>({name:"target",value:be.target.name})]});return[(0,Ui.Z)({},AR,{data:z,encode:jt(a,"link"),scale:jt(o,"link"),labels:S,style:Object.assign({stroke:"#999"},jt(l,"link")),tooltip:de,animate:Ip(R,"link")}),(0,Ui.Z)({},WL,{data:k,scale:jt(o,"node"),encode:jt(a,"node"),labels:[Object.assign(Object.assign({},x_),jt(l,"label")),...v],style:Object.assign({},jt(l,"node")),tooltip:te,animate:Ip(R,"node")})]};CR.props={};var DD=1664525,kD=1013904223,DC=4294967296;function ny(){var n=1;return function(){return(n=(DD*n+kD)%DC)/DC}}var I2=A(31759);function VL(n){return I2(n)==="object"&&"length"in n?n:Array.from(n)}function OR(n,i){for(var a=n.length,o,l;a;)l=i()*a--|0,o=n[a],n[a]=n[l],n[l]=o;return n}function BD(n){return wR(n,lcg())}function wR(n,i){for(var a=0,o=(n=OR(Array.from(n),i)).length,l=[],p,v;a<o;)p=n[a],v&&zx(v,p)?++a:(v=RR(l=MR(l,p)),a=0);return v}function MR(n,i){var a,o;if(kC(i,n))return[i];for(a=0;a<n.length;++a)if(WT(i,n[a])&&kC(Zx(n[a],i),n))return[n[a],i];for(a=0;a<n.length-1;++a)for(o=a+1;o<n.length;++o)if(WT(Zx(n[a],n[o]),i)&&WT(Zx(n[a],i),n[o])&&WT(Zx(n[o],i),n[a])&&kC(PR(n[a],n[o],i),n))return[n[a],n[o],i];throw new Error}function WT(n,i){var a=n.r-i.r,o=i.x-n.x,l=i.y-n.y;return a<0||a*a<o*o+l*l}function zx(n,i){var a=n.r-i.r+Math.max(n.r,i.r,1)*1e-9,o=i.x-n.x,l=i.y-n.y;return a>0&&a*a>o*o+l*l}function kC(n,i){for(var a=0;a<i.length;++a)if(!zx(n,i[a]))return!1;return!0}function RR(n){switch(n.length){case 1:return GL(n[0]);case 2:return Zx(n[0],n[1]);case 3:return PR(n[0],n[1],n[2])}}function GL(n){return{x:n.x,y:n.y,r:n.r}}function Zx(n,i){var a=n.x,o=n.y,l=n.r,p=i.x,v=i.y,S=i.r,R=p-a,P=v-o,I=S-l,k=Math.sqrt(R*R+P*P);return{x:(a+p+R/k*I)/2,y:(o+v+P/k*I)/2,r:(k+l+S)/2}}function PR(n,i,a){var o=n.x,l=n.y,p=n.r,v=i.x,S=i.y,R=i.r,P=a.x,I=a.y,k=a.r,z=o-v,te=o-P,de=l-S,be=l-I,Re=R-p,Ie=k-p,it=o*o+l*l-p*p,ut=it-v*v-S*S+R*R,Mt=it-P*P-I*I+k*k,en=te*de-z*be,Rn=(de*Mt-be*ut)/(en*2)-o,Jn=(be*Re-de*Ie)/en,nr=(te*ut-z*Mt)/(en*2)-l,mr=(z*Ie-te*Re)/en,Vr=Jn*Jn+mr*mr-1,Hr=2*(p+Rn*Jn+nr*mr),fi=Rn*Rn+nr*nr-p*p,dr=-(Math.abs(Vr)>1e-6?(Hr+Math.sqrt(Hr*Hr-4*Vr*fi))/(2*Vr):fi/Hr);return{x:o+Rn+Jn*dr,y:l+nr+mr*dr,r:dr}}function IR(n,i,a){var o=n.x-i.x,l,p,v=n.y-i.y,S,R,P=o*o+v*v;P?(p=i.r+a.r,p*=p,R=n.r+a.r,R*=R,p>R?(l=(P+R-p)/(2*P),S=Math.sqrt(Math.max(0,R/P-l*l)),a.x=n.x-l*o-S*v,a.y=n.y-l*v+S*o):(l=(P+p-R)/(2*P),S=Math.sqrt(Math.max(0,p/P-l*l)),a.x=i.x+l*o-S*v,a.y=i.y+l*v+S*o)):(a.x=i.x+a.r,a.y=i.y)}function LR(n,i){var a=n.r+i.r-1e-6,o=i.x-n.x,l=i.y-n.y;return a>0&&a*a>o*o+l*l}function YL(n){var i=n._,a=n.next._,o=i.r+a.r,l=(i.x*a.r+a.x*i.r)/o,p=(i.y*a.r+a.y*i.r)/o;return l*l+p*p}function VT(n){this._=n,this.next=null,this.previous=null}function BC(n,i){if(!(p=(n=VL(n)).length))return 0;var a,o,l,p,v,S,R,P,I,k,z;if(a=n[0],a.x=0,a.y=0,!(p>1))return a.r;if(o=n[1],a.x=-o.r,o.x=a.r,o.y=0,!(p>2))return a.r+o.r;IR(o,a,l=n[2]),a=new VT(a),o=new VT(o),l=new VT(l),a.next=l.previous=o,o.next=a.previous=l,l.next=o.previous=a;e:for(R=3;R<p;++R){IR(a._,o._,l=n[R]),l=new VT(l),P=o.next,I=a.previous,k=o._.r,z=a._.r;do if(k<=z){if(LR(P._,l._)){o=P,a.next=o,o.previous=a,--R;continue e}k+=P._.r,P=P.next}else{if(LR(I._,l._)){a=I,a.next=o,o.previous=a,--R;continue e}z+=I._.r,I=I.previous}while(P!==I.next);for(l.previous=a,l.next=o,a.next=o.previous=o=l,v=YL(a);(l=l.next)!==o;)(S=YL(l))<v&&(a=l,v=S);o=a.next}for(a=[o._],l=o;(l=l.next)!==o;)a.push(l._);for(l=wR(a,i),R=0;R<p;++R)a=n[R],a.x-=l.x,a.y-=l.y;return l.r}function FD(n){return BC(n,lcg()),n}function $L(n){return Math.sqrt(n.value)}function XL(){var n=null,i=1,a=1,o=rv;function l(p){var v=ny();return p.x=i/2,p.y=a/2,n?p.eachBefore(NR(n)).eachAfter(FC(o,.5,v)).eachBefore(DR(1)):p.eachBefore(NR($L)).eachAfter(FC(rv,1,v)).eachAfter(FC(o,p.r/Math.min(i,a),v)).eachBefore(DR(Math.min(i,a)/(2*p.r))),p}return l.radius=function(p){return arguments.length?(n=K3(p),l):n},l.size=function(p){return arguments.length?(i=+p[0],a=+p[1],l):[i,a]},l.padding=function(p){return arguments.length?(o=typeof p=="function"?p:g2(+p),l):o},l}function NR(n){return function(i){i.children||(i.r=Math.max(0,+n(i)||0))}}function FC(n,i,a){return function(o){if(l=o.children){var l,p,v=l.length,S=n(o)*i||0,R;if(S)for(p=0;p<v;++p)l[p].r+=S;if(R=BC(l,a),S)for(p=0;p<v;++p)l[p].r-=S;o.r=R+S}}}function DR(n){return function(i){var a=i.parent;i.r*=n,a&&(i.x=a.x+n*i.x,i.y=a.y+n*i.y)}}var _c=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const KL=(n,i)=>({size:[n,i],padding:0,sort:(a,o)=>o.value-a.value}),QL=(n,i,a)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,n]},y:{domain:[0,i]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:a.color?void 0:o=>o.height===0?"#ddd":"#fff",stroke:a.color?void 0:o=>o.height===0?"":"#000"}}),Wp={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:n=>n.r*2},eh={title:n=>n.data.name,items:[{field:"value"}]},vp=(n,i,a)=>{const{value:o}=a,l=(0,dn.Z)(n)?wA().path(i.path)(n):zv(n);return o?l.sum(p=>lm(o)(p)).sort(i.sort):l.count(),XL().size(i.size).padding(i.padding)(l),l.descendants()},mv=(n,i)=>{const{width:a,height:o}=i,{data:l,encode:p={},scale:v={},style:S={},layout:R={},labels:P=[],tooltip:I={}}=n,k=_c(n,["data","encode","scale","style","layout","labels","tooltip"]),z=QL(a,o,p),te=vp(l,(0,Ui.Z)({},KL(a,o),R),(0,Ui.Z)({},z.encode,p)),de=jt(S,"label");return(0,Ui.Z)({},z,Object.assign(Object.assign({data:te,encode:p,scale:v,style:S,labels:[Object.assign(Object.assign({},Wp),de),...P]},k),{tooltip:Lv(I,eh),axis:!1}))};mv.props={};function qL(n){return n.target.depth}function JL(n){return n.depth}function e8(n,i){return i-1-n.height}function jx(n,i){return n.sourceLinks.length?n.depth:i-1}function UC(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?kh(n.sourceLinks,qL)-1:0}function yp(n){return function(){return n}}function n1(n,i){return GT(n.source,i.source)||n.index-i.index}function Hx(n,i){return GT(n.target,i.target)||n.index-i.index}function GT(n,i){return n.y0-i.y0}function YT(n){return n.value}function t8(n){return n.index}function n8(n){return n.nodes}function Wx(n){return n.links}function kR(n,i){const a=n.get(i);if(!a)throw new Error("missing: "+i);return a}function BR({nodes:n}){for(const i of n){let a=i.y0,o=a;for(const l of i.sourceLinks)l.y0=a+l.width/2,a+=l.width;for(const l of i.targetLinks)l.y1=o+l.width/2,o+=l.width}}function UD(){let n=0,i=0,a=1,o=1,l=24,p=8,v,S=t8,R=jx,P,I,k,z=n8,te=Wx,de=6;function be(hr){const Ti={nodes:z(hr),links:te(hr)};return Re(Ti),Ie(Ti),it(Ti),ut(Ti),Rn(Ti),BR(Ti),Ti}be.update=function(hr){return BR(hr),hr},be.nodeId=function(hr){return arguments.length?(S=typeof hr=="function"?hr:yp(hr),be):S},be.nodeAlign=function(hr){return arguments.length?(R=typeof hr=="function"?hr:yp(hr),be):R},be.nodeDepth=function(hr){return arguments.length?(P=hr,be):P},be.nodeSort=function(hr){return arguments.length?(I=hr,be):I},be.nodeWidth=function(hr){return arguments.length?(l=+hr,be):l},be.nodePadding=function(hr){return arguments.length?(p=v=+hr,be):p},be.nodes=function(hr){return arguments.length?(z=typeof hr=="function"?hr:yp(hr),be):z},be.links=function(hr){return arguments.length?(te=typeof hr=="function"?hr:yp(hr),be):te},be.linkSort=function(hr){return arguments.length?(k=hr,be):k},be.size=function(hr){return arguments.length?(n=i=0,a=+hr[0],o=+hr[1],be):[a-n,o-i]},be.extent=function(hr){return arguments.length?(n=+hr[0][0],a=+hr[1][0],i=+hr[0][1],o=+hr[1][1],be):[[n,i],[a,o]]},be.iterations=function(hr){return arguments.length?(de=+hr,be):de};function Re({nodes:hr,links:Ti}){hr.forEach((Gr,Qi)=>{Gr.index=Qi,Gr.sourceLinks=[],Gr.targetLinks=[]});const Rr=new Map(hr.map(Gr=>[S(Gr),Gr]));if(Ti.forEach((Gr,Qi)=>{Gr.index=Qi;let{source:ga,target:ya}=Gr;typeof ga!="object"&&(ga=Gr.source=kR(Rr,ga)),typeof ya!="object"&&(ya=Gr.target=kR(Rr,ya)),ga.sourceLinks.push(Gr),ya.targetLinks.push(Gr)}),k!=null)for(const{sourceLinks:Gr,targetLinks:Qi}of hr)Gr.sort(k),Qi.sort(k)}function Ie({nodes:hr}){for(const Ti of hr)Ti.value=Ti.fixedValue===void 0?Math.max(Xi(Ti.sourceLinks,YT),Xi(Ti.targetLinks,YT)):Ti.fixedValue}function it({nodes:hr}){const Ti=hr.length;let Rr=new Set(hr),Gr=new Set,Qi=0;for(;Rr.size;){if(Rr.forEach(ga=>{ga.depth=Qi;for(const{target:ya}of ga.sourceLinks)Gr.add(ya)}),++Qi>Ti)throw new Error("circular link");Rr=Gr,Gr=new Set}if(P){const ga=Math.max(ia(hr,Ea=>Ea.depth)+1,0);let ya;for(let Ea=0;Ea<hr.length;Ea++)ya=hr[Ea],ya.depth=P.call(null,ya,ga)}}function ut({nodes:hr}){const Ti=hr.length;let Rr=new Set(hr),Gr=new Set,Qi=0;for(;Rr.size;){if(Rr.forEach(ga=>{ga.height=Qi;for(const{source:ya}of ga.targetLinks)Gr.add(ya)}),++Qi>Ti)throw new Error("circular link");Rr=Gr,Gr=new Set}}function Mt({nodes:hr}){const Ti=Math.max(ia(hr,Qi=>Qi.depth)+1,0),Rr=(a-n-l)/(Ti-1),Gr=new Array(Ti).fill(0).map(()=>[]);for(const Qi of hr){const ga=Math.max(0,Math.min(Ti-1,Math.floor(R.call(null,Qi,Ti))));Qi.layer=ga,Qi.x0=n+ga*Rr,Qi.x1=Qi.x0+l,Gr[ga]?Gr[ga].push(Qi):Gr[ga]=[Qi]}if(I)for(const Qi of Gr)Qi.sort(I);return Gr}function en(hr){const Ti=kh(hr,Rr=>(o-i-(Rr.length-1)*v)/Xi(Rr,YT));for(const Rr of hr){let Gr=i;for(const Qi of Rr){Qi.y0=Gr,Qi.y1=Gr+Qi.value*Ti,Gr=Qi.y1+v;for(const ga of Qi.sourceLinks)ga.width=ga.value*Ti}Gr=(o-Gr+v)/(Rr.length+1);for(let Qi=0;Qi<Rr.length;++Qi){const ga=Rr[Qi];ga.y0+=Gr*(Qi+1),ga.y1+=Gr*(Qi+1)}dr(Rr)}}function Rn(hr){const Ti=Mt(hr);v=Math.min(p,(o-i)/(ia(Ti,Rr=>Rr.length)-1)),en(Ti);for(let Rr=0;Rr<de;++Rr){const Gr=Math.pow(.99,Rr),Qi=Math.max(1-Gr,(Rr+1)/de);nr(Ti,Gr,Qi),Jn(Ti,Gr,Qi)}}function Jn(hr,Ti,Rr){for(let Gr=1,Qi=hr.length;Gr<Qi;++Gr){const ga=hr[Gr];for(const ya of ga){let Ea=0,go=0;for(const{source:Ps,value:jo}of ya.targetLinks){const Uo=jo*(ya.layer-Ps.layer);Ea+=_r(Ps,ya)*Uo,go+=Uo}if(!(go>0))continue;const Wo=(Ea/go-ya.y0)*Ti;ya.y0+=Wo,ya.y1+=Wo,fi(ya)}I===void 0&&ga.sort(GT),ga.length&&mr(ga,Rr)}}function nr(hr,Ti,Rr){for(let Gr=hr.length,Qi=Gr-2;Qi>=0;--Qi){const ga=hr[Qi];for(const ya of ga){let Ea=0,go=0;for(const{target:Ps,value:jo}of ya.sourceLinks){const Uo=jo*(Ps.layer-ya.layer);Ea+=lr(ya,Ps)*Uo,go+=Uo}if(!(go>0))continue;const Wo=(Ea/go-ya.y0)*Ti;ya.y0+=Wo,ya.y1+=Wo,fi(ya)}I===void 0&&ga.sort(GT),ga.length&&mr(ga,Rr)}}function mr(hr,Ti){const Rr=hr.length>>1,Gr=hr[Rr];Hr(hr,Gr.y0-v,Rr-1,Ti),Vr(hr,Gr.y1+v,Rr+1,Ti),Hr(hr,o,hr.length-1,Ti),Vr(hr,i,0,Ti)}function Vr(hr,Ti,Rr,Gr){for(;Rr<hr.length;++Rr){const Qi=hr[Rr],ga=(Ti-Qi.y0)*Gr;ga>1e-6&&(Qi.y0+=ga,Qi.y1+=ga),Ti=Qi.y1+v}}function Hr(hr,Ti,Rr,Gr){for(;Rr>=0;--Rr){const Qi=hr[Rr],ga=(Qi.y1-Ti)*Gr;ga>1e-6&&(Qi.y0-=ga,Qi.y1-=ga),Ti=Qi.y0-v}}function fi({sourceLinks:hr,targetLinks:Ti}){if(k===void 0){for(const{source:{sourceLinks:Rr}}of Ti)Rr.sort(Hx);for(const{target:{targetLinks:Rr}}of hr)Rr.sort(n1)}}function dr(hr){if(k===void 0)for(const{sourceLinks:Ti,targetLinks:Rr}of hr)Ti.sort(Hx),Rr.sort(n1)}function _r(hr,Ti){let Rr=hr.y0-(hr.sourceLinks.length-1)*v/2;for(const{target:Gr,width:Qi}of hr.sourceLinks){if(Gr===Ti)break;Rr+=Qi+v}for(const{source:Gr,width:Qi}of Ti.targetLinks){if(Gr===hr)break;Rr-=Qi}return Rr}function lr(hr,Ti){let Rr=Ti.y0-(Ti.targetLinks.length-1)*v/2;for(const{source:Gr,width:Qi}of Ti.targetLinks){if(Gr===hr)break;Rr+=Qi+v}for(const{target:Gr,width:Qi}of hr.sourceLinks){if(Gr===Ti)break;Rr-=Qi}return Rr}return be}const FR={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:n=>n.nodes,links:n=>n.links,nodeSort:void 0,linkSort:void 0,iterations:6},UR={left:JL,right:e8,center:UC,justify:jx};function ry(n){const i=typeof n;return i==="string"?UR[n]||jx:i==="function"?n:jx}const r8=n=>i=>{const{nodeId:a,nodeSort:o,nodeAlign:l,nodeWidth:p,nodePadding:v,nodeDepth:S,nodes:R,links:P,linkSort:I,iterations:k}=Object.assign({},FR,n),z=UD().nodeSort(o).linkSort(I).links(P).nodes(R).nodeWidth(p).nodePadding(v).nodeDepth(S).nodeAlign(ry(l)).iterations(k).extent([[0,0],[1,1]]);typeof a=="function"&&z.nodeId(a);const te=z(i),{nodes:de,links:be}=te,Re=de.map(it=>{const{x0:ut,x1:Mt,y0:en,y1:Rn}=it;return Object.assign(Object.assign({},it),{x:[ut,Mt,Mt,ut],y:[en,en,Rn,Rn]})}),Ie=be.map(it=>{const{source:ut,target:Mt}=it,en=ut.x1,Rn=Mt.x0,Jn=it.width/2;return Object.assign(Object.assign({},it),{x:[en,en,Rn,Rn],y:[it.y0+Jn,it.y0-Jn,it.y1+Jn,it.y1-Jn]})});return{nodes:Re,links:Ie}};r8.props={};var Wg=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const i8={nodeId:n=>n.key,nodeWidth:.02,nodePadding:.02},Vx={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},du={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},zR={textAlign:n=>n.x[0]<.5?"start":"end",position:n=>n.x[0]<.5?"right":"left",fontSize:10},zC=n=>{const{data:i,encode:a={},scale:o,style:l={},layout:p={},nodeLabels:v=[],linkLabels:S=[],animate:R={},tooltip:P={},interaction:I}=n,{links:k,nodes:z}=FE(i,a),te=jt(a,"node"),de=jt(a,"link"),{key:be=Vr=>Vr.key,color:Re=be}=te,{links:Ie,nodes:it}=r8(Object.assign(Object.assign(Object.assign({},i8),{nodeId:lm(be)}),p))({links:k,nodes:z}),ut=jt(l,"label"),{text:Mt=be,spacing:en=5}=ut,Rn=Wg(ut,["text","spacing"]),Jn=lm(be),nr=Pp(P,"node",{title:Jn,items:[{field:"value"}]},!0),mr=Pp(P,"link",{title:"",items:[Vr=>({name:"source",value:Jn(Vr.source)}),Vr=>({name:"target",value:Jn(Vr.target)})]});return[(0,Ui.Z)({},Vx,{data:it,encode:Object.assign(Object.assign({},te),{color:Re}),scale:o,style:jt(l,"node"),labels:[Object.assign(Object.assign(Object.assign({},zR),{text:Mt,dx:Vr=>Vr.x[0]<.5?en:-en}),Rn),...v],tooltip:nr,animate:Ip(R,"node"),axis:!1,interaction:I}),(0,Ui.Z)({},du,{data:Ie,encode:de,labels:S,style:Object.assign({fill:de.color?void 0:"#aaa",lineWidth:0},jt(l,"link")),tooltip:mr,animate:Ip(R,"link"),interaction:I})]};zC.props={};function a8(n,i){return i.value-n.value}function ZR(n,i){return i.frequency-n.frequency}function o8(n,i){return`${n.id}`.localeCompare(`${i.id}`)}function s8(n,i){return`${n.name}`.localeCompare(`${i.name}`)}const u8={y:0,thickness:.05,weight:!1,marginRatio:.1,id:n=>n.id,source:n=>n.source,target:n=>n.target,sourceWeight:n=>n.value||1,targetWeight:n=>n.value||1,sortBy:null};function l8(n){const{y:i,thickness:a,weight:o,marginRatio:l,id:p,source:v,target:S,sourceWeight:R,targetWeight:P,sortBy:I}=Object.assign(Object.assign({},u8),n);function k(Re){const Ie=Re.nodes.map(ut=>Object.assign({},ut)),it=Re.edges.map(ut=>Object.assign({},ut));return z(Ie,it),te(Ie,it),de(Ie,it),be(Ie,it),{nodes:Ie,edges:it}}function z(Re,Ie){Ie.forEach(Mt=>{Mt.source=v(Mt),Mt.target=S(Mt),Mt.sourceWeight=R(Mt),Mt.targetWeight=P(Mt)});const it=_e(Ie,Mt=>Mt.source),ut=_e(Ie,Mt=>Mt.target);return Re.forEach(Mt=>{Mt.id=p(Mt);const en=it.has(Mt.id)?it.get(Mt.id):[],Rn=ut.has(Mt.id)?ut.get(Mt.id):[];Mt.frequency=en.length+Rn.length,Mt.value=Xi(en,Jn=>Jn.sourceWeight)+Xi(Rn,Jn=>Jn.targetWeight)}),{nodes:Re,edges:Ie}}function te(Re,Ie){const it=typeof I=="function"?I:ue[I];it&&Re.sort(it)}function de(Re,Ie){const it=Re.length;if(!it)throw sn("Invalid nodes: it's empty!");if(!o){const en=1/it;return Re.forEach((Rn,Jn)=>{Rn.x=(Jn+.5)*en,Rn.y=i}),{nodes:Re,edges:Ie}}const ut=l/(2*it),Mt=Re.reduce((en,Rn)=>en+=Rn.value,0);return Re.reduce((en,Rn)=>{Rn.weight=Rn.value/Mt,Rn.width=Rn.weight*(1-l),Rn.height=a;const Jn=ut+en,nr=Jn+Rn.width,mr=i-a/2,Vr=mr+a;return Rn.x=[Jn,nr,nr,Jn],Rn.y=[mr,mr,Vr,Vr],en+Rn.width+2*ut},0),{nodes:Re,edges:Ie}}function be(Re,Ie){const it=new Map(Re.map(en=>[en.id,en]));if(!o)return Ie.forEach(en=>{const Rn=v(en),Jn=S(en),nr=it.get(Rn),mr=it.get(Jn);nr&&mr&&(en.x=[nr.x,mr.x],en.y=[nr.y,mr.y])}),{nodes:Re,edges:Ie};Ie.forEach(en=>{en.x=[0,0,0,0],en.y=[i,i,i,i]});const ut=_e(Ie,en=>en.source),Mt=_e(Ie,en=>en.target);Re.forEach(en=>{const{edges:Rn,width:Jn,x:nr,y:mr,value:Vr,id:Hr}=en,fi=ut.get(Hr)||[],dr=Mt.get(Hr)||[];let _r=0;fi.map(lr=>{const hr=lr.sourceWeight/Vr*Jn;lr.x[0]=nr[0]+_r,lr.x[1]=nr[0]+_r+hr,_r+=hr}),dr.forEach(lr=>{const hr=lr.targetWeight/Vr*Jn;lr.x[3]=nr[0]+_r,lr.x[2]=nr[0]+_r+hr,_r+=hr})})}return k}const ZC=n=>i=>l8(n)(i);ZC.props={};var L2=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const N2={y:0,thickness:.05,marginRatio:.1,id:n=>n.key,source:n=>n.source,target:n=>n.target,sourceWeight:n=>n.value||1,targetWeight:n=>n.value||1,sortBy:null},D2={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},k2={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},jC={position:"outside",fontSize:10},B2=(n,i)=>{const{data:a,encode:o={},scale:l,style:p={},layout:v={},nodeLabels:S=[],linkLabels:R=[],animate:P={},tooltip:I={}}=n,{nodes:k,links:z}=FE(a,o),te=jt(o,"node"),de=jt(o,"link"),{key:be=lr=>lr.key,color:Re=be}=te,{linkEncodeColor:Ie=lr=>lr.source}=de,{nodeWidthRatio:it=N2.thickness,nodePaddingRatio:ut=N2.marginRatio}=v,Mt=L2(v,["nodeWidthRatio","nodePaddingRatio"]),{nodes:en,edges:Rn}=ZC(Object.assign(Object.assign(Object.assign(Object.assign({},N2),{id:lm(be),thickness:it,marginRatio:ut}),Mt),{weight:!0}))({nodes:k,edges:z}),Jn=jt(p,"label"),{text:nr=be}=Jn,mr=L2(Jn,["text"]),Vr=Pp(I,"node",{title:"",items:[lr=>({name:lr.key,value:lr.value})]},!0),Hr=Pp(I,"link",{title:"",items:[lr=>({name:`${lr.source} -> ${lr.target}`,value:lr.value})]}),{height:fi,width:dr}=i,_r=Math.min(fi,dr);return[(0,Ui.Z)({},k2,{data:Rn,encode:Object.assign(Object.assign({},de),{color:Ie}),labels:R,style:Object.assign({fill:Ie?void 0:"#aaa"},jt(p,"link")),tooltip:Hr,animate:Ip(P,"link")}),(0,Ui.Z)({},D2,{data:en,encode:Object.assign(Object.assign({},te),{color:Re}),scale:l,style:jt(p,"node"),coordinate:{type:"polar",outerRadius:(_r-20)/_r,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},jC),{text:nr}),mr),...S],tooltip:Vr,animate:Ip(P,"node"),axis:!1})]};B2.props={};var jR=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const iy=(n,i)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[n,i],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(a,o)=>o.value-a.value,layer:0}),c8=(n,i)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:a=>a.path[1]},scale:{x:{domain:[0,n],range:[0,1]},y:{domain:[0,i],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),f8={fontSize:10,text:n=>sx(n.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:n=>n.x1-n.x0},HC={title:n=>{var i,a;return(a=(i=n.path)===null||i===void 0?void 0:i.join)===null||a===void 0?void 0:a.call(i,".")},items:[{field:"value"}]},d8={title:n=>sx(n.path),items:[{field:"value"}]},HR=(n,i)=>{const{width:a,height:o,options:l}=i,{data:p,encode:v={},scale:S,style:R={},layout:P={},labels:I=[],tooltip:k={}}=n,z=jR(n,["data","encode","scale","style","layout","labels","tooltip"]),te=(0,Pc.Z)(l,["interaction","treemapDrillDown"]),de=(0,Ui.Z)({},iy(a,o),P,{layer:te?it=>it.depth===1:P.layer}),[be,Re]=P5(p,de,v),Ie=jt(R,"label");return(0,Ui.Z)({},c8(a,o),Object.assign(Object.assign({data:be,scale:S,style:R,labels:[Object.assign(Object.assign({},f8),Ie),...I]},z),{encode:v,tooltip:Lv(k,HC),axis:!1}),te?{interaction:Object.assign(Object.assign({},z.interaction),{treemapDrillDown:te?Object.assign(Object.assign({},te),{originData:Re,layout:de}):void 0}),encode:Object.assign({color:it=>sx(it.path)},v),tooltip:Lv(k,d8)}:{})};HR.props={};function WC(){return{"data.arc":ZC,"data.cluster":HT,"mark.forceGraph":FL,"mark.tree":CR,"mark.pack":mv,"mark.sankey":zC,"mark.chord":B2,"mark.treemap":HR}}var WR=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};function rg(n,i){return kh(n,a=>i[a])}function h8(n,i){return ia(n,a=>i[a])}function VR(n,i){const a=VC(n,i)*2.5-GC(n,i)*1.5;return kh(n,o=>i[o]>=a?i[o]:NaN)}function VC(n,i){return HA(n,.25,a=>i[a])}function p8(n,i){return HA(n,.5,a=>i[a])}function GC(n,i){return HA(n,.75,a=>i[a])}function GR(n,i){const a=GC(n,i)*2.5-VC(n,i)*1.5;return ia(n,o=>i[o]<=a?i[o]:NaN)}function g8(){return(n,i)=>{const{encode:a}=i,{y:o,x:l}=a,{value:p}=o,{value:v}=l;return[Array.from(_e(n,P=>v[+P]).values()).flatMap(P=>{const I=VR(P,p),k=GR(P,p);return P.filter(z=>p[z]<I||p[z]>k)}),i]}}const YR=n=>{const{data:i,encode:a,style:o={},tooltip:l={},transform:p,animate:v}=n,S=WR(n,["data","encode","style","tooltip","transform","animate"]),{point:R=!0}=o,P=WR(o,["point"]),{y:I}=a,k={y:I,y1:I,y2:I,y3:I,y4:I},z={y1:VC,y2:p8,y3:GC},te=Pp(l,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),de=Pp(l,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!R)return Object.assign({type:"box",data:i,transform:[Object.assign(Object.assign({type:"groupX",y:rg},z),{y4:h8})],encode:Object.assign(Object.assign({},a),k),style:P,tooltip:te},S);const be=jt(P,"box"),Re=jt(P,"point");return[Object.assign({type:"box",data:i,transform:[Object.assign(Object.assign({type:"groupX",y:VR},z),{y4:GR})],encode:Object.assign(Object.assign({},a),k),style:be,tooltip:te,animate:Ip(v,"box")},S),{type:"point",data:i,transform:[{type:g8}],encode:a,style:Object.assign({},Re),tooltip:de,animate:Ip(v,"point")}]};YR.props={};const $R=(n,i)=>Math.sqrt(Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2))/2,XR=(n,i)=>{if(!i)return;const{coordinate:a}=i;if(!(a!=null&&a.getCenter))return;const o=a.getCenter();return(l,p,v)=>{const{document:S}=i.canvas,{color:R,index:P}=p,I=S.createElement("g",{}),k=$R(l[0],l[1]),z=$R(l[0],o)*2,te=S.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...l[0]],["A",k,k,0,1,0,...l[1]],["A",z+k*2,z+k*2,0,0,0,...l[2]],["A",k,k,0,1,P===0?0:1,...l[3]],["A",z,z,0,0,1,...l[0]],["Z"]]},v),(0,su.Z)(n,["shape","last","first"])),{fill:R||v.color})});return I.appendChild(te),I}};var $T=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const m8=(n,i)=>{const{shape:a,radius:o}=n,l=$T(n,["shape","radius"]),p=jt(l,"pointer"),v=jt(l,"pin"),{shape:S}=p,R=$T(p,["shape"]),{shape:P}=v,I=$T(v,["shape"]),{coordinate:k,theme:z}=i;return(te,de)=>{const be=te.map(_r=>k.invert(_r)),[Re,Ie,it]=Qo(k,"polar"),ut=k.clone(),{color:Mt}=de,en=Wa({startAngle:Re,endAngle:Ie,innerRadius:it,outerRadius:o});en.push(["cartesian"]),ut.update({transformations:en});const Rn=be.map(_r=>ut.map(_r)),[Jn,nr]=Oa(Rn),[mr,Vr]=k.getCenter(),Hr=Object.assign(Object.assign({x1:Jn,y1:nr,x2:mr,y2:Vr,stroke:Mt},R),l),fi=Object.assign(Object.assign({cx:mr,cy:Vr,stroke:Mt},I),l),dr=Ii(new Oe.ZA);return $i(S)||(typeof S=="function"?dr.append(()=>S(Rn,de,ut,z)):dr.append("line").call($o,Hr).node()),$i(P)||(typeof P=="function"?dr.append(()=>P(Rn,de,ut,z)):dr.append("circle").call($o,fi).node()),dr.node()}},KR={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},th={style:{shape:m8,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},QR={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"}};function Gx(n){if((0,Uc.Z)(n)){const i=Math.max(0,Math.min(n,1));return{percent:i,target:i,total:1}}return n}function XT(n,i){const{name:a="score",target:o,total:l,percent:p,thresholds:v=[]}=Gx(n),S=p||o,R=p?1:l,P=Object.assign({y:{domain:[0,R]}},i);return v.length?{targetData:[{x:a,y:S,color:"target"}],totalData:v.map((I,k)=>({x:a,y:k>=1?I-v[k-1]:I,color:k})),target:S,total:R,scale:P}:{targetData:[{x:a,y:S,color:"target"}],totalData:[{x:a,y:S,color:"target"},{x:a,y:R-S,color:"total"}],target:S,total:R,scale:P}}function KT(n,{target:i,total:a}){const{content:o}=n;return o?o(i,a):i.toString()}const vv=n=>{const{data:i={},scale:a={},style:o={},animate:l={},transform:p=[]}=n,v=$T(n,["data","scale","style","animate","transform"]),{targetData:S,totalData:R,target:P,total:I,scale:k}=XT(i,a),z=jt(o,"text"),te=yr(o,["pointer","pin"]),de=jt(o,"arc"),be=de.shape;return[(0,Ui.Z)({},KR,Object.assign({type:"interval",transform:[{type:"stackY"}],data:R,scale:k,style:be==="round"?Object.assign(Object.assign({},de),{shape:XR}):de,animate:typeof l=="object"?jt(l,"arc"):l},v)),(0,Ui.Z)({},KR,th,Object.assign({type:"point",data:S,scale:k,style:te,animate:typeof l=="object"?jt(l,"indicator"):l},v)),(0,Ui.Z)({},QR,{style:Object.assign({text:KT(z,{target:P,total:I})},z),animate:typeof l=="object"?jt(l,"text"):l})]};vv.props={};const F2=5e3;function qR(n,i,a){return n+(i-n)*a}function QT(n,i,a,o){return i===0?[[n+1/2*a/Math.PI/2,o/2],[n+1/2*a/Math.PI,o],[n+a/4,o]]:i===1?[[n+1/2*a/Math.PI/2*(Math.PI-2),o],[n+1/2*a/Math.PI/2*(Math.PI-1),o/2],[n+a/4,0]]:i===2?[[n+1/2*a/Math.PI/2,-o/2],[n+1/2*a/Math.PI,-o],[n+a/4,-o]]:[[n+1/2*a/Math.PI/2*(Math.PI-2),-o],[n+1/2*a/Math.PI/2*(Math.PI-1),-o/2],[n+a/4,0]]}function v8(n,i,a,o,l,p,v){const S=Math.ceil(2*n/a*4)*4,R=[];let P=o;for(;P<-Math.PI*2;)P+=Math.PI*2;for(;P>0;)P-=Math.PI*2;P=P/Math.PI/2*a;const I=p-n+P-n*2;R.push(["M",I,i]);let k=0;for(let z=0;z<S;++z){const te=z%4,de=QT(z*a/4,te,a,l);R.push(["C",de[0][0]+I,-de[0][1]+i,de[1][0]+I,-de[1][1]+i,de[2][0]+I,-de[2][1]+i]),z===S-1&&(k=de[2][0])}return R.push(["L",k+I,v+n]),R.push(["L",I,v+n]),R.push(["Z"]),R}function y8(n,i,a,o,l,p,v,S,R,P,I){const{fill:k,fillOpacity:z,opacity:te}=l;for(let de=0;de<o;de++){const be=o<=1?1:de/(o-1),Re=v8(S,v+S*a,R,0,S/40,n,i),Ie=I.createElement("path",{style:{d:Re,fill:k,opacity:qR(.2,.9,be)*Number(te||z)}});p.appendChild(Ie);try{if(P===!1)return;const it=[{transform:"translate(0, 0)"},{transform:`translate(${R*2}, 0)`}];Ie.animate(it,{duration:qR(.5*F2,F2,be)*2,iterations:1/0})}catch(it){console.warn("off-screen group animate error!")}}}function U2(n,i,a){return`
      M ${n} ${i-a} 
      a ${a} ${a} 0 1 0 0 ${a*2}
      a ${a} ${a} 0 1 0 0 ${-a*2}
      Z
    `}function qT(n,i,a){const l=a*.618;return`
      M ${n-l} ${i-a}
      L ${n+l} ${i-a}
      L ${n+l} ${i+a}
      L ${n-l} ${i+a}
      Z
    `}function _8(n,i,a){return`
      M ${n} ${i-a}
      L ${n+a} ${i}
      L ${n} ${i+a}
      L ${n-a} ${i}
      Z
    `}function JT(n,i,a){return`
      M ${n} ${i-a}
      L ${n+a} ${i+a}
      L ${n-a} ${i+a}
      Z
    `}function Yx(n,i,a){const o=a*4/3,l=Math.max(o,a*2),p=o/2,v=n,S=p+i-l/2,R=Math.asin(p/((l-p)*.85)),P=Math.sin(R)*p,I=Math.cos(R)*p,k=v-I,z=S+P,te=n,de=S+p/Math.sin(R);return`
      M ${k} ${z}
      A ${p} ${p} 0 1 1 ${k+I*2} ${z}
      Q ${te} ${de} ${n} ${i+l/2}
      Q ${te} ${de} ${k} ${z}
      Z 
    `}const $x={pin:Yx,rect:qT,circle:U2,diamond:_8,triangle:JT};var JR=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const Xx=(n="circle")=>$x[n]||$x.circle,e4=(n,i)=>{if(!i)return;const{coordinate:a}=i,{liquidOptions:o,styleOptions:l}=n,{liquidShape:p,percent:v}=o,{background:S,outline:R={},wave:P={}}=l,I=JR(l,["background","outline","wave"]),{border:k=2,distance:z=0}=R,te=JR(R,["border","distance"]),{length:de=192,count:be=3}=P;return(Re,Ie,it)=>{const{document:ut}=i.canvas,{color:Mt,fillOpacity:en}=it,Rn=Object.assign(Object.assign({fill:Mt},it),I),Jn=ut.createElement("g",{}),[nr,mr]=a.getCenter(),Vr=a.getSize(),Hr=Math.min(...Vr)/2,dr=((0,Ru.Z)(p)?p:Xx(p))(nr,mr,Hr,...Vr);if(Object.keys(S).length){const hr=ut.createElement("path",{style:Object.assign({d:dr,fill:"#fff"},S)});Jn.appendChild(hr)}if(v>0){const hr=ut.createElement("path",{style:{d:dr}});Jn.appendChild(hr),Jn.style.clipPath=hr,y8(nr,mr,1-v,be,Rn,Jn,hr.getBBox().y,Hr*2,de,!0,ut)}const _r=ut.createElement("path",{style:{d:dr,fill:"transparent",lineWidth:k+2*z,stroke:"#fff"}}),lr=ut.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:dr,stroke:Mt,strokeOpacity:en,lineWidth:k},Rn),te),{fill:"transparent"})});return Jn.appendChild(_r),Jn.appendChild(lr),Jn}};e4.props={};var b8=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a};const E8={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:e4},animate:{enter:{type:"fadeIn"}}},t4={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},n0=n=>{const{data:i={},style:a={},animate:o}=n,l=b8(n,["data","style","animate"]),p=Math.max(0,(0,Uc.Z)(i)?i:i==null?void 0:i.percent),v=[{percent:p,type:"liquid"}],S=Object.assign(Object.assign({},jt(a,"text")),jt(a,"content")),R=jt(a,"outline"),P=jt(a,"wave"),I=jt(a,"background");return[(0,Ui.Z)({},E8,Object.assign({type:"interval",data:v,style:{liquidOptions:{percent:p,liquidShape:a==null?void 0:a.shape},styleOptions:Object.assign(Object.assign({},a),{outline:R,wave:P,background:I})},animate:o},l)),(0,Ui.Z)({},t4,{style:Object.assign({text:`${Do(p*100)} %`},S),animate:o})]};n0.props={};var _m=A(52827);const n4=1e-10;function eS(n,i){const a=T8(n),o=a.filter(function(R){return x8(R,n)});let l=0,p=0,v;const S=[];if(o.length>1){const R=z2(o);for(v=0;v<o.length;++v){const I=o[v];I.angle=Math.atan2(I.x-R.x,I.y-R.y)}o.sort(function(I,k){return k.angle-I.angle});let P=o[o.length-1];for(v=0;v<o.length;++v){const I=o[v];p+=(P.x+I.x)*(I.y-P.y);const k={x:(I.x+P.x)/2,y:(I.y+P.y)/2};let z=null;for(let te=0;te<I.parentIndex.length;++te)if(P.parentIndex.indexOf(I.parentIndex[te])>-1){const de=n[I.parentIndex[te]],be=Math.atan2(I.x-de.x,I.y-de.y),Re=Math.atan2(P.x-de.x,P.y-de.y);let Ie=Re-be;Ie<0&&(Ie+=2*Math.PI);const it=Re-Ie/2;let ut=T_(k,{x:de.x+de.radius*Math.sin(it),y:de.y+de.radius*Math.cos(it)});ut>de.radius*2&&(ut=de.radius*2),(z===null||z.width>ut)&&(z={circle:de,width:ut,p1:I,p2:P})}z!==null&&(S.push(z),l+=YC(z.circle.radius,z.width),P=I)}}else{let R=n[0];for(v=1;v<n.length;++v)n[v].radius<R.radius&&(R=n[v]);let P=!1;for(v=0;v<n.length;++v)if(T_(n[v],R)>Math.abs(R.radius-n[v].radius)){P=!0;break}P?l=p=0:(l=R.radius*R.radius*Math.PI,S.push({circle:R,p1:{x:R.x,y:R.y+R.radius},p2:{x:R.x-n4,y:R.y+R.radius},width:R.radius*2}))}return p/=2,i&&(i.area=l+p,i.arcArea=l,i.polygonArea=p,i.arcs=S,i.innerPoints=o,i.intersectionPoints=a),l+p}function x8(n,i){for(let a=0;a<i.length;++a)if(T_(n,i[a])>i[a].radius+n4)return!1;return!0}function T8(n){const i=[];for(let a=0;a<n.length;++a)for(let o=a+1;o<n.length;++o){const l=r4(n[a],n[o]);for(let p=0;p<l.length;++p){const v=l[p];v.parentIndex=[a,o],i.push(v)}}return i}function YC(n,i){return n*n*Math.acos(1-i/n)-(n-i)*Math.sqrt(i*(2*n-i))}function T_(n,i){return Math.sqrt((n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y))}function $C(n,i,a){if(a>=n+i)return 0;if(a<=Math.abs(n-i))return Math.PI*Math.min(n,i)*Math.min(n,i);const o=n-(a*a-i*i+n*n)/(2*a),l=i-(a*a-n*n+i*i)/(2*a);return YC(n,o)+YC(i,l)}function r4(n,i){const a=T_(n,i),o=n.radius,l=i.radius;if(a>=o+l||a<=Math.abs(o-l))return[];const p=(o*o-l*l+a*a)/(2*a),v=Math.sqrt(o*o-p*p),S=n.x+p*(i.x-n.x)/a,R=n.y+p*(i.y-n.y)/a,P=-(i.y-n.y)*(v/a),I=-(i.x-n.x)*(v/a);return[{x:S+P,y:R-I},{x:S-P,y:R+I}]}function z2(n){const i={x:0,y:0};for(let a=0;a<n.length;++a)i.x+=n[a].x,i.y+=n[a].y;return i.x/=n.length,i.y/=n.length,i}function S8(n,i){i=i||{},i.maxIterations=i.maxIterations||500;const a=i.initialLayout||w8,o=i.lossFunction||tS;n=A8(n);const l=a(n,i),p=[],v=[];let S;for(S in l)l.hasOwnProperty(S)&&(p.push(l[S].x),p.push(l[S].y),v.push(S));const P=(0,_m.nelderMead)(function(I){const k={};for(let z=0;z<v.length;++z){const te=v[z];k[te]={x:I[2*z],y:I[2*z+1],radius:l[te].radius}}return o(k,n)},p,i).x;for(let I=0;I<v.length;++I)S=v[I],l[S].x=P[2*I],l[S].y=P[2*I+1];return l}const i4=1e-10;function XC(n,i,a){return Math.min(n,i)*Math.min(n,i)*Math.PI<=a+i4?Math.abs(n-i):(0,_m.bisect)(function(o){return $C(n,i,o)-a},0,n+i)}function A8(n){n=n.slice();const i=[],a={};let o,l,p,v;for(o=0;o<n.length;++o){const S=n[o];S.sets.length==1?i.push(S.sets[0]):S.sets.length==2&&(p=S.sets[0],v=S.sets[1],a[[p,v]]=!0,a[[v,p]]=!0)}for(i.sort((S,R)=>S>R?1:-1),o=0;o<i.length;++o)for(p=i[o],l=o+1;l<i.length;++l)v=i[l],[p,v]in a||n.push({sets:[p,v],size:0});return n}function C8(n,i,a){const o=(0,_m.zerosM)(i.length,i.length),l=(0,_m.zerosM)(i.length,i.length);return n.filter(function(p){return p.sets.length==2}).map(function(p){const v=a[p.sets[0]],S=a[p.sets[1]],R=Math.sqrt(i[v].size/Math.PI),P=Math.sqrt(i[S].size/Math.PI),I=XC(R,P,p.size);o[v][S]=o[S][v]=I;let k=0;p.size+1e-10>=Math.min(i[v].size,i[S].size)?k=1:p.size<=1e-10&&(k=-1),l[v][S]=l[S][v]=k}),{distances:o,constraints:l}}function O8(n,i,a,o){let l=0,p;for(p=0;p<i.length;++p)i[p]=0;for(p=0;p<a.length;++p){const v=n[2*p],S=n[2*p+1];for(let R=p+1;R<a.length;++R){const P=n[2*R],I=n[2*R+1],k=a[p][R],z=o[p][R],te=(P-v)*(P-v)+(I-S)*(I-S),de=Math.sqrt(te),be=te-k*k;z>0&&de<=k||z<0&&de>=k||(l+=2*be*be,i[2*p]+=4*be*(v-P),i[2*p+1]+=4*be*(S-I),i[2*R]+=4*be*(P-v),i[2*R+1]+=4*be*(I-S))}}return l}function w8(n,i){let a=M8(n,i);const o=i.lossFunction||tS;if(n.length>=8){const l=a4(n,i),p=o(l,n),v=o(a,n);p+1e-8<v&&(a=l)}return a}function a4(n,i){i=i||{};const a=i.restarts||10,o=[],l={};let p;for(p=0;p<n.length;++p){const be=n[p];be.sets.length==1&&(l[be.sets[0]]=o.length,o.push(be))}const v=C8(n,o,l);let S=v.distances;const R=v.constraints,P=(0,_m.norm2)(S.map(_m.norm2))/S.length;S=S.map(function(be){return be.map(function(Re){return Re/P})});const I=function(be,Re){return O8(be,Re,S,R)};let k,z;for(p=0;p<a;++p){const be=(0,_m.zeros)(S.length*2).map(Math.random);z=(0,_m.conjugateGradient)(I,be,i),(!k||z.fx<k.fx)&&(k=z)}const te=k.x,de={};for(p=0;p<o.length;++p){const be=o[p];de[be.sets[0]]={x:te[2*p]*P,y:te[2*p+1]*P,radius:Math.sqrt(be.size/Math.PI)}}if(i.history)for(p=0;p<i.history.length;++p)(0,_m.scale)(i.history[p].x,P);return de}function M8(n,i){const a=i&&i.lossFunction?i.lossFunction:tS,o={},l={};let p;for(let k=0;k<n.length;++k){const z=n[k];z.sets.length==1&&(p=z.sets[0],o[p]={x:1e10,y:1e10,rowid:Object.keys(o).length,size:z.size,radius:Math.sqrt(z.size/Math.PI)},l[p]=[])}n=n.filter(function(k){return k.sets.length==2});for(let k=0;k<n.length;++k){const z=n[k];let te=z.hasOwnProperty("weight")?z.weight:1;const de=z.sets[0],be=z.sets[1];z.size+i4>=Math.min(o[de].size,o[be].size)&&(te=0),l[de].push({set:be,size:z.size,weight:te}),l[be].push({set:de,size:z.size,weight:te})}const v=[];for(p in l)if(l.hasOwnProperty(p)){let k=0;for(let z=0;z<l[p].length;++z)k+=l[p][z].size*l[p][z].weight;v.push({set:p,size:k})}function S(k,z){return z.size-k.size}v.sort(S);const R={};function P(k){return k.set in R}function I(k,z){o[z].x=k.x,o[z].y=k.y,R[z]=!0}I({x:0,y:0},v[0].set);for(let k=1;k<v.length;++k){const z=v[k].set,te=l[z].filter(P);if(p=o[z],te.sort(S),te.length===0)throw"ERROR: missing pairwise overlap information";const de=[];for(let Ie=0;Ie<te.length;++Ie){const it=o[te[Ie].set],ut=XC(p.radius,it.radius,te[Ie].size);de.push({x:it.x+ut,y:it.y}),de.push({x:it.x-ut,y:it.y}),de.push({y:it.y+ut,x:it.x}),de.push({y:it.y-ut,x:it.x});for(let Mt=Ie+1;Mt<te.length;++Mt){const en=o[te[Mt].set],Rn=XC(p.radius,en.radius,te[Mt].size),Jn=r4({x:it.x,y:it.y,radius:ut},{x:en.x,y:en.y,radius:Rn});for(let nr=0;nr<Jn.length;++nr)de.push(Jn[nr])}}let be=1e50,Re=de[0];for(let Ie=0;Ie<de.length;++Ie){o[z].x=de[Ie].x,o[z].y=de[Ie].y;const it=a(o,n);it<be&&(be=it,Re=de[Ie])}I(Re,z)}return o}function tS(n,i){let a=0;function o(l){return l.map(function(p){return n[p]})}for(let l=0;l<i.length;++l){const p=i[l];let v;if(p.sets.length==1)continue;if(p.sets.length==2){const R=n[p.sets[0]],P=n[p.sets[1]];v=$C(R.radius,P.radius,T_(R,P))}else v=eS(o(p.sets));const S=p.hasOwnProperty("weight")?p.weight:1;a+=S*(v-p.size)*(v-p.size)}return a}function o4(n,i,a){a===null?n.sort(function(l,p){return p.radius-l.radius}):n.sort(a);let o;if(n.length>0){const l=n[0].x,p=n[0].y;for(o=0;o<n.length;++o)n[o].x-=l,n[o].y-=p}if(n.length==2&&distance(n[0],n[1])<Math.abs(n[1].radius-n[0].radius)&&(n[1].x=n[0].x+n[0].radius-n[1].radius-1e-10,n[1].y=n[0].y),n.length>1){const l=Math.atan2(n[1].x,n[1].y)-i;let p,v;const S=Math.cos(l),R=Math.sin(l);for(o=0;o<n.length;++o)p=n[o].x,v=n[o].y,n[o].x=S*p-R*v,n[o].y=R*p+S*v}if(n.length>2){let l=Math.atan2(n[2].x,n[2].y)-i;for(;l<0;)l+=2*Math.PI;for(;l>2*Math.PI;)l-=2*Math.PI;if(l>Math.PI){const p=n[1].y/(1e-10+n[1].x);for(o=0;o<n.length;++o){const v=(n[o].x+p*n[o].y)/(1+p*p);n[o].x=2*v-n[o].x,n[o].y=2*v*p-n[o].y}}}}function R8(n){n.map(function(v){v.parent=v});function i(v){return v.parent!==v&&(v.parent=i(v.parent)),v.parent}function a(v,S){const R=i(v),P=i(S);R.parent=P}for(let v=0;v<n.length;++v)for(let S=v+1;S<n.length;++S){const R=n[v].radius+n[S].radius;distance(n[v],n[S])+1e-10<R&&a(n[S],n[v])}const o={};let l;for(let v=0;v<n.length;++v)l=i(n[v]).parent.setid,l in o||(o[l]=[]),o[l].push(n[v]);n.map(function(v){delete v.parent});const p=[];for(l in o)o.hasOwnProperty(l)&&p.push(o[l]);return p}function KC(n){const i=function(a){const o=Math.max.apply(null,n.map(function(p){return p[a]+p.radius})),l=Math.min.apply(null,n.map(function(p){return p[a]-p.radius}));return{max:o,min:l}};return{xRange:i("x"),yRange:i("y")}}function zD(n,i,a){i===null&&(i=Math.PI/2);let o=[],l,p;for(p in n)if(n.hasOwnProperty(p)){const z=n[p];o.push({x:z.x,y:z.y,radius:z.radius,setid:p})}const v=R8(o);for(l=0;l<v.length;++l){o4(v[l],i,a);const z=KC(v[l]);v[l].size=(z.xRange.max-z.xRange.min)*(z.yRange.max-z.yRange.min),v[l].bounds=z}v.sort(function(z,te){return te.size-z.size}),o=v[0];let S=o.bounds;const R=(S.xRange.max-S.xRange.min)/50;function P(z,te,de){if(!z)return;const be=z.bounds;let Re,Ie,it;te?Re=S.xRange.max-be.xRange.min+R:(Re=S.xRange.max-be.xRange.max,it=(be.xRange.max-be.xRange.min)/2-(S.xRange.max-S.xRange.min)/2,it<0&&(Re+=it)),de?Ie=S.yRange.max-be.yRange.min+R:(Ie=S.yRange.max-be.yRange.max,it=(be.yRange.max-be.yRange.min)/2-(S.yRange.max-S.yRange.min)/2,it<0&&(Ie+=it));for(let ut=0;ut<z.length;++ut)z[ut].x+=Re,z[ut].y+=Ie,o.push(z[ut])}let I=1;for(;I<v.length;)P(v[I],!0,!1),P(v[I+1],!1,!0),P(v[I+2],!0,!0),I+=3,S=KC(o);const k={};for(l=0;l<o.length;++l)k[o[l].setid]=o[l];return k}function nS(n,i,a,o){const l=[],p=[];for(const be in n)n.hasOwnProperty(be)&&(p.push(be),l.push(n[be]));i-=2*o,a-=2*o;const v=KC(l),S=v.xRange,R=v.yRange;if(S.max==S.min||R.max==R.min)return console.log("not scaling solution: zero size detected"),n;const P=i/(S.max-S.min),I=a/(R.max-R.min),k=Math.min(I,P),z=(i-(S.max-S.min)*k)/2,te=(a-(R.max-R.min)*k)/2,de={};for(let be=0;be<l.length;++be){const Re=l[be];de[p[be]]={radius:k*Re.radius,x:o+z+(Re.x-S.min)*k,y:o+te+(Re.y-R.min)*k}}return de}function Z2(n,i,a){const o=[],l=n-a,p=i;return o.push("M",l,p),o.push("A",a,a,0,1,0,l+2*a,p),o.push("A",a,a,0,1,0,l,p),o.join(" ")}function P8(n){const i={};eS(n,i);const a=i.arcs;if(a.length===0)return"M 0 0";if(a.length==1){const o=a[0].circle;return Z2(o.x,o.y,o.radius)}else{const o=[`
M`,a[0].p2.x,a[0].p2.y];for(let l=0;l<a.length;++l){const p=a[l],v=p.circle.radius,S=p.width>v;o.push(`
A`,v,v,0,S?1:0,1,p.p1.x,p.p1.y)}return o.join(" ")}}const s4=n=>{const{sets:i="sets",size:a="size",as:o=["key","path"],padding:l=0}=n,[p,v]=o;return S=>{const R=S.map(k=>Object.assign(Object.assign({},k),{sets:k[i],size:k[a],[p]:k.sets.join("&")}));R.sort((k,z)=>k.sets.length-z.sets.length);const P=S8(R);let I;return R.map(k=>{const z=k[i],te=({width:de,height:be})=>{I=I||nS(P,de,be,l);const Re=z.map(it=>I[it]);let Ie=P8(Re);return/[zZ]$/.test(Ie)||(Ie+=" Z"),Ie};return Object.assign(Object.assign({},k),{[v]:te})})}};s4.props={};function I8(){return{"data.venn":s4,"mark.boxplot":YR,"mark.gauge":vv,"mark.wordCloud":jS,"mark.liquid":n0}}function L8(){return Object.assign(Object.assign(Object.assign(Object.assign({},b_()),WC()),I8()),yD())}var rS=function(){return rS=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},rS.apply(this,arguments)},N8=la(Ni,rS(rS({},L8()),TS())),j2=function(){return j2=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},j2.apply(this,arguments)},D8=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},u4=["renderer"],Vg=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction"],QC="__transform__",k8="__skipDelCustomKeys__",ay=function(n,i){return(0,tt.isBoolean)(i)?{type:n,available:i}:j2({type:n},i)},qC={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",sizeField:"encode.size",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(n){return ay("stackY",n)}},normalize:{target:"transform",value:function(n){return ay("normalizeY",n)}},percent:{target:"transform",value:function(n){return ay("normalizeY",n)}},group:{target:"transform",value:function(n){return ay("dodgeX",n)}},sort:{target:"transform",value:function(n){return ay("sortX",n)}},symmetry:{target:"transform",value:function(n){return ay("symmetryY",n)}},diff:{target:"transform",value:function(n){return ay("diffY",n)}},meta:{target:"scale",value:function(n){return n}},label:{target:"labels",value:function(n){return n}},shape:"style.shape",connectNulls:{target:"style",value:function(n){return(0,tt.isBoolean)(n)?{connect:n}:n}}},JC=["xField","yField","seriesField","colorField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],Kx=[{key:"annotations",extend_keys:[]},{key:"line",type:"line",extend_keys:JC},{key:"point",type:"point",extend_keys:JC},{key:"area",type:"area",extend_keys:JC}],B8=[{key:"transform",callback:function(n,i,a){var o;n[i]=n[i]||[];var l=a.available,p=l===void 0?!0:l,v=D8(a,["available"]);if(p)n[i].push(j2((o={},o[QC]=!0,o),v));else{var S=n[i].indexOf(function(R){return R.type===a.type});S!==-1&&n[i].splice(S,1)}}},{key:"labels",callback:function(n,i,a){var o;if(!a||(0,tt.isArray)(a)){n[i]=a||[];return}a.text||(a.text=n.yField),n[i]=n[i]||[],n[i].push(j2((o={},o[QC]=!0,o),a))}}],eO=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],l4=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),iS=function(){return iS=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},iS.apply(this,arguments)},F8=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},aS=function(n){l4(i,n);function i(a){a===void 0&&(a={});var o=a.style,l=F8(a,["style"]);return n.call(this,iS({style:iS({fill:"#eee"},o)},l))||this}return i}(Oe.mg),U8=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),oS=function(){return oS=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},oS.apply(this,arguments)},z8=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},c4=function(n){U8(i,n);function i(a){a===void 0&&(a={});var o=a.style,l=z8(a,["style"]);return n.call(this,oS({style:oS({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},o)},l))||this}return i}(Oe.xv),f4=function(n,i,a){if(a||arguments.length===2)for(var o=0,l=i.length,p;o<l;o++)(p||!(o in i))&&(p||(p=Array.prototype.slice.call(i,0,o)),p[o]=i[o]);return n.concat(p||Array.prototype.slice.call(i))},Z8=function(n,i){if((0,tt.isArray)(i))return i},r1=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return tt.mergeWith.apply(void 0,f4(f4([],n,!1),[Z8],!1))},j8=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),d4=function(n){j8(i,n);function i(a,o,l){var p=n.call(this,{style:r1(l,o)})||this;return p.chart=a,p}return i.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},i.prototype.disconnectedCallback=function(){},i.prototype.attributeChangedCallback=function(a){},i.prototype.update=function(a,o){var l;return this.attr(r1({},this.attributes,a||{})),(l=this.render)===null||l===void 0?void 0:l.call(this,this.attributes,this,o)},i.prototype.clear=function(){this.removeChildren()},i.prototype.getElementsLayout=function(){var a=this.chart.getContext().canvas,o=a.document.getElementsByClassName("element"),l=[];return o.forEach(function(p){var v=p.getBBox(),S=v.x,R=v.y,P=v.width,I=v.height,k=p.__data__;l.push({bbox:v,x:S,y:R,width:P,height:I,key:k.key,data:k})}),l},i.prototype.bindEvents=function(a,o){},i}(Oe.b_),h4=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),oy=function(){return oy=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},oy.apply(this,arguments)},H8=function(n){h4(i,n);function i(a,o){return n.call(this,a,o,{type:i.tag})||this}return i.prototype.getConversionTagLayout=function(){var a=this.direction==="vertical",o=this.getElementsLayout(),l=o[0],p=l.x,v=l.y,S=l.height,R=l.width,P=l.data,I=["items",0,"value"],k=(0,tt.get)(P,I),z=a?o[1].y-v-S:o[1].x-p-R,te=[],de=this.attributes,be=de.size,Re=be===void 0?40:be,Ie=de.arrowSize,it=Ie===void 0?20:Ie,ut=de.spacing,Mt=ut===void 0?4:ut;return o.forEach(function(en,Rn){if(Rn>0){var Jn=en.x,nr=en.y,mr=en.height,Vr=en.width,Hr=en.data,fi=en.key,dr=(0,tt.get)(Hr,I),_r=Re/2;if(a){var lr=Jn+Vr/2,hr=nr;te.push({points:[[lr+_r,hr-z+Mt],[lr+_r,hr-it-Mt],[lr,hr-Mt],[lr-_r,hr-it-Mt],[lr-_r,hr-z+Mt]],center:[lr,hr-z/2-Mt],width:z,value:[k,dr],key:fi})}else{var lr=Jn,hr=nr+mr/2;te.push({points:[[Jn-z+Mt,hr-_r],[Jn-it-Mt,hr-_r],[lr-Mt,hr],[Jn-it-Mt,hr+_r],[Jn-z+Mt,hr+_r]],center:[lr-z/2-Mt,hr],width:z,value:[k,dr],key:fi})}k=dr}}),te},i.prototype.render=function(){this.setDirection(),this.drawConversionTag()},i.prototype.setDirection=function(){var a=this.chart.getCoordinate(),o=(0,tt.get)(a,"options.transformations"),l="horizontal";o.forEach(function(p){p.includes("transpose")&&(l="vertical")}),this.direction=l},i.prototype.drawConversionTag=function(){var a=this,o=this.getConversionTagLayout(),l=this.attributes,p=l.style,v=l.text,S=v.style,R=v.formatter;o.forEach(function(P){var I=P.points,k=P.center,z=P.value,te=P.key,de=z[0],be=z[1],Re=k[0],Ie=k[1],it=new aS({style:oy({points:I,fill:"#eee"},p),id:"polygon-".concat(te)}),ut=new c4({style:oy({x:Re,y:Ie,text:(0,tt.isFunction)(R)?R(de,be):(be/de*100).toFixed(2)+"%"},S),id:"text-".concat(te)});a.appendChild(it),a.appendChild(ut)})},i.prototype.update=function(){var a=this,o=this.getConversionTagLayout();o.forEach(function(l){var p=l.points,v=l.center,S=l.key,R=v[0],P=v[1],I=a.getElementById("polygon-".concat(S)),k=a.getElementById("text-".concat(S));I.setAttribute("points",p),k.setAttribute("x",R),k.setAttribute("y",P)})},i.tag="ConversionTag",i}(d4),tO=32,p4=16,g4=48,W8=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),S_=function(){return S_=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},S_.apply(this,arguments)},V8=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},G8=function(n){W8(i,n);function i(a,o){return n.call(this,a,o,{type:i.tag})||this}return i.prototype.render=function(){this.drawText()},i.prototype.getBidirectionalBarAxisTextLayout=function(){var a=this.attributes.layout,o=a==="vertical",l=this.getElementsLayout(),p=o?(0,tt.uniqBy)(l,"x"):(0,tt.uniqBy)(l,"y"),v=["title"],S=[],R=this.chart.getContext().views,P=(0,tt.get)(R,[0,"layout"]),I=P.width,k=P.height;return p.forEach(function(z){var te=z.x,de=z.y,be=z.height,Re=z.width,Ie=z.data,it=z.key,ut=(0,tt.get)(Ie,v);o?S.push({x:te+Re/2,y:k,text:ut,key:it}):S.push({x:I,y:de+be/2,text:ut,key:it})}),(0,tt.uniqBy)(S,"text").length!==S.length&&(S=Object.values((0,tt.groupBy)(S,"text")).map(function(z){var te,de=z.reduce(function(be,Re){return be+(o?Re.x:Re.y)},0);return S_(S_({},z[0]),(te={},te[o?"x":"y"]=de/z.length,te))})),S},i.prototype.transformLabelStyle=function(a){var o={},l=/^label[A-Z]/;return Object.keys(a).forEach(function(p){l.test(p)&&(o[p.replace("label","").replace(/^[A-Z]/,function(v){return v.toLowerCase()})]=a[p])}),o},i.prototype.drawText=function(){var a=this,o=this.getBidirectionalBarAxisTextLayout(),l=this.attributes,p=l.layout,v=l.labelFormatter,S=V8(l,["layout","labelFormatter"]);o.forEach(function(R){var P=R.x,I=R.y,k=R.text,z=R.key,te=new c4({style:S_({x:P,y:I,text:(0,tt.isFunction)(v)?v(k):k,wordWrap:!0,wordWrapWidth:p==="horizontal"?tO*2:120,maxLines:2,textOverflow:"ellipsis"},a.transformLabelStyle(S)),id:"text-".concat(z)});a.appendChild(te)})},i.prototype.update=function(){var a=this,o=this.getBidirectionalBarAxisTextLayout();o.forEach(function(l){var p=l.x,v=l.y,S=l.key,R=a.getElementById("text-".concat(S));R.setAttribute("x",p),R.setAttribute("y",v)})},i.tag="BidirectionalBarAxisText",i}(d4),sS={ConversionTag:H8,BidirectionalBarAxisText:G8},Y8=function(){function n(i,a){this.container=new Map,this.chart=i,this.config=a,this.init()}return n.prototype.init=function(){var i=this;eO.forEach(function(a){var o,l=a.key,p=a.shape,v=i.config[l];if(v){var S=new sS[p](i.chart,v),R=i.chart.getContext().canvas;R.appendChild(S),i.container.set(l,S)}else(o=i.container.get(l))===null||o===void 0||o.clear()})},n.prototype.update=function(){var i=this;this.container.size&&eO.forEach(function(a){var o=a.key,l=i.container.get(o);l==null||l.update()})},n}(),$8=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),H2=function(){return H2=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},H2.apply(this,arguments)},nO="data-chart-source-type",Gf=function(n){$8(i,n);function i(a,o){var l=n.call(this)||this;return l.container=typeof a=="string"?document.getElementById(a):a,l.options=l.mergeOption(o),l.createG2(),l.bindEvents(),l}return i.prototype.getChartOptions=function(){return H2(H2({},(0,tt.pick)(this.options,u4)),{container:this.container})},i.prototype.getSpecOptions=function(){return this.type==="base"||this[k8]?H2(H2({},this.options),this.getChartOptions()):this.options},i.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new N8(this.getChartOptions()),this.container.setAttribute(nO,"Ant Design Charts")},i.prototype.bindEvents=function(){var a=this;this.chart&&this.chart.on("*",function(o){o!=null&&o.type&&a.emit(o.type,o)})},i.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},i.prototype.getDefaultOptions=function(){},i.prototype.render=function(){var a=this;this.type!=="base"&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){a.annotation=new Y8(a.chart,a.options)}),this.bindSizeSensor()},i.prototype.update=function(a){this.options=this.mergeOption(a)},i.prototype.mergeOption=function(a){return r1({},this.getBaseOptions(),this.getDefaultOptions(),a)},i.prototype.changeData=function(a){this.chart.changeData(a)},i.prototype.changeSize=function(a,o){this.chart.changeSize(a,o)},i.prototype.destroy=function(){this.chart.destroy(),this.off(),this.container.removeAttribute(nO)},i.prototype.execAdaptor=function(){var a=this.getSchemaAdaptor();a({chart:this.chart,options:this.options})},i.prototype.triggerResize=function(){this.chart.forceFit()},i.prototype.bindSizeSensor=function(){var a=this,o=this.options.autoFit,l=o===void 0?!0:o;l&&this.chart.on(on.AFTER_CHANGE_SIZE,function(){a.annotation.update()})},i}(_t.Z),X8=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),m4=function(n){X8(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="base",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return function(a){return a}},i}(Gf),uS=function(n){var i=n.options,a=i.children,o=a===void 0?[]:a;return o.forEach(function(l){Object.keys(l).forEach(function(p){(0,tt.isArray)(l[p])&&p!=="data"&&(l[p]=l[p].filter(function(v){return!v[QC]}))})}),i},A_=function(n,i,a){if(a||arguments.length===2)for(var o=0,l=i.length,p;o<l;o++)(p||!(o in i))&&(p||(p=Array.prototype.slice.call(i,0,o)),p[o]=i[o]);return n.concat(p||Array.prototype.slice.call(i))},K8=function(n){var i=n.children,a=i===void 0?[]:i,o=Object.keys(qC).concat(Kx.map(function(l){return l.key}));return o.forEach(function(l){delete n[l]}),a.forEach(function(l){Object.keys(l).forEach(function(p){o.includes(p)&&delete l[p]})}),Object.keys(n).forEach(function(l){A_(A_([],Vg,!0),eO.map(function(p){return p.key}),!0).includes(l)||delete n[l]}),n},ud=function(n){var i=uS(n),a=i.children,o=a===void 0?[]:a,l=(0,tt.omit)(i,[].concat(Vg,Kx.map(function(P){return P.key}))),p=function(P){var I;return(I=B8.find(function(k){return k.key===P}))===null||I===void 0?void 0:I.callback},v=function(P,I,k){var z=p(I);z?z(P,I,k):P[I]=r1({},P[I],k)},S=function(P){Object.keys(P).forEach(function(I){if(P[I]){var k=Kx.find(function(de){return de.key===I});if(k){var z=k.type,te=k.extend_keys;z?o.push(R(r1({},(0,tt.pick)(P,te),{type:z},P[I]))):(0,tt.isArray)(P[I])&&P[I].forEach(function(de){o.push(R(de))})}}})},R=function(P){return S(P),Object.keys(qC).forEach(function(I){var k=qC[I];if(!(0,tt.isUndefined)(P[I]))if((0,tt.isObject)(k)){var z=k.value,te=k.target,de=z(P[I]);v(P,te,de)}else(0,tt.set)(P,k,P[I])}),P};return o.forEach(function(P){var I=r1({},l,P);R(r1(P,I))}),S(i),K8(i),n},W2=function(){return W2=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},W2.apply(this,arguments)};function Q8(n){var i=n.options,a=i.stack,o=i.tooltip,l=i.xField;if(!a)return n;var p=Kx.map(function(S){return S.type}).filter(function(S){return!!S}),v=!1;return p.forEach(function(S){i[S]&&(v=!0,(0,tt.set)(i,[S,"stack"],W2({y1:"y"},typeof a=="object"?a:{})))}),v&&!(0,tt.isBoolean)(o)&&!o&&(0,tt.set)(i,"tooltip",{title:l,items:[{channel:"y"}]}),n}function Ah(n){return(0,tt.flow)(Q8)(n)}function Ff(n){return(0,tt.flow)(Ah,ud)(n)}var v4=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),y4=function(n){v4(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="area",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return Ff},i}(Gf),V2=function(){return V2=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},V2.apply(this,arguments)};function Qx(n){var i=function(a){var o=a.options;(0,tt.get)(o,"children.length")>1&&(0,tt.set)(o,"children",[{type:"interval"}]);var l=o.scale,p=o.markBackground,v=o.data,S=o.children,R=o.yField,P=(0,tt.get)(l,"y.domain",[]);if(p&&P.length&&(0,tt.isArray)(v)){var I="domainMax",k=v.map(function(z){var te;return V2(V2({originData:V2({},z)},(0,tt.omit)(z,R)),(te={},te[I]=P[P.length-1],te))});S.unshift(V2({type:"interval",data:k,yField:I,tooltip:!1,style:{fill:"#eee"},label:!1},p))}return a};return(0,tt.flow)(i,Ah,ud)(n)}var _4=function(){var n=function(i,a){return function(o){var l=i.fill,p=l===void 0?"#2888FF":l,v=i.stroke,S=i.fillOpacity,R=S===void 0?1:S,P=i.strokeOpacity,I=P===void 0?.2:P,k=i.pitch,z=k===void 0?8:k,te=o[0],de=o[1],be=o[2],Re=o[3],Ie=(de[1]-te[1])/2,it=a.document,ut=it.createElement("g",{}),Mt=it.createElement("polygon",{style:{points:[te,[te[0]-z,te[1]+Ie],[be[0]-z,te[1]+Ie],Re],fill:p,fillOpacity:R,stroke:v,strokeOpacity:I,inset:30}}),en=it.createElement("polygon",{style:{points:[[te[0]-z,te[1]+Ie],de,be,[be[0]-z,te[1]+Ie]],fill:p,fillOpacity:R,stroke:v,strokeOpacity:I}}),Rn=it.createElement("polygon",{style:{points:[te,[te[0]-z,te[1]+Ie],de,[te[0]+z,te[1]+Ie]],fill:p,fillOpacity:R-.2}});return ut.appendChild(Mt),ut.appendChild(en),ut.appendChild(Rn),ut}};di("shape.interval.bar25D",n)},q8=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();_4();var J8=function(n){q8(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="Bar",a}return i.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return Qx},i}(Gf),eN=function(){var n=function(i,a){return function(o){var l=i.fill,p=l===void 0?"#2888FF":l,v=i.stroke,S=i.fillOpacity,R=S===void 0?1:S,P=i.strokeOpacity,I=P===void 0?.2:P,k=i.pitch,z=k===void 0?8:k,te=o[1][0]-o[0][0],de=te/2+o[0][0],be=a.document,Re=be.createElement("g",{}),Ie=be.createElement("polygon",{style:{points:[[o[0][0],o[0][1]],[de,o[1][1]+z],[de,o[3][1]+z],[o[3][0],o[3][1]]],fill:p,fillOpacity:R,stroke:v,strokeOpacity:I,inset:30}}),it=be.createElement("polygon",{style:{points:[[de,o[1][1]+z],[o[1][0],o[1][1]],[o[2][0],o[2][1]],[de,o[2][1]+z]],fill:p,fillOpacity:R,stroke:v,strokeOpacity:I}}),ut=be.createElement("polygon",{style:{points:[[o[0][0],o[0][1]],[de,o[1][1]-z],[o[1][0],o[1][1]],[de,o[1][1]+z]],fill:p,fillOpacity:R-.2}});return Re.appendChild(it),Re.appendChild(Ie),Re.appendChild(ut),Re}};di("shape.interval.column25D",n)},tN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}();eN();var nN=function(n){tN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="column",a}return i.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return Qx},i}(Gf);function rN(n){var i=function(o){var l=o.options,p=l.children,v=p===void 0?[]:p,S=l.legend;return S&&v.forEach(function(R){if(!(0,tt.get)(R,"colorField")){var P=(0,tt.get)(R,"yField");(0,tt.set)(R,"colorField",function(){return P})}}),o},a=function(o){var l=o.options,p=l.annotations,v=p===void 0?[]:p,S=l.children,R=S===void 0?[]:S,P=l.scale,I=!1;return(0,tt.get)(P,"y.key")||R.forEach(function(k,z){if(!(0,tt.get)(k,"scale.y.key")){var te="child".concat(z,"Scale");(0,tt.set)(k,"scale.y.key",te);var de=k.annotations,be=de===void 0?[]:de;be.length>0&&((0,tt.set)(k,"scale.y.independent",!1),be.forEach(function(Re){(0,tt.set)(Re,"scale.y.key",te)})),!I&&v.length>0&&(0,tt.get)(k,"scale.y.independent")===void 0&&(I=!0,(0,tt.set)(k,"scale.y.independent",!1),v.forEach(function(Re){(0,tt.set)(Re,"scale.y.key",te)}))}}),o};return(0,tt.flow)(i,a,Ah,ud)(n)}var iN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),b4=function(n){iN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="DualAxes",a}return i.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return rN},i}(Gf);function aN(n){var i=function(p){var v=p.options,S=v.xField,R=v.colorField;return R||(0,tt.set)(v,"colorField",S),p},a=function(p){var v=p.options,S=v.compareField,R=v.transform,P=v.isTransposed,I=P===void 0?!0:P,k=v.coordinate;return R||(S?(0,tt.set)(v,"transform",[]):(0,tt.set)(v,"transform",[{type:"symmetryY"}])),!k&&I&&(0,tt.set)(v,"coordinate",{transform:[{type:"transpose"}]}),p},o=function(p){var v=p.options,S=v.compareField,R=v.seriesField,P=v.data,I=v.children,k=v.yField,z=v.isTransposed,te=z===void 0?!0:z;if(S||R){var de=Object.values((0,tt.groupBy)(P,function(be){return be[S||R]}));I[0].data=de[0],I.push({type:"interval",data:de[1],yField:function(be){return-be[k]}}),delete v.compareField,delete v.data}return R&&((0,tt.set)(v,"type","spaceFlex"),(0,tt.set)(v,"ratio",[1,1]),(0,tt.set)(v,"direction",te?"row":"col"),delete v.seriesField),p},l=function(p){var v=p.options,S=v.tooltip,R=v.xField,P=v.yField;return S||(0,tt.set)(v,"tooltip",{title:!1,items:[function(I){return{name:I[R],value:I[P]}}]}),p};return(0,tt.flow)(i,a,o,l,Ah,ud)(n)}var E4=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),x4=function(n){E4(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="column",a}return i.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return aN},i}(Gf);function T4(n){return(0,tt.flow)(Ah,ud)(n)}var oN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),sN=function(n){oN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="line",a}return i.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return T4},i}(Gf);function qx(n){switch(typeof n){case"function":return n;case"string":return function(i){return(0,tt.get)(i,[n])};default:return function(){return n}}}var Tg=function(){return Tg=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},Tg.apply(this,arguments)};function uN(n){var i=function(a){var o=a.options,l=o.angleField,p=o.data,v=o.label,S=o.tooltip,R=o.colorField,P=qx(R);if((0,tt.isArray)(p)&&p.length>0){var I=p.reduce(function(z,te){return z+te[l]},0);if(I===0){var k=p.map(function(z){var te;return Tg(Tg({},z),(te={},te[l]=1,te))});(0,tt.set)(o,"data",k),v&&(0,tt.set)(o,"label",Tg(Tg({},v),{formatter:function(){return 0}})),S!==!1&&((0,tt.isFunction)(S)?(0,tt.set)(o,"tooltip",function(z,te,de){var be;return S(Tg(Tg({},z),(be={},be[l]=0,be)),te,de.map(function(Re){var Ie;return Tg(Tg({},Re),(Ie={},Ie[l]=0,Ie))}))}):(0,tt.set)(o,"tooltip",Tg(Tg({},S),{items:[function(z,te,de){return{name:P(z,te,de),value:0}}]})))}}return a};return(0,tt.flow)(i,ud)(n)}var lN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),S4=function(n){lN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="pie",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return uN},i}(Gf);function C_(n){return(0,tt.flow)(Ah,ud)(n)}var cN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),fN=function(n){cN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="scatter",a}return i.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return C_},i}(Gf);function dN(n){var i=function(a){return(0,tt.set)(a,"options.coordinate",{type:(0,tt.get)(a,"options.coordinateType","polar")}),a};return(0,tt.flow)(i,ud)(n)}var A4=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),hN=function(n){A4(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="radar",a}return i.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return dN},i}(Gf),i1=function(){return i1=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},i1.apply(this,arguments)},rO="__stock-range__",lS="trend",pN="up",iO="down";function gN(n){var i=function(o){var l=o.options,p=l.data,v=l.yField;return o.options.data=(0,tt.map)(p,function(S){var R=S&&i1({},S);if(Array.isArray(v)&&R){var P=v[0],I=v[1],k=v[2],z=v[3];R[lS]=R[P]<=R[I]?pN:iO,R[rO]=[R[P],R[I],R[k],R[z]]}return R}),o},a=function(o){var l=o.options,p=l.xField,v=l.yField,S=l.fallingFill,R=l.risingFill,P=v[0],I=v[1],k=v[2],z=v[3],te=qx(p);return o.options.children=(0,tt.map)(o.options.children,function(de,be){var Re=be===0;return i1(i1({},de),{tooltip:{title:function(Ie,it,ut){var Mt=te(Ie,it,ut);return Mt instanceof Date?Mt.toLocaleString():Mt},items:[{field:k},{field:z},{field:P},{field:I}]},encode:i1(i1({},de.encode||{}),{y:Re?[k,z]:[P,I],color:function(Ie){return Math.sign(Ie[I]-Ie[P])}}),style:i1(i1({},de.style||{}),{lineWidth:Re?1:10})})}),delete l.yField,o.options.legend={color:!1},S&&(0,tt.set)(o,"options.scale.color.range[0]",S),R&&(0,tt.set)(o,"options.scale.color.range[2]",R),o};return(0,tt.flow)(i,a,ud)(n)}var mN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),vN=["#26a69a","#999999","#ef5350"],yN=function(n){mN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="stock",a}return i.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:vN},y:{nice:!0}},children:[{type:"link"},{type:"link"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return gN},i}(Gf);function C4(n){return(0,tt.flow)(Ah,ud)(n)}var _N=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),bN=function(n){_N(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="TinyLine",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],animate:{enter:{type:"growInX",duration:500}},padding:0,margin:0,tooltip:!1}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return C4},i}(Gf);function O4(n){return(0,tt.flow)(Ah,ud)(n)}var EN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),xN=function(n){EN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="TinyArea",a}return i.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return O4},i}(Gf);function Jx(n){return(0,tt.flow)(Ah,ud)(n)}var TN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),SN=function(n){TN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="TinyColumn",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return Jx},i}(Gf),t=function(){return t=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},t.apply(this,arguments)};function e(n){var i=function(a){var o=a.options,l=o.percent,p=o.color,v=p===void 0?[]:p;if(!l)return a;var S={scale:{color:{range:v.length?v:[]}},data:[1,l]};return Object.assign(o,t({},S)),a};return(0,tt.flow)(i,Ah,ud)(n)}var r=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),u=function(n){r(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="TinyProgress",a}return i.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(a){return a},color:function(a,o){return o}}}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return e},i}(Gf),d=function(){return d=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},d.apply(this,arguments)};function h(n){var i=function(o){var l=o.options,p=l.radius,v=p===void 0?.8:p;return(0,tt.set)(o,"options.coordinate.innerRadius",v),o},a=function(o){var l=o.options,p=l.percent,v=l.color,S=v===void 0?[]:v;if(!p)return o;var R={scale:{color:{range:S.length?S:[]}},data:[1,p]};return Object.assign(l,d({},R)),o};return(0,tt.flow)(i,a,Ah,ud)(n)}var y=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),M=function(n){y(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="TinyRing",a}return i.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(a){return a},color:function(a,o){return o}}}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return h},i}(Gf);function U(n){return(0,tt.flow)(ud)(n)}var re=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),Ee=function(n){re(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="rose",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return U},i}(Gf),Ae="__start__",We="__end__",Ht="__waterfall_value__",Tn=function(){return Tn=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},Tn.apply(this,arguments)},Fn=function(n,i,a){if(a||arguments.length===2)for(var o=0,l=i.length,p;o<l;o++)(p||!(o in i))&&(p||(p=Array.prototype.slice.call(i,0,o)),p[o]=i[o]);return n.concat(p||Array.prototype.slice.call(i))};function br(n){var i=function(o){var l=o.options,p=l.data,v=p===void 0?[]:p,S=l.yField;return v.length&&(v.reduce(function(R,P,I){var k,z=qx(S),te=z(P,I,v);if(I===0||P.isTotal)P[Ae]=0,P[We]=te,P[Ht]=te;else{var de=(k=R[We])!==null&&k!==void 0?k:z(R,I,v);P[Ae]=de,P[We]=de+te,P[Ht]=R[We]}return P},[]),Object.assign(l,{yField:[Ae,We]})),o},a=function(o){var l=o.options,p=l.data,v=p===void 0?[]:p,S=l.xField,R=l.children,P=l.linkStyle,I=Fn([],v,!0);return I.reduce(function(k,z,te){return te>0&&(z.x1=k[S],z.x2=z[S],z.y1=k[We]),z},[]),I.shift(),R.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:I,style:Tn({stroke:"#697474"},P),label:!1,tooltip:!1}),o};return(0,tt.flow)(i,a,Ah,ud)(n)}var ei=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),Jr=function(n){ei(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="waterfall",a}return i.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:Ht,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return br},i}(Gf);function zi(n){var i=function(a){var o=a.options,l=o.data,p=o.binNumber,v=o.binWidth,S=o.children,R=o.channel,P=R===void 0?"count":R,I=(0,tt.get)(S,"[0].transform[0]",{});return(0,tt.isNumber)(v)?((0,tt.assign)(I,{thresholds:(0,tt.ceil)((0,tt.divide)(l.length,v)),y:P}),a):((0,tt.isNumber)(p)&&(0,tt.assign)(I,{thresholds:p,y:P}),a)};return(0,tt.flow)(i,Ah,ud)(n)}var ca=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),Da=function(n){ca(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="Histogram",a}return i.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return zi},i}(Gf);function Va(n){var i=function(o){var l=o.options,p=l.tooltip,v=p===void 0?{}:p,S=l.colorField,R=l.sizeField;return v&&!v.field&&(v.field=S||R),o},a=function(o){var l=o.options,p=l.mark,v=l.children;return p&&(v[0].type=p),o};return(0,tt.flow)(i,a,Ah,ud)(n)}var va=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),io=function(n){va(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="heatmap",a}return i.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point",interaction:{elementHighlight:{background:!0}}}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return Va},i}(Gf);function Os(n){var i=function(a){var o=a.options.boxType,l=o===void 0?"box":o;return a.options.children[0].type=l,a};return(0,tt.flow)(i,Ah,ud)(n)}var Hu=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),Ds=function(n){Hu(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="box",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return Os},i}(Gf);function il(n){var i=function(a){var o=a.options,l=o.data,p=[{type:"custom",callback:function(S){return{links:S}}}];if((0,tt.isArray)(l))l.length>0?(0,tt.set)(o,"data",{value:l,transform:p}):delete o.children;else if((0,tt.get)(l,"type")==="fetch"&&(0,tt.get)(l,"value")){var v=(0,tt.get)(l,"transform");(0,tt.isArray)(v)?(0,tt.set)(l,"transform",v.concat(p)):(0,tt.set)(l,"transform",p)}return a};return(0,tt.flow)(i,Ah,ud)(n)}var jl=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),Ch=function(n){jl(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="sankey",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return il},i}(Gf);function f0(n){var i=n.options.layout,a=i===void 0?"horizontal":i;return n.options.coordinate.transform=a!=="horizontal"?void 0:[{type:"transpose"}],n}function yh(n){f0(n);var i=n.options.layout,a=i===void 0?"horizontal":i;return n.options.children.forEach(function(o){var l;!((l=o==null?void 0:o.coordinate)===null||l===void 0)&&l.transform&&(o.coordinate.transform=a!=="horizontal"?void 0:[{type:"transpose"}])}),n}var Hl=function(){return Hl=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},Hl.apply(this,arguments)},Vh=["#f0efff","#5B8FF9","#3D76DD"];function U0(n,i,a,o){o===void 0&&(o=!0);var l=0,p=!1,v=(0,tt.map)(n,function(S){var R,P,I=(0,tt.get)(S,[i]);if((0,tt.isNil)(I))return[];if((0,tt.isString)(I)){var k=Number(I);return isNaN(k)?[]:(R={},R[a]=S[a],R[i]=k,R)}return(0,tt.isArray)(I)?(p=!0,l=Math.max(l,I.length),(0,tt.map)(o?I.sort(function(z,te){return te-z}):I,function(z,te){var de;return de={},de[a]=S[a],de[i]=z,de.index=te,de})):(l=Math.max(1,l),P={},P[a]=S[a],P[i]=I,P)}).flat();return p?[v.map(function(S){return Hl({index:0},S)}),l]:[v,l]}function yv(n,i){return new Array(n).fill("").map(function(a,o){return(0,tt.isArray)(i)?i[o%i.length]:i})}function AN(n){var i=function(l){var p=l.options,v=p.color,S=p.rangeField,R=S===void 0?"ranges":S,P=p.measureField,I=P===void 0?"measures":P,k=p.targetField,z=k===void 0?"targets":k,te=p.xField,de=te===void 0?"title":te,be=p.mapField,Re=p.data,Ie=U0(Re,R,de),it=Ie[0],ut=Ie[1],Mt=U0(Re,I,de,!1),en=Mt[0],Rn=Mt[1],Jn=U0(Re,z,de,!1),nr=Jn[0],mr=Jn[1],Vr=(0,tt.get)(v,[R],Vh[0]),Hr=(0,tt.get)(v,[I],Vh[1]),fi=(0,tt.get)(v,[z],Vh[2]),dr=[yv(ut,Vr),yv(Rn,Hr),yv(mr,fi)].flat();return l.options.children=(0,tt.map)(l.options.children,function(_r,lr){var hr=[it,en,nr][lr],Ti=[R,I,z][lr];return Hl(Hl({},_r),{data:hr,encode:Hl(Hl({},_r.encode||{}),{x:de,y:Ti,color:function(Rr){var Gr=Rr.index,Qi=(0,tt.isNumber)(Gr)?"".concat(Ti,"_").concat(Gr):Ti;return be?(0,tt.get)(be,[Ti,Gr],Qi):Qi}}),style:Hl(Hl({},_r.style||{}),{zIndex:function(Rr){return-Rr[Ti]}}),labels:lr!==0?(0,tt.map)(_r.labels,function(Rr){return Hl(Hl({},Rr),{text:Ti})}):void 0})}),l.options.scale.color.range=dr,l.options.legend.color.itemMarker=function(_r){return be&&(0,tt.includes)(be==null?void 0:be[z],_r)||(_r==null?void 0:_r.replace(/\_\d$/,""))===z?"line":"square"},l},a=function(l){var p=l.options.layout,v=p===void 0?"horizontal":p;return v!=="horizontal"&&(0,tt.set)(l,"options.children[2].shapeField","hyphen"),l},o=function(l){var p=l.options,v=p.range,S=v===void 0?{}:v,R=p.measure,P=R===void 0?{}:R,I=p.target,k=I===void 0?{}:I,z=p.children;return l.options.children=[S,P,k].map(function(te,de){return r1(z[de],te)}),l};return(0,tt.flow)(i,a,o,yh,ud)(n)}var CN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),ON=function(n){CN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="bullet",a}return i.getDefaultOptions=function(){return{type:"view",scale:{color:{range:Vh}},legend:{color:{itemMarker:function(a){return a==="target"?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return AN},i}(Gf);function wN(n){var i=function(a){var o=a.options.data;return a.options.data={value:o},a};return(0,tt.flow)(i,Ah,ud)(n)}var MN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),RN=function(n){MN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="Gauge",a}return i.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return wN},i}(Gf);function PN(n){var i=function(a){var o=a.options.percent;return(0,tt.isNumber)(o)&&((0,tt.set)(a,"options.data",o),delete a.options.percent),a};return(0,tt.flow)(i,Ah,ud)(n)}var IN=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),Xu=function(n){IN(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="Liquid",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return PN},i}(Gf);function bf(n){return(0,tt.flow)(Ah,ud)(n)}var Jf=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),xs=function(n){Jf(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="WordCloud",a}return i.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return bf},i}(Gf);function ig(n){var i=function(a){var o=a.options,l=o.data;return l&&(0,tt.set)(o,"data",{value:l}),a};return(0,tt.flow)(i,Ah,ud)(n)}var Gd=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),Sg=function(n){Gd(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="treemap",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return ig},i}(Gf),M0=function(){return M0=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},M0.apply(this,arguments)};function O_(n){var i=function(l){var p=l.options,v=p.startAngle,S=p.maxAngle,R=p.coordinate,P=(0,tt.isNumber)(v)?v/(2*Math.PI)*360:-90,I=(0,tt.isNumber)(S)?(Number(S)+P)/180*Math.PI:Math.PI;return(0,tt.set)(l,["options","coordinate"],M0(M0({},R),{endAngle:I,startAngle:v!=null?v:-Math.PI/2})),l},a=function(l){var p=l.options,v=p.tooltip,S=p.xField,R=p.yField,P=qx(S),I=qx(R);return v||(0,tt.set)(p,"tooltip",{title:!1,items:[function(k,z,te){return{name:P(k,z,te),value:I(k,z,te)}}]}),l},o=function(l){var p=l.options,v=p.markBackground,S=p.children,R=p.scale,P=p.coordinate,I=p.xField,k=(0,tt.get)(R,"y.domain",[]);return v&&S.unshift(M0({type:"interval",xField:I,yField:k[k.length-1],colorField:v.color,scale:{color:{type:"identity"}},style:{fillOpacity:v.opacity,fill:v.color?void 0:"#e0e4ee"},coordinate:M0(M0({},P),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},v)),l};return(0,tt.flow)(i,a,o,Ah,ud)(n)}var w4=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),VD=function(n){w4(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="radial",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return O_},i}(Gf);function GD(n){return(0,tt.flow)(ud)(n)}var YD=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),$D=function(n){YD(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="CirclePacking",a}return i.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return GD},i}(Gf),M4=function(){return M4=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},M4.apply(this,arguments)};function XD(n){var i=function(a){var o=a.options,l=o.xField,p=o.yField,v=o.seriesField,S=o.children,R=S==null?void 0:S.map(function(P){return M4(M4({},P),{xField:l,yField:p,seriesField:v,colorField:v,data:P.type==="density"?{transform:[{type:"kde",field:p,groupBy:[l,v]}]}:P.data})}).filter(function(P){return o.violinType!=="density"||P.type==="density"});return(0,tt.set)(o,"children",R),o.violinType==="polar"&&(0,tt.set)(o,"coordinate",{type:"polar"}),(0,tt.set)(o,"violinType",void 0),a};return(0,tt.flow)(i,Ah,ud)(n)}var KD=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),QD=function(n){KD(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="violin",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return XD},i}(Gf),aO=function(){return aO=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},aO.apply(this,arguments)},qD=function(n,i,a){if(a||arguments.length===2)for(var o=0,l=i.length,p;o<l;o++)(p||!(o in i))&&(p||(p=Array.prototype.slice.call(i,0,o)),p[o]=i[o]);return n.concat(p||Array.prototype.slice.call(i))};function JD(n){var i=function(p){var v=p.options,S=v.yField,R=v.children;return R.forEach(function(P,I){(0,tt.set)(P,"yField",S[I])}),p},a=function(p){var v=p.options,S=v.yField,R=v.children,P=v.data;if((0,tt.isPlainObject)(P))return p;var I=(0,tt.isArray)((0,tt.get)(P,[0]))?P:[P,P];return R.forEach(function(k,z){(0,tt.set)(k,"data",qD([],I[z].map(function(te){return aO({groupKey:S[z]},te)}),!0))}),p},o=function(p){var v=p.options,S=v.yField,R=S[0],P=S[1],I=v.tooltip;return I||(0,tt.set)(v,"tooltip",{items:[{field:R,value:R},{field:P,value:P}]}),p},l=function(p){var v=p.options,S=v.children,R=v.layout,P=v.coordinate.transform,I=v.paddingBottom,k=I===void 0?g4:I,z=v.paddingLeft,te=z===void 0?g4:z,de=v.axis;(0,tt.set)(v,"axisText",aO(aO({},(de==null?void 0:de.x)||{}),{layout:R}));var be=S[0],Re=S[1];if(R==="vertical")(0,tt.set)(v,"direction","col"),(0,tt.set)(v,"paddingLeft",te),(0,tt.set)(v,"coordinate.transform",P.filter(function(en){return en.type!=="transpose"})),(0,tt.set)(be,"paddingBottom",p4),(0,tt.set)(Re,"paddingTop",p4),(0,tt.set)(Re,"axis",{x:{position:"top"}}),(0,tt.set)(Re,"scale",{y:{range:[0,1]}});else{(0,tt.set)(v,"paddingBottom",k),(0,tt.set)(be,"scale",{y:{range:[0,1]}});var Ie=be.paddingRight,it=Ie===void 0?tO:Ie,ut=Re.paddingLeft,Mt=ut===void 0?tO:ut;(0,tt.set)(be,"paddingRight",it),(0,tt.set)(be,"axis",{x:{position:"right"}}),(0,tt.set)(Re,"paddingLeft",Mt)}return p};return(0,tt.flow)(i,a,o,l,Ah,ud)(n)}var e7=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),t7=function(n){e7(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="BidirectionalBar",a}return i.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return JD},i}(Gf),e3;(function(n){n.color="key",n.d="path"})(e3||(e3={}));function n7(n){var i=function(a){var o=a.options,l=o.data,p=o.setsField,v=o.sizeField;return(0,tt.isArray)(l)&&((0,tt.set)(o,"data",{type:"inline",value:l,transform:[{type:"venn",sets:p,size:v,as:[e3.color,e3.d]}]}),(0,tt.set)(o,"colorField",p),(0,tt.set)(o,["children","0","encode","d"],e3.d)),(0,tt.set)(a,"options",(0,tt.omit)(o,["sizeField","setsField"])),a};return(0,tt.flow)(i,ud)(n)}var r7=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),i7=function(n){r7(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="venn",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:e3.color,d:e3.d}}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return n7},i}(Gf);function a7(n){var i=function(a){return a};return(0,tt.flow)(i,ud)(n)}var o7=function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(o[p]=l[p])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function o(){this.constructor=i}i.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}}(),s7=function(n){o7(i,n);function i(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="Sunburst",a}return i.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return a7},i}(Gf),u7={Base:m4,Line:sN,Column:nN,Pie:S4,Area:y4,Bar:J8,DualAxes:b4,Funnel:x4,Scatter:fN,Radar:hN,Rose:Ee,Stock:yN,TinyLine:bN,TinyArea:xN,TinyColumn:SN,TinyProgress:u,TinyRing:M,Waterfall:Jr,Histogram:Da,Heatmap:io,Box:Ds,Sankey:Ch,Bullet:ON,Gauge:RN,Liquid:Xu,WordCloud:xs,Treemap:Sg,RadialBar:VD,CirclePacking:$D,Violin:QD,BidirectionalBar:t7,Venn:i7,Mix:b4,Sunburst:s7},LN=function(){return LN=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},LN.apply(this,arguments)},ZD=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},l7=(0,j.forwardRef)(function(n,i){var a=n.chartType,o=a===void 0?"Base":a,l=ZD(n,["chartType"]),p=l.containerStyle,v=p===void 0?{height:"inherit",flex:1}:p,S=l.containerAttributes,R=S===void 0?{}:S,P=l.className,I=l.loading,k=l.loadingTemplate,z=l.errorTemplate,te=ZD(l,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate"]),de=He(u7[o],te),be=de.chart,Re=de.container;return(0,j.useImperativeHandle)(i,function(){return be.current}),j.createElement(ln,{errorTemplate:z},I&&j.createElement(Nt,{loadingTemplate:k}),j.createElement("div",LN({className:P,style:v,ref:Re},R)))})},83395:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Column",ref:q}))});Ne.Z=ue},81198:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"DualAxes",ref:q}))});Ne.Z=ue},74977:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Histogram",ref:q}))});Ne.Z=ue},30278:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Line",ref:q}))});Ne.Z=ue},67764:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Pie",ref:q}))});Ne.Z=ue},62836:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Radar",ref:q}))});Ne.Z=ue},55981:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Scatter",ref:q}))});Ne.Z=ue},30423:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"Treemap",ref:q}))});Ne.Z=ue},43893:function(cn,Ne,A){"use strict";var w=A(75271),B=A(38317),ne=function(){return ne=Object.assign||function(j){for(var q,Y=1,K=arguments.length;Y<K;Y++){q=arguments[Y];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(j[H]=q[H])}return j},ne.apply(this,arguments)},ue=(0,w.forwardRef)(function(j,q){return w.createElement(B.P,ne({},j,{chartType:"WordCloud",ref:q}))});Ne.Z=ue},20832:function(cn,Ne,A){"use strict";A.d(Ne,{MG:function(){return j},V7:function(){return Y},Yq:function(){return q},eR:function(){return le},jt:function(){return H},tT:function(){return ie}});var w=A(99938),B=A(54663),ne=A(64820);function ue(se){return typeof se=="boolean"?!1:"enter"in se&&"update"in se&&"exit"in se}function j(se){if(!se)return{enter:!1,update:!1,exit:!1};var ge=["enter","update","exit"],ye=Object.fromEntries(Object.entries(se).filter(function(ve){var fe=(0,w.CR)(ve,1),Fe=fe[0];return!ge.includes(Fe)}));return Object.fromEntries(ge.map(function(ve){return ue(se)?se[ve]===!1?[ve,!1]:[ve,(0,w.pi)((0,w.pi)({},se[ve]),ye)]:[ve,ye]}))}function q(se,ge){se?se.finished.then(ge):ge()}function Y(se,ge){se.length===0?ge():Promise.all(se.map(function(ye){return ye==null?void 0:ye.finished})).then(ge)}function K(se,ge){"update"in se?se.update(ge):se.attr(ge)}function H(se,ge,ye){if(ge.length===0)return null;if(!ye){var ve=ge.slice(-1)[0];return K(se,{style:ve}),null}return se.animate(ge,ye)}function ae(se,ge){return!(se.nodeName!=="text"||ge.nodeName!=="text"||se.attributes.text!==ge.attributes.text)}function ie(se,ge,ye,ve){if(ve===void 0&&(ve="destroy"),ae(se,ge))return se.remove(),[null];var fe=function(){ve==="destroy"?se.destroy():ve==="hide"&&(0,ne.Cp)(se),ge.isVisible()&&(0,ne.$Z)(ge)};if(!ye)return fe(),[null];var Fe=ye.duration,yt=Fe===void 0?0:Fe,gt=ye.delay,pt=gt===void 0?0:gt,lt=Math.ceil(+yt/2),Ke=+yt/4,Ue=(0,w.CR)(se.getGeometryBounds().center,2),Pt=Ue[0],Gt=Ue[1],rn=(0,w.CR)(ge.getGeometryBounds().center,2),_n=rn[0],qe=rn[1],Nt=(0,w.CR)([(Pt+_n)/2-Pt,(Gt+qe)/2-Gt],2),ft=Nt[0],ln=Nt[1],tt=se.style.opacity,Pe=tt===void 0?1:tt,Qe=ge.style.opacity,He=Qe===void 0?1:Qe,_t=se.style.transform||"",Bt=ge.style.transform||"",At=se.animate([{opacity:Pe,transform:"translate(0, 0) ".concat(_t)},{opacity:0,transform:"translate(".concat(ft,", ").concat(ln,") ").concat(_t)}],(0,w.pi)((0,w.pi)({fill:"both"},ye),{duration:pt+lt+Ke})),Je=ge.animate([{opacity:0,transform:"translate(".concat(-ft,", ").concat(-ln,") ").concat(Bt),offset:.01},{opacity:He,transform:"translate(0, 0) ".concat(Bt)}],(0,w.pi)((0,w.pi)({fill:"both"},ye),{duration:lt+Ke,delay:pt+lt-Ke}));return q(Je,fe),[At,Je]}function le(se,ge,ye){var ve={},fe={};return Object.entries(ge).forEach(function(Fe){var yt=(0,w.CR)(Fe,2),gt=yt[0],pt=yt[1];if(!(0,B.Z)(pt)){var lt=se.style[gt]||se.parsedStyle[gt]||0;lt!==pt&&(ve[gt]=lt,fe[gt]=pt)}}),ye?H(se,[ve,fe],(0,w.pi)({fill:"both"},ye)):(K(se,fe),null)}},71350:function(cn,Ne,A){"use strict";A.d(Ne,{w:function(){return Y}});var w=A(99938),B=A(95198),ne=A(64820),ue=A(97289),j=A(59697);function q(){(0,ne.WD)(this,this.attributes.visibility!=="hidden")}var Y=function(K){(0,w.ZT)(H,K);function H(ae,ie){ie===void 0&&(ie={});var le=K.call(this,(0,ue.n)({},{style:ie},ae))||this;return le.initialized=!1,le._defaultOptions=ie,le}return Object.defineProperty(H.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,j.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),H.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},H.prototype.disconnectedCallback=function(){var ae;(ae=this._offscreen)===null||ae===void 0||ae.destroy()},H.prototype.attributeChangedCallback=function(ae){ae==="visibility"&&q.call(this)},H.prototype.update=function(ae,ie){var le;return this.attr((0,ue.n)({},this.attributes,ae||{})),(le=this.render)===null||le===void 0?void 0:le.call(this,this.attributes,this,ie)},H.prototype.clear=function(){this.removeChildren()},H.prototype.bindEvents=function(ae,ie){},H.prototype.getSubShapeStyle=function(ae){var ie=ae.x,le=ae.y,se=ae.transform,ge=ae.transformOrigin,ye=ae.class,ve=ae.className,fe=ae.zIndex,Fe=(0,w._T)(ae,["x","y","transform","transformOrigin","class","className","zIndex"]);return Fe},H}(B.b_)},83016:function(cn,Ne,A){"use strict";A.d(Ne,{x:function(){return ue}});var w=A(99938),B=A(95198),ne=A(59697),ue=function(j){(0,w.ZT)(q,j);function q(Y){Y===void 0&&(Y={});var K=Y.style,H=(0,w._T)(Y,["style"]);return j.call(this,(0,w.pi)({style:(0,w.pi)({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},K)},H))||this}return Object.defineProperty(q.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,ne.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),q.prototype.disconnectedCallback=function(){var Y;(Y=this._offscreen)===null||Y===void 0||Y.destroy()},q}(B.xv)},6234:function(cn,Ne,A){"use strict";A.d(Ne,{R:function(){return Qa}});var w=A(99938),B=A(20832),ne=A(71350),ue=A(22397);function j(on,dn){if(on.length<=dn)return on;for(var jn=Math.floor(on.length/dn),Ur=[],Yr=0;Yr<on.length;Yr+=jn)Ur.push(on[Yr]);return Ur}var q=A(50885),Y=A(60817),K=A(90079),H=A(88803);function ae(on){return on*Math.PI/180}function ie(on){return Number((on*180/Math.PI).toPrecision(5))}var le=A(20949),se=A(99243);function ge(on,dn){return on.style.opacity||(on.style.opacity=1),(0,B.eR)(on,{opacity:0},dn)}var ye=A(58420),ve=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function fe(on){return ve.includes(on)}function Fe(on){var dn={};for(var jn in on)fe(jn)&&(dn[jn]=on[jn]);return dn}var yt=(0,ye.A)({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function gt(on){return on.reduce(function(dn,jn,Ur){return dn.push((0,w.ev)([Ur===0?"M":"L"],(0,w.CR)(jn),!1)),dn},[])}function pt(on,dn,jn){var Ur=dn.connect,Yr=Ur===void 0?"line":Ur,Et=dn.center;if(Yr==="line")return gt(on);if(!Et)return[];var Ct=(0,H.TE)(on[0],Et),xn=jn?0:1;return on.reduce(function(Xn,mt,vn){return vn===0?Xn.push((0,w.ev)(["M"],(0,w.CR)(mt),!1)):Xn.push((0,w.ev)(["A",Ct,Ct,0,0,xn],(0,w.CR)(mt),!1)),Xn},[])}function lt(on,dn,jn){return dn.type==="surround"?pt(on,dn,jn):gt(on)}function Ke(on,dn,jn){var Ur=jn.type,Yr=jn.connect,Et=jn.center,Ct=jn.closed,xn=Ct?[["Z"]]:[],Xn=(0,w.CR)([lt(on,jn),lt(dn.slice().reverse(),jn,!0)],2),mt=Xn[0],vn=Xn[1],tr=(0,w.CR)([on[0],dn.slice(-1)[0]],2),Mr=tr[0],ui=tr[1],Ri=function(To,Po){return[mt,To,vn,Po,xn].flat()};if(Yr==="line"||Ur==="surround")return Ri([(0,w.ev)(["L"],(0,w.CR)(ui),!1)],[(0,w.ev)(["L"],(0,w.CR)(Mr),!1)]);if(!Et)throw new Error("Arc grid need to specified center");var Aa=(0,w.CR)([(0,H.TE)(ui,Et),(0,H.TE)(Mr,Et)],2),Ga=Aa[0],vo=Aa[1];return Ri([(0,w.ev)(["A",Ga,Ga,0,0,1],(0,w.CR)(ui),!1),(0,w.ev)(["L"],(0,w.CR)(ui),!1)],[(0,w.ev)(["A",vo,vo,0,0,0],(0,w.CR)(Mr),!1),(0,w.ev)(["L"],(0,w.CR)(Mr),!1)])}function Ue(on,dn,jn,Ur){var Yr=jn.animate,Et=jn.isBillboard,Ct=dn.map(function(xn,Xn){return{id:xn.id||"grid-line-".concat(Xn),d:lt(xn.points,jn)}});return on.selectAll(yt.line.class).data(Ct,function(xn){return xn.id}).join(function(xn){return xn.append("path").each(function(Xn,mt){var vn=(0,se.S)(Fe((0,w.pi)({d:Xn.d},Ur)),[Xn,mt,Ct]);this.attr((0,w.pi)({class:yt.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:Et},vn))})},function(xn){return xn.transition(function(Xn,mt){var vn=(0,se.S)(Fe((0,w.pi)({d:Xn.d},Ur)),[Xn,mt,Ct]);return(0,B.eR)(this,vn,Yr.update)})},function(xn){return xn.transition(function(){var Xn=this,mt=ge(this,Yr.exit);return(0,B.Yq)(mt,function(){return Xn.remove()}),mt})}).transitions()}function Pt(on,dn,jn){var Ur=jn.animate,Yr=jn.connect,Et=jn.areaFill;if(dn.length<2||!Et||!Yr)return[];for(var Ct=Array.isArray(Et)?Et:[Et,"transparent"],xn=function(Ri){return Ct[Ri%Ct.length]},Xn=[],mt=0;mt<dn.length-1;mt++){var vn=(0,w.CR)([dn[mt].points,dn[mt+1].points],2),tr=vn[0],Mr=vn[1],ui=Ke(tr,Mr,jn);Xn.push({d:ui,fill:xn(mt)})}return on.selectAll(yt.region.class).data(Xn,function(Ri,Aa){return Aa}).join(function(Ri){return Ri.append("path").each(function(Aa,Ga){var vo=(0,se.S)(Aa,[Aa,Ga,Xn]);this.attr(vo)}).attr("className",yt.region.name)},function(Ri){return Ri.transition(function(Aa,Ga){var vo=(0,se.S)(Aa,[Aa,Ga,Xn]);return(0,B.eR)(this,vo,Ur.update)})},function(Ri){return Ri.transition(function(){var Aa=this,Ga=ge(this,Ur.exit);return(0,B.Yq)(Ga,function(){return Aa.remove()}),Ga})}).transitions()}function Gt(on){var dn=on.data,jn=dn===void 0?[]:dn,Ur=on.closed;return Ur?jn.map(function(Yr){var Et=Yr.points,Ct=(0,w.CR)(Et,1),xn=Ct[0];return(0,w.pi)((0,w.pi)({},Yr),{points:(0,w.ev)((0,w.ev)([],(0,w.CR)(Et),!1),[xn],!1)})}):jn}var rn=function(on){(0,w.ZT)(dn,on);function dn(){return on!==null&&on.apply(this,arguments)||this}return dn.prototype.render=function(jn,Ur){var Yr=jn.type,Et=jn.center,Ct=jn.areaFill,xn=jn.closed,Xn=(0,w._T)(jn,["type","center","areaFill","closed"]),mt=Gt(jn),vn=(0,q.Ys)(Ur).maybeAppendByClassName(yt.lineGroup,"g"),tr=(0,q.Ys)(Ur).maybeAppendByClassName(yt.regionGroup,"g"),Mr=Ue(vn,mt,jn,Xn),ui=Pt(tr,mt,jn);return(0,w.ev)((0,w.ev)([],(0,w.CR)(Mr),!1),(0,w.CR)(ui),!1)},dn}(ne.w),_n=A(85695),qe=function(on,dn){return function(jn){return on*(1-jn)+dn*jn}};function Nt(on,dn){var jn=dn?dn.length:0,Ur=on?Math.min(jn,on.length):0;return function(Yr){var Et=new Array(Ur),Ct=new Array(jn),xn=0;for(xn=0;xn<Ur;++xn)Et[xn]=ln(on[xn],dn[xn]);for(;xn<jn;++xn)Ct[xn]=dn[xn];for(xn=0;xn<Ur;++xn)Ct[xn]=Et[xn](Yr);return Ct}}function ft(on,dn){on===void 0&&(on={}),dn===void 0&&(dn={});var jn={},Ur={};return Object.entries(dn).forEach(function(Yr){var Et=(0,w.CR)(Yr,2),Ct=Et[0],xn=Et[1];Ct in on?jn[Ct]=ln(on[Ct],xn):Ur[Ct]=xn}),function(Yr){return Object.entries(jn).forEach(function(Et){var Ct=(0,w.CR)(Et,2),xn=Ct[0],Xn=Ct[1];return Ur[xn]=Xn(Yr)}),Ur}}function ln(on,dn){return typeof on=="number"&&typeof dn=="number"?qe(on,dn):Array.isArray(on)&&Array.isArray(dn)?Nt(on,dn):typeof on=="object"&&typeof dn=="object"?ft(on,dn):function(jn){return on}}function tt(on,dn,jn,Ur){if(!Ur)return on.attr("__keyframe_data__",jn),null;var Yr=Ur.duration,Et=Yr===void 0?0:Yr,Ct=ln(dn,jn),xn=Math.ceil(+Et/16),Xn=new Array(xn).fill(0).map(function(mt,vn,tr){return{__keyframe_data__:Ct(vn/(tr.length-1))}});return on.animate(Xn,(0,w.pi)({fill:"both"},Ur))}var Pe=A(27872),Qe=A(64575);function He(on,dn){var jn={},Ur=Array.isArray(dn)?dn:[dn];for(var Yr in on)Ur.includes(Yr)||(jn[Yr]=on[Yr]);return jn}function _t(on,dn){return Object.fromEntries(Object.entries(on).map(function(jn){var Ur=(0,w.CR)(jn,2),Yr=Ur[0],Et=Ur[1];return[Yr,(0,se.S)(Et,dn)]}))}function Bt(on){if(on.type==="linear"){var dn=on.startPos,jn=on.endPos;return __spreadArray(__spreadArray([],__read(dn),!1),__read(jn),!1)}var Ur=on.startAngle,Yr=on.endAngle,Et=on.center,Ct=on.radius;return __spreadArray(__spreadArray([Ur,Yr],__read(Et),!1),[Ct],!1)}function At(on,dn){return dn&&(0,K.Z)(dn)?on.filter(dn):on}function Je(on,dn){var jn=dn.startAngle,Ur=dn.endAngle;return(Ur-jn)*on+jn}function zt(on,dn){if(dn.type==="linear"){var jn=(0,w.CR)(dn.startPos,2),Ur=jn[0],Yr=jn[1],Et=(0,w.CR)(dn.endPos,2),Ct=Et[0],xn=Et[1],Xn=(0,w.CR)([Ct-Ur,xn-Yr],2),mt=Xn[0],vn=Xn[1];return(0,H.Fv)([mt,vn])}var tr=ae(Je(on,dn));return[-Math.sin(tr),Math.cos(tr)]}function mn(on,dn,jn){var Ur=zt(on,jn);return(0,H.KR)(Ur,dn!=="positive")}function Ot(on,dn){return mn(on,dn.labelDirection,dn)}function Xe(on,dn){var jn=(0,w.CR)(dn.startPos,2),Ur=jn[0],Yr=jn[1],Et=(0,w.CR)(dn.endPos,2),Ct=Et[0],xn=Et[1],Xn=(0,w.CR)([Ct-Ur,xn-Yr],2),mt=Xn[0],vn=Xn[1];return[Ur+mt*on,Yr+vn*on]}function ct(on,dn){var jn=dn.radius,Ur=(0,w.CR)(dn.center,2),Yr=Ur[0],Et=Ur[1],Ct=ae(Je(on,dn));return[Yr+jn*Math.cos(Ct),Et+jn*Math.sin(Ct)]}function Rt(on,dn){return dn.type==="linear"?Xe(on,dn):ct(on,dn)}function Oe(on){return zt(0,on)[1]===0}function Ge(on){return zt(0,on)[0]===0}function Vt(on,dn){return dn-on===360}function De(on,dn,jn,Ur,Yr){var Et=dn-on,Ct=(0,w.CR)([Yr,Yr],2),xn=Ct[0],Xn=Ct[1],mt=(0,w.CR)([ae(on),ae(dn)],2),vn=mt[0],tr=mt[1],Mr=function(Ll){return[jn+Yr*Math.cos(Ll),Ur+Yr*Math.sin(Ll)]},ui=(0,w.CR)(Mr(vn),2),Ri=ui[0],Aa=ui[1],Ga=(0,w.CR)(Mr(tr),2),vo=Ga[0],To=Ga[1];if(Vt(on,dn)){var Po=(tr+vn)/2,ds=(0,w.CR)(Mr(Po),2),Za=ds[0],ks=ds[1];return[["M",Ri,Aa],["A",xn,Xn,0,1,0,Za,ks],["A",xn,Xn,0,1,0,vo,To]]}var oo=Et>180?1:0,nu=on>dn?0:1,wu=!1;return wu?"M".concat(jn,",").concat(Ur,",L").concat(Ri,",").concat(Aa,",A").concat(xn,",").concat(Xn,",0,").concat(oo,",").concat(nu,",").concat(vo,",").concat(To,",L").concat(jn,",").concat(Ur):"M".concat(Ri,",").concat(Aa,",A").concat(xn,",").concat(Xn,",0,").concat(oo,",").concat(nu,",").concat(vo,",").concat(To)}function et(on){var dn=on.attributes,jn=dn.startAngle,Ur=dn.endAngle,Yr=dn.center,Et=dn.radius;return(0,w.ev)((0,w.ev)([jn,Ur],(0,w.CR)(Yr),!1),[Et],!1)}function Ce(on,dn,jn,Ur){var Yr=dn.startAngle,Et=dn.endAngle,Ct=dn.center,xn=dn.radius;return on.selectAll(Y.Ec.line.class).data([{d:De.apply(void 0,(0,w.ev)((0,w.ev)([Yr,Et],(0,w.CR)(Ct),!1),[xn],!1))}],function(Xn,mt){return mt}).join(function(Xn){return Xn.append("path").attr("className",Y.Ec.line.name).styles(dn).styles({d:function(mt){return mt.d}})},function(Xn){return Xn.transition(function(){var mt=this,vn=tt(this,et(this),(0,w.ev)((0,w.ev)([Yr,Et],(0,w.CR)(Ct),!1),[xn],!1),Ur.update);if(vn){var tr=function(){var Mr=(0,_n.Z)(mt.attributes,"__keyframe_data__");mt.style.d=De.apply(void 0,(0,w.ev)([],(0,w.CR)(Mr),!1))};vn.onframe=tr,vn.onfinish=tr}return vn}).styles(dn)},function(Xn){return Xn.remove()}).styles(jn).transitions()}function J(on,dn){var jn=dn.truncRange,Ur=dn.truncShape,Yr=dn.lineExtension}function Le(on,dn,jn){jn===void 0&&(jn=[0,0]);var Ur=(0,w.CR)([on,dn,jn],3),Yr=(0,w.CR)(Ur[0],2),Et=Yr[0],Ct=Yr[1],xn=(0,w.CR)(Ur[1],2),Xn=xn[0],mt=xn[1],vn=(0,w.CR)(Ur[2],2),tr=vn[0],Mr=vn[1],ui=(0,w.CR)([Xn-Et,mt-Ct],2),Ri=ui[0],Aa=ui[1],Ga=Math.sqrt(Math.pow(Ri,2)+Math.pow(Aa,2)),vo=(0,w.CR)([-tr/Ga,Mr/Ga],2),To=vo[0],Po=vo[1];return[To*Ri,To*Aa,Po*Ri,Po*Aa]}function Jt(on){var dn=(0,w.CR)(on,2),jn=(0,w.CR)(dn[0],2),Ur=jn[0],Yr=jn[1],Et=(0,w.CR)(dn[1],2),Ct=Et[0],xn=Et[1];return{x1:Ur,y1:Yr,x2:Ct,y2:xn}}function Be(on,dn,jn,Ur){var Yr=dn.showTrunc,Et=dn.startPos,Ct=dn.endPos,xn=dn.truncRange,Xn=dn.lineExtension,mt=(0,w.CR)([Et,Ct],2),vn=(0,w.CR)(mt[0],2),tr=vn[0],Mr=vn[1],ui=(0,w.CR)(mt[1],2),Ri=ui[0],Aa=ui[1],Ga=(0,w.CR)(Xn?Le(Et,Ct,Xn):new Array(4).fill(0),4),vo=Ga[0],To=Ga[1],Po=Ga[2],ds=Ga[3],Za=function(_a){return on.selectAll(Y.Ec.line.class).data(_a,function(Xi,ia){return ia}).join(function(Xi){return Xi.append("line").attr("className",function(ia){return"".concat(Y.Ec.line.name," ").concat(ia.className)}).styles(jn).transition(function(ia){return(0,B.eR)(this,Jt(ia.line),!1)})},function(Xi){return Xi.styles(jn).transition(function(ia){var ua=ia.line;return(0,B.eR)(this,Jt(ua),Ur.update)})},function(Xi){return Xi.remove()}).transitions()};if(!Yr||!xn)return Za([{line:[[tr+vo,Mr+To],[Ri+Po,Aa+ds]],className:Y.Ec.line.name}]);var ks=(0,w.CR)(xn,2),oo=ks[0],nu=ks[1],wu=Ri-tr,Ll=Aa-Mr,Si=(0,w.CR)([tr+wu*oo,Mr+Ll*oo],2),Sn=Si[0],Qt=Si[1],rr=(0,w.CR)([tr+wu*nu,Mr+Ll*nu],2),rt=rr[0],ai=rr[1],mi=Za([{line:[[tr+vo,Mr+To],[Sn,Qt]],className:Y.Ec.lineFirst.name},{line:[[rt,ai],[Ri+Po,Aa+ds]],className:Y.Ec.lineSecond.name}]);return J(on,dn),mi}function In(on,dn,jn,Ur){var Yr=jn.showArrow,Et=jn.showTrunc,Ct=jn.lineArrow,xn=jn.lineArrowOffset,Xn=jn.lineArrowSize,mt;if(dn==="arc"?mt=on.select(Y.Ec.line.class):Et?mt=on.select(Y.Ec.lineSecond.class):mt=on.select(Y.Ec.line.class),!Yr||!Ct||jn.type==="arc"&&Vt(jn.startAngle,jn.endAngle)){var vn=mt.node();vn&&(vn.style.markerEnd=void 0);return}var tr=(0,Pe.S)(Ct);tr.attr(Ur),(0,Qe.b)(tr,Xn,!0),mt.style("markerEnd",tr).style("markerEndOffset",-xn)}function cr(on,dn,jn){var Ur=dn.type,Yr,Et=(0,le.zs)(dn,"line");return Ur==="linear"?Yr=Be(on,dn,He(Et,"arrow"),jn):Yr=Ce(on,dn,He(Et,"arrow"),jn),In(on,Ur,dn,Et),Yr}function bn(on,dn){return mn(on,dn.gridDirection,dn)}function ir(on){var dn=on.type,jn=on.gridCenter;return dn==="linear"?jn:jn||on.center}function Nr(on,dn){var jn=dn.gridLength;return on.map(function(Ur,Yr){var Et=Ur.value,Ct=(0,w.CR)(Rt(Et,dn),2),xn=Ct[0],Xn=Ct[1],mt=(0,w.CR)((0,H.bA)(bn(Et,dn),jn),2),vn=mt[0],tr=mt[1];return{id:Yr,points:[[xn,Xn],[xn+vn,Xn+tr]]}})}function Ar(on,dn){var jn=dn.gridControlAngles,Ur=ir(dn);if(!Ur)throw new Error("grid center is not provide");if(on.length<2)throw new Error("Invalid grid data");if(!jn||jn.length===0)throw new Error("Invalid gridControlAngles");var Yr=(0,w.CR)(Ur,2),Et=Yr[0],Ct=Yr[1];return on.map(function(xn,Xn){var mt=xn.value,vn=(0,w.CR)(Rt(mt,dn),2),tr=vn[0],Mr=vn[1],ui=(0,w.CR)([tr-Et,Mr-Ct],2),Ri=ui[0],Aa=ui[1],Ga=[];return jn.forEach(function(vo){var To=ae(vo),Po=(0,w.CR)([Math.cos(To),Math.sin(To)],2),ds=Po[0],Za=Po[1],ks=Ri*ds-Aa*Za+Et,oo=Ri*Za+Aa*ds+Ct;Ga.push([ks,oo])}),{points:Ga,id:Xn}})}function Zr(on,dn,jn,Ur){var Yr=(0,le.zs)(jn,"grid"),Et=Yr.type,Ct=Yr.areaFill,xn=ir(jn),Xn=At(dn,jn.gridFilter),mt=Et==="segment"?Nr(Xn,jn):Ar(Xn,jn),vn=(0,w.pi)((0,w.pi)({},Yr),{center:xn,areaFill:(0,K.Z)(Ct)?Xn.map(function(tr,Mr){return(0,se.S)(Ct,[tr,Mr,Xn])}):Ct,animate:Ur,data:mt});return on.selectAll(Y.Ec.grid.class).data([1]).join(function(tr){return tr.append(function(){return new rn({style:vn})}).attr("className",Y.Ec.grid.name)},function(tr){return tr.transition(function(){return this.update(vn)})},function(tr){return tr.remove()}).transitions()}function wi(on,dn,jn,Ur,Yr){return Ur===void 0&&(Ur=!0),Yr===void 0&&(Yr=!1),Ur&&on===dn||Yr&&on===jn?!0:on>dn&&on<jn}var Ln=A(64820),Nn=A(28915),$n=A(50611);function wn(on,dn,jn,Ur){jn===void 0&&(jn=2),Ur===void 0&&(Ur="top"),(0,$n.Rm)(on,{wordWrap:!0,wordWrapWidth:dn,maxLines:jn,textBaseline:Ur})}function nt(on,dn,jn){var Ur=on.getBBox(),Yr=Ur.width,Et=Ur.height,Ct=(0,w.CR)([dn,jn].map(function(mt,vn){var tr;return mt.includes("%")?parseFloat(((tr=mt.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||tr===void 0?void 0:tr[0])||"0")/100*(vn===0?Yr:Et):mt}),2),xn=Ct[0],Xn=Ct[1];return[xn,Xn]}function ze(on,dn){if(dn)try{var jn=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,Ur=dn.replace(jn,function(Yr,Et,Ct){return"translate(".concat(nt(on,Et,Ct),")")});on.attr("transform",Ur)}catch(Yr){}}var vt=function(on){return on!==void 0&&on!=null&&!Number.isNaN(on)},$t=A(59697),gn=A(54663),at=A(27475),an=function(){function on(dn,jn,Ur,Yr){this.set(dn,jn,Ur,Yr)}return Object.defineProperty(on.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(on.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(on.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(on.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(on.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(on.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),on.prototype.rotatedPoints=function(dn,jn,Ur){var Yr=this,Et=Yr.x1,Ct=Yr.y1,xn=Yr.x2,Xn=Yr.y2,mt=Math.cos(dn),vn=Math.sin(dn),tr=jn-jn*mt+Ur*vn,Mr=Ur-jn*vn-Ur*mt,ui=[[mt*Et-vn*Xn+tr,vn*Et+mt*Xn+Mr],[mt*xn-vn*Xn+tr,vn*xn+mt*Xn+Mr],[mt*Et-vn*Ct+tr,vn*Et+mt*Ct+Mr],[mt*xn-vn*Ct+tr,vn*xn+mt*Ct+Mr]];return ui},on.prototype.set=function(dn,jn,Ur,Yr){return Ur<dn?(this.x2=dn,this.x1=Ur):(this.x1=dn,this.x2=Ur),Yr<jn?(this.y2=jn,this.y1=Yr):(this.y1=jn,this.y2=Yr),this},on.prototype.defined=function(dn){return this[dn]!==Number.MAX_VALUE&&this[dn]!==-Number.MAX_VALUE},on}();function hn(on,dn){var jn=on.getEulerAngles()||0;on.setEulerAngles(0);var Ur=on.getBounds(),Yr=(0,w.CR)(Ur.min,2),Et=Yr[0],Ct=Yr[1],xn=(0,w.CR)(Ur.max,2),Xn=xn[0],mt=xn[1],vn=on.getBBox(),tr=vn.width,Mr=vn.height,ui=Mr,Ri=0,Aa=0,Ga=Et,vo=Ct,To=(0,$n.U4)(on);if(To){ui-=1.5;var Po=To.style.textAlign,ds=To.style.textBaseline;Po==="center"?Ga=(Et+Xn)/2:(Po==="right"||Po==="end")&&(Ga=Xn),ds==="middle"?vo=(Ct+mt)/2:ds==="bottom"&&(vo=mt)}var Za=(0,w.CR)((0,at.j)(dn),4),ks=Za[0],oo=ks===void 0?0:ks,nu=Za[1],wu=nu===void 0?0:nu,Ll=Za[2],Si=Ll===void 0?oo:Ll,Sn=Za[3],Qt=Sn===void 0?wu:Sn,rr=new an((Ri+=Et)-Qt,(Aa+=Ct)-oo,Ri+tr+wu,Aa+ui+Si);return on.setEulerAngles(jn),rr.rotatedPoints(ae(jn),Ga,vo)}function pr(on,dn){return dn[0]<=Math.max(on[0][0],on[1][0])&&dn[0]<=Math.min(on[0][0],on[1][0])&&dn[1]<=Math.max(on[0][1],on[1][1])&&dn[1]<=Math.min(on[0][1],on[1][1])}function ur(on,dn,jn){var Ur=(dn[1]-on[1])*(jn[0]-dn[0])-(dn[0]-on[0])*(jn[1]-dn[1]);return Ur===0?0:Ur<0?2:1}function pi(on,dn){var jn=ur(on[0],on[1],dn[0]),Ur=ur(on[0],on[1],dn[1]),Yr=ur(dn[0],dn[1],on[0]),Et=ur(dn[0],dn[1],on[1]);return!!(jn!==Ur&&Yr!==Et||jn===0&&pr(on,dn[0])||Ur===0&&pr(on,dn[1])||Yr===0&&pr(dn,on[0])||Et===0&&pr(dn,on[1]))}function ar(on,dn){var jn=on.length;if(jn<3)return!1;var Ur=[dn,[9999,dn[1]]],Yr=0,Et=0;do{var Ct=[on[Et],on[(Et+1)%jn]];if(pi(Ct,Ur)){if(ur(Ct[0],dn,Ct[1])===0)return pr(Ct,dn);Yr++}Et=(Et+1)%jn}while(Et!==0);return!!(Yr&1)}function di(on,dn){return dn.every(function(jn){return ar(on,jn)})}function sa(on,dn,jn){var Ur=on.x1,Yr=on.x2,Et=on.y1,Ct=on.y2,xn=[[Ur,Et],[Yr,Et],[Yr,Ct],[Ur,Ct]],Xn=hn(dn,jn);return di(xn,Xn)}function xa(on,dn){var jn=(0,w.CR)(on,4),Ur=jn[0],Yr=jn[1],Et=jn[2],Ct=jn[3],xn=(0,w.CR)(dn,4),Xn=xn[0],mt=xn[1],vn=xn[2],tr=xn[3],Mr=Et-Ur,ui=Ct-Yr,Ri=vn-Xn,Aa=tr-mt,Ga=Mr*Aa-Ri*ui;if(Ga===0)return!1;var vo=Ga>0,To=Ur-Xn,Po=Yr-mt,ds=Mr*Po-ui*To;if(ds<0===vo)return!1;var Za=Ri*Po-Aa*To;return!(Za<0===vo||ds>Ga===vo||Za>Ga===vo)}function za(on,dn){var jn=[[on[0],on[1],on[2],on[3]],[on[2],on[3],on[4],on[5]],[on[4],on[5],on[6],on[7]],[on[6],on[7],on[0],on[1]]];return jn.some(function(Ur){return xa(dn,Ur)})}var Ui={lineToLine:xa,intersectBoxLine:za,getBounds:hn};function Ao(on,dn,jn){var Ur,Yr,Et=hn(on,jn).flat(1),Ct=hn(dn,jn).flat(1),xn=[[Et[0],Et[1],Et[2],Et[3]],[Et[0],Et[1],Et[4],Et[5]],[Et[4],Et[5],Et[6],Et[7]],[Et[2],Et[3],Et[6],Et[7]]];try{for(var Xn=(0,w.XA)(xn),mt=Xn.next();!mt.done;mt=Xn.next()){var vn=mt.value;if(za(Ct,vn))return!0}}catch(tr){Ur={error:tr}}finally{try{mt&&!mt.done&&(Yr=Xn.return)&&Yr.call(Xn)}finally{if(Ur)throw Ur.error}}return!1}function fs(on,dn){var jn=on.type,Ur=on.labelDirection,Yr=on.crossSize;if(!Yr)return!1;if(jn==="arc"){var Et=on.center,Ct=on.radius,xn=(0,w.CR)(Et,2),Xn=xn[0],mt=xn[1],vn=Ur==="negative"?0:Yr,tr=-Ct-vn,Mr=Ct+vn,ui=(0,w.CR)((0,at.j)(dn),4),Ri=ui[0],Aa=ui[1],Ga=ui[2],vo=ui[3];return new an(Xn+tr-vo,mt+tr-Ri,Xn+Mr+Aa,mt+Mr+Ga)}var To=(0,w.CR)(on.startPos,2),Po=To[0],ds=To[1],Za=(0,w.CR)(on.endPos,2),ks=Za[0],oo=Za[1],nu=(0,w.CR)(Ge(on)?[-dn,0,dn,0]:[0,dn,0,-dn],4),wu=nu[0],Ll=nu[1],Si=nu[2],Sn=nu[3],Qt=Ot(0,on),rr=(0,H.bA)(Qt,Yr),rt=new an(Po,ds,ks,oo);return rt.x1+=Sn,rt.y1+=wu,rt.x2+=Ll+rr[0],rt.y2+=Si+rr[1],rt}function cs(on,dn,jn){var Ur,Yr,Et=dn.crossPadding,Ct=new Set,xn=null,Xn=fs(dn,Et),mt=function(Ri){return Xn?sa(Xn,Ri):!0},vn=function(Ri,Aa){return!Ri||!Ri.firstChild?!0:!Ao(Ri.firstChild,Aa.firstChild,(0,at.j)(jn))};try{for(var tr=(0,w.XA)(on),Mr=tr.next();!Mr.done;Mr=tr.next()){var ui=Mr.value;mt(ui)?!xn||vn(xn,ui)?xn=ui:(Ct.add(xn),Ct.add(ui)):Ct.add(ui)}}catch(Ri){Ur={error:Ri}}finally{try{Mr&&!Mr.done&&(Yr=tr.return)&&Yr.call(tr)}finally{if(Ur)throw Ur.error}}return Array.from(Ct)}function ra(on,dn){return dn===void 0&&(dn={}),(0,gn.Z)(on)?0:typeof on=="number"?on:Math.floor((0,$n.Ux)(on,dn))}function ms(on,dn,jn,Ur){if(!(on.length<=1)){var Yr=dn.suffix,Et=Yr===void 0?"...":Yr,Ct=dn.minLength,xn=dn.maxLength,Xn=xn===void 0?1/0:xn,mt=dn.step,vn=mt===void 0?" ":mt,tr=dn.margin,Mr=tr===void 0?[0,0,0,0]:tr,ui=(0,$n.qT)(Ur.getTextShape(on[0])),Ri=ra(vn,ui),Aa=Ct?ra(Ct,ui):Ri,Ga=ra(Xn,ui);((0,gn.Z)(Ga)||Ga===1/0)&&(Ga=Math.max.apply(null,on.map(function(rr){return rr.getBBox().width})));for(var vo=on.slice(),To=(0,w.CR)(Mr,4),Po=To[0],ds=Po===void 0?0:Po,Za=To[1],ks=Za===void 0?0:Za,oo=To[2],nu=oo===void 0?ds:oo,wu=To[3],Ll=wu===void 0?ks:wu,Si=function(rr){if(vo.forEach(function(rt){Ur.ellipsis(Ur.getTextShape(rt),rr,Et)}),vo=cs(on,jn,Mr),vo.length<1)return{value:void 0}},Sn=Ga;Sn>Aa+Ri;Sn-=Ri){var Qt=Si(Sn);if(typeof Qt=="object")return Qt.value}}}var xi=A(5796),Gn={parity:function(on,dn){var jn=dn.seq,Ur=jn===void 0?2:jn;return on.filter(function(Yr,Et){return Et%Ur?((0,Ln.Cp)(Yr),!1):!0})}},_e=function(on){return on.filter(vt)};function oi(on,dn,jn,Ur){var Yr=on.length,Et=dn.keepHeader,Ct=dn.keepTail;if(!(Yr<=1||Yr===2&&Et&&Ct)){var xn=Gn.parity,Xn=function(Po){return Po.forEach(Ur.show),Po},mt=2,vn=on.slice(),tr=on.slice(),Mr=Math.min.apply(Math,(0,w.ev)([1],(0,w.CR)(on.map(function(Po){return Po.getBBox().width})),!1));if(jn.type==="linear"&&(Oe(jn)||Ge(jn))){var ui=(0,xi._v)(on[0]).left,Ri=(0,xi._v)(on[Yr-1]).right,Aa=Math.abs(Ri-ui)||1;mt=Math.max(Math.floor(Yr*Mr/Aa),mt)}var Ga,vo;for(Et&&(Ga=vn.splice(0,1)[0]),Ct&&(vo=vn.splice(-1,1)[0],vn.reverse()),Xn(vn);mt<on.length&&cs(_e(vo?(0,w.ev)((0,w.ev)([vo],(0,w.CR)(tr),!1),[Ga],!1):(0,w.ev)([Ga],(0,w.CR)(tr),!1)),jn,dn==null?void 0:dn.margin).length;){if(vo&&!Ga&&mt%2===0){var To=vn.splice(0,1);To.forEach(Ur.hide)}else if(vo&&Ga){var To=vn.splice(0,1);To.forEach(Ur.hide)}tr=xn(Xn(vn),{seq:mt}),mt++}}}function Ka(on,dn,jn,Ur){var Yr,Et,Ct=dn.optionalAngles,xn=Ct===void 0?[0,45,90]:Ct,Xn=dn.margin,mt=dn.recoverWhenFailed,vn=mt===void 0?!0:mt,tr=on.map(function(vo){return vo.getLocalEulerAngles()}),Mr=function(){return cs(on,jn,Xn).length<1},ui=function(vo){return on.forEach(function(To,Po){var ds=Array.isArray(vo)?vo[Po]:vo;Ur.rotate(To,+ds)})};try{for(var Ri=(0,w.XA)(xn),Aa=Ri.next();!Aa.done;Aa=Ri.next()){var Ga=Aa.value;if(ui(Ga),Mr())return}}catch(vo){Yr={error:vo}}finally{try{Aa&&!Aa.done&&(Et=Ri.return)&&Et.call(Ri)}finally{if(Yr)throw Yr.error}}vn&&ui(tr)}function Cn(on){var dn=on.type,jn=on.labelDirection;return dn==="linear"&&Oe(on)?jn==="negative"?"bottom":"top":"middle"}function Un(on,dn,jn,Ur){var Yr=dn.wordWrapWidth,Et=Yr===void 0?50:Yr,Ct=dn.maxLines,xn=Ct===void 0?3:Ct,Xn=dn.recoverWhenFailed,mt=Xn===void 0?!0:Xn,vn=dn.margin,tr=vn===void 0?[0,0,0,0]:vn,Mr=on.map(function(To){return To.attr("maxLines")||1}),ui=Math.min.apply(Math,(0,w.ev)([],(0,w.CR)(Mr),!1)),Ri=function(){return cs(on,jn,tr).length<1},Aa=Cn(jn),Ga=function(To){return on.forEach(function(Po,ds){var Za=Array.isArray(To)?To[ds]:To;Ur.wrap(Po,Et,Za,Aa)})};if(!(ui>xn)){for(var vo=ui;vo<=xn;vo++)if(Ga(vo),Ri())return;mt&&Ga(Mr)}}var tn=new Map([["hide",oi],["rotate",Ka],["ellipsis",ms],["wrap",Un]]);function It(on,dn,jn){return dn.labelOverlap.length<1?!1:jn==="hide"?!(0,$t.X)(on[0]):jn==="rotate"?!on.some(function(Ur){var Yr;return!!(!((Yr=Ur.attr("transform"))===null||Yr===void 0)&&Yr.includes("rotate"))}):jn==="ellipsis"||jn==="wrap"?on.filter(function(Ur){return Ur.querySelector("text")}).length>1:!0}function Zt(on,dn,jn){var Ur=dn.labelOverlap,Yr=Ur===void 0?[]:Ur;Yr.length&&Yr.forEach(function(Et){var Ct=Et.type,xn=tn.get(Ct);It(on,dn,Ct)&&(xn==null||xn(on,Et,dn,jn))})}function $e(){for(var on=[],dn=0;dn<arguments.length;dn++)on[dn]=arguments[dn];var jn=function(Ur){return Ur==="positive"?-1:1};return on.reduce(function(Ur,Yr){return Ur*jn(Yr)},1)}function Bn(on){for(var dn=on;dn<0;)dn+=360;return Math.round(dn%360)}function Yn(on,dn){var jn=(0,w.CR)(on,2),Ur=jn[0],Yr=jn[1],Et=(0,w.CR)(dn,2),Ct=Et[0],xn=Et[1],Xn=(0,w.CR)([Ur*Ct+Yr*xn,Ur*xn-Yr*Ct],2),mt=Xn[0],vn=Xn[1];return Math.atan2(vn,mt)}function or(on){var dn=(on+360)%180;return wi(dn,-90,90)||(dn+=180),dn}function Ze(on,dn,jn){var Ur,Yr=jn.labelAlign,Et=(Ur=dn.style.transform)===null||Ur===void 0?void 0:Ur.includes("rotate");if(Et)return dn.getLocalEulerAngles();var Ct=0,xn=Ot(on.value,jn),Xn=zt(on.value,jn);return Yr==="horizontal"?0:(Yr==="perpendicular"?Ct=Yn([1,0],xn):Ct=Yn([Xn[0]<0?-1:1,0],Xn),or(ie(Ct)))}function je(on,dn,jn){var Ur=jn.type,Yr=jn.labelAlign,Et=Ot(on,jn),Ct=Bn(dn),xn=Bn(ie(Yn([1,0],Et))),Xn="center",mt="middle";return Ur==="linear"?[90,270].includes(xn)&&Ct===0?(Xn="center",mt=Et[1]===1?"top":"bottom"):!(xn%180)&&[90,270].includes(Ct)?Xn="center":xn===0?(wi(Ct,0,90,!1,!0)||wi(Ct,0,90)||wi(Ct,270,360))&&(Xn="start"):xn===90?wi(Ct,0,90,!1,!0)?Xn="start":(wi(Ct,90,180)||wi(Ct,270,360))&&(Xn="end"):xn===270?wi(Ct,0,90,!1,!0)?Xn="end":(wi(Ct,90,180)||wi(Ct,270,360))&&(Xn="start"):xn===180&&(Ct===90?Xn="start":(wi(Ct,0,90)||wi(Ct,270,360))&&(Xn="end")):Yr==="parallel"?wi(xn,0,180,!0)?mt="top":mt="bottom":Yr==="horizontal"?wi(xn,90,270,!1)?Xn="end":(wi(xn,270,360,!1)||wi(xn,0,90))&&(Xn="start"):Yr==="perpendicular"&&(wi(xn,90,270)?Xn="end":Xn="start"),{textAlign:Xn,textBaseline:mt}}function st(on,dn,jn){dn.setLocalEulerAngles(on);var Ur=dn.__data__.value,Yr=je(Ur,on,jn),Et=dn.querySelector(Y.Ec.labelItem.class);Et&&fn(Et,Yr)}function St(on,dn,jn){var Ur=jn.showTick,Yr=jn.tickLength,Et=jn.tickDirection,Ct=jn.labelDirection,xn=jn.labelSpacing,Xn=dn.indexOf(on),mt=(0,se.S)(xn,[on,Xn,dn]),vn=(0,w.CR)([Ot(on.value,jn),$e(Ct,Et)],2),tr=vn[0],Mr=vn[1],ui=Mr===1?(0,se.S)(Ur?Yr:0,[on,Xn,dn]):0,Ri=(0,w.CR)((0,H.IH)((0,H.bA)(tr,mt+ui),Rt(on.value,jn)),2),Aa=Ri[0],Ga=Ri[1];return{x:Aa,y:Ga}}function En(on,dn,jn,Ur){var Yr=Ur.labelFormatter,Et=(0,K.Z)(Yr)?function(){return(0,Pe.S)((0,se.S)(Yr,[on,dn,jn,Ot(on.value,Ur)]))}:function(){return(0,Pe.S)(on.label||"")};return Et}function fn(on,dn){on.nodeName==="text"&&on.attr(dn)}function sn(on){Zt(this.node().childNodes,on,{hide:Ln.Cp,show:Ln.$Z,rotate:function(dn,jn){st(+jn,dn,on)},ellipsis:function(dn,jn,Ur){dn&&(0,Nn.O)(dn,jn||1/0,Ur)},wrap:function(dn,jn,Ur){dn&&wn(dn,jn,Ur)},getTextShape:function(dn){return dn.querySelector("text")}})}function Pn(on,dn,jn,Ur,Yr){var Et=jn.indexOf(dn),Ct=(0,q.Ys)(on).append(En(dn,Et,jn,Yr)).attr("className",Y.Ec.labelItem.name).node(),xn=(0,w.CR)((0,le.Hm)(_t(Ur,[dn,Et,jn])),2),Xn=xn[0],mt=xn[1],vn=mt.transform,tr=(0,w._T)(mt,["transform"]);ze(Ct,vn);var Mr=Ze(dn,Ct,Yr);return Ct.getLocalEulerAngles()||Ct.setLocalEulerAngles(Mr),fn(Ct,(0,w.pi)((0,w.pi)({},je(dn.value,Mr,Yr)),Xn)),on.attr(tr),Ct}function Hn(on,dn,jn,Ur){var Yr=At(dn,jn.labelFilter),Et=(0,le.zs)(jn,"label");return on.selectAll(Y.Ec.label.class).data(Yr,function(Ct,xn){return xn}).join(function(Ct){return Ct.append("g").attr("className",Y.Ec.label.name).transition(function(xn){Pn(this,xn,dn,Et,jn);var Xn=St(xn,dn,jn),mt=Xn.x,vn=Xn.y;return this.style.transform="translate(".concat(mt,", ").concat(vn,")"),null}).call(function(){sn.call(on,jn)})},function(Ct){return Ct.transition(function(xn){var Xn=this.querySelector(Y.Ec.labelItem.class),mt=Pn(this,xn,dn,Et,jn),vn=(0,B.tT)(Xn,mt,Ur.update),tr=St(xn,dn,jn),Mr=tr.x,ui=tr.y,Ri=(0,B.eR)(this,{transform:"translate(".concat(Mr,", ").concat(ui,")")},Ur.update);return(0,w.ev)((0,w.ev)([],(0,w.CR)(vn),!1),[Ri],!1)}).call(function(xn){var Xn=(0,_n.Z)(xn,"_transitions").flat().filter(vt);(0,B.V7)(Xn,function(){sn.call(on,jn)})})},function(Ct){return Ct.transition(function(){var xn=this,Xn=ge(this.childNodes[0],Ur.exit);return(0,B.Yq)(Xn,function(){return(0,q.Ys)(xn).remove()}),Xn})}).transitions()}function Ut(on,dn){return mn(on,dn.tickDirection,dn)}function Yt(on,dn){var jn=(0,w.CR)(on,2),Ur=jn[0],Yr=jn[1];return[[0,0],[Ur*dn,Yr*dn]]}function Xt(on,dn,jn,Ur,Yr){var Et=Yr.tickLength,Ct=(0,w.CR)(Yt(Ur,(0,se.S)(Et,[on,dn,jn])),2),xn=(0,w.CR)(Ct[0],2),Xn=xn[0],mt=xn[1],vn=(0,w.CR)(Ct[1],2),tr=vn[0],Mr=vn[1];return{x1:Xn,x2:tr,y1:mt,y2:Mr}}function jt(on,dn,jn,Ur,Yr){var Et=Yr.tickFormatter,Ct=Ut(dn.value,Yr),xn="line";return(0,K.Z)(Et)&&(xn=function(){return(0,se.S)(Et,[dn,jn,Ur,Ct])}),on.append(xn).attr("className",Y.Ec.tickItem.name)}function fr(on,dn,jn,Ur,Yr,Et,Ct){var xn=Ut(on.value,Et),Xn=Xt(on,dn,jn,xn,Et),mt=Xn.x1,vn=Xn.x2,tr=Xn.y1,Mr=Xn.y2,ui=(0,w.CR)((0,le.Hm)(_t(Ct,[on,dn,jn,xn])),2),Ri=ui[0],Aa=ui[1];Ur.node().nodeName==="line"&&Ur.styles((0,w.pi)({x1:mt,x2:vn,y1:tr,y2:Mr},Ri)),Yr.attr(Aa),Ur.styles(Ri)}function vr(on,dn,jn,Ur,Yr,Et){var Ct=jt((0,q.Ys)(this),on,dn,jn,Ur);fr(on,dn,jn,Ct,this,Ur,Yr);var xn=(0,w.CR)(Rt(on.value,Ur),2),Xn=xn[0],mt=xn[1];return(0,B.eR)(this,{transform:"translate(".concat(Xn,", ").concat(mt,")")},Et)}function yr(on,dn,jn,Ur){var Yr=At(dn,jn.tickFilter),Et=(0,le.zs)(jn,"tick");return on.selectAll(Y.Ec.tick.class).data(Yr,function(Ct){return Ct.id||Ct.label}).join(function(Ct){return Ct.append("g").attr("className",Y.Ec.tick.name).transition(function(xn,Xn){return vr.call(this,xn,Xn,Yr,jn,Et,!1)})},function(Ct){return Ct.transition(function(xn,Xn){return this.removeChildren(),vr.call(this,xn,Xn,Yr,jn,Et,Ur.update)})},function(Ct){return Ct.transition(function(){var xn=this,Xn=ge(this.childNodes[0],Ur.exit);return(0,B.Yq)(Xn,function(){return xn.remove()}),Xn})}).transitions()}var Br=A(2412);function Gi(on,dn,jn){var Ur=jn.titlePosition,Yr=Ur===void 0?"lb":Ur,Et=jn.titleSpacing,Ct=(0,Br.li)(Yr),xn=on.node().getLocalBounds(),Xn=(0,w.CR)(xn.min,2),mt=Xn[0],vn=Xn[1],tr=(0,w.CR)(xn.halfExtents,2),Mr=tr[0],ui=tr[1],Ri=(0,w.CR)(dn.node().getLocalBounds().halfExtents,2),Aa=Ri[0],Ga=Ri[1],vo=(0,w.CR)([mt+Mr,vn+ui],2),To=vo[0],Po=vo[1],ds=(0,w.CR)((0,at.j)(Et),4),Za=ds[0],ks=ds[1],oo=ds[2],nu=ds[3];if(["start","end"].includes(Yr)&&jn.type==="linear"){var wu=jn.startPos,Ll=jn.endPos,Si=(0,w.CR)(Yr==="start"?[wu,Ll]:[Ll,wu],2),Sn=Si[0],Qt=Si[1],rr=(0,H.Fv)([-Qt[0]+Sn[0],-Qt[1]+Sn[1]]),rt=(0,w.CR)((0,H.bA)(rr,Za),2),ai=rt[0],mi=rt[1];return{x:Sn[0]+ai,y:Sn[1]+mi}}return Ct.includes("t")&&(Po-=ui+Ga+Za),Ct.includes("r")&&(To+=Mr+Aa+ks),Ct.includes("l")&&(To-=Mr+Aa+nu),Ct.includes("b")&&(Po+=ui+Ga+oo),{x:To,y:Po}}function qi(on,dn,jn){var Ur=on.getGeometryBounds().halfExtents,Yr=Ur[1]*2;if(dn==="vertical"){if(jn==="left")return"rotate(-90) translate(0, ".concat(Yr/2,")");if(jn==="right")return"rotate(-90) translate(0, -".concat(Yr/2,")")}return""}function $i(on,dn,jn,Ur,Yr){var Et=(0,le.zs)(Ur,"title"),Ct=(0,w.CR)((0,le.Hm)(Et),2),xn=Ct[0],Xn=Ct[1],mt=Xn.transform,vn=Xn.transformOrigin,tr=(0,w._T)(Xn,["transform","transformOrigin"]);dn.styles(tr);var Mr=mt||qi(on.node(),xn.direction,xn.position);on.styles((0,w.pi)((0,w.pi)({},xn),{transformOrigin:vn})),ze(on.node(),Mr);var ui=Gi((0,q.Ys)(jn._offscreen||jn.querySelector(Y.Ec.mainGroup.class)),dn,Ur),Ri=ui.x,Aa=ui.y,Ga=(0,B.eR)(dn.node(),{transform:"translate(".concat(Ri,", ").concat(Aa,")")},Yr);return Ga}function Wi(on,dn,jn,Ur){var Yr=jn.titleText;return on.selectAll(Y.Ec.title.class).data([{title:Yr}].filter(function(Et){return!!Et.title}),function(Et,Ct){return Et.title}).join(function(Et){return Et.append(function(){return(0,Pe.S)(Yr)}).attr("className",Y.Ec.title.name).transition(function(){return $i((0,q.Ys)(this),on,dn,jn,Ur.enter)})},function(Et){return Et.transition(function(){return $i((0,q.Ys)(this),on,dn,jn,Ur.update)})},function(Et){return Et.remove()}).transitions()}function Ii(on,dn,jn,Ur){var Yr=on.showLine,Et=on.showTick,Ct=on.showLabel,xn=dn.maybeAppendByClassName(Y.Ec.lineGroup,"g"),Xn=(0,ue.z)(Yr,xn,function(ui){return cr(ui,on,Ur)})||[],mt=dn.maybeAppendByClassName(Y.Ec.tickGroup,"g"),vn=(0,ue.z)(Et,mt,function(ui){return yr(ui,jn,on,Ur)})||[],tr=dn.maybeAppendByClassName(Y.Ec.labelGroup,"g"),Mr=(0,ue.z)(Ct,tr,function(ui){return Hn(ui,jn,on,Ur)})||[];return(0,w.ev)((0,w.ev)((0,w.ev)([],(0,w.CR)(Xn),!1),(0,w.CR)(vn),!1),(0,w.CR)(Mr),!1).filter(function(ui){return!!ui})}var Qa=function(on){(0,w.ZT)(dn,on);function dn(jn){return on.call(this,jn,Y.m5)||this}return dn.prototype.render=function(jn,Ur,Yr){var Et=this,Ct=jn.titleText,xn=jn.data,Xn=jn.animate,mt=jn.showTitle,vn=jn.showGrid,tr=jn.dataThreshold,Mr=jn.truncRange,ui=j(xn,tr).filter(function(Za){var ks=Za.value;return!(Mr&&ks>Mr[0]&&ks<Mr[1])}),Ri=(0,B.MG)(Yr===void 0?Xn:Yr),Aa=(0,q.Ys)(Ur).maybeAppendByClassName(Y.Ec.gridGroup,"g"),Ga=(0,ue.z)(vn,Aa,function(Za){return Zr(Za,ui,jn,Ri)})||[],vo=(0,q.Ys)(Ur).maybeAppendByClassName(Y.Ec.mainGroup,"g");Ct&&(!this.initialized&&Ri.enter||this.initialized&&Ri.update)&&Ii(jn,(0,q.Ys)(this.offscreenGroup),ui,(0,B.MG)(!1));var To=Ii(jn,(0,q.Ys)(vo.node()),ui,Ri),Po=(0,q.Ys)(Ur).maybeAppendByClassName(Y.Ec.titleGroup,"g"),ds=(0,ue.z)(mt,Po,function(Za){return Wi(Za,Et,jn,Ri)})||[];return(0,w.ev)((0,w.ev)((0,w.ev)([],(0,w.CR)(Ga),!1),(0,w.CR)(To),!1),(0,w.CR)(ds),!1).flat().filter(function(Za){return!!Za})},dn}(ne.w)},60817:function(cn,Ne,A){"use strict";A.d(Ne,{Ec:function(){return Y},m5:function(){return ue}});var w=A(11051),B=A(95198),ne=A(58420),ue={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new B.y$({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},j=(0,w.Z)({},ue,{style:{type:"arc"}}),q=(0,w.Z)({},ue,{style:{}}),Y=(0,ne.A)({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis")},91715:function(cn,Ne,A){"use strict";A.d(Ne,{z:function(){return ge}});var w=A(99938),B=A(95198),ne=A(71350),ue=A(58420),j=A(27475),q=A(69210),Y=A(20949),K=A(50885),H=A(27872),ae=A(5796),ie=A(64820),le={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(ye){return ye.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},se=(0,ue.A)({background:"background",labelGroup:"label-group",label:"label"},"indicator"),ge=function(ye){(0,w.ZT)(ve,ye);function ve(fe){var Fe=ye.call(this,fe,le)||this;return Fe.point=[0,0],Fe.group=Fe.appendChild(new B.ZA({})),Fe.isMutationObserved=!0,Fe}return ve.prototype.renderBackground=function(){if(this.label){var fe=this.attributes,Fe=fe.position,yt=fe.padding,gt=(0,w.CR)((0,j.j)(yt),4),pt=gt[0],lt=gt[1],Ke=gt[2],Ue=gt[3],Pt=this.label.node().getLocalBounds(),Gt=Pt.min,rn=Pt.max,_n=new q.b(Gt[0]-Ue,Gt[1]-pt,rn[0]+lt-Gt[0]+Ue,rn[1]+Ke-Gt[1]+pt),qe=this.getPath(Fe,_n),Nt=(0,Y.zs)(this.attributes,"background");this.background=(0,K.Ys)(this.group).maybeAppendByClassName(se.background,"path").styles((0,w.pi)((0,w.pi)({},Nt),{d:qe})),this.group.appendChild(this.label.node())}},ve.prototype.renderLabel=function(){var fe=this.attributes,Fe=fe.formatter,yt=fe.labelText,gt=(0,Y.zs)(this.attributes,"label"),pt=(0,w.CR)((0,Y.Hm)(gt),2),lt=pt[0],Ke=pt[1],Ue=lt.text,Pt=(0,w._T)(lt,["text"]);if(this.label=(0,K.Ys)(this.group).maybeAppendByClassName(se.labelGroup,"g").styles(Ke),!!yt){var Gt=this.label.maybeAppendByClassName(se.label,function(){return(0,H.S)(Fe(yt))}).style("text",Fe(yt).toString());Gt.selectAll("text").styles(Pt)}},ve.prototype.adjustLayout=function(){var fe=(0,w.CR)(this.point,2),Fe=fe[0],yt=fe[1],gt=this.attributes,pt=gt.x,lt=gt.y;this.group.attr("transform","translate(".concat(pt-Fe,", ").concat(lt-yt,")"))},ve.prototype.getPath=function(fe,Fe){var yt=this.attributes.radius,gt=Fe.x,pt=Fe.y,lt=Fe.width,Ke=Fe.height,Ue=[["M",gt+yt,pt],["L",gt+lt-yt,pt],["A",yt,yt,0,0,1,gt+lt,pt+yt],["L",gt+lt,pt+Ke-yt],["A",yt,yt,0,0,1,gt+lt-yt,pt+Ke],["L",gt+yt,pt+Ke],["A",yt,yt,0,0,1,gt,pt+Ke-yt],["L",gt,pt+yt],["A",yt,yt,0,0,1,gt+yt,pt],["Z"]],Pt={top:4,right:6,bottom:0,left:2},Gt=Pt[fe],rn=this.createCorner([Ue[Gt].slice(-2),Ue[Gt+1].slice(-2)]);return Ue.splice.apply(Ue,(0,w.ev)([Gt+1,1],(0,w.CR)(rn),!1)),Ue[0][0]="M",Ue},ve.prototype.createCorner=function(fe,Fe){Fe===void 0&&(Fe=10);var yt=.8,gt=ae.wE.apply(void 0,(0,w.ev)([],(0,w.CR)(fe),!1)),pt=(0,w.CR)(fe,2),lt=(0,w.CR)(pt[0],2),Ke=lt[0],Ue=lt[1],Pt=(0,w.CR)(pt[1],2),Gt=Pt[0],rn=Pt[1],_n=(0,w.CR)(gt?[Gt-Ke,[Ke,Gt]]:[rn-Ue,[Ue,rn]],2),qe=_n[0],Nt=(0,w.CR)(_n[1],2),ft=Nt[0],ln=Nt[1],tt=qe/2,Pe=qe/Math.abs(qe),Qe=Fe*Pe,He=Qe/2,_t=Qe*Math.sqrt(3)/2*yt,Bt=(0,w.CR)([ft,ft+tt-He,ft+tt,ft+tt+He,ln],5),At=Bt[0],Je=Bt[1],zt=Bt[2],mn=Bt[3],Ot=Bt[4];return gt?(this.point=[zt,Ue-_t],[["L",At,Ue],["L",Je,Ue],["L",zt,Ue-_t],["L",mn,Ue],["L",Ot,Ue]]):(this.point=[Ke+_t,zt],[["L",Ke,At],["L",Ke,Je],["L",Ke+_t,zt],["L",Ke,mn],["L",Ke,Ot]])},ve.prototype.applyVisibility=function(){var fe=this.attributes.visibility;fe==="hidden"?(0,ie.Cp)(this):(0,ie.$Z)(this)},ve.prototype.bindEvents=function(){this.label.on(B.Dk.BOUNDS_CHANGED,this.renderBackground)},ve.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},ve}(ne.w)},76947:function(cn,Ne,A){"use strict";A.d(Ne,{W:function(){return _t}});var w=A(99938),B=A(71350),ne=A(20949),ue=A(50885),j=A(69210),q=A(2412),Y=A(95198),K=function(){},H=A(58871),ae=A(58420),ie=A(99243);function le(Bt,At){return Bt.reduce(function(Je,zt){return(Je[zt[At]]=Je[zt[At]]||[]).push(zt),Je},{})}var se=A(97289),ge=A(63777),ye=A(99860),ve=A(20832);function fe(Bt){var At;return((At=Bt[0])===null||At===void 0?void 0:At.map(function(Je,zt){return Bt.map(function(mn){return mn[zt]})}))||[]}var Fe=A(64820),yt=A(64575),gt=A(80806),pt=(0,ae.A)({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),lt=function(Bt){(0,w.ZT)(At,Bt);function At(Je){var zt=Bt.call(this,Je,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:(0,gt.LI)(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(mn,Ot){return"".concat(mn,"/").concat(Ot)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return zt.playState="idle",zt.contentGroup=zt.appendChild(new Y.ZA({class:pt.contentGroup.name})),zt.playWindow=zt.contentGroup.appendChild(new Y.ZA({class:pt.playWindow.name})),zt.innerCurrPage=zt.defaultPage,zt}return Object.defineProperty(At.prototype,"defaultPage",{get:function(){var Je=this.attributes.defaultPage;return(0,ge.Z)(Je,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"pageShape",{get:function(){var Je=this.pageViews,zt=(0,w.CR)(fe(Je.map(function(Vt){var De=Vt.getBBox(),et=De.width,Ce=De.height;return[et,Ce]})).map(function(Vt){return Math.max.apply(Math,(0,w.ev)([],(0,w.CR)(Vt),!1))}),2),mn=zt[0],Ot=zt[1],Xe=this.attributes,ct=Xe.pageWidth,Rt=ct===void 0?mn:ct,Oe=Xe.pageHeight,Ge=Oe===void 0?Ot:Oe;return{pageWidth:Rt,pageHeight:Ge}},enumerable:!1,configurable:!0}),At.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(At.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),At.prototype.getBBox=function(){var Je=Bt.prototype.getBBox.call(this),zt=Je.x,mn=Je.y,Ot=this.controllerShape,Xe=this.pageShape,ct=Xe.pageWidth,Rt=Xe.pageHeight;return new j.b(zt,mn,ct+Ot.width,Rt)},At.prototype.goTo=function(Je){var zt=this,mn=this.attributes.animate,Ot=this,Xe=Ot.currPage,ct=Ot.playState,Rt=Ot.playWindow,Oe=Ot.pageViews;if(ct!=="idle"||Je<0||Oe.length<=0||Je>=Oe.length)return null;Oe[Xe].setLocalPosition(0,0),this.prepareFollowingPage(Je);var Ge=(0,w.CR)(this.getFollowingPageDiff(Je),2),Vt=Ge[0],De=Ge[1];this.playState="running";var et=(0,ve.jt)(Rt,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-Vt,", ").concat(-De,")")}],mn);return(0,ve.Yq)(et,function(){zt.innerCurrPage=Je,zt.playState="idle",zt.setVisiblePages([Je]),zt.updatePageInfo()}),et},At.prototype.prev=function(){var Je=this.attributes.loop,zt=this.pageViews.length,mn=this.currPage;if(!Je&&mn<=0)return null;var Ot=Je?(mn-1+zt)%zt:(0,ge.Z)(mn-1,0,zt);return this.goTo(Ot)},At.prototype.next=function(){var Je=this.attributes.loop,zt=this.pageViews.length,mn=this.currPage;if(!Je&&mn>=zt-1)return null;var Ot=Je?(mn+1)%zt:(0,ge.Z)(mn+1,0,zt);return this.goTo(Ot)},At.prototype.renderClipPath=function(Je){var zt=this.pageShape,mn=zt.pageWidth,Ot=zt.pageHeight;if(!mn||!Ot){this.contentGroup.style.clipPath=void 0;return}this.clipPath=Je.maybeAppendByClassName(pt.clipPath,"rect").styles({width:mn,height:Ot}),this.contentGroup.attr("clipPath",this.clipPath.node())},At.prototype.setVisiblePages=function(Je){this.playWindow.children.forEach(function(zt,mn){Je.includes(mn)?(0,Fe.$Z)(zt):(0,Fe.Cp)(zt)})},At.prototype.adjustControllerLayout=function(){var Je=this,zt=Je.prevBtnGroup,mn=Je.nextBtnGroup,Ot=Je.pageInfoGroup,Xe=this.attributes,ct=Xe.orientation,Rt=Xe.controllerPadding,Oe=Ot.getBBox(),Ge=Oe.width,Vt=Oe.height,De=(0,w.CR)(ct==="horizontal"?[-180,0]:[-90,90],2),et=De[0],Ce=De[1];zt.setLocalEulerAngles(et),mn.setLocalEulerAngles(Ce);var J=zt.getBBox(),Le=J.width,Jt=J.height,Be=mn.getBBox(),In=Be.width,cr=Be.height,bn=Math.max(Le,Ge,In),ir=ct==="horizontal"?{offset:[[0,0],[Le/2+Rt,0],[Le+Ge+Rt*2,0]],textAlign:"start"}:{offset:[[bn/2,-Jt-Rt],[bn/2,0],[bn/2,cr+Rt]],textAlign:"center"},Nr=(0,w.CR)(ir.offset,3),Ar=(0,w.CR)(Nr[0],2),Zr=Ar[0],wi=Ar[1],Ln=(0,w.CR)(Nr[1],2),Nn=Ln[0],$n=Ln[1],wn=(0,w.CR)(Nr[2],2),nt=wn[0],ze=wn[1],vt=ir.textAlign,$t=Ot.querySelector("text");$t&&($t.style.textAlign=vt),zt.setLocalPosition(Zr,wi),Ot.setLocalPosition(Nn,$n),mn.setLocalPosition(nt,ze)},At.prototype.updatePageInfo=function(){var Je,zt=this,mn=zt.currPage,Ot=zt.pageViews,Xe=zt.attributes.formatter;Ot.length<2||((Je=this.pageInfoGroup.querySelector(pt.pageInfo.class))===null||Je===void 0||Je.attr("text",Xe(mn+1,Ot.length)),this.adjustControllerLayout())},At.prototype.getFollowingPageDiff=function(Je){var zt=this.currPage;if(zt===Je)return[0,0];var mn=this.attributes.orientation,Ot=this.pageShape,Xe=Ot.pageWidth,ct=Ot.pageHeight,Rt=Je<zt?-1:1;return mn==="horizontal"?[Rt*Xe,0]:[0,Rt*ct]},At.prototype.prepareFollowingPage=function(Je){var zt=this,mn=zt.currPage,Ot=zt.pageViews;if(this.setVisiblePages([Je,mn]),Je!==mn){var Xe=(0,w.CR)(this.getFollowingPageDiff(Je),2),ct=Xe[0],Rt=Xe[1];Ot[Je].setLocalPosition(ct,Rt)}},At.prototype.renderController=function(Je){var zt=this,mn=this.attributes.controllerSpacing,Ot=this.pageShape,Xe=Ot.pageWidth,ct=Ot.pageHeight,Rt=this.pageViews.length>=2,Oe=Je.maybeAppendByClassName(pt.controller,"g");if((0,Fe.WD)(Oe.node(),Rt),!!Rt){var Ge=(0,ne.zs)(this.attributes,"button"),Vt=(0,ne.zs)(this.attributes,"pageNum"),De=(0,w.CR)((0,ne.Hm)(Ge),2),et=De[0],Ce=De[1],J=et.size,Le=(0,w._T)(et,["size"]),Jt=!Oe.select(pt.prevBtnGroup.class).node(),Be=Oe.maybeAppendByClassName(pt.prevBtnGroup,"g").styles(Ce);this.prevBtnGroup=Be.node();var In=Be.maybeAppendByClassName(pt.prevBtn,"path"),cr=Oe.maybeAppendByClassName(pt.nextBtnGroup,"g").styles(Ce);this.nextBtnGroup=cr.node();var bn=cr.maybeAppendByClassName(pt.nextBtn,"path");[In,bn].forEach(function(Nr){Nr.styles((0,w.pi)((0,w.pi)({},Le),{transformOrigin:"center"})),(0,yt.b)(Nr.node(),J,!0)});var ir=Oe.maybeAppendByClassName(pt.pageInfoGroup,"g");this.pageInfoGroup=ir.node(),ir.maybeAppendByClassName(pt.pageInfo,"text").styles(Vt),this.updatePageInfo(),Oe.node().setLocalPosition(Xe+mn,ct/2),Jt&&(this.prevBtnGroup.addEventListener("click",function(){zt.prev()}),this.nextBtnGroup.addEventListener("click",function(){zt.next()}))}},At.prototype.render=function(Je,zt){var mn=Je.x,Ot=mn===void 0?0:mn,Xe=Je.y,ct=Xe===void 0?0:Xe;this.attr("transform","translate(".concat(Ot,", ").concat(ct,")"));var Rt=(0,ue.Ys)(zt);this.renderClipPath(Rt),this.renderController(Rt),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},At.prototype.bindEvents=function(){var Je=this,zt=(0,ye.Z)(function(){return Je.render(Je.attributes,Je)},50);this.playWindow.addEventListener(Y.Dk.INSERTED,zt),this.playWindow.addEventListener(Y.Dk.REMOVED,zt)},At}(B.w),Ke=A(35433),Ue=A(23271),Pt=A(27475),Gt=A(22397),rn=A(5796),_n=A(27872),qe=A(28915),Nt=(0,ae.A)({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function ft(Bt){var At=Bt.querySelector(Nt.marker.class);return At?At.style:{}}var ln=function(Bt){(0,w.ZT)(At,Bt);function At(Je){return Bt.call(this,Je,{span:[1,1],marker:function(){return new Y.Cd({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(At.prototype,"showValue",{get:function(){var Je=this.attributes.valueText;return Je?typeof Je=="string"||typeof Je=="number"?Je!=="":typeof Je=="function"?!0:Je.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"actualSpace",{get:function(){var Je=this.labelGroup,zt=this.valueGroup,mn=this.attributes.markerSize,Ot=Je.node().getBBox(),Xe=Ot.width,ct=Ot.height,Rt=zt.node().getBBox(),Oe=Rt.width,Ge=Rt.height;return{markerWidth:mn,labelWidth:Xe,valueWidth:Oe,height:Math.max(mn,ct,Ge)}},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"span",{get:function(){var Je=this.attributes.span;if(!Je)return[1,1];var zt=(0,w.CR)((0,Pt.j)(Je),2),mn=zt[0],Ot=zt[1],Xe=this.showValue?Ot:0,ct=mn+Xe;return[mn/ct,Xe/ct]},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"shape",{get:function(){var Je,zt=this.attributes,mn=zt.markerSize,Ot=zt.width,Xe=this.actualSpace,ct=Xe.markerWidth,Rt=Xe.height,Oe=this.actualSpace,Ge=Oe.labelWidth,Vt=Oe.valueWidth,De=(0,w.CR)(this.spacing,2),et=De[0],Ce=De[1];if(Ot){var J=Ot-mn-et-Ce,Le=(0,w.CR)(this.span,2),Jt=Le[0],Be=Le[1];Je=(0,w.CR)([Jt*J,Be*J],2),Ge=Je[0],Vt=Je[1]}var In=ct+Ge+Vt+et+Ce;return{width:In,height:Rt,markerWidth:ct,labelWidth:Ge,valueWidth:Vt}},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"spacing",{get:function(){var Je=this.attributes.spacing;if(!Je)return[0,0];var zt=(0,w.CR)((0,Pt.j)(Je),2),mn=zt[0],Ot=zt[1];return this.showValue?[mn,Ot]:[mn,0]},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"layout",{get:function(){var Je=this.shape,zt=Je.markerWidth,mn=Je.labelWidth,Ot=Je.valueWidth,Xe=Je.width,ct=Je.height,Rt=(0,w.CR)(this.spacing,2),Oe=Rt[0],Ge=Rt[1];return{height:ct,width:Xe,markerWidth:zt,labelWidth:mn,valueWidth:Ot,position:[zt/2,zt+Oe,zt+mn+Oe+Ge]}},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"scaleSize",{get:function(){var Je=ft(this.markerGroup.node()),zt=this.attributes,mn=zt.markerSize,Ot=zt.markerStrokeWidth,Xe=Ot===void 0?Je.strokeWidth:Ot,ct=zt.markerLineWidth,Rt=ct===void 0?Je.lineWidth:ct,Oe=zt.markerStroke,Ge=Oe===void 0?Je.stroke:Oe,Vt=+(Xe||Rt||(Ge?1:0))*Math.sqrt(2),De=this.markerGroup.node().getBBox(),et=De.width,Ce=De.height;return(1-Vt/Math.max(et,Ce))*mn},enumerable:!1,configurable:!0}),At.prototype.renderMarker=function(Je){var zt=this,mn=this.attributes.marker,Ot=(0,ne.zs)(this.attributes,"marker");this.markerGroup=Je.maybeAppendByClassName(Nt.markerGroup,"g").style("zIndex",0),(0,Gt.z)(!!mn,this.markerGroup,function(){var Xe,ct=zt.markerGroup.node(),Rt=(Xe=ct.childNodes)===null||Xe===void 0?void 0:Xe[0],Oe=typeof mn=="string"?new Ue.J({style:{symbol:mn},className:Nt.marker.name}):mn();Rt?Oe.nodeName===Rt.nodeName?Rt instanceof Ue.J?Rt.update((0,w.pi)((0,w.pi)({},Ot),{symbol:mn})):((0,rn.DM)(Rt,Oe),(0,ue.Ys)(Rt).styles(Ot)):(Rt.remove(),(0,ue.Ys)(Oe).attr("className",Nt.marker.name).styles(Ot),ct.appendChild(Oe)):(Oe instanceof Ue.J||(0,ue.Ys)(Oe).attr("className",Nt.marker.name).styles(Ot),ct.appendChild(Oe)),zt.markerGroup.node().scale(1/zt.markerGroup.node().getScale()[0]);var Ge=(0,yt.b)(zt.markerGroup.node(),zt.scaleSize,!0);zt.markerGroup.node().style._transform="scale(".concat(Ge,")")})},At.prototype.renderLabel=function(Je){var zt=(0,ne.zs)(this.attributes,"label"),mn=zt.text,Ot=(0,w._T)(zt,["text"]);this.labelGroup=Je.maybeAppendByClassName(Nt.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(Nt.label,function(){return(0,_n.S)(mn)}).styles(Ot)},At.prototype.renderValue=function(Je){var zt=this,mn=(0,ne.zs)(this.attributes,"value"),Ot=mn.text,Xe=(0,w._T)(mn,["text"]);this.valueGroup=Je.maybeAppendByClassName(Nt.valueGroup,"g").style("zIndex",0),(0,Gt.z)(this.showValue,this.valueGroup,function(){zt.valueGroup.maybeAppendByClassName(Nt.value,function(){return(0,_n.S)(Ot)}).styles(Xe)})},At.prototype.renderBackground=function(Je){var zt=this.shape,mn=zt.width,Ot=zt.height,Xe=(0,ne.zs)(this.attributes,"background");this.background=Je.maybeAppendByClassName(Nt.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(Nt.background,"rect").styles((0,w.pi)({width:mn,height:Ot},Xe))},At.prototype.adjustLayout=function(){var Je=this.layout,zt=Je.labelWidth,mn=Je.valueWidth,Ot=Je.height,Xe=(0,w.CR)(Je.position,3),ct=Xe[0],Rt=Xe[1],Oe=Xe[2],Ge=Ot/2;this.markerGroup.styles({transform:"translate(".concat(ct,", ").concat(Ge,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(Rt,", ").concat(Ge,")")}),(0,qe.O)(this.labelGroup.select(Nt.label.class).node(),Math.ceil(zt)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(Oe,", ").concat(Ge,")")}),(0,qe.O)(this.valueGroup.select(Nt.value.class).node(),Math.ceil(mn)))},At.prototype.render=function(Je,zt){var mn=(0,ue.Ys)(zt),Ot=Je.x,Xe=Ot===void 0?0:Ot,ct=Je.y,Rt=ct===void 0?0:ct;mn.styles({transform:"translate(".concat(Xe,", ").concat(Rt,")")}),this.renderMarker(mn),this.renderLabel(mn),this.renderValue(mn),this.renderBackground(mn),this.adjustLayout()},At}(B.w),tt=(0,ae.A)({page:"item-page",navigator:"navigator",item:"item"},"items"),Pe=function(Bt,At,Je){return Je===void 0&&(Je=!0),Bt?At(Bt):Je},Qe=function(Bt){(0,w.ZT)(At,Bt);function At(Je){var zt=Bt.call(this,Je,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:K,mouseenter:K,mouseleave:K})||this;return zt.navigatorShape=[0,0],zt}return Object.defineProperty(At.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"grid",{get:function(){var Je=this.attributes,zt=Je.gridRow,mn=Je.gridCol,Ot=Je.data;if(!zt&&!mn)throw new Error("gridRow and gridCol can not be set null at the same time");return zt&&mn?[zt,mn]:zt?[zt,Ot.length]:[Ot.length,mn]},enumerable:!1,configurable:!0}),Object.defineProperty(At.prototype,"renderData",{get:function(){var Je=this.attributes,zt=Je.data,mn=Je.layout,Ot=(0,ne.zs)(this.attributes,"item"),Xe=zt.map(function(ct,Rt){var Oe=ct.id,Ge=Oe===void 0?Rt:Oe,Vt=ct.label,De=ct.value;return{id:"".concat(Ge),index:Rt,style:(0,w.pi)({layout:mn,labelText:Vt,valueText:De},Object.fromEntries(Object.entries(Ot).map(function(et){var Ce=(0,w.CR)(et,2),J=Ce[0],Le=Ce[1];return[J,(0,ie.S)(Le,[ct,Rt,zt])]})))}});return Xe},enumerable:!1,configurable:!0}),At.prototype.getGridLayout=function(){var Je=this,zt=this.attributes,mn=zt.orientation,Ot=zt.width,Xe=zt.rowPadding,ct=zt.colPadding,Rt=(0,w.CR)(this.navigatorShape,1),Oe=Rt[0],Ge=(0,w.CR)(this.grid,2),Vt=Ge[0],De=Ge[1],et=De*Vt,Ce=0;return this.pageViews.children.map(function(J,Le){var Jt,Be,In=Math.floor(Le/et),cr=Le%et,bn=Je.ifHorizontal(De,Vt),ir=[Math.floor(cr/bn),cr%bn];mn==="vertical"&&ir.reverse();var Nr=(0,w.CR)(ir,2),Ar=Nr[0],Zr=Nr[1],wi=(Ot-Oe-(De-1)*ct)/De,Ln=J.getBBox().height,Nn=(0,w.CR)([0,0],2),$n=Nn[0],wn=Nn[1];return mn==="horizontal"?(Jt=(0,w.CR)([Ce,Ar*(Ln+Xe)],2),$n=Jt[0],wn=Jt[1],Ce=Zr===De-1?0:Ce+wi+ct):(Be=(0,w.CR)([Zr*(wi+ct),Ce],2),$n=Be[0],wn=Be[1],Ce=Ar===Vt-1?0:Ce+Ln+Xe),{page:In,index:Le,row:Ar,col:Zr,pageIndex:cr,width:wi,height:Ln,x:$n,y:wn}})},At.prototype.getFlexLayout=function(){var Je=this.attributes,zt=Je.width,mn=Je.height,Ot=Je.rowPadding,Xe=Je.colPadding,ct=(0,w.CR)(this.navigatorShape,1),Rt=ct[0],Oe=(0,w.CR)(this.grid,2),Ge=Oe[0],Vt=Oe[1],De=(0,w.CR)([zt-Rt,mn],2),et=De[0],Ce=De[1],J=(0,w.CR)([0,0,0,0,0,0,0,0],8),Le=J[0],Jt=J[1],Be=J[2],In=J[3],cr=J[4],bn=J[5],ir=J[6],Nr=J[7];return this.pageViews.children.map(function(Ar,Zr){var wi,Ln,Nn,$n,wn=Ar.getBBox(),nt=wn.width,ze=wn.height,vt=ir===0?0:Xe,$t=ir+vt+nt;if($t<=et&&Pe(cr,function(at){return at<Vt}))return wi=(0,w.CR)([ir+vt,Nr,$t],3),Le=wi[0],Jt=wi[1],ir=wi[2],{width:nt,height:ze,x:Le,y:Jt,page:Be,index:Zr,pageIndex:In++,row:bn,col:cr++};Ln=(0,w.CR)([bn+1,0,0,Nr+ze+Ot],4),bn=Ln[0],cr=Ln[1],ir=Ln[2],Nr=Ln[3];var gn=Nr+ze;return gn<=Ce&&Pe(bn,function(at){return at<Ge})?(Nn=(0,w.CR)([ir,Nr,nt],3),Le=Nn[0],Jt=Nn[1],ir=Nn[2],{width:nt,height:ze,x:Le,y:Jt,page:Be,index:Zr,pageIndex:In++,row:bn,col:cr++}):($n=(0,w.CR)([0,0,nt,0,Be+1,0,0,0],8),Le=$n[0],Jt=$n[1],ir=$n[2],Nr=$n[3],Be=$n[4],In=$n[5],bn=$n[6],cr=$n[7],{width:nt,height:ze,x:Le,y:Jt,page:Be,index:Zr,pageIndex:In++,row:bn,col:cr++})})},Object.defineProperty(At.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var Je=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,zt=Je.call(this);return zt.slice(-1)[0].page>0?(this.navigatorShape=[55,0],Je.call(this)):zt},enumerable:!1,configurable:!0}),At.prototype.ifHorizontal=function(Je,zt){var mn=this.attributes.orientation;return(0,Ke._h)(mn,Je,zt)},At.prototype.flattenPage=function(Je){Je.querySelectorAll(tt.item.class).forEach(function(zt){Je.appendChild(zt)}),Je.querySelectorAll(tt.page.class).forEach(function(zt){var mn=Je.removeChild(zt);mn.destroy()})},At.prototype.renderItems=function(Je){var zt=this.attributes,mn=zt.click,Ot=zt.mouseenter,Xe=zt.mouseleave;this.flattenPage(Je);var ct=this.dispatchCustomEvent.bind(this);(0,ue.Ys)(Je).selectAll(tt.item.class).data(this.renderData,function(Rt){return Rt.id}).join(function(Rt){return Rt.append(function(Oe){var Ge=Oe.style;return new ln({style:Ge})}).attr("className",tt.item.name).on("click",function(){mn==null||mn(this),ct("itemClick",{item:this})}).on("pointerenter",function(){Ot==null||Ot(this),ct("itemMouseenter",{item:this})}).on("pointerleave",function(){Xe==null||Xe(this),ct("itemMouseleave",{item:this})})},function(Rt){return Rt.each(function(Oe){var Ge=Oe.style;this.update(Ge)})},function(Rt){return Rt.remove()})},At.prototype.relayoutNavigator=function(){var Je,zt=this.attributes,mn=zt.layout,Ot=zt.width,Xe=((Je=this.pageViews.children[0])===null||Je===void 0?void 0:Je.getBBox().height)||0,ct=(0,w.CR)(this.navigatorShape,2),Rt=ct[0],Oe=ct[1];this.navigator.update(mn==="grid"?{pageWidth:Ot-Rt,pageHeight:Xe-Oe}:{})},At.prototype.adjustLayout=function(){var Je=this,zt=Object.entries(le(this.itemsLayout,"page")).map(function(Ot){var Xe=(0,w.CR)(Ot,2),ct=Xe[0],Rt=Xe[1];return{page:ct,layouts:Rt}}),mn=(0,w.ev)([],(0,w.CR)(this.navigator.getContainer().children),!1);zt.forEach(function(Ot){var Xe=Ot.layouts,ct=Je.pageViews.appendChild(new Y.ZA({className:tt.page.name}));Xe.forEach(function(Rt){var Oe=Rt.x,Ge=Rt.y,Vt=Rt.index,De=Rt.width,et=Rt.height,Ce=mn[Vt];ct.appendChild(Ce),(0,H.Z)(Ce,"__layout__",Rt),Ce.update({x:Oe,y:Ge,width:De,height:et})})}),this.relayoutNavigator()},At.prototype.renderNavigator=function(Je){var zt=this.attributes.orientation,mn=(0,ne.zs)(this.attributes,"nav"),Ot=(0,se.n)({orientation:zt},mn),Xe=this;return Je.selectAll(tt.navigator.class).data(["nav"]).join(function(ct){return ct.append(function(){return new lt({style:Ot})}).attr("className",tt.navigator.name).each(function(){Xe.navigator=this})},function(ct){return ct.each(function(){this.update(Ot)})},function(ct){return ct.remove()}),this.navigator},At.prototype.getBBox=function(){return this.navigator.getBBox()},At.prototype.render=function(Je,zt){var mn=this.attributes.data;if(!(!mn||mn.length===0)){var Ot=this.renderNavigator((0,ue.Ys)(zt));this.renderItems(Ot.getContainer()),this.adjustLayout()}},At.prototype.dispatchCustomEvent=function(Je,zt){var mn=new Y.Aw(Je,{detail:zt});this.dispatchEvent(mn)},At}(B.w),He=A(50664),_t=function(Bt){(0,w.ZT)(At,Bt);function At(Je){return Bt.call(this,Je,He.bD)||this}return At.prototype.renderTitle=function(Je,zt,mn){var Ot=this.attributes,Xe=Ot.showTitle,ct=Ot.titleText,Rt=(0,ne.zs)(this.attributes,"title"),Oe=(0,w.CR)((0,ne.Hm)(Rt),2),Ge=Oe[0],Vt=Oe[1];this.titleGroup=Je.maybeAppendByClassName(He.Ec.titleGroup,"g").styles(Vt);var De=(0,w.pi)((0,w.pi)({width:zt,height:mn},Ge),{text:Xe?ct:""});this.title=this.titleGroup.maybeAppendByClassName(He.Ec.title,function(){return new q.Dx({style:De})}).update(De)},At.prototype.renderItems=function(Je,zt){var mn=zt.x,Ot=zt.y,Xe=zt.width,ct=zt.height,Rt=(0,ne.zs)(this.attributes,"title",!0),Oe=(0,w.CR)((0,ne.Hm)(Rt),2),Ge=Oe[0],Vt=Oe[1],De=(0,w.pi)((0,w.pi)({},Ge),{width:Xe,height:ct,x:0,y:0});this.itemsGroup=Je.maybeAppendByClassName(He.Ec.itemsGroup,"g").styles((0,w.pi)((0,w.pi)({},Vt),{transform:"translate(".concat(mn,", ").concat(Ot,")")}));var et=this;this.itemsGroup.selectAll(He.Ec.items.class).data(["items"]).join(function(Ce){return Ce.append(function(){return new Qe({style:De})}).attr("className",He.Ec.items.name).each(function(){et.items=(0,ue.Ys)(this)})},function(Ce){return Ce.update(De)},function(Ce){return Ce.remove()})},At.prototype.adjustLayout=function(){var Je=this.attributes.showTitle;if(Je){var zt=this.title.node().getAvailableSpace(),mn=zt.x,Ot=zt.y;this.itemsGroup.node().style.transform="translate(".concat(mn,", ").concat(Ot,")")}},Object.defineProperty(At.prototype,"availableSpace",{get:function(){var Je=this.attributes,zt=Je.showTitle,mn=Je.width,Ot=Je.height;return zt?this.title.node().getAvailableSpace():new j.b(0,0,mn,Ot)},enumerable:!1,configurable:!0}),At.prototype.getBBox=function(){var Je,zt,mn=(Je=this.title)===null||Je===void 0?void 0:Je.node(),Ot=(zt=this.items)===null||zt===void 0?void 0:zt.node();return!mn||!Ot?Bt.prototype.getBBox.call(this):(0,q.jY)(mn,Ot)},At.prototype.render=function(Je,zt){var mn=this.attributes,Ot=mn.width,Xe=mn.height,ct=mn.x,Rt=ct===void 0?0:ct,Oe=mn.y,Ge=Oe===void 0?0:Oe,Vt=(0,ue.Ys)(zt);zt.style.transform="translate(".concat(Rt,", ").concat(Ge,")"),this.renderTitle(Vt,Ot,Xe),this.renderItems(Vt,this.availableSpace),this.adjustLayout()},At}(B.w)},50664:function(cn,Ne,A){"use strict";A.d(Ne,{B0:function(){return Y},D_:function(){return K},Ec:function(){return ae},bD:function(){return q}});var w=A(97289),B=A(20949),ne=A(58420),ue=A(43489),j={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},q=(0,w.n)({},j,{}),Y=(0,w.n)({},j,(0,B.dq)(ue.x,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),K=.01,H=.5,ae=(0,ne.A)({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend")},43489:function(cn,Ne,A){"use strict";A.d(Ne,{H:function(){return ie},x:function(){return ae}});var w=A(99938),B=A(71350),ne=A(58420),ue=A(50885),j=A(22397),q=A(20949),Y=A(23271),K=A(35433),H=(0,ne.A)({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),ae={showLabel:!0,formatter:function(le){return le.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},ie=function(le){(0,w.ZT)(se,le);function se(ge){return le.call(this,ge,ae)||this}return se.prototype.render=function(ge,ye){var ve=(0,ue.Ys)(ye).maybeAppendByClassName(H.markerGroup,"g");this.renderMarker(ve);var fe=(0,ue.Ys)(ye).maybeAppendByClassName(H.labelGroup,"g");this.renderLabel(fe)},se.prototype.renderMarker=function(ge){var ye=this,ve=this.attributes,fe=ve.orientation,Fe=ve.markerSymbol,yt=Fe===void 0?(0,K._h)(fe,"horizontalHandle","verticalHandle"):Fe;(0,j.z)(!!yt,ge,function(gt){var pt=(0,q.zs)(ye.attributes,"marker"),lt=(0,w.pi)({symbol:yt},pt);ye.marker=gt.maybeAppendByClassName(H.marker,function(){return new Y.J({style:lt})}).update(lt)})},se.prototype.renderLabel=function(ge){var ye=this,ve=this.attributes,fe=ve.showLabel,Fe=ve.orientation,yt=ve.spacing,gt=yt===void 0?0:yt,pt=ve.formatter;(0,j.z)(fe,ge,function(lt){var Ke,Ue=(0,q.zs)(ye.attributes,"label"),Pt=Ue.text,Gt=(0,w._T)(Ue,["text"]),rn=((Ke=lt.select(H.marker.class))===null||Ke===void 0?void 0:Ke.node().getBBox())||{},_n=rn.width,qe=_n===void 0?0:_n,Nt=rn.height,ft=Nt===void 0?0:Nt,ln=(0,w.CR)((0,K._h)(Fe,[0,ft+gt,"center","top"],[qe+gt,0,"start","middle"]),4),tt=ln[0],Pe=ln[1],Qe=ln[2],He=ln[3];lt.maybeAppendByClassName(H.label,"text").styles((0,w.pi)((0,w.pi)({},Gt),{x:tt,y:Pe,text:pt(Pt).toString(),textAlign:Qe,textBaseline:He}))})},se}(B.w)},35433:function(cn,Ne,A){"use strict";A.d(Ne,{GU:function(){return ae},_h:function(){return ie},jN:function(){return ne}});var w=A(99938),B=A(23271);function ne(le,se,ge){var ye=Math.round((le-ge)/se);return ge+ye*se}function ue(le,se,ge){var ye=1.4,ve=ye*ge;return[["M",le-ge,se-ve],["L",le+ge,se-ve],["L",le+ge,se+ve],["L",le-ge,se+ve],["Z"]]}var j=1.4,q=.4;function Y(le,se,ge){var ye=ge,ve=ye*j,fe=ye/2,Fe=ye/6,yt=le+ve*q;return[["M",le,se],["L",yt,se+fe],["L",le+ve,se+fe],["L",le+ve,se-fe],["L",yt,se-fe],["Z"],["M",yt,se+Fe],["L",le+ve-2,se+Fe],["M",yt,se-Fe],["L",le+ve-2,se-Fe]]}function K(le,se,ge){var ye=ge,ve=ye*j,fe=ye/2,Fe=ye/6,yt=se+ve*q;return[["M",le,se],["L",le-fe,yt],["L",le-fe,se+ve],["L",le+fe,se+ve],["L",le+fe,yt],["Z"],["M",le-Fe,yt],["L",le-Fe,se+ve-2],["M",le+Fe,yt],["L",le+Fe,se+ve-2]]}B.J.registerSymbol("hiddenHandle",ue),B.J.registerSymbol("verticalHandle",Y),B.J.registerSymbol("horizontalHandle",K);var H=function(le,se,ge){return le===void 0&&(le="horizontal"),le==="horizontal"?se:ge};function ae(le,se,ge,ye){var ve;ye===void 0&&(ye=4);var fe=(0,w.CR)(le,2),Fe=fe[0],yt=fe[1],gt=(0,w.CR)(se,2),pt=gt[0],lt=gt[1],Ke=(0,w.CR)(ge,2),Ue=Ke[0],Pt=Ke[1],Gt=(0,w.CR)([pt,lt],2),rn=Gt[0],_n=Gt[1],qe=_n-rn;return rn>_n&&(ve=(0,w.CR)([_n,rn],2),rn=ve[0],_n=ve[1]),qe>yt-Fe?[Fe,yt]:rn<Fe?Ue===Fe&&Pt===_n?[Fe,_n]:[Fe,qe+Fe]:_n>yt?Pt===yt&&Ue===rn?[rn,yt]:[yt-qe,yt]:[rn,_n]}function ie(le,se,ge){return le===void 0&&(le="horizontal"),le==="horizontal"?se:ge}},23271:function(cn,Ne,A){"use strict";A.d(Ne,{J:function(){return ie}});var w=A(99938),B=A(90079),ne=A(71350),ue=A(22397),j=A(50885),q=A(80806),Y=A(48758),K=A(43706);function H(le){var se="default";if((0,Y.Z)(le)&&le instanceof Image)se="image";else if((0,B.Z)(le))se="symbol";else if((0,K.Z)(le)){var ge=new RegExp("data:(image|text)");le.match(ge)?se="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(le)?se="url":se="symbol"}return se}function ae(le){var se=H(le);return["base64","url","image"].includes(se)?"image":le&&se==="symbol"?"path":null}var ie=function(le){(0,w.ZT)(se,le);function se(){return le!==null&&le.apply(this,arguments)||this}return se.prototype.render=function(ge,ye){var ve=ge.x,fe=ve===void 0?0:ve,Fe=ge.y,yt=Fe===void 0?0:Fe,gt=this.getSubShapeStyle(ge),pt=gt.symbol,lt=gt.size,Ke=lt===void 0?16:lt,Ue=(0,w._T)(gt,["symbol","size"]),Pt=ae(pt);(0,ue.z)(!!Pt,(0,j.Ys)(ye),function(Gt){Gt.maybeAppendByClassName("marker",Pt).attr("className","marker ".concat(Pt,"-marker")).call(function(rn){if(Pt==="image"){var _n=Ke*2;rn.styles({img:pt,width:_n,height:_n,x:fe-Ke,y:yt-Ke})}else{var _n=Ke/2,qe=(0,B.Z)(pt)?pt:se.getSymbol(pt);rn.styles((0,w.pi)({d:qe==null?void 0:qe(fe,yt,_n)},Ue))}})})},se.MARKER_SYMBOL_MAP=new Map,se.registerSymbol=function(ge,ye){se.MARKER_SYMBOL_MAP.set(ge,ye)},se.getSymbol=function(ge){return se.MARKER_SYMBOL_MAP.get(ge)},se.getSymbols=function(){return Array.from(se.MARKER_SYMBOL_MAP.keys())},se}(ne.w);ie.registerSymbol("cross",q.kC),ie.registerSymbol("hyphen",q.Zb),ie.registerSymbol("line",q.jv),ie.registerSymbol("plus",q.PD),ie.registerSymbol("tick",q.Ky),ie.registerSymbol("circle",q.Xw),ie.registerSymbol("point",q.xm),ie.registerSymbol("bowtie",q.XF),ie.registerSymbol("hexagon",q.bL),ie.registerSymbol("square",q.h6),ie.registerSymbol("diamond",q.tf),ie.registerSymbol("triangle",q.cP),ie.registerSymbol("triangle-down",q.MG),ie.registerSymbol("line",q.jv),ie.registerSymbol("dot",q.AK),ie.registerSymbol("dash",q.P2),ie.registerSymbol("smooth",q.ip),ie.registerSymbol("hv",q.hv),ie.registerSymbol("vh",q.vh),ie.registerSymbol("hvh",q.t7),ie.registerSymbol("vhv",q.sN)},80806:function(cn,Ne,A){"use strict";A.d(Ne,{AK:function(){return ge},Ky:function(){return ie},LI:function(){return pt},MG:function(){return q},P2:function(){return ye},PD:function(){return le},XF:function(){return K},Xw:function(){return w},Zb:function(){return se},bL:function(){return Y},cP:function(){return j},h6:function(){return ne},hv:function(){return fe},ip:function(){return ve},jv:function(){return H},kC:function(){return ae},sN:function(){return gt},t7:function(){return yt},tf:function(){return ue},vh:function(){return Fe},xm:function(){return B}});var w=function(lt,Ke,Ue){return[["M",lt-Ue,Ke],["A",Ue,Ue,0,1,0,lt+Ue,Ke],["A",Ue,Ue,0,1,0,lt-Ue,Ke],["Z"]]},B=w,ne=function(lt,Ke,Ue){return[["M",lt-Ue,Ke-Ue],["L",lt+Ue,Ke-Ue],["L",lt+Ue,Ke+Ue],["L",lt-Ue,Ke+Ue],["Z"]]},ue=function(lt,Ke,Ue){return[["M",lt-Ue,Ke],["L",lt,Ke-Ue],["L",lt+Ue,Ke],["L",lt,Ke+Ue],["Z"]]},j=function(lt,Ke,Ue){var Pt=Ue*Math.sin(.3333333333333333*Math.PI);return[["M",lt-Ue,Ke+Pt],["L",lt,Ke-Pt],["L",lt+Ue,Ke+Pt],["Z"]]},q=function(lt,Ke,Ue){var Pt=Ue*Math.sin(.3333333333333333*Math.PI);return[["M",lt-Ue,Ke-Pt],["L",lt+Ue,Ke-Pt],["L",lt,Ke+Pt],["Z"]]},Y=function(lt,Ke,Ue){var Pt=Ue/2*Math.sqrt(3);return[["M",lt,Ke-Ue],["L",lt+Pt,Ke-Ue/2],["L",lt+Pt,Ke+Ue/2],["L",lt,Ke+Ue],["L",lt-Pt,Ke+Ue/2],["L",lt-Pt,Ke-Ue/2],["Z"]]},K=function(lt,Ke,Ue){var Pt=Ue-1.5;return[["M",lt-Ue,Ke-Pt],["L",lt+Ue,Ke+Pt],["L",lt+Ue,Ke-Pt],["L",lt-Ue,Ke+Pt],["Z"]]},H=function(lt,Ke,Ue){return[["M",lt,Ke+Ue],["L",lt,Ke-Ue]]},ae=function(lt,Ke,Ue){return[["M",lt-Ue,Ke-Ue],["L",lt+Ue,Ke+Ue],["M",lt+Ue,Ke-Ue],["L",lt-Ue,Ke+Ue]]},ie=function(lt,Ke,Ue){return[["M",lt-Ue/2,Ke-Ue],["L",lt+Ue/2,Ke-Ue],["M",lt,Ke-Ue],["L",lt,Ke+Ue],["M",lt-Ue/2,Ke+Ue],["L",lt+Ue/2,Ke+Ue]]},le=function(lt,Ke,Ue){return[["M",lt-Ue,Ke],["L",lt+Ue,Ke],["M",lt,Ke-Ue],["L",lt,Ke+Ue]]},se=function(lt,Ke,Ue){return[["M",lt-Ue,Ke],["L",lt+Ue,Ke]]},ge=function(lt,Ke,Ue){return[["M",lt-Ue,Ke],["L",lt+Ue,Ke]]},ye=ge,ve=function(lt,Ke,Ue){return[["M",lt-Ue,Ke],["A",Ue/2,Ue/2,0,1,1,lt,Ke],["A",Ue/2,Ue/2,0,1,0,lt+Ue,Ke]]},fe=function(lt,Ke,Ue){return[["M",lt-Ue-1,Ke-2.5],["L",lt,Ke-2.5],["L",lt,Ke+2.5],["L",lt+Ue+1,Ke+2.5]]},Fe=function(lt,Ke,Ue){return[["M",lt-Ue-1,Ke+2.5],["L",lt,Ke+2.5],["L",lt,Ke-2.5],["L",lt+Ue+1,Ke-2.5]]},yt=function(lt,Ke,Ue){return[["M",lt-(Ue+1),Ke+2.5],["L",lt-Ue/2,Ke+2.5],["L",lt-Ue/2,Ke-2.5],["L",lt+Ue/2,Ke-2.5],["L",lt+Ue/2,Ke+2.5],["L",lt+Ue+1,Ke+2.5]]};function gt(lt,Ke){return[["M",lt-5,Ke+2.5],["L",lt-5,Ke],["L",lt,Ke],["L",lt,Ke-3],["L",lt,Ke+3],["L",lt+6.5,Ke+3]]}var pt=function(lt,Ke,Ue){return[["M",lt-Ue,Ke-Ue],["L",lt+Ue,Ke],["L",lt-Ue,Ke+Ue],["Z"]]}},68021:function(cn,Ne,A){"use strict";A.d(Ne,{Ec:function(){return j},Qi:function(){return B},b0:function(){return ne},fI:function(){return ue}});var w=A(58420),B={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},ne={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},ue={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},j=(0,w.A)({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider")},72807:function(cn,Ne,A){"use strict";A.d(Ne,{H:function(){return ae}});var w=A(99938),B=A(71350),ne=A(58420),ue=A(50885),j=A(20949),q=A(22397),Y=A(68021),K=(0,ne.A)({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),H=function(ie){(0,w.ZT)(le,ie);function le(){return ie!==null&&ie.apply(this,arguments)||this}return le.prototype.render=function(se,ge){var ye=se.x,ve=se.y,fe=se.size,Fe=fe===void 0?10:fe,yt=se.radius,gt=yt===void 0?Fe/4:yt,pt=se.orientation,lt=(0,w._T)(se,["x","y","size","radius","orientation"]),Ke=Fe,Ue=Ke*2.4,Pt=(0,ue.Ys)(ge).maybeAppendByClassName(K.iconRect,"rect").styles((0,w.pi)((0,w.pi)({},lt),{width:Ke,height:Ue,radius:gt,x:ye-Ke/2,y:ve-Ue/2,transformOrigin:"center"})),Gt=ye+1/3*Ke-Ke/2,rn=ye+2/3*Ke-Ke/2,_n=ve+1/4*Ue-Ue/2,qe=ve+3/4*Ue-Ue/2;Pt.maybeAppendByClassName("".concat(K.iconLine,"-1"),"line").styles((0,w.pi)({x1:Gt,x2:Gt,y1:_n,y2:qe},lt)),Pt.maybeAppendByClassName("".concat(K.iconLine,"-2"),"line").styles((0,w.pi)({x1:rn,x2:rn,y1:_n,y2:qe},lt)),pt==="vertical"&&(Pt.node().style.transform="rotate(90)")},le}(B.w),ae=function(ie){(0,w.ZT)(le,ie);function le(se){return ie.call(this,se,Y.fI)||this}return le.prototype.renderLabel=function(se){var ge=this,ye=this.attributes,ve=ye.x,fe=ye.y,Fe=ye.showLabel,yt=(0,j.zs)(this.attributes,"label"),gt=yt.x,pt=gt===void 0?0:gt,lt=yt.y,Ke=lt===void 0?0:lt,Ue=yt.transform,Pt=yt.transformOrigin,Gt=(0,w._T)(yt,["x","y","transform","transformOrigin"]),rn=(0,w.CR)((0,j.Hm)(Gt,[]),2),_n=rn[0],qe=rn[1],Nt=(0,ue.Ys)(se).maybeAppendByClassName(K.labelGroup,"g").styles(qe),ft=(0,w.pi)((0,w.pi)({},Y.b0),_n),ln=ft.text,tt=(0,w._T)(ft,["text"]);(0,q.z)(!!Fe,Nt,function(Pe){ge.label=Pe.maybeAppendByClassName(K.label,"text").styles((0,w.pi)((0,w.pi)({},tt),{x:ve+pt,y:fe+Ke,transform:Ue,transformOrigin:Pt,text:"".concat(ln)})),ge.label.on("mousedown",function(Qe){Qe.stopPropagation()}),ge.label.on("touchstart",function(Qe){Qe.stopPropagation()})})},le.prototype.renderIcon=function(se){var ge=this.attributes,ye=ge.x,ve=ge.y,fe=ge.orientation,Fe=ge.type,yt=(0,w.pi)((0,w.pi)({x:ye,y:ve,orientation:fe},Y.Qi),(0,j.zs)(this.attributes,"icon")),gt=this.attributes.iconShape,pt=gt===void 0?function(){return new H({style:yt})}:gt,lt=(0,ue.Ys)(se).maybeAppendByClassName(K.iconGroup,"g");lt.selectAll(K.icon.class).data([pt]).join(function(Ke){return Ke.append(typeof pt=="string"?pt:function(){return pt(Fe)}).attr("className",K.icon.name)},function(Ke){return Ke.update(yt)},function(Ke){return Ke.remove()})},le.prototype.render=function(se,ge){this.renderIcon(ge),this.renderLabel(ge)},le}(B.w)},99012:function(cn,Ne,A){"use strict";A.d(Ne,{i:function(){return Ot}});var w=A(99938),B=A(95198),ne=A(63777),ue=A(20832),j=A(71350),q=A(83016),Y=A(20949),K=A(25889),H=A(27475),ae=A(50885),ie=A(22397),le=A(27604),se=A(88409),ge=A(42109),ye=A(12637),ve=A(22355),fe=A(18814),Fe=A(90079),yt=A(11051),gt=A(97289),pt=function(Xe){(0,w.ZT)(ct,Xe);function ct(Rt){var Oe=this,Ge=Rt.style,Vt=(0,w._T)(Rt,["style"]);return Oe=Xe.call(this,(0,yt.Z)({},{type:"column"},(0,w.pi)({style:Ge},Vt)))||this,Oe.columnsGroup=new B.ZA({name:"columns"}),Oe.appendChild(Oe.columnsGroup),Oe.render(),Oe}return ct.prototype.render=function(){var Rt=this.attributes,Oe=Rt.columns,Ge=Rt.x,Vt=Rt.y;this.columnsGroup.style.transform="translate(".concat(Ge,", ").concat(Vt,")"),(0,ae.Ys)(this.columnsGroup).selectAll(".column").data(Oe.flat()).join(function(De){return De.append("rect").attr("className","column").each(function(et){this.attr(et)})},function(De){return De.each(function(et){this.attr(et)})},function(De){return De.remove()})},ct.prototype.update=function(Rt){this.attr((0,gt.n)({},this.attributes,Rt)),this.render()},ct.prototype.clear=function(){this.removeChildren()},ct}(B.s$),lt=function(Xe){(0,w.ZT)(ct,Xe);function ct(Rt){var Oe=this,Ge=Rt.style,Vt=(0,w._T)(Rt,["style"]);return Oe=Xe.call(this,(0,yt.Z)({},{type:"lines"},(0,w.pi)({style:Ge},Vt)))||this,Oe.linesGroup=Oe.appendChild(new B.ZA),Oe.areasGroup=Oe.appendChild(new B.ZA),Oe.render(),Oe}return ct.prototype.render=function(){var Rt=this.attributes,Oe=Rt.lines,Ge=Rt.areas,Vt=Rt.x,De=Rt.y;this.style.transform="translate(".concat(Vt,", ").concat(De,")"),Oe&&this.renderLines(Oe),Ge&&this.renderAreas(Ge)},ct.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},ct.prototype.update=function(Rt){this.attr((0,gt.n)({},this.attributes,Rt)),this.render()},ct.prototype.renderLines=function(Rt){(0,ae.Ys)(this.linesGroup).selectAll(".line").data(Rt).join(function(Oe){return Oe.append("path").attr("className","line").each(function(Ge){this.attr(Ge)})},function(Oe){return Oe.each(function(Ge){this.attr(Ge)})},function(Oe){return Oe.remove()})},ct.prototype.renderAreas=function(Rt){(0,ae.Ys)(this.linesGroup).selectAll(".area").data(Rt).join(function(Oe){return Oe.append("path").attr("className","area").each(function(Ge){this.attr(Ge)})},function(Oe){return Oe.each(function(Ge){this.style(Ge)})},function(Oe){return Oe.remove()})},ct}(B.s$),Ke=A(87314),Ue=A(88803);function Pt(Xe,ct,Rt,Oe){var Ge,Vt=[],De=!!Oe,et,Ce,J=[1/0,1/0],Le=[-1/0,-1/0],Jt,Be,In;if(De){Ge=(0,w.CR)(Oe,2),J=Ge[0],Le=Ge[1];for(var cr=0,bn=Xe.length;cr<bn;cr+=1){var ir=Xe[cr];J=(0,Ue.VV)(J,ir),Le=(0,Ue.Fp)(Le,ir)}}for(var cr=0,Nr=Xe.length;cr<Nr;cr+=1){var ir=Xe[cr];if(cr===0&&!Rt)In=ir;else if(cr===Nr-1&&!Rt)Be=ir,Vt.push(In),Vt.push(Be);else{var Ar=[cr?cr-1:Nr-1,cr-1][Rt?0:1];et=Xe[Ar],Ce=Xe[Rt?(cr+1)%Nr:cr+1];var Zr=[0,0];Zr=(0,Ue.lu)(Ce,et),Zr=(0,Ue.bA)(Zr,ct);var wi=(0,Ue.TE)(ir,et),Ln=(0,Ue.TE)(ir,Ce),Nn=wi+Ln;Nn!==0&&(wi/=Nn,Ln/=Nn);var $n=(0,Ue.bA)(Zr,-wi),wn=(0,Ue.bA)(Zr,Ln);Be=(0,Ue.IH)(ir,$n),Jt=(0,Ue.IH)(ir,wn),Jt=(0,Ue.VV)(Jt,(0,Ue.Fp)(Ce,ir)),Jt=(0,Ue.Fp)(Jt,(0,Ue.VV)(Ce,ir)),$n=(0,Ue.lu)(Jt,ir),$n=(0,Ue.bA)($n,-wi/Ln),Be=(0,Ue.IH)(ir,$n),Be=(0,Ue.VV)(Be,(0,Ue.Fp)(et,ir)),Be=(0,Ue.Fp)(Be,(0,Ue.VV)(et,ir)),wn=(0,Ue.lu)(ir,Be),wn=(0,Ue.bA)(wn,Ln/wi),Jt=(0,Ue.IH)(ir,wn),De&&(Be=(0,Ue.Fp)(Be,J),Be=(0,Ue.VV)(Be,Le),Jt=(0,Ue.Fp)(Jt,J),Jt=(0,Ue.VV)(Jt,Le)),Vt.push(In),Vt.push(Be),In=Jt}}return Rt&&Vt.push(Vt.shift()),Vt}function Gt(Xe,ct,Rt){var Oe;ct===void 0&&(ct=!1),Rt===void 0&&(Rt=[[0,0],[1,1]]);for(var Ge=!!ct,Vt=[],De=0,et=Xe.length;De<et;De+=2)Vt.push([Xe[De],Xe[De+1]]);for(var Ce=Pt(Vt,.4,Ge,Rt),J=Vt.length,Le=[],Jt,Be,In,De=0;De<J-1;De+=1)Jt=Ce[De*2],Be=Ce[De*2+1],In=Vt[De+1],Le.push(["C",Jt[0],Jt[1],Be[0],Be[1],In[0],In[1]]);return Ge&&(Jt=Ce[J],Be=Ce[J+1],Oe=(0,w.CR)(Vt,1),In=Oe[0],Le.push(["C",Jt[0],Jt[1],Be[0],Be[1],In[0],In[1]])),Le}function rn(Xe,ct){var Rt,Oe=ct.x,Ge=ct.y,Vt=(0,w.CR)(Ge.getOptions().range||[0,0],2),De=Vt[0],et=Vt[1];return et>De&&(Rt=(0,w.CR)([De,et],2),et=Rt[0],De=Rt[1]),Xe.map(function(Ce){var J=Ce.map(function(Le,Jt){return[Oe.map(Jt),(0,ne.Z)(Ge.map(Le),et,De)]});return J})}function _n(Xe,ct){ct===void 0&&(ct=!1);var Rt=ct?Xe.length-1:0,Oe=Xe.map(function(Ge,Vt){return(0,w.ev)([Vt===Rt?"M":"L"],(0,w.CR)(Ge),!1)});return ct?Oe.reverse():Oe}function qe(Xe,ct){if(ct===void 0&&(ct=!1),Xe.length<=2)return _n(Xe);for(var Rt=[],Oe=Xe.length,Ge=0;Ge<Oe;Ge+=1){var Vt=ct?Xe[Oe-Ge-1]:Xe[Ge];(0,Ke.Z)(Vt,Rt.slice(-2))||Rt.push.apply(Rt,(0,w.ev)([],(0,w.CR)(Vt),!1))}var De=Gt(Rt,!1);return ct?De.unshift((0,w.ev)(["M"],(0,w.CR)(Xe[Oe-1]),!1)):De.unshift((0,w.ev)(["M"],(0,w.CR)(Xe[0]),!1)),De}function Nt(Xe,ct,Rt){var Oe=(0,ye.Z)(Xe);return Oe.push(["L",ct,Rt],["L",0,Rt],["Z"]),Oe}function ft(Xe,ct,Rt,Oe){return Xe.map(function(Ge){return Nt(ct?qe(Ge):_n(Ge),Rt,Oe)})}function ln(Xe,ct,Rt){for(var Oe=[],Ge=Xe.length-1;Ge>=0;Ge-=1){var Vt=Xe[Ge],De=_n(Vt),et=void 0;if(Ge===0)et=Nt(De,ct,Rt);else{var Ce=Xe[Ge-1],J=_n(Ce,!0);J[0][0]="L",et=(0,w.ev)((0,w.ev)((0,w.ev)([],(0,w.CR)(De),!1),(0,w.CR)(J),!1),[["Z"]],!1)}Oe.push(et)}return Oe}function tt(Xe,ct,Rt){for(var Oe=[],Ge=Xe.length-1;Ge>=0;Ge-=1){var Vt=Xe[Ge],De=qe(Vt),et=void 0;if(Ge===0)et=Nt(De,ct,Rt);else{var Ce=Xe[Ge-1],J=qe(Ce,!0),Le=Vt[0];J[0][0]="L",et=(0,w.ev)((0,w.ev)((0,w.ev)([],(0,w.CR)(De),!1),(0,w.CR)(J),!1),[(0,w.ev)(["M"],(0,w.CR)(Le),!1),["Z"]],!1)}Oe.push(et)}return Oe}var Pe=A(45481),Qe=function(Xe,ct){if((0,fe.Z)(Xe)){for(var Rt,Oe=1/0,Ge=0;Ge<Xe.length;Ge++){var Vt=Xe[Ge],De=(0,Fe.Z)(ct)?ct(Vt):Vt[ct];De<Oe&&(Rt=Vt,Oe=De)}return Rt}},He=A(16510),_t=function(Xe,ct){if((0,fe.Z)(Xe)){for(var Rt,Oe=-1/0,Ge=0;Ge<Xe.length;Ge++){var Vt=Xe[Ge],De=(0,Fe.Z)(ct)?ct(Vt):Vt[ct];De>Oe&&(Rt=Vt,Oe=De)}return Rt}};function Bt(Xe){return Xe.length===0?[0,0]:[(0,Pe.Z)(Qe(Xe,function(ct){return(0,Pe.Z)(ct)||0})),(0,He.Z)(_t(Xe,function(ct){return(0,He.Z)(ct)||0}))]}function At(Xe){for(var ct=(0,ye.Z)(Xe),Rt=ct[0].length,Oe=(0,w.CR)([Array(Rt).fill(0),Array(Rt).fill(0)],2),Ge=Oe[0],Vt=Oe[1],De=0;De<ct.length;De+=1)for(var et=ct[De],Ce=0;Ce<Rt;Ce+=1)et[Ce]>=0?(et[Ce]+=Ge[Ce],Ge[Ce]=et[Ce]):(et[Ce]+=Vt[Ce],Vt[Ce]=et[Ce]);return ct}var Je=function(Xe){(0,w.ZT)(ct,Xe);function ct(Rt){return Xe.call(this,Rt,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(ct.prototype,"rawData",{get:function(){var Rt=this.attributes.data;if(!Rt||(Rt==null?void 0:Rt.length)===0)return[[]];var Oe=(0,ye.Z)(Rt);return(0,ve.Z)(Oe[0])?[Oe]:Oe},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"data",{get:function(){return this.attributes.isStack?At(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"baseline",{get:function(){var Rt=this.scales.y,Oe=(0,w.CR)(Rt.getOptions().domain||[0,0],2),Ge=Oe[0],Vt=Oe[1];return Vt<0?Rt.map(Vt):Rt.map(Ge<0?0:Ge)},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"containerShape",{get:function(){var Rt=this.attributes,Oe=Rt.width,Ge=Rt.height;return{width:Oe,height:Ge}},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"linesStyle",{get:function(){var Rt=this,Oe=this.attributes,Ge=Oe.type,Vt=Oe.isStack,De=Oe.smooth;if(Ge!=="line")throw new Error("linesStyle can only be used in line type");var et=(0,Y.zs)(this.attributes,"area"),Ce=(0,Y.zs)(this.attributes,"line"),J=this.containerShape.width,Le=this.data;if(Le[0].length===0)return{lines:[],areas:[]};var Jt=this.scales,Be=Jt.x,In=Jt.y,cr=rn(Le,{type:"line",x:Be,y:In}),bn=[];if(et){var ir=this.baseline;Vt?bn=De?tt(cr,J,ir):ln(cr,J,ir):bn=ft(cr,De,J,ir)}return{lines:cr.map(function(Nr,Ar){return(0,w.pi)({stroke:Rt.getColor(Ar),d:De?qe(Nr):_n(Nr)},Ce)}),areas:bn.map(function(Nr,Ar){return(0,w.pi)({d:Nr,fill:Rt.getColor(Ar)},et)})}},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"columnsStyle",{get:function(){var Rt=this,Oe=(0,Y.zs)(this.attributes,"column"),Ge=this.attributes,Vt=Ge.isStack,De=Ge.type,et=Ge.scale;if(De!=="column")throw new Error("columnsStyle can only be used in column type");var Ce=this.containerShape.height,J=this.rawData;if(!J)return{columns:[]};Vt&&(J=At(J));var Le=this.createScales(J),Jt=Le.x,Be=Le.y,In=(0,w.CR)(Bt(J),2),cr=In[0],bn=In[1],ir=new se.b({domain:[0,bn-(cr>0?0:cr)],range:[0,Ce*et]}),Nr=Jt.getBandWidth(),Ar=this.rawData;return{columns:J.map(function(Zr,wi){return Zr.map(function(Ln,Nn){var $n=Nr/J.length,wn=function(){return{x:Jt.map(Nn)+$n*wi,y:Ln>=0?Be.map(Ln):Be.map(0),width:$n,height:ir.map(Math.abs(Ln))}},nt=function(){return{x:Jt.map(Nn),y:Be.map(Ln),width:Nr,height:ir.map(Ar[wi][Nn])}};return(0,w.pi)((0,w.pi)({fill:Rt.getColor(wi)},Oe),Vt?nt():wn())})})}},enumerable:!1,configurable:!0}),ct.prototype.render=function(Rt,Oe){(0,ae.OV)(Oe,".container","rect").attr("className","container").node();var Ge=Rt.type,Vt=Rt.x,De=Rt.y,et="spark".concat(Ge),Ce=(0,w.pi)({x:Vt,y:De},Ge==="line"?this.linesStyle:this.columnsStyle);(0,ae.Ys)(Oe).selectAll(".spark").data([Ge]).join(function(J){return J.append(function(Le){return Le==="line"?new lt({className:et,style:Ce}):new pt({className:et,style:Ce})}).attr("className","spark ".concat(et))},function(J){return J.update(Ce)},function(J){return J.remove()})},ct.prototype.getColor=function(Rt){var Oe=this.attributes.color;return(0,fe.Z)(Oe)?Oe[Rt%Oe.length]:(0,Fe.Z)(Oe)?Oe.call(null,Rt):Oe},ct.prototype.createScales=function(Rt){var Oe,Ge,Vt=this.attributes,De=Vt.type,et=Vt.scale,Ce=Vt.range,J=Ce===void 0?[]:Ce,Le=Vt.spacing,Jt=this.containerShape,Be=Jt.width,In=Jt.height,cr=(0,w.CR)(Bt(Rt),2),bn=cr[0],ir=cr[1],Nr=new se.b({domain:[(Oe=J[0])!==null&&Oe!==void 0?Oe:bn,(Ge=J[1])!==null&&Ge!==void 0?Ge:ir],range:[In,In*(1-et)]});return De==="line"?{type:De,x:new se.b({domain:[0,Rt[0].length-1],range:[0,Be]}),y:Nr}:{type:De,x:new ge.t({domain:Rt[0].map(function(Ar,Zr){return Zr}),range:[0,Be],paddingInner:Le,paddingOuter:Le/2,align:.5}),y:Nr}},ct.tag="sparkline",ct}(j.w),zt=A(68021),mn=A(72807),Ot=function(Xe){(0,w.ZT)(ct,Xe);function ct(Rt){var Oe=Xe.call(this,Rt,(0,w.pi)((0,w.pi)((0,w.pi)({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(Ge){return Ge.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},(0,Y.dq)(zt.fI,"handle")),(0,Y.dq)(zt.Qi,"handleIcon")),(0,Y.dq)(zt.b0,"handleLabel")))||this;return Oe.range=[0,1],Oe.onDragStart=function(Ge){return function(Vt){Vt.stopPropagation(),Oe.target=Ge,Oe.prevPos=Oe.getOrientVal((0,K.s)(Vt));var De=Oe.availableSpace,et=De.x,Ce=De.y,J=Oe.getBBox(),Le=J.x,Jt=J.y;Oe.selectionStartPos=Oe.getRatio(Oe.prevPos-Oe.getOrientVal([et,Ce])-Oe.getOrientVal([+Le,+Jt])),Oe.selectionWidth=0,document.addEventListener("pointermove",Oe.onDragging),document.addEventListener("pointerup",Oe.onDragEnd)}},Oe.onDragging=function(Ge){var Vt=Oe.attributes,De=Vt.slidable,et=Vt.brushable,Ce=Vt.type;Ge.stopPropagation();var J=Oe.getOrientVal((0,K.s)(Ge)),Le=J-Oe.prevPos;if(Le){var Jt=Oe.getRatio(Le);switch(Oe.target){case"start":De&&Oe.setValuesOffset(Jt);break;case"end":De&&Oe.setValuesOffset(0,Jt);break;case"selection":De&&Oe.setValuesOffset(Jt,Jt);break;case"track":if(!et)return;Oe.selectionWidth+=Jt,Ce==="range"?Oe.innerSetValues([Oe.selectionStartPos,Oe.selectionStartPos+Oe.selectionWidth].sort(),!0):Oe.innerSetValues([0,Oe.selectionStartPos+Oe.selectionWidth],!0);break;default:break}Oe.prevPos=J}},Oe.onDragEnd=function(){document.removeEventListener("pointermove",Oe.onDragging),document.removeEventListener("pointermove",Oe.onDragging),document.removeEventListener("pointerup",Oe.onDragEnd),Oe.target="",Oe.updateHandlesPosition(!1)},Oe.onValueChange=function(Ge){var Vt=Oe.attributes,De=Vt.onChange,et=Vt.type,Ce=et==="range"?Ge:Ge[1],J=et==="range"?Oe.getValues():Oe.getValues()[1],Le=new B.Aw("valuechange",{detail:{oldValue:Ce,value:J}});Oe.dispatchEvent(Le),De==null||De(J)},Oe.selectionStartPos=0,Oe.selectionWidth=0,Oe.prevPos=0,Oe.target="",Oe}return Object.defineProperty(ct.prototype,"values",{get:function(){return this.attributes.values},set:function(Rt){this.attributes.values=this.clampValues(Rt)},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"sparklineStyle",{get:function(){var Rt=this.attributes.orientation;if(Rt!=="horizontal")return null;var Oe=(0,Y.zs)(this.attributes,"sparkline");return(0,w.pi)((0,w.pi)({zIndex:0},this.availableSpace),Oe)},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"shape",{get:function(){var Rt=this.attributes,Oe=Rt.trackLength,Ge=Rt.trackSize,Vt=(0,w.CR)(this.getOrientVal([[Oe,Ge],[Ge,Oe]]),2),De=Vt[0],et=Vt[1];return{width:De,height:et}},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"availableSpace",{get:function(){var Rt=this.attributes,Oe=Rt.x,Ge=Rt.y,Vt=Rt.padding,De=(0,w.CR)((0,H.j)(Vt),4),et=De[0],Ce=De[1],J=De[2],Le=De[3],Jt=this.shape,Be=Jt.width,In=Jt.height;return{x:Le,y:et,width:Be-(Le+Ce),height:In-(et+J)}},enumerable:!1,configurable:!0}),ct.prototype.getValues=function(){return this.values},ct.prototype.setValues=function(Rt,Oe){Rt===void 0&&(Rt=[0,0]),Oe===void 0&&(Oe=!1),this.attributes.values=Rt;var Ge=Oe===!1?!1:this.attributes.animate;this.updateSelectionArea(Ge),this.updateHandlesPosition(Ge)},ct.prototype.updateSelectionArea=function(Rt){var Oe=this.calcSelectionArea();this.foregroundGroup.selectAll(zt.Ec.selection.class).each(function(Ge,Vt){(0,ue.eR)(this,Oe[Vt],Rt)})},ct.prototype.updateHandlesPosition=function(Rt){this.attributes.showHandle&&(this.startHandle&&(0,ue.eR)(this.startHandle,this.getHandleStyle("start"),Rt),this.endHandle&&(0,ue.eR)(this.endHandle,this.getHandleStyle("end"),Rt))},ct.prototype.innerSetValues=function(Rt,Oe){Rt===void 0&&(Rt=[0,0]),Oe===void 0&&(Oe=!1);var Ge=this.values,Vt=this.clampValues(Rt);this.attributes.values=Vt,this.setValues(Vt),Oe&&this.onValueChange(Ge)},ct.prototype.renderTrack=function(Rt){var Oe=this.attributes,Ge=Oe.x,Vt=Oe.y,De=(0,Y.zs)(this.attributes,"track");this.trackShape=(0,ae.Ys)(Rt).maybeAppendByClassName(zt.Ec.track,"rect").styles((0,w.pi)((0,w.pi)({x:Ge,y:Vt},this.shape),De))},ct.prototype.renderBrushArea=function(Rt){var Oe=this.attributes,Ge=Oe.x,Vt=Oe.y,De=Oe.brushable;this.brushArea=(0,ae.Ys)(Rt).maybeAppendByClassName(zt.Ec.brushArea,"rect").styles((0,w.pi)({x:Ge,y:Vt,fill:"transparent",cursor:De?"crosshair":"default"},this.shape))},ct.prototype.renderSparkline=function(Rt){var Oe=this,Ge=this.attributes,Vt=Ge.x,De=Ge.y,et=Ge.orientation,Ce=(0,ae.Ys)(Rt).maybeAppendByClassName(zt.Ec.sparklineGroup,"g");(0,ie.z)(et==="horizontal",Ce,function(J){var Le=(0,w.pi)((0,w.pi)({},Oe.sparklineStyle),{x:Vt,y:De});J.maybeAppendByClassName(zt.Ec.sparkline,function(){return new Je({style:Le})}).update(Le)})},ct.prototype.renderHandles=function(){var Rt=this,Oe,Ge=this.attributes,Vt=Ge.showHandle,De=Ge.type,et=De==="range"?["start","end"]:["end"],Ce=Vt?et:[],J=this;(Oe=this.foregroundGroup)===null||Oe===void 0||Oe.selectAll(zt.Ec.handle.class).data(Ce.map(function(Le){return{type:Le}}),function(Le){return Le.type}).join(function(Le){return Le.append(function(Jt){var Be=Jt.type;return new mn.H({style:Rt.getHandleStyle(Be)})}).each(function(Jt){var Be=Jt.type;this.attr("class","".concat(zt.Ec.handle.name," ").concat(Be,"-handle"));var In="".concat(Be,"Handle");J[In]=this,this.addEventListener("pointerdown",J.onDragStart(Be))})},function(Le){return Le.each(function(Jt){var Be=Jt.type;this.update(J.getHandleStyle(Be))})},function(Le){return Le.each(function(Jt){var Be=Jt.type,In="".concat(Be,"Handle");J[In]=void 0}).remove()})},ct.prototype.renderSelection=function(Rt){var Oe=this.attributes,Ge=Oe.x,Vt=Oe.y,De=Oe.type,et=Oe.selectionType;this.foregroundGroup=(0,ae.Ys)(Rt).maybeAppendByClassName(zt.Ec.foreground,"g");var Ce=(0,Y.zs)(this.attributes,"selection"),J=function(Jt){return Jt.style("visibility",function(Be){return Be.show?"visible":"hidden"}).style("cursor",function(Be){return et==="select"?"grab":et==="invert"?"crosshair":"default"}).styles((0,w.pi)((0,w.pi)({},Ce),{transform:"translate(".concat(Ge,", ").concat(Vt,")")}))},Le=this;this.foregroundGroup.selectAll(zt.Ec.selection.class).data(De==="value"?[]:this.calcSelectionArea().map(function(Jt,Be){return{style:(0,w.pi)({},Jt),index:Be,show:et==="select"?Be===1:Be!==1}}),function(Jt){return Jt.index}).join(function(Jt){return Jt.append("rect").attr("className",zt.Ec.selection.name).call(J).each(function(Be,In){var cr=this;In===1?(Le.selectionShape=(0,ae.Ys)(this),this.on("pointerdown",function(bn){cr.attr("cursor","grabbing"),Le.onDragStart("selection")(bn)}),Le.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),Le.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),Le.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){cr.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){cr.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){cr.attr("cursor","pointer")})):this.on("pointerdown",Le.onDragStart("track"))})},function(Jt){return Jt.call(J)},function(Jt){return Jt.remove()}),this.updateSelectionArea(!1),this.renderHandles()},ct.prototype.render=function(Rt,Oe){this.renderTrack(Oe),this.renderSparkline(Oe),this.renderBrushArea(Oe),this.renderSelection(Oe)},ct.prototype.clampValues=function(Rt,Oe){var Ge;Oe===void 0&&(Oe=4);var Vt=(0,w.CR)(this.range,2),De=Vt[0],et=Vt[1],Ce=(0,w.CR)(this.getValues().map(function(ir){return(0,le.Zd)(ir,Oe)}),2),J=Ce[0],Le=Ce[1],Jt=Array.isArray(Rt)?Rt:[J,Rt!=null?Rt:Le],Be=(0,w.CR)((Jt||[J,Le]).map(function(ir){return(0,le.Zd)(ir,Oe)}),2),In=Be[0],cr=Be[1];if(this.attributes.type==="value")return[0,(0,ne.Z)(cr,De,et)];In>cr&&(Ge=(0,w.CR)([cr,In],2),In=Ge[0],cr=Ge[1]);var bn=cr-In;return bn>et-De?[De,et]:In<De?J===De&&Le===cr?[De,cr]:[De,bn+De]:cr>et?Le===et&&J===In?[In,et]:[et-bn,et]:[In,cr]},ct.prototype.calcSelectionArea=function(Rt){var Oe=(0,w.CR)(this.clampValues(Rt),2),Ge=Oe[0],Vt=Oe[1],De=this.availableSpace,et=De.x,Ce=De.y,J=De.width,Le=De.height;return this.getOrientVal([[{y:Ce,height:Le,x:et,width:Ge*J},{y:Ce,height:Le,x:Ge*J+et,width:(Vt-Ge)*J},{y:Ce,height:Le,x:Vt*J,width:(1-Vt)*J}],[{x:et,width:J,y:Ce,height:Ge*Le},{x:et,width:J,y:Ge*Le+Ce,height:(Vt-Ge)*Le},{x:et,width:J,y:Vt*Le,height:(1-Vt)*Le}]])},ct.prototype.calcHandlePosition=function(Rt){var Oe=this.attributes.handleIconOffset,Ge=this.availableSpace,Vt=Ge.x,De=Ge.y,et=Ge.width,Ce=Ge.height,J=(0,w.CR)(this.clampValues(),2),Le=J[0],Jt=J[1],Be=Rt==="start"?-Oe:Oe,In=(Rt==="start"?Le:Jt)*this.getOrientVal([et,Ce])+Be;return{x:Vt+this.getOrientVal([In,et/2]),y:De+this.getOrientVal([Ce/2,In])}},ct.prototype.inferTextStyle=function(Rt){var Oe=this.attributes.orientation;return Oe==="horizontal"?{}:Rt==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:Rt==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},ct.prototype.calcHandleText=function(Rt){var Oe,Ge=this.attributes,Vt=Ge.type,De=Ge.orientation,et=Ge.formatter,Ce=Ge.autoFitLabel,J=(0,Y.zs)(this.attributes,"handle"),Le=(0,Y.zs)(J,"label"),Jt=J.spacing,Be=this.getHandleSize(),In=this.clampValues(),cr=Rt==="start"?In[0]:In[1],bn=et(cr),ir=new q.x({style:(0,w.pi)((0,w.pi)((0,w.pi)({},Le),this.inferTextStyle(Rt)),{text:bn})}),Nr=ir.getBBox(),Ar=Nr.width,Zr=Nr.height;if(ir.destroy(),!Ce){if(Vt==="value")return{text:bn,x:0,y:-Zr-Jt};var wi=Jt+Be+(De==="horizontal"?Ar/2:0);return Oe={text:bn},Oe[De==="horizontal"?"x":"y"]=Rt==="start"?-wi:wi,Oe}var Ln=0,Nn=0,$n=this.availableSpace,wn=$n.width,nt=$n.height,ze=this.calcSelectionArea()[1],vt=ze.x,$t=ze.y,gn=ze.width,at=ze.height,an=Jt+Be;if(De==="horizontal"){var hn=an+Ar/2;if(Rt==="start"){var pr=vt-an-Ar;Ln=pr>0?-hn:hn}else{var ur=wn-vt-gn-an>Ar;Ln=ur?hn:-hn}}else{var pi=an,ar=Zr+an;Rt==="start"?Nn=$t-Be>Zr?-ar:pi:Nn=nt-($t+at)-Be>Zr?ar:-pi}return{x:Ln,y:Nn,text:bn}},ct.prototype.getHandleLabelStyle=function(Rt){var Oe=(0,Y.zs)(this.attributes,"handleLabel");return(0,w.pi)((0,w.pi)((0,w.pi)({},Oe),this.calcHandleText(Rt)),this.inferTextStyle(Rt))},ct.prototype.getHandleIconStyle=function(){var Rt=this.attributes.handleIconShape,Oe=(0,Y.zs)(this.attributes,"handleIcon"),Ge=this.getOrientVal(["ew-resize","ns-resize"]),Vt=this.getHandleSize();return(0,w.pi)({cursor:Ge,shape:Rt,size:Vt},Oe)},ct.prototype.getHandleStyle=function(Rt){var Oe=this.attributes,Ge=Oe.x,Vt=Oe.y,De=Oe.showLabel,et=Oe.showLabelOnInteraction,Ce=Oe.orientation,J=this.calcHandlePosition(Rt),Le=J.x,Jt=J.y,Be=this.calcHandleText(Rt),In=De;return!De&&et&&(this.target?In=!0:In=!1),(0,w.pi)((0,w.pi)((0,w.pi)({},(0,Y.dq)(this.getHandleIconStyle(),"icon")),(0,Y.dq)((0,w.pi)((0,w.pi)({},this.getHandleLabelStyle(Rt)),Be),"label")),{transform:"translate(".concat(Le+Ge,", ").concat(Jt+Vt,")"),orientation:Ce,showLabel:In,type:Rt,zIndex:3})},ct.prototype.getHandleSize=function(){var Rt=this.attributes,Oe=Rt.handleIconSize,Ge=Rt.width,Vt=Rt.height;return Oe||Math.floor((this.getOrientVal([+Vt,+Ge])+4)/2.4)},ct.prototype.getOrientVal=function(Rt){var Oe=(0,w.CR)(Rt,2),Ge=Oe[0],Vt=Oe[1],De=this.attributes.orientation;return De==="horizontal"?Ge:Vt},ct.prototype.setValuesOffset=function(Rt,Oe,Ge){Oe===void 0&&(Oe=0),Ge===void 0&&(Ge=!1);var Vt=this.attributes.type,De=(0,w.CR)(this.getValues(),2),et=De[0],Ce=De[1],J=Vt==="range"?Rt:0,Le=[et+J,Ce+Oe].sort();Ge?this.setValues(Le):this.innerSetValues(Le,!0)},ct.prototype.getRatio=function(Rt){var Oe=this.availableSpace,Ge=Oe.width,Vt=Oe.height;return Rt/this.getOrientVal([Ge,Vt])},ct.prototype.dispatchCustomEvent=function(Rt,Oe,Ge){var Vt=this;Rt.on(Oe,function(De){De.stopPropagation(),Vt.dispatchEvent(new B.Aw(Ge,{detail:De}))})},ct.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var Rt=this.brushArea;this.dispatchCustomEvent(Rt,"click","trackClick"),this.dispatchCustomEvent(Rt,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(Rt,"pointerleave","trackMouseleave"),Rt.on("pointerdown",this.onDragStart("track"))},ct.prototype.onScroll=function(Rt){var Oe=this.attributes.scrollable;if(Oe){var Ge=Rt.deltaX,Vt=Rt.deltaY,De=Vt||Ge,et=this.getRatio(De);this.setValuesOffset(et,et,!0)}},ct.tag="slider",ct}(j.w)},2412:function(cn,Ne,A){"use strict";A.d(Ne,{Dx:function(){return ge},jY:function(){return ie},li:function(){return ae}});var w=A(99938),B=A(71350),ne=A(58420),ue=A(27475),j=A(69210),q=A(20949),Y=A(22397),K=A(50885),H=(0,ne.A)({text:"text"},"title");function ae(ye){return/\S+-\S+/g.test(ye)?ye.split("-").map(function(ve){return ve[0]}):ye.length>2?[ye[0]]:ye.split("")}function ie(ye,ve){var fe=ye.attributes,Fe=fe.position,yt=fe.spacing,gt=fe.inset,pt=fe.text,lt=ye.getBBox(),Ke=ve.getBBox(),Ue=ae(Fe),Pt=(0,w.CR)((0,ue.j)(pt?yt:0),4),Gt=Pt[0],rn=Pt[1],_n=Pt[2],qe=Pt[3],Nt=(0,w.CR)((0,ue.j)(gt),4),ft=Nt[0],ln=Nt[1],tt=Nt[2],Pe=Nt[3],Qe=(0,w.CR)([qe+rn,Gt+_n],2),He=Qe[0],_t=Qe[1],Bt=(0,w.CR)([Pe+ln,ft+tt],2),At=Bt[0],Je=Bt[1];if(Ue[0]==="l")return new j.b(lt.x,lt.y,Ke.width+lt.width+He+At,Math.max(Ke.height+Je,lt.height));if(Ue[0]==="t")return new j.b(lt.x,lt.y,Math.max(Ke.width+At,lt.width),Ke.height+lt.height+_t+Je);var zt=(0,w.CR)([ve.attributes.width||Ke.width,ve.attributes.height||Ke.height],2),mn=zt[0],Ot=zt[1];return new j.b(Ke.x,Ke.y,mn+lt.width+He+At,Ot+lt.height+_t+Je)}function le(ye,ve){var fe=Object.entries(ve).reduce(function(Fe,yt){var gt=(0,w.CR)(yt,2),pt=gt[0],lt=gt[1],Ke=ye.node().attr(pt);return Ke||(Fe[pt]=lt),Fe},{});ye.styles(fe)}function se(ye){var ve,fe,Fe,yt,gt=ye,pt=gt.width,lt=gt.height,Ke=gt.position,Ue=(0,w.CR)([+pt/2,+lt/2],2),Pt=Ue[0],Gt=Ue[1],rn=(0,w.CR)([+Pt,+Gt,"center","middle"],4),_n=rn[0],qe=rn[1],Nt=rn[2],ft=rn[3],ln=ae(Ke);return ln.includes("l")&&(ve=(0,w.CR)([0,"start"],2),_n=ve[0],Nt=ve[1]),ln.includes("r")&&(fe=(0,w.CR)([+pt,"end"],2),_n=fe[0],Nt=fe[1]),ln.includes("t")&&(Fe=(0,w.CR)([0,"top"],2),qe=Fe[0],ft=Fe[1]),ln.includes("b")&&(yt=(0,w.CR)([+lt,"bottom"],2),qe=yt[0],ft=yt[1]),{x:_n,y:qe,textAlign:Nt,textBaseline:ft}}var ge=function(ye){(0,w.ZT)(ve,ye);function ve(fe){return ye.call(this,fe,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return ve.prototype.getAvailableSpace=function(){var fe=this,Fe=this.attributes,yt=Fe.width,gt=Fe.height,pt=Fe.position,lt=Fe.spacing,Ke=Fe.inset,Ue=fe.querySelector(H.text.class);if(!Ue)return new j.b(0,0,+yt,+gt);var Pt=Ue.getBBox(),Gt=Pt.width,rn=Pt.height,_n=(0,w.CR)((0,ue.j)(lt),4),qe=_n[0],Nt=_n[1],ft=_n[2],ln=_n[3],tt=(0,w.CR)([0,0,+yt,+gt],4),Pe=tt[0],Qe=tt[1],He=tt[2],_t=tt[3],Bt=ae(pt);if(Bt.includes("i"))return new j.b(Pe,Qe,He,_t);Bt.forEach(function(Oe,Ge){var Vt,De,et,Ce;Oe==="t"&&(Vt=(0,w.CR)(Ge===0?[rn+ft,+gt-rn-ft]:[0,+gt],2),Qe=Vt[0],_t=Vt[1]),Oe==="r"&&(De=(0,w.CR)([+yt-Gt-ln],1),He=De[0]),Oe==="b"&&(et=(0,w.CR)([+gt-rn-qe],1),_t=et[0]),Oe==="l"&&(Ce=(0,w.CR)(Ge===0?[Gt+Nt,+yt-Gt-Nt]:[0,+yt],2),Pe=Ce[0],He=Ce[1])});var At=(0,w.CR)((0,ue.j)(Ke),4),Je=At[0],zt=At[1],mn=At[2],Ot=At[3],Xe=(0,w.CR)([Ot+zt,Je+mn],2),ct=Xe[0],Rt=Xe[1];return new j.b(Pe+Ot,Qe+Je,He-ct,_t-Rt)},ve.prototype.getBBox=function(){return this.title?this.title.getBBox():new j.b(0,0,0,0)},ve.prototype.render=function(fe,Fe){var yt=this,gt=fe.width,pt=fe.height,lt=fe.position,Ke=fe.spacing,Ue=(0,w._T)(fe,["width","height","position","spacing"]),Pt=(0,w.CR)((0,q.Hm)(Ue),1),Gt=Pt[0],rn=se(fe),_n=rn.x,qe=rn.y,Nt=rn.textAlign,ft=rn.textBaseline;(0,Y.z)(!!Ue.text,(0,K.Ys)(Fe),function(ln){yt.title=ln.maybeAppendByClassName(H.text,"text").styles(Gt).call(le,{x:_n,y:qe,textAlign:Nt,textBaseline:ft}).node()})},ve}(B.w)},62229:function(cn,Ne,A){"use strict";A.d(Ne,{u:function(){return le}});var w=A(99938),B=A(30853);function ne(se,ge){return!se||!ge?se:se.replace(/\\?\{([^{}]+)\}/g,function(ye,ve){return ye.charAt(0)==="\\"?ye.slice(1):ge[ve]===void 0?"":ge[ve]})}var ue=ne,j=A(71350),q=function(se,ge){if(ge==null){se.innerHTML="";return}se.replaceChildren?Array.isArray(ge)?se.replaceChildren.apply(se,(0,w.ev)([],(0,w.CR)(ge),!1)):se.replaceChildren(ge):(se.innerHTML="",Array.isArray(ge)?ge.forEach(function(ye){return se.appendChild(ye)}):se.appendChild(ge))},Y=A(20949),K=A(69210);function H(se){return se===void 0&&(se=""),{CONTAINER:"".concat(se,"tooltip"),TITLE:"".concat(se,"tooltip-title"),LIST:"".concat(se,"tooltip-list"),LIST_ITEM:"".concat(se,"tooltip-list-item"),NAME:"".concat(se,"tooltip-list-item-name"),MARKER:"".concat(se,"tooltip-list-item-marker"),NAME_LABEL:"".concat(se,"tooltip-list-item-name-label"),VALUE:"".concat(se,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(se,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(se,"tooltip-crosshair-y")}}var ae={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function ie(se){var ge;se===void 0&&(se="");var ye=H(se);return ge={},ge[".".concat(ye.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},ge[".".concat(ye.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},ge[".".concat(ye.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},ge[".".concat(ye.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},ge[".".concat(ye.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},ge[".".concat(ye.NAME)]={display:"flex","align-items":"center","max-width":"216px"},ge[".".concat(ye.NAME_LABEL)]=(0,w.pi)({flex:1},ae),ge[".".concat(ye.VALUE)]=(0,w.pi)({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},ae),ge[".".concat(ye.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},ge[".".concat(ye.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},ge}var le=function(se){(0,w.ZT)(ge,se);function ge(ye){var ve=this,fe,Fe,yt=(Fe=(fe=ye.style)===null||fe===void 0?void 0:fe.template)===null||Fe===void 0?void 0:Fe.prefixCls,gt=H(yt);return ve=se.call(this,ye,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(gt.CONTAINER,'"></div>'),title:'<div class="'.concat(gt.TITLE,'"></div>'),item:'<li class="'.concat(gt.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(gt.NAME,`">
          <span class="`).concat(gt.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(gt.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(gt.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:ie(yt)})||this,ve.timestamp=-1,ve.prevCustomContentKey=ve.attributes.contentKey,ve.initShape(),ve.render(ve.attributes,ve),ve}return Object.defineProperty(ge.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),ge.prototype.getContainer=function(){return this.element},Object.defineProperty(ge.prototype,"elementSize",{get:function(){var ye=this.element.offsetWidth,ve=this.element.offsetHeight;return{width:ye,height:ve}},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"HTMLTooltipItemsElements",{get:function(){var ye=this.attributes,ve=ye.data,fe=ye.template;return ve.map(function(Fe,yt){var gt=Fe.name,pt=gt===void 0?"":gt,lt=Fe.color,Ke=lt===void 0?"black":lt,Ue=Fe.index,Pt=(0,w._T)(Fe,["name","color","index"]),Gt=(0,w.pi)({name:pt,color:Ke,index:Ue!=null?Ue:yt},Pt);return(0,B.L)(ue(fe.item,Gt))})},enumerable:!1,configurable:!0}),ge.prototype.render=function(ye,ve){this.renderHTMLTooltipElement(),this.updatePosition()},ge.prototype.destroy=function(){var ye;(ye=this.element)===null||ye===void 0||ye.remove(),se.prototype.destroy.call(this)},ge.prototype.show=function(ye,ve){var fe=this;if(ye!==void 0&&ve!==void 0){var Fe=this.element.style.visibility==="hidden",yt=function(){fe.attributes.x=ye!=null?ye:fe.attributes.x,fe.attributes.y=ve!=null?ve:fe.attributes.y,fe.updatePosition()};Fe?this.closeTransition(yt):yt()}this.element.style.visibility="visible"},ge.prototype.hide=function(ye,ve){ye===void 0&&(ye=0),ve===void 0&&(ve=0);var fe=this.attributes.enterable;fe&&this.isCursorEntered(ye,ve)||(this.element.style.visibility="hidden")},ge.prototype.initShape=function(){var ye=this.attributes.template;this.element=(0,B.L)(ye.container),this.id&&this.element.setAttribute("id",this.id)},ge.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var ye=this.attributes.content;ye&&(typeof ye=="string"?this.element.innerHTML=ye:q(this.element,ye))}},ge.prototype.renderHTMLTooltipElement=function(){var ye,ve,fe=this.attributes,Fe=fe.template,yt=fe.title,gt=fe.enterable,pt=fe.style,lt=fe.content,Ke=H(Fe.prefixCls),Ue=this.element;if(this.element.style.pointerEvents=gt?"auto":"none",lt)this.renderCustomContent();else{yt?(Ue.innerHTML=Fe.title,Ue.getElementsByClassName(Ke.TITLE)[0].innerHTML=yt):(ve=(ye=Ue.getElementsByClassName(Ke.TITLE))===null||ye===void 0?void 0:ye[0])===null||ve===void 0||ve.remove();var Pt=this.HTMLTooltipItemsElements,Gt=document.createElement("ul");Gt.className=Ke.LIST,q(Gt,Pt);var rn=this.element.querySelector(".".concat(Ke.LIST));rn?rn.replaceWith(Gt):Ue.appendChild(Gt)}(0,Y.MC)(Ue,pt)},ge.prototype.getRelativeOffsetFromCursor=function(ye){var ve=this.attributes,fe=ve.position,Fe=ve.offset,yt=ye||fe,gt=yt.split("-"),pt={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},lt=this.elementSize,Ke=lt.width,Ue=lt.height,Pt=[-Ke/2,-Ue/2];return gt.forEach(function(Gt){var rn=(0,w.CR)(Pt,2),_n=rn[0],qe=rn[1],Nt=(0,w.CR)(pt[Gt],2),ft=Nt[0],ln=Nt[1];Pt=[_n+(Ke/2+Fe[0])*ft,qe+(Ue/2+Fe[1])*ln]}),Pt},ge.prototype.setOffsetPosition=function(ye){var ve=(0,w.CR)(ye,2),fe=ve[0],Fe=ve[1],yt=this.attributes,gt=yt.x,pt=gt===void 0?0:gt,lt=yt.y,Ke=lt===void 0?0:lt,Ue=yt.container,Pt=Ue.x,Gt=Ue.y;this.element.style.left="".concat(+pt+Pt+fe,"px"),this.element.style.top="".concat(+Ke+Gt+Fe,"px")},ge.prototype.updatePosition=function(){var ye=this.attributes.showDelay,ve=ye===void 0?60:ye,fe=Date.now();this.timestamp>0&&fe-this.timestamp<ve||(this.timestamp=fe,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},ge.prototype.autoPosition=function(ye){var ve=(0,w.CR)(ye,2),fe=ve[0],Fe=ve[1],yt=this.attributes,gt=yt.x,pt=yt.y,lt=yt.bounding,Ke=yt.position;if(!lt)return[fe,Fe];var Ue=this.element,Pt=Ue.offsetWidth,Gt=Ue.offsetHeight,rn=(0,w.CR)([+gt+fe,+pt+Fe],2),_n=rn[0],qe=rn[1],Nt={left:"right",right:"left",top:"bottom",bottom:"top"},ft=lt.x,ln=lt.y,tt=lt.width,Pe=lt.height,Qe={left:_n<ft,right:_n+Pt>ft+tt,top:qe<ln,bottom:qe+Gt>ln+Pe},He=[];Ke.split("-").forEach(function(Bt){Qe[Bt]?He.push(Nt[Bt]):He.push(Bt)});var _t=He.join("-");return this.getRelativeOffsetFromCursor(_t)},ge.prototype.isCursorEntered=function(ye,ve){if(this.element){var fe=this.element.getBoundingClientRect(),Fe=fe.x,yt=fe.y,gt=fe.width,pt=fe.height;return new K.b(Fe,yt,gt,pt).isPointIn(ye,ve)}return!1},ge.prototype.closeTransition=function(ye){var ve=this,fe=this.element.style.transition;this.element.style.transition="none",ye(),setTimeout(function(){ve.element.style.transition=fe},10)},ge.tag="tooltip",ge}(j.w)},69210:function(cn,Ne,A){"use strict";A.d(Ne,{b:function(){return w}});var w=function(){function ne(ue,j,q,Y){ue===void 0&&(ue=0),j===void 0&&(j=0),q===void 0&&(q=0),Y===void 0&&(Y=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=ue,this.y=j,this.width=q,this.height=Y}return Object.defineProperty(ne.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),ne.fromRect=function(ue){return new ne(ue.x,ue.y,ue.width,ue.height)},ne.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},ne.prototype.isPointIn=function(ue,j){return ue>=this.left&&ue<=this.right&&j>=this.top&&j<=this.bottom},ne}();function B(ne){var ue=ne.getRenderBounds(),j=__read(ue.min,2),q=j[0],Y=j[1],K=__read(ue.max,2),H=K[0],ae=K[1],ie=H-q,le=ae-Y;return new w(q,Y,ie,le)}},99243:function(cn,Ne,A){"use strict";A.d(Ne,{S:function(){return ne}});var w=A(99938),B=A(90079);function ne(ue,j){return(0,B.Z)(ue)?ue.apply(void 0,(0,w.ev)([],(0,w.CR)(j),!1)):ue}},58420:function(cn,Ne,A){"use strict";A.d(Ne,{A:function(){return B}});var w=A(99938),B=function(ne,ue){var j=function(Y){return"".concat(ue,"-").concat(Y)},q=Object.fromEntries(Object.entries(ne).map(function(Y){var K=(0,w.CR)(Y,2),H=K[0],ae=K[1],ie=j(ae);return[H,{name:ie,class:".".concat(ie),id:"#".concat(ie),toString:function(){return ie}}]}));return Object.assign(q,{prefix:j}),q}},97289:function(cn,Ne,A){"use strict";A.d(Ne,{n:function(){return q}});var w=A(99938),B=A(37090),ne=A(18814),ue=5,j=function(Y,K,H,ae){H===void 0&&(H=0),ae===void 0&&(ae=ue),Object.entries(K).forEach(function(ie){var le=(0,w.CR)(ie,2),se=le[0],ge=le[1],ye=Y;Object.prototype.hasOwnProperty.call(K,se)&&(ge?(0,B.Z)(ge)?((0,B.Z)(Y[se])||(ye[se]={}),H<ae?j(Y[se],ge,H+1,ae):ye[se]=K[se]):(0,ne.Z)(ge)?(ye[se]=[],ye[se]=ye[se].concat(ge)):ye[se]=ge:ye[se]=ge)})},q=function(Y){for(var K=[],H=1;H<arguments.length;H++)K[H-1]=arguments[H];for(var ae=0;ae<K.length;ae+=1)j(Y,K[ae]);return Y}},28915:function(cn,Ne,A){"use strict";A.d(Ne,{O:function(){return B}});var w=A(50611);function B(ne,ue,j){j===void 0&&(j="..."),(0,w.Rm)(ne,{wordWrap:!0,wordWrapWidth:ue,maxLines:1,textOverflow:j})}},25889:function(cn,Ne,A){"use strict";A.d(Ne,{s:function(){return w}});function w(B){var ne=B.canvas,ue=B.touches,j=B.offsetX,q=B.offsetY;if(ne){var Y=ne.x,K=ne.y;return[Y,K]}if(ue){var H=ue[0],ae=H.clientX,ie=H.clientY;return[ae,ie]}return j&&q?[j,q]:[0,0]}},27872:function(cn,Ne,A){"use strict";A.d(Ne,{S:function(){return ue}});var w=A(43706),B=A(22355),ne=A(83016);function ue(j){return typeof j=="function"?j():(0,w.Z)(j)||(0,B.Z)(j)?new ne.x({style:{text:String(j)}}):j}},22397:function(cn,Ne,A){"use strict";A.d(Ne,{z:function(){return w}});function w(B,ne,ue,j,q){return j===void 0&&(j=!0),q===void 0&&(q=function(Y){Y.node().removeChildren()}),B?ue(ne):(j&&q(ne),null)}},88803:function(cn,Ne,A){"use strict";A.d(Ne,{Fp:function(){return j},Fv:function(){return Y},IH:function(){return B},KR:function(){return H},TE:function(){return q},VV:function(){return ue},bA:function(){return w},lu:function(){return ne}});function w(ae,ie){return[ae[0]*ie,ae[1]*ie]}function B(ae,ie){return[ae[0]+ie[0],ae[1]+ie[1]]}function ne(ae,ie){return[ae[0]-ie[0],ae[1]-ie[1]]}function ue(ae,ie){return[Math.min(ae[0],ie[0]),Math.min(ae[1],ie[1])]}function j(ae,ie){return[Math.max(ae[0],ie[0]),Math.max(ae[1],ie[1])]}function q(ae,ie){return Math.sqrt(Math.pow(ae[0]-ie[0],2)+Math.pow(ae[1]-ie[1],2))}function Y(ae){if(ae[0]===0&&ae[1]===0)return[0,0];var ie=Math.sqrt(Math.pow(ae[0],2)+Math.pow(ae[1],2));return[ae[0]/ie,ae[1]/ie]}function K(ae,ie,le){var se=__read(ae,2),ge=se[0],ye=se[1],ve=__read(ie,2),fe=ve[0],Fe=ve[1],yt=ge-fe,gt=ye-Fe,pt=Math.sin(le),lt=Math.cos(le);return[yt*lt-gt*pt+fe,yt*pt+gt*lt+Fe]}function H(ae,ie){return ie?[ae[1],-ae[0]]:[-ae[1],ae[0]]}},27604:function(cn,Ne,A){"use strict";A.d(Ne,{Zd:function(){return w}});function w(H,ae){return+H.toPrecision(ae)}function B(H){return H.toLocaleString()}function ne(H){return H.toExponential()}function ue(H,ae){return ae===void 0&&(ae=0),Math.abs(H)<1e3?String(H):"".concat(w(H/1e3,ae).toLocaleString(),"K")}var j=function(H,ae,ie){return H<0&&Number.isFinite(H)?ae:ie},q=function(H,ae,ie){return H>0&&Number.isFinite(H)?ae:ie},Y=function(H,ae){return H*ae},K=function(H,ae){return H/2+(ae||0)/2}},59697:function(cn,Ne,A){"use strict";A.d(Ne,{X:function(){return q},g:function(){return j}});var w=A(99938),B=A(95198),ne=A(64820),ue=function(Y){(0,w.ZT)(K,Y);function K(){for(var H=[],ae=0;ae<arguments.length;ae++)H[ae]=arguments[ae];var ie=Y.apply(this,(0,w.ev)([],(0,w.CR)(H),!1))||this;return ie.isMutationObserved=!0,ie.addEventListener(B.Dk.INSERTED,function(){(0,ne.Cp)(ie)}),ie}return K}(B.ZA);function j(Y){var K=Y.appendChild(new ue({class:"offscreen"}));return(0,ne.Cp)(K),K}function q(Y){for(var K=Y;K;){if(K.className==="offscreen")return!0;K=K.parent}return!1}},64575:function(cn,Ne,A){"use strict";A.d(Ne,{b:function(){return w}});function w(B,ne,ue){ue===void 0&&(ue=!1);var j=B.getBBox(),q=j.width,Y=j.height,K=ne/Math.max(q,Y);return ue&&(B.style.transform="scale(".concat(K,")")),K}},50885:function(cn,Ne,A){"use strict";A.d(Ne,{OV:function(){return K},Ys:function(){return Y}});var w=A(99938),B=A(95198),ne=A(83016);function ue(H,ae){var ie=new Map;return H.forEach(function(le){var se=ae(le);ie.has(se)||ie.set(se,[]),ie.get(se).push(le)}),ie}function j(H){throw new Error(H)}var q=function(){function H(se,ge,ye,ve,fe,Fe,yt){se===void 0&&(se=null),ge===void 0&&(ge=null),ye===void 0&&(ye=null),ve===void 0&&(ve=null),fe===void 0&&(fe=[null,null,null,null,null]),Fe===void 0&&(Fe=[]),yt===void 0&&(yt=[]),ae.add(this),this._elements=Array.from(se),this._data=ge,this._parent=ye,this._document=ve,this._enter=fe[0],this._update=fe[1],this._exit=fe[2],this._merge=fe[3],this._split=fe[4],this._transitions=Fe,this._facetElements=yt}H.prototype.selectAll=function(se){var ge=typeof se=="string"?this._parent.querySelectorAll(se):se;return new ie(ge,null,this._elements[0],this._document)},H.prototype.selectFacetAll=function(se){var ge=typeof se=="string"?this._parent.querySelectorAll(se):se;return new ie(this._elements,null,this._parent,this._document,void 0,void 0,ge)},H.prototype.select=function(se){var ge=typeof se=="string"?this._parent.querySelectorAll(se)[0]||null:se;return new ie([ge],null,ge,this._document)},H.prototype.append=function(se){var ge=this,ye=typeof se=="function"?se:function(){return ge.createElement(se)},ve=[];if(this._data!==null){for(var fe=0;fe<this._data.length;fe++){var Fe=this._data[fe],yt=(0,w.CR)(Array.isArray(Fe)?Fe:[Fe,null],2),gt=yt[0],pt=yt[1],lt=ye(gt,fe);lt.__data__=gt,pt!==null&&(lt.__fromElements__=pt),this._parent.appendChild(lt),ve.push(lt)}return new ie(ve,null,this._parent,this._document)}for(var fe=0;fe<this._elements.length;fe++){var Ke=this._elements[fe],gt=Ke.__data__,lt=ye(gt,fe);Ke.appendChild(lt),ve.push(lt)}return new ie(ve,null,ve[0],this._document)},H.prototype.maybeAppend=function(se,ge){var ye=(0,w.Q_)(this,ae,"m",le).call(this,se[0]==="#"?se:"#".concat(se),ge);return ye.attr("id",se),ye},H.prototype.maybeAppendByClassName=function(se,ge){var ye=se.toString(),ve=(0,w.Q_)(this,ae,"m",le).call(this,ye[0]==="."?ye:".".concat(ye),ge);return ve.attr("className",ye),ve},H.prototype.maybeAppendByName=function(se,ge){var ye=(0,w.Q_)(this,ae,"m",le).call(this,'[name="'.concat(se,'"]'),ge);return ye.attr("name",se),ye},H.prototype.data=function(se,ge,ye){var ve,fe;ge===void 0&&(ge=function(Qe){return Qe}),ye===void 0&&(ye=function(){return null});for(var Fe=[],yt=[],gt=new Set(this._elements),pt=[],lt=new Set,Ke=new Map(this._elements.map(function(Qe,He){return[ge(Qe.__data__,He),Qe]})),Ue=new Map(this._facetElements.map(function(Qe,He){return[ge(Qe.__data__,He),Qe]})),Pt=ue(this._elements,function(Qe){return ye(Qe.__data__)}),Gt=0;Gt<se.length;Gt++){var rn=se[Gt],_n=ge(rn,Gt),qe=ye(rn,Gt);if(Ke.has(_n)){var Nt=Ke.get(_n);Nt.__data__=rn,Nt.__facet__=!1,yt.push(Nt),gt.delete(Nt),Ke.delete(_n)}else if(Ue.has(_n)){var Nt=Ue.get(_n);Nt.__data__=rn,Nt.__facet__=!0,yt.push(Nt),Ue.delete(_n)}else if(Pt.has(_n)){var ft=Pt.get(_n);pt.push([rn,ft]);try{for(var ln=(ve=void 0,(0,w.XA)(ft)),tt=ln.next();!tt.done;tt=ln.next()){var Nt=tt.value;gt.delete(Nt)}}catch(Qe){ve={error:Qe}}finally{try{tt&&!tt.done&&(fe=ln.return)&&fe.call(ln)}finally{if(ve)throw ve.error}}Pt.delete(_n)}else if(Ke.has(qe)){var Nt=Ke.get(qe);Nt.__toData__?Nt.__toData__.push(rn):Nt.__toData__=[rn],lt.add(Nt),gt.delete(Nt)}else Fe.push(rn)}var Pe=[new ie([],Fe,this._parent,this._document),new ie(yt,null,this._parent,this._document),new ie(gt,null,this._parent,this._document),new ie([],pt,this._parent,this._document),new ie(lt,null,this._parent,this._document)];return new ie(this._elements,null,this._parent,this._document,Pe)},H.prototype.merge=function(se){var ge=(0,w.ev)((0,w.ev)([],(0,w.CR)(this._elements),!1),(0,w.CR)(se._elements),!1),ye=(0,w.ev)((0,w.ev)([],(0,w.CR)(this._transitions),!1),(0,w.CR)(se._transitions),!1);return new ie(ge,null,this._parent,this._document,void 0,ye)},H.prototype.createElement=function(se){if(this._document)return this._document.createElement(se,{});var ge=ie.registry[se];return ge?new ge:j("Unknown node type: ".concat(se))},H.prototype.join=function(se,ge,ye,ve,fe){se===void 0&&(se=function(Ke){return Ke}),ge===void 0&&(ge=function(Ke){return Ke}),ye===void 0&&(ye=function(Ke){return Ke.remove()}),ve===void 0&&(ve=function(Ke){return Ke}),fe===void 0&&(fe=function(Ke){return Ke.remove()});var Fe=se(this._enter),yt=ge(this._update),gt=ye(this._exit),pt=ve(this._merge),lt=fe(this._split);return yt.merge(Fe).merge(gt).merge(pt).merge(lt)},H.prototype.remove=function(){for(var se=function(ve){var fe=ge._elements[ve],Fe=ge._transitions[ve];Fe?Fe.then(function(){return fe.remove()}):fe.remove()},ge=this,ye=0;ye<this._elements.length;ye++)se(ye);return new ie([],null,this._parent,this._document,void 0,this._transitions)},H.prototype.each=function(se){for(var ge=0;ge<this._elements.length;ge++){var ye=this._elements[ge],ve=ye.__data__;se.call(ye,ve,ge)}return this},H.prototype.attr=function(se,ge){var ye=typeof ge!="function"?function(){return ge}:ge;return this.each(function(ve,fe){ge!==void 0&&(this[se]=ye.call(this,ve,fe))})},H.prototype.style=function(se,ge,ye){ye===void 0&&(ye=!0);var ve=typeof ge!="function"||!ye?function(){return ge}:ge;return this.each(function(fe,Fe){ge!==void 0&&(this.style[se]=ve.call(this,fe,Fe))})},H.prototype.styles=function(se,ge){return se===void 0&&(se={}),ge===void 0&&(ge=!0),this.each(function(ye,ve){var fe=this;Object.entries(se).forEach(function(Fe){var yt=(0,w.CR)(Fe,2),gt=yt[0],pt=yt[1],lt=typeof pt!="function"||!ge?function(){return pt}:pt;pt!==void 0&&fe.attr(gt,lt.call(fe,ye,ve))})})},H.prototype.update=function(se,ge){ge===void 0&&(ge=!0);var ye=typeof se!="function"||!ge?function(){return se}:se;return this.each(function(ve,fe){se&&this.update&&this.update(ye.call(this,ve,fe))})},H.prototype.maybeUpdate=function(se,ge){ge===void 0&&(ge=!0);var ye=typeof se!="function"||!ge?function(){return se}:se;return this.each(function(ve,fe){se&&this.update&&this.update(ye.call(this,ve,fe))})},H.prototype.transition=function(se){var ge=this._transitions;return this.each(function(ye,ve){ge[ve]=se.call(this,ye,ve)})},H.prototype.on=function(se,ge){return this.each(function(){this.addEventListener(se,ge)}),this},H.prototype.call=function(se){for(var ge=[],ye=1;ye<arguments.length;ye++)ge[ye-1]=arguments[ye];return se.call.apply(se,(0,w.ev)([this._parent,this],(0,w.CR)(ge),!1)),this},H.prototype.node=function(){return this._elements[0]},H.prototype.nodes=function(){return this._elements},H.prototype.transitions=function(){return this._transitions.filter(function(se){return!!se})},H.prototype.parent=function(){return this._parent};var ae,ie,le;return ie=H,ae=new WeakSet,le=function(ge,ye){var ve=this._elements[0],fe=ve.querySelector(ge);if(fe)return new ie([fe],null,this._parent,this._document);var Fe=typeof ye=="string"?this.createElement(ye):ye();return ve.appendChild(Fe),new ie([Fe],null,this._parent,this._document)},H.registry={g:B.ZA,rect:B.UL,circle:B.Cd,path:B.y$,text:ne.x,ellipse:B.Pj,image:B.Ee,line:B.x1,polygon:B.mg,polyline:B.aH,html:B.k9},H}();function Y(H){return new q([H],null,H,H.ownerDocument)}function K(H,ae,ie){return H.querySelector(ae)?Y(H).select(ae):Y(H).append(ie)}},27475:function(cn,Ne,A){"use strict";A.d(Ne,{j:function(){return ne}});var w=A(22355),B=A(18814);function ne(ue){if((0,w.Z)(ue))return[ue,ue,ue,ue];if((0,B.Z)(ue)){var j=ue.length;if(j===1)return[ue[0],ue[0],ue[0],ue[0]];if(j===2)return[ue[0],ue[1],ue[0],ue[1]];if(j===3)return[ue[0],ue[1],ue[2],ue[1]];if(j===4)return ue}return[0,0,0,0]}},5796:function(cn,Ne,A){"use strict";A.d(Ne,{DM:function(){return Y},_v:function(){return ne},wE:function(){return j}});var w=A(99938);function B(K){var H=K&&K.getRenderBounds();if(!H)return{width:0,height:0};var ae=H.getMax(),ie=H.getMin();return{width:ae[0]-ie[0],height:ae[1]-ie[1]}}function ne(K){var H=K.getLocalBounds(),ae=H.min,ie=H.max,le=(0,w.CR)([ae,ie],2),se=(0,w.CR)(le[0],2),ge=se[0],ye=se[1],ve=(0,w.CR)(le[1],2),fe=ve[0],Fe=ve[1];return{x:ge,y:ye,width:fe-ge,height:Fe-ye,left:ge,bottom:Fe,top:ye,right:fe}}function ue(K,H){var ae=select(K).append("text").node();return ae.attr(__assign(__assign({},H),{visibility:"hidden"})),ae}function j(K,H){var ae=(0,w.CR)(K,2),ie=ae[0],le=ae[1],se=(0,w.CR)(H,2),ge=se[0],ye=se[1];return ie!==ge&&le===ye}function q(K,H){var ae=__read(K,2),ie=ae[0],le=ae[1],se=__read(H,2),ge=se[0],ye=se[1];return ie===ge&&le!==ye}function Y(K,H){var ae,ie,le=H.attributes;try{for(var se=(0,w.XA)(Object.entries(le)),ge=se.next();!ge.done;ge=se.next()){var ye=(0,w.CR)(ge.value,2),ve=ye[0],fe=ye[1];ve!=="id"&&ve!=="className"&&K.attr(ve,fe)}}catch(Fe){ae={error:Fe}}finally{try{ge&&!ge.done&&(ie=se.return)&&ie.call(se)}finally{if(ae)throw ae.error}}}},20949:function(cn,Ne,A){"use strict";A.d(Ne,{MC:function(){return q},Hm:function(){return ae},zs:function(){return K},dq:function(){return H}});var w=A(99938);function B(ie){return ie.toString().charAt(0).toUpperCase()+ie.toString().slice(1)}function ne(ie){return ie.toString().charAt(0).toLowerCase()+ie.toString().slice(1)}function ue(ie,le){return"".concat(le).concat(B(ie))}function j(ie,le,se){var ge;se===void 0&&(se=!0);var ye=le||((ge=ie.match(/^([a-z][a-z0-9]+)/))===null||ge===void 0?void 0:ge[0])||"",ve=ie.replace(new RegExp("^(".concat(ye,")")),"");return se?ne(ve):ve}function q(ie,le){Object.entries(le).forEach(function(se){var ge=(0,w.CR)(se,2),ye=ge[0],ve=ge[1];(0,w.ev)([ie],(0,w.CR)(ie.querySelectorAll(ye)),!1).filter(function(fe){return fe.matches(ye)}).forEach(function(fe){if(fe){var Fe=fe;Fe.style.cssText+=Object.entries(ve).reduce(function(yt,gt){return"".concat(yt).concat(gt.join(":"),";")},"")}})})}var Y=function(ie,le){if(!(ie!=null&&ie.startsWith(le)))return!1;var se=ie[le.length];return se>="A"&&se<="Z"};function K(ie,le,se){se===void 0&&(se=!1);var ge={};return Object.entries(ie).forEach(function(ye){var ve=(0,w.CR)(ye,2),fe=ve[0],Fe=ve[1];if(!(fe==="className"||fe==="class")){if(Y(fe,"show")&&Y(j(fe,"show"),le)!==se)fe===ue(le,"show")?ge[fe]=Fe:ge[fe.replace(new RegExp(B(le)),"")]=Fe;else if(!Y(fe,"show")&&Y(fe,le)!==se){var yt=j(fe,le);yt==="filter"&&typeof Fe=="function"||(ge[yt]=Fe)}}}),ge}function H(ie,le){return Object.entries(ie).reduce(function(se,ge){var ye=(0,w.CR)(ge,2),ve=ye[0],fe=ye[1];return ve.startsWith("show")?se["show".concat(le).concat(ve.slice(4))]=fe:se["".concat(le).concat(B(ve))]=fe,se},{})}function ae(ie,le){le===void 0&&(le=["x","y","class","className"]);var se=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],ge={},ye={};return Object.entries(ie).forEach(function(ve){var fe=(0,w.CR)(ve,2),Fe=fe[0],yt=fe[1];le.includes(Fe)||(se.indexOf(Fe)!==-1?ye[Fe]=yt:ge[Fe]=yt)}),[ge,ye]}},50611:function(cn,Ne,A){"use strict";A.d(Ne,{Rm:function(){return H},U4:function(){return K},Ux:function(){return q},qT:function(){return Y}});var w=A(95198),B=A(91391),ne,ue;function j(ae){ue=ae}var q=(0,B.Z)(function(ae,ie){var le=ie.fontSize,se=ie.fontFamily,ge=ie.fontWeight,ye=ie.fontStyle,ve=ie.fontVariant;return ue?ue(ae,le):(ne||(ne=w.GZ.offscreenCanvasCreator.getOrCreateContext(void 0)),ne.font=[ye,ve,ge,"".concat(le,"px"),se].join(" "),ne.measureText(ae).width)},function(ae,ie){return[ae,Object.values(ie||Y(ae)).join()].join("")},4096),Y=function(ae){var ie=ae.style.fontFamily||"sans-serif",le=ae.style.fontWeight||"normal",se=ae.style.fontStyle||"normal",ge=ae.style.fontVariant,ye=ae.style.fontSize;return ye=typeof ye=="object"?ye.value:ye,{fontSize:ye,fontFamily:ie,fontWeight:le,fontStyle:se,fontVariant:ge}};function K(ae){return ae.nodeName==="text"?ae:ae.nodeName==="g"&&ae.children.length===1&&ae.children[0].nodeName==="text"?ae.children[0]:null}function H(ae,ie){var le=K(ae);le&&le.attr(ie)}},64820:function(cn,Ne,A){"use strict";A.d(Ne,{Cp:function(){return ne},$Z:function(){return B},WD:function(){return ue}});function w(j,q){q(j),j.children&&j.children.forEach(function(Y){Y&&w(Y,q)})}function B(j){ue(j,!0)}function ne(j){ue(j,!1)}function ue(j,q){var Y=q?"visible":"hidden";w(j,function(K){K.attr("visibility",Y)})}},16290:function(cn,Ne){(function(A,w){w(Ne)})(this,function(A){"use strict";function w(Ze){var je=typeof Symbol=="function"&&Symbol.iterator,st=je&&Ze[je],St=0;if(st)return st.call(Ze);if(Ze&&typeof Ze.length=="number")return{next:function(){return{value:(Ze=Ze&&St>=Ze.length?void 0:Ze)&&Ze[St++],done:!Ze}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(Ze,je){var st=typeof Symbol=="function"&&Ze[Symbol.iterator];if(!st)return Ze;var St,En,fn=st.call(Ze),sn=[];try{for(;(je===void 0||0<je--)&&!(St=fn.next()).done;)sn.push(St.value)}catch(Pn){En={error:Pn}}finally{try{St&&!St.done&&(st=fn.return)&&st.call(fn)}finally{if(En)throw En.error}}return sn}function ne(Ze,je,st){if(st||arguments.length===2)for(var St,En=0,fn=je.length;En<fn;En++)!St&&En in je||((St=St||Array.prototype.slice.call(je,0,En))[En]=je[En]);return Ze.concat(St||Array.prototype.slice.call(je))}function ue(Ze){return q(Ze,"Function")}var j={}.toString,q=function(Ze,je){return j.call(Ze)==="[object "+je+"]"},Y=function(Ze){return Array.isArray?Array.isArray(Ze):q(Ze,"Array")},K=function(Ze){if(typeof(je=Ze)!="object"||je===null||!q(Ze,"Object"))return!1;var je;if(Object.getPrototypeOf(Ze)===null)return!0;for(var st=Ze;Object.getPrototypeOf(st)!==null;)st=Object.getPrototypeOf(st);return Object.getPrototypeOf(Ze)===st},H=function(Ze){return q(Ze,"Number")},ae=Object.values?function(Ze){return Object.values(Ze)}:function(Ze){var je,st=[],St=Ze,En=function(Hn,Ut){ue(Ze)&&Ut==="prototype"||st.push(Hn)};if(St){if(Y(St))for(var fn=0,sn=St.length;fn<sn&&En(St[fn],fn)!==!1;fn++);else if(je=typeof St,St!==null&&je=="object"||je=="function"){for(var Pn in St)if(St.hasOwnProperty(Pn)&&En(St[Pn],Pn)===!1)break}}return st},ie=5;function le(Ze){for(var je=[],st=1;st<arguments.length;st++)je[st-1]=arguments[st];for(var St=0;St<je.length;St+=1)(function En(fn,sn,Pn,Hn){for(var Ut in Pn=Pn||0,Hn=Hn||ie,sn){var Yt;sn.hasOwnProperty(Ut)&&((Yt=sn[Ut])!==null&&K(Yt)?(K(fn[Ut])||(fn[Ut]={}),Pn<Hn?En(fn[Ut],Yt,Pn+1,Hn):fn[Ut]=sn[Ut]):Y(Yt)?(fn[Ut]=[],fn[Ut]=fn[Ut].concat(Yt)):Yt!==void 0&&(fn[Ut]=Yt))}})(Ze,je[St]);return Ze}function se(Ze){return Ze}(function(Ze,je){var st;if(ue(Ze))return(st=function(){for(var St=[],En=0;En<arguments.length;En++)St[En]=arguments[En];var fn,sn=je?je.apply(this,St):St[0],Pn=st.cache;return Pn.has(sn)?Pn.get(sn):(fn=Ze.apply(this,St),Pn.set(sn,fn),fn)}).cache=new Map;throw new TypeError("Expected a function")})(function(Ze,sn){var st=(sn=sn===void 0?{}:sn).fontSize,St=sn.fontFamily,En=sn.fontWeight,fn=sn.fontStyle,sn=sn.fontVariant;return(ge=ge||document.createElement("canvas").getContext("2d")).font=[fn,sn,En,st+"px",St].join(" "),ge.measureText(q(Ze,"String")?Ze:"").width},function(Ze,je){return function(){for(var st=0,St=0,En=arguments.length;St<En;St++)st+=arguments[St].length;for(var fn=Array(st),sn=0,St=0;St<En;St++)for(var Pn=arguments[St],Hn=0,Ut=Pn.length;Hn<Ut;Hn++,sn++)fn[sn]=Pn[Hn];return fn}([Ze],ae(je=je===void 0?{}:je)).join("")});var ge,ye=typeof Float32Array!="undefined"?Float32Array:Array;function ve(){var Ze=new ye(9);return ye!=Float32Array&&(Ze[1]=0,Ze[2]=0,Ze[3]=0,Ze[5]=0,Ze[6]=0,Ze[7]=0),Ze[0]=1,Ze[4]=1,Ze[8]=1,Ze}Math.hypot||(Math.hypot=function(){for(var Ze=0,je=arguments.length;je--;)Ze+=arguments[je]*arguments[je];return Math.sqrt(Ze)});var fe=function(Ze,Xt,Wi){var St=Xt[0],En=Xt[1],fn=Xt[2],sn=Xt[3],Pn=Xt[4],Hn=Xt[5],Ut=Xt[6],Yt=Xt[7],Xt=Xt[8],jt=Wi[0],fr=Wi[1],vr=Wi[2],yr=Wi[3],Br=Wi[4],Gi=Wi[5],qi=Wi[6],$i=Wi[7],Wi=Wi[8];return Ze[0]=jt*St+fr*sn+vr*Ut,Ze[1]=jt*En+fr*Pn+vr*Yt,Ze[2]=jt*fn+fr*Hn+vr*Xt,Ze[3]=yr*St+Br*sn+Gi*Ut,Ze[4]=yr*En+Br*Pn+Gi*Yt,Ze[5]=yr*fn+Br*Hn+Gi*Xt,Ze[6]=qi*St+$i*sn+Wi*Ut,Ze[7]=qi*En+$i*Pn+Wi*Yt,Ze[8]=qi*fn+$i*Hn+Wi*Xt,Ze};function Fe(){var Ze=new ye(16);return ye!=Float32Array&&(Ze[1]=0,Ze[2]=0,Ze[3]=0,Ze[4]=0,Ze[6]=0,Ze[7]=0,Ze[8]=0,Ze[9]=0,Ze[11]=0,Ze[12]=0,Ze[13]=0,Ze[14]=0),Ze[0]=1,Ze[5]=1,Ze[10]=1,Ze[15]=1,Ze}var yt=function(Ze,qi,st){var St=qi[0],En=qi[1],fn=qi[2],sn=qi[3],Pn=qi[4],Hn=qi[5],Ut=qi[6],Yt=qi[7],Xt=qi[8],jt=qi[9],fr=qi[10],vr=qi[11],yr=qi[12],Br=qi[13],Gi=qi[14],qi=qi[15],$i=st[0],Wi=st[1],Ii=st[2],Qa=st[3];return Ze[0]=$i*St+Wi*Pn+Ii*Xt+Qa*yr,Ze[1]=$i*En+Wi*Hn+Ii*jt+Qa*Br,Ze[2]=$i*fn+Wi*Ut+Ii*fr+Qa*Gi,Ze[3]=$i*sn+Wi*Yt+Ii*vr+Qa*qi,$i=st[4],Wi=st[5],Ii=st[6],Qa=st[7],Ze[4]=$i*St+Wi*Pn+Ii*Xt+Qa*yr,Ze[5]=$i*En+Wi*Hn+Ii*jt+Qa*Br,Ze[6]=$i*fn+Wi*Ut+Ii*fr+Qa*Gi,Ze[7]=$i*sn+Wi*Yt+Ii*vr+Qa*qi,$i=st[8],Wi=st[9],Ii=st[10],Qa=st[11],Ze[8]=$i*St+Wi*Pn+Ii*Xt+Qa*yr,Ze[9]=$i*En+Wi*Hn+Ii*jt+Qa*Br,Ze[10]=$i*fn+Wi*Ut+Ii*fr+Qa*Gi,Ze[11]=$i*sn+Wi*Yt+Ii*vr+Qa*qi,$i=st[12],Wi=st[13],Ii=st[14],Qa=st[15],Ze[12]=$i*St+Wi*Pn+Ii*Xt+Qa*yr,Ze[13]=$i*En+Wi*Hn+Ii*jt+Qa*Br,Ze[14]=$i*fn+Wi*Ut+Ii*fr+Qa*Gi,Ze[15]=$i*sn+Wi*Yt+Ii*vr+Qa*qi,Ze};function gt(Ze){for(var je=[],st=1;st<arguments.length;st++)je[st-1]=arguments[st];return Ze?je.reduce(function(St,En){return function(fn){return En(St(fn))}},Ze):se}function pt(Ze){return Ze instanceof Float32Array||Ze instanceof Array}function lt(Ze,je,st){for(;Ze<je;)Ze+=2*Math.PI;for(;st<Ze;)Ze-=2*Math.PI;return Ze}$t=new ye(3),ye!=Float32Array&&($t[0]=0,$t[1]=0,$t[2]=0),$t=new ye(4),ye!=Float32Array&&($t[0]=0,$t[1]=0,$t[2]=0,$t[3]=0);function Ke(sn,je,st,St,En){var fn=(sn=B(sn,2))[0],sn=sn[1],Pn=ve();return fn=[fn,sn],(sn=Pn)[0]=1,sn[1]=0,sn[2]=0,sn[3]=0,sn[4]=1,sn[5]=0,sn[6]=fn[0],sn[7]=fn[1],sn[8]=1,sn}function Ue(Ze,...je){return je.reduce((st,St)=>En=>st(St(En)),Ze)}function Pt(Ze,je){return je-Ze?st=>(st-Ze)/(je-Ze):st=>.5}const Gt=Math.sqrt(50),rn=Math.sqrt(10),_n=Math.sqrt(2);function qe(Ze,je,st){return je=(je-Ze)/Math.max(0,st),Ze=Math.floor(Math.log(je)/Math.LN10),st=je/p0(10,Ze),0<=Ze?(st>=Gt?10:st>=rn?5:st>=_n?2:1)*p0(10,Ze):-p0(10,-Ze)/(st>=Gt?10:st>=rn?5:st>=_n?2:1)}const Nt=(Ze,je,st=5)=>{Ze=[Ze,je];let St=0,En=Ze.length-1,fn=Ze[St],sn=Ze[En],Pn;return sn<fn&&([fn,sn]=[sn,fn],[St,En]=[En,St]),0<(Pn=qe(fn,sn,st))?(fn=Math.floor(fn/Pn)*Pn,sn=Math.ceil(sn/Pn)*Pn,Pn=qe(fn,sn,st)):Pn<0&&(fn=Math.ceil(fn*Pn)/Pn,sn=Math.floor(sn*Pn)/Pn,Pn=qe(fn,sn,st)),0<Pn?(Ze[St]=Math.floor(fn/Pn)*Pn,Ze[En]=Math.ceil(sn/Pn)*Pn):Pn<0&&(Ze[St]=Math.ceil(fn*Pn)/Pn,Ze[En]=Math.floor(sn*Pn)/Pn),Ze};function ft(Ze){return Ze!=null&&!Number.isNaN(Ze)}function ln(Ze,je){return st=>{st.prototype.rescale=function(){this.initRange(),this.nice();var[St]=this.chooseTransforms();this.composeOutput(St,this.chooseClamp(St))},st.prototype.initRange=function(){var St=this.options.interpolator;this.options.range=Ze(St)},st.prototype.composeOutput=function(St,En){var fn,{domain:Pn,interpolator:sn,round:Hn}=this.getOptions(),Pn=je(Pn.map(St)),Hn=Hn?(fn=sn,Ut=>(Ut=fn(Ut),H(Ut)?Math.round(Ut):Ut)):sn;this.output=Ue(Hn,Pn,En,St)},st.prototype.invert=void 0}}var tt,$t={exports:{}},vt={exports:{}},Pe=function(Ze){return!(!Ze||typeof Ze=="string")&&(Ze instanceof Array||Array.isArray(Ze)||0<=Ze.length&&(Ze.splice instanceof Function||Object.getOwnPropertyDescriptor(Ze,Ze.length-1)&&Ze.constructor.name!=="String"))},Qe=Array.prototype.concat,He=Array.prototype.slice,_t=vt.exports=function(Ze){for(var je=[],st=0,St=Ze.length;st<St;st++){var En=Ze[st];Pe(En)?je=Qe.call(je,He.call(En)):je.push(En)}return je},Bt=(_t.wrap=function(Ze){return function(){return Ze(_t(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),At=vt.exports,Je=Object.hasOwnProperty,zt=Object.create(null);for(tt in Bt)Je.call(Bt,tt)&&(zt[Bt[tt]]=tt);var mn=$t.exports={to:{},get:{}};function Ot(Ze,je,st){return Math.min(Math.max(je,Ze),st)}function Xe(Ze){return Ze=Math.round(Ze).toString(16).toUpperCase(),Ze.length<2?"0"+Ze:Ze}mn.get=function(Ze){var je,st;switch(Ze.substring(0,3).toLowerCase()){case"hsl":je=mn.get.hsl(Ze),st="hsl";break;case"hwb":je=mn.get.hwb(Ze),st="hwb";break;default:je=mn.get.rgb(Ze),st="rgb"}return je?{model:st,value:je}:null},mn.get.rgb=function(Ze){if(!Ze)return null;var je,st,St,En=[0,0,0,1];if(je=Ze.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(St=je[2],je=je[1],st=0;st<3;st++){var fn=2*st;En[st]=parseInt(je.slice(fn,2+fn),16)}St&&(En[3]=parseInt(St,16)/255)}else if(je=Ze.match(/^#([a-f0-9]{3,4})$/i)){for(St=(je=je[1])[3],st=0;st<3;st++)En[st]=parseInt(je[st]+je[st],16);St&&(En[3]=parseInt(St+St,16)/255)}else{if(je=Ze.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))for(st=0;st<3;st++)En[st]=parseInt(je[st+1],0);else{if(!(je=Ze.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(je=Ze.match(/^(\w+)$/))?je[1]==="transparent"?[0,0,0,0]:Je.call(Bt,je[1])?((En=Bt[je[1]])[3]=1,En):null:null;for(st=0;st<3;st++)En[st]=Math.round(2.55*parseFloat(je[st+1]))}je[4]&&(je[5]?En[3]=.01*parseFloat(je[4]):En[3]=parseFloat(je[4]))}for(st=0;st<3;st++)En[st]=Ot(En[st],0,255);return En[3]=Ot(En[3],0,1),En},mn.get.hsl=function(Ze){var je;return(Ze=Ze&&Ze.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(je=parseFloat(Ze[4]),[(parseFloat(Ze[1])%360+360)%360,Ot(parseFloat(Ze[2]),0,100),Ot(parseFloat(Ze[3]),0,100),Ot(isNaN(je)?1:je,0,1)]):null},mn.get.hwb=function(Ze){var je;return(Ze=Ze&&Ze.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(je=parseFloat(Ze[4]),[(parseFloat(Ze[1])%360+360)%360,Ot(parseFloat(Ze[2]),0,100),Ot(parseFloat(Ze[3]),0,100),Ot(isNaN(je)?1:je,0,1)]):null},mn.to.hex=function(){var Ze=At(arguments);return"#"+Xe(Ze[0])+Xe(Ze[1])+Xe(Ze[2])+(Ze[3]<1?Xe(Math.round(255*Ze[3])):"")},mn.to.rgb=function(){var Ze=At(arguments);return Ze.length<4||Ze[3]===1?"rgb("+Math.round(Ze[0])+", "+Math.round(Ze[1])+", "+Math.round(Ze[2])+")":"rgba("+Math.round(Ze[0])+", "+Math.round(Ze[1])+", "+Math.round(Ze[2])+", "+Ze[3]+")"},mn.to.rgb.percent=function(){var Ze=At(arguments),je=Math.round(Ze[0]/255*100),st=Math.round(Ze[1]/255*100),St=Math.round(Ze[2]/255*100);return Ze.length<4||Ze[3]===1?"rgb("+je+"%, "+st+"%, "+St+"%)":"rgba("+je+"%, "+st+"%, "+St+"%, "+Ze[3]+")"},mn.to.hsl=function(){var Ze=At(arguments);return Ze.length<4||Ze[3]===1?"hsl("+Ze[0]+", "+Ze[1]+"%, "+Ze[2]+"%)":"hsla("+Ze[0]+", "+Ze[1]+"%, "+Ze[2]+"%, "+Ze[3]+")"},mn.to.hwb=function(){var Ze=At(arguments),je="";return 4<=Ze.length&&Ze[3]!==1&&(je=", "+Ze[3]),"hwb("+Ze[0]+", "+Ze[1]+"%, "+Ze[2]+"%"+je+")"},mn.to.keyword=function(Ze){return zt[Ze.slice(0,3)]};var ct=$t.exports;function Rt(Ze,je,st){let St=st;return St<0&&(St+=1),1<St&&--St,St<1/6?Ze+6*(je-Ze)*St:St<.5?je:St<2/3?Ze+(je-Ze)*(2/3-St)*6:Ze}function Oe(En){var je,st,St,En=ct.get(En);return En?({model:En,value:je}=En,En==="rgb"?je:En==="hsl"?(je=(En=je)[0]/360,st=En[1]/100,St=En[2]/100,En=En[3],st==0?[255*St,255*St,255*St,En]:[255*Rt(st=2*St-(St=St<.5?St*(1+st):St+st-St*st),St,je+1/3),255*Rt(st,St,je),255*Rt(st,St,je-1/3),En]):null):null}const Ge=(Ze,je)=>st=>Ze*(1-st)+je*st,Vt=(Ze,je)=>{if(typeof Ze=="number"&&typeof je=="number")return Ge(Ze,je);if(typeof Ze!="string"||typeof je!="string")return()=>Ze;{var st=Ze,St=je;const En=Oe(st),fn=Oe(St);return En===null||fn===null?En?()=>st:()=>St:sn=>{var Pn=new Array(4);for(let vr=0;vr<4;vr+=1){var Hn=En[vr],Ut=fn[vr];Pn[vr]=Hn*(1-sn)+Ut*sn}var[Yt,Xt,jt,fr]=Pn;return`rgba(${Math.round(Yt)}, ${Math.round(Xt)}, ${Math.round(jt)}, ${fr})`}}},De=(Ze,je)=>{const st=Ge(Ze,je);return St=>Math.round(st(St))};function et({map:Ze,initKey:je},st){return je=je(st),Ze.has(je)?Ze.get(je):st}function Ce(Ze){return typeof Ze=="object"?Ze.valueOf():Ze}class J extends Map{constructor(je){if(super(),this.map=new Map,this.initKey=Ce,je!==null)for(var[st,St]of je)this.set(st,St)}get(je){return super.get(et({map:this.map,initKey:this.initKey},je))}has(je){return super.has(et({map:this.map,initKey:this.initKey},je))}set(je,st){return super.set(([{map:je,initKey:St},En]=[{map:this.map,initKey:this.initKey},je],St=St(En),je.has(St)?je.get(St):(je.set(St,En),En)),st);var St,En}delete(je){return super.delete(([{map:je,initKey:st},St]=[{map:this.map,initKey:this.initKey},je],st=st(St),je.has(st)&&(St=je.get(st),je.delete(st)),St));var st,St}}class Le{constructor(je){this.options=le({},this.getDefaultOptions()),this.update(je)}getOptions(){return this.options}update(je={}){this.options=le({},this.options,je),this.rescale(je)}rescale(je){}}const Jt=Symbol("defaultUnknown");function Be(Ze,je,st){for(let St=0;St<je.length;St+=1)Ze.has(je[St])||Ze.set(st(je[St]),St)}function In(je){var{value:je,from:st,to:St,mapper:En,notFoundReturn:fn}=je;let sn=En.get(je);if(sn===void 0){if(fn!==Jt)return fn;sn=st.push(je)-1,En.set(je,sn)}return St[sn%St.length]}function cr(Ze){return Ze instanceof Date?je=>""+je:typeof Ze=="object"?je=>JSON.stringify(je):je=>je}class bn extends Le{getDefaultOptions(){return{domain:[],range:[],unknown:Jt}}constructor(je){super(je)}map(je){return this.domainIndexMap.size===0&&Be(this.domainIndexMap,this.getDomain(),this.domainKey),In({value:this.domainKey(je),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(je){return this.rangeIndexMap.size===0&&Be(this.rangeIndexMap,this.getRange(),this.rangeKey),In({value:this.rangeKey(je),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(je){var[st]=this.options.domain,[St]=this.options.range;this.domainKey=cr(st),this.rangeKey=cr(St),this.rangeIndexMap?(je&&!je.range||this.rangeIndexMap.clear(),je&&!je.domain&&!je.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new bn(this.options)}getRange(){return this.options.range}getDomain(){var je,st;return this.sortedDomain||({domain:je,compare:st}=this.options,this.sortedDomain=st?[...je].sort(st):je),this.sortedDomain}}function ir(Br){const{domain:je,range:st,paddingOuter:St,paddingInner:En,flex:fn,round:sn,align:Pn}=Br;var Hn=je.length,fr=0<(fr=(Br=Hn)-(Ut=fn).length)?[...Ut,...new Array(fr).fill(1)]:fr<0?Ut.slice(0,Br):Ut,[Br,Ut]=st,Ut=Ut-Br,yr=Ut/(2/Hn*St+1-1/Hn*En);const Yt=yr*En/Hn;yr-=Hn*Yt;const Xt=function(Wi){const Ii=Math.min(...Wi);return Wi.map(Qa=>Qa/Ii)}(fr),jt=yr/Xt.reduce((Wi,Ii)=>Wi+Ii);var fr=new J(je.map((Wi,Ii)=>(Ii=Xt[Ii]*jt,[Wi,sn?Math.floor(Ii):Ii]))),vr=new J(je.map((Wi,Ii)=>(Ii=Xt[Ii]*jt+Yt,[Wi,sn?Math.floor(Ii):Ii]))),yr=Array.from(vr.values()).reduce((Wi,Ii)=>Wi+Ii),Br=Br+(Ut-(yr-yr/Hn*En))*Pn;let Gi=sn?Math.round(Br):Br;var qi=new Array(Hn);for(let Wi=0;Wi<Hn;Wi+=1){qi[Wi]=($i=Gi,Math.round(1e12*$i)/1e12);var $i=je[Wi];Gi+=vr.get($i)}return{valueBandWidth:fr,valueStep:vr,adjustedRange:qi}}class Nr extends bn{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Jt,flex:[]}}constructor(je){super(je)}clone(){return new Nr(this.options)}getStep(je){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:je===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(je)}getBandWidth(je){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:je===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(je)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:je,paddingInner:st}=this.options;return 0<je?je:st}getPaddingOuter(){var{padding:je,paddingOuter:st}=this.options;return 0<je?je:st}rescale(){super.rescale();var{align:St,domain:je,range:En,round:fn,flex:st}=this.options,{adjustedRange:St,valueBandWidth:En,valueStep:fn}=function(Ut){var Pn=Ut.domain;if((Pn=Pn.length)===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!((Hn=Ut.flex)==null||!Hn.length))return ir(Ut);var{range:Hn,paddingOuter:Ut,paddingInner:Yt,round:Xt,align:jt}=Ut;let fr,vr,yr=Hn[0];return Hn=Hn[1]-yr,fr=Hn/Math.max(1,2*Ut+(Pn-Yt)),Xt&&(fr=Math.floor(fr)),yr+=(Hn-fr*(Pn-Yt))*jt,vr=fr*(1-Yt),Xt&&(yr=Math.round(yr),vr=Math.round(vr)),Ut=new Array(Pn).fill(0).map((Br,Gi)=>yr+Gi*fr),{valueStep:fr,valueBandWidth:vr,adjustedRange:Ut}}({align:St,range:En,round:fn,flex:st,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:je});this.valueStep=fn,this.valueBandWidth=En,this.adjustedRange=St}}const Ar=(Ze,je,st)=>{let St,En,fn=Ze,sn=je;if(fn===sn&&0<st)return[fn];let Pn=qe(fn,sn,st);if(Pn===0||!Number.isFinite(Pn))return[];if(0<Pn){fn=Math.ceil(fn/Pn),sn=Math.floor(sn/Pn),En=new Array(St=Math.ceil(sn-fn+1));for(let Hn=0;Hn<St;Hn+=1)En[Hn]=(fn+Hn)*Pn}else{Pn=-Pn,fn=Math.ceil(fn*Pn),sn=Math.floor(sn*Pn),En=new Array(St=Math.ceil(sn-fn+1));for(let Hn=0;Hn<St;Hn+=1)En[Hn]=(fn+Hn)/Pn}return En},Zr=(St,fn,st)=>{var[St,En]=St,[fn,sn]=fn;let Pn,Hn;return Ue(Hn=St<En?(Pn=Pt(St,En),st(fn,sn)):(Pn=Pt(En,St),st(sn,fn)),Pn)},wi=(Ze,je,st)=>{const St=Math.min(Ze.length,je.length)-1,En=new Array(St),fn=new Array(St);var sn=Ze[0]>Ze[St],Pn=sn?[...Ze].reverse():Ze,Hn=sn?[...je].reverse():je;for(let Ut=0;Ut<St;Ut+=1)En[Ut]=Pt(Pn[Ut],Pn[Ut+1]),fn[Ut]=st(Hn[Ut],Hn[Ut+1]);return Ut=>{var Yt=function(jt,fr,vr,yr,Br){let Gi=vr||0,qi=yr||jt.length;for(var $i=Br||(Ii=>Ii);Gi<qi;){var Wi=Math.floor((Gi+qi)/2);$i(jt[Wi])>fr?qi=Wi:Gi=Wi+1}return Gi}(Ze,Ut,1,St)-1,Xt=En[Yt];return Ue(fn[Yt],Xt)(Ut)}},Ln=(Ze,je,st,St)=>(2<Math.min(Ze.length,je.length)?wi:Zr)(Ze,je,St?De:st);class Nn extends Le{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Ge,tickCount:5}}map(je){return ft(je)?this.output(je):this.options.unknown}invert(je){return ft(je)?this.input(je):this.options.unknown}nice(){var je,st,St,En;this.options.nice&&([je,st,St,...En]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(je,st,St,...En))}getTicks(){var je=this.options.tickMethod,[st,St,En,...fn]=this.getTickMethodOptions();return je(st,St,En,...fn)}getTickMethodOptions(){var{domain:je,tickCount:st}=this.options;return[je[0],je[je.length-1],st]}chooseNice(){return Nt}rescale(){this.nice();var[je,st]=this.chooseTransforms();this.composeOutput(je,this.chooseClamp(je)),this.composeInput(je,st,this.chooseClamp(st))}chooseClamp(St){var{clamp:st,range:En}=this.options,St=this.options.domain.map(St),En=Math.min(St.length,En.length);if(st){st=St[0],St=St[En-1];const fn=St<st?St:st,sn=St<st?st:St;return Pn=>Math.min(Math.max(fn,Pn),sn)}return se}composeOutput(je,st){var{domain:sn,range:St,round:En,interpolate:fn}=this.options,sn=Ln(sn.map(je),St,fn,En);this.output=Ue(sn,st,je)}composeInput(je,st,St){var{domain:En,range:fn}=this.options,fn=Ln(fn,En.map(je),Ge);this.input=Ue(st,St,fn)}}class $n extends Nn{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Vt,tickMethod:Ar,tickCount:5}}chooseTransforms(){return[se,se]}clone(){return new $n(this.options)}}class wn extends Nr{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Jt,paddingInner:1,paddingOuter:0}}constructor(je){super(je)}getPaddingInner(){return 1}clone(){return new wn(this.options)}update(je){super.update(je)}getPaddingOuter(){return this.options.padding}}function nt(Ze,je){for(var st=[],St=0,En=Ze.length;St<En;St++)st.push(Ze[St].substr(0,je));return st}var ze,vt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$t=["January","February","March","April","May","June","July","August","September","October","November","December"],gn=nt($t,3);(function(Ze){for(var je=[],st=1;st<arguments.length;st++)je[st-1]=arguments[st];for(var St=0,En=je;St<En.length;St++){var fn,sn=En[St];for(fn in sn)Ze[fn]=sn[fn]}})({},{dayNamesShort:nt(vt,3),dayNames:vt,monthNamesShort:gn,monthNames:$t,amPm:["am","pm"],DoFn:function(Ze){return Ze+["th","st","nd","rd"][3<Ze%10?0:(Ze-Ze%10!=10?1:0)*Ze%10]}});var at;let an=ze=class extends $n{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:se,tickMethod:Ar,tickCount:5}}constructor(Ze){super(Ze)}clone(){return new ze(this.options)}};an=ze=function(Ze,je,st,St){var En,fn=arguments.length,sn=fn<3?je:St===null?St=Object.getOwnPropertyDescriptor(je,st):St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")sn=Reflect.decorate(Ze,je,st,St);else for(var Pn=Ze.length-1;0<=Pn;Pn--)(En=Ze[Pn])&&(sn=(fn<3?En(sn):3<fn?En(je,st,sn):En(je,st))||sn);return 3<fn&&sn&&Object.defineProperty(je,st,sn),sn}([ln(function(Ze){return[Ze(0),Ze(1)]},je=>{var[je,st]=je;return Ue(Ge(0,1),Pt(je,st))})],an);let hn=at=class extends $n{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:se,tickMethod:Ar,tickCount:5}}constructor(Ze){super(Ze)}clone(){return new at(this.options)}};hn=at=function(Ze,je,st,St){var En,fn=arguments.length,sn=fn<3?je:St===null?St=Object.getOwnPropertyDescriptor(je,st):St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")sn=Reflect.decorate(Ze,je,st,St);else for(var Pn=Ze.length-1;0<=Pn;Pn--)(En=Ze[Pn])&&(sn=(fn<3?En(sn):3<fn?En(je,st,sn):En(je,st))||sn);return 3<fn&&sn&&Object.defineProperty(je,st,sn),sn}([ln(function(Ze){return[Ze(0),Ze(.5),Ze(1)]},Ze=>{const[je,st,St]=Ze,En=Ue(Ge(0,.5),Pt(je,st)),fn=Ue(Ge(.5,1),Pt(st,St));return sn=>(je>St?sn<st?fn:En:sn<st?En:fn)(sn)})],hn);function pr(Ze,je,st,St,En){var fn=new $n({range:[je,je+St]}),sn=new $n({range:[st,st+En]});return{transform:function(Ut){var Ut=B(Ut,2),Hn=Ut[0],Ut=Ut[1];return[fn.map(Hn),sn.map(Ut)]},untransform:function(Ut){var Ut=B(Ut,2),Hn=Ut[0],Ut=Ut[1];return[fn.invert(Hn),sn.invert(Ut)]}}}function ur(Ze,je,st,St,En){return(0,B(Ze,1)[0])(je,st,St,En)}function pi(Ze,je,st,St,En){return B(Ze,1)[0]}function ar(Hn,je,st,St,En){var fn=(Hn=B(Hn,4))[0],sn=Hn[1],Pn=Hn[2],Hn=Hn[3],Ut=new $n({range:[Pn,Hn]}),Yt=new $n({range:[fn,sn]}),Xt=1<(Pn=En/St)?1:Pn,jt=1<Pn?1/Pn:1;return{transform:function(yr){var yr=B(yr,2),vr=yr[0],yr=yr[1],vr=Yt.map(vr),yr=Ut.map(yr);return[.5*(yr*Math.cos(vr)*Xt)+.5,.5*(yr*Math.sin(vr)*jt)+.5]},untransform:function(Br){var Br=B(Br,2),vr=Br[0],Br=Br[1],vr=2*(vr-.5)/Xt,Br=2*(Br-.5)/jt,yr=Math.sqrt(Math.pow(vr,2)+Math.pow(Br,2)),Br=lt(Math.atan2(Br,vr),fn,sn);return[Yt.invert(Br),Ut.invert(yr)]}}}function di(Ze,je,st,St,En){return{transform:function(sn){var sn=B(sn,2),Pn=sn[0];return[sn[1],Pn]},untransform:function(sn){var sn=B(sn,2),Pn=sn[0];return[sn[1],Pn]}}}function sa(Ze){for(var je=[],st=1;st<arguments.length;st++)je[st-1]=arguments[st];return cs.apply(void 0,ne([[-1,-1]],B(je),!1))}function xa(Ze){for(var je=[],st=1;st<arguments.length;st++)je[st-1]=arguments[st];return cs.apply(void 0,ne([[-1,1]],B(je),!1))}function za(Ze){for(var je=[],st=1;st<arguments.length;st++)je[st-1]=arguments[st];return cs.apply(void 0,ne([[1,-1]],B(je),!1))}function Ui(sn,je,st,St,En){var fn,sn=B(sn,1)[0],Pn=ve();return Pn=Pn,sn=sn,fn=Math.sin(sn),sn=Math.cos(sn),Pn[0]=sn,Pn[1]=fn,Pn[2]=0,Pn[3]=-fn,Pn[4]=sn,Pn[5]=0,Pn[6]=0,Pn[7]=0,Pn[8]=1,Pn}function Ao(Ze,je,st,St,En){var fn=(Ze=B(Ze,4))[0],sn=Ze[1],Pn=Ze[2],Hn=(Ze[3]-Pn)/(+sn/(2*Math.PI)+1),Ut=Hn/(2*Math.PI),Yt=new $n({range:[Pn,Pn+.99*Hn]}),Xt=new $n({range:[fn,sn]}),jt=1<(Ze=En/St)?1:Ze,fr=1<Ze?1/Ze:1;return{transform:function(Br){var Br=B(Br,2),yr=Br[0],Br=Br[1],yr=Xt.map(yr),Br=Yt.map(Br);return[.5*(Math.cos(yr)*(Ut*yr+Br)*jt)+.5,.5*(Math.sin(yr)*(Ut*yr+Br)*fr)+.5]},untransform:function(Br){var Br=B(Br,2),Gi=Br[0],Br=Br[1],Gi=2*(Gi-.5)/jt,Br=2*(Br-.5)/fr,yr=Math.sqrt(Math.pow(Gi,2)+Math.pow(Br,2)),Br=lt(Math.atan2(Br,Gi)+Math.floor(yr/Hn)*Math.PI*2,fn,sn),Gi=yr-Ut*Br;return[Xt.invert(Br),Yt.invert(Gi)]}}}function fs(Hn,je,st,St,En){var fn=(Hn=B(Hn,4))[0],sn=Hn[1],Pn=Hn[2],Hn=Hn[3],Ut=new $n({range:[Pn,Hn]});return{transform:function(Yt){for(var Xt=[],jt=Yt.length,fr=new wn({domain:new Array(jt).fill(0).map(function(Gi,qi){return qi}),range:[fn,sn]}),vr=0;vr<jt;vr++){var Br=Yt[vr],yr=fr.map(vr),Br=Ut.map(Br);Xt.push(yr,Br)}return Xt},untransform:function(Yt){for(var Xt=[],jt=0;jt<Yt.length;jt+=2){var fr=Yt[jt+1];Xt.push(Ut.invert(fr))}return Xt}}}var cs=function(sn,je,st,St,En){var sn=B(sn,2),fn=sn[0],sn=sn[1],Pn=ve();return fn=[fn,sn],(sn=Pn)[0]=fn[0],sn[1]=0,sn[2]=0,sn[3]=0,sn[4]=fn[1],sn[5]=0,sn[6]=0,sn[7]=0,sn[8]=1,sn};function ra(Ze){return 1/Math.tan(Ze)}function ms(Ze,je,st,St,En){var fn=ra(B(Ze,1)[0]);return{transform:function(Hn){var Hn=B(Hn,2),Pn=Hn[0],Hn=Hn[1];return[Pn+Hn*fn,Hn]},untransform:function(Hn){var Hn=B(Hn,2),Pn=Hn[0],Hn=Hn[1];return[Pn-Hn*fn,Hn]}}}function xi(Ze,je,st,St,En){var fn=ra(B(Ze,1)[0]);return{transform:function(Pn){var Pn=B(Pn,2),Hn=Pn[0];return[Hn,Pn[1]+Hn*fn]},untransform:function(Pn){var Pn=B(Pn,2),Hn=Pn[0];return[Hn,Pn[1]-Hn*fn]}}}function Gn(Ze,je,st,Pn,sn){var fn=Ze<je,sn=(fn?je-Pn:sn-je)||sn-Pn,Pn=fn?-1:1;return Pn*sn*(st+1)/(st+sn/((Ze-je)*Pn))+je}function _e(Ze,je,st,St,sn){var fn=Ze<je,sn=(fn?je-St:sn-je)||sn-St;return sn/(sn*(st+1)/(Ze-je)-st*(fn?-1:1))+je}function oi(Ze,je,st){return st?new $n({range:[0,1],domain:[0,je]}).map(Ze):Ze}function Ka(Pn,je,st,St,En){var fn=(Pn=B(Pn,3))[0],sn=Pn[1],Pn=Pn[2],Hn=oi(fn,St,Pn!==void 0&&Pn);return{transform:function(Xt){var Xt=B(Xt,2),Yt=Xt[0],Xt=Xt[1];return[Gn(Yt,Hn,sn,0,1),Xt]},untransform:function(Xt){var Xt=B(Xt,2),Yt=Xt[0],Xt=Xt[1];return[_e(Yt,Hn,sn,0,1),Xt]}}}function Cn(Pn,je,st,St,En){var fn=(Pn=B(Pn,3))[0],sn=Pn[1],Pn=Pn[2],Hn=oi(fn,En,Pn!==void 0&&Pn);return{transform:function(Ut){return Ut=B(Ut,2),[Ut[0],Gn(Ut[1],Hn,sn,0,1)]},untransform:function(Ut){return Ut=B(Ut,2),[Ut[0],_e(Ut[1],Hn,sn,0,1)]}}}function Un(Ut,je,st,St,En){var fn=(Ut=B(Ut,5))[0],sn=Ut[1],Pn=Ut[2],Hn=Ut[3],Ut=Ut[4],Yt=oi(fn,St,Ut=Ut!==void 0&&Ut),Xt=oi(sn,En,Ut);return{transform:function(vr){var vr=B(vr,2),fr=vr[0],vr=vr[1];return[Gn(fr,Yt,Pn,0,1),Gn(vr,Xt,Hn,0,1)]},untransform:function(vr){var vr=B(vr,2),fr=vr[0],vr=vr[1];return[_e(fr,Yt,Pn,0,1),_e(vr,Xt,Hn,0,1)]}}}function tn(Ut,je,st,St,En){var fn=(Ut=B(Ut,5))[0],sn=Ut[1],Pn=Ut[2],Hn=Ut[3],Ut=(Ut=Ut[4])!==void 0&&Ut,Yt=new $n({range:[0,St]}),Xt=new $n({range:[0,En]}),jt=Ut?fn:Yt.map(fn),fr=Ut?sn:Xt.map(sn);return{transform:function(Br){var Br=B(Br,2),yr=Br[0],Br=Br[1],Gi=Yt.map(yr)-jt,qi=Xt.map(Br)-fr,$i=Math.sqrt(Gi*Gi+qi*qi);return Pn<$i?[yr,Br]:(yr=Gn($i,0,Hn,0,Pn),Br=Math.atan2(qi,Gi),$i=jt+yr*Math.cos(Br),qi=fr+yr*Math.sin(Br),[Yt.invert($i),Xt.invert(qi)])},untransform:function(Br){var Br=B(Br,2),yr=Br[0],Br=Br[1],Gi=Yt.map(yr)-jt,qi=Xt.map(Br)-fr,$i=Math.sqrt(Gi*Gi+qi*qi);return Pn<$i?[yr,Br]:(yr=_e($i,0,Hn,0,Pn),Br=Math.atan2(qi,Gi),$i=jt+yr*Math.cos(Br),qi=fr+yr*Math.sin(Br),[Yt.invert($i),Xt.invert(qi)])}}}function It(Ze,je,st,St,En,fn,sn){var Pn=new $n({range:[je,je+En]}),Hn=new $n({range:[st,st+fn]}),Ut=new $n({range:[St,St+sn]});return{transform:function(fr){var fr=B(fr,3),Xt=fr[0],jt=fr[1],fr=fr[2];return[Pn.map(Xt),Hn.map(jt),Ut.map(fr)]},untransform:function(fr){var fr=B(fr,3),Xt=fr[0],jt=fr[1],fr=fr[2];return[Pn.invert(Xt),Hn.invert(jt),Ut.invert(fr)]}}}function Zt(Yt,je,st,St,En,fn,sn){var Pn,Hn=(Yt=B(Yt,3))[0],Ut=Yt[1],Yt=Yt[2];return Pn=Fe(),Hn=[Hn,Ut,Yt],Pn[0]=1,Pn[1]=0,Pn[2]=0,Pn[3]=0,Pn[4]=0,Pn[5]=1,Pn[6]=0,Pn[7]=0,Pn[8]=0,Pn[9]=0,Pn[10]=1,Pn[11]=0,Pn[12]=Hn[0],Pn[13]=Hn[1],Pn[14]=Hn[2],Pn[15]=1,Pn}function $e(Ze,je,st,St,En,fn,sn){return{transform:function(Hn){var Hn=B(Hn,3),Ut=Hn[0];return[Hn[1],Ut,Hn[2]]},untransform:function(Hn){var Hn=B(Hn,3),Ut=Hn[0];return[Hn[1],Ut,Hn[2]]}}}function Bn(Yt,je,st,St,En,fn,sn){var Pn,Hn=(Yt=B(Yt,3))[0],Ut=Yt[1],Yt=Yt[2];return Pn=Fe(),Hn=[Hn,Ut,Yt],Pn[0]=Hn[0],Pn[1]=0,Pn[2]=0,Pn[3]=0,Pn[4]=0,Pn[5]=Hn[1],Pn[6]=0,Pn[7]=0,Pn[8]=0,Pn[9]=0,Pn[10]=Hn[2],Pn[11]=0,Pn[12]=0,Pn[13]=0,Pn[14]=0,Pn[15]=1,Pn}Yn.prototype.update=function(Ze){this.options=le({},this.options,Ze),this.recoordinate()},Yn.prototype.clone=function(){return new Yn(this.options)},Yn.prototype.getOptions=function(){return this.options},Yn.prototype.clear=function(){this.update({transformations:[]})},Yn.prototype.getSize=function(){var Ze=this.options;return[Ze.width,Ze.height]},Yn.prototype.getCenter=function(){var Ze=this.options,je=Ze.x,st=Ze.y;return[(2*je+Ze.width)/2,(2*st+Ze.height)/2]},Yn.prototype.transform=function(){for(var Ze=[],je=0;je<arguments.length;je++)Ze[je]=arguments[je];var st=this.options.transformations;return this.update({transformations:ne(ne([],B(st),!1),[ne([],B(Ze),!1)],!1)}),this},Yn.prototype.map=function(Ze){return this.output(Ze)},Yn.prototype.invert=function(Ze){return this.input(Ze)},Yn.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},Yn.prototype.compose=function(Ze){function je(Wi,Ii){var Qa;Pn.push((Ii=Ii===void 0?!0:Ii)?(Qa=Wi,function(on){for(var dn=[],jn=0;jn<on.length-1;jn+=2){var Ur=[on[jn],on[jn+1]],Ur=Qa(Ur);dn.push.apply(dn,ne([],B(Ur),!1))}return dn}):Wi)}var st,St,En=(Ze=Ze===void 0?!1:Ze)?ne([],B(this.options.transformations),!1).reverse():this.options.transformations,fn=Ze?function(Wi){return Wi.untransform}:function(Wi){return Wi.transform},sn=[],Pn=[];try{for(var Hn=w(En),Ut=Hn.next();!Ut.done;Ut=Hn.next()){var Yt,Xt,jt,fr,vr,yr,Br=B(Ut.value),Gi=Br[0],qi=Br.slice(1),$i=this.transformers[Gi];$i&&(Xt=(Yt=this.options).x,jt=Yt.y,fr=Yt.width,vr=Yt.height,pt(yr=$i(ne([],B(qi),!1),Xt,jt,fr,vr))?sn.push(yr):(sn.length&&(je(this.createMatrixTransform(sn,Ze)),sn.splice(0,sn.length)),je(fn(yr)||se,Gi!=="parallel")))}}catch(Wi){st={error:Wi}}finally{try{Ut&&!Ut.done&&(St=Hn.return)&&St.call(Hn)}finally{if(st)throw st.error}}return sn.length&&je(this.createMatrixTransform(sn,Ze)),gt.apply(void 0,ne([],B(Pn),!1))},Yn.prototype.createMatrixTransform=function(Ze,je){var st,St,En,fn,sn,Pn,Hn,Ut,Yt,Xt,jt,fr,vr=ve();return je&&Ze.reverse(),Ze.forEach(function(yr){return fe(vr,vr,yr)}),je&&(je=Ze=vr,(fr=new ye(9))[0]=je[0],fr[1]=je[1],fr[2]=je[2],fr[3]=je[3],fr[4]=je[4],fr[5]=je[5],fr[6]=je[6],fr[7]=je[7],fr[8]=je[8],fr=(je=fr)[0],st=je[1],St=je[2],En=je[3],fn=je[4],sn=je[5],Pn=je[6],Hn=je[7],Ut=(je=je[8])*fn-sn*Hn,jt=fr*Ut+st*(Yt=-je*En+sn*Pn)+St*(Xt=Hn*En-fn*Pn))&&(Ze[0]=Ut*(jt=1/jt),Ze[1]=(-je*st+St*Hn)*jt,Ze[2]=(sn*st-St*fn)*jt,Ze[3]=Yt*jt,Ze[4]=(je*fr-St*Pn)*jt,Ze[5]=(-sn*fr+St*En)*jt,Ze[6]=Xt*jt,Ze[7]=(-Hn*fr+st*Pn)*jt,Ze[8]=(fn*fr-st*En)*jt),function(Ii){var Br,Gi,qi,$i,Wi,Ii=[Ii[0],Ii[1],1];return qi=vr,$i=(Gi=Br=Ii)[0],Wi=Gi[1],Gi=Gi[2],Br[0]=$i*qi[0]+Wi*qi[3]+Gi*qi[6],Br[1]=$i*qi[1]+Wi*qi[4]+Gi*qi[7],Br[2]=$i*qi[2]+Wi*qi[5]+Gi*qi[8],[Ii[0],Ii[1]]}},vt=Yn;function Yn(Ze){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:pr,translate:Ke,custom:ur,matrix:pi,polar:ar,transpose:di,scale:cs,"shear.x":ms,"shear.y":xi,reflect:sa,"reflect.x":xa,"reflect.y":za,rotate:Ui,helix:Ao,parallel:fs,fisheye:Un,"fisheye.x":Ka,"fisheye.y":Cn,"fisheye.circular":tn},this.update(Ze)}or.prototype.update=function(Ze){this.options=le({},this.options,Ze),this.recoordinate()},or.prototype.clone=function(){return new or(this.options)},or.prototype.getOptions=function(){return this.options},or.prototype.clear=function(){this.update({transformations:[]})},or.prototype.getSize=function(){var Ze=this.options;return[Ze.width,Ze.height,Ze.depth]},or.prototype.getCenter=function(){var Ze=this.options,je=Ze.x,st=Ze.y,St=Ze.z;return[(2*je+Ze.width)/2,(2*st+Ze.height)/2,(2*St+Ze.depth)/2]},or.prototype.transform=function(){for(var Ze=[],je=0;je<arguments.length;je++)Ze[je]=arguments[je];var st=this.options.transformations;return this.update({transformations:ne(ne([],B(st),!1),[ne([],B(Ze),!1)],!1)}),this},or.prototype.map=function(Ze){return this.output(Ze)},or.prototype.invert=function(Ze){return this.input(Ze)},or.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},or.prototype.compose=function(Ze){function je(Qa,on){var dn;Pn.push((on=on===void 0?!0:on)?(dn=Qa,function(jn){for(var Ur=[],Yr=0;Yr<jn.length-1;Yr+=3){var Et=[jn[Yr],jn[Yr+1],jn[Yr+2]],Et=dn(Et);Ur.push.apply(Ur,ne([],B(Et),!1))}return Ur}):Qa)}var st,St,En=(Ze=Ze===void 0?!1:Ze)?ne([],B(this.options.transformations),!1).reverse():this.options.transformations,fn=Ze?function(Qa){return Qa.untransform}:function(Qa){return Qa.transform},sn=[],Pn=[];try{for(var Hn=w(En),Ut=Hn.next();!Ut.done;Ut=Hn.next()){var Yt,Xt,jt,fr,vr,yr,Br,Gi,qi=B(Ut.value),$i=qi[0],Wi=qi.slice(1),Ii=this.transformers[$i];Ii&&(Xt=(Yt=this.options).x,jt=Yt.y,fr=Yt.z,vr=Yt.width,yr=Yt.height,Br=Yt.depth,pt(Gi=Ii(ne([],B(Wi),!1),Xt,jt,fr,vr,yr,Br))?sn.push(Gi):(sn.length&&(je(this.createMatrixTransform(sn,Ze)),sn.splice(0,sn.length)),je(fn(Gi)||se,!0)))}}catch(Qa){st={error:Qa}}finally{try{Ut&&!Ut.done&&(St=Hn.return)&&St.call(Hn)}finally{if(st)throw st.error}}return sn.length&&je(this.createMatrixTransform(sn,Ze)),gt.apply(void 0,ne([],B(Pn),!1))},or.prototype.createMatrixTransform=function(Ze,je){var st,St,En,fn,sn,Pn,Hn,Ut,Yt,Xt,jt,fr,vr,yr,Br,Gi,qi,$i,Wi,Ii,Qa,on,dn,jn,Ur,Yr,Et,Ct,xn=Fe();return je&&Ze.reverse(),Ze.forEach(function(Xn){return yt(xn,xn,Xn)}),je&&(je=Ze=xn,(Ct=new ye(16))[0]=je[0],Ct[1]=je[1],Ct[2]=je[2],Ct[3]=je[3],Ct[4]=je[4],Ct[5]=je[5],Ct[6]=je[6],Ct[7]=je[7],Ct[8]=je[8],Ct[9]=je[9],Ct[10]=je[10],Ct[11]=je[11],Ct[12]=je[12],Ct[13]=je[13],Ct[14]=je[14],Ct[15]=je[15],Ct=(je=Ct)[0],st=je[1],St=je[2],En=je[3],fn=je[4],sn=je[5],Pn=je[6],Hn=je[7],Ut=je[8],Yt=je[9],Xt=je[10],jt=je[11],fr=je[12],vr=je[13],yr=je[14],je=je[15],Et=(Br=Ct*sn-st*fn)*(Yr=Xt*je-jt*yr)-(Gi=Ct*Pn-St*fn)*(Ur=Yt*je-jt*vr)+(qi=Ct*Hn-En*fn)*(jn=Yt*yr-Xt*vr)+($i=st*Pn-St*sn)*(dn=Ut*je-jt*fr)-(Wi=st*Hn-En*sn)*(on=Ut*yr-Xt*fr)+(Ii=St*Hn-En*Pn)*(Qa=Ut*vr-Yt*fr))&&(Ze[0]=(sn*Yr-Pn*Ur+Hn*jn)*(Et=1/Et),Ze[1]=(St*Ur-st*Yr-En*jn)*Et,Ze[2]=(vr*Ii-yr*Wi+je*$i)*Et,Ze[3]=(Xt*Wi-Yt*Ii-jt*$i)*Et,Ze[4]=(Pn*dn-fn*Yr-Hn*on)*Et,Ze[5]=(Ct*Yr-St*dn+En*on)*Et,Ze[6]=(yr*qi-fr*Ii-je*Gi)*Et,Ze[7]=(Ut*Ii-Xt*qi+jt*Gi)*Et,Ze[8]=(fn*Ur-sn*dn+Hn*Qa)*Et,Ze[9]=(st*dn-Ct*Ur-En*Qa)*Et,Ze[10]=(fr*Wi-vr*qi+je*Br)*Et,Ze[11]=(Yt*qi-Ut*Wi-jt*Br)*Et,Ze[12]=(sn*on-fn*jn-Pn*Qa)*Et,Ze[13]=(Ct*jn-st*on+St*Qa)*Et,Ze[14]=(vr*Gi-fr*$i-yr*Br)*Et,Ze[15]=(Ut*$i-Yt*Gi+Xt*Br)*Et),function(Aa){var mt,vn,tr,Mr,ui,Ri,Aa=[Aa[0],Aa[1],Aa[2],1];return tr=xn,Mr=(vn=mt=Aa)[0],ui=vn[1],Ri=vn[2],vn=vn[3],mt[0]=tr[0]*Mr+tr[4]*ui+tr[8]*Ri+tr[12]*vn,mt[1]=tr[1]*Mr+tr[5]*ui+tr[9]*Ri+tr[13]*vn,mt[2]=tr[2]*Mr+tr[6]*ui+tr[10]*Ri+tr[14]*vn,mt[3]=tr[3]*Mr+tr[7]*ui+tr[11]*Ri+tr[15]*vn,[Aa[0],Aa[1],Aa[2]]}},gn=or;function or(Ze){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:It,translate3D:Zt,scale3D:Bn,transpose3D:$e},this.update(Ze)}A.Coordinate=vt,A.Coordinate3D=gn,Object.defineProperty(A,"__esModule",{value:!0})})},58126:function(cn,Ne,A){"use strict";A.d(Ne,{Th:function(){return Ka}});var w=A(71374),B=A(73779),ne=A(76082),ue=A(45675),j=A(20),q=A(57904),Y=A(99459),K=A(63777);function H(Cn,Un){var tn=Un.cx,It=tn===void 0?0:tn,Zt=Un.cy,$e=Zt===void 0?0:Zt,Bn=Un.r;Cn.arc(It,$e,Bn,0,Math.PI*2,!1)}function ae(Cn,Un){var tn=Un.cx,It=tn===void 0?0:tn,Zt=Un.cy,$e=Zt===void 0?0:Zt,Bn=Un.rx,Yn=Un.ry;if(Cn.ellipse)Cn.ellipse(It,$e,Bn,Yn,0,0,Math.PI*2,!1);else{var or=Bn>Yn?Bn:Yn,Ze=Bn>Yn?1:Bn/Yn,je=Bn>Yn?Yn/Bn:1;Cn.save(),Cn.scale(Ze,je),Cn.arc(It,$e,or,0,Math.PI*2)}}function ie(Cn,Un){var tn=Un.x1,It=Un.y1,Zt=Un.x2,$e=Un.y2,Bn=Un.markerStart,Yn=Un.markerEnd,or=Un.markerStartOffset,Ze=Un.markerEndOffset,je=0,st=0,St=0,En=0,fn=0,sn,Pn;Bn&&(0,j.RV)(Bn)&&or&&(sn=Zt-tn,Pn=$e-It,fn=Math.atan2(Pn,sn),je=Math.cos(fn)*(or||0),st=Math.sin(fn)*(or||0)),Yn&&(0,j.RV)(Yn)&&Ze&&(sn=tn-Zt,Pn=It-$e,fn=Math.atan2(Pn,sn),St=Math.cos(fn)*(Ze||0),En=Math.sin(fn)*(Ze||0)),Cn.moveTo(tn+je,It+st),Cn.lineTo(Zt+St,$e+En)}function le(Cn,Un){var tn=Un.markerStart,It=Un.markerEnd,Zt=Un.markerStartOffset,$e=Un.markerEndOffset,Bn=Un.d,Yn=Bn.absolutePath,or=Bn.segments,Ze=0,je=0,st=0,St=0,En=0,fn,sn;if(tn&&(0,j.RV)(tn)&&Zt){var Pn=tn.parentNode.getStartTangent(),Hn=(0,Y.Z)(Pn,2),Ut=Hn[0],Yt=Hn[1];fn=Ut[0]-Yt[0],sn=Ut[1]-Yt[1],En=Math.atan2(sn,fn),Ze=Math.cos(En)*(Zt||0),je=Math.sin(En)*(Zt||0)}if(It&&(0,j.RV)(It)&&$e){var Xt=It.parentNode.getEndTangent(),jt=(0,Y.Z)(Xt,2),fr=jt[0],vr=jt[1];fn=fr[0]-vr[0],sn=fr[1]-vr[1],En=Math.atan2(sn,fn),st=Math.cos(En)*($e||0),St=Math.sin(En)*($e||0)}for(var yr=0;yr<Yn.length;yr++){var Br=Yn[yr],Gi=Br[0],qi=Yn[yr+1],$i=yr===0&&(Ze!==0||je!==0),Wi=(yr===Yn.length-1||qi&&(qi[0]==="M"||qi[0]==="Z"))&&st!==0&&St!==0,Ii=$i?[Ze,je]:[0,0],Qa=(0,Y.Z)(Ii,2),on=Qa[0],dn=Qa[1],jn=Wi?[st,St]:[0,0],Ur=(0,Y.Z)(jn,2),Yr=Ur[0],Et=Ur[1];switch(Gi){case"M":Cn.moveTo(Br[1]+on,Br[2]+dn);break;case"L":Cn.lineTo(Br[1]+Yr,Br[2]+Et);break;case"Q":Cn.quadraticCurveTo(Br[1],Br[2],Br[3]+Yr,Br[4]+Et);break;case"C":Cn.bezierCurveTo(Br[1],Br[2],Br[3],Br[4],Br[5]+Yr,Br[6]+Et);break;case"A":{var Ct=or[yr].arcParams,xn=Ct.cx,Xn=Ct.cy,mt=Ct.rx,vn=Ct.ry,tr=Ct.startAngle,Mr=Ct.endAngle,ui=Ct.xRotation,Ri=Ct.sweepFlag;if(Cn.ellipse)Cn.ellipse(xn,Xn,mt,vn,ui,tr,Mr,!!(1-Ri));else{var Aa=mt>vn?mt:vn,Ga=mt>vn?1:mt/vn,vo=mt>vn?vn/mt:1;Cn.translate(xn,Xn),Cn.rotate(ui),Cn.scale(Ga,vo),Cn.arc(0,0,Aa,tr,Mr,!!(1-Ri)),Cn.scale(1/Ga,1/vo),Cn.rotate(-ui),Cn.translate(-xn,-Xn)}Wi&&Cn.lineTo(Br[6]+st,Br[7]+St);break}case"Z":Cn.closePath();break}}}function se(Cn,Un){var tn=Un.markerStart,It=Un.markerEnd,Zt=Un.markerStartOffset,$e=Un.markerEndOffset,Bn=Un.points.points,Yn=Bn.length,or=Bn[0][0],Ze=Bn[0][1],je=Bn[Yn-1][0],st=Bn[Yn-1][1],St=0,En=0,fn=0,sn=0,Pn=0,Hn,Ut;tn&&(0,j.RV)(tn)&&Zt&&(Hn=Bn[1][0]-Bn[0][0],Ut=Bn[1][1]-Bn[0][1],Pn=Math.atan2(Ut,Hn),St=Math.cos(Pn)*(Zt||0),En=Math.sin(Pn)*(Zt||0)),It&&(0,j.RV)(It)&&$e&&(Hn=Bn[Yn-1][0]-Bn[0][0],Ut=Bn[Yn-1][1]-Bn[0][1],Pn=Math.atan2(Ut,Hn),fn=Math.cos(Pn)*($e||0),sn=Math.sin(Pn)*($e||0)),Cn.moveTo(or+(St||fn),Ze+(En||sn));for(var Yt=1;Yt<Yn-1;Yt++){var Xt=Bn[Yt];Cn.lineTo(Xt[0],Xt[1])}Cn.lineTo(je,st)}function ge(Cn,Un){var tn=Un.markerStart,It=Un.markerEnd,Zt=Un.markerStartOffset,$e=Un.markerEndOffset,Bn=Un.points.points,Yn=Bn.length,or=Bn[0][0],Ze=Bn[0][1],je=Bn[Yn-1][0],st=Bn[Yn-1][1],St=0,En=0,fn=0,sn=0,Pn=0,Hn,Ut;tn&&(0,j.RV)(tn)&&Zt&&(Hn=Bn[1][0]-Bn[0][0],Ut=Bn[1][1]-Bn[0][1],Pn=Math.atan2(Ut,Hn),St=Math.cos(Pn)*(Zt||0),En=Math.sin(Pn)*(Zt||0)),It&&(0,j.RV)(It)&&$e&&(Hn=Bn[Yn-2][0]-Bn[Yn-1][0],Ut=Bn[Yn-2][1]-Bn[Yn-1][1],Pn=Math.atan2(Ut,Hn),fn=Math.cos(Pn)*($e||0),sn=Math.sin(Pn)*($e||0)),Cn.moveTo(or+St,Ze+En);for(var Yt=1;Yt<Yn-1;Yt++){var Xt=Bn[Yt];Cn.lineTo(Xt[0],Xt[1])}Cn.lineTo(je+fn,st+sn)}function ye(Cn,Un){var tn=Un.x,It=tn===void 0?0:tn,Zt=Un.y,$e=Zt===void 0?0:Zt,Bn=Un.radius,Yn=Un.width,or=Un.height,Ze=Yn,je=or,st=Bn&&Bn.some(function(jt){return jt!==0});if(!st)Cn.rect(It,$e,Ze,je);else{var St=Yn>0?1:-1,En=or>0?1:-1,fn=St+En===0,sn=Bn.map(function(jt){return(0,K.Z)(jt,0,Math.min(Math.abs(Ze)/2,Math.abs(je)/2))}),Pn=(0,Y.Z)(sn,4),Hn=Pn[0],Ut=Pn[1],Yt=Pn[2],Xt=Pn[3];Cn.moveTo(St*Hn+It,$e),Cn.lineTo(Ze-St*Ut+It,$e),Ut!==0&&Cn.arc(Ze-St*Ut+It,En*Ut+$e,Ut,-En*Math.PI/2,St>0?0:Math.PI,fn),Cn.lineTo(Ze+It,je-En*Yt+$e),Yt!==0&&Cn.arc(Ze-St*Yt+It,je-En*Yt+$e,Yt,St>0?0:Math.PI,En>0?Math.PI/2:1.5*Math.PI,fn),Cn.lineTo(St*Xt+It,je+$e),Xt!==0&&Cn.arc(St*Xt+It,je-En*Xt+$e,Xt,En>0?Math.PI/2:-Math.PI/2,St>0?Math.PI:0,fn),Cn.lineTo(It,En*Hn+$e),Hn!==0&&Cn.arc(St*Hn+It,En*Hn+$e,Hn,St>0?Math.PI:0,En>0?Math.PI*1.5:Math.PI/2,fn)}}var ve=function(Cn){function Un(){var tn;(0,B.Z)(this,Un);for(var It=arguments.length,Zt=new Array(It),$e=0;$e<It;$e++)Zt[$e]=arguments[$e];return tn=(0,ne.Z)(this,Un,[].concat(Zt)),tn.name="canvas-path-generator",tn}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"init",value:function(){var It,Zt=(It={},(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)(It,j.bn.CIRCLE,H),j.bn.ELLIPSE,ae),j.bn.RECT,ye),j.bn.LINE,ie),j.bn.POLYLINE,ge),j.bn.POLYGON,se),j.bn.PATH,le),j.bn.TEXT,void 0),j.bn.GROUP,void 0),j.bn.IMAGE,void 0),(0,q.Z)((0,q.Z)((0,q.Z)(It,j.bn.HTML,void 0),j.bn.MESH,void 0),j.bn.FRAGMENT,void 0));this.context.pathGeneratorFactory=Zt}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(j.F6),fe=A(58171),Fe=A(69501),yt=A(81517),gt=A(54442),pt=A(39536),lt=A(46440),Ke=A(40044),Ue=A(98037);var Pt=gt.Ue(),Gt=gt.Ue(),rn=gt.Ue(),_n=pt.create(),qe=function(){function Cn(){var Un=this;(0,B.Z)(this,Cn),this.isHit=function(tn,It,Zt,$e){var Bn=Un.context.pointInPathPickerFactory[tn.nodeName];if(Bn){var Yn=pt.invert(_n,Zt),or=gt.fF(Gt,gt.t8(rn,It[0],It[1],0),Yn);if(Bn(tn,new j.E9(or[0],or[1]),$e,Un.isPointInPath,Un.context,Un.runtime))return!0}return!1},this.isPointInPath=function(tn,It){var Zt=Un.runtime.offscreenCanvasCreator.getOrCreateContext(Un.context.config.offscreenCanvas),$e=Un.context.pathGeneratorFactory[tn.nodeName];return $e&&(Zt.beginPath(),$e(Zt,tn.parsedStyle),Zt.closePath()),Zt.isPointInPath(It.x,It.y)}}return(0,w.Z)(Cn,[{key:"apply",value:function(tn,It){var Zt,$e=this,Bn=tn.renderingService,Yn=tn.renderingContext;this.context=tn,this.runtime=It;var or=(Zt=Yn.root)===null||Zt===void 0?void 0:Zt.ownerDocument;Bn.hooks.pick.tapPromise(Cn.tag,function(){var Ze=(0,yt.Z)((0,Fe.Z)().mark(function je(st){return(0,Fe.Z)().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:return En.abrupt("return",$e.pick(or,st));case 1:case"end":return En.stop()}},je)}));return function(je){return Ze.apply(this,arguments)}}()),Bn.hooks.pickSync.tap(Cn.tag,function(Ze){return $e.pick(or,Ze)})}},{key:"pick",value:function(tn,It){var Zt=It.topmost,$e=It.position,Bn=$e.x,Yn=$e.y,or=gt.t8(Pt,Bn,Yn,0),Ze=tn.elementsFromBBox(or[0],or[1],or[0],or[1]),je=[],st=(0,fe.Z)(Ze),St;try{for(st.s();!(St=st.n()).done;){var En=St.value,fn=En.getWorldTransform(),sn=this.isHit(En,or,fn,!1);if(sn){var Pn=(0,j.Oi)(En);if(Pn){var Hn=Pn.parsedStyle.clipPath,Ut=this.isHit(Hn,or,Hn.getWorldTransform(),!0);if(Ut){if(Zt)return It.picked=[En],It;je.push(En)}}else{if(Zt)return It.picked=[En],It;je.push(En)}}}}catch(Yt){st.e(Yt)}finally{st.f()}return It.picked=je,It}}])}();qe.tag="CanvasPicker";function Nt(Cn,Un,tn){var It=Cn.parsedStyle,Zt=It.cx,$e=Zt===void 0?0:Zt,Bn=It.cy,Yn=Bn===void 0?0:Bn,or=It.r,Ze=It.fill,je=It.stroke,st=It.lineWidth,St=st===void 0?1:st,En=It.increasedLineWidthForHitTesting,fn=En===void 0?0:En,sn=It.pointerEvents,Pn=sn===void 0?"auto":sn,Hn=(St+fn)/2,Ut=(0,lt.TE)($e,Yn,Un.x,Un.y),Yt=(0,j.L1)(Pn,Ze,je),Xt=(0,Y.Z)(Yt,2),jt=Xt[0],fr=Xt[1];return jt&&fr||tn?Ut<=or+Hn:jt?Ut<=or:fr?Ut>=or-Hn&&Ut<=or+Hn:!1}function ft(Cn,Un,tn,It){return Cn/(tn*tn)+Un/(It*It)}function ln(Cn,Un,tn){var It=Cn.parsedStyle,Zt=It.cx,$e=Zt===void 0?0:Zt,Bn=It.cy,Yn=Bn===void 0?0:Bn,or=It.rx,Ze=It.ry,je=It.fill,st=It.stroke,St=It.lineWidth,En=St===void 0?1:St,fn=It.increasedLineWidthForHitTesting,sn=fn===void 0?0:fn,Pn=It.pointerEvents,Hn=Pn===void 0?"auto":Pn,Ut=Un.x,Yt=Un.y,Xt=(0,j.L1)(Hn,je,st),jt=(0,Y.Z)(Xt,2),fr=jt[0],vr=jt[1],yr=(En+sn)/2,Br=(Ut-$e)*(Ut-$e),Gi=(Yt-Yn)*(Yt-Yn);return fr&&vr||tn?ft(Br,Gi,or+yr,Ze+yr)<=1:fr?ft(Br,Gi,or,Ze)<=1:vr?ft(Br,Gi,or-yr,Ze-yr)>=1&&ft(Br,Gi,or+yr,Ze+yr)<=1:!1}function tt(Cn,Un,tn,It,Zt,$e){return Zt>=Cn&&Zt<=Cn+tn&&$e>=Un&&$e<=Un+It}function Pe(Cn,Un,tn,It,Zt,$e,Bn){var Yn=Zt/2;return tt(Cn-Yn,Un-Yn,tn,Zt,$e,Bn)||tt(Cn+tn-Yn,Un-Yn,Zt,It,$e,Bn)||tt(Cn+Yn,Un+It-Yn,tn,Zt,$e,Bn)||tt(Cn-Yn,Un+Yn,Zt,It,$e,Bn)}function Qe(Cn,Un,tn,It,Zt,$e,Bn,Yn){var or=(Math.atan2(Yn-Un,Bn-Cn)+Math.PI*2)%(Math.PI*2),Ze={x:Cn+tn*Math.cos(or),y:Un+tn*Math.sin(or)};return(0,lt.TE)(Ze.x,Ze.y,Bn,Yn)<=$e/2}function He(Cn,Un,tn,It,Zt,$e,Bn){var Yn=Math.min(Cn,tn),or=Math.max(Cn,tn),Ze=Math.min(Un,It),je=Math.max(Un,It),st=Zt/2;return $e>=Yn-st&&$e<=or+st&&Bn>=Ze-st&&Bn<=je+st?(0,lt._x)(Cn,Un,tn,It,$e,Bn)<=Zt/2:!1}function _t(Cn,Un,tn,It,Zt){var $e=Cn.length;if($e<2)return!1;for(var Bn=0;Bn<$e-1;Bn++){var Yn=Cn[Bn][0],or=Cn[Bn][1],Ze=Cn[Bn+1][0],je=Cn[Bn+1][1];if(He(Yn,or,Ze,je,Un,tn,It))return!0}if(Zt){var st=Cn[0],St=Cn[$e-1];if(He(st[0],st[1],St[0],St[1],Un,tn,It))return!0}return!1}var Bt=1e-6;function At(Cn){return Math.abs(Cn)<Bt?0:Cn<0?-1:1}function Je(Cn,Un,tn){return(tn[0]-Cn[0])*(Un[1]-Cn[1])===(Un[0]-Cn[0])*(tn[1]-Cn[1])&&Math.min(Cn[0],Un[0])<=tn[0]&&tn[0]<=Math.max(Cn[0],Un[0])&&Math.min(Cn[1],Un[1])<=tn[1]&&tn[1]<=Math.max(Cn[1],Un[1])}function zt(Cn,Un,tn){var It=!1,Zt=Cn.length;if(Zt<=2)return!1;for(var $e=0;$e<Zt;$e++){var Bn=Cn[$e],Yn=Cn[($e+1)%Zt];if(Je(Bn,Yn,[Un,tn]))return!0;At(Bn[1]-tn)>0!=At(Yn[1]-tn)>0&&At(Un-(tn-Bn[1])*(Bn[0]-Yn[0])/(Bn[1]-Yn[1])-Bn[0])<0&&(It=!It)}return It}function mn(Cn,Un,tn){for(var It=!1,Zt=0;Zt<Cn.length;Zt++){var $e=Cn[Zt];if(It=zt($e,Un,tn),It)break}return It}function Ot(Cn,Un,tn){var It=Cn.parsedStyle,Zt=It.x1,$e=It.y1,Bn=It.x2,Yn=It.y2,or=It.lineWidth,Ze=or===void 0?1:or,je=It.increasedLineWidthForHitTesting,st=je===void 0?0:je,St=It.pointerEvents,En=St===void 0?"auto":St,fn=It.fill,sn=It.stroke,Pn=(0,j.L1)(En,fn,sn),Hn=(0,Y.Z)(Pn,2),Ut=Hn[1];return!Ut&&!tn||!Ze?!1:He(Zt,$e,Bn,Yn,Ze+st,Un.x,Un.y)}function Xe(Cn,Un,tn,It,Zt){for(var $e=!1,Bn=Un/2,Yn=0;Yn<Cn.length;Yn++){var or=Cn[Yn],Ze=or.currentPoint,je=or.params,st=or.prePoint,St=or.box;if(!(St&&!tt(St.x-Bn,St.y-Bn,St.width+Un,St.height+Un,tn,It)))switch(or.command){case"L":case"Z":if($e=He(st[0],st[1],Ze[0],Ze[1],Un,tn,It),$e)return!0;break;case"Q":var En=(0,lt.Y1)(st[0],st[1],je[1],je[2],je[3],je[4],tn,It);if($e=En<=Un/2,$e)return!0;break;case"C":var fn=(0,lt.ph)(st[0],st[1],je[1],je[2],je[3],je[4],je[5],je[6],tn,It,Zt);if($e=fn<=Un/2,$e)return!0;break;case"A":or.cubicParams||(or.cubicParams=(0,Ke.W)(st[0],st[1],je[1],je[2],je[3],je[4],je[5],je[6],je[7],void 0));for(var sn=or.cubicParams,Pn=st,Hn=0;Hn<sn.length;Hn+=6){var Ut=(0,lt.ph)(Pn[0],Pn[1],sn[Hn],sn[Hn+1],sn[Hn+2],sn[Hn+3],sn[Hn+4],sn[Hn+5],tn,It,Zt);if(Pn=[sn[Hn+4],sn[Hn+5]],$e=Ut<=Un/2,$e)return!0}break}}return $e}function ct(Cn,Un,tn,It,Zt,$e){var Bn=Cn.parsedStyle,Yn=Bn.lineWidth,or=Yn===void 0?1:Yn,Ze=Bn.increasedLineWidthForHitTesting,je=Ze===void 0?0:Ze,st=Bn.stroke,St=Bn.fill,En=Bn.d,fn=Bn.pointerEvents,sn=fn===void 0?"auto":fn,Pn=En.segments,Hn=En.hasArc,Ut=En.polylines,Yt=En.polygons,Xt=(0,j.L1)(sn,(Yt==null?void 0:Yt.length)&&St,st),jt=(0,Y.Z)(Xt,2),fr=jt[0],vr=jt[1],yr=(0,j.gz)(Cn),Br=!1;return fr||tn?(Hn?Br=It(Cn,Un):Br=mn(Yt,Un.x,Un.y)||mn(Ut,Un.x,Un.y),Br):((vr||tn)&&(Br=Xe(Pn,or+je,Un.x,Un.y,yr)),Br)}function Rt(Cn,Un,tn){var It=Cn.parsedStyle,Zt=It.stroke,$e=It.fill,Bn=It.lineWidth,Yn=Bn===void 0?1:Bn,or=It.increasedLineWidthForHitTesting,Ze=or===void 0?0:or,je=It.points,st=It.pointerEvents,St=st===void 0?"auto":st,En=(0,j.L1)(St,$e,Zt),fn=(0,Y.Z)(En,2),sn=fn[0],Pn=fn[1],Hn=!1;return(Pn||tn)&&(Hn=_t(je.points,Yn+Ze,Un.x,Un.y,!0)),!Hn&&(sn||tn)&&(Hn=zt(je.points,Un.x,Un.y)),Hn}function Oe(Cn,Un,tn){var It=Cn.parsedStyle,Zt=It.lineWidth,$e=Zt===void 0?1:Zt,Bn=It.increasedLineWidthForHitTesting,Yn=Bn===void 0?0:Bn,or=It.points,Ze=It.pointerEvents,je=Ze===void 0?"auto":Ze,st=It.fill,St=It.stroke,En=(0,j.L1)(je,st,St),fn=(0,Y.Z)(En,2),sn=fn[1];return!sn&&!tn||!$e?!1:_t(or.points,$e+Yn,Un.x,Un.y,!1)}function Ge(Cn,Un,tn,It,Zt){var $e=Cn.parsedStyle,Bn=$e.radius,Yn=$e.fill,or=$e.stroke,Ze=$e.lineWidth,je=Ze===void 0?1:Ze,st=$e.increasedLineWidthForHitTesting,St=st===void 0?0:st,En=$e.x,fn=En===void 0?0:En,sn=$e.y,Pn=sn===void 0?0:sn,Hn=$e.width,Ut=$e.height,Yt=$e.pointerEvents,Xt=Yt===void 0?"auto":Yt,jt=(0,j.L1)(Xt,Yn,or),fr=(0,Y.Z)(jt,2),vr=fr[0],yr=fr[1],Br=Bn&&Bn.some(function(Wi){return Wi!==0}),Gi=je+St;if(Br){var $i=!1;return(yr||tn)&&($i=Vt(fn,Pn,Hn,Ut,Bn.map(function(Wi){return(0,K.Z)(Wi,0,Math.min(Math.abs(Hn)/2,Math.abs(Ut)/2))}),Gi,Un.x,Un.y)),!$i&&(vr||tn)&&($i=It(Cn,Un)),$i}else{var qi=Gi/2;if(vr&&yr||tn)return tt(fn-qi,Pn-qi,Hn+qi,Ut+qi,Un.x,Un.y);if(vr)return tt(fn,Pn,Hn,Ut,Un.x,Un.y);if(yr)return Pe(fn,Pn,Hn,Ut,Gi,Un.x,Un.y)}return!1}function Vt(Cn,Un,tn,It,Zt,$e,Bn,Yn){var or=(0,Y.Z)(Zt,4),Ze=or[0],je=or[1],st=or[2],St=or[3];return He(Cn+Ze,Un,Cn+tn-je,Un,$e,Bn,Yn)||He(Cn+tn,Un+je,Cn+tn,Un+It-st,$e,Bn,Yn)||He(Cn+tn-st,Un+It,Cn+St,Un+It,$e,Bn,Yn)||He(Cn,Un+It-St,Cn,Un+Ze,$e,Bn,Yn)||Qe(Cn+tn-je,Un+je,je,1.5*Math.PI,2*Math.PI,$e,Bn,Yn)||Qe(Cn+tn-st,Un+It-st,st,0,.5*Math.PI,$e,Bn,Yn)||Qe(Cn+St,Un+It-St,St,.5*Math.PI,Math.PI,$e,Bn,Yn)||Qe(Cn+Ze,Un+Ze,Ze,Math.PI,1.5*Math.PI,$e,Bn,Yn)}function De(Cn,Un,tn,It,Zt,$e){var Bn=Cn.parsedStyle,Yn=Bn.pointerEvents,or=Yn===void 0?"auto":Yn,Ze=Bn.x,je=Ze===void 0?0:Ze,st=Bn.y,St=st===void 0?0:st,En=Bn.width,fn=Bn.height;if(or==="non-transparent-pixel"){var sn=Zt.config.offscreenCanvas,Pn=$e.offscreenCanvasCreator.getOrCreateCanvas(sn),Hn=$e.offscreenCanvasCreator.getOrCreateContext(sn,{willReadFrequently:!0});Pn.width=En,Pn.height=fn,Zt.defaultStyleRendererFactory[j.bn.IMAGE].render(Hn,(0,Ue.Z)((0,Ue.Z)({},Cn.parsedStyle),{},{x:0,y:0}),Cn,void 0,void 0,void 0);var Ut=Hn.getImageData(Un.x-je,Un.y-St,1,1).data;return Ut.every(function(Yt){return Yt!==0})}return!0}function et(Cn,Un,tn,It){var Zt=Cn.getGeometryBounds();return Un.x>=Zt.min[0]&&Un.y>=Zt.min[1]&&Un.x<=Zt.max[0]&&Un.y<=Zt.max[1]}var Ce=function(Cn){function Un(){var tn;(0,B.Z)(this,Un);for(var It=arguments.length,Zt=new Array(It),$e=0;$e<It;$e++)Zt[$e]=arguments[$e];return tn=(0,ne.Z)(this,Un,[].concat(Zt)),tn.name="canvas-picker",tn}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"init",value:function(){var It,Zt=(It={},(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)(It,j.bn.CIRCLE,Nt),j.bn.ELLIPSE,ln),j.bn.RECT,Ge),j.bn.LINE,Ot),j.bn.POLYLINE,Oe),j.bn.POLYGON,Rt),j.bn.PATH,ct),j.bn.TEXT,et),j.bn.GROUP,null),j.bn.IMAGE,De),(0,q.Z)((0,q.Z)(It,j.bn.HTML,null),j.bn.MESH,null));this.context.pointInPathPickerFactory=Zt,this.addRenderingPlugin(new qe)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(j.F6),J=A(35047);function Le(Cn,Un){if(!{}.hasOwnProperty.call(Cn,Un))throw new TypeError("attempted to use private field on non-instance");return Cn}var Jt=0;function Be(Cn){return"__private_"+Jt+++"_"+Cn}var In=A(54663),cr=A(43706);var bn=function(){function Cn(){(0,B.Z)(this,Cn),this.cacheStore=new Map}return(0,w.Z)(Cn,[{key:"onRefAdded",value:function(tn){}},{key:"has",value:function(tn){return this.cacheStore.has(tn)}},{key:"put",value:function(tn,It,Zt){return this.cacheStore.has(tn)?!1:(this.cacheStore.set(tn,{value:It,counter:new Set([Zt])}),this.onRefAdded(Zt),!0)}},{key:"get",value:function(tn,It){var Zt=this.cacheStore.get(tn);return Zt?(Zt.counter.has(It)||(Zt.counter.add(It),this.onRefAdded(It)),Zt.value):null}},{key:"update",value:function(tn,It,Zt){var $e=this.cacheStore.get(tn);return $e?($e.value=(0,Ue.Z)((0,Ue.Z)({},$e.value),It),$e.counter.has(Zt)||($e.counter.add(Zt),this.onRefAdded(Zt)),!0):!1}},{key:"release",value:function(tn,It){var Zt=this.cacheStore.get(tn);return Zt?(Zt.counter.delete(It),Zt.counter.size<=0&&this.cacheStore.delete(tn),!0):!1}},{key:"releaseRef",value:function(tn){var It=this;Array.from(this.cacheStore.keys()).forEach(function(Zt){It.release(Zt,tn)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),ir=[],Nr=[],Ar=function(){function Cn(){(0,B.Z)(this,Cn)}return(0,w.Z)(Cn,null,[{key:"stop",value:function(){var tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cn.api;Cn.rafId&&(tn.cancelAnimationFrame(Cn.rafId),Cn.rafId=null)}},{key:"executeTask",value:function(){var tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cn.api;ir.length<=0&&Nr.length<=0||(Nr.forEach(function(It){return It()}),Nr=ir.splice(0,Cn.TASK_NUM_PER_FRAME),Cn.rafId=tn.requestAnimationFrame(function(){Cn.executeTask(tn)}))}},{key:"sliceImage",value:function(tn,It,Zt,$e){for(var Bn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Yn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Cn.api,or=tn.naturalWidth||tn.width,Ze=tn.naturalHeight||tn.height,je=It-Bn,st=Zt-Bn,St=Math.ceil(or/je),En=Math.ceil(Ze/st),fn={tileSize:[It,Zt],gridSize:[En,St],tiles:Array(En).fill(null).map(function(){return Array(St).fill(null)})},sn=function(Ut){for(var Yt=function(fr){ir.push(function(){var vr=fr*je,yr=Ut*st,Br=[Math.min(It,or-vr),Math.min(Zt,Ze-yr)],Gi=Br[0],qi=Br[1],$i=Yn.createCanvas();$i.width=It,$i.height=Zt;var Wi=$i.getContext("2d");Wi.drawImage(tn,vr,yr,Gi,qi,0,0,Gi,qi),fn.tiles[Ut][fr]={x:vr,y:yr,tileX:fr,tileY:Ut,data:$i},$e()})},Xt=0;Xt<St;Xt++)Yt(Xt)},Pn=0;Pn<En;Pn++)sn(Pn);return Cn.stop(),Cn.executeTask(),fn}}])}();Ar.TASK_NUM_PER_FRAME=10;var Zr=new bn;Zr.onRefAdded=function(Un){var tn=this;Un.addEventListener(j.Dk.DESTROY,function(){tn.releaseRef(Un)},{once:!0})};var wi=function(){function Cn(Un,tn){(0,B.Z)(this,Cn),this.gradientCache={},this.patternCache={},this.context=Un,this.runtime=tn}return(0,w.Z)(Cn,[{key:"getImageSync",value:function(tn,It,Zt){var $e=(0,cr.Z)(tn)?tn:tn.src;if(Zr.has($e)){var Bn=Zr.get($e,It);if(Bn.img.complete)return Zt==null||Zt(Bn),Bn}return this.getOrCreateImage(tn,It).then(function(Yn){Zt==null||Zt(Yn)}).catch(function(){}),null}},{key:"getOrCreateImage",value:function(tn,It){var Zt=(0,cr.Z)(tn)?tn:tn.src;if(!(0,cr.Z)(tn)&&!Zr.has(Zt)){var $e={img:tn,size:[tn.naturalWidth||tn.width,tn.naturalHeight||tn.height],tileSize:Ln(tn)};Zr.put(Zt,$e,It)}if(Zr.has(Zt)){var Bn=Zr.get(Zt,It);return Bn.img.complete?Promise.resolve(Bn):new Promise(function(or,Ze){Bn.img.addEventListener("load",function(){Bn.size=[Bn.img.naturalWidth||Bn.img.width,Bn.img.naturalHeight||Bn.img.height],Bn.tileSize=Ln(Bn.img),or(Bn)}),Bn.img.addEventListener("error",function(je){Ze(je)})})}var Yn=this.context.config.createImage;return new Promise(function(or,Ze){var je;if(Yn?je=Yn(Zt):j.jU&&(je=new window.Image),je){var st={img:je,size:[0,0],tileSize:Ln(je)};Zr.put(Zt,st,It),je.onload=function(){st.size=[je.naturalWidth||je.width,je.naturalHeight||je.height],st.tileSize=Ln(st.img),or(st)},je.onerror=function(St){Ze(St)},je.crossOrigin="Anonymous",je.src=Zt}})}},{key:"createDownSampledImage",value:function(){var Un=(0,yt.Z)((0,Fe.Z)().mark(function It(Zt,$e){var Bn,Yn,or,Ze,je,st,St,En,fn,sn,Pn,Hn,Ut,Yt;return(0,Fe.Z)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return jt.next=2,this.getOrCreateImage(Zt,$e);case 2:if(Bn=jt.sent,typeof Bn.downSamplingRate=="undefined"){jt.next=5;break}return jt.abrupt("return",Bn);case 5:if(Yn=this.context.config.enableLargeImageOptimization,or=typeof Yn=="boolean"?{}:Yn,Ze=or.maxDownSampledImageSize,je=Ze===void 0?2048:Ze,st=or.downSamplingRateThreshold,St=st===void 0?.5:st,En=this.runtime.globalThis.createImageBitmap,fn=(0,Y.Z)(Bn.size,2),sn=fn[0],Pn=fn[1],Hn=Bn.img,Ut=Math.min((je+je)/(sn+Pn),Math.max(.01,Math.min(St,.5))),Yt=(0,Ue.Z)((0,Ue.Z)({},Bn),{},{downSamplingRate:Ut}),Zr.update(Bn.img.src,Yt,$e),!En){jt.next=25;break}return jt.prev=14,jt.next=17,En(Bn.img,{resizeWidth:sn*Ut,resizeHeight:Pn*Ut});case 17:Hn=jt.sent,jt.next=23;break;case 20:jt.prev=20,jt.t0=jt.catch(14),Ut=1;case 23:jt.next=26;break;case 25:Ut=1;case 26:return Yt=(0,Ue.Z)((0,Ue.Z)({},this.getImageSync(Zt,$e)),{},{downSampled:Hn,downSamplingRate:Ut}),Zr.update(Bn.img.src,Yt,$e),jt.abrupt("return",Yt);case 29:case"end":return jt.stop()}},It,this,[[14,20]])}));function tn(It,Zt){return Un.apply(this,arguments)}return tn}()},{key:"createImageTiles",value:function(){var Un=(0,yt.Z)((0,Fe.Z)().mark(function It(Zt,$e,Bn,Yn){var or,Ze,je,st,St;return(0,Fe.Z)().wrap(function(fn){for(;;)switch(fn.prev=fn.next){case 0:return fn.next=2,this.getOrCreateImage(Zt,Yn);case 2:return or=fn.sent,Ze=Yn.ownerDocument.defaultView,je=Ze.requestAnimationFrame,st=Ze.cancelAnimationFrame,Ar.api={requestAnimationFrame:je,cancelAnimationFrame:st,createCanvas:function(){return j.jB.createCanvas()}},St=(0,Ue.Z)((0,Ue.Z)({},or),Ar.sliceImage(or.img,or.tileSize[0],or.tileSize[0],Bn)),Zr.update(or.img.src,St,Yn),fn.abrupt("return",St);case 8:case"end":return fn.stop()}},It,this)}));function tn(It,Zt,$e,Bn){return Un.apply(this,arguments)}return tn}()},{key:"releaseImage",value:function(tn,It){Zr.release((0,cr.Z)(tn)?tn:tn.src,It)}},{key:"releaseImageRef",value:function(tn){Zr.releaseRef(tn)}},{key:"getOrCreatePatternSync",value:function(tn,It,Zt,$e,Bn,Yn,or){var Ze=this.generatePatternKey(It);if(Ze&&this.patternCache[Ze])return this.patternCache[Ze];var je=It.image,st=It.repetition,St=It.transform,En,fn=!1;if((0,cr.Z)(je)){var sn=this.getImageSync(je,tn,or);En=sn==null?void 0:sn.img}else $e?(En=$e,fn=!0):En=je;var Pn=En&&Zt.createPattern(En,st);if(Pn){var Hn;St?Hn=(0,j.G0)((0,j.G$)(St),new j.s$({})):Hn=pt.identity(pt.create()),fn&&pt.scale(Hn,Hn,[1/Bn,1/Bn,1]),Pn.setTransform({a:Hn[0],b:Hn[1],c:Hn[4],d:Hn[5],e:Hn[12]+Yn[0],f:Hn[13]+Yn[1]})}return Ze&&Pn&&(this.patternCache[Ze]=Pn),Pn}},{key:"getOrCreateGradient",value:function(tn,It){var Zt=this.generateGradientKey(tn),$e=tn.type,Bn=tn.steps,Yn=tn.min,or=tn.width,Ze=tn.height,je=tn.angle,st=tn.cx,St=tn.cy,En=tn.size;if(this.gradientCache[Zt])return this.gradientCache[Zt];var fn=null;if($e===j.GL.LinearGradient){var sn=(0,j.Rx)(Yn,or,Ze,je),Pn=sn.x1,Hn=sn.y1,Ut=sn.x2,Yt=sn.y2;fn=It.createLinearGradient(Pn,Hn,Ut,Yt)}else if($e===j.GL.RadialGradient){var Xt=(0,j.o6)(Yn,or,Ze,st,St,En),jt=Xt.x,fr=Xt.y,vr=Xt.r;fn=It.createRadialGradient(jt,fr,0,jt,fr,vr)}return fn&&(Bn.forEach(function(yr){var Br=yr.offset,Gi=yr.color;if(Br.unit===j.Cm.kPercentage){var qi;(qi=fn)===null||qi===void 0||qi.addColorStop(Br.value/100,Gi.toString())}}),this.gradientCache[Zt]=fn),this.gradientCache[Zt]}},{key:"generateGradientKey",value:function(tn){var It=tn.type,Zt=tn.min,$e=tn.width,Bn=tn.height,Yn=tn.steps,or=tn.angle,Ze=tn.cx,je=tn.cy,st=tn.size;return"gradient-".concat(It,"-").concat((or==null?void 0:or.toString())||0,"-").concat((Ze==null?void 0:Ze.toString())||0,"-").concat((je==null?void 0:je.toString())||0,"-").concat((st==null?void 0:st.toString())||0,"-").concat(Zt[0],"-").concat(Zt[1],"-").concat($e,"-").concat(Bn,"-").concat(Yn.map(function(St){var En=St.offset,fn=St.color;return"".concat(En).concat(fn)}).join("-"))}},{key:"generatePatternKey",value:function(tn){var It=tn.image,Zt=tn.repetition;if((0,cr.Z)(It))return"pattern-".concat(It,"-").concat(Zt);if(It.nodeName==="rect")return"pattern-".concat(It.entity,"-").concat(Zt)}}])}();wi.isSupportTile=!!j.jB.createCanvas();function Ln(Cn){if(!Cn.complete)return[0,0];var Un=Cn.naturalWidth||Cn.width,tn=Cn.naturalHeight||Cn.height,It=256;return[256,512].forEach(function(Zt){var $e=Math.ceil(tn/Zt),Bn=Math.ceil(Un/Zt);$e*Bn<1e3&&(It=Zt)}),[It,It]}var Nn=function(){function Cn(){(0,B.Z)(this,Cn)}return(0,w.Z)(Cn,[{key:"apply",value:function(tn){var It=tn.renderingService,Zt=tn.renderingContext,$e=tn.imagePool,Bn=Zt.root.ownerDocument.defaultView,Yn=function(st,St,En){var fn=st.parsedStyle,sn=fn.width,Pn=fn.height;sn&&!Pn?st.setAttribute("height",En/St*sn):!sn&&Pn&&st.setAttribute("width",St/En*Pn)},or=function(st){var St=st.target,En=St.nodeName,fn=St.attributes;if(En===j.bn.IMAGE){var sn=fn.src,Pn=fn.keepAspectRatio;$e.getImageSync(sn,St,function(Hn){var Ut=Hn.img,Yt=Ut.width,Xt=Ut.height;Pn&&Yn(St,Yt,Xt),St.renderable.dirty=!0,It.dirtify()})}},Ze=function(st){var St=st.target,En=st.attrName,fn=st.prevValue,sn=st.newValue;St.nodeName!==j.bn.IMAGE||En!=="src"||(fn!==sn&&$e.releaseImage(fn,St),(0,cr.Z)(sn)&&$e.getOrCreateImage(sn,St).then(function(Pn){var Hn=Pn.img,Ut=Hn.width,Yt=Hn.height;St.attributes.keepAspectRatio&&Yn(St,Ut,Yt),St.renderable.dirty=!0,It.dirtify()}).catch(function(){}))};It.hooks.init.tap(Cn.tag,function(){Bn.addEventListener(j.Dk.MOUNTED,or),Bn.addEventListener(j.Dk.ATTR_MODIFIED,Ze)}),It.hooks.destroy.tap(Cn.tag,function(){Bn.removeEventListener(j.Dk.MOUNTED,or),Bn.removeEventListener(j.Dk.ATTR_MODIFIED,Ze)})}}])}();Nn.tag="LoadImage";var $n=function(Cn){function Un(){var tn;(0,B.Z)(this,Un);for(var It=arguments.length,Zt=new Array(It),$e=0;$e<It;$e++)Zt[$e]=arguments[$e];return tn=(0,ne.Z)(this,Un,[].concat(Zt)),tn.name="image-loader",tn}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"init",value:function(It){this.context.imagePool=new wi(this.context,It),this.addRenderingPlugin(new Nn)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(j.F6);var wn=Be("renderState"),nt=function(){function Cn(Un){(0,B.Z)(this,Cn),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,wn,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=pt.create(),this.dprMatrix=pt.create(),this.tmpMat4=pt.create(),this.vec3a=gt.Ue(),this.vec3b=gt.Ue(),this.vec3c=gt.Ue(),this.vec3d=gt.Ue(),this.canvasRendererPluginOptions=Un}return(0,w.Z)(Cn,[{key:"apply",value:function(tn,It){var Zt=this;this.context=tn;var $e=this.context,Bn=$e.config,Yn=$e.camera,or=$e.renderingService,Ze=$e.renderingContext,je=$e.rBushRoot,st=$e.pathGeneratorFactory,St=Bn.renderer.getConfig().enableRenderingOptimization;Bn.renderer.getConfig().enableDirtyCheck=!1,Bn.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=je,this.pathGeneratorFactory=st;var En=tn.contextService,fn=Ze.root.ownerDocument.defaultView,sn=function(Yt){var Xt=Yt.target,jt=Xt.rBushNode;jt.aabb&&Zt.removedRBushNodeAABBs.push(jt.aabb)},Pn=function(Yt){var Xt=Yt.target,jt=Xt.rBushNode;jt.aabb&&Zt.removedRBushNodeAABBs.push(jt.aabb)};or.hooks.init.tap(Cn.tag,function(){fn.addEventListener(j.Dk.UNMOUNTED,sn),fn.addEventListener(j.Dk.CULLED,Pn);var Ut=En.getDPR(),Yt=Bn.width,Xt=Bn.height,jt=En.getContext();Zt.clearRect(jt,0,0,Yt*Ut,Xt*Ut,Bn.background)}),or.hooks.destroy.tap(Cn.tag,function(){fn.removeEventListener(j.Dk.UNMOUNTED,sn),fn.removeEventListener(j.Dk.CULLED,Pn),Zt.renderQueue=[],Zt.removedRBushNodeAABBs=[],Le(Zt,wn)[wn]={restoreStack:[],prevObject:null,currentContext:null}}),or.hooks.beginFrame.tap(Cn.tag,function(){var Ut,Yt=En.getContext(),Xt=En.getDPR(),jt=Bn.width,fr=Bn.height,vr=Zt.canvasRendererPluginOptions,yr=vr.dirtyObjectNumThreshold,Br=vr.dirtyObjectRatioThreshold,Gi=or.getStats(),qi=Gi.total,$i=Gi.rendered,Wi=$i/qi;Zt.clearFullScreen=Zt.clearFullScreenLastFrame||!((Ut=fn.context.renderingPlugins[1])!==null&&Ut!==void 0&&Ut.isFirstTimeRenderingFinished)||or.disableDirtyRectangleRendering()||$i>yr&&Wi>Br,Yt&&(typeof Yt.resetTransform=="function"?Yt.resetTransform():Yt.setTransform(1,0,0,1,0,0),Zt.clearFullScreen&&Zt.clearRect(Yt,0,0,jt*Xt,fr*Xt,Bn.background))});var Hn=function(Yt,Xt){for(var jt=[Yt];jt.length>0;){var fr=jt.pop();fr.isVisible()&&!fr.isCulled()&&(St?Zt.renderDisplayObjectOptimized(fr,Xt,Zt.context,Le(Zt,wn)[wn],It):Zt.renderDisplayObject(fr,Xt,Zt.context,Le(Zt,wn)[wn],It));for(var vr=fr.sortable.sorted||fr.childNodes,yr=vr.length-1;yr>=0;yr--)jt.push(vr[yr])}};or.hooks.endFrame.tap(Cn.tag,function(){if(Ze.root.childNodes.length===0){Zt.clearFullScreenLastFrame=!0;return}St=Bn.renderer.getConfig().enableRenderingOptimization,Le(Zt,wn)[wn]={restoreStack:[],prevObject:null,currentContext:Le(Zt,wn)[wn].currentContext},Le(Zt,wn)[wn].currentContext.clear(),Zt.clearFullScreenLastFrame=!1;var Ut=En.getContext(),Yt=En.getDPR();if(pt.fromScaling(Zt.dprMatrix,[Yt,Yt,1]),pt.multiply(Zt.vpMatrix,Zt.dprMatrix,Yn.getOrthoMatrix()),Zt.clearFullScreen)St?(Ut.save(),Hn(Ze.root,Ut),Ut.restore()):Hn(Ze.root,Ut),Zt.removedRBushNodeAABBs=[];else{var Xt=Zt.safeMergeAABB.apply(Zt,[Zt.mergeDirtyAABBs(Zt.renderQueue)].concat((0,J.Z)(Zt.removedRBushNodeAABBs.map(function(mt){var vn=mt.minX,tr=mt.minY,Mr=mt.maxX,ui=mt.maxY,Ri=new j.mN;return Ri.setMinMax([vn,tr,0],[Mr,ui,0]),Ri}))));if(Zt.removedRBushNodeAABBs=[],j.mN.isEmpty(Xt)){Zt.renderQueue=[];return}var jt=Zt.convertAABB2Rect(Xt),fr=jt.x,vr=jt.y,yr=jt.width,Br=jt.height,Gi=gt.fF(Zt.vec3a,[fr,vr,0],Zt.vpMatrix),qi=gt.fF(Zt.vec3b,[fr+yr,vr,0],Zt.vpMatrix),$i=gt.fF(Zt.vec3c,[fr,vr+Br,0],Zt.vpMatrix),Wi=gt.fF(Zt.vec3d,[fr+yr,vr+Br,0],Zt.vpMatrix),Ii=Math.min(Gi[0],qi[0],Wi[0],$i[0]),Qa=Math.min(Gi[1],qi[1],Wi[1],$i[1]),on=Math.max(Gi[0],qi[0],Wi[0],$i[0]),dn=Math.max(Gi[1],qi[1],Wi[1],$i[1]),jn=Math.floor(Ii),Ur=Math.floor(Qa),Yr=Math.ceil(on-Ii),Et=Math.ceil(dn-Qa);Ut.save(),Zt.clearRect(Ut,jn,Ur,Yr,Et,Bn.background),Ut.beginPath(),Ut.rect(jn,Ur,Yr,Et),Ut.clip(),Ut.setTransform(Zt.vpMatrix[0],Zt.vpMatrix[1],Zt.vpMatrix[4],Zt.vpMatrix[5],Zt.vpMatrix[12],Zt.vpMatrix[13]);var Ct=Bn.renderer.getConfig(),xn=Ct.enableDirtyRectangleRenderingDebug;xn&&fn.dispatchEvent(new j.Aw(j.$6.DIRTY_RECTANGLE,{dirtyRect:{x:jn,y:Ur,width:Yr,height:Et}}));var Xn=Zt.searchDirtyObjects(Xt);Xn.sort(function(mt,vn){return mt.sortable.renderOrder-vn.sortable.renderOrder}).forEach(function(mt){mt&&mt.isVisible()&&!mt.isCulled()&&Zt.renderDisplayObject(mt,Ut,Zt.context,Le(Zt,wn)[wn],It)}),Ut.restore(),Zt.renderQueue.forEach(function(mt){Zt.saveDirtyAABB(mt)}),Zt.renderQueue=[]}Le(Zt,wn)[wn].restoreStack.forEach(function(){Ut.restore()}),Le(Zt,wn)[wn].restoreStack=[]}),or.hooks.render.tap(Cn.tag,function(Ut){Zt.clearFullScreen||Zt.renderQueue.push(Ut)})}},{key:"clearRect",value:function(tn,It,Zt,$e,Bn,Yn){tn.clearRect(It,Zt,$e,Bn),Yn&&(tn.fillStyle=Yn,tn.fillRect(It,Zt,$e,Bn))}},{key:"renderDisplayObjectOptimized",value:function(tn,It,Zt,$e,Bn){var Yn=tn.nodeName,or=!1,Ze=!1,je=this.context.styleRendererFactory[Yn],st=this.pathGeneratorFactory[Yn],St=tn.parsedStyle.clipPath;if(St){or=!$e.prevObject||!pt.exactEquals(St.getWorldTransform(),$e.prevObject.getWorldTransform()),or&&(this.applyWorldTransform(It,St),$e.prevObject=null);var En=this.pathGeneratorFactory[St.nodeName];En&&(It.save(),Ze=!0,It.beginPath(),En(It,St.parsedStyle),It.closePath(),It.clip())}if(je){or=!$e.prevObject||!pt.exactEquals(tn.getWorldTransform(),$e.prevObject.getWorldTransform()),or&&this.applyWorldTransform(It,tn);var fn=!$e.prevObject;if(!fn){var sn=$e.prevObject.nodeName;Yn===j.bn.TEXT?fn=sn!==j.bn.TEXT:Yn===j.bn.IMAGE?fn=sn!==j.bn.IMAGE:fn=sn===j.bn.TEXT||sn===j.bn.IMAGE}je.applyStyleToContext(It,tn,fn,$e),$e.prevObject=tn}st&&(It.beginPath(),st(It,tn.parsedStyle),Yn!==j.bn.LINE&&Yn!==j.bn.PATH&&Yn!==j.bn.POLYLINE&&It.closePath()),je&&je.drawToContext(It,tn,Le(this,wn)[wn],this,Bn),Ze&&It.restore(),tn.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(tn,It,Zt,$e,Bn){var Yn=tn.nodeName,or=$e.restoreStack[$e.restoreStack.length-1];or&&!(tn.compareDocumentPosition(or)&j.NB.DOCUMENT_POSITION_CONTAINS)&&(It.restore(),$e.restoreStack.pop());var Ze=this.context.styleRendererFactory[Yn],je=this.pathGeneratorFactory[Yn],st=tn.parsedStyle.clipPath;if(st){this.applyWorldTransform(It,st);var St=this.pathGeneratorFactory[st.nodeName];St&&(It.save(),$e.restoreStack.push(tn),It.beginPath(),St(It,st.parsedStyle),It.closePath(),It.clip())}Ze&&(this.applyWorldTransform(It,tn),It.save(),this.applyAttributesToContext(It,tn)),je&&(It.beginPath(),je(It,tn.parsedStyle),Yn!==j.bn.LINE&&Yn!==j.bn.PATH&&Yn!==j.bn.POLYLINE&&It.closePath()),Ze&&(Ze.render(It,tn.parsedStyle,tn,Zt,this,Bn),It.restore()),tn.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(tn,It){var Zt=It.parsedStyle,$e=Zt.stroke,Bn=Zt.fill,Yn=Zt.opacity,or=Zt.lineDash,Ze=Zt.lineDashOffset;or&&tn.setLineDash(or),(0,In.Z)(Ze)||(tn.lineDashOffset=Ze),(0,In.Z)(Yn)||(tn.globalAlpha*=Yn),!(0,In.Z)($e)&&!Array.isArray($e)&&!$e.isNone&&(tn.strokeStyle=It.attributes.stroke),!(0,In.Z)(Bn)&&!Array.isArray(Bn)&&!Bn.isNone&&(tn.fillStyle=It.attributes.fill)}},{key:"convertAABB2Rect",value:function(tn){var It=tn.getMin(),Zt=tn.getMax(),$e=Math.floor(It[0]),Bn=Math.floor(It[1]),Yn=Math.ceil(Zt[0]),or=Math.ceil(Zt[1]),Ze=Yn-$e,je=or-Bn;return{x:$e,y:Bn,width:Ze,height:je}}},{key:"mergeDirtyAABBs",value:function(tn){var It=new j.mN;return tn.forEach(function(Zt){var $e=Zt.getRenderBounds();It.add($e);var Bn=Zt.renderable.dirtyRenderBounds;Bn&&It.add(Bn)}),It}},{key:"searchDirtyObjects",value:function(tn){var It=tn.getMin(),Zt=(0,Y.Z)(It,2),$e=Zt[0],Bn=Zt[1],Yn=tn.getMax(),or=(0,Y.Z)(Yn,2),Ze=or[0],je=or[1],st=this.rBush.search({minX:$e,minY:Bn,maxX:Ze,maxY:je});return st.map(function(St){var En=St.displayObject;return En})}},{key:"saveDirtyAABB",value:function(tn){var It=tn.renderable;It.dirtyRenderBounds||(It.dirtyRenderBounds=new j.mN);var Zt=tn.getRenderBounds();Zt&&It.dirtyRenderBounds.update(Zt.center,Zt.halfExtents)}},{key:"applyWorldTransform",value:function(tn,It,Zt){Zt?(pt.copy(this.tmpMat4,It.getLocalTransform()),pt.multiply(this.tmpMat4,Zt,this.tmpMat4),pt.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(pt.copy(this.tmpMat4,It.getWorldTransform()),pt.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)),tn.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var tn=new j.mN,It=arguments.length,Zt=new Array(It),$e=0;$e<It;$e++)Zt[$e]=arguments[$e];return Zt.forEach(function(Bn){tn.add(Bn)}),tn}}])}();nt.tag="CanvasRenderer";function ze(Cn,Un,tn,It,Zt,$e,Bn){var Yn,or;if(Cn.image.nodeName==="rect"){var Ze=Cn.image.parsedStyle,je=Ze.width,st=Ze.height;or=It.contextService.getDPR();var St=It.config.offscreenCanvas;Yn=$e.offscreenCanvasCreator.getOrCreateCanvas(St),Yn.width=je*or,Yn.height=st*or;var En=$e.offscreenCanvasCreator.getOrCreateContext(St),fn={restoreStack:[],prevObject:null,currentContext:new Map};Cn.image.forEach(function(Pn){Zt.renderDisplayObject(Pn,En,It,fn,$e)}),fn.restoreStack.forEach(function(){En.restore()})}var sn=Bn.getOrCreatePatternSync(Un,Cn,tn,Yn,or,Un.getGeometryBounds().min,function(){Un.renderable.dirty=!0,It.renderingService.dirtify()});return sn}function vt(Cn,Un,tn,It){var Zt;if(Cn.type===j.GL.LinearGradient||Cn.type===j.GL.RadialGradient){var $e=Un.getGeometryBounds(),Bn=$e&&$e.halfExtents[0]*2||1,Yn=$e&&$e.halfExtents[1]*2||1,or=$e&&$e.min||[0,0];Zt=It.getOrCreateGradient((0,Ue.Z)((0,Ue.Z)({type:Cn.type},Cn.value),{},{min:or,width:Bn,height:Yn}),tn)}return Zt}var $t=["shadowBlur","shadowOffsetX","shadowOffsetY"],gn=["lineCap","lineJoin","miterLimit"],at={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},an={};function hn(Cn,Un,tn,It){var Zt=It.has(Un)?It.get(Un):at[Un];return Zt!==tn&&(Un==="lineDash"?Cn.setLineDash(tn):Cn[Un]=tn,It.set(Un,tn)),Zt}var pr=function(){function Cn(Un){(0,B.Z)(this,Cn),this.imagePool=Un}return(0,w.Z)(Cn,[{key:"applyAttributesToContext",value:function(tn,It){}},{key:"render",value:function(tn,It,Zt,$e,Bn,Yn){}},{key:"applyCommonStyleToContext",value:function(tn,It,Zt,$e){var Bn=Zt?an:$e.prevObject.parsedStyle,Yn=It.parsedStyle;(Zt||Yn.opacity!==Bn.opacity)&&hn(tn,"globalAlpha",(0,In.Z)(Yn.opacity)?at.globalAlpha:Yn.opacity,$e.currentContext),(Zt||Yn.blend!==Bn.blend)&&hn(tn,"globalCompositeOperation",(0,In.Z)(Yn.blend)?at.globalCompositeOperation:Yn.blend,$e.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(tn,It,Zt,$e){var Bn=Zt?an:$e.prevObject.parsedStyle,Yn=It.parsedStyle,or=Yn.lineWidth,Ze=or===void 0?at.lineWidth:or,je=Yn.fill&&!Yn.fill.isNone,st=Yn.stroke&&!Yn.stroke.isNone&&Ze>0;if(st){if(Zt||It.attributes.stroke!==$e.prevObject.attributes.stroke){var St=!(0,In.Z)(Yn.stroke)&&!Array.isArray(Yn.stroke)&&!Yn.stroke.isNone?It.attributes.stroke:at.strokeStyle;hn(tn,"strokeStyle",St,$e.currentContext)}(Zt||Yn.lineWidth!==Bn.lineWidth)&&hn(tn,"lineWidth",(0,In.Z)(Yn.lineWidth)?at.lineWidth:Yn.lineWidth,$e.currentContext),(Zt||Yn.lineDash!==Bn.lineDash)&&hn(tn,"lineDash",Yn.lineDash||at.lineDash,$e.currentContext),(Zt||Yn.lineDashOffset!==Bn.lineDashOffset)&&hn(tn,"lineDashOffset",(0,In.Z)(Yn.lineDashOffset)?at.lineDashOffset:Yn.lineDashOffset,$e.currentContext);for(var En=0;En<gn.length;En++){var fn=gn[En];(Zt||Yn[fn]!==Bn[fn])&&hn(tn,fn,(0,In.Z)(Yn[fn])?at[fn]:Yn[fn],$e.currentContext)}}if(je&&(Zt||It.attributes.fill!==$e.prevObject.attributes.fill)){var sn=!(0,In.Z)(Yn.fill)&&!Array.isArray(Yn.fill)&&!Yn.fill.isNone?It.attributes.fill:at.fillStyle;hn(tn,"fillStyle",sn,$e.currentContext)}}},{key:"applyStyleToContext",value:function(tn,It,Zt,$e){var Bn=It.nodeName;this.applyCommonStyleToContext(tn,It,Zt,$e),Bn===j.bn.IMAGE||this.applyStrokeFillStyleToContext(tn,It,Zt,$e)}},{key:"applyShadowAndFilterStyleToContext",value:function(tn,It,Zt,$e){var Bn=It.parsedStyle;if(Zt){hn(tn,"shadowColor",Bn.shadowColor.toString(),$e.currentContext);for(var Yn=0;Yn<$t.length;Yn++){var or=$t[Yn];hn(tn,or,Bn[or]||at[or],$e.currentContext)}}Bn.filter&&Bn.filter.length&&hn(tn,"filter",It.attributes.filter,$e.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(tn,It,Zt,$e){var Bn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(It){hn(tn,"shadowColor",at.shadowColor,$e.currentContext);for(var Yn=0;Yn<$t.length;Yn++){var or=$t[Yn];hn(tn,or,at[or],$e.currentContext)}}if(Zt)if(It&&Bn){var Ze=tn.filter;!(0,In.Z)(Ze)&&Ze.indexOf("drop-shadow")>-1&&hn(tn,"filter",Ze.replace(/drop-shadow\([^)]*\)/,"").trim()||at.filter,$e.currentContext)}else hn(tn,"filter",at.filter,$e.currentContext)}},{key:"fillToContext",value:function(tn,It,Zt,$e,Bn){var Yn=this,or=It.parsedStyle,Ze=or.fill,je=or.fillRule,st=null;if(Array.isArray(Ze)&&Ze.length>0)Ze.forEach(function(En){var fn,sn=hn(tn,"fillStyle",vt(En,It,tn,Yn.imagePool),Zt.currentContext);st=(fn=st)!==null&&fn!==void 0?fn:sn,je?tn.fill(je):tn.fill()});else{if((0,j.R)(Ze)){var St=ze(Ze,It,tn,It.ownerDocument.defaultView.context,$e,Bn,this.imagePool);St&&(tn.fillStyle=St,st=!0)}je?tn.fill(je):tn.fill()}st!==null&&hn(tn,"fillStyle",st,Zt.currentContext)}},{key:"strokeToContext",value:function(tn,It,Zt,$e,Bn){var Yn=this,or=It.parsedStyle.stroke,Ze=null;if(Array.isArray(or)&&or.length>0)or.forEach(function(En){var fn,sn=hn(tn,"strokeStyle",vt(En,It,tn,Yn.imagePool),Zt.currentContext);Ze=(fn=Ze)!==null&&fn!==void 0?fn:sn,tn.stroke()});else{if((0,j.R)(or)){var je=ze(or,It,tn,It.ownerDocument.defaultView.context,$e,Bn,this.imagePool);if(je){var st,St=hn(tn,"strokeStyle",je,Zt.currentContext);Ze=(st=Ze)!==null&&st!==void 0?st:St}}tn.stroke()}Ze!==null&&hn(tn,"strokeStyle",Ze,Zt.currentContext)}},{key:"drawToContext",value:function(tn,It,Zt,$e,Bn){var Yn,or=It.nodeName,Ze=It.parsedStyle,je=Ze.opacity,st=je===void 0?at.globalAlpha:je,St=Ze.fillOpacity,En=St===void 0?at.fillOpacity:St,fn=Ze.strokeOpacity,sn=fn===void 0?at.strokeOpacity:fn,Pn=Ze.lineWidth,Hn=Pn===void 0?at.lineWidth:Pn,Ut=Ze.fill&&!Ze.fill.isNone,Yt=Ze.stroke&&!Ze.stroke.isNone&&Hn>0;if(!(!Ut&&!Yt)){var Xt=!(0,In.Z)(Ze.shadowColor)&&Ze.shadowBlur>0,jt=Ze.shadowType==="inner",fr=((Yn=Ze.fill)===null||Yn===void 0?void 0:Yn.alpha)===0,vr=!!(Ze.filter&&Ze.filter.length),yr=Xt&&Yt&&(or===j.bn.PATH||or===j.bn.LINE||or===j.bn.POLYLINE||fr||jt),Br=null;if(Ut){yr||this.applyShadowAndFilterStyleToContext(tn,It,Xt,Zt);var Gi=st*En;Br=hn(tn,"globalAlpha",Gi,Zt.currentContext),this.fillToContext(tn,It,Zt,$e,Bn),yr||this.clearShadowAndFilterStyleForContext(tn,Xt,vr,Zt)}if(Yt){var qi=!1,$i=st*sn,Wi=hn(tn,"globalAlpha",$i,Zt.currentContext);if(Br=Ut?Br:Wi,yr&&(this.applyShadowAndFilterStyleToContext(tn,It,Xt,Zt),qi=!0,jt)){var Ii=tn.globalCompositeOperation;tn.globalCompositeOperation="source-atop",this.strokeToContext(tn,It,Zt,$e,Bn),tn.globalCompositeOperation=Ii,this.clearShadowAndFilterStyleForContext(tn,Xt,vr,Zt,!0)}this.strokeToContext(tn,It,Zt,$e,Bn),qi&&this.clearShadowAndFilterStyleForContext(tn,Xt,vr,Zt)}Br!==null&&hn(tn,"globalAlpha",Br,Zt.currentContext)}}}])}(),ur=function(Cn){function Un(){return(0,B.Z)(this,Un),(0,ne.Z)(this,Un,arguments)}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"render",value:function(It,Zt,$e,Bn,Yn,or){var Ze=Zt.fill,je=Zt.fillRule,st=Zt.opacity,St=st===void 0?1:st,En=Zt.fillOpacity,fn=En===void 0?1:En,sn=Zt.stroke,Pn=Zt.strokeOpacity,Hn=Pn===void 0?1:Pn,Ut=Zt.lineWidth,Yt=Ut===void 0?1:Ut,Xt=Zt.lineCap,jt=Zt.lineJoin,fr=Zt.shadowType,vr=Zt.shadowColor,yr=Zt.shadowBlur,Br=Zt.filter,Gi=Zt.miterLimit,qi=Ze&&!Ze.isNone,$i=sn&&!sn.isNone&&Yt>0,Wi=(Ze==null?void 0:Ze.alpha)===0,Ii=!!(Br&&Br.length),Qa=!(0,In.Z)(vr)&&yr>0,on=$e.nodeName,dn=fr==="inner",jn=$i&&Qa&&(on===j.bn.PATH||on===j.bn.LINE||on===j.bn.POLYLINE||Wi||dn);qi&&(It.globalAlpha=St*fn,jn||pi($e,It,Qa),ar(It,$e,Ze,je,Bn,Yn,or,this.imagePool),jn||this.clearShadowAndFilter(It,Ii,Qa)),$i&&(It.globalAlpha=St*Hn,It.lineWidth=Yt,(0,In.Z)(Gi)||(It.miterLimit=Gi),(0,In.Z)(Xt)||(It.lineCap=Xt),(0,In.Z)(jt)||(It.lineJoin=jt),jn&&(dn&&(It.globalCompositeOperation="source-atop"),pi($e,It,!0),dn&&(di(It,$e,sn,Bn,Yn,or,this.imagePool),It.globalCompositeOperation=at.globalCompositeOperation,this.clearShadowAndFilter(It,Ii,!0))),di(It,$e,sn,Bn,Yn,or,this.imagePool))}},{key:"clearShadowAndFilter",value:function(It,Zt,$e){if($e&&(It.shadowColor="transparent",It.shadowBlur=0),Zt){var Bn=It.filter;!(0,In.Z)(Bn)&&Bn.indexOf("drop-shadow")>-1&&(It.filter=Bn.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(pr);function pi(Cn,Un,tn){var It=Cn.parsedStyle,Zt=It.filter,$e=It.shadowColor,Bn=It.shadowBlur,Yn=It.shadowOffsetX,or=It.shadowOffsetY;Zt&&Zt.length&&(Un.filter=Cn.style.filter),tn&&(Un.shadowColor=$e.toString(),Un.shadowBlur=Bn||0,Un.shadowOffsetX=Yn||0,Un.shadowOffsetY=or||0)}function ar(Cn,Un,tn,It,Zt,$e,Bn,Yn){var or=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(tn)?tn.forEach(function(Ze){Cn.fillStyle=vt(Ze,Un,Cn,Yn),or||(It?Cn.fill(It):Cn.fill())}):((0,j.R)(tn)&&(Cn.fillStyle=ze(tn,Un,Cn,Zt,$e,Bn,Yn)),or||(It?Cn.fill(It):Cn.fill()))}function di(Cn,Un,tn,It,Zt,$e,Bn){var Yn=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(tn)?tn.forEach(function(or){Cn.strokeStyle=vt(or,Un,Cn,Bn),Yn||Cn.stroke()}):((0,j.R)(tn)&&(Cn.strokeStyle=ze(tn,Un,Cn,It,Zt,$e,Bn)),Yn||Cn.stroke())}function sa(Cn,Un){var tn=(0,Y.Z)(Cn,4),It=tn[0],Zt=tn[1],$e=tn[2],Bn=tn[3],Yn=(0,Y.Z)(Un,4),or=Yn[0],Ze=Yn[1],je=Yn[2],st=Yn[3],St=Math.max(It,or),En=Math.max(Zt,Ze),fn=Math.min(It+$e,or+je),sn=Math.min(Zt+Bn,Ze+st);return fn<=St||sn<=En?null:[St,En,fn-St,sn-En]}function xa(Cn,Un){var tn=gt.fF(gt.Ue(),[Cn[0],Cn[1],0],Un),It=gt.fF(gt.Ue(),[Cn[0]+Cn[2],Cn[1],0],Un),Zt=gt.fF(gt.Ue(),[Cn[0],Cn[1]+Cn[3],0],Un),$e=gt.fF(gt.Ue(),[Cn[0]+Cn[2],Cn[1]+Cn[3],0],Un);return[Math.min(tn[0],It[0],Zt[0],$e[0]),Math.min(tn[1],It[1],Zt[1],$e[1]),Math.max(tn[0],It[0],Zt[0],$e[0])-Math.min(tn[0],It[0],Zt[0],$e[0]),Math.max(tn[1],It[1],Zt[1],$e[1])-Math.min(tn[1],It[1],Zt[1],$e[1])]}var za=function(Cn){function Un(){return(0,B.Z)(this,Un),(0,ne.Z)(this,Un,arguments)}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"renderDownSampled",value:function(It,Zt,$e,Bn){var Yn=Bn.src,or=Bn.imageCache;if(!or.downSampled){this.imagePool.createDownSampledImage(Yn,$e).then(function(Ze){$e.renderable.dirty=!0,$e.ownerDocument.defaultView.context.renderingService.dirtify()}).catch(function(){});return}It.drawImage(or.downSampled,Math.floor(Bn.drawRect[0]),Math.floor(Bn.drawRect[1]),Math.ceil(Bn.drawRect[2]),Math.ceil(Bn.drawRect[3]))}},{key:"renderTile",value:function(It,Zt,$e,Bn){var Yn=Bn.src,or=Bn.imageCache,Ze=Bn.imageRect,je=Bn.drawRect,st=or.size,St=It.getTransform(),En=St.a,fn=St.b,sn=St.c,Pn=St.d,Hn=St.e,Ut=St.f;if(It.resetTransform(),!(or!=null&&or.gridSize)){this.imagePool.createImageTiles(Yn,[],function(){$e.renderable.dirty=!0,$e.ownerDocument.defaultView.context.renderingService.dirtify()},$e).catch(function(){});return}for(var Yt=[st[0]/Ze[2],st[1]/Ze[3]],Xt=[or.tileSize[0]/Yt[0],or.tileSize[1]/Yt[1]],jt=[Math.floor((je[0]-Ze[0])/Xt[0]),Math.ceil((je[0]+je[2]-Ze[0])/Xt[0])],fr=jt[0],vr=jt[1],yr=[Math.floor((je[1]-Ze[1])/Xt[1]),Math.ceil((je[1]+je[3]-Ze[1])/Xt[1])],Br=yr[0],Gi=yr[1],qi=Br;qi<=Gi;qi++)for(var $i=fr;$i<=vr;$i++){var Wi=or.tiles[qi][$i];if(Wi){var Ii=[Math.floor(Ze[0]+Wi.tileX*Xt[0]),Math.floor(Ze[1]+Wi.tileY*Xt[1]),Math.ceil(Xt[0]),Math.ceil(Xt[1])];It.drawImage(Wi.data,Ii[0],Ii[1],Ii[2],Ii[3])}}It.setTransform(En,fn,sn,Pn,Hn,Ut)}},{key:"render",value:function(It,Zt,$e){var Bn=Zt.x,Yn=Bn===void 0?0:Bn,or=Zt.y,Ze=or===void 0?0:or,je=Zt.width,st=Zt.height,St=Zt.src,En=Zt.shadowColor,fn=Zt.shadowBlur,sn=this.imagePool.getImageSync(St,$e),Pn=sn==null?void 0:sn.img,Hn=je,Ut=st;if(Pn){Hn||(Hn=Pn.width),Ut||(Ut=Pn.height);var Yt=!(0,In.Z)(En)&&fn>0;pi($e,It,Yt);try{var Xt=$e.ownerDocument.defaultView.getContextService().getDomElement(),jt=Xt.width,fr=Xt.height,vr=It.getTransform(),yr=vr.a,Br=vr.b,Gi=vr.c,qi=vr.d,$i=vr.e,Wi=vr.f,Ii=pt.fromValues(yr,Gi,0,0,Br,qi,0,0,0,0,1,0,$i,Wi,0,1),Qa=xa([Yn,Ze,Hn,Ut],Ii),on=sa([0,0,jt,fr],Qa);if(!on)return;if(!$e.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){Un.renderFull(It,Zt,$e,{image:Pn,drawRect:[Yn,Ze,Hn,Ut]});return}var dn=Qa[2]/sn.size[0];if(dn<(sn.downSamplingRate||.5)){this.renderDownSampled(It,Zt,$e,{src:St,imageCache:sn,drawRect:[Yn,Ze,Hn,Ut]});return}if(!wi.isSupportTile){Un.renderFull(It,Zt,$e,{image:Pn,drawRect:[Yn,Ze,Hn,Ut]});return}this.renderTile(It,Zt,$e,{src:St,imageCache:sn,imageRect:Qa,drawRect:on})}catch(jn){}}}},{key:"drawToContext",value:function(It,Zt,$e,Bn,Yn){this.render(It,Zt.parsedStyle,Zt)}}],[{key:"renderFull",value:function(It,Zt,$e,Bn){It.drawImage(Bn.image,Math.floor(Bn.drawRect[0]),Math.floor(Bn.drawRect[1]),Math.ceil(Bn.drawRect[2]),Math.ceil(Bn.drawRect[3]))}}])}(ur),Ui=function(Cn){function Un(){return(0,B.Z)(this,Un),(0,ne.Z)(this,Un,arguments)}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"render",value:function(It,Zt,$e,Bn,Yn,or){$e.getBounds();var Ze=Zt.lineWidth,je=Ze===void 0?1:Ze,st=Zt.textAlign,St=st===void 0?"start":st,En=Zt.textBaseline,fn=En===void 0?"alphabetic":En,sn=Zt.lineJoin,Pn=sn===void 0?"miter":sn,Hn=Zt.miterLimit,Ut=Hn===void 0?10:Hn,Yt=Zt.letterSpacing,Xt=Yt===void 0?0:Yt,jt=Zt.stroke,fr=Zt.fill,vr=Zt.fillRule,yr=Zt.fillOpacity,Br=yr===void 0?1:yr,Gi=Zt.strokeOpacity,qi=Gi===void 0?1:Gi,$i=Zt.opacity,Wi=$i===void 0?1:$i,Ii=Zt.metrics,Qa=Zt.x,on=Qa===void 0?0:Qa,dn=Zt.y,jn=dn===void 0?0:dn,Ur=Zt.dx,Yr=Zt.dy,Et=Zt.shadowColor,Ct=Zt.shadowBlur,xn=Ii.font,Xn=Ii.lines,mt=Ii.height,vn=Ii.lineHeight,tr=Ii.lineMetrics;It.font=xn,It.lineWidth=je,It.textAlign=St==="middle"?"center":St;var Mr=fn;Mr==="alphabetic"&&(Mr="bottom"),It.lineJoin=Pn,(0,In.Z)(Ut)||(It.miterLimit=Ut);var ui=jn;fn==="middle"?ui+=-mt/2-vn/2:fn==="bottom"||fn==="alphabetic"||fn==="ideographic"?ui+=-mt:(fn==="top"||fn==="hanging")&&(ui+=-vn);var Ri=on+(Ur||0);ui+=Yr||0,Xn.length===1&&(Mr==="bottom"?(Mr="middle",ui-=.5*mt):Mr==="top"&&(Mr="middle",ui+=.5*mt)),It.textBaseline=Mr;var Aa=!(0,In.Z)(Et)&&Ct>0;pi($e,It,Aa);for(var Ga=0;Ga<Xn.length;Ga++){var vo=je/2+Ri;ui+=vn,!(0,In.Z)(jt)&&!jt.isNone&&je&&this.drawLetterSpacing(It,$e,Xn[Ga],tr[Ga],St,vo,ui,Xt,fr,vr,Br,jt,qi,Wi,!0,Bn,Yn,or),(0,In.Z)(fr)||this.drawLetterSpacing(It,$e,Xn[Ga],tr[Ga],St,vo,ui,Xt,fr,vr,Br,jt,qi,Wi,!1,Bn,Yn,or)}}},{key:"drawLetterSpacing",value:function(It,Zt,$e,Bn,Yn,or,Ze,je,st,St,En,fn,sn,Pn,Hn,Ut,Yt,Xt){if(je===0){Hn?this.strokeText(It,Zt,$e,or,Ze,fn,sn,Ut,Yt,Xt):this.fillText(It,Zt,$e,or,Ze,st,St,En,Pn,Ut,Yt,Xt);return}var jt=It.textAlign;It.textAlign="left";var fr=or;Yn==="center"||Yn==="middle"?fr=or-Bn.width/2:(Yn==="right"||Yn==="end")&&(fr=or-Bn.width);for(var vr=Array.from($e),yr=It.measureText($e).width,Br=0,Gi=0;Gi<vr.length;++Gi){var qi=vr[Gi];Hn?this.strokeText(It,Zt,qi,fr,Ze,fn,sn,Ut,Yt,Xt):this.fillText(It,Zt,qi,fr,Ze,st,St,En,Pn,Ut,Yt,Xt),Br=It.measureText($e.substring(Gi+1)).width,fr+=yr-Br+je,yr=Br}It.textAlign=jt}},{key:"fillText",value:function(It,Zt,$e,Bn,Yn,or,Ze,je,st,St,En,fn){ar(It,Zt,or,Ze,St,En,fn,this.imagePool,!0);var sn,Pn=!(0,In.Z)(je)&&je!==1;Pn&&(sn=It.globalAlpha,It.globalAlpha=je*st),It.fillText($e,Bn,Yn),Pn&&(It.globalAlpha=sn)}},{key:"strokeText",value:function(It,Zt,$e,Bn,Yn,or,Ze,je,st,St){di(It,Zt,or,je,st,St,this.imagePool,!0);var En,fn=!(0,In.Z)(Ze)&&Ze!==1;fn&&(En=It.globalAlpha,It.globalAlpha=Ze),It.strokeText($e,Bn,Yn),fn&&(It.globalAlpha=En)}},{key:"drawToContext",value:function(It,Zt,$e,Bn,Yn){this.render(It,Zt.parsedStyle,Zt,Zt.ownerDocument.defaultView.context,Bn,Yn)}}])}(ur),Ao=function(Cn){function Un(){var tn,It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,B.Z)(this,Un),tn=(0,ne.Z)(this,Un),tn.name="canvas-renderer",tn.options=It,tn}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"init",value:function(){var It,Zt=(0,Ue.Z)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),$e=this.context.imagePool,Bn=new ur($e),Yn=(It={},(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)(It,j.bn.CIRCLE,Bn),j.bn.ELLIPSE,Bn),j.bn.RECT,Bn),j.bn.IMAGE,new za($e)),j.bn.TEXT,new Ui($e)),j.bn.LINE,Bn),j.bn.POLYLINE,Bn),j.bn.POLYGON,Bn),j.bn.PATH,Bn),j.bn.GROUP,void 0),(0,q.Z)((0,q.Z)((0,q.Z)(It,j.bn.HTML,void 0),j.bn.MESH,void 0),j.bn.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=Yn,this.context.styleRendererFactory=Yn,this.addRenderingPlugin(new nt(Zt))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(j.F6);var fs=function(){function Cn(){(0,B.Z)(this,Cn)}return(0,w.Z)(Cn,[{key:"apply",value:function(tn,It){var Zt=this,$e=tn.renderingService,Bn=tn.renderingContext,Yn=tn.config;this.context=tn;var or=Bn.root.ownerDocument.defaultView,Ze=function(yr){$e.hooks.pointerMove.call(yr)},je=function(yr){$e.hooks.pointerUp.call(yr)},st=function(yr){$e.hooks.pointerDown.call(yr)},St=function(yr){$e.hooks.pointerOver.call(yr)},En=function(yr){$e.hooks.pointerOut.call(yr)},fn=function(yr){$e.hooks.pointerCancel.call(yr)},sn=function(yr){$e.hooks.pointerWheel.call(yr)},Pn=function(yr){$e.hooks.click.call(yr)},Hn=function(yr){It.globalThis.document.addEventListener("pointermove",Ze,!0),yr.addEventListener("pointerdown",st,!0),yr.addEventListener("pointerleave",En,!0),yr.addEventListener("pointerover",St,!0),It.globalThis.addEventListener("pointerup",je,!0),It.globalThis.addEventListener("pointercancel",fn,!0)},Ut=function(yr){yr.addEventListener("touchstart",st,!0),yr.addEventListener("touchend",je,!0),yr.addEventListener("touchmove",Ze,!0),yr.addEventListener("touchcancel",fn,!0)},Yt=function(yr){It.globalThis.document.addEventListener("mousemove",Ze,!0),yr.addEventListener("mousedown",st,!0),yr.addEventListener("mouseout",En,!0),yr.addEventListener("mouseover",St,!0),It.globalThis.addEventListener("mouseup",je,!0)},Xt=function(yr){It.globalThis.document.removeEventListener("pointermove",Ze,!0),yr.removeEventListener("pointerdown",st,!0),yr.removeEventListener("pointerleave",En,!0),yr.removeEventListener("pointerover",St,!0),It.globalThis.removeEventListener("pointerup",je,!0),It.globalThis.removeEventListener("pointercancel",fn,!0)},jt=function(yr){yr.removeEventListener("touchstart",st,!0),yr.removeEventListener("touchend",je,!0),yr.removeEventListener("touchmove",Ze,!0),yr.removeEventListener("touchcancel",fn,!0)},fr=function(yr){It.globalThis.document.removeEventListener("mousemove",Ze,!0),yr.removeEventListener("mousedown",st,!0),yr.removeEventListener("mouseout",En,!0),yr.removeEventListener("mouseover",St,!0),It.globalThis.removeEventListener("mouseup",je,!0)};$e.hooks.init.tap(Cn.tag,function(){var vr=Zt.context.contextService.getDomElement();It.globalThis.navigator.msPointerEnabled?(vr.style.msContentZooming="none",vr.style.msTouchAction="none"):or.supportsPointerEvents&&(vr.style.touchAction="none"),or.supportsPointerEvents?Hn(vr):Yt(vr),or.supportsTouchEvents&&Ut(vr),Yn.useNativeClickEvent&&vr.addEventListener("click",Pn,!0),vr.addEventListener("wheel",sn,{passive:!0,capture:!0})}),$e.hooks.destroy.tap(Cn.tag,function(){var vr=Zt.context.contextService.getDomElement();It.globalThis.navigator.msPointerEnabled?(vr.style.msContentZooming="",vr.style.msTouchAction=""):or.supportsPointerEvents&&(vr.style.touchAction=""),or.supportsPointerEvents?Xt(vr):fr(vr),or.supportsTouchEvents&&jt(vr),Yn.useNativeClickEvent&&vr.removeEventListener("click",Pn,!0),vr.removeEventListener("wheel",sn,!0)})}}])}();fs.tag="DOMInteraction";var cs=function(Cn){function Un(){var tn;(0,B.Z)(this,Un);for(var It=arguments.length,Zt=new Array(It),$e=0;$e<It;$e++)Zt[$e]=arguments[$e];return tn=(0,ne.Z)(this,Un,[].concat(Zt)),tn.name="dom-interaction",tn}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"init",value:function(){this.addRenderingPlugin(new fs)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(j.F6),ra=A(22355);var ms="g-canvas-camera",xi=function(){function Cn(){(0,B.Z)(this,Cn),this.displayObjectHTMLElementMap=new WeakMap}return(0,w.Z)(Cn,[{key:"joinTransformMatrix",value:function(tn){var It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([tn[0],tn[1],tn[4],tn[5],tn[12]+It[0],tn[13]+It[1]].join(","),")")}},{key:"apply",value:function(tn,It){var Zt=this,$e=tn.camera,Bn=tn.renderingContext,Yn=tn.renderingService;this.context=tn;var or=Bn.root.ownerDocument.defaultView,Ze=or.context.eventService.nativeHTMLMap,je=function(Hn,Ut){Ut.style.transform=Zt.joinTransformMatrix(Hn.getWorldTransform(),Hn.getOrigin())},st=function(Hn){var Ut=Hn.target;if(Ut.nodeName===j.bn.HTML){Zt.$camera||(Zt.$camera=Zt.createCamera($e));var Yt=Zt.getOrCreateEl(Ut);Zt.$camera.appendChild(Yt),Object.keys(Ut.attributes).forEach(function(Xt){Zt.updateAttribute(Xt,Ut)}),je(Ut,Yt),Ze.set(Yt,Ut)}},St=function(Hn){var Ut=Hn.target;if(Ut.nodeName===j.bn.HTML&&Zt.$camera){var Yt=Zt.getOrCreateEl(Ut);Yt&&(Yt.remove(),Ze.delete(Yt))}},En=function(Hn){var Ut=Hn.target;if(Ut.nodeName===j.bn.HTML){var Yt=Hn.attrName;Zt.updateAttribute(Yt,Ut)}},fn=function(Hn){var Ut=Hn.target,Yt=Ut.nodeName===j.bn.FRAGMENT?Ut.childNodes:[Ut];Yt.forEach(function(Xt){if(Xt.nodeName===j.bn.HTML){var jt=Zt.getOrCreateEl(Xt);je(Xt,jt)}})},sn=function(){if(Zt.$camera){var Hn=Zt.context.config,Ut=Hn.width,Yt=Hn.height;Zt.$camera.parentElement.style.width="".concat(Ut||0,"px"),Zt.$camera.parentElement.style.height="".concat(Yt||0,"px")}};Yn.hooks.init.tap(Cn.tag,function(){or.addEventListener(j.$6.RESIZE,sn),or.addEventListener(j.Dk.MOUNTED,st),or.addEventListener(j.Dk.UNMOUNTED,St),or.addEventListener(j.Dk.ATTR_MODIFIED,En),or.addEventListener(j.Dk.BOUNDS_CHANGED,fn)}),Yn.hooks.endFrame.tap(Cn.tag,function(){Zt.$camera&&Bn.renderReasons.has(j.Rr.CAMERA_CHANGED)&&(Zt.$camera.style.transform=Zt.joinTransformMatrix($e.getOrthoMatrix()))}),Yn.hooks.destroy.tap(Cn.tag,function(){Zt.$camera&&Zt.$camera.remove(),or.removeEventListener(j.$6.RESIZE,sn),or.removeEventListener(j.Dk.MOUNTED,st),or.removeEventListener(j.Dk.UNMOUNTED,St),or.removeEventListener(j.Dk.ATTR_MODIFIED,En),or.removeEventListener(j.Dk.BOUNDS_CHANGED,fn)})}},{key:"createCamera",value:function(tn){var It=this.context.config,Zt=It.document,$e=It.width,Bn=It.height,Yn=this.context.contextService.getDomElement(),or=Yn.parentNode;if(or){var Ze=ms,je=or.querySelector("#".concat(Ze));if(!je){var st=(Zt||document).createElement("div");st.style.overflow="hidden",st.style.pointerEvents="none",st.style.position="absolute",st.style.left="0px",st.style.top="0px",st.style.width="".concat($e||0,"px"),st.style.height="".concat(Bn||0,"px");var St=(Zt||document).createElement("div");je=St,St.id=Ze,St.style.position="absolute",St.style.left="".concat(Yn.offsetLeft||0,"px"),St.style.top="".concat(Yn.offsetTop||0,"px"),St.style.transformOrigin="left top",St.style.transform=this.joinTransformMatrix(tn.getOrthoMatrix()),St.style.pointerEvents="none",St.style.width="100%",St.style.height="100%",st.appendChild(St),or.appendChild(st)}return je}return null}},{key:"getOrCreateEl",value:function(tn){var It=this.context.config.document,Zt=this.displayObjectHTMLElementMap.get(tn);return Zt||(Zt=(It||document).createElement("div"),tn.parsedStyle.$el=Zt,this.displayObjectHTMLElementMap.set(tn,Zt),tn.id&&(Zt.id=tn.id),tn.name&&Zt.setAttribute("name",tn.name),tn.className&&(Zt.className=tn.className),Zt.style.position="absolute",Zt.style["will-change"]="transform",Zt.style.transform=this.joinTransformMatrix(tn.getWorldTransform(),tn.getOrigin())),Zt}},{key:"updateAttribute",value:function(tn,It){var Zt=this.getOrCreateEl(It);switch(tn){case"innerHTML":var $e=It.parsedStyle.innerHTML;(0,cr.Z)($e)?Zt.innerHTML=$e:(Zt.innerHTML="",Zt.appendChild($e));break;case"x":Zt.style.left="".concat(It.parsedStyle.x,"px");break;case"y":Zt.style.top="".concat(It.parsedStyle.y,"px");break;case"transformOrigin":var Bn=It.parsedStyle.transformOrigin;Zt.style["transform-origin"]="".concat(Bn[0].buildCSSText(null,null,"")," ").concat(Bn[1].buildCSSText(null,null,""));break;case"width":var Yn=It.parsedStyle.width;Zt.style.width=(0,ra.Z)(Yn)?"".concat(Yn,"px"):Yn.toString();break;case"height":var or=It.parsedStyle.height;Zt.style.height=(0,ra.Z)(or)?"".concat(or,"px"):or.toString();break;case"zIndex":var Ze=It.parsedStyle.zIndex;Zt.style["z-index"]="".concat(Ze);break;case"visibility":var je=It.parsedStyle.visibility;Zt.style.visibility=je;break;case"pointerEvents":var st=It.parsedStyle.pointerEvents,St=st===void 0?"auto":st;Zt.style.pointerEvents=St;break;case"opacity":var En=It.parsedStyle.opacity;Zt.style.opacity="".concat(En);break;case"fill":var fn=It.parsedStyle.fill,sn="";(0,j.qA)(fn)?fn.isNone?sn="transparent":sn=It.getAttribute("fill"):Array.isArray(fn)?sn=It.getAttribute("fill"):(0,j.R)(fn),Zt.style.background=sn;break;case"stroke":var Pn=It.parsedStyle.stroke,Hn="";(0,j.qA)(Pn)?Pn.isNone?Hn="transparent":Hn=It.getAttribute("stroke"):Array.isArray(Pn)?Hn=It.getAttribute("stroke"):(0,j.R)(Pn),Zt.style["border-color"]=Hn,Zt.style["border-style"]="solid";break;case"lineWidth":var Ut=It.parsedStyle.lineWidth;Zt.style["border-width"]="".concat(Ut||0,"px");break;case"lineDash":Zt.style["border-style"]="dashed";break;case"filter":var Yt=It.style.filter;Zt.style.filter=Yt;break;default:!(0,In.Z)(It.style[tn])&&It.style[tn]!==""&&(Zt.style[tn]=It.style[tn])}}}])}();xi.tag="HTMLRendering";var Gn=function(Cn){function Un(){var tn;(0,B.Z)(this,Un);for(var It=arguments.length,Zt=new Array(It),$e=0;$e<It;$e++)Zt[$e]=arguments[$e];return tn=(0,ne.Z)(this,Un,[].concat(Zt)),tn.name="html-renderer",tn}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"init",value:function(){this.addRenderingPlugin(new xi)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(j.F6);var _e=function(){function Cn(Un){(0,B.Z)(this,Cn),this.renderingContext=Un.renderingContext,this.canvasConfig=Un.config}return(0,w.Z)(Cn,[{key:"init",value:function(){var tn=this.canvasConfig,It=tn.container,Zt=tn.canvas;if(Zt)this.$canvas=Zt,It&&Zt.parentElement!==It&&It.appendChild(Zt),this.$container=Zt.parentElement,this.canvasConfig.container=this.$container;else if(It&&(this.$container=(0,cr.Z)(It)?document.getElementById(It):It,this.$container)){var $e=document.createElement("canvas");this.$container.appendChild($e),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=$e}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(tn,It){var Zt=this.canvasConfig.devicePixelRatio,$e=Zt||j.jU&&window.devicePixelRatio||1;$e=$e>=1?Math.ceil($e):1,this.dpr=$e,this.$canvas&&(this.$canvas.width=this.dpr*tn,this.$canvas.height=this.dpr*It,(0,j.$p)(this.$canvas,tn,It)),this.renderingContext.renderReasons.add(j.Rr.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(tn){this.$container&&this.$container.style&&(this.$container.style.cursor=tn)}},{key:"toDataURL",value:function(){var Un=(0,yt.Z)((0,Fe.Z)().mark(function It(){var Zt,$e,Bn,Yn=arguments;return(0,Fe.Z)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Zt=Yn.length>0&&Yn[0]!==void 0?Yn[0]:{},$e=Zt.type,Bn=Zt.encoderOptions,Ze.abrupt("return",this.context.canvas.toDataURL($e,Bn));case 3:case"end":return Ze.stop()}},It,this)}));function tn(){return Un.apply(this,arguments)}return tn}()}])}(),oi=function(Cn){function Un(){var tn;(0,B.Z)(this,Un);for(var It=arguments.length,Zt=new Array(It),$e=0;$e<It;$e++)Zt[$e]=arguments[$e];return tn=(0,ne.Z)(this,Un,[].concat(Zt)),tn.name="canvas-context-register",tn}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un,[{key:"init",value:function(){this.context.ContextService=_e}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(j.F6),Ka=function(Cn){function Un(tn){var It;return(0,B.Z)(this,Un),It=(0,ne.Z)(this,Un,[tn]),It.registerPlugin(new oi),It.registerPlugin(new $n),It.registerPlugin(new ve),It.registerPlugin(new Ao),It.registerPlugin(new cs),It.registerPlugin(new Ce),It.registerPlugin(new Gn),It}return(0,ue.Z)(Un,Cn),(0,w.Z)(Un)}(j.I8)},20:function(cn,Ne,A){"use strict";A.d(Ne,{mN:function(){return or},I8:function(){return Un},F6:function(){return Cn},ux:function(){return Dh},V1:function(){return vo},iM:function(){return Mr},Xz:function(){return ic},$6:function(){return Yi},Cd:function(){return ro},b_:function(){return Gs},Aw:function(){return Du},s$:function(){return ki},BB:function(){return Kf},jf:function(){return fn},Dk:function(){return Sc},Pj:function(){return lu},xA:function(){return tf},nR:function(){return Uf},GL:function(){return ua},ZA:function(){return pl},k9:function(){return ad},Ee:function(){return ja},x1:function(){return uo},NB:function(){return Qu},jB:function(){return Gh},y$:function(){return tu},E9:function(){return St},mg:function(){return Tu},aH:function(){return rf},h0:function(){return Za},UL:function(){return fu},Rr:function(){return ih},bn:function(){return oi},xv:function(){return Td},Cm:function(){return oo},Rx:function(){return Ai},o6:function(){return Mi},YR:function(){return ec},O4:function(){return Yt},Vl:function(){return jt},Oi:function(){return yi},_O:function(){return Hn},gz:function(){return ea},jU:function(){return ji},qA:function(){return yo},RV:function(){return ce},L1:function(){return Fl},R:function(){return Eo},lu:function(){return Wr},G$:function(){return wc},G0:function(){return Co},N1:function(){return $f},BV:function(){return vr},GZ:function(){return Ho},$p:function(){return pu}});var w=A(98037),B=A(73779),ne=A(71374),ue=A(35047),j=A(76082),q=A(45675),Y=A(99459),K=A(73983),H=A(54442),ae=A(49953),ie=A(39536),le=A(73485),se=A(26588),ge=A(38015),ye=A(22355),ve=A(73218),fe=A(54663),Fe=A(43706),yt=A(63777),gt=A(15767),pt={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function lt(W){return Array.isArray(W)&&W.every(function(X){var E=X[0].toLowerCase();return pt[E]===X.length-1&&"achlmqstvz".includes(E)})}function Ke(W){return lt(W)&&W.every(function(X){var E=X[0];return E===E.toUpperCase()})}function Ue(W){return Ke(W)&&W.every(function(X){var E=X[0];return"ACLMQZ".includes(E)})}var Pt={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Gt(W){for(var X=W.pathValue[W.segmentStart],E=X.toLowerCase(),x=W.data;x.length>=pt[E]&&(E==="m"&&x.length>2?(W.segments.push([X].concat(x.splice(0,2))),E="l",X=X==="m"?"l":"L"):W.segments.push([X].concat(x.splice(0,pt[E]))),!!pt[E]););}function rn(W){var X=W.index,E=W.pathValue,x=E.charCodeAt(X);if(x===48){W.param=0,W.index+=1;return}if(x===49){W.param=1,W.index+=1;return}W.err='[path-util]: invalid Arc flag "'.concat(E[X],'", expecting 0 or 1 at index ').concat(X)}function _n(W){return W>=48&&W<=57||W===43||W===45||W===46}function qe(W){return W>=48&&W<=57}function Nt(W){var X=W.max,E=W.pathValue,x=W.index,V=x,pe=!1,he=!1,ke=!1,bt=!1,qt;if(V>=X){W.err="[path-util]: Invalid path value at index ".concat(V,', "pathValue" is missing param');return}if(qt=E.charCodeAt(V),(qt===43||qt===45)&&(V+=1,qt=E.charCodeAt(V)),!qe(qt)&&qt!==46){W.err="[path-util]: Invalid path value at index ".concat(V,', "').concat(E[V],'" is not a number');return}if(qt!==46){if(pe=qt===48,V+=1,qt=E.charCodeAt(V),pe&&V<X&&qt&&qe(qt)){W.err="[path-util]: Invalid path value at index ".concat(x,', "').concat(E[x],'" illegal number');return}for(;V<X&&qe(E.charCodeAt(V));)V+=1,he=!0;qt=E.charCodeAt(V)}if(qt===46){for(bt=!0,V+=1;qe(E.charCodeAt(V));)V+=1,ke=!0;qt=E.charCodeAt(V)}if(qt===101||qt===69){if(bt&&!he&&!ke){W.err="[path-util]: Invalid path value at index ".concat(V,', "').concat(E[V],'" invalid float exponent');return}if(V+=1,qt=E.charCodeAt(V),(qt===43||qt===45)&&(V+=1),V<X&&qe(E.charCodeAt(V)))for(;V<X&&qe(E.charCodeAt(V));)V+=1;else{W.err="[path-util]: Invalid path value at index ".concat(V,', "').concat(E[V],'" invalid integer exponent');return}}W.index=V,W.param=+W.pathValue.slice(x,V)}function ft(W){var X=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return W===10||W===13||W===8232||W===8233||W===32||W===9||W===11||W===12||W===160||W>=5760&&X.includes(W)}function ln(W){for(var X=W.pathValue,E=W.max;W.index<E&&ft(X.charCodeAt(W.index));)W.index+=1}function tt(W){switch(W|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function Pe(W){return(W|32)===97}function Qe(W){var X=W.max,E=W.pathValue,x=W.index,V=E.charCodeAt(x),pe=pt[E[x].toLowerCase()];if(W.segmentStart=x,!tt(V)){W.err='[path-util]: Invalid path value "'.concat(E[x],'" is not a path command');return}if(W.index+=1,ln(W),W.data=[],!pe){Gt(W);return}for(;;){for(var he=pe;he>0;he-=1){if(Pe(V)&&(he===3||he===4)?rn(W):Nt(W),W.err.length)return;W.data.push(W.param),ln(W),W.index<X&&E.charCodeAt(W.index)===44&&(W.index+=1,ln(W))}if(W.index>=W.max||!_n(E.charCodeAt(W.index)))break}Gt(W)}var He=function(){function W(X){this.pathValue=X,this.segments=[],this.max=X.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return W}();function _t(W){if(lt(W))return[].concat(W);var X=new He(W);for(ln(X);X.index<X.max&&!X.err.length;)Qe(X);return X.err?X.err:X.segments}function Bt(W){if(Ke(W))return[].concat(W);var X=_t(W),E=0,x=0,V=0,pe=0;return X.map(function(he){var ke=he.slice(1).map(Number),bt=he[0],qt=bt.toUpperCase();if(bt==="M")return E=ke[0],x=ke[1],V=E,pe=x,["M",E,x];var Te;if(bt!==qt)switch(qt){case"A":Te=[qt,ke[0],ke[1],ke[2],ke[3],ke[4],ke[5]+E,ke[6]+x];break;case"V":Te=[qt,ke[0]+x];break;case"H":Te=[qt,ke[0]+E];break;default:{var ot=ke.map(function(zn,qn){return zn+(qn%2?x:E)});Te=[qt].concat(ot)}}else Te=[qt].concat(ke);var Wt=Te.length;switch(qt){case"Z":E=V,x=pe;break;case"H":E=Te[1];break;case"V":x=Te[1];break;default:E=Te[Wt-2],x=Te[Wt-1],qt==="M"&&(V=E,pe=x)}return Te})}function At(W,X){var E=W[0],x=X.x1,V=X.y1,pe=X.x2,he=X.y2,ke=W.slice(1).map(Number),bt=W;if("TQ".includes(E)||(X.qx=null,X.qy=null),E==="H")bt=["L",W[1],V];else if(E==="V")bt=["L",x,W[1]];else if(E==="S"){var qt=x*2-pe,Te=V*2-he;X.x1=qt,X.y1=Te,bt=["C",qt,Te].concat(ke)}else if(E==="T"){var ot=x*2-X.qx,Wt=V*2-X.qy;X.qx=ot,X.qy=Wt,bt=["Q",ot,Wt].concat(ke)}else if(E==="Q"){var zn=ke[0],qn=ke[1];X.qx=zn,X.qy=qn}return bt}function Je(W){if(Ue(W))return[].concat(W);for(var X=Bt(W),E=(0,gt.pi)({},Pt),x=0;x<X.length;x+=1){X[x]=At(X[x],E);var V=X[x],pe=V.length;E.x1=+V[pe-2],E.y1=+V[pe-1],E.x2=+V[pe-4]||E.x1,E.y2=+V[pe-3]||E.y1}return X}function zt(W,X,E){var x=W[0],V=W[1],pe=X[0],he=X[1];return[x+(pe-x)*E,V+(he-V)*E]}function mn(W,X,E,x,V){var pe=(0,ve.y)([W,X],[E,x]),he={x:0,y:0};if(typeof V=="number")if(V<=0)he={x:W,y:X};else if(V>=pe)he={x:E,y:x};else{var ke=zt([W,X],[E,x],V/pe),bt=ke[0],qt=ke[1];he={x:bt,y:qt}}return{length:pe,point:he,min:{x:Math.min(W,E),y:Math.min(X,x)},max:{x:Math.max(W,E),y:Math.max(X,x)}}}function Ot(W,X){var E=W.x,x=W.y,V=X.x,pe=X.y,he=E*V+x*pe,ke=Math.sqrt((Math.pow(E,2)+Math.pow(x,2))*(Math.pow(V,2)+Math.pow(pe,2))),bt=E*pe-x*V<0?-1:1,qt=bt*Math.acos(he/ke);return qt}function Xe(W,X,E,x,V,pe,he,ke,bt,qt){var Te=Math.abs,ot=Math.sin,Wt=Math.cos,zn=Math.sqrt,qn=Math.PI,sr=Te(E),Qn=Te(x),Qr=(V%360+360)%360,Or=Qr*(qn/180);if(W===ke&&X===bt)return{x:W,y:X};if(sr===0||Qn===0)return mn(W,X,ke,bt,qt).point;var bi=(W-ke)/2,Pi=(X-bt)/2,zr={x:Wt(Or)*bi+ot(Or)*Pi,y:-ot(Or)*bi+Wt(Or)*Pi},Tr=Math.pow(zr.x,2)/Math.pow(sr,2)+Math.pow(zr.y,2)/Math.pow(Qn,2);Tr>1&&(sr*=zn(Tr),Qn*=zn(Tr));var Fr=Math.pow(sr,2)*Math.pow(Qn,2)-Math.pow(sr,2)*Math.pow(zr.y,2)-Math.pow(Qn,2)*Math.pow(zr.x,2),ri=Math.pow(sr,2)*Math.pow(zr.y,2)+Math.pow(Qn,2)*Math.pow(zr.x,2),gr=Fr/ri;gr=gr<0?0:gr;var jr=(pe!==he?1:-1)*zn(gr),Vi={x:jr*(sr*zr.y/Qn),y:jr*(-(Qn*zr.x)/sr)},da={x:Wt(Or)*Vi.x-ot(Or)*Vi.y+(W+ke)/2,y:ot(Or)*Vi.x+Wt(Or)*Vi.y+(X+bt)/2},na={x:(zr.x-Vi.x)/sr,y:(zr.y-Vi.y)/Qn},Ja=Ot({x:1,y:0},na),ka={x:(-zr.x-Vi.x)/sr,y:(-zr.y-Vi.y)/Qn},no=Ot(na,ka);!he&&no>0?no-=2*qn:he&&no<0&&(no+=2*qn),no%=2*qn;var aa=Ja+no*qt,qa=sr*Wt(aa),_o=Qn*ot(aa),Ts={x:Wt(Or)*qa-ot(Or)*_o+da.x,y:ot(Or)*qa+Wt(Or)*_o+da.y};return Ts}function ct(W,X,E,x,V,pe,he,ke,bt,qt,Te){var ot,Wt=Te.bbox,zn=Wt===void 0?!0:Wt,qn=Te.length,sr=qn===void 0?!0:qn,Qn=Te.sampleSize,Qr=Qn===void 0?30:Qn,Or=typeof qt=="number",bi=W,Pi=X,zr=0,Tr=[bi,Pi,zr],Fr=[bi,Pi],ri=0,gr={x:0,y:0},jr=[{x:bi,y:Pi}];Or&&qt<=0&&(gr={x:bi,y:Pi});for(var Vi=0;Vi<=Qr;Vi+=1){if(ri=Vi/Qr,ot=Xe(W,X,E,x,V,pe,he,ke,bt,ri),bi=ot.x,Pi=ot.y,zn&&jr.push({x:bi,y:Pi}),sr&&(zr+=(0,ve.y)(Fr,[bi,Pi])),Fr=[bi,Pi],Or&&zr>=qt&&qt>Tr[2]){var da=(zr-qt)/(zr-Tr[2]);gr={x:Fr[0]*(1-da)+Tr[0]*da,y:Fr[1]*(1-da)+Tr[1]*da}}Tr=[bi,Pi,zr]}return Or&&qt>=zr&&(gr={x:ke,y:bt}),{length:zr,point:gr,min:{x:Math.min.apply(null,jr.map(function(na){return na.x})),y:Math.min.apply(null,jr.map(function(na){return na.y}))},max:{x:Math.max.apply(null,jr.map(function(na){return na.x})),y:Math.max.apply(null,jr.map(function(na){return na.y}))}}}function Rt(W,X,E,x,V,pe,he,ke,bt){var qt=1-bt;return{x:Math.pow(qt,3)*W+3*Math.pow(qt,2)*bt*E+3*qt*Math.pow(bt,2)*V+Math.pow(bt,3)*he,y:Math.pow(qt,3)*X+3*Math.pow(qt,2)*bt*x+3*qt*Math.pow(bt,2)*pe+Math.pow(bt,3)*ke}}function Oe(W,X,E,x,V,pe,he,ke,bt,qt){var Te,ot=qt.bbox,Wt=ot===void 0?!0:ot,zn=qt.length,qn=zn===void 0?!0:zn,sr=qt.sampleSize,Qn=sr===void 0?10:sr,Qr=typeof bt=="number",Or=W,bi=X,Pi=0,zr=[Or,bi,Pi],Tr=[Or,bi],Fr=0,ri={x:0,y:0},gr=[{x:Or,y:bi}];Qr&&bt<=0&&(ri={x:Or,y:bi});for(var jr=0;jr<=Qn;jr+=1){if(Fr=jr/Qn,Te=Rt(W,X,E,x,V,pe,he,ke,Fr),Or=Te.x,bi=Te.y,Wt&&gr.push({x:Or,y:bi}),qn&&(Pi+=(0,ve.y)(Tr,[Or,bi])),Tr=[Or,bi],Qr&&Pi>=bt&&bt>zr[2]){var Vi=(Pi-bt)/(Pi-zr[2]);ri={x:Tr[0]*(1-Vi)+zr[0]*Vi,y:Tr[1]*(1-Vi)+zr[1]*Vi}}zr=[Or,bi,Pi]}return Qr&&bt>=Pi&&(ri={x:he,y:ke}),{length:Pi,point:ri,min:{x:Math.min.apply(null,gr.map(function(da){return da.x})),y:Math.min.apply(null,gr.map(function(da){return da.y}))},max:{x:Math.max.apply(null,gr.map(function(da){return da.x})),y:Math.max.apply(null,gr.map(function(da){return da.y}))}}}function Ge(W,X,E,x,V,pe,he){var ke=1-he;return{x:Math.pow(ke,2)*W+2*ke*he*E+Math.pow(he,2)*V,y:Math.pow(ke,2)*X+2*ke*he*x+Math.pow(he,2)*pe}}function Vt(W,X,E,x,V,pe,he,ke){var bt,qt=ke.bbox,Te=qt===void 0?!0:qt,ot=ke.length,Wt=ot===void 0?!0:ot,zn=ke.sampleSize,qn=zn===void 0?10:zn,sr=typeof he=="number",Qn=W,Qr=X,Or=0,bi=[Qn,Qr,Or],Pi=[Qn,Qr],zr=0,Tr={x:0,y:0},Fr=[{x:Qn,y:Qr}];sr&&he<=0&&(Tr={x:Qn,y:Qr});for(var ri=0;ri<=qn;ri+=1){if(zr=ri/qn,bt=Ge(W,X,E,x,V,pe,zr),Qn=bt.x,Qr=bt.y,Te&&Fr.push({x:Qn,y:Qr}),Wt&&(Or+=(0,ve.y)(Pi,[Qn,Qr])),Pi=[Qn,Qr],sr&&Or>=he&&he>bi[2]){var gr=(Or-he)/(Or-bi[2]);Tr={x:Pi[0]*(1-gr)+bi[0]*gr,y:Pi[1]*(1-gr)+bi[1]*gr}}bi=[Qn,Qr,Or]}return sr&&he>=Or&&(Tr={x:V,y:pe}),{length:Or,point:Tr,min:{x:Math.min.apply(null,Fr.map(function(jr){return jr.x})),y:Math.min.apply(null,Fr.map(function(jr){return jr.y}))},max:{x:Math.max.apply(null,Fr.map(function(jr){return jr.x})),y:Math.max.apply(null,Fr.map(function(jr){return jr.y}))}}}function De(W,X,E){for(var x,V,pe,he,ke,bt,qt=Je(W),Te=typeof X=="number",ot,Wt=[],zn,qn=0,sr=0,Qn=0,Qr=0,Or,bi=[],Pi=[],zr=0,Tr={x:0,y:0},Fr=Tr,ri=Tr,gr=Tr,jr=0,Vi=0,da=qt.length;Vi<da;Vi+=1)Or=qt[Vi],zn=Or[0],ot=zn==="M",Wt=ot?Wt:[qn,sr].concat(Or.slice(1)),ot?(Qn=Or[1],Qr=Or[2],Tr={x:Qn,y:Qr},Fr=Tr,zr=0,Te&&X<.001&&(gr=Tr)):zn==="L"?(x=mn(Wt[0],Wt[1],Wt[2],Wt[3],(X||0)-jr),zr=x.length,Tr=x.min,Fr=x.max,ri=x.point):zn==="A"?(V=ct(Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5],Wt[6],Wt[7],Wt[8],(X||0)-jr,E||{}),zr=V.length,Tr=V.min,Fr=V.max,ri=V.point):zn==="C"?(pe=Oe(Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5],Wt[6],Wt[7],(X||0)-jr,E||{}),zr=pe.length,Tr=pe.min,Fr=pe.max,ri=pe.point):zn==="Q"?(he=Vt(Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5],(X||0)-jr,E||{}),zr=he.length,Tr=he.min,Fr=he.max,ri=he.point):zn==="Z"&&(Wt=[qn,sr,Qn,Qr],ke=mn(Wt[0],Wt[1],Wt[2],Wt[3],(X||0)-jr),zr=ke.length,Tr=ke.min,Fr=ke.max,ri=ke.point),Te&&jr<X&&jr+zr>=X&&(gr=ri),Pi.push(Fr),bi.push(Tr),jr+=zr,bt=zn!=="Z"?Or.slice(-2):[Qn,Qr],qn=bt[0],sr=bt[1];return Te&&X>=jr&&(gr={x:qn,y:sr}),{length:jr,point:gr,min:{x:Math.min.apply(null,bi.map(function(na){return na.x})),y:Math.min.apply(null,bi.map(function(na){return na.y}))},max:{x:Math.max.apply(null,Pi.map(function(na){return na.x})),y:Math.max.apply(null,Pi.map(function(na){return na.y}))}}}function et(W,X){return De(W,void 0,(0,gt.pi)((0,gt.pi)({},X),{bbox:!1,length:!0})).length}var Ce=A(45481),J=A(16510),Le=A(95177),Jt=function(W,X){return(W%X+X)%X},Be=Jt;function In(W,X,E){if(W[E].length>7){W[E].shift();for(var x=W[E],V=E;x.length;)X[E]="A",W.splice(V+=1,0,["C"].concat(x.splice(0,6)));W.splice(E,1)}}function cr(W){return Ue(W)&&W.every(function(X){var E=X[0];return"MC".includes(E)})}var bn=A(40044);function ir(W,X,E,x,V,pe){var he=.3333333333333333,ke=2/3;return[he*W+ke*E,he*X+ke*x,he*V+ke*E,he*pe+ke*x,V,pe]}var Nr=function(W,X,E,x){var V=.5,pe=zt([W,X],[E,x],V);return(0,gt.ev)((0,gt.ev)([],pe,!0),[E,x,E,x],!1)};function Ar(W,X){var E=W[0],x=W.slice(1).map(Number),V=x[0],pe=x[1],he,ke=X.x1,bt=X.y1,qt=X.x,Te=X.y;switch("TQ".includes(E)||(X.qx=null,X.qy=null),E){case"M":return X.x=V,X.y=pe,W;case"A":return he=[ke,bt].concat(x),["C"].concat((0,bn.W)(he[0],he[1],he[2],he[3],he[4],he[5],he[6],he[7],he[8],he[9]));case"Q":return X.qx=V,X.qy=pe,he=[ke,bt].concat(x),["C"].concat(ir(he[0],he[1],he[2],he[3],he[4],he[5]));case"L":return["C"].concat(Nr(ke,bt,V,pe));case"Z":return ke===qt&&bt===Te?["C",ke,bt,qt,Te,qt,Te]:["C"].concat(Nr(ke,bt,qt,Te));default:}return W}function Zr(W,X){if(X===void 0&&(X=!1),cr(W)){var E=[].concat(W);return X?[E,[]]:E}for(var x=Je(W),V=(0,gt.pi)({},Pt),pe=[],he="",ke=x.length,bt,qt,Te=[],ot=0;ot<ke;ot+=1){x[ot]&&(he=x[ot][0]),pe[ot]=he;var Wt=Ar(x[ot],V);x[ot]=Wt,In(x,pe,ot),ke=x.length,he==="Z"&&Te.push(ot),bt=x[ot],qt=bt.length,V.x1=+bt[qt-2],V.y1=+bt[qt-1],V.x2=+bt[qt-4]||V.x1,V.y2=+bt[qt-3]||V.y1}return X?[x,Te]:x}function wi(W,X){X===void 0&&(X=.5);var E=W.slice(0,2),x=W.slice(2,4),V=W.slice(4,6),pe=W.slice(6,8),he=zt(E,x,X),ke=zt(x,V,X),bt=zt(V,pe,X),qt=zt(he,ke,X),Te=zt(ke,bt,X),ot=zt(qt,Te,X);return[["C"].concat(he,qt,ot),["C"].concat(Te,bt,pe)]}function Ln(W){return W.map(function(X,E,x){var V=E&&x[E-1].slice(-2).concat(X.slice(1)),pe=E?Oe(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],V[8],{bbox:!1}).length:0,he;return E?he=pe?wi(V):[X,X]:he=[X],{s:X,ss:he,l:pe}})}function Nn(W,X,E){var x=Ln(W),V=Ln(X),pe=x.length,he=V.length,ke=x.filter(function(Qn){return Qn.l}).length,bt=V.filter(function(Qn){return Qn.l}).length,qt=x.filter(function(Qn){return Qn.l}).reduce(function(Qn,Qr){var Or=Qr.l;return Qn+Or},0)/ke||0,Te=V.filter(function(Qn){return Qn.l}).reduce(function(Qn,Qr){var Or=Qr.l;return Qn+Or},0)/bt||0,ot=E||Math.max(pe,he),Wt=[qt,Te],zn=[ot-pe,ot-he],qn=0,sr=[x,V].map(function(Qn,Qr){return Qn.l===ot?Qn.map(function(Or){return Or.s}):Qn.map(function(Or,bi){return qn=bi&&zn[Qr]&&Or.l>=Wt[Qr],zn[Qr]-=qn?1:0,qn?Or.ss:[Or.s]}).flat()});return sr[0].length===sr[1].length?sr:Nn(sr[0],sr[1],ot)}function $n(W,X,E,x,V,pe,he,ke){return 3*((ke-X)*(E+V)-(he-W)*(x+pe)+x*(W-V)-E*(X-pe)+ke*(V+W/3)-he*(pe+X/3))/20}function wn(W){var X=0,E=0,x=0;return Zr(W).map(function(V){var pe;switch(V[0]){case"M":return X=V[1],E=V[2],0;default:var he=V.slice(1),ke=he[0],bt=he[1],qt=he[2],Te=he[3],ot=he[4],Wt=he[5];return x=$n(X,E,ke,bt,qt,Te,ot,Wt),pe=V.slice(-2),X=pe[0],E=pe[1],x}}).reduce(function(V,pe){return V+pe},0)}function nt(W){return wn(W)>=0}function ze(W){var X=W.slice(1).map(function(E,x,V){return x?V[x-1].slice(-2).concat(E.slice(1)):W[0].slice(1).concat(E.slice(1))}).map(function(E){return E.map(function(x,V){return E[E.length-V-2*(1-V%2)]})}).reverse();return[["M"].concat(X[0].slice(0,2))].concat(X.map(function(E){return["C"].concat(E.slice(2))}))}function vt(W){return W.map(function(X){return Array.isArray(X)?[].concat(X):X})}function $t(W){var X=W.length,E=X-1;return W.map(function(x,V){return W.map(function(pe,he){var ke=V+he,bt;return he===0||W[ke]&&W[ke][0]==="M"?(bt=W[ke],["M"].concat(bt.slice(-2))):(ke>=X&&(ke-=E),W[ke])})})}function gn(W,X){var E=W.length-1,x=[],V=0,pe=0,he=$t(W);return he.forEach(function(ke,bt){W.slice(1).forEach(function(qt,Te){pe+=(0,ve.y)(W[(bt+Te)%E].slice(-2),X[Te%E].slice(-2))}),x[bt]=pe,pe=0}),V=x.indexOf(Math.min.apply(null,x)),he[V]}var at=A(49025),an=A(18814),hn=A(29348),pr=A(90079),ur=A(48758);function pi(W,X,E){return De(W,X,(0,gt.pi)((0,gt.pi)({},E),{bbox:!1,length:!0})).point}var ar=A(57904),di=A(52601);function sa(W,X){for(;!{}.hasOwnProperty.call(W,X)&&(W=(0,di.Z)(W))!==null;);return W}function xa(){return xa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(W,X,E){var x=sa(W,X);if(x){var V=Object.getOwnPropertyDescriptor(x,X);return V.get?V.get.call(arguments.length<3?W:E):V.value}},xa.apply(null,arguments)}function za(W,X,E,x){var V=xa((0,di.Z)(1&x?W.prototype:W),X,E);return 2&x&&typeof V=="function"?function(pe){return V.apply(E,pe)}:V}var Ui=A(13157),Ao=A(46440),fs=A(69501),cs=A(81517),ra=A(58171),ms=A(58006);var xi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof A.g!="undefined"?A.g:typeof self!="undefined"?self:{},Gn={exports:{}};(function(W,X){(function(E,x){W.exports=x()})(xi,function(){function E(zr,Tr,Fr,ri,gr){x(zr,Tr,Fr||0,ri||zr.length-1,gr||pe)}function x(zr,Tr,Fr,ri,gr){for(;ri>Fr;){if(ri-Fr>600){var jr=ri-Fr+1,Vi=Tr-Fr+1,da=Math.log(jr),na=.5*Math.exp(2*da/3),Ja=.5*Math.sqrt(da*na*(jr-na)/jr)*(Vi-jr/2<0?-1:1),ka=Math.max(Fr,Math.floor(Tr-Vi*na/jr+Ja)),no=Math.min(ri,Math.floor(Tr+(jr-Vi)*na/jr+Ja));x(zr,Tr,ka,no,gr)}var aa=zr[Tr],qa=Fr,_o=ri;for(V(zr,Fr,Tr),gr(zr[ri],aa)>0&&V(zr,Fr,ri);qa<_o;){for(V(zr,qa,_o),qa++,_o--;gr(zr[qa],aa)<0;)qa++;for(;gr(zr[_o],aa)>0;)_o--}gr(zr[Fr],aa)===0?V(zr,Fr,_o):(_o++,V(zr,_o,ri)),_o<=Tr&&(Fr=_o+1),Tr<=_o&&(ri=_o-1)}}function V(zr,Tr,Fr){var ri=zr[Tr];zr[Tr]=zr[Fr],zr[Fr]=ri}function pe(zr,Tr){return zr<Tr?-1:zr>Tr?1:0}var he=function(Tr){Tr===void 0&&(Tr=9),this._maxEntries=Math.max(4,Tr),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};he.prototype.all=function(){return this._all(this.data,[])},he.prototype.search=function(Tr){var Fr=this.data,ri=[];if(!Or(Tr,Fr))return ri;for(var gr=this.toBBox,jr=[];Fr;){for(var Vi=0;Vi<Fr.children.length;Vi++){var da=Fr.children[Vi],na=Fr.leaf?gr(da):da;Or(Tr,na)&&(Fr.leaf?ri.push(da):Qr(Tr,na)?this._all(da,ri):jr.push(da))}Fr=jr.pop()}return ri},he.prototype.collides=function(Tr){var Fr=this.data;if(!Or(Tr,Fr))return!1;for(var ri=[];Fr;){for(var gr=0;gr<Fr.children.length;gr++){var jr=Fr.children[gr],Vi=Fr.leaf?this.toBBox(jr):jr;if(Or(Tr,Vi)){if(Fr.leaf||Qr(Tr,Vi))return!0;ri.push(jr)}}Fr=ri.pop()}return!1},he.prototype.load=function(Tr){if(!(Tr&&Tr.length))return this;if(Tr.length<this._minEntries){for(var Fr=0;Fr<Tr.length;Fr++)this.insert(Tr[Fr]);return this}var ri=this._build(Tr.slice(),0,Tr.length-1,0);if(!this.data.children.length)this.data=ri;else if(this.data.height===ri.height)this._splitRoot(this.data,ri);else{if(this.data.height<ri.height){var gr=this.data;this.data=ri,ri=gr}this._insert(ri,this.data.height-ri.height-1,!0)}return this},he.prototype.insert=function(Tr){return Tr&&this._insert(Tr,this.data.height-1),this},he.prototype.clear=function(){return this.data=bi([]),this},he.prototype.remove=function(Tr,Fr){if(!Tr)return this;for(var ri=this.data,gr=this.toBBox(Tr),jr=[],Vi=[],da,na,Ja;ri||jr.length;){if(ri||(ri=jr.pop(),na=jr[jr.length-1],da=Vi.pop(),Ja=!0),ri.leaf){var ka=ke(Tr,ri.children,Fr);if(ka!==-1)return ri.children.splice(ka,1),jr.push(ri),this._condense(jr),this}!Ja&&!ri.leaf&&Qr(ri,gr)?(jr.push(ri),Vi.push(da),da=0,na=ri,ri=ri.children[0]):na?(da++,ri=na.children[da],Ja=!1):ri=null}return this},he.prototype.toBBox=function(Tr){return Tr},he.prototype.compareMinX=function(Tr,Fr){return Tr.minX-Fr.minX},he.prototype.compareMinY=function(Tr,Fr){return Tr.minY-Fr.minY},he.prototype.toJSON=function(){return this.data},he.prototype.fromJSON=function(Tr){return this.data=Tr,this},he.prototype._all=function(Tr,Fr){for(var ri=[];Tr;)Tr.leaf?Fr.push.apply(Fr,Tr.children):ri.push.apply(ri,Tr.children),Tr=ri.pop();return Fr},he.prototype._build=function(Tr,Fr,ri,gr){var jr=ri-Fr+1,Vi=this._maxEntries,da;if(jr<=Vi)return da=bi(Tr.slice(Fr,ri+1)),bt(da,this.toBBox),da;gr||(gr=Math.ceil(Math.log(jr)/Math.log(Vi)),Vi=Math.ceil(jr/Math.pow(Vi,gr-1))),da=bi([]),da.leaf=!1,da.height=gr;var na=Math.ceil(jr/Vi),Ja=na*Math.ceil(Math.sqrt(Vi));Pi(Tr,Fr,ri,Ja,this.compareMinX);for(var ka=Fr;ka<=ri;ka+=Ja){var no=Math.min(ka+Ja-1,ri);Pi(Tr,ka,no,na,this.compareMinY);for(var aa=ka;aa<=no;aa+=na){var qa=Math.min(aa+na-1,no);da.children.push(this._build(Tr,aa,qa,gr-1))}}return bt(da,this.toBBox),da},he.prototype._chooseSubtree=function(Tr,Fr,ri,gr){for(;gr.push(Fr),!(Fr.leaf||gr.length-1===ri);){for(var jr=1/0,Vi=1/0,da=void 0,na=0;na<Fr.children.length;na++){var Ja=Fr.children[na],ka=zn(Ja),no=sr(Tr,Ja)-ka;no<Vi?(Vi=no,jr=ka<jr?ka:jr,da=Ja):no===Vi&&ka<jr&&(jr=ka,da=Ja)}Fr=da||Fr.children[0]}return Fr},he.prototype._insert=function(Tr,Fr,ri){var gr=ri?Tr:this.toBBox(Tr),jr=[],Vi=this._chooseSubtree(gr,this.data,Fr,jr);for(Vi.children.push(Tr),Te(Vi,gr);Fr>=0&&jr[Fr].children.length>this._maxEntries;)this._split(jr,Fr),Fr--;this._adjustParentBBoxes(gr,jr,Fr)},he.prototype._split=function(Tr,Fr){var ri=Tr[Fr],gr=ri.children.length,jr=this._minEntries;this._chooseSplitAxis(ri,jr,gr);var Vi=this._chooseSplitIndex(ri,jr,gr),da=bi(ri.children.splice(Vi,ri.children.length-Vi));da.height=ri.height,da.leaf=ri.leaf,bt(ri,this.toBBox),bt(da,this.toBBox),Fr?Tr[Fr-1].children.push(da):this._splitRoot(ri,da)},he.prototype._splitRoot=function(Tr,Fr){this.data=bi([Tr,Fr]),this.data.height=Tr.height+1,this.data.leaf=!1,bt(this.data,this.toBBox)},he.prototype._chooseSplitIndex=function(Tr,Fr,ri){for(var gr,jr=1/0,Vi=1/0,da=Fr;da<=ri-Fr;da++){var na=qt(Tr,0,da,this.toBBox),Ja=qt(Tr,da,ri,this.toBBox),ka=Qn(na,Ja),no=zn(na)+zn(Ja);ka<jr?(jr=ka,gr=da,Vi=no<Vi?no:Vi):ka===jr&&no<Vi&&(Vi=no,gr=da)}return gr||ri-Fr},he.prototype._chooseSplitAxis=function(Tr,Fr,ri){var gr=Tr.leaf?this.compareMinX:ot,jr=Tr.leaf?this.compareMinY:Wt,Vi=this._allDistMargin(Tr,Fr,ri,gr),da=this._allDistMargin(Tr,Fr,ri,jr);Vi<da&&Tr.children.sort(gr)},he.prototype._allDistMargin=function(Tr,Fr,ri,gr){Tr.children.sort(gr);for(var jr=this.toBBox,Vi=qt(Tr,0,Fr,jr),da=qt(Tr,ri-Fr,ri,jr),na=qn(Vi)+qn(da),Ja=Fr;Ja<ri-Fr;Ja++){var ka=Tr.children[Ja];Te(Vi,Tr.leaf?jr(ka):ka),na+=qn(Vi)}for(var no=ri-Fr-1;no>=Fr;no--){var aa=Tr.children[no];Te(da,Tr.leaf?jr(aa):aa),na+=qn(da)}return na},he.prototype._adjustParentBBoxes=function(Tr,Fr,ri){for(var gr=ri;gr>=0;gr--)Te(Fr[gr],Tr)},he.prototype._condense=function(Tr){for(var Fr=Tr.length-1,ri=void 0;Fr>=0;Fr--)Tr[Fr].children.length===0?Fr>0?(ri=Tr[Fr-1].children,ri.splice(ri.indexOf(Tr[Fr]),1)):this.clear():bt(Tr[Fr],this.toBBox)};function ke(zr,Tr,Fr){if(!Fr)return Tr.indexOf(zr);for(var ri=0;ri<Tr.length;ri++)if(Fr(zr,Tr[ri]))return ri;return-1}function bt(zr,Tr){qt(zr,0,zr.children.length,Tr,zr)}function qt(zr,Tr,Fr,ri,gr){gr||(gr=bi(null)),gr.minX=1/0,gr.minY=1/0,gr.maxX=-1/0,gr.maxY=-1/0;for(var jr=Tr;jr<Fr;jr++){var Vi=zr.children[jr];Te(gr,zr.leaf?ri(Vi):Vi)}return gr}function Te(zr,Tr){return zr.minX=Math.min(zr.minX,Tr.minX),zr.minY=Math.min(zr.minY,Tr.minY),zr.maxX=Math.max(zr.maxX,Tr.maxX),zr.maxY=Math.max(zr.maxY,Tr.maxY),zr}function ot(zr,Tr){return zr.minX-Tr.minX}function Wt(zr,Tr){return zr.minY-Tr.minY}function zn(zr){return(zr.maxX-zr.minX)*(zr.maxY-zr.minY)}function qn(zr){return zr.maxX-zr.minX+(zr.maxY-zr.minY)}function sr(zr,Tr){return(Math.max(Tr.maxX,zr.maxX)-Math.min(Tr.minX,zr.minX))*(Math.max(Tr.maxY,zr.maxY)-Math.min(Tr.minY,zr.minY))}function Qn(zr,Tr){var Fr=Math.max(zr.minX,Tr.minX),ri=Math.max(zr.minY,Tr.minY),gr=Math.min(zr.maxX,Tr.maxX),jr=Math.min(zr.maxY,Tr.maxY);return Math.max(0,gr-Fr)*Math.max(0,jr-ri)}function Qr(zr,Tr){return zr.minX<=Tr.minX&&zr.minY<=Tr.minY&&Tr.maxX<=zr.maxX&&Tr.maxY<=zr.maxY}function Or(zr,Tr){return Tr.minX<=zr.maxX&&Tr.minY<=zr.maxY&&Tr.maxX>=zr.minX&&Tr.maxY>=zr.minY}function bi(zr){return{children:zr,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Pi(zr,Tr,Fr,ri,gr){for(var jr=[Tr,Fr];jr.length;)if(Fr=jr.pop(),Tr=jr.pop(),!(Fr-Tr<=ri)){var Vi=Tr+Math.ceil((Fr-Tr)/ri/2)*ri;E(zr,Vi,Tr,Fr,gr),jr.push(Tr,Vi,Vi,Fr)}}return he})})(Gn);var _e=Gn.exports,oi=function(W){return W.GROUP="g",W.FRAGMENT="fragment",W.CIRCLE="circle",W.ELLIPSE="ellipse",W.IMAGE="image",W.RECT="rect",W.LINE="line",W.POLYLINE="polyline",W.POLYGON="polygon",W.TEXT="text",W.PATH="path",W.HTML="html",W.MESH="mesh",W}({}),Ka=function(W){return W[W.ZERO=0]="ZERO",W[W.NEGATIVE_ONE=1]="NEGATIVE_ONE",W}({}),Cn=function(){function W(){(0,B.Z)(this,W),this.plugins=[]}return(0,ne.Z)(W,[{key:"addRenderingPlugin",value:function(E){this.plugins.push(E),this.context.renderingPlugins.push(E)}},{key:"removeAllRenderingPlugins",value:function(){var E=this;this.plugins.forEach(function(x){var V=E.context.renderingPlugins.indexOf(x);V>=0&&E.context.renderingPlugins.splice(V,1)})}}])}(),Un=function(){function W(X){(0,B.Z)(this,W),this.clipSpaceNearZ=Ka.NEGATIVE_ONE,this.plugins=[],this.config=(0,w.Z)({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},X)}return(0,ne.Z)(W,[{key:"registerPlugin",value:function(E){var x=this.plugins.findIndex(function(V){return V===E});x===-1&&this.plugins.push(E)}},{key:"unregisterPlugin",value:function(E){var x=this.plugins.findIndex(function(V){return V===E});x>-1&&this.plugins.splice(x,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(E){return this.plugins.find(function(x){return x.name===E})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(E){Object.assign(this.config,E)}}])}(),tn=H.IH,It=H.JG,Zt=H.Fp,$e=H.VV,Bn=H.bA,Yn=H.lu,or=function(){function W(){(0,B.Z)(this,W),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return(0,ne.Z)(W,[{key:"update",value:function(E,x){It(this.center,E),It(this.halfExtents,x),Yn(this.min,this.center,this.halfExtents),tn(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(E,x){tn(this.center,x,E),Bn(this.center,this.center,.5),Yn(this.halfExtents,x,E),Bn(this.halfExtents,this.halfExtents,.5),It(this.min,E),It(this.max,x)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(E){if(!W.isEmpty(E)){if(W.isEmpty(this)){this.setMinMax(E.getMin(),E.getMax());return}var x=this.center,V=x[0],pe=x[1],he=x[2],ke=this.halfExtents,bt=ke[0],qt=ke[1],Te=ke[2],ot=V-bt,Wt=V+bt,zn=pe-qt,qn=pe+qt,sr=he-Te,Qn=he+Te,Qr=E.center,Or=Qr[0],bi=Qr[1],Pi=Qr[2],zr=E.halfExtents,Tr=zr[0],Fr=zr[1],ri=zr[2],gr=Or-Tr,jr=Or+Tr,Vi=bi-Fr,da=bi+Fr,na=Pi-ri,Ja=Pi+ri;gr<ot&&(ot=gr),jr>Wt&&(Wt=jr),Vi<zn&&(zn=Vi),da>qn&&(qn=da),na<sr&&(sr=na),Ja>Qn&&(Qn=Ja),x[0]=(ot+Wt)*.5,x[1]=(zn+qn)*.5,x[2]=(sr+Qn)*.5,ke[0]=(Wt-ot)*.5,ke[1]=(qn-zn)*.5,ke[2]=(Qn-sr)*.5,this.min[0]=ot,this.min[1]=zn,this.min[2]=sr,this.max[0]=Wt,this.max[1]=qn,this.max[2]=Qn}}},{key:"setFromTransformedAABB",value:function(E,x){var V=this.center,pe=this.halfExtents,he=E.center,ke=E.halfExtents,bt=x[0],qt=x[4],Te=x[8],ot=x[1],Wt=x[5],zn=x[9],qn=x[2],sr=x[6],Qn=x[10],Qr=Math.abs(bt),Or=Math.abs(qt),bi=Math.abs(Te),Pi=Math.abs(ot),zr=Math.abs(Wt),Tr=Math.abs(zn),Fr=Math.abs(qn),ri=Math.abs(sr),gr=Math.abs(Qn);V[0]=x[12]+bt*he[0]+qt*he[1]+Te*he[2],V[1]=x[13]+ot*he[0]+Wt*he[1]+zn*he[2],V[2]=x[14]+qn*he[0]+sr*he[1]+Qn*he[2],pe[0]=Qr*ke[0]+Or*ke[1]+bi*ke[2],pe[1]=Pi*ke[0]+zr*ke[1]+Tr*ke[2],pe[2]=Fr*ke[0]+ri*ke[1]+gr*ke[2],Yn(this.min,V,pe),tn(this.max,V,pe)}},{key:"intersects",value:function(E){var x=this.getMax(),V=this.getMin(),pe=E.getMax(),he=E.getMin();return V[0]<=pe[0]&&x[0]>=he[0]&&V[1]<=pe[1]&&x[1]>=he[1]&&V[2]<=pe[2]&&x[2]>=he[2]}},{key:"intersection",value:function(E){if(!this.intersects(E))return null;var x=new W,V=Zt([0,0,0],this.getMin(),E.getMin()),pe=$e([0,0,0],this.getMax(),E.getMax());return x.setMinMax(V,pe),x}},{key:"getNegativeFarPoint",value:function(E){return E.pnVertexFlag===273?It([0,0,0],this.min):E.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:E.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:E.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:E.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:E.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:E.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(E){return E.pnVertexFlag===273?It([0,0,0],this.max):E.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:E.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:E.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:E.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:E.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:E.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(E){return!E||E.halfExtents[0]===0&&E.halfExtents[1]===0&&E.halfExtents[2]===0}}])}(),Ze=function(){function W(X,E){(0,B.Z)(this,W),this.distance=X||0,this.normal=E||H.al(0,1,0),this.updatePNVertexFlag()}return(0,ne.Z)(W,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(E){return H.AK(E,this.normal)-this.distance}},{key:"normalize",value:function(){var E=1/H.Zh(this.normal);H.bA(this.normal,this.normal,E),this.distance*=E}},{key:"intersectsLine",value:function(E,x,V){var pe=this.distanceToPoint(E),he=this.distanceToPoint(x),ke=pe/(pe-he),bt=ke>=0&&ke<=1;return bt&&V&&H.t7(V,E,x,ke),bt}}])}(),je=function(W){return W[W.OUTSIDE=4294967295]="OUTSIDE",W[W.INSIDE=0]="INSIDE",W[W.INDETERMINATE=2147483647]="INDETERMINATE",W}({}),st=function(){function W(X){if((0,B.Z)(this,W),this.planes=[],X)this.planes=X;else for(var E=0;E<6;E++)this.planes.push(new Ze)}return(0,ne.Z)(W,[{key:"extractFromVPMatrix",value:function(E){var x=(0,Y.Z)(E,16),V=x[0],pe=x[1],he=x[2],ke=x[3],bt=x[4],qt=x[5],Te=x[6],ot=x[7],Wt=x[8],zn=x[9],qn=x[10],sr=x[11],Qn=x[12],Qr=x[13],Or=x[14],bi=x[15];H.t8(this.planes[0].normal,ke-V,ot-bt,sr-Wt),this.planes[0].distance=bi-Qn,H.t8(this.planes[1].normal,ke+V,ot+bt,sr+Wt),this.planes[1].distance=bi+Qn,H.t8(this.planes[2].normal,ke+pe,ot+qt,sr+zn),this.planes[2].distance=bi+Qr,H.t8(this.planes[3].normal,ke-pe,ot-qt,sr-zn),this.planes[3].distance=bi-Qr,H.t8(this.planes[4].normal,ke-he,ot-Te,sr-qn),this.planes[4].distance=bi-Or,H.t8(this.planes[5].normal,ke+he,ot+Te,sr+qn),this.planes[5].distance=bi+Or,this.planes.forEach(function(Pi){Pi.normalize(),Pi.updatePNVertexFlag()})}}])}(),St=function(){function W(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(0,B.Z)(this,W),this.x=0,this.y=0,this.x=X,this.y=E}return(0,ne.Z)(W,[{key:"clone",value:function(){return new W(this.x,this.y)}},{key:"copyFrom",value:function(E){this.x=E.x,this.y=E.y}}])}(),En=function(){function W(X,E,x,V){(0,B.Z)(this,W),this.x=X,this.y=E,this.width=x,this.height=V,this.left=X,this.right=X+x,this.top=E,this.bottom=E+V}return(0,ne.Z)(W,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(E){return new W(E.x,E.y,E.width,E.height)}},{key:"applyTransform",value:function(E,x){var V=ae.al(E.x,E.y,0,1),pe=ae.al(E.x+E.width,E.y,0,1),he=ae.al(E.x,E.y+E.height,0,1),ke=ae.al(E.x+E.width,E.y+E.height,0,1),bt=ae.Ue(),qt=ae.Ue(),Te=ae.Ue(),ot=ae.Ue();ae.fF(bt,V,x),ae.fF(qt,pe,x),ae.fF(Te,he,x),ae.fF(ot,ke,x);var Wt=Math.min(bt[0],qt[0],Te[0],ot[0]),zn=Math.min(bt[1],qt[1],Te[1],ot[1]),qn=Math.max(bt[0],qt[0],Te[0],ot[0]),sr=Math.max(bt[1],qt[1],Te[1],ot[1]);return W.fromRect({x:Wt,y:zn,width:qn-Wt,height:sr-zn})}}])}(),fn="Method not implemented.",sn="Use document.documentElement instead.",Pn="Cannot append a destroyed element.";function Hn(W){return W===void 0?0:W>360||W<-360?W%360:W}var Ut=H.Ue();function Yt(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(W)&&W.length===3?x?H.d9(W):H.JG(Ut,W):(0,ye.Z)(W)?x?H.al(W,X,E):H.t8(Ut,W,X,E):x?H.al(W[0],W[1]||X,W[2]||E):H.t8(Ut,W[0],W[1]||X,W[2]||E)}var Xt=Math.PI/180;function jt(W){return W*Xt}var fr=180/Math.PI;function vr(W){return W*fr}var yr=.9;function Br(W){return W%=400,W<0&&(W+=400),W*yr}function Gi(W){return W/360}function qi(W){return 360*W}var $i=Math.PI/2;function Wi(W,X){var E=X[0],x=X[1],V=X[2],pe=X[3],he=E*E,ke=x*x,bt=V*V,qt=pe*pe,Te=he+ke+bt+qt,ot=E*pe-x*V;return ot>.499995*Te?(W[0]=$i,W[1]=2*Math.atan2(x,E),W[2]=0):ot<-.499995*Te?(W[0]=-$i,W[1]=2*Math.atan2(x,E),W[2]=0):(W[0]=Math.asin(2*(E*V-pe*x)),W[1]=Math.atan2(2*(E*pe+x*V),1-2*(bt+qt)),W[2]=Math.atan2(2*(E*x+V*pe),1-2*(ke+bt))),W}function Ii(W,X){var E,x,V=ie.getScaling(H.Ue(),X),pe=(0,Y.Z)(V,3),he=pe[0],ke=pe[1],bt=pe[2],qt=Math.asin(-X[2]/he);return qt<$i?qt>-$i?(E=Math.atan2(X[6]/ke,X[10]/bt),x=Math.atan2(X[1]/he,X[0]/he)):(x=0,E=-Math.atan2(X[4]/ke,X[5]/ke)):(x=0,E=Math.atan2(X[4]/ke,X[5]/ke)),W[0]=E,W[1]=qt,W[2]=x,W}function Qa(W,X){return X.length===16?Ii(W,X):Wi(W,X)}function on(W,X,E,x,V){var pe=Math.cos(W),he=Math.sin(W);return le.al(x*pe,V*he,0,-x*he,V*pe,0,X,E,1)}function dn(W,X,E,x,V,pe,he){var ke=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,bt=2*pe,qt=E-X,Te=x-V,ot=bt/qt,Wt=bt/Te,zn=(E+X)/qt,qn=(x+V)/Te,sr,Qn,Qr=he-pe,Or=he*pe;return ke?(sr=-he/Qr,Qn=-Or/Qr):(sr=-(he+pe)/Qr,Qn=-2*Or/Qr),W[0]=ot,W[1]=0,W[2]=0,W[3]=0,W[4]=0,W[5]=Wt,W[6]=0,W[7]=0,W[8]=zn,W[9]=qn,W[10]=sr,W[11]=-1,W[12]=0,W[13]=0,W[14]=Qn,W[15]=0,W}function jn(W){var X=W[0],E=W[1],x=W[3],V=W[4],pe=Math.sqrt(X*X+E*E),he=Math.sqrt(x*x+V*V),ke=X*V-E*x;if(ke<0&&(X<V?pe=-pe:he=-he),pe){var bt=1/pe;X*=bt,E*=bt}if(he){var qt=1/he;x*=qt,V*=qt}var Te=Math.atan2(E,X),ot=vr(Te);return[W[6],W[7],pe,he,ot]}var Ur=ie.create(),Yr=ie.create(),Et=ae.Ue(),Ct=[H.Ue(),H.Ue(),H.Ue()],xn=H.Ue();function Xn(W,X,E,x,V,pe){if(!mt(Ur,W)||(ie.copy(Yr,Ur),Yr[3]=0,Yr[7]=0,Yr[11]=0,Yr[15]=1,Math.abs(ie.determinant(Yr))<1e-8))return!1;var he=Ur[3],ke=Ur[7],bt=Ur[11],qt=Ur[12],Te=Ur[13],ot=Ur[14],Wt=Ur[15];if(he!==0||ke!==0||bt!==0){Et[0]=he,Et[1]=ke,Et[2]=bt,Et[3]=Wt;var zn=ie.invert(Yr,Yr);if(!zn)return!1;ie.transpose(Yr,Yr),ae.fF(V,Et,Yr)}else V[0]=V[1]=V[2]=0,V[3]=1;if(X[0]=qt,X[1]=Te,X[2]=ot,vn(Ct,Ur),E[0]=H.kE(Ct[0]),H.Fv(Ct[0],Ct[0]),x[0]=H.AK(Ct[0],Ct[1]),tr(Ct[1],Ct[1],Ct[0],1,-x[0]),E[1]=H.kE(Ct[1]),H.Fv(Ct[1],Ct[1]),x[0]/=E[1],x[1]=H.AK(Ct[0],Ct[2]),tr(Ct[2],Ct[2],Ct[0],1,-x[1]),x[2]=H.AK(Ct[1],Ct[2]),tr(Ct[2],Ct[2],Ct[1],1,-x[2]),E[2]=H.kE(Ct[2]),H.Fv(Ct[2],Ct[2]),x[1]/=E[2],x[2]/=E[2],H.kC(xn,Ct[1],Ct[2]),H.AK(Ct[0],xn)<0)for(var qn=0;qn<3;qn++)E[qn]*=-1,Ct[qn][0]*=-1,Ct[qn][1]*=-1,Ct[qn][2]*=-1;return pe[0]=.5*Math.sqrt(Math.max(1+Ct[0][0]-Ct[1][1]-Ct[2][2],0)),pe[1]=.5*Math.sqrt(Math.max(1-Ct[0][0]+Ct[1][1]-Ct[2][2],0)),pe[2]=.5*Math.sqrt(Math.max(1-Ct[0][0]-Ct[1][1]+Ct[2][2],0)),pe[3]=.5*Math.sqrt(Math.max(1+Ct[0][0]+Ct[1][1]+Ct[2][2],0)),Ct[2][1]>Ct[1][2]&&(pe[0]=-pe[0]),Ct[0][2]>Ct[2][0]&&(pe[1]=-pe[1]),Ct[1][0]>Ct[0][1]&&(pe[2]=-pe[2]),!0}function mt(W,X){var E=X[15];if(E===0)return!1;for(var x=1/E,V=0;V<16;V++)W[V]=X[V]*x;return!0}function vn(W,X){W[0][0]=X[0],W[0][1]=X[1],W[0][2]=X[2],W[1][0]=X[4],W[1][1]=X[5],W[1][2]=X[6],W[2][0]=X[8],W[2][1]=X[9],W[2][2]=X[10]}function tr(W,X,E,x,V){W[0]=X[0]*x+E[0]*V,W[1]=X[1]*x+E[1]*V,W[2]=X[2]*x+E[2]*V}var Mr=function(W){return W[W.ORBITING=0]="ORBITING",W[W.EXPLORING=1]="EXPLORING",W[W.TRACKING=2]="TRACKING",W}({}),ui=function(W){return W[W.DEFAULT=0]="DEFAULT",W[W.ROTATIONAL=1]="ROTATIONAL",W[W.TRANSLATIONAL=2]="TRANSLATIONAL",W[W.CINEMATIC=3]="CINEMATIC",W}({}),Ri=function(W){return W[W.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",W[W.PERSPECTIVE=1]="PERSPECTIVE",W}({}),Aa={UPDATED:"updated"},Ga=2e-4,vo=function(){function W(){(0,B.Z)(this,W),this.clipSpaceNearZ=Ka.NEGATIVE_ONE,this.eventEmitter=new K.Z,this.matrix=ie.create(),this.right=H.al(1,0,0),this.up=H.al(0,1,0),this.forward=H.al(0,0,1),this.position=H.al(0,0,1),this.focalPoint=H.al(0,0,0),this.distanceVector=H.al(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=ie.create(),this.projectionMatrixInverse=ie.create(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Mr.EXPLORING,this.trackingMode=ui.DEFAULT,this.projectionMode=Ri.PERSPECTIVE,this.frustum=new st,this.orthoMatrix=ie.create()}return(0,ne.Z)(W,[{key:"isOrtho",value:function(){return this.projectionMode===Ri.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(E){this.enableUpdate=E}},{key:"setType",value:function(E,x){return this.type=E,this.type===Mr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Mr.TRACKING&&x!==void 0&&this.setTrackingMode(x),this}},{key:"setProjectionMode",value:function(E){return this.projectionMode=E,this}},{key:"setTrackingMode",value:function(E){if(this.type!==Mr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=E,this}},{key:"setWorldRotation",value:function(E){return this.rotateWorld=E,this._getAngles(),this}},{key:"getViewTransform",value:function(){return ie.invert(ie.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(E,x){var V=ie.fromTranslation(ie.create(),[E,x,0]);this.jitteredProjectionMatrix=ie.multiply(ie.create(),V,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(E){return this.matrix=E,this._update(),this}},{key:"setProjectionMatrix",value:function(E){this.projectionMatrix=E}},{key:"setFov",value:function(E){return this.setPerspective(this.near,this.far,E,this.aspect),this}},{key:"setAspect",value:function(E){return this.setPerspective(this.near,this.far,this.fov,E),this}},{key:"setNear",value:function(E){return this.projectionMode===Ri.PERSPECTIVE?this.setPerspective(E,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,E,this.far),this}},{key:"setFar",value:function(E){return this.projectionMode===Ri.PERSPECTIVE?this.setPerspective(this.near,E,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,E),this}},{key:"setViewOffset",value:function(E,x,V,pe,he,ke){return this.aspect=E/x,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=E,this.view.fullHeight=x,this.view.offsetX=V,this.view.offsetY=pe,this.view.width=he,this.view.height=ke,this.projectionMode===Ri.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Ri.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(E){return this.zoom=E,this.projectionMode===Ri.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Ri.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(E,x){var V=this.canvas.viewport2Canvas({x:x[0],y:x[1]}),pe=V.x,he=V.y,ke=this.roll;this.rotate(0,0,-ke),this.setPosition(pe,he),this.setFocalPoint(pe,he),this.setZoom(E),this.rotate(0,0,ke);var bt=this.canvas.viewport2Canvas({x:x[0],y:x[1]}),qt=bt.x,Te=bt.y,ot=H.al(qt-pe,Te-he,0),Wt=H.AK(ot,this.right)/H.kE(this.right),zn=H.AK(ot,this.up)/H.kE(this.up),qn=this.getPosition(),sr=(0,Y.Z)(qn,2),Qn=sr[0],Qr=sr[1],Or=this.getFocalPoint(),bi=(0,Y.Z)(Or,2),Pi=bi[0],zr=bi[1];return this.setPosition(Qn-Wt,Qr-zn),this.setFocalPoint(Pi-Wt,zr-zn),this}},{key:"setPerspective",value:function(E,x,V,pe){var he;this.projectionMode=Ri.PERSPECTIVE,this.fov=V,this.near=E,this.far=x,this.aspect=pe;var ke=this.near*Math.tan(jt(.5*this.fov))/this.zoom,bt=2*ke,qt=this.aspect*bt,Te=-.5*qt;if((he=this.view)!==null&&he!==void 0&&he.enabled){var ot=this.view.fullWidth,Wt=this.view.fullHeight;Te+=this.view.offsetX*qt/ot,ke-=this.view.offsetY*bt/Wt,qt*=this.view.width/ot,bt*=this.view.height/Wt}return dn(this.projectionMatrix,Te,Te+qt,ke-bt,ke,E,this.far,this.clipSpaceNearZ===Ka.ZERO),ie.invert(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(E,x,V,pe,he,ke){var bt;this.projectionMode=Ri.ORTHOGRAPHIC,this.rright=x,this.left=E,this.top=V,this.bottom=pe,this.near=he,this.far=ke;var qt=(this.rright-this.left)/(2*this.zoom),Te=(this.top-this.bottom)/(2*this.zoom),ot=(this.rright+this.left)/2,Wt=(this.top+this.bottom)/2,zn=ot-qt,qn=ot+qt,sr=Wt+Te,Qn=Wt-Te;if((bt=this.view)!==null&&bt!==void 0&&bt.enabled){var Qr=(this.rright-this.left)/this.view.fullWidth/this.zoom,Or=(this.top-this.bottom)/this.view.fullHeight/this.zoom;zn+=Qr*this.view.offsetX,qn=zn+Qr*this.view.width,sr-=Or*this.view.offsetY,Qn=sr-Or*this.view.height}return this.clipSpaceNearZ===Ka.NEGATIVE_ONE?ie.ortho(this.projectionMatrix,zn,qn,sr,Qn,he,ke):ie.orthoZO(this.projectionMatrix,zn,qn,sr,Qn,he,ke),ie.invert(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],pe=Yt(E,x,V);return this._setPosition(pe),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],pe=H.al(0,1,0);if(this.focalPoint=Yt(E,x,V),this.trackingMode===ui.CINEMATIC){var he=H.$X(H.Ue(),this.focalPoint,this.position);E=he[0],x=he[1],V=he[2];var ke=H.kE(he),bt=vr(Math.asin(x/ke)),qt=90+vr(Math.atan2(V,E)),Te=ie.create();ie.rotateY(Te,Te,jt(qt)),ie.rotateX(Te,Te,jt(bt)),pe=H.fF(H.Ue(),[0,1,0],Te)}return ie.invert(this.matrix,ie.lookAt(ie.create(),this.position,this.focalPoint,pe)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(E){if(this.distance===E||E<0)return this;this.distance=E,this.distance<Ga&&(this.distance=Ga),this.dollyingStep=this.distance/100;var x=H.Ue();E=this.distance;var V=this.forward,pe=this.focalPoint;return x[0]=E*V[0]+pe[0],x[1]=E*V[1]+pe[1],x[2]=E*V[2]+pe[2],this._setPosition(x),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(E){return this.maxDistance=E,this}},{key:"setMinDistance",value:function(E){return this.minDistance=E,this}},{key:"setAzimuth",value:function(E){return this.azimuth=Hn(E),this.computeMatrix(),this._getAxes(),this.type===Mr.ORBITING||this.type===Mr.EXPLORING?this._getPosition():this.type===Mr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(E){return this.elevation=Hn(E),this.computeMatrix(),this._getAxes(),this.type===Mr.ORBITING||this.type===Mr.EXPLORING?this._getPosition():this.type===Mr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(E){return this.roll=Hn(E),this.computeMatrix(),this._getAxes(),this.type===Mr.ORBITING||this.type===Mr.EXPLORING?this._getPosition():this.type===Mr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var E=se.yY(se.Ue(),[0,0,1],jt(this.roll));ie.identity(this.matrix);var x=se.yY(se.Ue(),[1,0,0],jt((this.rotateWorld&&this.type!==Mr.TRACKING||this.type===Mr.TRACKING?1:-1)*this.elevation)),V=se.yY(se.Ue(),[0,1,0],jt((this.rotateWorld&&this.type!==Mr.TRACKING||this.type===Mr.TRACKING?1:-1)*this.azimuth)),pe=se.Jp(se.Ue(),V,x);pe=se.Jp(se.Ue(),pe,E);var he=ie.fromQuat(ie.create(),pe);this.type===Mr.ORBITING||this.type===Mr.EXPLORING?(ie.translate(this.matrix,this.matrix,this.focalPoint),ie.multiply(this.matrix,this.matrix,he),ie.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Mr.TRACKING&&(ie.translate(this.matrix,this.matrix,this.position),ie.multiply(this.matrix,this.matrix,he))}},{key:"_setPosition",value:function(E,x,V){this.position=Yt(E,x,V);var pe=this.matrix;pe[12]=this.position[0],pe[13]=this.position[1],pe[14]=this.position[2],pe[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){H.JG(this.right,Yt(ae.fF(ae.Ue(),[1,0,0,0],this.matrix))),H.JG(this.up,Yt(ae.fF(ae.Ue(),[0,1,0,0],this.matrix))),H.JG(this.forward,Yt(ae.fF(ae.Ue(),[0,0,1,0],this.matrix))),H.Fv(this.right,this.right),H.Fv(this.up,this.up),H.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var E=this.distanceVector[0],x=this.distanceVector[1],V=this.distanceVector[2],pe=H.kE(this.distanceVector);if(pe===0){this.elevation=0,this.azimuth=0;return}this.type===Mr.TRACKING?(this.elevation=vr(Math.asin(x/pe)),this.azimuth=vr(Math.atan2(-E,-V))):this.rotateWorld?(this.elevation=vr(Math.asin(x/pe)),this.azimuth=vr(Math.atan2(-E,-V))):(this.elevation=-vr(Math.asin(x/pe)),this.azimuth=-vr(Math.atan2(-E,-V)))}},{key:"_getPosition",value:function(){H.JG(this.position,Yt(ae.fF(ae.Ue(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){H.kK(this.distanceVector,[0,0,-this.distance],le.xO(le.Ue(),this.matrix)),H.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=H.$X(H.Ue(),this.focalPoint,this.position),this.distance=H.kE(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Ri.ORTHOGRAPHIC){var E=this.position,x=se.yY(se.Ue(),[0,0,1],-this.roll*Math.PI/180);ie.fromRotationTranslationScaleOrigin(this.orthoMatrix,x,H.al((this.rright-this.left)/2-E[0],(this.top-this.bottom)/2-E[1],0),H.al(this.zoom,this.zoom,1),E)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var E=this.getViewTransform(),x=ie.multiply(ie.create(),this.getPerspective(),E);this.getFrustum().extractFromVPMatrix(x),this.eventEmitter.emit(Aa.UPDATED)}}},{key:"rotate",value:function(E,x,V){throw new Error(fn)}},{key:"pan",value:function(E,x){throw new Error(fn)}},{key:"dolly",value:function(E){throw new Error(fn)}},{key:"createLandmark",value:function(E,x){throw new Error(fn)}},{key:"gotoLandmark",value:function(E,x){throw new Error(fn)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(fn)}}])}(),To=function(W){return W[W.Standard=0]="Standard",W}({}),Po=function(W){return W[W.ADDED=0]="ADDED",W[W.REMOVED=1]="REMOVED",W[W.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",W}({}),ds={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new En(0,0,0,0)},Za=function(W){return W.COORDINATE="<coordinate>",W.COLOR="<color>",W.PAINT="<paint>",W.NUMBER="<number>",W.ANGLE="<angle>",W.OPACITY_VALUE="<opacity-value>",W.SHADOW_BLUR="<shadow-blur>",W.LENGTH="<length>",W.PERCENTAGE="<percentage>",W.LENGTH_PERCENTAGE="<length> | <percentage>",W.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",W.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",W.LIST_OF_POINTS="<list-of-points>",W.PATH="<path>",W.FILTER="<filter>",W.Z_INDEX="<z-index>",W.OFFSET_DISTANCE="<offset-distance>",W.DEFINED_PATH="<defined-path>",W.MARKER="<marker>",W.TRANSFORM="<transform>",W.TRANSFORM_ORIGIN="<transform-origin>",W.TEXT="<text>",W.TEXT_TRANSFORM="<text-transform>",W}({});function ks(W,X){if(typeof W!="function"||X!=null&&typeof X!="function")throw new TypeError("Expected a function");var E=function(){for(var V=arguments.length,pe=new Array(V),he=0;he<V;he++)pe[he]=arguments[he];var ke=X?X.apply(this,pe):pe[0],bt=E.cache;if(bt.has(ke))return bt.get(ke);var qt=W.apply(this,pe);return E.cache=bt.set(ke,qt)||bt,qt};return E.cache=new(ks.Cache||Map),E}ks.Cache=Map;var oo=function(W){return W[W.kUnknown=0]="kUnknown",W[W.kNumber=1]="kNumber",W[W.kPercentage=2]="kPercentage",W[W.kEms=3]="kEms",W[W.kPixels=4]="kPixels",W[W.kRems=5]="kRems",W[W.kDegrees=6]="kDegrees",W[W.kRadians=7]="kRadians",W[W.kGradians=8]="kGradians",W[W.kTurns=9]="kTurns",W[W.kMilliseconds=10]="kMilliseconds",W[W.kSeconds=11]="kSeconds",W[W.kInteger=12]="kInteger",W}({}),nu=function(W){return W[W.kUNumber=0]="kUNumber",W[W.kUPercent=1]="kUPercent",W[W.kULength=2]="kULength",W[W.kUAngle=3]="kUAngle",W[W.kUTime=4]="kUTime",W[W.kUOther=5]="kUOther",W}({}),wu=function(W){return W[W.kYes=0]="kYes",W[W.kNo=1]="kNo",W}({}),Ll=function(W){return W[W.kYes=0]="kYes",W[W.kNo=1]="kNo",W}({}),Si=[{name:"em",unit_type:oo.kEms},{name:"px",unit_type:oo.kPixels},{name:"deg",unit_type:oo.kDegrees},{name:"rad",unit_type:oo.kRadians},{name:"grad",unit_type:oo.kGradians},{name:"ms",unit_type:oo.kMilliseconds},{name:"s",unit_type:oo.kSeconds},{name:"rem",unit_type:oo.kRems},{name:"turn",unit_type:oo.kTurns}],Sn=function(W){return W[W.kUnknownType=0]="kUnknownType",W[W.kUnparsedType=1]="kUnparsedType",W[W.kKeywordType=2]="kKeywordType",W[W.kUnitType=3]="kUnitType",W[W.kSumType=4]="kSumType",W[W.kProductType=5]="kProductType",W[W.kNegateType=6]="kNegateType",W[W.kInvertType=7]="kInvertType",W[W.kMinType=8]="kMinType",W[W.kMaxType=9]="kMaxType",W[W.kClampType=10]="kClampType",W[W.kTransformType=11]="kTransformType",W[W.kPositionType=12]="kPositionType",W[W.kURLImageType=13]="kURLImageType",W[W.kColorType=14]="kColorType",W[W.kUnsupportedColorType=15]="kUnsupportedColorType",W}({}),Qt=function(X){return Si.find(function(E){return E.name===X}).unit_type},rr=function(X){return X?X==="number"?oo.kNumber:X==="percent"||X==="%"?oo.kPercentage:Qt(X):oo.kUnknown},rt=function(X){switch(X){case oo.kNumber:case oo.kInteger:return nu.kUNumber;case oo.kPercentage:return nu.kUPercent;case oo.kPixels:return nu.kULength;case oo.kMilliseconds:case oo.kSeconds:return nu.kUTime;case oo.kDegrees:case oo.kRadians:case oo.kGradians:case oo.kTurns:return nu.kUAngle;default:return nu.kUOther}},ai=function(X){switch(X){case nu.kUNumber:return oo.kNumber;case nu.kULength:return oo.kPixels;case nu.kUPercent:return oo.kPercentage;case nu.kUTime:return oo.kSeconds;case nu.kUAngle:return oo.kDegrees;default:return oo.kUnknown}},mi=function(X){var E=1;switch(X){case oo.kPixels:case oo.kDegrees:case oo.kSeconds:break;case oo.kMilliseconds:E=.001;break;case oo.kRadians:E=180/Math.PI;break;case oo.kGradians:E=.9;break;case oo.kTurns:E=360;break}return E},_a=function(X){switch(X){case oo.kNumber:case oo.kInteger:return"";case oo.kPercentage:return"%";case oo.kEms:return"em";case oo.kRems:return"rem";case oo.kPixels:return"px";case oo.kDegrees:return"deg";case oo.kRadians:return"rad";case oo.kGradians:return"grad";case oo.kMilliseconds:return"ms";case oo.kSeconds:return"s";case oo.kTurns:return"turn"}return""},Xi=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"toString",value:function(){return this.buildCSSText(wu.kNo,Ll.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Sn.kUnitType&&this.getType()<=Sn.kClampType}}],[{key:"isAngle",value:function(E){return E===oo.kDegrees||E===oo.kRadians||E===oo.kGradians||E===oo.kTurns}},{key:"isLength",value:function(E){return E>=oo.kEms&&E<oo.kDegrees}},{key:"isRelativeUnit",value:function(E){return E===oo.kPercentage||E===oo.kEms||E===oo.kRems}},{key:"isTime",value:function(E){return E===oo.kSeconds||E===oo.kMilliseconds}}])}(),ia=function(W){function X(E){var x;return(0,B.Z)(this,X),x=(0,j.Z)(this,X),x.colorSpace=E,x}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"getType",value:function(){return Sn.kColorType}},{key:"to",value:function(x){return this}}])}(Xi),ua=function(W){return W[W.Constant=0]="Constant",W[W.LinearGradient=1]="LinearGradient",W[W.RadialGradient=2]="RadialGradient",W}({}),co=function(W){function X(E,x){var V;return(0,B.Z)(this,X),V=(0,j.Z)(this,X),V.type=E,V.value=x,V}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"clone",value:function(){return new X(this.type,this.value)}},{key:"buildCSSText",value:function(x,V,pe){return pe}},{key:"getType",value:function(){return Sn.kColorType}}])}(Xi),Ro=function(W){function X(E){var x;return(0,B.Z)(this,X),x=(0,j.Z)(this,X),x.value=E,x}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"clone",value:function(){return new X(this.value)}},{key:"getType",value:function(){return Sn.kKeywordType}},{key:"buildCSSText",value:function(x,V,pe){return pe+this.value}}])}(Xi),As=function(X){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x="";return Number.isFinite(X)?x="NaN":X>0?x="infinity":x="-infinity",x+=E},So=function(X){return ai(rt(X))},ao=function(W){function X(E){var x,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oo.kNumber;(0,B.Z)(this,X),x=(0,j.Z)(this,X);var pe;return typeof V=="string"?pe=rr(V):pe=V,x.unit=pe,x.value=E,x}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"clone",value:function(){return new X(this.value,this.unit)}},{key:"equals",value:function(x){var V=x;return this.value===V.value&&this.unit===V.unit}},{key:"getType",value:function(){return Sn.kUnitType}},{key:"convertTo",value:function(x){if(this.unit===x)return new X(this.value,this.unit);var V=So(this.unit);if(V!==So(x)||V===oo.kUnknown)return null;var pe=mi(this.unit)/mi(x);return new X(this.value*pe,x)}},{key:"buildCSSText",value:function(x,V,pe){var he;switch(this.unit){case oo.kUnknown:break;case oo.kInteger:he=Number(this.value).toFixed(0);break;case oo.kNumber:case oo.kPercentage:case oo.kEms:case oo.kRems:case oo.kPixels:case oo.kDegrees:case oo.kRadians:case oo.kGradians:case oo.kMilliseconds:case oo.kSeconds:case oo.kTurns:{var ke=-999999,bt=999999,qt=this.value,Te=_a(this.unit);if(qt<ke||qt>bt){var ot=_a(this.unit);!Number.isFinite(qt)||Number.isNaN(qt)?he=As(qt,ot):he=qt+(ot||"")}else he="".concat(qt).concat(Te)}}return pe+=he,pe}}])}(Xi),Wa=new ao(0,"px");new ao(1,"px");var ns=new ao(0,"deg"),Do=function(W){function X(E,x,V){var pe,he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,ke=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(0,B.Z)(this,X),pe=(0,j.Z)(this,X,["rgb"]),pe.r=E,pe.g=x,pe.b=V,pe.alpha=he,pe.isNone=ke,pe}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"clone",value:function(){return new X(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(x,V,pe){return"".concat(pe,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(ia),ls=new Ro("unset"),Bs=new Ro("initial"),Xo=new Ro("inherit"),wt={"":ls,unset:ls,initial:Bs,inherit:Xo},er=function(X){return wt[X]||(wt[X]=new Ro(X)),wt[X]},nn=new Do(0,0,0,0,!0),wr=new Do(0,0,0,0),hi=ks(function(W,X,E,x){return new Do(W,X,E,x)},function(W,X,E,x){return"rgba(".concat(W,",").concat(X,",").concat(E,",").concat(x,")")}),gi=function(X){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oo.kNumber;return new ao(X,E)};new ao(50,"%");function xr(W){var X=W.type,E=W.value;return X==="hex"?"#".concat(E):X==="literal"?E:X==="rgb"?"rgb(".concat(E.join(","),")"):"rgba(".concat(E.join(","),")")}var Ji=function(){var W={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},X="";function E(aa){throw new Error("".concat(X,": ").concat(aa))}function x(){var aa=V();return X.length>0&&E("Invalid input not EOF"),aa}function V(){return bi(pe)}function pe(){return he("linear-gradient",W.linearGradient,bt)||he("repeating-linear-gradient",W.repeatingLinearGradient,bt)||he("radial-gradient",W.radialGradient,ot)||he("repeating-radial-gradient",W.repeatingRadialGradient,ot)||he("conic-gradient",W.conicGradient,ot)}function he(aa,qa,_o){return ke(qa,function(Ts){var to=_o();return to&&(ka(W.comma)||E("Missing comma before color stops")),{type:aa,orientation:to,colorStops:bi(Pi)}})}function ke(aa,qa){var _o=ka(aa);if(_o){ka(W.startCall)||E("Missing (");var Ts=qa(_o);return ka(W.endCall)||E("Missing )"),Ts}}function bt(){return qt()||Te()}function qt(){return Ja("directional",W.sideOrCorner,1)}function Te(){return Ja("angular",W.angleValue,1)}function ot(){var aa,qa=Wt(),_o;return qa&&(aa=[],aa.push(qa),_o=X,ka(W.comma)&&(qa=Wt(),qa?aa.push(qa):X=_o)),aa}function Wt(){var aa=zn()||qn();if(aa)aa.at=Qn();else{var qa=sr();if(qa){aa=qa;var _o=Qn();_o&&(aa.at=_o)}else{var Ts=Qr();Ts&&(aa={type:"default-radial",at:Ts})}}return aa}function zn(){var aa=Ja("shape",/^(circle)/i,0);return aa&&(aa.style=na()||sr()),aa}function qn(){var aa=Ja("shape",/^(ellipse)/i,0);return aa&&(aa.style=Vi()||sr()),aa}function sr(){return Ja("extent-keyword",W.extentKeywords,1)}function Qn(){if(Ja("position",/^at/,0)){var aa=Qr();return aa||E("Missing positioning value"),aa}}function Qr(){var aa=Or();if(aa.x||aa.y)return{type:"position",value:aa}}function Or(){return{x:Vi(),y:Vi()}}function bi(aa){var qa=aa(),_o=[];if(qa)for(_o.push(qa);ka(W.comma);)qa=aa(),qa?_o.push(qa):E("One extra comma");return _o}function Pi(){var aa=zr();return aa||E("Expected color definition"),aa.length=Vi(),aa}function zr(){return Fr()||gr()||ri()||Tr()}function Tr(){return Ja("literal",W.literalColor,0)}function Fr(){return Ja("hex",W.hexColor,1)}function ri(){return ke(W.rgbColor,function(){return{type:"rgb",value:bi(jr)}})}function gr(){return ke(W.rgbaColor,function(){return{type:"rgba",value:bi(jr)}})}function jr(){return ka(W.number)[1]}function Vi(){return Ja("%",W.percentageValue,1)||da()||na()}function da(){return Ja("position-keyword",W.positionKeywords,1)}function na(){return Ja("px",W.pixelValue,1)||Ja("em",W.emValue,1)}function Ja(aa,qa,_o){var Ts=ka(qa);if(Ts)return{type:aa,value:Ts[_o]}}function ka(aa){var qa=/^[\n\r\t\s]+/.exec(X);qa&&no(qa[0].length);var _o=aa.exec(X);return _o&&no(_o[0].length),_o}function no(aa){X=X.substring(aa)}return function(aa){return X=aa,x()}}();function Ai(W,X,E,x){var V=jt(x.value),pe=0,he=0,ke=pe+X/2,bt=he+E/2,qt=Math.abs(X*Math.cos(V))+Math.abs(E*Math.sin(V)),Te=W[0]+ke-Math.cos(V)*qt/2,ot=W[1]+bt-Math.sin(V)*qt/2,Wt=W[0]+ke+Math.cos(V)*qt/2,zn=W[1]+bt+Math.sin(V)*qt/2;return{x1:Te,y1:ot,x2:Wt,y2:zn}}function Mi(W,X,E,x,V,pe){var he=x.value,ke=V.value;x.unit===oo.kPercentage&&(he=x.value/100*X),V.unit===oo.kPercentage&&(ke=V.value/100*E);var bt=Math.max((0,ve.y)([0,0],[he,ke]),(0,ve.y)([0,E],[he,ke]),(0,ve.y)([X,E],[he,ke]),(0,ve.y)([X,0],[he,ke]));return pe&&(pe instanceof ao?bt=pe.value:pe instanceof Ro&&(pe.value==="closest-side"?bt=Math.min(he,X-he,ke,E-ke):pe.value==="farthest-side"?bt=Math.max(he,X-he,ke,E-ke):pe.value==="closest-corner"&&(bt=Math.min((0,ve.y)([0,0],[he,ke]),(0,ve.y)([0,E],[he,ke]),(0,ve.y)([X,E],[he,ke]),(0,ve.y)([X,0],[he,ke]))))),{x:he+W[0],y:ke+W[1],r:bt}}var po=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ha=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Qo=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Cs=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Oo(W){var X,E=W.length;if(W[E-1].length=(X=W[E-1].length)!==null&&X!==void 0?X:{type:"%",value:"100"},E>1){var x;W[0].length=(x=W[0].length)!==null&&x!==void 0?x:{type:"%",value:"0"}}for(var V=0,pe=Number(W[0].length.value),he=1;he<E;he++){var ke,bt=(ke=W[he].length)===null||ke===void 0?void 0:ke.value;if(!(0,fe.Z)(bt)&&!(0,fe.Z)(pe)){for(var qt=1;qt<he-V;qt++)W[V+qt].length={type:"%",value:"".concat(pe+(Number(bt)-pe)*qt/(he-V))};V=he,pe=Number(bt)}}}var su={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},ru=ks(function(W){var X;return W.type==="angular"?X=Number(W.value):X=su[W.value]||0,gi(X,"deg")}),xt=ks(function(W){var X=50,E=50,x="%",V="%";if((W==null?void 0:W.type)==="position"){var pe=W.value,he=pe.x,ke=pe.y;(he==null?void 0:he.type)==="position-keyword"&&(he.value==="left"?X=0:he.value==="center"?X=50:he.value==="right"?X=100:he.value==="top"?E=0:he.value==="bottom"&&(E=100)),(ke==null?void 0:ke.type)==="position-keyword"&&(ke.value==="left"?X=0:ke.value==="center"?E=50:ke.value==="right"?X=100:ke.value==="top"?E=0:ke.value==="bottom"&&(E=100)),((he==null?void 0:he.type)==="px"||(he==null?void 0:he.type)==="%"||(he==null?void 0:he.type)==="em")&&(x=he==null?void 0:he.type,X=Number(he.value)),((ke==null?void 0:ke.type)==="px"||(ke==null?void 0:ke.type)==="%"||(ke==null?void 0:ke.type)==="em")&&(V=ke==null?void 0:ke.type,E=Number(ke.value))}return{cx:gi(X,x),cy:gi(E,V)}}),Zn=ks(function(W){if(W.indexOf("linear")>-1||W.indexOf("radial")>-1){var X=Ji(W);return X.map(function(ke){var bt=ke.type,qt=ke.orientation,Te=ke.colorStops;Oo(Te);var ot=Te.map(function(bi){return{offset:gi(Number(bi.length.value),"%"),color:xr(bi)}});if(bt==="linear-gradient")return new co(ua.LinearGradient,{angle:qt?ru(qt):ns,steps:ot});if(bt==="radial-gradient"&&(qt||(qt=[{type:"shape",value:"circle"}]),qt[0].type==="shape"&&qt[0].value==="circle")){var Wt=xt(qt[0].at),zn=Wt.cx,qn=Wt.cy,sr;if(qt[0].style){var Qn=qt[0].style,Qr=Qn.type,Or=Qn.value;Qr==="extent-keyword"?sr=er(Or):sr=gi(Or,Qr)}return new co(ua.RadialGradient,{cx:zn,cy:qn,size:sr,steps:ot})}})}var E=W[0];if(W[1]==="("||W[2]==="("){if(E==="l"){var x=po.exec(W);if(x){var V,pe=((V=x[2].match(Cs))===null||V===void 0?void 0:V.map(function(ke){return ke.split(":")}))||[];return[new co(ua.LinearGradient,{angle:gi(parseFloat(x[1]),"deg"),steps:pe.map(function(ke){var bt=(0,Y.Z)(ke,2),qt=bt[0],Te=bt[1];return{offset:gi(Number(qt)*100,"%"),color:Te}})})]}}else if(E==="r"){var he=Cr(W);if(he)if((0,Fe.Z)(he))W=he;else return[new co(ua.RadialGradient,he)]}else if(E==="p")return Di(W)}});function Cr(W){var X=ha.exec(W);if(X){var E,x=((E=X[4].match(Cs))===null||E===void 0?void 0:E.map(function(V){return V.split(":")}))||[];return{cx:gi(50,"%"),cy:gi(50,"%"),steps:x.map(function(V){var pe=(0,Y.Z)(V,2),he=pe[0],ke=pe[1];return{offset:gi(Number(he)*100,"%"),color:ke}})}}return null}function Di(W){var X=Qo.exec(W);if(X){var E=X[1],x=X[2];switch(E){case"a":E="repeat";break;case"x":E="repeat-x";break;case"y":E="repeat-y";break;case"n":E="no-repeat";break;default:E="no-repeat"}return{image:x,repetition:E}}return null}function wa(W){return!!W.type&&!!W.value}function Eo(W){return W&&!!W.image}function yo(W){return W&&!(0,fe.Z)(W.r)&&!(0,fe.Z)(W.g)&&!(0,fe.Z)(W.b)}var Wr=ks(function(W){if(Eo(W))return(0,w.Z)({repetition:"repeat"},W);if((0,fe.Z)(W)&&(W=""),W==="transparent")return wr;if(W==="currentColor")W="black";else if(W==="none")return nn;var X=Zn(W);if(X)return X;var E=Ui.ZP(W),x=[0,0,0,0];return E!==null&&(x[0]=E.r||0,x[1]=E.g||0,x[2]=E.b||0,x[3]=E.opacity),hi.apply(void 0,x)});function hs(W,X){if(!(!yo(W)||!yo(X)))return[[Number(W.r),Number(W.g),Number(W.b),Number(W.alpha)],[Number(X.r),Number(X.g),Number(X.b),Number(X.alpha)],function(E){var x=E.slice();if(x[3])for(var V=0;V<3;V++)x[V]=Math.round((0,yt.Z)(x[V],0,255));return x[3]=(0,yt.Z)(x[3],0,1),"rgba(".concat(x.join(","),")")}]}function Ma(W,X){if((0,fe.Z)(X))return gi(0,"px");if(X="".concat(X).trim().toLowerCase(),isFinite(Number(X))){if("px".search(W)>=0)return gi(Number(X),"px");if("deg".search(W)>=0)return gi(Number(X),"deg")}var E=[];X=X.replace(W,function(V){return E.push(V),"U".concat(V)});var x="U(".concat(W.source,")");return E.map(function(V){return gi(Number(X.replace(new RegExp("U".concat(V),"g"),"").replace(new RegExp(x,"g"),"*0")),V)})[0]}var iu=function(X){return Ma(new RegExp("px","g"),X)},au=ks(iu),as=function(X){return Ma(new RegExp("%","g"),X)};ks(as);var $s=function(X){return(0,ye.Z)(X)||isFinite(Number(X))?gi(Number(X)||0,"px"):Ma(new RegExp("px|%|em|rem","g"),X)},Xs=ks($s),Lu=function(X){return Ma(new RegExp("deg|rad|grad|turn","g"),X)},Mu=ks(Lu);function Nl(W,X,E,x){var V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,pe="",he=W.value||0,ke=X.value||0,bt=So(W.unit),qt=W.convertTo(bt),Te=X.convertTo(bt);return qt&&Te?(he=qt.value,ke=Te.value,pe=_a(W.unit)):(ao.isLength(W.unit)||ao.isLength(X.unit))&&(he=hu(W,V,E),ke=hu(X,V,E),pe="px"),[he,ke,function(ot){return x&&(ot=Math.max(ot,0)),ot+pe}]}function Ks(W){var X=0;return W.unit===oo.kDegrees?X=W.value:W.unit===oo.kRadians?X=vr(Number(W.value)):W.unit===oo.kTurns?X=qi(Number(W.value)):W.value&&(X=W.value),X}function nl(W,X){var E;return Array.isArray(W)?E=W.map(function(x){return Number(x)}):(0,Fe.Z)(W)?E=W.split(" ").map(function(x){return Number(x)}):(0,ye.Z)(W)&&(E=[W]),X===2?E.length===1?[E[0],E[0]]:[E[0],E[1]]:E.length===1?[E[0],E[0],E[0],E[0]]:E.length===2?[E[0],E[1],E[0],E[1]]:E.length===3?[E[0],E[1],E[2],E[1]]:[E[0],E[1],E[2],E[3]]}function hu(W,X,E){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(W.unit===oo.kPixels)return Number(W.value);if(W.unit===oo.kPercentage&&E){var V=E.nodeName===oi.GROUP?E.getLocalBounds():E.getGeometryBounds();return(x?V.min[X]:0)+W.value/100*V.halfExtents[X]*2}return 0}var oc=function(X){return Ma(/deg|rad|grad|turn|px|%/g,X)},_l=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Ku(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(W=W.toLowerCase().trim(),W==="none")return[];for(var X=/\s*([\w-]+)\(([^)]*)\)/g,E=[],x,V=0;x=X.exec(W);){if(x.index!==V)return[];if(V=x.index+x[0].length,_l.indexOf(x[1])>-1&&E.push({name:x[1],params:x[2].split(" ").map(function(pe){return oc(pe)||Wr(pe)})}),X.lastIndex===W.length)return E}return[]}function Cf(W){return W.toString()}var bc=function(X){return typeof X=="number"?gi(X):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(X)?gi(Number(X)):gi(0)},Sr=ks(bc);ks(function(W){return(0,Fe.Z)(W)?W.split(" ").map(Sr):W.map(Sr)});function li(W,X){return[W,X,Cf]}function Ci(W,X){return function(E,x){return[E,x,function(V){return Cf((0,yt.Z)(V,W,X))}]}}function ti(W,X){if(W.length===X.length)return[W,X,function(E){return E}]}function ea(W){return W.parsedStyle.d.totalLength===0&&(W.parsedStyle.d.totalLength=et(W.parsedStyle.d.absolutePath)),W.parsedStyle.d.totalLength}function mo(W){return W.parsedStyle.points.totalLength===0&&(W.parsedStyle.points.totalLength=(0,Ao.hE)(W.parsedStyle.points.points)),W.parsedStyle.points.totalLength}function so(W){for(var X=0;X<W.length;X++){var E=W[X-1],x=W[X],V=x[0];if(V==="M"&&E){var pe=E[0],he=[x[1],x[2]],ke=void 0;pe==="L"||pe==="M"?ke=[E[1],E[2]]:(pe==="C"||pe==="A"||pe==="Q")&&(ke=[E[E.length-2],E[E.length-1]]),ke&&wo(he,ke)&&(W.splice(X,1),X--)}}}function Io(W){for(var X=!1,E=W.length,x=0;x<E;x++){var V=W[x],pe=V[0];if(pe==="C"||pe==="A"||pe==="Q"){X=!0;break}}return X}function Ha(W){for(var X=[],E=[],x=[],V=0;V<W.length;V++){var pe=W[V],he=pe[0];he==="M"?(x.length&&(E.push(x),x=[]),x.push([pe[1],pe[2]])):he==="Z"?x.length&&(X.push(x),x=[]):x.push([pe[1],pe[2]])}return x.length>0&&E.push(x),{polygons:X,polylines:E}}function wo(W,X){return W[0]===X[0]&&W[1]===X[1]}function zo(W,X){for(var E=[],x=[],V=[],pe=0;pe<W.length;pe++){var he=W[pe],ke=he.currentPoint,bt=he.params,qt=he.prePoint,Te=void 0;switch(he.command){case"Q":Te=(0,Ao.x4)(qt[0],qt[1],bt[1],bt[2],bt[3],bt[4]);break;case"C":Te=(0,Ao.l5)(qt[0],qt[1],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6]);break;case"A":var ot=he.arcParams;Te=(0,Ao.vp)(ot.cx,ot.cy,ot.rx,ot.ry,ot.xRotation,ot.startAngle,ot.endAngle);break;default:E.push(ke[0]),x.push(ke[1]);break}Te&&(he.box=Te,E.push(Te.x,Te.x+Te.width),x.push(Te.y,Te.y+Te.height)),X&&(he.command==="L"||he.command==="M")&&he.prePoint&&he.nextPoint&&V.push(he)}E=E.filter(function(Pi){return!Number.isNaN(Pi)&&Pi!==1/0&&Pi!==-1/0}),x=x.filter(function(Pi){return!Number.isNaN(Pi)&&Pi!==1/0&&Pi!==-1/0});var Wt=(0,Ce.Z)(E),zn=(0,Ce.Z)(x),qn=(0,J.Z)(E),sr=(0,J.Z)(x);if(V.length===0)return{x:Wt,y:zn,width:qn-Wt,height:sr-zn};for(var Qn=0;Qn<V.length;Qn++){var Qr=V[Qn],Or=Qr.currentPoint,bi=void 0;Or[0]===Wt?(bi=rs(Qr,X),Wt-=bi.xExtra):Or[0]===qn&&(bi=rs(Qr,X),qn+=bi.xExtra),Or[1]===zn?(bi=rs(Qr,X),zn-=bi.yExtra):Or[1]===sr&&(bi=rs(Qr,X),sr+=bi.yExtra)}return{x:Wt,y:zn,width:qn-Wt,height:sr-zn}}function rs(W,X){var E=W.prePoint,x=W.currentPoint,V=W.nextPoint,pe=Math.pow(x[0]-E[0],2)+Math.pow(x[1]-E[1],2),he=Math.pow(x[0]-V[0],2)+Math.pow(x[1]-V[1],2),ke=Math.pow(E[0]-V[0],2)+Math.pow(E[1]-V[1],2),bt=Math.acos((pe+he-ke)/(2*Math.sqrt(pe)*Math.sqrt(he)));if(!bt||Math.sin(bt)===0||(0,Le.Z)(bt,0))return{xExtra:0,yExtra:0};var qt=Math.abs(Math.atan2(V[1]-x[1],V[0]-x[0])),Te=Math.abs(Math.atan2(V[0]-x[0],V[1]-x[1]));qt=qt>Math.PI/2?Math.PI-qt:qt,Te=Te>Math.PI/2?Math.PI-Te:Te;var ot={xExtra:Math.cos(bt/2-qt)*(X/2*(1/Math.sin(bt/2)))-X/2||0,yExtra:Math.cos(Te-bt/2)*(X/2*(1/Math.sin(bt/2)))-X/2||0};return ot}function Vo(W,X){return[X[0]+(X[0]-W[0]),X[1]+(X[1]-W[1])]}var Fs=function(X,E){var x=X.x*E.x+X.y*E.y,V=Math.sqrt((Math.pow(X.x,2)+Math.pow(X.y,2))*(Math.pow(E.x,2)+Math.pow(E.y,2))),pe=X.x*E.y-X.y*E.x<0?-1:1,he=pe*Math.acos(x/V);return he},_u=function(X,E,x,V,pe,he,ke,bt){E=Math.abs(E),x=Math.abs(x),V=Be(V,360);var qt=jt(V);if(X.x===ke.x&&X.y===ke.y)return{x:X.x,y:X.y,ellipticalArcAngle:0};if(E===0||x===0)return{x:0,y:0,ellipticalArcAngle:0};var Te=(X.x-ke.x)/2,ot=(X.y-ke.y)/2,Wt={x:Math.cos(qt)*Te+Math.sin(qt)*ot,y:-Math.sin(qt)*Te+Math.cos(qt)*ot},zn=Math.pow(Wt.x,2)/Math.pow(E,2)+Math.pow(Wt.y,2)/Math.pow(x,2);zn>1&&(E*=Math.sqrt(zn),x*=Math.sqrt(zn));var qn=Math.pow(E,2)*Math.pow(x,2)-Math.pow(E,2)*Math.pow(Wt.y,2)-Math.pow(x,2)*Math.pow(Wt.x,2),sr=Math.pow(E,2)*Math.pow(Wt.y,2)+Math.pow(x,2)*Math.pow(Wt.x,2),Qn=qn/sr;Qn=Qn<0?0:Qn;var Qr=(pe!==he?1:-1)*Math.sqrt(Qn),Or={x:Qr*(E*Wt.y/x),y:Qr*(-(x*Wt.x)/E)},bi={x:Math.cos(qt)*Or.x-Math.sin(qt)*Or.y+(X.x+ke.x)/2,y:Math.sin(qt)*Or.x+Math.cos(qt)*Or.y+(X.y+ke.y)/2},Pi={x:(Wt.x-Or.x)/E,y:(Wt.y-Or.y)/x},zr=Fs({x:1,y:0},Pi),Tr={x:(-Wt.x-Or.x)/E,y:(-Wt.y-Or.y)/x},Fr=Fs(Pi,Tr);!he&&Fr>0?Fr-=2*Math.PI:he&&Fr<0&&(Fr+=2*Math.PI),Fr%=2*Math.PI;var ri=zr+Fr*bt,gr=E*Math.cos(ri),jr=x*Math.sin(ri),Vi={x:Math.cos(qt)*gr-Math.sin(qt)*jr+bi.x,y:Math.sin(qt)*gr+Math.cos(qt)*jr+bi.y,ellipticalArcStartAngle:zr,ellipticalArcEndAngle:zr+Fr,ellipticalArcAngle:ri,ellipticalArcCenter:bi,resultantRx:E,resultantRy:x};return Vi};function bs(W){for(var X=[],E=null,x=null,V=null,pe=0,he=W.length,ke=0;ke<he;ke++){var bt=W[ke];x=W[ke+1];var qt=bt[0],Te={command:qt,prePoint:E,params:bt,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(qt){case"M":V=[bt[1],bt[2]],pe=ke;break;case"A":var ot=fo(E,bt);Te.arcParams=ot;break}if(qt==="Z")E=V,x=W[pe+1];else{var Wt=bt.length;E=[bt[Wt-2],bt[Wt-1]]}x&&x[0]==="Z"&&(x=W[pe],X[pe]&&(X[pe].prePoint=E)),Te.currentPoint=E,X[pe]&&wo(E,X[pe].currentPoint)&&(X[pe].prePoint=Te.prePoint);var zn=x?[x[x.length-2],x[x.length-1]]:null;Te.nextPoint=zn;var qn=Te.prePoint;if(["L","H","V"].includes(qt))Te.startTangent=[qn[0]-E[0],qn[1]-E[1]],Te.endTangent=[E[0]-qn[0],E[1]-qn[1]];else if(qt==="Q"){var sr=[bt[1],bt[2]];Te.startTangent=[qn[0]-sr[0],qn[1]-sr[1]],Te.endTangent=[E[0]-sr[0],E[1]-sr[1]]}else if(qt==="T"){var Qn=X[ke-1],Qr=Vo(Qn.currentPoint,qn);Qn.command==="Q"?(Te.command="Q",Te.startTangent=[qn[0]-Qr[0],qn[1]-Qr[1]],Te.endTangent=[E[0]-Qr[0],E[1]-Qr[1]]):(Te.command="TL",Te.startTangent=[qn[0]-E[0],qn[1]-E[1]],Te.endTangent=[E[0]-qn[0],E[1]-qn[1]])}else if(qt==="C"){var Or=[bt[1],bt[2]],bi=[bt[3],bt[4]];Te.startTangent=[qn[0]-Or[0],qn[1]-Or[1]],Te.endTangent=[E[0]-bi[0],E[1]-bi[1]],Te.startTangent[0]===0&&Te.startTangent[1]===0&&(Te.startTangent=[Or[0]-bi[0],Or[1]-bi[1]]),Te.endTangent[0]===0&&Te.endTangent[1]===0&&(Te.endTangent=[bi[0]-Or[0],bi[1]-Or[1]])}else if(qt==="S"){var Pi=X[ke-1],zr=Vo(Pi.currentPoint,qn),Tr=[bt[1],bt[2]];Pi.command==="C"?(Te.command="C",Te.startTangent=[qn[0]-zr[0],qn[1]-zr[1]],Te.endTangent=[E[0]-Tr[0],E[1]-Tr[1]]):(Te.command="SQ",Te.startTangent=[qn[0]-Tr[0],qn[1]-Tr[1]],Te.endTangent=[E[0]-Tr[0],E[1]-Tr[1]])}else if(qt==="A"){var Fr=Vs(Te,0),ri=Fr.x,gr=Fr.y,jr=Vs(Te,1,!1),Vi=jr.x,da=jr.y;Te.startTangent=[ri,gr],Te.endTangent=[Vi,da]}X.push(Te)}return X}function Vs(W,X){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,x=W.arcParams,V=x.rx,pe=V===void 0?0:V,he=x.ry,ke=he===void 0?0:he,bt=x.xRotation,qt=x.arcFlag,Te=x.sweepFlag,ot=_u({x:W.prePoint[0],y:W.prePoint[1]},pe,ke,bt,!!qt,!!Te,{x:W.currentPoint[0],y:W.currentPoint[1]},X),Wt=_u({x:W.prePoint[0],y:W.prePoint[1]},pe,ke,bt,!!qt,!!Te,{x:W.currentPoint[0],y:W.currentPoint[1]},E?X+.005:X-.005),zn=Wt.x-ot.x,qn=Wt.y-ot.y,sr=Math.sqrt(zn*zn+qn*qn);return{x:-zn/sr,y:-qn/sr}}function vi(W){return Math.sqrt(W[0]*W[0]+W[1]*W[1])}function fa(W,X){return vi(W)*vi(X)?(W[0]*X[0]+W[1]*X[1])/(vi(W)*vi(X)):1}function ta(W,X){return(W[0]*X[1]<W[1]*X[0]?-1:1)*Math.acos(fa(W,X))}function fo(W,X){var E=X[1],x=X[2],V=Be(jt(X[3]),Math.PI*2),pe=X[4],he=X[5],ke=W[0],bt=W[1],qt=X[6],Te=X[7],ot=Math.cos(V)*(ke-qt)/2+Math.sin(V)*(bt-Te)/2,Wt=-1*Math.sin(V)*(ke-qt)/2+Math.cos(V)*(bt-Te)/2,zn=ot*ot/(E*E)+Wt*Wt/(x*x);zn>1&&(E*=Math.sqrt(zn),x*=Math.sqrt(zn));var qn=E*E*(Wt*Wt)+x*x*(ot*ot),sr=qn?Math.sqrt((E*E*(x*x)-qn)/qn):1;pe===he&&(sr*=-1),isNaN(sr)&&(sr=0);var Qn=x?sr*E*Wt/x:0,Qr=E?sr*-x*ot/E:0,Or=(ke+qt)/2+Math.cos(V)*Qn-Math.sin(V)*Qr,bi=(bt+Te)/2+Math.sin(V)*Qn+Math.cos(V)*Qr,Pi=[(ot-Qn)/E,(Wt-Qr)/x],zr=[(-1*ot-Qn)/E,(-1*Wt-Qr)/x],Tr=ta([1,0],Pi),Fr=ta(Pi,zr);return fa(Pi,zr)<=-1&&(Fr=Math.PI),fa(Pi,zr)>=1&&(Fr=0),he===0&&Fr>0&&(Fr-=2*Math.PI),he===1&&Fr<0&&(Fr+=2*Math.PI),{cx:Or,cy:bi,rx:wo(W,[qt,Te])?0:E,ry:wo(W,[qt,Te])?0:x,startAngle:Tr,endAngle:Tr+Fr,xRotation:V,arcFlag:pe,sweepFlag:he}}function Ko(W,X,E){return W.reduce(function(x,V){var pe="";if(V[0]==="M"||V[0]==="L"){var he=H.al(V[1],V[2],0);E&&H.fF(he,he,E),pe="".concat(V[0]).concat(he[0],",").concat(he[1])}else if(V[0]==="Z")pe=V[0];else if(V[0]==="C"){var ke=H.al(V[1],V[2],0),bt=H.al(V[3],V[4],0),qt=H.al(V[5],V[6],0);E&&(H.fF(ke,ke,E),H.fF(bt,bt,E),H.fF(qt,qt,E)),pe="".concat(V[0]).concat(ke[0],",").concat(ke[1],",").concat(bt[0],",").concat(bt[1],",").concat(qt[0],",").concat(qt[1])}else if(V[0]==="A"){var Te=H.al(V[6],V[7],0);E&&H.fF(Te,Te,E),pe="".concat(V[0]).concat(V[1],",").concat(V[2],",").concat(V[3],",").concat(V[4],",").concat(V[5],",").concat(Te[0],",").concat(Te[1])}else if(V[0]==="Q"){var ot=H.al(V[1],V[2],0),Wt=H.al(V[3],V[4],0);E&&(H.fF(ot,ot,E),H.fF(Wt,Wt,E)),pe="".concat(V[0]).concat(V[1],",").concat(V[2],",").concat(V[3],",").concat(V[4],"}")}return x+=pe},"")}function es(W,X,E,x){return[["M",W,X],["L",E,x]]}function Mo(W,X,E,x){var V=(-1+Math.sqrt(2))/3*4,pe=W*V,he=X*V,ke=E-W,bt=E+W,qt=x-X,Te=x+X;return[["M",ke,x],["C",ke,x-he,E-pe,qt,E,qt],["C",E+pe,qt,bt,x-he,bt,x],["C",bt,x+he,E+pe,Te,E,Te],["C",E-pe,Te,ke,x+he,ke,x],["Z"]]}function ys(W,X){var E=W.map(function(x,V){return[V===0?"M":"L",x[0],x[1]]});return X&&E.push(["Z"]),E}function Bc(W,X,E,x,V){if(V){var pe=(0,Y.Z)(V,4),he=pe[0],ke=pe[1],bt=pe[2],qt=pe[3],Te=W>0?1:-1,ot=X>0?1:-1,Wt=Te+ot!==0?1:0;return[["M",Te*he+E,x],["L",W-Te*ke+E,x],ke?["A",ke,ke,0,0,Wt,W+E,ot*ke+x]:null,["L",W+E,X-ot*bt+x],bt?["A",bt,bt,0,0,Wt,W+E-Te*bt,X+x]:null,["L",E+Te*qt,X+x],qt?["A",qt,qt,0,0,Wt,E,X+x-ot*qt]:null,["L",E,ot*he+x],he?["A",he,he,0,0,Wt,Te*he+E,x]:null,["Z"]].filter(function(zn){return zn})}return[["M",E,x],["L",E+W,x],["L",E+W,x+X],["L",E,x+X],["Z"]]}function ec(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W.getLocalTransform(),E=[];switch(W.nodeName){case oi.LINE:var x=W.parsedStyle,V=x.x1,pe=V===void 0?0:V,he=x.y1,ke=he===void 0?0:he,bt=x.x2,qt=bt===void 0?0:bt,Te=x.y2,ot=Te===void 0?0:Te;E=es(pe,ke,qt,ot);break;case oi.CIRCLE:{var Wt=W.parsedStyle,zn=Wt.r,qn=zn===void 0?0:zn,sr=Wt.cx,Qn=sr===void 0?0:sr,Qr=Wt.cy,Or=Qr===void 0?0:Qr;E=Mo(qn,qn,Qn,Or);break}case oi.ELLIPSE:{var bi=W.parsedStyle,Pi=bi.rx,zr=Pi===void 0?0:Pi,Tr=bi.ry,Fr=Tr===void 0?0:Tr,ri=bi.cx,gr=ri===void 0?0:ri,jr=bi.cy,Vi=jr===void 0?0:jr;E=Mo(zr,Fr,gr,Vi);break}case oi.POLYLINE:case oi.POLYGON:var da=W.parsedStyle.points;E=ys(da.points,W.nodeName===oi.POLYGON);break;case oi.RECT:var na=W.parsedStyle,Ja=na.width,ka=Ja===void 0?0:Ja,no=na.height,aa=no===void 0?0:no,qa=na.x,_o=qa===void 0?0:qa,Ts=na.y,to=Ts===void 0?0:Ts,Ir=na.radius,me=Ir&&Ir.some(function(kt){return kt!==0});E=Bc(ka,aa,_o,to,me&&Ir.map(function(kt){return(0,yt.Z)(kt,0,Math.min(Math.abs(ka)/2,Math.abs(aa)/2))}));break;case oi.PATH:var bu=W.parsedStyle.d.absolutePath;E=(0,ue.Z)(bu);break}if(E.length)return Ko(E,W,X)}function ff(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,pe=W.map(function(he,ke){var bt=he[0],qt=W[ke+1],Te=ke===0&&(X!==0||E!==0),ot=(ke===W.length-1||qt&&(qt[0]==="M"||qt[0]==="Z"))&&x!==0&&V!==0,Wt=Te?[X,E]:[0,0],zn=_slicedToArray(Wt,2),qn=zn[0],sr=zn[1],Qn=ot?[x,V]:[0,0],Qr=_slicedToArray(Qn,2),Or=Qr[0],bi=Qr[1];switch(bt){case"M":return"M ".concat(he[1]+qn,",").concat(he[2]+sr);case"L":return"L ".concat(he[1]+Or,",").concat(he[2]+bi);case"Q":return"Q ".concat(he[1]," ").concat(he[2],",").concat(he[3]+Or," ").concat(he[4]+bi);case"C":return"C ".concat(he[1]," ").concat(he[2],",").concat(he[3]," ").concat(he[4],",").concat(he[5]+Or," ").concat(he[6]+bi);case"A":return"A ".concat(he[1]," ").concat(he[2]," ").concat(he[3]," ").concat(he[4]," ").concat(he[5]," ").concat(he[6]+Or," ").concat(he[7]+bi);case"Z":return"Z";default:return null}}).filter(function(he){return he!==null}).join(" ");return~pe.indexOf("NaN")?"":pe}var ld=function(X){if(X===""||Array.isArray(X)&&X.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var E;try{E=Je(X)}catch(zn){E=Je(""),console.error("[g]: Invalid SVG Path definition: ".concat(X))}so(E);var x=Io(E),V=Ha(E),pe=V.polygons,he=V.polylines,ke=bs(E),bt=zo(ke,0),qt=bt.x,Te=bt.y,ot=bt.width,Wt=bt.height;return{absolutePath:E,hasArc:x,segments:ke,polygons:pe,polylines:he,totalLength:0,rect:{x:Number.isFinite(qt)?qt:0,y:Number.isFinite(Te)?Te:0,width:Number.isFinite(ot)?ot:0,height:Number.isFinite(Wt)?Wt:0}}},Ol=ks(ld);function al(W){return(0,Fe.Z)(W)?Ol(W):ld(W)}function Dl(W,X,E){var x=W.curve,V=X.curve;(!x||x.length===0)&&(x=Zr(W.absolutePath,!1),W.curve=x),(!V||V.length===0)&&(V=Zr(X.absolutePath,!1),X.curve=V);var pe=[x,V];x.length!==V.length&&(pe=Nn(x,V));var he=nt(pe[0])!==nt(pe[1])?ze(pe[0]):vt(pe[0]);return[he,gn(pe[1],he),function(ke){return ke}]}function Vc(W,X){var E;return(0,Fe.Z)(W)?E=W.split(" ").map(function(x){var V=x.split(","),pe=(0,Y.Z)(V,2),he=pe[0],ke=pe[1];return[Number(he),Number(ke)]}):E=W,{points:E,totalLength:0,segments:[]}}function Qs(W,X){return[W.points,X.points,function(E){return E}]}var $u=null,Ru=/\s*(\w+)\(([^)]*)\)/g;function Wl(W){return function(X){var E=0;return W.map(function(x){return x===$u?X[E++]:x})}}function tc(W){return W}var Ec={matrix:["NNNNNN",[$u,$u,0,0,$u,$u,0,0,0,0,1,0,$u,$u,0,1],tc],matrix3d:["NNNNNNNNNNNNNNNN",tc],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Wl([$u,$u,new ao(1)]),tc],scaleX:["N",Wl([$u,new ao(1),new ao(1)]),Wl([$u,new ao(1)])],scaleY:["N",Wl([new ao(1),$u,new ao(1)]),Wl([new ao(1),$u])],scaleZ:["N",Wl([new ao(1),new ao(1),$u])],scale3d:["NNN",tc],skew:["Aa",null,tc],skewX:["A",null,Wl([$u,ns])],skewY:["A",null,Wl([ns,$u])],translate:["Tt",Wl([$u,$u,Wa]),tc],translateX:["T",Wl([$u,Wa,Wa]),Wl([$u,Wa])],translateY:["T",Wl([Wa,$u,Wa]),Wl([Wa,$u])],translateZ:["L",Wl([Wa,Wa,$u])],translate3d:["TTL",tc]};function cd(W){for(var X=[],E=W.length,x=0;x<E;x++){var V=W[x],pe=V[0],he=V.slice(1);pe==="translate"||pe==="skew"?he.length===1&&he.push(0):pe==="scale"&&he.length===1&&he.push(he[0]);var ke=Ec[pe];if(!ke)return[];var bt=he.map(function(qt){return gi(qt)});X.push({t:pe,d:bt})}return X}function wc(W){if(Array.isArray(W))return cd(W);if(W=(W||"none").trim(),W==="none")return[];var X=[],E,x=0;for(Ru.lastIndex=0;E=Ru.exec(W);){if(E.index!==x)return[];x=E.index+E[0].length;var V=E[1],pe=Ec[V];if(!pe)return[];var he=E[2].split(","),ke=pe[0];if(ke.length<he.length)return[];for(var bt=[],qt=0;qt<ke.length;qt++){var Te=he[qt],ot=ke[qt],Wt=void 0;if(Te?Wt={A:function(qn){return qn.trim()==="0"?ns:Mu(qn)},N:Sr,T:Xs,L:au}[ot.toUpperCase()](Te):Wt={a:ns,n:bt[0],t:Wa}[ot],Wt===void 0)return[];bt.push(Wt)}if(X.push({t:V,d:bt}),Ru.lastIndex===W.length)return X}return[]}function Tl(W){if(Array.isArray(W))return cd(W);if(W=(W||"none").trim(),W==="none")return[];var X=[],E,x=0;for(Ru.lastIndex=0;E=Ru.exec(W);){if(E.index!==x)return[];x=E.index+E[0].length;var V=E[1],pe=Ec[V];if(!pe)return[];var he=E[2].split(","),ke=pe[0];if(ke.length<he.length)return[];for(var bt=[],qt=0;qt<ke.length;qt++){var Te=he[qt],ot=ke[qt],Wt=void 0;if(Te?Wt={A:function(qn){return qn.trim()==="0"?ns:Lu(qn)},N:bc,T:$s,L:iu}[ot.toUpperCase()](Te):Wt={a:ns,n:bt[0],t:Wa}[ot],Wt===void 0)return[];bt.push(Wt)}if(X.push({t:V,d:bt}),Ru.lastIndex===W.length)return X}return[]}function ed(W){var X,E,x,V;switch(W.t){case"rotateX":return V=jt(Ks(W.d[0])),[1,0,0,0,0,Math.cos(V),Math.sin(V),0,0,-Math.sin(V),Math.cos(V),0,0,0,0,1];case"rotateY":return V=jt(Ks(W.d[0])),[Math.cos(V),0,-Math.sin(V),0,0,1,0,0,Math.sin(V),0,Math.cos(V),0,0,0,0,1];case"rotate":case"rotateZ":return V=jt(Ks(W.d[0])),[Math.cos(V),Math.sin(V),0,0,-Math.sin(V),Math.cos(V),0,0,0,0,1,0,0,0,0,1];case"rotate3d":X=W.d[0].value,E=W.d[1].value,x=W.d[2].value,V=jt(Ks(W.d[3]));var pe=X*X+E*E+x*x;if(pe===0)X=1,E=0,x=0;else if(pe!==1){var he=Math.sqrt(pe);X/=he,E/=he,x/=he}var ke=Math.sin(V/2),bt=ke*Math.cos(V/2),qt=ke*ke;return[1-2*(E*E+x*x)*qt,2*(X*E*qt+x*bt),2*(X*x*qt-E*bt),0,2*(X*E*qt-x*bt),1-2*(X*X+x*x)*qt,2*(E*x*qt+X*bt),0,2*(X*x*qt+E*bt),2*(E*x*qt-X*bt),1-2*(X*X+E*E)*qt,0,0,0,0,1];case"scale":return[W.d[0].value,0,0,0,0,W.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[W.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,W.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,W.d[0].value,0,0,0,0,1];case"scale3d":return[W.d[0].value,0,0,0,0,W.d[1].value,0,0,0,0,W.d[2].value,0,0,0,0,1];case"skew":var Te=jt(Ks(W.d[0])),ot=jt(Ks(W.d[1]));return[1,Math.tan(ot),0,0,Math.tan(Te),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return V=jt(Ks(W.d[0])),[1,0,0,0,Math.tan(V),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return V=jt(Ks(W.d[0])),[1,Math.tan(V),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return X=hu(W.d[0],0,null)||0,E=hu(W.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,X,E,0,1];case"translateX":return X=hu(W.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,X,0,0,1];case"translateY":return E=hu(W.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,E,0,1];case"translateZ":return x=hu(W.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,x,1];case"translate3d":return X=hu(W.d[0],0,null)||0,E=hu(W.d[1],0,null)||0,x=hu(W.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,X,E,x,1];case"perspective":var Wt=hu(W.d[0],0,null)||0,zn=Wt?-1/Wt:0;return[1,0,0,0,0,1,0,0,0,0,1,zn,0,0,0,1];case"matrix":return[W.d[0].value,W.d[1].value,0,0,W.d[2].value,W.d[3].value,0,0,0,0,1,0,W.d[4].value,W.d[5].value,0,1];case"matrix3d":return W.d.map(function(qn){return qn.value})}}function Fc(W,X){return[W[0]*X[0]+W[4]*X[1]+W[8]*X[2]+W[12]*X[3],W[1]*X[0]+W[5]*X[1]+W[9]*X[2]+W[13]*X[3],W[2]*X[0]+W[6]*X[1]+W[10]*X[2]+W[14]*X[3],W[3]*X[0]+W[7]*X[1]+W[11]*X[2]+W[15]*X[3],W[0]*X[4]+W[4]*X[5]+W[8]*X[6]+W[12]*X[7],W[1]*X[4]+W[5]*X[5]+W[9]*X[6]+W[13]*X[7],W[2]*X[4]+W[6]*X[5]+W[10]*X[6]+W[14]*X[7],W[3]*X[4]+W[7]*X[5]+W[11]*X[6]+W[15]*X[7],W[0]*X[8]+W[4]*X[9]+W[8]*X[10]+W[12]*X[11],W[1]*X[8]+W[5]*X[9]+W[9]*X[10]+W[13]*X[11],W[2]*X[8]+W[6]*X[9]+W[10]*X[10]+W[14]*X[11],W[3]*X[8]+W[7]*X[9]+W[11]*X[10]+W[15]*X[11],W[0]*X[12]+W[4]*X[13]+W[8]*X[14]+W[12]*X[15],W[1]*X[12]+W[5]*X[13]+W[9]*X[14]+W[13]*X[15],W[2]*X[12]+W[6]*X[13]+W[10]*X[14]+W[14]*X[15],W[3]*X[12]+W[7]*X[13]+W[11]*X[14]+W[15]*X[15]]}function hc(W){return W.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:W.map(ed).reduce(Fc)}function Sd(W){var X=[0,0,0],E=[1,1,1],x=[0,0,0],V=[0,0,0,1],pe=[0,0,0,1];return Xn(hc(W),X,E,x,V,pe),[[X,E,x,pe,V]]}var Oh=function(){function W(x,V){for(var pe=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],he=0;he<4;he++)for(var ke=0;ke<4;ke++)for(var bt=0;bt<4;bt++)pe[he][ke]+=V[he][bt]*x[bt][ke];return pe}function X(x){return x[0][2]===0&&x[0][3]===0&&x[1][2]===0&&x[1][3]===0&&x[2][0]===0&&x[2][1]===0&&x[2][2]===1&&x[2][3]===0&&x[3][2]===0&&x[3][3]===1}function E(x,V,pe,he,ke){for(var bt=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],qt=0;qt<4;qt++)bt[qt][3]=ke[qt];for(var Te=0;Te<3;Te++)for(var ot=0;ot<3;ot++)bt[3][Te]+=x[ot]*bt[ot][Te];var Wt=he[0],zn=he[1],qn=he[2],sr=he[3],Qn=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];Qn[0][0]=1-2*(zn*zn+qn*qn),Qn[0][1]=2*(Wt*zn-qn*sr),Qn[0][2]=2*(Wt*qn+zn*sr),Qn[1][0]=2*(Wt*zn+qn*sr),Qn[1][1]=1-2*(Wt*Wt+qn*qn),Qn[1][2]=2*(zn*qn-Wt*sr),Qn[2][0]=2*(Wt*qn-zn*sr),Qn[2][1]=2*(zn*qn+Wt*sr),Qn[2][2]=1-2*(Wt*Wt+zn*zn),bt=W(bt,Qn);var Qr=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];pe[2]&&(Qr[2][1]=pe[2],bt=W(bt,Qr)),pe[1]&&(Qr[2][1]=0,Qr[2][0]=pe[0],bt=W(bt,Qr)),pe[0]&&(Qr[2][0]=0,Qr[1][0]=pe[0],bt=W(bt,Qr));for(var Or=0;Or<3;Or++)for(var bi=0;bi<3;bi++)bt[Or][bi]*=V[Or];return X(bt)?[bt[0][0],bt[0][1],bt[1][0],bt[1][1],bt[3][0],bt[3][1]]:bt[0].concat(bt[1],bt[2],bt[3])}return E}();function Fd(W){return W.toFixed(6).replace(".000000","")}function $d(W,X){var E,x;return W.decompositionPair!==X&&(W.decompositionPair=X,E=Sd(W)),X.decompositionPair!==W&&(X.decompositionPair=W,x=Sd(X)),E[0]===null||x[0]===null?[[!1],[!0],function(V){return V?X[0].d:W[0].d}]:(E[0].push(0),x[0].push(1),[E,x,function(V){var pe=fd(E[0][3],x[0][3],V[5]),he=Oh(V[0],V[1],V[2],pe,V[4]),ke=he.map(Fd).join(",");return ke}])}function Xd(W,X){for(var E=0,x=0;x<W.length;x++)E+=W[x]*X[x];return E}function fd(W,X,E){var x=Xd(W,X);x=(0,yt.Z)(x,-1,1);var V=[];if(x===1)V=W;else for(var pe=Math.acos(x),he=Math.sin(E*pe)*1/Math.sqrt(1-x*x),ke=0;ke<4;ke++)V.push(W[ke]*(Math.cos(E*pe)-x*he)+X[ke]*he);return V}function Mc(W){return W.replace(/[XY]/,"")}function Uc(W){return W.replace(/(X|Y|Z|3d)?$/,"3d")}var md=function(X,E){return X==="perspective"&&E==="perspective"||(X==="matrix"||X==="matrix3d")&&(E==="matrix"||E==="matrix3d")};function vd(W,X,E){var x=!1;if(!W.length||!X.length){W.length||(x=!0,W=X,X=[]);for(var V=function(){var Vi=W[pe],da=Vi.t,na=Vi.d,Ja=da.substring(0,5)==="scale"?1:0;X.push({t:da,d:na.map(function(ka){return typeof ka=="number"?gi(Ja):gi(Ja,ka.unit)})})},pe=0;pe<W.length;pe++)V()}var he=[],ke=[],bt=[];if(W.length!==X.length){var qt=$d(W,X);he=[qt[0]],ke=[qt[1]],bt=[["matrix",[qt[2]]]]}else for(var Te=0;Te<W.length;Te++){var ot=W[Te].t,Wt=X[Te].t,zn=W[Te].d,qn=X[Te].d,sr=Ec[ot],Qn=Ec[Wt],Qr=void 0;if(md(ot,Wt)){var Or=$d([W[Te]],[X[Te]]);he.push(Or[0]),ke.push(Or[1]),bt.push(["matrix",[Or[2]]]);continue}else if(ot===Wt)Qr=ot;else if(sr[2]&&Qn[2]&&Mc(ot)===Mc(Wt))Qr=Mc(ot),zn=sr[2](zn),qn=Qn[2](qn);else if(sr[1]&&Qn[1]&&Uc(ot)===Uc(Wt))Qr=Uc(ot),zn=sr[1](zn),qn=Qn[1](qn);else{var bi=$d(W,X);he=[bi[0]],ke=[bi[1]],bt=[["matrix",[bi[2]]]];break}for(var Pi=[],zr=[],Tr=[],Fr=0;Fr<zn.length;Fr++){var ri=Nl(zn[Fr],qn[Fr],E,!1,Fr);Pi[Fr]=ri[0],zr[Fr]=ri[1],Tr.push(ri[2])}he.push(Pi),ke.push(zr),bt.push([Qr,Tr])}if(x){var gr=he;he=ke,ke=gr}return[he,ke,function(jr){return jr.map(function(Vi,da){var na=Vi.map(function(Ja,ka){return bt[da][1][ka](Ja)}).join(",");return bt[da][0]==="matrix"&&na.split(",").length===16&&(bt[da][0]="matrix3d"),bt[da][0]==="matrix3d"&&na.split(",").length===6&&(bt[da][0]="matrix"),"".concat(bt[da][0],"(").concat(na,")")}).join(" ")}]}var yd=ks(function(W){if((0,Fe.Z)(W)){if(W==="text-anchor")return[gi(0,"px"),gi(0,"px")];var X=W.split(" ");return X.length===1&&(X[0]==="top"||X[0]==="bottom"?(X[1]=X[0],X[0]="center"):X[1]="center"),X.length!==2?null:[Xs(df(X[0])),Xs(df(X[1]))]}return[gi(W[0]||0,"px"),gi(W[1]||0,"px")]});function df(W){return W==="center"?"50%":W==="left"||W==="top"?"0%":W==="right"||W==="bottom"?"100%":W}var Ef=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Za.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Za.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Za.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Za.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Za.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Za.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Za.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Za.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Za.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Za.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Za.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Za.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Za.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Za.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Za.FILTER},{n:"clipPath",syntax:Za.DEFINED_PATH},{n:"textPath",syntax:Za.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Za.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Za.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Za.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Za.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Za.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Za.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Za.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Za.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Za.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Za.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Za.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Za.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Za.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Za.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Za.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Za.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Za.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Za.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Za.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Za.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Za.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Za.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Za.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Za.NUMBER,d:function(X){return X===oi.PATH||X===oi.POLYGON||X===oi.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Za.MARKER},{n:"markerEnd",syntax:Za.MARKER},{n:"markerMid",syntax:Za.MARKER},{n:"markerStartOffset",syntax:Za.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Za.LENGTH,l:!0,int:!0,d:"0"}],Yf=new Set(Ef.filter(function(W){return!!W.l}).map(function(W){return W.n})),$f={},td=function(){function W(X){var E=this;(0,B.Z)(this,W),this.runtime=X,Ef.forEach(function(x){E.registerMetadata(x)})}return(0,ne.Z)(W,[{key:"registerMetadata",value:function(E){[E.n].concat((0,ue.Z)(E.a||[])).forEach(function(x){$f[x]=E})}},{key:"getPropertySyntax",value:function(E){return this.runtime.CSSPropertySyntaxFactory[E]}},{key:"processProperties",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(E.attributes,x);var pe=E.parsedStyle.clipPath,he=E.parsedStyle.offsetPath;Ad(E,x);var ke=!!V.forceUpdateGeometry;if(!ke){for(var bt in x)if(Yf.has(bt)){ke=!0;break}}var qt=kl(E);qt.has("fill")&&x.fill&&(E.parsedStyle.fill=Wr(x.fill)),qt.has("stroke")&&x.stroke&&(E.parsedStyle.stroke=Wr(x.stroke)),qt.has("shadowColor")&&x.shadowColor&&(E.parsedStyle.shadowColor=Wr(x.shadowColor)),qt.has("filter")&&x.filter&&(E.parsedStyle.filter=Ku(x.filter)),qt.has("radius")&&!(0,fe.Z)(x.radius)&&(E.parsedStyle.radius=nl(x.radius,4)),qt.has("lineDash")&&!(0,fe.Z)(x.lineDash)&&(E.parsedStyle.lineDash=nl(x.lineDash,2)),qt.has("points")&&x.points&&(E.parsedStyle.points=Vc(x.points)),qt.has("d")&&x.d===""&&(E.parsedStyle.d=(0,w.Z)({},ds)),qt.has("d")&&x.d&&(E.parsedStyle.d=al(x.d)),qt.has("textTransform")&&x.textTransform&&this.runtime.CSSPropertySyntaxFactory[Za.TEXT_TRANSFORM].calculator(null,null,{value:x.textTransform},E,null),qt.has("clipPath")&&!(0,at.Z)(x.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Za.DEFINED_PATH].calculator("clipPath",pe,x.clipPath,E,this.runtime),qt.has("offsetPath")&&x.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Za.DEFINED_PATH].calculator("offsetPath",he,x.offsetPath,E,this.runtime),qt.has("transform")&&x.transform&&(E.parsedStyle.transform=wc(x.transform)),qt.has("transformOrigin")&&x.transformOrigin&&(E.parsedStyle.transformOrigin=yd(x.transformOrigin)),qt.has("markerStart")&&x.markerStart&&(E.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Za.MARKER].calculator(null,x.markerStart,x.markerStart,null,null)),qt.has("markerEnd")&&x.markerEnd&&(E.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Za.MARKER].calculator(null,x.markerEnd,x.markerEnd,null,null)),qt.has("markerMid")&&x.markerMid&&(E.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Za.MARKER].calculator("",x.markerMid,x.markerMid,null,null)),qt.has("zIndex")&&!(0,fe.Z)(x.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Za.Z_INDEX].postProcessor(E),qt.has("offsetDistance")&&!(0,fe.Z)(x.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Za.OFFSET_DISTANCE].postProcessor(E),qt.has("transform")&&x.transform&&this.runtime.CSSPropertySyntaxFactory[Za.TRANSFORM].postProcessor(E),qt.has("transformOrigin")&&x.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Za.TRANSFORM_ORIGIN].postProcessor(E),ke&&(E.geometry.dirty=!0,E.renderable.boundsDirty=!0,E.renderable.renderBoundsDirty=!0,V.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(E))}},{key:"updateGeometry",value:function(E){var x=E.nodeName,V=this.runtime.geometryUpdaterFactory[x];if(V){var pe=E.geometry;pe.contentBounds||(pe.contentBounds=new or),pe.renderBounds||(pe.renderBounds=new or);var he=E.parsedStyle,ke=V.update(he,E),bt=ke.cx,qt=bt===void 0?0:bt,Te=ke.cy,ot=Te===void 0?0:Te,Wt=ke.cz,zn=Wt===void 0?0:Wt,qn=ke.hwidth,sr=qn===void 0?0:qn,Qn=ke.hheight,Qr=Qn===void 0?0:Qn,Or=ke.hdepth,bi=Or===void 0?0:Or,Pi=[Math.abs(sr),Math.abs(Qr),bi],zr=he.stroke,Tr=he.lineWidth,Fr=Tr===void 0?1:Tr,ri=he.increasedLineWidthForHitTesting,gr=ri===void 0?0:ri,jr=he.shadowType,Vi=jr===void 0?"outer":jr,da=he.shadowColor,na=he.filter,Ja=na===void 0?[]:na,ka=he.transformOrigin,no=[qt,ot,zn];pe.contentBounds.update(no,Pi);var aa=x===oi.POLYLINE||x===oi.POLYGON||x===oi.PATH?Math.SQRT2:.5,qa=zr&&!zr.isNone;if(qa){var _o=((Fr||0)+(gr||0))*aa;Pi[0]+=_o,Pi[1]+=_o}if(pe.renderBounds.update(no,Pi),da&&Vi&&Vi!=="inner"){var Ts=pe.renderBounds,to=Ts.min,Ir=Ts.max,me=he.shadowBlur,bu=he.shadowOffsetX,kt=he.shadowOffsetY,Ls=me||0,ll=bu||0,Gu=kt||0,cl=to[0]-Ls+ll,dl=Ir[0]+Ls+ll,pd=to[1]-Ls+Gu,gd=Ir[1]+Ls+Gu;to[0]=Math.min(to[0],cl),Ir[0]=Math.max(Ir[0],dl),to[1]=Math.min(to[1],pd),Ir[1]=Math.max(Ir[1],gd),pe.renderBounds.setMinMax(to,Ir)}Ja.forEach(function(Qc){var Pf=Qc.name,If=Qc.params;if(Pf==="blur"){var wd=If[0].value;pe.renderBounds.update(pe.renderBounds.center,H.IH(pe.renderBounds.halfExtents,pe.renderBounds.halfExtents,[wd,wd,0]))}else if(Pf==="drop-shadow"){var Rc=If[0].value,Bu=If[1].value,of=If[2].value,El=pe.renderBounds,vs=El.min,qs=El.max,uu=vs[0]-of+Rc,Tf=qs[0]+of+Rc,s0=vs[1]-of+Bu,qr=qs[1]+of+Bu;vs[0]=Math.min(vs[0],uu),qs[0]=Math.max(qs[0],Tf),vs[1]=Math.min(vs[1],s0),qs[1]=Math.max(qs[1],qr),pe.renderBounds.setMinMax(vs,qs)}}),E.geometry.dirty=!1;var ku=sr<0,Rf=Qr<0,sl=(ku?-1:1)*(ka?hu(ka[0],0,E,!0):0),af=(Rf?-1:1)*(ka?hu(ka[1],1,E,!0):0);(sl||af)&&E.setOrigin(sl,af)}}},{key:"updateSizeAttenuation",value:function(E,x){E.style.isSizeAttenuation?(E.style.rawLineWidth||(E.style.rawLineWidth=E.style.lineWidth),E.style.lineWidth=(E.style.rawLineWidth||1)/x,E.nodeName===oi.CIRCLE&&(E.style.rawR||(E.style.rawR=E.style.r),E.style.r=(E.style.rawR||1)/x)):(E.style.rawLineWidth&&(E.style.lineWidth=E.style.rawLineWidth,delete E.style.rawLineWidth),E.nodeName===oi.CIRCLE&&E.style.rawR&&(E.style.r=E.style.rawR,delete E.style.rawR))}}])}();function Ad(W,X){var E=kl(W);for(var x in X)E.has(x)&&(W.parsedStyle[x]=X[x])}function kl(W){return W.constructor.PARSED_STYLE_LIST}var Bl=function(){function W(){(0,B.Z)(this,W),this.mixer=li}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe){return Ks(V)}}])}(),_d=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe,he){return V instanceof Ro&&(V=null),he.sceneGraphService.updateDisplayObjectDependency(E,x,V,pe),E==="clipPath"&&pe.forEach(function(ke){ke.childNodes.length===0&&he.sceneGraphService.dirtifyToRoot(ke)}),V}}])}(),Of=function(){function W(){(0,B.Z)(this,W),this.parser=Wr,this.mixer=hs}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe){return V instanceof Ro?V.value==="none"?nn:wr:V}}])}(),hf=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V){return V instanceof Ro?[]:V}}])}();function Ud(W){var X=W.parsedStyle,E=X.fontSize;return(0,fe.Z)(E)?null:E}var dd=function(){function W(){(0,B.Z)(this,W),this.mixer=li}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe,he){if((0,ye.Z)(V))return V;if(ao.isRelativeUnit(V.unit)){if(V.unit===oo.kPercentage)return 0;if(V.unit===oo.kEms){if(pe.parentNode){var ke=Ud(pe.parentNode);if(ke)return ke*=V.value,ke}return 0}if(V.unit===oo.kRems){var bt;if(pe!=null&&(bt=pe.ownerDocument)!==null&&bt!==void 0&&bt.documentElement){var qt=Ud(pe.ownerDocument.documentElement);if(qt)return qt*=V.value,qt}return 0}}else return V.value}}])}(),pf=function(){function W(){(0,B.Z)(this,W),this.mixer=ti}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V){return V.map(function(pe){return pe.value})}}])}(),nd=function(){function W(){(0,B.Z)(this,W),this.mixer=ti}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V){return V.map(function(pe){return pe.value})}}])}(),Kd=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe){var he;V instanceof Ro&&(V=null);var ke=(he=V)===null||he===void 0?void 0:he.cloneNode(!0);return ke&&(ke.style.isMarker=!0),ke}}])}(),sc=function(){function W(){(0,B.Z)(this,W),this.mixer=li}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V){return V.value}}])}(),Gc=function(){function W(){(0,B.Z)(this,W),this.mixer=Ci(0,1)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V){return V.value}},{key:"postProcessor",value:function(E){var x=E.parsedStyle,V=x.offsetPath,pe=x.offsetDistance;if(V){var he=V.nodeName;if(he===oi.LINE||he===oi.PATH||he===oi.POLYLINE){var ke=V.getPoint(pe);ke&&E.setLocalPosition(ke.x,ke.y)}}}}])}(),ee=function(){function W(){(0,B.Z)(this,W),this.mixer=Ci(0,1)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V){return V.value}}])}(),Me=function(){function W(){(0,B.Z)(this,W),this.parser=al,this.mixer=Dl}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V){return V instanceof Ro&&V.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new En(0,0,0,0)}:V}}])}(),Ve=(0,ne.Z)(function W(){(0,B.Z)(this,W),this.mixer=Qs}),Tt=function(W){function X(){var E;(0,B.Z)(this,X);for(var x=arguments.length,V=new Array(x),pe=0;pe<x;pe++)V[pe]=arguments[pe];return E=(0,j.Z)(this,X,[].concat(V)),E.mixer=Ci(0,1/0),E}return(0,q.Z)(X,W),(0,ne.Z)(X)}(dd),pn=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe){return V instanceof Ro?V.value==="unset"?"":V.value:"".concat(V)}},{key:"postProcessor",value:function(E){E.nodeValue="".concat(E.parsedStyle.text)||""}}])}(),yn=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe){var he=pe.getAttribute("text");if(he){var ke=he;V.value==="capitalize"?ke=he.charAt(0).toUpperCase()+he.slice(1):V.value==="lowercase"?ke=he.toLowerCase():V.value==="uppercase"&&(ke=he.toUpperCase()),pe.parsedStyle.text=ke}return V.value}}])}(),Vn=function(X){return Object.fromEntries(Object.entries(X).filter(function(E){var x=_slicedToArray(E,2),V=x[1];return V!==void 0}))},Pr=new WeakMap;function Zi(W,X,E){if(W){var x=typeof W=="string"?document.getElementById(W):W;Pr.has(x)&&Pr.get(x).destroy(E),Pr.set(x,X)}}var ji=typeof window!="undefined"&&typeof window.document!="undefined";function Dt(W){return!!W.getAttribute}function Ta(W,X){for(var E=0,x=W.length;E<x;){var V=E+x>>>1;ba(W[V],X)<0?E=V+1:x=V}return E}function ba(W,X){var E=Number(W.parsedStyle.zIndex||0),x=Number(X.parsedStyle.zIndex||0);if(E===x){var V=W.parentNode;if(V){var pe=V.childNodes||[];return pe.indexOf(W)-pe.indexOf(X)}}return E-x}function yi(W){var X=W;do{var E,x=(E=X.parsedStyle)===null||E===void 0?void 0:E.clipPath;if(x)return X;X=X.parentElement}while(X!==null);return null}var ko="px";function pu(W,X,E){ji&&W.style&&(W.style.width=X+ko,W.style.height=E+ko)}function gu(W,X){if(ji)return document.defaultView.getComputedStyle(W,null).getPropertyValue(X)}function ps(W){var X=gu(W,"width");return X==="auto"?W.offsetWidth:parseFloat(X)}function Zs(W){var X=gu(W,"height");return X==="auto"?W.offsetHeight:parseFloat(X)}var ss=1,wl={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},ol=typeof performance=="object"&&performance.now?performance:Date;function Lo(W){return W.nodeName===oi.FRAGMENT?!0:W.getRootNode().nodeName===oi.FRAGMENT}function Fl(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",X=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0,x=!1,V=!1,pe=!!X&&!X.isNone,he=!!E&&!E.isNone;return W==="visiblepainted"||W==="painted"||W==="auto"?(x=pe,V=he):W==="visiblefill"||W==="fill"?x=!0:W==="visiblestroke"||W==="stroke"?V=!0:(W==="visible"||W==="all")&&(x=!0,V=!0),[x,V]}var Rl=1,Kl=function(){return Rl++},xu=typeof self=="object"&&self.self===self?self:typeof A.g=="object"&&A.g.global===A.g?A.g:{},xc=Date.now(),Vl=function(){return xu.performance&&typeof xu.performance.now=="function"?xu.performance.now():Date.now()-xc},Js={},mu=Date.now(),Nu=function(X){if(typeof X!="function")throw new TypeError("".concat(X," is not a function"));var E=Date.now(),x=E-mu,V=x>16?0:16-x,pe=Kl();return Js[pe]=X,Object.keys(Js).length>1||setTimeout(function(){mu=E;var he=Js;Js={},Object.keys(he).forEach(function(ke){return he[ke](Vl())})},V),pe},vu=function(X){delete Js[X]},yc=["","webkit","moz","ms","o"],bl=function(X){return typeof X!="string"?Nu:X===""?xu.requestAnimationFrame:xu["".concat(X,"RequestAnimationFrame")]},pc=function(X){return typeof X!="string"?vu:X===""?xu.cancelAnimationFrame:xu["".concat(X,"CancelAnimationFrame")]||xu["".concat(X,"CancelRequestAnimationFrame")]},Hi=function(X,E){for(var x=0;X[x]!==void 0;){if(E(X[x]))return X[x];x+=1}},Yc=Hi(yc,function(W){return!!bl(W)}),js=bl(Yc),Li=pc(Yc);xu.requestAnimationFrame=js,xu.cancelAnimationFrame=Li;var $o=function(){function W(){(0,B.Z)(this,W),this.callbacks=[]}return(0,ne.Z)(W,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(E,x){this.callbacks.push(x)}},{key:"promise",value:function(){for(var E=arguments.length,x=new Array(E),V=0;V<E;V++)x[V]=arguments[V];return Promise.all(this.callbacks.map(function(pe){return pe.apply(void 0,x)}))}}])}(),$c=function(){function W(){(0,B.Z)(this,W),this.callbacks=[]}return(0,ne.Z)(W,[{key:"tapPromise",value:function(E,x){this.callbacks.push(x)}},{key:"promise",value:function(){var X=(0,cs.Z)((0,fs.Z)().mark(function x(){var V,pe,he,ke,bt=arguments;return(0,fs.Z)().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(!this.callbacks.length){Te.next=14;break}return Te.next=3,(V=this.callbacks)[0].apply(V,bt);case 3:pe=Te.sent,he=0;case 5:if(!(he<this.callbacks.length-1)){Te.next=13;break}return ke=this.callbacks[he],Te.next=9,ke(pe);case 9:pe=Te.sent;case 10:he++,Te.next=5;break;case 13:return Te.abrupt("return",pe);case 14:return Te.abrupt("return",null);case 15:case"end":return Te.stop()}},x,this)}));function E(){return X.apply(this,arguments)}return E}()}])}(),nc=function(){function W(){(0,B.Z)(this,W),this.callbacks=[]}return(0,ne.Z)(W,[{key:"tap",value:function(E,x){this.callbacks.push(x)}},{key:"call",value:function(){for(var E=arguments.length,x=new Array(E),V=0;V<E;V++)x[V]=arguments[V];var pe=arguments;this.callbacks.forEach(function(he){he.apply(void 0,pe)})}}])}(),rd=function(){function W(){(0,B.Z)(this,W),this.callbacks=[]}return(0,ne.Z)(W,[{key:"tap",value:function(E,x){this.callbacks.push(x)}},{key:"call",value:function(){for(var E=arguments.length,x=new Array(E),V=0;V<E;V++)x[V]=arguments[V];if(this.callbacks.length){for(var pe=arguments,he=this.callbacks[0].apply(void 0,pe),ke=0;ke<this.callbacks.length-1;ke++){var bt=this.callbacks[ke];he=bt(he)}return he}return null}}])}(),qu=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],b=/([\"\'])[^\'\"]+\1/;function L(W){for(var X=W.fontSize,E=X===void 0?16:X,x=W.fontFamily,V=x===void 0?"sans-serif":x,pe=W.fontStyle,he=pe===void 0?"normal":pe,ke=W.fontVariant,bt=ke===void 0?"normal":ke,qt=W.fontWeight,Te=qt===void 0?"normal":qt,ot=(0,ye.Z)(E)&&"".concat(E,"px")||"16px",Wt=V.split(","),zn=Wt.length-1;zn>=0;zn--){var qn=Wt[zn].trim();!b.test(qn)&&qu.indexOf(qn)<0&&(qn='"'.concat(qn,'"')),Wt[zn]=qn}return"".concat(he," ").concat(bt," ").concat(Te," ").concat(ot," ").concat(Wt.join(","))}function we(W,X,E){return ie.identity(W),W[4]=Math.tan(X),W[1]=Math.tan(E),W}var On=ie.create(),_i=ie.create(),Oa={scale:function(X){ie.fromScaling(On,[X[0].value,X[1].value,1])},scaleX:function(X){ie.fromScaling(On,[X[0].value,1,1])},scaleY:function(X){ie.fromScaling(On,[1,X[0].value,1])},scaleZ:function(X){ie.fromScaling(On,[1,1,X[0].value])},scale3d:function(X){ie.fromScaling(On,[X[0].value,X[1].value,X[2].value])},translate:function(X){ie.fromTranslation(On,[X[0].value,X[1].value,0])},translateX:function(X){ie.fromTranslation(On,[X[0].value,0,0])},translateY:function(X){ie.fromTranslation(On,[0,X[0].value,0])},translateZ:function(X){ie.fromTranslation(On,[0,0,X[0].value])},translate3d:function(X){ie.fromTranslation(On,[X[0].value,X[1].value,X[2].value])},rotate:function(X){ie.fromZRotation(On,jt(Ks(X[0])))},rotateX:function(X){ie.fromXRotation(On,jt(Ks(X[0])))},rotateY:function(X){ie.fromYRotation(On,jt(Ks(X[0])))},rotateZ:function(X){ie.fromZRotation(On,jt(Ks(X[0])))},rotate3d:function(X){ie.fromRotation(On,jt(Ks(X[3])),[X[0].value,X[1].value,X[2].value])},skew:function(X){we(On,jt(X[0].value),jt(X[1].value))},skewX:function(X){we(On,jt(X[0].value),0)},skewY:function(X){we(On,0,jt(X[0].value))},matrix:function(X){ie.set(On,X[0].value,X[1].value,0,0,X[2].value,X[3].value,0,0,0,0,1,0,X[4].value,X[5].value,0,1)},matrix3d:function(X){ie.set.apply(ie,[On].concat((0,ue.Z)(X.map(function(E){return E.value}))))}},Xa=H.al(1,1,1),ts=H.Ue(),is={translate:function(X,E){Ho.sceneGraphService.setLocalScale(X,Xa,!1),Ho.sceneGraphService.setLocalEulerAngles(X,ts,void 0,void 0,!1),Ho.sceneGraphService.setLocalPosition(X,[E[0].value,E[1].value,0],!1),Ho.sceneGraphService.dirtifyLocal(X,X.transformable)}};function Co(W,X){if(W.length){if(W.length===1&&is[W[0].t]){is[W[0].t](X,W[0].d);return}for(var E=ie.identity(_i),x=0;x<W.length;x++){var V=W[x],pe=V.t,he=V.d,ke=Oa[pe];ke&&(ke(he),ie.mul(E,E,On))}X.setLocalTransform(E)}else X.resetLocalTransform();return X.getLocalTransform()}var Vu=function(){function W(){(0,B.Z)(this,W),this.parser=Tl,this.mixer=vd}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe){return V instanceof Ro?[]:V}},{key:"postProcessor",value:function(E){Co(E.parsedStyle.transform,E)}}])}(),ul=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"postProcessor",value:function(E){var x=E.parsedStyle.transformOrigin;x[0].unit===oo.kPixels&&x[1].unit===oo.kPixels?E.setOrigin(x[0].value,x[1].value):E.getGeometryBounds()}}])}(),ef=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"calculator",value:function(E,x,V,pe){return V.value}},{key:"postProcessor",value:function(E){if(E.parentNode){var x=E.parentNode,V=x.renderable,pe=x.sortable;V&&(V.dirty=!0),pe&&(pe.dirty=!0,pe.dirtyReason=Po.Z_INDEX_CHANGED)}}}])}(),Tc=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E,x){var V=E.cx,pe=V===void 0?0:V,he=E.cy,ke=he===void 0?0:he,bt=E.r,qt=bt===void 0?0:bt;return{cx:pe,cy:ke,hwidth:qt,hheight:qt}}}])}(),_h=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E,x){var V=E.cx,pe=V===void 0?0:V,he=E.cy,ke=he===void 0?0:he,bt=E.rx,qt=bt===void 0?0:bt,Te=E.ry,ot=Te===void 0?0:Te;return{cx:pe,cy:ke,hwidth:qt,hheight:ot}}}])}(),bh=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E){var x=E.x1,V=E.y1,pe=E.x2,he=E.y2,ke=Math.min(x,pe),bt=Math.max(x,pe),qt=Math.min(V,he),Te=Math.max(V,he),ot=bt-ke,Wt=Te-qt,zn=ot/2,qn=Wt/2;return{cx:ke+zn,cy:qt+qn,hwidth:zn,hheight:qn}}}])}(),rh=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E){var x=E.d,V=x.rect,pe=V.x,he=V.y,ke=V.width,bt=V.height,qt=ke/2,Te=bt/2;return{cx:pe+qt,cy:he+Te,hwidth:qt,hheight:Te}}}])}(),ho=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E){if(E.points&&(0,an.Z)(E.points.points)){var x=E.points.points,V=Math.min.apply(Math,(0,ue.Z)(x.map(function(Wt){return Wt[0]}))),pe=Math.max.apply(Math,(0,ue.Z)(x.map(function(Wt){return Wt[0]}))),he=Math.min.apply(Math,(0,ue.Z)(x.map(function(Wt){return Wt[1]}))),ke=Math.max.apply(Math,(0,ue.Z)(x.map(function(Wt){return Wt[1]}))),bt=pe-V,qt=ke-he,Te=bt/2,ot=qt/2;return{cx:V+Te,cy:he+ot,hwidth:Te,hheight:ot}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Yo=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E,x){var V=E.x,pe=V===void 0?0:V,he=E.y,ke=he===void 0?0:he,bt=E.src,qt=E.width,Te=qt===void 0?0:qt,ot=E.height,Wt=ot===void 0?0:ot,zn=Te,qn=Wt;return bt&&!(0,Fe.Z)(bt)&&(zn||(zn=bt.width,E.width=zn),qn||(qn=bt.height,E.height=qn)),{cx:pe+zn/2,cy:ke+qn/2,hwidth:zn/2,hheight:qn/2}}}])}(),cu=function(){function W(X){(0,B.Z)(this,W),this.globalRuntime=X}return(0,ne.Z)(W,[{key:"isReadyToMeasure",value:function(E,x){var V=E.text;return V}},{key:"update",value:function(E,x){var V,pe=E.text,he=E.textAlign,ke=he===void 0?"start":he,bt=E.lineWidth,qt=bt===void 0?1:bt,Te=E.textBaseline,ot=Te===void 0?"alphabetic":Te,Wt=E.dx,zn=Wt===void 0?0:Wt,qn=E.dy,sr=qn===void 0?0:qn,Qn=E.x,Qr=Qn===void 0?0:Qn,Or=E.y,bi=Or===void 0?0:Or;if(!this.isReadyToMeasure(E,x))return E.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var Pi=(x==null||(V=x.ownerDocument)===null||V===void 0||(V=V.defaultView)===null||V===void 0?void 0:V.getConfig())||{},zr=Pi.offscreenCanvas,Tr=this.globalRuntime.textService.measureText(pe,E,zr);E.metrics=Tr;var Fr=Tr.width,ri=Tr.height,gr=Fr/2,jr=ri/2,Vi=Qr+gr;ke==="center"||ke==="middle"?Vi+=qt/2-gr:(ke==="right"||ke==="end")&&(Vi+=qt-gr*2);var da=bi-jr;return ot==="middle"?da+=jr:ot==="top"||ot==="hanging"?da+=jr*2:ot==="alphabetic"||(ot==="bottom"||ot==="ideographic")&&(da+=0),zn&&(Vi+=zn),sr&&(da+=sr),{cx:Vi,cy:da,hwidth:gr,hheight:jr}}}])}(),el=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E,x){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Hs=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"update",value:function(E,x){var V=E.x,pe=V===void 0?0:V,he=E.y,ke=he===void 0?0:he,bt=E.width,qt=bt===void 0?0:bt,Te=E.height,ot=Te===void 0?0:Te;return{cx:pe+qt/2,cy:ke+ot/2,hwidth:qt/2,hheight:ot/2}}}])}();function Xf(W){return!!W.type}var tf=function(){function W(X){(0,B.Z)(this,W),this.eventPhase=W.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new St,this.page=new St,this.canvas=new St,this.viewport=new St,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=X}return(0,ne.Z)(W,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(fn)}}])}(),Gl=function(W){function X(){var E;(0,B.Z)(this,X);for(var x=arguments.length,V=new Array(x),pe=0;pe<x;pe++)V[pe]=arguments[pe];return E=(0,j.Z)(this,X,[].concat(V)),E.client=new St,E.movement=new St,E.offset=new St,E.global=new St,E.screen=new St,E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(x){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(x)}},{key:"initMouseEvent",value:function(){throw new Error(fn)}}])}(tf),Uf=function(W){function X(){var E;(0,B.Z)(this,X);for(var x=arguments.length,V=new Array(x),pe=0;pe<x;pe++)V[pe]=arguments[pe];return E=(0,j.Z)(this,X,[].concat(V)),E.width=0,E.height=0,E.isPrimary=!1,E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Gl),rc=function(W){function X(){return(0,B.Z)(this,X),(0,j.Z)(this,X,arguments)}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Gl),Du=function(W){function X(E,x){var V;return(0,B.Z)(this,X),V=(0,j.Z)(this,X,[null]),V.type=E,V.detail=x,Object.assign(V,x),V}return(0,q.Z)(X,W),(0,ne.Z)(X)}(tf),zc=new WeakMap,zf=function(){function W(){(0,B.Z)(this,W),this.emitter=new K.Z}return(0,ne.Z)(W,[{key:"on",value:function(E,x,V){return this.addEventListener(E,x,V),this}},{key:"addEventListener",value:function(E,x,V){var pe=!1,he=!1;if((0,hn.Z)(V))pe=V;else if(V){var ke=V.capture;pe=ke===void 0?!1:ke;var bt=V.once;he=bt===void 0?!1:bt}pe&&(E+="capture"),x=(0,pr.Z)(x)?x:x.handleEvent;var qt=(0,pr.Z)(x)?void 0:x;return he?this.emitter.once(E,x,qt):this.emitter.on(E,x,qt),this}},{key:"off",value:function(E,x,V){return E?this.removeEventListener(E,x,V):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var E;(E=this.emitter)===null||E===void 0||E.removeAllListeners()}},{key:"removeEventListener",value:function(E,x,V){var pe;if(!this.emitter)return this;var he=(0,hn.Z)(V)?V:V==null?void 0:V.capture;he&&(E+="capture"),x=(0,pr.Z)(x)?x:(pe=x)===null||pe===void 0?void 0:pe.handleEvent;var ke=(0,pr.Z)(x)?void 0:x;return this.emitter.off(E,x,ke),this}},{key:"emit",value:function(E,x){this.dispatchEvent(new Du(E,x))}},{key:"dispatchEvent",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=zc.get(this);if(!V){var pe;this.document?V=this:this.defaultView?V=this.defaultView:V=(pe=this.ownerDocument)===null||pe===void 0?void 0:pe.defaultView,V&&zc.set(this,V)}if(V){if(E.manager=V.getEventService(),!E.manager)return!1;E.defaultPrevented=!1,E.path?E.path.length=0:E.page=[],x||(E.target=this),E.manager.dispatchEvent(E,E.type,x)}else this.emitter.emit(E.type,E);return!E.defaultPrevented}}])}(),Qu=function(W){function X(){var E;(0,B.Z)(this,X);for(var x=arguments.length,V=new Array(x),pe=0;pe<x;pe++)V[pe]=arguments[pe];return E=(0,j.Z)(this,X,[].concat(V)),E.shadow=!1,E.ownerDocument=null,E.isConnected=!1,E.baseURI="",E.childNodes=[],E.nodeType=0,E.nodeName="",E.nodeValue=null,E.parentNode=null,E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"textContent",get:function(){var x="";this.nodeName===oi.TEXT&&(x+=this.style.text);var V=(0,ra.Z)(this.childNodes),pe;try{for(V.s();!(pe=V.n()).done;){var he=pe.value;he.nodeName===oi.TEXT?x+=he.nodeValue:x+=he.textContent}}catch(ke){V.e(ke)}finally{V.f()}return x},set:function(x){var V=this;this.childNodes.slice().forEach(function(pe){V.removeChild(pe)}),this.nodeName===oi.TEXT&&(this.style.text="".concat(x))}},{key:"getRootNode",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(x):x.composed&&this.host?this.host.getRootNode(x):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(x){throw new Error(fn)}},{key:"lookupNamespaceURI",value:function(x){throw new Error(fn)}},{key:"lookupPrefix",value:function(x){throw new Error(fn)}},{key:"normalize",value:function(){throw new Error(fn)}},{key:"isEqualNode",value:function(x){return this===x}},{key:"isSameNode",value:function(x){return this.isEqualNode(x)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(x){if(x===this)return 0;for(var V=x,pe=this,he=[V],ke=[pe];(bt=V.parentNode)!==null&&bt!==void 0?bt:pe.parentNode;){var bt;V=V.parentNode?(he.push(V.parentNode),V.parentNode):V,pe=pe.parentNode?(ke.push(pe.parentNode),pe.parentNode):pe}if(V!==pe)return X.DOCUMENT_POSITION_DISCONNECTED|X.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|X.DOCUMENT_POSITION_PRECEDING;var qt=he.length>ke.length?he:ke,Te=qt===he?ke:he;if(qt[qt.length-Te.length]===Te[0])return qt===he?X.DOCUMENT_POSITION_CONTAINED_BY|X.DOCUMENT_POSITION_FOLLOWING:X.DOCUMENT_POSITION_CONTAINS|X.DOCUMENT_POSITION_PRECEDING;for(var ot=qt.length-Te.length,Wt=Te.length-1;Wt>=0;Wt--){var zn=Te[Wt],qn=qt[ot+Wt];if(qn!==zn){var sr=zn.parentNode.childNodes;return sr.indexOf(zn)<sr.indexOf(qn)?Te===he?X.DOCUMENT_POSITION_PRECEDING:X.DOCUMENT_POSITION_FOLLOWING:qt===he?X.DOCUMENT_POSITION_PRECEDING:X.DOCUMENT_POSITION_FOLLOWING}}return X.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(x){return this.contains(x)}},{key:"contains",value:function(x){for(var V=x;V&&this!==V;)V=V.parentNode;return!!V}},{key:"getAncestor",value:function(x){for(var V=this;x>0&&V;)V=V.parentNode,x--;return V}},{key:"forEach",value:function(x){for(var V=[this];V.length>0;){var pe=V.pop(),he=x(pe);if(he===!1)break;for(var ke=pe.childNodes.length-1;ke>=0;ke--)V.push(pe.childNodes[ke])}}}],[{key:"isNode",value:function(x){return!!x.childNodes}}])}(zf);Qu.DOCUMENT_POSITION_DISCONNECTED=1,Qu.DOCUMENT_POSITION_PRECEDING=2,Qu.DOCUMENT_POSITION_FOLLOWING=4,Qu.DOCUMENT_POSITION_CONTAINS=8,Qu.DOCUMENT_POSITION_CONTAINED_BY=16,Qu.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var xp=2048,Zf=function(){function W(X,E){var x=this;(0,B.Z)(this,W),this.emitter=new K.Z,this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=ie.create(),this.tmpVec3=H.Ue(),this.onPointerDown=function(V){var pe=x.createPointerEvent(V);if(x.dispatchEvent(pe,"pointerdown"),pe.pointerType==="touch")x.dispatchEvent(pe,"touchstart");else if(pe.pointerType==="mouse"||pe.pointerType==="pen"){var he=pe.button===2;x.dispatchEvent(pe,he?"rightdown":"mousedown")}var ke=x.trackingData(V.pointerId);ke.pressTargetsByButton[V.button]=pe.composedPath(),x.freeEvent(pe)},this.onPointerUp=function(V){var pe=ol.now(),he=x.createPointerEvent(V,void 0,void 0,x.context.config.alwaysTriggerPointerEventOnCanvas?x.rootTarget:void 0);if(x.dispatchEvent(he,"pointerup"),he.pointerType==="touch")x.dispatchEvent(he,"touchend");else if(he.pointerType==="mouse"||he.pointerType==="pen"){var ke=he.button===2;x.dispatchEvent(he,ke?"rightup":"mouseup")}var bt=x.trackingData(V.pointerId),qt=x.findMountedTarget(bt.pressTargetsByButton[V.button]),Te=qt;if(qt&&!he.composedPath().includes(qt)){for(var ot=qt;ot&&!he.composedPath().includes(ot);){if(he.currentTarget=ot,x.notifyTarget(he,"pointerupoutside"),he.pointerType==="touch")x.notifyTarget(he,"touchendoutside");else if(he.pointerType==="mouse"||he.pointerType==="pen"){var Wt=he.button===2;x.notifyTarget(he,Wt?"rightupoutside":"mouseupoutside")}Qu.isNode(ot)&&(ot=ot.parentNode)}delete bt.pressTargetsByButton[V.button],Te=ot}if(Te){var zn,qn=x.clonePointerEvent(he,"click");qn.target=Te,qn.path=[],bt.clicksByButton[V.button]||(bt.clicksByButton[V.button]={clickCount:0,target:qn.target,timeStamp:pe});var sr=x.context.renderingContext.root.ownerDocument.defaultView,Qn=bt.clicksByButton[V.button];Qn.target===qn.target&&pe-Qn.timeStamp<sr.dblClickSpeed?++Qn.clickCount:Qn.clickCount=1,Qn.target=qn.target,Qn.timeStamp=pe,qn.detail=Qn.clickCount,(zn=he.detail)!==null&&zn!==void 0&&zn.preventClick||(!x.context.config.useNativeClickEvent&&(qn.pointerType==="mouse"||qn.pointerType==="touch")&&x.dispatchEvent(qn,"click"),x.dispatchEvent(qn,"pointertap")),x.freeEvent(qn)}x.freeEvent(he)},this.onPointerMove=function(V){var pe=x.createPointerEvent(V,void 0,void 0,x.context.config.alwaysTriggerPointerEventOnCanvas?x.rootTarget:void 0),he=pe.pointerType==="mouse"||pe.pointerType==="pen",ke=x.trackingData(V.pointerId),bt=x.findMountedTarget(ke.overTargets);if(ke.overTargets&&bt!==pe.target){var qt=V.type==="mousemove"?"mouseout":"pointerout",Te=x.createPointerEvent(V,qt,bt||void 0);if(x.dispatchEvent(Te,"pointerout"),he&&x.dispatchEvent(Te,"mouseout"),!pe.composedPath().includes(bt)){var ot=x.createPointerEvent(V,"pointerleave",bt||void 0);for(ot.eventPhase=ot.AT_TARGET;ot.target&&!pe.composedPath().includes(ot.target);)ot.currentTarget=ot.target,x.notifyTarget(ot),he&&x.notifyTarget(ot,"mouseleave"),Qu.isNode(ot.target)&&(ot.target=ot.target.parentNode);x.freeEvent(ot)}x.freeEvent(Te)}if(bt!==pe.target){var Wt=V.type==="mousemove"?"mouseover":"pointerover",zn=x.clonePointerEvent(pe,Wt);x.dispatchEvent(zn,"pointerover"),he&&x.dispatchEvent(zn,"mouseover");for(var qn=bt&&Qu.isNode(bt)&&bt.parentNode;qn&&qn!==(Qu.isNode(x.rootTarget)&&x.rootTarget.parentNode)&&qn!==pe.target;)qn=qn.parentNode;var sr=!qn||qn===(Qu.isNode(x.rootTarget)&&x.rootTarget.parentNode);if(sr){var Qn=x.clonePointerEvent(pe,"pointerenter");for(Qn.eventPhase=Qn.AT_TARGET;Qn.target&&Qn.target!==bt&&Qn.target!==(Qu.isNode(x.rootTarget)&&x.rootTarget.parentNode);)Qn.currentTarget=Qn.target,x.notifyTarget(Qn),he&&x.notifyTarget(Qn,"mouseenter"),Qu.isNode(Qn.target)&&(Qn.target=Qn.target.parentNode);x.freeEvent(Qn)}x.freeEvent(zn)}x.dispatchEvent(pe,"pointermove"),pe.pointerType==="touch"&&x.dispatchEvent(pe,"touchmove"),he&&(x.dispatchEvent(pe,"mousemove"),x.cursor=x.getCursor(pe.target)),ke.overTargets=pe.composedPath(),x.freeEvent(pe)},this.onPointerOut=function(V){var pe=x.trackingData(V.pointerId);if(pe.overTargets){var he=V.pointerType==="mouse"||V.pointerType==="pen",ke=x.findMountedTarget(pe.overTargets),bt=x.createPointerEvent(V,"pointerout",ke||void 0);x.dispatchEvent(bt),he&&x.dispatchEvent(bt,"mouseout");var qt=x.createPointerEvent(V,"pointerleave",ke||void 0);for(qt.eventPhase=qt.AT_TARGET;qt.target&&qt.target!==(Qu.isNode(x.rootTarget)&&x.rootTarget.parentNode);)qt.currentTarget=qt.target,x.notifyTarget(qt),he&&x.notifyTarget(qt,"mouseleave"),Qu.isNode(qt.target)&&(qt.target=qt.target.parentNode);pe.overTargets=null,x.freeEvent(bt),x.freeEvent(qt)}x.cursor=null},this.onPointerOver=function(V){var pe=x.trackingData(V.pointerId),he=x.createPointerEvent(V),ke=he.pointerType==="mouse"||he.pointerType==="pen";x.dispatchEvent(he,"pointerover"),ke&&x.dispatchEvent(he,"mouseover"),he.pointerType==="mouse"&&(x.cursor=x.getCursor(he.target));var bt=x.clonePointerEvent(he,"pointerenter");for(bt.eventPhase=bt.AT_TARGET;bt.target&&bt.target!==(Qu.isNode(x.rootTarget)&&x.rootTarget.parentNode);)bt.currentTarget=bt.target,x.notifyTarget(bt),ke&&x.notifyTarget(bt,"mouseenter"),Qu.isNode(bt.target)&&(bt.target=bt.target.parentNode);pe.overTargets=he.composedPath(),x.freeEvent(he),x.freeEvent(bt)},this.onPointerUpOutside=function(V){var pe=x.trackingData(V.pointerId),he=x.findMountedTarget(pe.pressTargetsByButton[V.button]),ke=x.createPointerEvent(V);if(he){for(var bt=he;bt;)ke.currentTarget=bt,x.notifyTarget(ke,"pointerupoutside"),ke.pointerType==="touch"||(ke.pointerType==="mouse"||ke.pointerType==="pen")&&x.notifyTarget(ke,ke.button===2?"rightupoutside":"mouseupoutside"),Qu.isNode(bt)&&(bt=bt.parentNode);delete pe.pressTargetsByButton[V.button]}x.freeEvent(ke)},this.onWheel=function(V){var pe=x.createWheelEvent(V);x.dispatchEvent(pe),x.freeEvent(pe)},this.onClick=function(V){if(x.context.config.useNativeClickEvent){var pe=x.createPointerEvent(V);x.dispatchEvent(pe),x.freeEvent(pe)}},this.onPointerCancel=function(V){var pe=x.createPointerEvent(V,void 0,void 0,x.context.config.alwaysTriggerPointerEventOnCanvas?x.rootTarget:void 0);x.dispatchEvent(pe),x.freeEvent(pe)},this.globalRuntime=X,this.context=E}return(0,ne.Z)(W,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var E=this.context.contextService.getBoundingClientRect(),x=1,V=1,pe=this.context.contextService.getDomElement();if(pe&&E){var he=pe.offsetWidth,ke=pe.offsetHeight;he&&ke&&(x=E.width/he,V=E.height/ke)}return{scaleX:x,scaleY:V,bbox:E}}},{key:"client2Viewport",value:function(E){var x=this.getScale(),V=x.scaleX,pe=x.scaleY,he=x.bbox;return new St((E.x-((he==null?void 0:he.left)||0))/V,(E.y-((he==null?void 0:he.top)||0))/pe)}},{key:"viewport2Client",value:function(E){var x=this.getScale(),V=x.scaleX,pe=x.scaleY,he=x.bbox;return new St((E.x+((he==null?void 0:he.left)||0))*V,(E.y+((he==null?void 0:he.top)||0))*pe)}},{key:"viewport2Canvas",value:function(E){var x=E.x,V=E.y,pe=this.rootTarget.defaultView,he=pe.getCamera(),ke=this.context.config,bt=ke.width,qt=ke.height,Te=he.getPerspectiveInverse(),ot=he.getWorldTransform(),Wt=ie.multiply(this.tmpMatrix,ot,Te),zn=H.t8(this.tmpVec3,x/bt*2-1,(1-V/qt)*2-1,0);return H.fF(zn,zn,Wt),new St(zn[0],zn[1])}},{key:"canvas2Viewport",value:function(E){var x=this.rootTarget.defaultView,V=x.getCamera(),pe=V.getPerspective(),he=V.getViewTransform(),ke=ie.multiply(this.tmpMatrix,pe,he),bt=H.t8(this.tmpVec3,E.x,E.y,0);H.fF(this.tmpVec3,this.tmpVec3,ke);var qt=this.context.config,Te=qt.width,ot=qt.height;return new St((bt[0]+1)/2*Te,(1-(bt[1]+1)/2)*ot)}},{key:"setPickHandler",value:function(E){this.pickHandler=E}},{key:"addEventMapping",value:function(E,x){this.mappingTable[E]||(this.mappingTable[E]=[]),this.mappingTable[E].push({fn:x,priority:0}),this.mappingTable[E].sort(function(V,pe){return V.priority-pe.priority})}},{key:"mapEvent",value:function(E){if(this.rootTarget){var x=this.mappingTable[E.type];if(x)for(var V=0,pe=x.length;V<pe;V++)x[V].fn(E);else console.warn("[EventService]: Event mapping not defined for ".concat(E.type))}}},{key:"dispatchEvent",value:function(E,x,V){if(!V)E.propagationStopped=!1,E.propagationImmediatelyStopped=!1,this.propagate(E,x);else{E.eventPhase=E.AT_TARGET;var pe=this.rootTarget.defaultView||null;E.currentTarget=pe,this.notifyListeners(E,x)}this.emitter.emit(x||E.type,E)}},{key:"propagate",value:function(E,x){if(E.target){var V=E.composedPath();E.eventPhase=E.CAPTURING_PHASE;for(var pe=V.length-1;pe>=1;pe--)if(E.currentTarget=V[pe],this.notifyTarget(E,x),E.propagationStopped||E.propagationImmediatelyStopped)return;if(E.eventPhase=E.AT_TARGET,E.currentTarget=E.target,this.notifyTarget(E,x),!(E.propagationStopped||E.propagationImmediatelyStopped)){var he=V.indexOf(E.currentTarget);E.eventPhase=E.BUBBLING_PHASE;for(var ke=he+1;ke<V.length;ke++)if(E.currentTarget=V[ke],this.notifyTarget(E,x),E.propagationStopped||E.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(E){var x=[E],V=this.rootTarget.defaultView||null;if(V&&V===E)return x.unshift(V.document),x;for(var pe=0;pe<xp&&E!==this.rootTarget;pe++)Qu.isNode(E)&&E.parentNode&&(x.push(E.parentNode),E=E.parentNode);return V&&x.push(V),x}},{key:"hitTest",value:function(E){var x=E.viewportX,V=E.viewportY,pe=this.context.config,he=pe.width,ke=pe.height,bt=pe.disableHitTesting;return x<0||V<0||x>he||V>ke?null:!bt&&this.pickHandler(E)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(E,x){var V,pe=x==null?void 0:x.target;if((V=pe)!==null&&V!==void 0&&V.shadowRoot&&(pe=x.composedPath()[0]),pe){if(pe===E)return!0;if(E&&E.contains)return E.contains(pe)}return x!=null&&x.composedPath?x.composedPath().indexOf(E)>-1:!1}},{key:"getExistedHTML",value:function(E){if(E.nativeEvent.composedPath)for(var x=0,V=E.nativeEvent.composedPath();x<V.length;x++){var pe=V[x],he=this.nativeHTMLMap.get(pe);if(he)return he}return null}},{key:"pickTarget",value:function(E){return this.hitTest({clientX:E.clientX,clientY:E.clientY,viewportX:E.viewportX,viewportY:E.viewportY,x:E.canvasX,y:E.canvasY})}},{key:"createPointerEvent",value:function(E,x,V,pe){var he=this.allocateEvent(Uf);this.copyPointerData(E,he),this.copyMouseData(E,he),this.copyData(E,he),he.nativeEvent=E.nativeEvent,he.originalEvent=E;var ke=this.getExistedHTML(he),bt=this.context.contextService.getDomElement();return he.target=V!=null?V:ke||this.isNativeEventFromCanvas(bt,he.nativeEvent)&&this.pickTarget(he)||pe,typeof x=="string"&&(he.type=x),he}},{key:"createWheelEvent",value:function(E){var x=this.allocateEvent(rc);this.copyWheelData(E,x),this.copyMouseData(E,x),this.copyData(E,x),x.nativeEvent=E.nativeEvent,x.originalEvent=E;var V=this.getExistedHTML(x),pe=this.context.contextService.getDomElement();return x.target=V||this.isNativeEventFromCanvas(pe,x.nativeEvent)&&this.pickTarget(x),x}},{key:"trackingData",value:function(E){return this.mappingState.trackingData[E]||(this.mappingState.trackingData[E]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[E]}},{key:"cloneWheelEvent",value:function(E){var x=this.allocateEvent(rc);return x.nativeEvent=E.nativeEvent,x.originalEvent=E.originalEvent,this.copyWheelData(E,x),this.copyMouseData(E,x),this.copyData(E,x),x.target=E.target,x.path=E.composedPath().slice(),x.type=E.type,x}},{key:"clonePointerEvent",value:function(E,x){var V=this.allocateEvent(Uf);return V.nativeEvent=E.nativeEvent,V.originalEvent=E.originalEvent,this.copyPointerData(E,V),this.copyMouseData(E,V),this.copyData(E,V),V.target=E.target,V.path=E.composedPath().slice(),V.type=x!=null?x:V.type,V}},{key:"copyPointerData",value:function(E,x){x.pointerId=E.pointerId,x.width=E.width,x.height=E.height,x.isPrimary=E.isPrimary,x.pointerType=E.pointerType,x.pressure=E.pressure,x.tangentialPressure=E.tangentialPressure,x.tiltX=E.tiltX,x.tiltY=E.tiltY,x.twist=E.twist}},{key:"copyMouseData",value:function(E,x){x.altKey=E.altKey,x.button=E.button,x.buttons=E.buttons,x.ctrlKey=E.ctrlKey,x.metaKey=E.metaKey,x.shiftKey=E.shiftKey,x.client.copyFrom(E.client),x.movement.copyFrom(E.movement),x.canvas.copyFrom(E.canvas),x.screen.copyFrom(E.screen),x.global.copyFrom(E.global),x.offset.copyFrom(E.offset)}},{key:"copyWheelData",value:function(E,x){x.deltaMode=E.deltaMode,x.deltaX=E.deltaX,x.deltaY=E.deltaY,x.deltaZ=E.deltaZ}},{key:"copyData",value:function(E,x){x.isTrusted=E.isTrusted,x.timeStamp=ol.now(),x.type=E.type,x.detail=E.detail,x.view=E.view,x.page.copyFrom(E.page),x.viewport.copyFrom(E.viewport)}},{key:"allocateEvent",value:function(E){this.eventPool.has(E)||this.eventPool.set(E,[]);var x=this.eventPool.get(E).pop()||new E(this);return x.eventPhase=x.NONE,x.currentTarget=null,x.path=[],x.target=null,x}},{key:"freeEvent",value:function(E){if(E.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var x=E.constructor;this.eventPool.has(x)||this.eventPool.set(x,[]),this.eventPool.get(x).push(E)}},{key:"notifyTarget",value:function(E,x){var V;x=(V=x)!==null&&V!==void 0?V:E.type;var pe=E.eventPhase===E.CAPTURING_PHASE||E.eventPhase===E.AT_TARGET?"".concat(x,"capture"):x;this.notifyListeners(E,pe),E.eventPhase===E.AT_TARGET&&this.notifyListeners(E,x)}},{key:"notifyListeners",value:function(E,x){var V=E.currentTarget.emitter,pe=V._events[x];if(pe)if("fn"in pe)pe.once&&V.removeListener(x,pe.fn,void 0,!0),pe.fn.call(E.currentTarget||pe.context,E);else for(var he=0;he<pe.length&&!E.propagationImmediatelyStopped;he++)pe[he].once&&V.removeListener(x,pe[he].fn,void 0,!0),pe[he].fn.call(E.currentTarget||pe[he].context,E)}},{key:"findMountedTarget",value:function(E){if(!E)return null;for(var x=E[E.length-1],V=E.length-2;V>=0;V--){var pe=E[V];if(pe===this.rootTarget||Qu.isNode(pe)&&pe.parentNode===x)x=E[V];else break}return x}},{key:"getCursor",value:function(E){for(var x=E;x;){var V=Dt(x)&&x.getAttribute("cursor");if(V)return V;x=Qu.isNode(x)&&x.parentNode}}}])}(),Gh=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"getOrCreateCanvas",value:function(E,x){if(this.canvas)return this.canvas;if(E||Ho.offscreenCanvas)this.canvas=E||Ho.offscreenCanvas,this.context=this.canvas.getContext("2d",(0,w.Z)({willReadFrequently:!0},x));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",(0,w.Z)({willReadFrequently:!0},x)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(V){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",(0,w.Z)({willReadFrequently:!0},x))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(E,x){return this.context?this.context:(this.getOrCreateCanvas(E,x),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(E){}try{return document.createElement("canvas")}catch(E){}return null}}])}(),ih=function(W){return W[W.CAMERA_CHANGED=0]="CAMERA_CHANGED",W[W.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",W[W.NONE=2]="NONE",W}({}),Tp=function(){function W(X,E){(0,B.Z)(this,W),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new nc,initAsync:new $o,dirtycheck:new rd,cull:new rd,beginFrame:new nc,beforeRender:new nc,render:new nc,afterRender:new nc,endFrame:new nc,destroy:new nc,pick:new $c,pickSync:new rd,pointerDown:new nc,pointerUp:new nc,pointerMove:new nc,pointerOut:new nc,pointerOver:new nc,pointerWheel:new nc,pointerCancel:new nc,click:new nc},this.globalRuntime=X,this.context=E}return(0,ne.Z)(W,[{key:"init",value:function(E){var x=this,V=(0,w.Z)((0,w.Z)({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(pe){pe.apply(V,x.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,E()):this.hooks.initAsync.promise().then(function(){x.inited=!0,E()}).catch(function(pe){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var E=this.context.config.renderer,x=E.getConfig(),V=x.enableDirtyRectangleRendering;return!V||this.context.renderingContext.renderReasons.has(ih.CAMERA_CHANGED)}},{key:"render",value:function(E,x,V){var pe=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var he=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(he.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),he.renderReasons.size&&this.inited){he.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var ke=he.renderReasons.size===1&&he.renderReasons.has(ih.CAMERA_CHANGED),bt=!E.disableRenderHooks||!(E.disableRenderHooks&&ke);bt&&this.renderDisplayObject(he.root,E,he),this.hooks.beginFrame.call(x),bt&&he.renderListCurrentFrame.forEach(function(qt){pe.hooks.beforeRender.call(qt),pe.hooks.render.call(qt),pe.hooks.afterRender.call(qt)}),this.hooks.endFrame.call(x),he.renderListCurrentFrame=[],he.renderReasons.clear(),V()}}},{key:"renderDisplayObject",value:function(E,x,V){var pe=this,he=x.renderer.getConfig(),ke=he.enableDirtyCheck,bt=he.enableCulling;function qt(qn){var sr=qn.renderable,Qn=qn.sortable,Qr=ke?sr.dirty||V.dirtyRectangleRenderingDisabled?qn:null:qn;if(Qr){var Or=bt?pe.hooks.cull.call(Qr,pe.context.camera):Qr;Or&&(pe.stats.rendered+=1,V.renderListCurrentFrame.push(Or))}sr.dirty=!1,Qn.renderOrder=pe.zIndexCounter,pe.zIndexCounter+=1,pe.stats.total+=1,Qn.dirty&&(pe.sort(qn,Qn),Qn.dirty=!1,Qn.dirtyChildren=[],Qn.dirtyReason=void 0)}for(var Te=[E];Te.length>0;){var ot=Te.pop();qt(ot);for(var Wt=ot.sortable.sorted||ot.childNodes,zn=Wt.length-1;zn>=0;zn--)Te.push(Wt[zn])}}},{key:"sort",value:function(E,x){x.sorted&&x.dirtyReason!==Po.Z_INDEX_CHANGED?x.dirtyChildren.forEach(function(V){var pe=E.childNodes.indexOf(V);if(pe===-1){var he=x.sorted.indexOf(V);he>=0&&x.sorted.splice(he,1)}else if(x.sorted.length===0)x.sorted.push(V);else{var ke=Ta(x.sorted,V);x.sorted.splice(ke,0,V)}}):x.sorted=E.childNodes.slice().sort(ba)}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(ih.DISPLAY_OBJECT_CHANGED)}}])}(),Z0=/\[\s*(.*)=(.*)\s*\]/,wh=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"selectOne",value:function(E,x){var V=this;if(E.startsWith("."))return x.find(function(bt){return((bt==null?void 0:bt.classList)||[]).indexOf(V.getIdOrClassname(E))>-1});if(E.startsWith("#"))return x.find(function(bt){return bt.id===V.getIdOrClassname(E)});if(E.startsWith("[")){var pe=this.getAttribute(E),he=pe.name,ke=pe.value;return he?x.find(function(bt){return x!==bt&&(he==="name"?bt.name===ke:V.attributeToString(bt,he)===ke)}):null}return x.find(function(bt){return x!==bt&&bt.nodeName===E})}},{key:"selectAll",value:function(E,x){var V=this;if(E.startsWith("."))return x.findAll(function(bt){return x!==bt&&((bt==null?void 0:bt.classList)||[]).indexOf(V.getIdOrClassname(E))>-1});if(E.startsWith("#"))return x.findAll(function(bt){return x!==bt&&bt.id===V.getIdOrClassname(E)});if(E.startsWith("[")){var pe=this.getAttribute(E),he=pe.name,ke=pe.value;return he?x.findAll(function(bt){return x!==bt&&(he==="name"?bt.name===ke:V.attributeToString(bt,he)===ke)}):[]}return x.findAll(function(bt){return x!==bt&&bt.nodeName===E})}},{key:"is",value:function(E,x){if(E.startsWith("."))return x.className===this.getIdOrClassname(E);if(E.startsWith("#"))return x.id===this.getIdOrClassname(E);if(E.startsWith("[")){var V=this.getAttribute(E),pe=V.name,he=V.value;return pe==="name"?x.name===he:this.attributeToString(x,pe)===he}return x.nodeName===E}},{key:"getIdOrClassname",value:function(E){return E.substring(1)}},{key:"getAttribute",value:function(E){var x=E.match(Z0),V="",pe="";return x&&x.length>2&&(V=x[1].replace(/"/g,""),pe=x[2].replace(/"/g,"")),{name:V,value:pe}}},{key:"attributeToString",value:function(E,x){if(!E.getAttribute)return"";var V=E.getAttribute(x);return(0,fe.Z)(V)?"":V.toString?V.toString():""}}])}(),Sc=function(W){return W.REPARENT="reparent",W.DESTROY="destroy",W.ATTR_MODIFIED="DOMAttrModified",W.INSERTED="DOMNodeInserted",W.REMOVED="removed",W.MOUNTED="DOMNodeInsertedIntoDocument",W.UNMOUNTED="DOMNodeRemovedFromDocument",W.BOUNDS_CHANGED="bounds-changed",W.CULLED="culled",W}({}),xf=function(W){function X(E,x,V,pe,he,ke,bt,qt){var Te;return(0,B.Z)(this,X),Te=(0,j.Z)(this,X,[null]),Te.relatedNode=x,Te.prevValue=V,Te.newValue=pe,Te.attrName=he,Te.attrChange=ke,Te.prevParsedValue=bt,Te.newParsedValue=qt,Te.type=E,Te}return(0,q.Z)(X,W),(0,ne.Z)(X)}(tf);xf.ADDITION=2,xf.MODIFICATION=1,xf.REMOVAL=3;function m0(W){var X=W.renderable;X&&(X.renderBoundsDirty=!0,X.boundsDirty=!0)}var ah=new xf(Sc.REPARENT,null,"","","",0,"",""),gf=ge.Ue(),Xc=H.Ue(),P0=H.al(1,1,1),Rd=ie.create(),oh=ge.Ue(),nf=H.Ue(),zd=ie.create(),Sl=se.Ue(),Zd=H.Ue(),hd=se.Ue(),Mh=H.Ue(),Pd=H.Ue(),bd=H.Ue(),Kc=ie.create(),Sp=se.Ue(),i0=se.Ue(),sh=se.Ue(),Rh={affectChildren:!0},v0=function(){function W(X){(0,B.Z)(this,W),this.pendingEvents=new Map,this.boundsChangedEvent=new Du(Sc.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=X}return(0,ne.Z)(W,[{key:"matches",value:function(E,x){return this.runtime.sceneGraphSelector.is(E,x)}},{key:"querySelector",value:function(E,x){return this.runtime.sceneGraphSelector.selectOne(E,x)}},{key:"querySelectorAll",value:function(E,x){return this.runtime.sceneGraphSelector.selectAll(E,x)}},{key:"attach",value:function(E,x,V){var pe,he=!1;E.parentNode&&(he=E.parentNode!==x,this.detach(E));var ke=E.nodeName===oi.FRAGMENT,bt=Lo(x);E.parentNode=x;var qt=ke?E.childNodes:[E];(0,ye.Z)(V)?qt.forEach(function(zn){x.childNodes.splice(V,0,zn),zn.parentNode=x}):qt.forEach(function(zn){x.childNodes.push(zn),zn.parentNode=x});var Te=x,ot=Te.sortable;if((ot!=null&&(pe=ot.sorted)!==null&&pe!==void 0&&pe.length||E.parsedStyle.zIndex)&&(ot.dirtyChildren.indexOf(E)===-1&&ot.dirtyChildren.push(E),ot.dirty=!0,ot.dirtyReason=Po.ADDED),!bt){if(ke)this.dirtifyFragment(E);else{var Wt=E.transformable;Wt&&this.dirtifyWorld(E,Wt)}he&&E.dispatchEvent(ah)}}},{key:"detach",value:function(E){if(E.parentNode){var x,V,pe=E.transformable,he=E.parentNode,ke=he.sortable;(ke!=null&&(x=ke.sorted)!==null&&x!==void 0&&x.length||(V=E.style)!==null&&V!==void 0&&V.zIndex)&&(ke.dirtyChildren.indexOf(E)===-1&&ke.dirtyChildren.push(E),ke.dirty=!0,ke.dirtyReason=Po.REMOVED);var bt=E.parentNode.childNodes.indexOf(E);bt>-1&&E.parentNode.childNodes.splice(bt,1),pe&&this.dirtifyWorld(E,pe),E.parentNode=null}}},{key:"getOrigin",value:function(E){return E.getGeometryBounds(),E.transformable.origin}},{key:"setOrigin",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof x=="number"&&(x=[x,V,pe]);var he=E.transformable;if(!(x[0]===he.origin[0]&&x[1]===he.origin[1]&&x[2]===he.origin[2])){var ke=he.origin;ke[0]=x[0],ke[1]=x[1],ke[2]=x[2]||0,this.dirtifyLocal(E,he)}}},{key:"rotate",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof x=="number"&&(x=H.al(x,V,pe));var he=E.transformable;if(E.parentNode===null||!E.parentNode.transformable)this.rotateLocal(E,x);else{var ke=Sl;se.Su(ke,x[0],x[1],x[2]);var bt=this.getRotation(E),qt=this.getRotation(E.parentNode);se.JG(sh,qt),se.U_(sh,sh),se.Jp(ke,sh,ke),se.Jp(he.localRotation,ke,bt),se.Fv(he.localRotation,he.localRotation),this.dirtifyLocal(E,he)}}},{key:"rotateLocal",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof x=="number"&&(x=H.al(x,V,pe));var he=E.transformable;se.Su(i0,x[0],x[1],x[2]),se.dC(he.localRotation,he.localRotation,i0),this.dirtifyLocal(E,he)}},{key:"setEulerAngles",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof x=="number"&&(x=H.al(x,V,pe));var he=E.transformable;if(E.parentNode===null||!E.parentNode.transformable)this.setLocalEulerAngles(E,x);else{se.Su(he.localRotation,x[0],x[1],x[2]);var ke=this.getRotation(E.parentNode);se.JG(Sp,se.U_(Sl,ke)),se.dC(he.localRotation,he.localRotation,Sp),this.dirtifyLocal(E,he)}}},{key:"setLocalEulerAngles",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,he=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof x=="number"&&(x=H.al(x,V,pe));var ke=E.transformable;se.Su(ke.localRotation,x[0],x[1],x[2]),he&&this.dirtifyLocal(E,ke)}},{key:"translateLocal",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof x=="number"&&(x=H.al(x,V,pe));var he=E.transformable;H.fS(x,Xc)||(H.VC(x,x,he.localRotation),H.IH(he.localPosition,he.localPosition,x),this.dirtifyLocal(E,he))}},{key:"setPosition",value:function(E,x){var V,pe=E.transformable;if(bd[0]=x[0],bd[1]=x[1],bd[2]=(V=x[2])!==null&&V!==void 0?V:0,!H.fS(this.getPosition(E),bd)){if(H.JG(pe.position,bd),E.parentNode===null||!E.parentNode.transformable)H.JG(pe.localPosition,bd);else{var he=E.parentNode.transformable;ie.copy(Kc,he.worldTransform),ie.invert(Kc,Kc),H.fF(pe.localPosition,bd,Kc)}this.dirtifyLocal(E,pe)}}},{key:"setLocalPosition",value:function(E,x){var V,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,he=E.transformable;Pd[0]=x[0],Pd[1]=x[1],Pd[2]=(V=x[2])!==null&&V!==void 0?V:0,!H.fS(he.localPosition,Pd)&&(H.JG(he.localPosition,Pd),pe&&this.dirtifyLocal(E,he))}},{key:"scaleLocal",value:function(E,x){var V,pe=E.transformable;H.Jp(pe.localScale,pe.localScale,H.t8(nf,x[0],x[1],(V=x[2])!==null&&V!==void 0?V:1)),this.dirtifyLocal(E,pe)}},{key:"setLocalScale",value:function(E,x){var V,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,he=E.transformable;H.t8(nf,x[0],x[1],(V=x[2])!==null&&V!==void 0?V:he.localScale[2]),!H.fS(nf,he.localScale)&&(H.JG(he.localScale,nf),pe&&this.dirtifyLocal(E,he))}},{key:"translate",value:function(E,x){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof x=="number"&&(x=H.t8(nf,x,V,pe)),!H.fS(x,Xc)&&(H.IH(nf,this.getPosition(E),x),this.setPosition(E,nf))}},{key:"setRotation",value:function(E,x,V,pe,he){var ke=E.transformable;if(typeof x=="number"&&(x=se.al(x,V,pe,he)),E.parentNode===null||!E.parentNode.transformable)this.setLocalRotation(E,x);else{var bt=this.getRotation(E.parentNode);se.JG(Sl,bt),se.U_(Sl,Sl),se.Jp(ke.localRotation,Sl,x),se.Fv(ke.localRotation,ke.localRotation),this.dirtifyLocal(E,ke)}}},{key:"setLocalRotation",value:function(E,x,V,pe,he){var ke=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof x=="number"&&(x=se.t8(Sl,x,V,pe,he));var bt=E.transformable;se.JG(bt.localRotation,x),ke&&this.dirtifyLocal(E,bt)}},{key:"setLocalSkew",value:function(E,x,V){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof x=="number"&&(x=ge.t8(oh,x,V));var he=E.transformable;ge.JG(he.localSkew,x),pe&&this.dirtifyLocal(E,he)}},{key:"dirtifyLocal",value:function(E,x){Lo(E)||x.localDirtyFlag||(x.localDirtyFlag=!0,x.dirtyFlag||this.dirtifyWorld(E,x))}},{key:"dirtifyWorld",value:function(E,x){x.dirtyFlag||this.unfreezeParentToRoot(E),this.dirtifyWorldInternal(E,x),this.dirtifyToRoot(E,!0)}},{key:"dirtifyFragment",value:function(E){var x=E.transformable;x&&(x.frozen=!1,x.dirtyFlag=!0,x.localDirtyFlag=!0);var V=E.renderable;V&&(V.renderBoundsDirty=!0,V.boundsDirty=!0,V.dirty=!0);for(var pe=E.childNodes.length,he=0;he<pe;he++)this.dirtifyFragment(E.childNodes[he]);E.nodeName===oi.FRAGMENT&&this.pendingEvents.set(E,!1)}},{key:"triggerPendingEvents",value:function(){var E=this,x=new Set,V=function(he,ke){!he.isConnected||x.has(he)||he.nodeName===oi.FRAGMENT||(E.boundsChangedEvent.detail=ke,E.boundsChangedEvent.target=he,he.isMutationObserved?he.dispatchEvent(E.boundsChangedEvent):he.ownerDocument.defaultView.dispatchEvent(E.boundsChangedEvent,!0),x.add(he))};this.pendingEvents.forEach(function(pe,he){he.nodeName!==oi.FRAGMENT&&(Rh.affectChildren=pe,pe?he.forEach(function(ke){V(ke,Rh)}):V(he,Rh))}),x.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=E;for(V.renderable&&(V.renderable.dirty=!0);V;)m0(V),V=V.parentNode;x&&E.forEach(function(pe){m0(pe)}),this.informDependentDisplayObjects(E),this.pendingEvents.set(E,x)}},{key:"updateDisplayObjectDependency",value:function(E,x,V,pe){if(x&&x!==V){var he=this.displayObjectDependencyMap.get(x);if(he&&he[E]){var ke=he[E].indexOf(pe);he[E].splice(ke,1)}}if(V){var bt=this.displayObjectDependencyMap.get(V);bt||(this.displayObjectDependencyMap.set(V,{}),bt=this.displayObjectDependencyMap.get(V)),bt[E]||(bt[E]=[]),bt[E].push(pe)}}},{key:"informDependentDisplayObjects",value:function(E){var x=this,V=this.displayObjectDependencyMap.get(E);V&&Object.keys(V).forEach(function(pe){V[pe].forEach(function(he){x.dirtifyToRoot(he,!0),he.dispatchEvent(new xf(Sc.ATTR_MODIFIED,he,x,x,pe,xf.MODIFICATION,x,x)),he.isCustomElement&&he.isConnected&&he.attributeChangedCallback&&he.attributeChangedCallback(pe,x,x)})})}},{key:"getPosition",value:function(E){var x=E.transformable;return ie.getTranslation(x.position,this.getWorldTransform(E,x))}},{key:"getRotation",value:function(E){var x=E.transformable;return ie.getRotation(x.rotation,this.getWorldTransform(E,x))}},{key:"getScale",value:function(E){var x=E.transformable;return ie.getScaling(x.scaling,this.getWorldTransform(E,x))}},{key:"getWorldTransform",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E.transformable;return!x.localDirtyFlag&&!x.dirtyFlag||(E.parentNode&&E.parentNode.transformable&&this.getWorldTransform(E.parentNode),this.sync(E,x)),x.worldTransform}},{key:"getLocalPosition",value:function(E){return E.transformable.localPosition}},{key:"getLocalRotation",value:function(E){return E.transformable.localRotation}},{key:"getLocalScale",value:function(E){return E.transformable.localScale}},{key:"getLocalSkew",value:function(E){return E.transformable.localSkew}},{key:"calcLocalTransform",value:function(E){var x=E.localSkew[0]!==0||E.localSkew[1]!==0;if(x){ie.fromRotationTranslationScaleOrigin(E.localTransform,E.localRotation,E.localPosition,H.al(1,1,1),E.origin),(E.localSkew[0]!==0||E.localSkew[1]!==0)&&(ie.identity(zd),zd[4]=Math.tan(E.localSkew[0]),zd[1]=Math.tan(E.localSkew[1]),ie.multiply(E.localTransform,E.localTransform,zd));var V=ie.fromRotationTranslationScaleOrigin(zd,se.t8(Sl,0,0,0,1),H.t8(nf,1,1,1),E.localScale,E.origin);ie.multiply(E.localTransform,E.localTransform,V)}else{var pe=E.localTransform,he=E.localPosition,ke=E.localRotation,bt=E.localScale,qt=E.origin,Te=he[0]!==0||he[1]!==0||he[2]!==0,ot=ke[3]!==1||ke[0]!==0||ke[1]!==0||ke[2]!==0,Wt=bt[0]!==1||bt[1]!==1||bt[2]!==1,zn=qt[0]!==0||qt[1]!==0||qt[2]!==0;!ot&&!Wt&&!zn?Te?ie.fromTranslation(pe,he):ie.identity(pe):ie.fromRotationTranslationScaleOrigin(pe,ke,he,bt,qt)}}},{key:"getLocalTransform",value:function(E){var x=E.transformable;return x.localDirtyFlag&&(this.calcLocalTransform(x),x.localDirtyFlag=!1),x.localTransform}},{key:"setLocalTransform",value:function(E,x){var V=ie.getTranslation(Zd,x),pe=ie.getRotation(hd,x),he=ie.getScaling(Mh,x);this.setLocalScale(E,he,!1),this.setLocalPosition(E,V,!1),this.setLocalRotation(E,pe,void 0,void 0,void 0,!1),this.dirtifyLocal(E,E.transformable)}},{key:"resetLocalTransform",value:function(E){this.setLocalScale(E,P0,!1),this.setLocalPosition(E,Xc,!1),this.setLocalEulerAngles(E,Xc,void 0,void 0,!1),this.setLocalSkew(E,gf,void 0,!1),this.dirtifyLocal(E,E.transformable)}},{key:"getTransformedGeometryBounds",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=arguments.length>2?arguments[2]:void 0,pe=this.getGeometryBounds(E,x);if(!or.isEmpty(pe)){var he=V||new or;return he.setFromTransformedAABB(pe,this.getWorldTransform(E)),he}return null}},{key:"getGeometryBounds",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=E,pe=V.geometry;pe.dirty&&Ho.styleValueRegistry.updateGeometry(E);var he=x?pe.renderBounds:pe.contentBounds||null;return he||new or}},{key:"getBounds",value:function(E){var x=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,pe=E,he=pe.renderable;if(!he.boundsDirty&&!V&&he.bounds)return he.bounds;if(!he.renderBoundsDirty&&V&&he.renderBounds)return he.renderBounds;var ke=V?he.renderBounds:he.bounds,bt=this.getTransformedGeometryBounds(E,V,ke),qt=E.childNodes;if(qt.forEach(function(Wt){var zn=x.getBounds(Wt,V);zn&&(bt?bt.add(zn):(bt=ke||new or,bt.update(zn.center,zn.halfExtents)))}),bt||(bt=new or),V){var Te=yi(E);if(Te){var ot=Te.parsedStyle.clipPath.getBounds(V);bt?ot&&(bt=ot.intersection(bt)):bt.update(ot.center,ot.halfExtents)}}return V?(he.renderBounds=bt,he.renderBoundsDirty=!1):(he.bounds=bt,he.boundsDirty=!1),bt}},{key:"getLocalBounds",value:function(E){if(E.parentNode){var x=Rd;E.parentNode.transformable&&(x=ie.invert(zd,this.getWorldTransform(E.parentNode)));var V=this.getBounds(E);if(!or.isEmpty(V)){var pe=new or;return pe.setFromTransformedAABB(V,x),pe}}return this.getBounds(E)}},{key:"getBoundingClientRect",value:function(E){var x,V,pe=this.getGeometryBounds(E);or.isEmpty(pe)||(V=new or,V.setFromTransformedAABB(pe,this.getWorldTransform(E)));var he=(x=E.ownerDocument)===null||x===void 0||(x=x.defaultView)===null||x===void 0?void 0:x.getContextService().getBoundingClientRect();if(V){var ke=V.getMin(),bt=(0,Y.Z)(ke,2),qt=bt[0],Te=bt[1],ot=V.getMax(),Wt=(0,Y.Z)(ot,2),zn=Wt[0],qn=Wt[1];return new En(qt+((he==null?void 0:he.left)||0),Te+((he==null?void 0:he.top)||0),zn-qt,qn-Te)}return new En((he==null?void 0:he.left)||0,(he==null?void 0:he.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(E,x){var V=this;if(!x.dirtyFlag){x.dirtyFlag=!0,x.frozen=!1,E.childNodes.forEach(function(ke){var bt=ke.transformable;bt.dirtyFlag||V.dirtifyWorldInternal(ke,bt)});var pe=E,he=pe.renderable;he&&(he.renderBoundsDirty=!0,he.boundsDirty=!0,he.dirty=!0)}}},{key:"syncHierarchy",value:function(E){var x=E.transformable;if(!x.frozen){x.frozen=!0,(x.localDirtyFlag||x.dirtyFlag)&&this.sync(E,x);for(var V=E.childNodes,pe=0;pe<V.length;pe++)this.syncHierarchy(V[pe])}}},{key:"sync",value:function(E,x){if(x.localDirtyFlag&&(this.calcLocalTransform(x),x.localDirtyFlag=!1),x.dirtyFlag){var V=E.parentNode,pe=V&&V.transformable;V===null||!pe?ie.copy(x.worldTransform,x.localTransform):ie.multiply(x.worldTransform,pe.worldTransform,x.localTransform),x.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(E){for(var x=E.parentNode;x;){var V=x.transformable;V&&(V.frozen=!1),x=x.parentNode}}}])}(),Ph={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Ih=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Ap=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,j0=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,a0=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,y0=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,Cd=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,Lh=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Cp=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,Zu=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,ep=new RegExp("".concat(Ap.source,"|").concat(a0.source,"|").concat(Cd.source,"|").concat(Cp.source)),_0=new RegExp("".concat(j0.source,"|").concat(y0.source,"|").concat(Lh.source,"|").concat(Zu.source)),Nh=function(){function W(X){var E=this;(0,B.Z)(this,W),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(x,V){return E.isBreakingSpace(V)?!1:!!(x&&(_0.exec(V)||ep.exec(x)))},this.trimByKinsokuShorui=function(x){var V=(0,ue.Z)(x),pe=V[V.length-2];if(!pe)return x;var he=pe[pe.length-1];return V[V.length-2]=pe.slice(0,-1),V[V.length-1]=he+V[V.length-1],V},this.runtime=X}return(0,ne.Z)(W,[{key:"measureFont",value:function(E,x){if(this.fontMetricsCache[E])return this.fontMetricsCache[E];var V={ascent:0,descent:0,fontSize:0},pe=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(x),he=this.runtime.offscreenCanvasCreator.getOrCreateContext(x,{willReadFrequently:!0});he.font=E;var ke=Ph.MetricsString+Ph.BaselineSymbol,bt=Math.ceil(he.measureText(ke).width),qt=Math.ceil(he.measureText(Ph.BaselineSymbol).width),Te=Ph.HeightMultiplier*qt;qt=qt*Ph.BaselineMultiplier|0,pe.width=bt,pe.height=Te,he.fillStyle="#f00",he.fillRect(0,0,bt,Te),he.font=E,he.textBaseline="alphabetic",he.fillStyle="#000",he.fillText(ke,0,qt);var ot=he.getImageData(0,0,bt||1,Te||1).data,Wt=ot.length,zn=bt*4,qn=0,sr=0,Qn=!1;for(qn=0;qn<qt;++qn){for(var Qr=0;Qr<zn;Qr+=4)if(ot[sr+Qr]!==255){Qn=!0;break}if(!Qn)sr+=zn;else break}for(V.ascent=qt-qn,sr=Wt-zn,Qn=!1,qn=Te;qn>qt;--qn){for(var Or=0;Or<zn;Or+=4)if(ot[sr+Or]!==255){Qn=!0;break}if(!Qn)sr-=zn;else break}return V.descent=qn-qt,V.fontSize=V.ascent+V.descent,this.fontMetricsCache[E]=V,V}},{key:"measureText",value:function(E,x,V){var pe=x.fontSize,he=pe===void 0?16:pe,ke=x.wordWrap,bt=ke===void 0?!1:ke,qt=x.lineHeight,Te=x.lineWidth,ot=Te===void 0?1:Te,Wt=x.textBaseline,zn=Wt===void 0?"alphabetic":Wt,qn=x.textAlign,sr=qn===void 0?"start":qn,Qn=x.letterSpacing,Qr=Qn===void 0?0:Qn,Or=x.textPath;x.textPathSide,x.textPathStartOffset;var bi=x.leading,Pi=bi===void 0?0:bi,zr=L(x),Tr=this.measureFont(zr,V);Tr.fontSize===0&&(Tr.fontSize=he,Tr.ascent=he);var Fr=this.runtime.offscreenCanvasCreator.getOrCreateContext(V);Fr.font=zr,x.isOverflowing=!1;var ri=bt?this.wordWrap(E,x,V):E,gr=ri.split(/(?:\r\n|\r|\n)/),jr=new Array(gr.length),Vi=0;if(Or){Or.getTotalLength();for(var da=0;da<gr.length;da++)Fr.measureText(gr[da]).width+(gr[da].length-1)*Qr}else{for(var na=0;na<gr.length;na++){var Ja=Fr.measureText(gr[na]).width+(gr[na].length-1)*Qr;jr[na]=Ja,Vi=Math.max(Vi,Ja)}var ka=Vi+ot,no=qt||Tr.fontSize+ot,aa=Math.max(no,Tr.fontSize+ot)+(gr.length-1)*(no+Pi);no+=Pi;var qa=0;return zn==="middle"?qa=-aa/2:zn==="bottom"||zn==="alphabetic"||zn==="ideographic"?qa=-aa:(zn==="top"||zn==="hanging")&&(qa=0),{font:zr,width:ka,height:aa,lines:gr,lineWidths:jr,lineHeight:no,maxLineWidth:Vi,fontProperties:Tr,lineMetrics:jr.map(function(_o,Ts){var to=0;return sr==="center"||sr==="middle"?to-=_o/2:(sr==="right"||sr==="end")&&(to-=_o),new En(to-ot/2,qa+Ts*no,_o+ot,no)})}}}},{key:"wordWrap",value:function(E,x,V){var pe=this,he=x.wordWrapWidth,ke=he===void 0?0:he,bt=x.letterSpacing,qt=bt===void 0?0:bt,Te=x.maxLines,ot=Te===void 0?1/0:Te,Wt=x.textOverflow,zn=this.runtime.offscreenCanvasCreator.getOrCreateContext(V),qn=ke+qt,sr="";Wt==="ellipsis"?sr="...":Wt&&Wt!=="clip"&&(sr=Wt);var Qn=[],Qr=0,Or=0,bi={},Pi=function(Ja){return pe.getFromCache(Ja,qt,bi,zn)},zr=Array.from(sr).reduce(function(na,Ja){return na+Pi(Ja)},0);function Tr(na){if(!(zr<=0||zr>qn)){for(var Ja=Qn[na].length,ka=0,no=Ja,aa=0;aa<Ja;aa++){var qa=Pi(Qn[na][aa]);if(ka+qa+zr>qn){no=aa;break}ka+=qa}Qn[na]=(Qn[na]||"").slice(0,no)+sr}}for(var Fr=Array.from(E),ri=0;ri<Fr.length;ri++){var gr=Fr[ri],jr=E[ri-1],Vi=E[ri+1],da=Pi(gr);if(this.isNewline(gr)){if(Qr++,Qr>=ot){x.isOverflowing=!0,ri<Fr.length-1&&Tr(Qr-1);break}Or=0,Qn[Qr]="";continue}if(Or>0&&Or+da>qn){if(Qr+1>=ot){x.isOverflowing=!0,Tr(Qr);break}if(Qr++,Or=0,Qn[Qr]="",this.isBreakingSpace(gr))continue;this.canBreakInLastChar(gr)||(Qn=this.trimToBreakable(Qn),Or=this.sumTextWidthByCache(Qn[Qr]||"",bi)),this.shouldBreakByKinsokuShorui(gr,Vi)&&(Qn=this.trimByKinsokuShorui(Qn),Or+=Pi(jr||""))}Or+=da,Qn[Qr]=(Qn[Qr]||"")+gr}return Qn.join(`
`)}},{key:"isBreakingSpace",value:function(E){return typeof E!="string"?!1:Ph.BreakingSpaces.indexOf(E.charCodeAt(0))>=0}},{key:"isNewline",value:function(E){return typeof E!="string"?!1:Ph.Newlines.indexOf(E.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(E){var x=(0,ue.Z)(E),V=x[x.length-2],pe=this.findBreakableIndex(V);if(pe===-1||!V)return x;var he=V.slice(pe,pe+1),ke=this.isBreakingSpace(he),bt=pe+1,qt=pe+(ke?0:1);return x[x.length-1]+=V.slice(bt,V.length),x[x.length-2]=V.slice(0,qt),x}},{key:"canBreakInLastChar",value:function(E){return!(E&&Ih.test(E))}},{key:"sumTextWidthByCache",value:function(E,x){return E.split("").reduce(function(V,pe){if(!x[pe])throw Error("cannot count the word without cache");return V+x[pe]},0)}},{key:"findBreakableIndex",value:function(E){for(var x=E.length-1;x>=0;x--)if(!Ih.test(E[x]))return x;return-1}},{key:"getFromCache",value:function(E,x,V,pe){var he=V[E];if(typeof he!="number"){var ke=E.length*x;he=pe.measureText(E).width+ke,V[E]=he}return he}}])}(),Ho={},Op=function(W){var X=new Yo,E=new ho;return W={},(0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)(W,oi.FRAGMENT,null),oi.CIRCLE,new Tc),oi.ELLIPSE,new _h),oi.RECT,X),oi.IMAGE,X),oi.GROUP,new el),oi.LINE,new bh),oi.TEXT,new cu(Ho)),oi.POLYLINE,E),oi.POLYGON,E),(0,ar.Z)((0,ar.Z)((0,ar.Z)(W,oi.PATH,new rh),oi.HTML,new Hs),oi.MESH,null)}(),o0=function(W){var X=new Of,E=new dd;return W={},(0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)(W,Za.PERCENTAGE,null),Za.NUMBER,new sc),Za.ANGLE,new Bl),Za.DEFINED_PATH,new _d),Za.PAINT,X),Za.COLOR,X),Za.FILTER,new hf),Za.LENGTH,E),Za.LENGTH_PERCENTAGE,E),Za.LENGTH_PERCENTAGE_12,new pf),(0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)((0,ar.Z)(W,Za.LENGTH_PERCENTAGE_14,new nd),Za.COORDINATE,new dd),Za.OFFSET_DISTANCE,new Gc),Za.OPACITY_VALUE,new ee),Za.PATH,new Me),Za.LIST_OF_POINTS,new Ve),Za.SHADOW_BLUR,new Tt),Za.TEXT,new pn),Za.TEXT_TRANSFORM,new yn),Za.TRANSFORM,new Vu),(0,ar.Z)((0,ar.Z)((0,ar.Z)(W,Za.TRANSFORM_ORIGIN,new ul),Za.Z_INDEX,new ef),Za.MARKER,new Kd)}(),wf=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof A.g!="undefined"?A.g:{}};Ho.CameraContribution=vo,Ho.AnimationTimeline=null,Ho.EasingFunction=null,Ho.offscreenCanvasCreator=new Gh,Ho.sceneGraphSelector=new wh,Ho.sceneGraphService=new v0(Ho),Ho.textService=new Nh(Ho),Ho.geometryUpdaterFactory=Op,Ho.CSSPropertySyntaxFactory=o0,Ho.styleValueRegistry=new td(Ho),Ho.layoutRegistry=null,Ho.globalThis=wf(),Ho.enableStyleSyntax=!0,Ho.enableSizeAttenuation=!1;var Od=0;function Ed(){Od=0}var id=new xf(Sc.INSERTED,null,"","","",0,"",""),uh=new xf(Sc.REMOVED,null,"","","",0,"",""),N=new Du(Sc.DESTROY),F=function(W){function X(){var E;(0,B.Z)(this,X);for(var x=arguments.length,V=new Array(x),pe=0;pe<x;pe++)V[pe]=arguments[pe];return E=(0,j.Z)(this,X,[].concat(V)),E.entity=Od++,E.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},E.cullable={strategy:To.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},E.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},E.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},E.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},E.rBushNode={aabb:void 0},E.namespaceURI="g",E.scrollLeft=0,E.scrollTop=0,E.clientTop=0,E.clientLeft=0,E.destroyed=!1,E.style={},E.computedStyle={},E.parsedStyle={},E.attributes={},E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(x){this.setAttribute("class",x)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(x){return x!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var x=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[x+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var x=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[x-1]||null}return null}},{key:"cloneNode",value:function(x){throw new Error(fn)}},{key:"appendChild",value:function(x,V){var pe;if(x.destroyed)throw new Error(Pn);return Ho.sceneGraphService.attach(x,this,V),(pe=this.ownerDocument)!==null&&pe!==void 0&&pe.defaultView&&(!Lo(this)&&x.nodeName===oi.FRAGMENT?this.ownerDocument.defaultView.mountFragment(x):this.ownerDocument.defaultView.mountChildren(x)),this.isMutationObserved&&(id.relatedNode=this,x.dispatchEvent(id)),x}},{key:"insertBefore",value:function(x,V){if(!V)this.appendChild(x);else{x.parentElement&&x.parentElement.removeChild(x);var pe=this.childNodes.indexOf(V);pe===-1?this.appendChild(x):this.appendChild(x,pe)}return x}},{key:"replaceChild",value:function(x,V){var pe=this.childNodes.indexOf(V);return this.removeChild(V),this.appendChild(x,pe),V}},{key:"removeChild",value:function(x){var V;return uh.relatedNode=this,x.dispatchEvent(uh),(V=x.ownerDocument)!==null&&V!==void 0&&V.defaultView&&x.ownerDocument.defaultView.unmountChildren(x),Ho.sceneGraphService.detach(x),x}},{key:"removeChildren",value:function(){for(var x=this.childNodes.length-1;x>=0;x--){var V=this.childNodes[x];this.removeChild(V)}}},{key:"destroyChildren",value:function(){for(var x=this.childNodes.length-1;x>=0;x--){var V=this.childNodes[x];V.childNodes.length>0&&V.destroyChildren(),V.destroy()}}},{key:"matches",value:function(x){return Ho.sceneGraphService.matches(x,this)}},{key:"getElementById",value:function(x){return Ho.sceneGraphService.querySelector("#".concat(x),this)}},{key:"getElementsByName",value:function(x){return Ho.sceneGraphService.querySelectorAll('[name="'.concat(x,'"]'),this)}},{key:"getElementsByClassName",value:function(x){return Ho.sceneGraphService.querySelectorAll(".".concat(x),this)}},{key:"getElementsByTagName",value:function(x){return Ho.sceneGraphService.querySelectorAll(x,this)}},{key:"querySelector",value:function(x){return Ho.sceneGraphService.querySelector(x,this)}},{key:"querySelectorAll",value:function(x){return Ho.sceneGraphService.querySelectorAll(x,this)}},{key:"closest",value:function(x){var V=this;do{if(Ho.sceneGraphService.matches(x,V))return V;V=V.parentElement}while(V!==null);return null}},{key:"find",value:function(x){var V=this,pe=null;return this.forEach(function(he){return he!==V&&x(he)?(pe=he,!1):!0}),pe}},{key:"findAll",value:function(x){var V=this,pe=[];return this.forEach(function(he){he!==V&&x(he)&&pe.push(he)}),pe}},{key:"after",value:function(){var x=this;if(this.parentNode){for(var V=this.parentNode.childNodes.indexOf(this),pe=arguments.length,he=new Array(pe),ke=0;ke<pe;ke++)he[ke]=arguments[ke];he.forEach(function(bt,qt){var Te;return(Te=x.parentNode)===null||Te===void 0?void 0:Te.appendChild(bt,V+qt+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var x,V=this.parentNode.childNodes.indexOf(this),pe=arguments.length,he=new Array(pe),ke=0;ke<pe;ke++)he[ke]=arguments[ke];var bt=he[0],qt=he.slice(1);this.parentNode.appendChild(bt,V),(x=bt).after.apply(x,(0,ue.Z)(qt))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var x=this,V=arguments.length,pe=new Array(V),he=0;he<V;he++)pe[he]=arguments[he];pe.forEach(function(ke){return x.appendChild(ke)})}},{key:"prepend",value:function(){for(var x=this,V=arguments.length,pe=new Array(V),he=0;he<V;he++)pe[he]=arguments[he];pe.forEach(function(ke,bt){return x.appendChild(ke,bt)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(N),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Ho.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Ho.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Ho.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Ho.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Ho.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(x){if(typeof x!="symbol"){var V=this.attributes[x];return V}}},{key:"hasAttribute",value:function(x){return this.getAttributeNames().includes(x)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(x){this.setAttribute(x,null),delete this.attributes[x]}},{key:"setAttribute",value:function(x,V,pe,he){this.attributes[x]=V}},{key:"getAttributeNS",value:function(x,V){throw new Error(fn)}},{key:"getAttributeNode",value:function(x){throw new Error(fn)}},{key:"getAttributeNodeNS",value:function(x,V){throw new Error(fn)}},{key:"hasAttributeNS",value:function(x,V){throw new Error(fn)}},{key:"removeAttributeNS",value:function(x,V){throw new Error(fn)}},{key:"removeAttributeNode",value:function(x){throw new Error(fn)}},{key:"setAttributeNS",value:function(x,V,pe){throw new Error(fn)}},{key:"setAttributeNode",value:function(x){throw new Error(fn)}},{key:"setAttributeNodeNS",value:function(x){throw new Error(fn)}},{key:"toggleAttribute",value:function(x,V){throw new Error(fn)}}])}(Qu);function ce(W){return!!(W!=null&&W.nodeName)}var ht=Ho.globalThis.Proxy?Ho.globalThis.Proxy:function(){},Ft=new xf(Sc.ATTR_MODIFIED,null,null,null,null,xf.MODIFICATION,null,null),kn=H.Ue(),si=se.Ue(),ki=function(W){function X(E){var x;return(0,B.Z)(this,X),x=(0,j.Z)(this,X),x.isCustomElement=!1,x.isMutationObserved=!1,x.activeAnimations=[],x.config=E,x.id=E.id||"",x.name=E.name||"",(E.className||E.class)&&(x.className=E.className||E.class),x.nodeName=E.type||oi.GROUP,E.initialParsedStyle&&Object.assign(x.parsedStyle,E.initialParsedStyle),x.initAttributes(E.style),Ho.enableStyleSyntax&&(x.style=new ht({setProperty:function(pe,he){x.setAttribute(pe,he)},getPropertyValue:function(pe){return x.getAttribute(pe)},removeProperty:function(pe){x.removeAttribute(pe)},item:function(){return""}},{get:function(pe,he){return pe[he]!==void 0?pe[he]:x.getAttribute(he)},set:function(pe,he,ke){return x.setAttribute(he,ke),!0}})),x}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"destroy",value:function(){za(X,"destroy",this,3)([]),this.getAnimations().forEach(function(x){x.cancel()})}},{key:"cloneNode",value:function(x,V){var pe=(0,w.Z)({},this.attributes);for(var he in pe){var ke=pe[he];ce(ke)&&he!=="clipPath"&&he!=="offsetPath"&&he!=="textPath"&&(pe[he]=ke.cloneNode(x)),V&&(pe[he]=V(he,ke))}var bt=new this.constructor((0,w.Z)((0,w.Z)({},this.config),{},{style:pe}));return bt.setLocalTransform(this.getLocalTransform()),x&&this.children.forEach(function(qt){if(!qt.style.isMarker){var Te=qt.cloneNode(x);bt.appendChild(Te)}}),bt}},{key:"initAttributes",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V={forceUpdateGeometry:!0};Ho.styleValueRegistry.processProperties(this,x,V),this.renderable.dirty=!0}},{key:"setAttribute",value:function(x,V){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;(0,at.Z)(V)||(pe||V!==this.attributes[x])&&(this.internalSetAttribute(x,V,{memoize:he}),za(X,"setAttribute",this,3)([x,V]))}},{key:"internalSetAttribute",value:function(x,V){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=this.renderable,ke=this.attributes[x],bt=this.parsedStyle[x];Ho.styleValueRegistry.processProperties(this,(0,ar.Z)({},x,V),pe),he.dirty=!0;var qt=this.parsedStyle[x];if(this.isConnected&&(Ft.relatedNode=this,Ft.prevValue=ke,Ft.newValue=V,Ft.attrName=x,Ft.prevParsedValue=bt,Ft.newParsedValue=qt,this.isMutationObserved?this.dispatchEvent(Ft):(Ft.target=this,this.ownerDocument.defaultView.dispatchEvent(Ft,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var Te,ot;(Te=(ot=this).attributeChangedCallback)===null||Te===void 0||Te.call(ot,x,ke,V,bt,qt)}}},{key:"getBBox",value:function(){var x=this.getBounds(),V=x.getMin(),pe=(0,Y.Z)(V,2),he=pe[0],ke=pe[1],bt=x.getMax(),qt=(0,Y.Z)(bt,2),Te=qt[0],ot=qt[1];return new En(he,ke,Te-he,ot-ke)}},{key:"setOrigin",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ho.sceneGraphService.setOrigin(this,Yt(x,V,pe,!1)),this}},{key:"getOrigin",value:function(){return Ho.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ho.sceneGraphService.setPosition(this,Yt(x,V,pe,!1)),this}},{key:"setLocalPosition",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ho.sceneGraphService.setLocalPosition(this,Yt(x,V,pe,!1)),this}},{key:"translate",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ho.sceneGraphService.translate(this,Yt(x,V,pe,!1)),this}},{key:"translateLocal",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ho.sceneGraphService.translateLocal(this,Yt(x,V,pe,!1)),this}},{key:"getPosition",value:function(){return Ho.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Ho.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(x,V,pe){return this.scaleLocal(x,V,pe)}},{key:"scaleLocal",value:function(x,V,pe){return typeof x=="number"&&(V=V||x,pe=pe||x,x=Yt(x,V,pe,!1)),Ho.sceneGraphService.scaleLocal(this,x),this}},{key:"setLocalScale",value:function(x,V,pe){return typeof x=="number"&&(V=V||x,pe=pe||x,x=Yt(x,V,pe,!1)),Ho.sceneGraphService.setLocalScale(this,x),this}},{key:"getLocalScale",value:function(){return Ho.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Ho.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var x=Qa(kn,Ho.sceneGraphService.getWorldTransform(this)),V=(0,Y.Z)(x,3),pe=V[2];return vr(pe)}},{key:"getLocalEulerAngles",value:function(){var x=Qa(kn,Ho.sceneGraphService.getLocalRotation(this)),V=(0,Y.Z)(x,3),pe=V[2];return vr(pe)}},{key:"setEulerAngles",value:function(x){return Ho.sceneGraphService.setEulerAngles(this,0,0,x),this}},{key:"setLocalEulerAngles",value:function(x){return Ho.sceneGraphService.setLocalEulerAngles(this,0,0,x),this}},{key:"rotateLocal",value:function(x,V,pe){return(0,fe.Z)(V)&&(0,fe.Z)(pe)?Ho.sceneGraphService.rotateLocal(this,0,0,x):Ho.sceneGraphService.rotateLocal(this,x,V,pe),this}},{key:"rotate",value:function(x,V,pe){return(0,fe.Z)(V)&&(0,fe.Z)(pe)?Ho.sceneGraphService.rotate(this,0,0,x):Ho.sceneGraphService.rotate(this,x,V,pe),this}},{key:"setRotation",value:function(x,V,pe,he){return Ho.sceneGraphService.setRotation(this,x,V,pe,he),this}},{key:"setLocalRotation",value:function(x,V,pe,he){return Ho.sceneGraphService.setLocalRotation(this,x,V,pe,he),this}},{key:"setLocalSkew",value:function(x,V){return Ho.sceneGraphService.setLocalSkew(this,x,V),this}},{key:"getRotation",value:function(){return Ho.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Ho.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Ho.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Ho.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Ho.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(x){return Ho.sceneGraphService.setLocalTransform(this,x),this}},{key:"resetLocalTransform",value:function(){Ho.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(x,V){var pe,he=(pe=this.ownerDocument)===null||pe===void 0?void 0:pe.timeline;return he?he.play(this,x,V):null}},{key:"isVisible",value:function(){var x;return((x=this.parsedStyle)===null||x===void 0?void 0:x.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(x){this.style.pointerEvents=x?"auto":"none"}},{key:"isInteractive",value:function(){var x;return((x=this.parsedStyle)===null||x===void 0?void 0:x.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,(0,ue.Z)(this.parentNode.children.map(function(x){return Number(x.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,(0,ue.Z)(this.parentNode.children.map(function(x){return Number(x.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var x=this,V=arguments.length,pe=new Array(V),he=0;he<V;he++)pe[he]=arguments[he];var ke=pe[0],bt=pe[1];return ke?(0,ur.Z)(ke)?(Object.keys(ke).forEach(function(qt){x.setAttribute(qt,ke[qt])}),this):pe.length===2?(this.setAttribute(ke,bt),this):this.attributes[ke]:this.attributes}},{key:"getMatrix",value:function(x){var V=x||this.getWorldTransform(),pe=ie.getTranslation(kn,V),he=(0,Y.Z)(pe,2),ke=he[0],bt=he[1],qt=ie.getScaling(kn,V),Te=(0,Y.Z)(qt,2),ot=Te[0],Wt=Te[1],zn=ie.getRotation(si,V),qn=Qa(kn,zn),sr=(0,Y.Z)(qn,3),Qn=sr[0],Qr=sr[2];return on(Qn||Qr,ke,bt,ot,Wt)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(x){var V=jn(x),pe=(0,Y.Z)(V,5),he=pe[0],ke=pe[1],bt=pe[2],qt=pe[3],Te=pe[4];this.setEulerAngles(Te).setPosition(he,ke).setLocalScale(bt,qt)}},{key:"setLocalMatrix",value:function(x){var V=jn(x),pe=(0,Y.Z)(V,5),he=pe[0],ke=pe[1],bt=pe[2],qt=pe[3],Te=pe[4];this.setLocalEulerAngles(Te).setLocalPosition(he,ke).setLocalScale(bt,qt)}},{key:"show",value:function(){this.forEach(function(x){x.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(x){x.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(x){return this.children[x]||null}},{key:"add",value:function(x,V){return this.appendChild(x,V)}},{key:"set",value:function(x,V){this.config[x]=V}},{key:"get",value:function(x){return this.config[x]}},{key:"moveTo",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(x,V,pe),this}},{key:"move",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(x,V,pe),this}},{key:"setZIndex",value:function(x){return this.style.zIndex=x,this}}])}(F);ki.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var ro=function(W){function X(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,B.Z)(this,X),(0,j.Z)(this,X,[(0,w.Z)({type:oi.CIRCLE},E)])}return(0,q.Z)(X,W),(0,ne.Z)(X)}(ki);ro.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var bo=["style"],Gs=function(W){function X(){var E,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=x.style,pe=(0,ms.Z)(x,bo);return(0,B.Z)(this,X),E=(0,j.Z)(this,X,[(0,w.Z)({style:V},pe)]),E.isCustomElement=!0,E}return(0,q.Z)(X,W),(0,ne.Z)(X)}(ki),lu=function(W){function X(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,B.Z)(this,X),(0,j.Z)(this,X,[(0,w.Z)({type:oi.ELLIPSE},E)])}return(0,q.Z)(X,W),(0,ne.Z)(X)}(ki);lu.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var Us=null,pl=function(W){function X(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,B.Z)(this,X),(0,j.Z)(this,X,[(0,w.Z)({type:oi.GROUP},E)])}return(0,q.Z)(X,W),(0,ne.Z)(X)}(ki);pl.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Ul=["style"],ad=function(W){function X(){var E,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=x.style,pe=(0,ms.Z)(x,Ul);return(0,B.Z)(this,X),E=(0,j.Z)(this,X,[(0,w.Z)({type:oi.HTML,style:V},pe)]),E.cullable.enable=!1,E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var x=ie.invert(ie.create(),this.parentNode.getWorldTransform()),V=this.getBounds();if(!or.isEmpty(V)){var pe=new or;return pe.setFromTransformedAABB(V,x),pe}}return this.getBounds()}}])}(ki);ad.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var ja=function(W){function X(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,B.Z)(this,X),(0,j.Z)(this,X,[(0,w.Z)({type:oi.IMAGE},E)])}return(0,q.Z)(X,W),(0,ne.Z)(X)}(ki);ja.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Sa=["style"],uo=function(W){function X(){var E,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=x.style,pe=(0,ms.Z)(x,Sa);(0,B.Z)(this,X),E=(0,j.Z)(this,X,[(0,w.Z)({type:oi.LINE,style:(0,w.Z)({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},V)},pe)]),E.markerStartAngle=0,E.markerEndAngle=0;var he=E.parsedStyle,ke=he.markerStart,bt=he.markerEnd;return ke&&ce(ke)&&(E.markerStartAngle=ke.getLocalEulerAngles(),E.appendChild(ke)),bt&&ce(bt)&&(E.markerEndAngle=bt.getLocalEulerAngles(),E.appendChild(bt)),E.transformMarker(!0),E.transformMarker(!1),E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"attributeChangedCallback",value:function(x,V,pe,he,ke){x==="x1"||x==="y1"||x==="x2"||x==="y2"||x==="markerStartOffset"||x==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):x==="markerStart"?(he&&ce(he)&&(this.markerStartAngle=0,he.remove()),ke&&ce(ke)&&(this.markerStartAngle=ke.getLocalEulerAngles(),this.appendChild(ke),this.transformMarker(!0))):x==="markerEnd"&&(he&&ce(he)&&(this.markerEndAngle=0,he.remove()),ke&&ce(ke)&&(this.markerEndAngle=ke.getLocalEulerAngles(),this.appendChild(ke),this.transformMarker(!1)))}},{key:"transformMarker",value:function(x){var V=this.parsedStyle,pe=V.markerStart,he=V.markerEnd,ke=V.markerStartOffset,bt=V.markerEndOffset,qt=V.x1,Te=V.x2,ot=V.y1,Wt=V.y2,zn=x?pe:he;if(!(!zn||!ce(zn))){var qn=0,sr,Qn,Qr,Or,bi,Pi;x?(Qr=qt,Or=ot,sr=Te-qt,Qn=Wt-ot,bi=ke||0,Pi=this.markerStartAngle):(Qr=Te,Or=Wt,sr=qt-Te,Qn=ot-Wt,bi=bt||0,Pi=this.markerEndAngle),qn=Math.atan2(Qn,sr),zn.setLocalEulerAngles(qn*180/Math.PI+Pi),zn.setLocalPosition(Qr+Math.cos(qn)*bi,Or+Math.sin(qn)*bi)}}},{key:"getPoint",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,pe=this.parsedStyle,he=pe.x1,ke=pe.y1,bt=pe.x2,qt=pe.y2,Te=(0,Ao.U4)(he,ke,bt,qt,x),ot=Te.x,Wt=Te.y,zn=H.fF(H.Ue(),H.al(ot,Wt,0),V?this.getWorldTransform():this.getLocalTransform());return new St(zn[0],zn[1])}},{key:"getPointAtLength",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(x/this.getTotalLength(),V)}},{key:"getTotalLength",value:function(){var x=this.parsedStyle,V=x.x1,pe=x.y1,he=x.x2,ke=x.y2;return(0,Ao.Xk)(V,pe,he,ke)}}])}(ki);uo.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Is=["style"],tu=function(W){function X(){var E,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=x.style,pe=(0,ms.Z)(x,Is);(0,B.Z)(this,X),E=(0,j.Z)(this,X,[(0,w.Z)({type:oi.PATH,style:V,initialParsedStyle:{miterLimit:4,d:(0,w.Z)({},ds)}},pe)]),E.markerStartAngle=0,E.markerEndAngle=0,E.markerMidList=[];var he=E.parsedStyle,ke=he.markerStart,bt=he.markerEnd,qt=he.markerMid;return ke&&ce(ke)&&(E.markerStartAngle=ke.getLocalEulerAngles(),E.appendChild(ke)),qt&&ce(qt)&&E.placeMarkerMid(qt),bt&&ce(bt)&&(E.markerEndAngle=bt.getLocalEulerAngles(),E.appendChild(bt)),E.transformMarker(!0),E.transformMarker(!1),E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"attributeChangedCallback",value:function(x,V,pe,he,ke){x==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):x==="markerStartOffset"||x==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):x==="markerStart"?(he&&ce(he)&&(this.markerStartAngle=0,he.remove()),ke&&ce(ke)&&(this.markerStartAngle=ke.getLocalEulerAngles(),this.appendChild(ke),this.transformMarker(!0))):x==="markerEnd"?(he&&ce(he)&&(this.markerEndAngle=0,he.remove()),ke&&ce(ke)&&(this.markerEndAngle=ke.getLocalEulerAngles(),this.appendChild(ke),this.transformMarker(!1))):x==="markerMid"&&this.placeMarkerMid(ke)}},{key:"transformMarker",value:function(x){var V=this.parsedStyle,pe=V.markerStart,he=V.markerEnd,ke=V.markerStartOffset,bt=V.markerEndOffset,qt=x?pe:he;if(!(!qt||!ce(qt))){var Te=0,ot,Wt,zn,qn,sr,Qn;if(x){var Qr=this.getStartTangent(),Or=(0,Y.Z)(Qr,2),bi=Or[0],Pi=Or[1];zn=Pi[0],qn=Pi[1],ot=bi[0]-Pi[0],Wt=bi[1]-Pi[1],sr=ke||0,Qn=this.markerStartAngle}else{var zr=this.getEndTangent(),Tr=(0,Y.Z)(zr,2),Fr=Tr[0],ri=Tr[1];zn=ri[0],qn=ri[1],ot=Fr[0]-ri[0],Wt=Fr[1]-ri[1],sr=bt||0,Qn=this.markerEndAngle}Te=Math.atan2(Wt,ot),qt.setLocalEulerAngles(Te*180/Math.PI+Qn),qt.setLocalPosition(zn+Math.cos(Te)*sr,qn+Math.sin(Te)*sr)}}},{key:"placeMarkerMid",value:function(x){var V=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(Te){Te.remove()}),x&&ce(x))for(var pe=1;pe<V.length-1;pe++){var he=(0,Y.Z)(V[pe].currentPoint,2),ke=he[0],bt=he[1],qt=pe===1?x:x.cloneNode(!0);this.markerMidList.push(qt),this.appendChild(qt),qt.setLocalPosition(ke,bt)}}},{key:"getTotalLength",value:function(){return ea(this)}},{key:"getPointAtLength",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,pe=this.parsedStyle.d.absolutePath,he=pi(pe,x),ke=he.x,bt=he.y,qt=H.fF(H.Ue(),H.al(ke,bt,0),V?this.getWorldTransform():this.getLocalTransform());return new St(qt[0],qt[1])}},{key:"getPoint",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(x*ea(this),V)}},{key:"getStartTangent",value:function(){var x=this.parsedStyle.d.segments,V=[];if(x.length>1){var pe=x[0].currentPoint,he=x[1].currentPoint,ke=x[1].startTangent;V=[],ke?(V.push([pe[0]-ke[0],pe[1]-ke[1]]),V.push([pe[0],pe[1]])):(V.push([he[0],he[1]]),V.push([pe[0],pe[1]]))}return V}},{key:"getEndTangent",value:function(){var x=this.parsedStyle.d.segments,V=x.length,pe=[];if(V>1){var he=x[V-2].currentPoint,ke=x[V-1].currentPoint,bt=x[V-1].endTangent;pe=[],bt?(pe.push([ke[0]-bt[0],ke[1]-bt[1]]),pe.push([ke[0],ke[1]])):(pe.push([he[0],he[1]]),pe.push([ke[0],ke[1]]))}return pe}}])}(ki);tu.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var uc=["style"],Tu=function(W){function X(){var E,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=x.style,pe=(0,ms.Z)(x,uc);(0,B.Z)(this,X),E=(0,j.Z)(this,X,[(0,w.Z)({type:oi.POLYGON,style:V,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},pe)]),E.markerStartAngle=0,E.markerEndAngle=0,E.markerMidList=[];var he=E.parsedStyle,ke=he.markerStart,bt=he.markerEnd,qt=he.markerMid;return ke&&ce(ke)&&(E.markerStartAngle=ke.getLocalEulerAngles(),E.appendChild(ke)),qt&&ce(qt)&&E.placeMarkerMid(qt),bt&&ce(bt)&&(E.markerEndAngle=bt.getLocalEulerAngles(),E.appendChild(bt)),E.transformMarker(!0),E.transformMarker(!1),E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"attributeChangedCallback",value:function(x,V,pe,he,ke){x==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):x==="markerStartOffset"||x==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):x==="markerStart"?(he&&ce(he)&&(this.markerStartAngle=0,he.remove()),ke&&ce(ke)&&(this.markerStartAngle=ke.getLocalEulerAngles(),this.appendChild(ke),this.transformMarker(!0))):x==="markerEnd"?(he&&ce(he)&&(this.markerEndAngle=0,he.remove()),ke&&ce(ke)&&(this.markerEndAngle=ke.getLocalEulerAngles(),this.appendChild(ke),this.transformMarker(!1))):x==="markerMid"&&this.placeMarkerMid(ke)}},{key:"transformMarker",value:function(x){var V=this.parsedStyle,pe=V.markerStart,he=V.markerEnd,ke=V.markerStartOffset,bt=V.markerEndOffset,qt=V.points,Te=qt||{},ot=Te.points,Wt=x?pe:he;if(!(!Wt||!ce(Wt)||!ot)){var zn=0,qn,sr,Qn,Qr,Or,bi;if(Qn=ot[0][0],Qr=ot[0][1],x)qn=ot[1][0]-ot[0][0],sr=ot[1][1]-ot[0][1],Or=ke||0,bi=this.markerStartAngle;else{var Pi=ot.length;this.parsedStyle.isClosed?(qn=ot[Pi-1][0]-ot[0][0],sr=ot[Pi-1][1]-ot[0][1]):(Qn=ot[Pi-1][0],Qr=ot[Pi-1][1],qn=ot[Pi-2][0]-ot[Pi-1][0],sr=ot[Pi-2][1]-ot[Pi-1][1]),Or=bt||0,bi=this.markerEndAngle}zn=Math.atan2(sr,qn),Wt.setLocalEulerAngles(zn*180/Math.PI+bi),Wt.setLocalPosition(Qn+Math.cos(zn)*Or,Qr+Math.sin(zn)*Or)}}},{key:"placeMarkerMid",value:function(x){var V=this.parsedStyle.points,pe=V||{},he=pe.points;if(this.markerMidList.forEach(function(ot){ot.remove()}),this.markerMidList=[],x&&ce(x)&&he)for(var ke=1;ke<(this.parsedStyle.isClosed?he.length:he.length-1);ke++){var bt=he[ke][0],qt=he[ke][1],Te=ke===1?x:x.cloneNode(!0);this.markerMidList.push(Te),this.appendChild(Te),Te.setLocalPosition(bt,qt)}}}])}(ki);Tu.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var zl=["style"],rf=function(W){function X(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=E.style,V=(0,ms.Z)(E,zl);return(0,B.Z)(this,X),(0,j.Z)(this,X,[(0,w.Z)({type:oi.POLYLINE,style:x,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},V)])}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"getTotalLength",value:function(){return mo(this)}},{key:"getPointAtLength",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(x/this.getTotalLength(),V)}},{key:"getPoint",value:function(x){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,pe=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var he=[],ke=0,bt,qt,Te=this.getTotalLength();pe.forEach(function(Qr,Or){pe[Or+1]&&(bt=[0,0],bt[0]=ke/Te,qt=(0,Ao.Xk)(Qr[0],Qr[1],pe[Or+1][0],pe[Or+1][1]),ke+=qt,bt[1]=ke/Te,he.push(bt))}),this.parsedStyle.points.segments=he}var ot=0,Wt=0;this.parsedStyle.points.segments.forEach(function(Qr,Or){x>=Qr[0]&&x<=Qr[1]&&(ot=(x-Qr[0])/(Qr[1]-Qr[0]),Wt=Or)});var zn=(0,Ao.U4)(pe[Wt][0],pe[Wt][1],pe[Wt+1][0],pe[Wt+1][1],ot),qn=zn.x,sr=zn.y,Qn=H.fF(H.Ue(),H.al(qn,sr,0),V?this.getWorldTransform():this.getLocalTransform());return new St(Qn[0],Qn[1])}},{key:"getStartTangent",value:function(){var x=this.parsedStyle.points.points,V=[];return V.push([x[1][0],x[1][1]]),V.push([x[0][0],x[0][1]]),V}},{key:"getEndTangent",value:function(){var x=this.parsedStyle.points.points,V=x.length-1,pe=[];return pe.push([x[V-1][0],x[V-1][1]]),pe.push([x[V][0],x[V][1]]),pe}}])}(Tu);rf.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(Tu.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var fu=function(W){function X(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,B.Z)(this,X),(0,j.Z)(this,X,[(0,w.Z)({type:oi.RECT},E)])}return(0,q.Z)(X,W),(0,ne.Z)(X)}(ki);fu.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var xd=["style"],Td=function(W){function X(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=E.style,V=(0,ms.Z)(E,xd);return(0,B.Z)(this,X),(0,j.Z)(this,X,[(0,w.Z)({type:oi.TEXT,style:(0,w.Z)({fill:"black"},x)},V)])}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"getComputedTextLength",value:function(){var x;return this.getGeometryBounds(),((x=this.parsedStyle.metrics)===null||x===void 0?void 0:x.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var x;return this.getGeometryBounds(),((x=this.parsedStyle.metrics)===null||x===void 0?void 0:x.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(ki);Td.PARSED_STYLE_LIST=new Set([].concat((0,ue.Z)(ki.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Gp=function(){function W(){(0,B.Z)(this,W),this.registry={},this.define(oi.CIRCLE,ro),this.define(oi.ELLIPSE,lu),this.define(oi.RECT,fu),this.define(oi.IMAGE,ja),this.define(oi.LINE,uo),this.define(oi.GROUP,pl),this.define(oi.PATH,tu),this.define(oi.POLYGON,Tu),this.define(oi.POLYLINE,rf),this.define(oi.TEXT,Td),this.define(oi.HTML,ad)}return(0,ne.Z)(W,[{key:"define",value:function(E,x){this.registry[E]=x}},{key:"get",value:function(E){return this.registry[E]}}])}(),Dh={number:function(X){return new ao(X)},percent:function(X){return new ao(X,"%")},px:function(X){return new ao(X,"px")},em:function(X){return new ao(X,"em")},rem:function(X){return new ao(X,"rem")},deg:function(X){return new ao(X,"deg")},grad:function(X){return new ao(X,"grad")},rad:function(X){return new ao(X,"rad")},turn:function(X){return new ao(X,"turn")},s:function(X){return new ao(X,"s")},ms:function(X){return new ao(X,"ms")},registerProperty:function(X){var E=X.name,x=X.inherits,V=X.interpolable,pe=X.initialValue,he=X.syntax;Ho.styleValueRegistry.registerMetadata({n:E,inh:x,int:V,d:pe,syntax:he})},registerLayout:function(X,E){Ho.layoutRegistry.registerLayout(X,E)}},Kf=function(W){function X(){var E;(0,B.Z)(this,X),E=(0,j.Z)(this,X),E.defaultView=null,E.ownerDocument=null,E.nodeName="document";try{E.timeline=new Ho.AnimationTimeline(E)}catch(V){}var x={};return Ef.forEach(function(V){var pe=V.n,he=V.inh,ke=V.d;he&&ke&&(x[pe]=(0,pr.Z)(ke)?ke(oi.GROUP):ke)}),E.documentElement=new pl({id:"g-root",style:x}),E.documentElement.ownerDocument=E,E.documentElement.parentNode=E,E.childNodes=[E.documentElement],E}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(x,V){if(x==="svg")return this.documentElement;var pe=this.defaultView.customElements.get(x);pe||(console.warn("Unsupported tagName: ",x),pe=x==="tspan"?Td:pl);var he=new pe(V);return he.ownerDocument=this,he}},{key:"createElementNS",value:function(x,V,pe){return this.createElement(V,pe)}},{key:"cloneNode",value:function(x){throw new Error(fn)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(x){}}},{key:"elementsFromBBox",value:function(x,V,pe,he){var ke=this.defaultView.context.rBushRoot,bt=ke.search({minX:x,minY:V,maxX:pe,maxY:he}),qt=[];return bt.forEach(function(Te){var ot=Te.displayObject,Wt=ot.parsedStyle.pointerEvents,zn=Wt===void 0?"auto":Wt,qn=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(zn);(!qn||qn&&ot.isVisible())&&!ot.isCulled()&&ot.isInteractive()&&qt.push(ot)}),qt.sort(function(Te,ot){return ot.sortable.renderOrder-Te.sortable.renderOrder}),qt}},{key:"elementFromPointSync",value:function(x,V){var pe=this.defaultView.canvas2Viewport({x,y:V}),he=pe.x,ke=pe.y,bt=this.defaultView.getConfig(),qt=bt.width,Te=bt.height;if(he<0||ke<0||he>qt||ke>Te)return null;var ot=this.defaultView.viewport2Client({x:he,y:ke}),Wt=ot.x,zn=ot.y,qn=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x,y:V,viewportX:he,viewportY:ke,clientX:Wt,clientY:zn},picked:[]}),sr=qn.picked;return sr&&sr[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var E=(0,cs.Z)((0,fs.Z)().mark(function V(pe,he){var ke,bt,qt,Te,ot,Wt,zn,qn,sr,Qn,Qr;return(0,fs.Z)().wrap(function(bi){for(;;)switch(bi.prev=bi.next){case 0:if(ke=this.defaultView.canvas2Viewport({x:pe,y:he}),bt=ke.x,qt=ke.y,Te=this.defaultView.getConfig(),ot=Te.width,Wt=Te.height,!(bt<0||qt<0||bt>ot||qt>Wt)){bi.next=4;break}return bi.abrupt("return",null);case 4:return zn=this.defaultView.viewport2Client({x:bt,y:qt}),qn=zn.x,sr=zn.y,bi.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:pe,y:he,viewportX:bt,viewportY:qt,clientX:qn,clientY:sr},picked:[]});case 7:return Qn=bi.sent,Qr=Qn.picked,bi.abrupt("return",Qr&&Qr[0]||this.documentElement);case 10:case"end":return bi.stop()}},V,this)}));function x(V,pe){return E.apply(this,arguments)}return x}()},{key:"elementsFromPointSync",value:function(x,V){var pe=this.defaultView.canvas2Viewport({x,y:V}),he=pe.x,ke=pe.y,bt=this.defaultView.getConfig(),qt=bt.width,Te=bt.height;if(he<0||ke<0||he>qt||ke>Te)return[];var ot=this.defaultView.viewport2Client({x:he,y:ke}),Wt=ot.x,zn=ot.y,qn=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x,y:V,viewportX:he,viewportY:ke,clientX:Wt,clientY:zn},picked:[]}),sr=qn.picked;return sr[sr.length-1]!==this.documentElement&&sr.push(this.documentElement),sr}},{key:"elementsFromPoint",value:function(){var E=(0,cs.Z)((0,fs.Z)().mark(function V(pe,he){var ke,bt,qt,Te,ot,Wt,zn,qn,sr,Qn,Qr;return(0,fs.Z)().wrap(function(bi){for(;;)switch(bi.prev=bi.next){case 0:if(ke=this.defaultView.canvas2Viewport({x:pe,y:he}),bt=ke.x,qt=ke.y,Te=this.defaultView.getConfig(),ot=Te.width,Wt=Te.height,!(bt<0||qt<0||bt>ot||qt>Wt)){bi.next=4;break}return bi.abrupt("return",[]);case 4:return zn=this.defaultView.viewport2Client({x:bt,y:qt}),qn=zn.x,sr=zn.y,bi.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:pe,y:he,viewportX:bt,viewportY:qt,clientX:qn,clientY:sr},picked:[]});case 7:return Qn=bi.sent,Qr=Qn.picked,Qr[Qr.length-1]!==this.documentElement&&Qr.push(this.documentElement),bi.abrupt("return",Qr);case 11:case"end":return bi.stop()}},V,this)}));function x(V,pe){return E.apply(this,arguments)}return x}()},{key:"appendChild",value:function(x,V){throw new Error(sn)}},{key:"insertBefore",value:function(x,V){throw new Error(sn)}},{key:"removeChild",value:function(x,V){throw new Error(sn)}},{key:"replaceChild",value:function(x,V,pe){throw new Error(sn)}},{key:"append",value:function(){throw new Error(sn)}},{key:"prepend",value:function(){throw new Error(sn)}},{key:"getElementById",value:function(x){return this.documentElement.getElementById(x)}},{key:"getElementsByName",value:function(x){return this.documentElement.getElementsByName(x)}},{key:"getElementsByTagName",value:function(x){return this.documentElement.getElementsByTagName(x)}},{key:"getElementsByClassName",value:function(x){return this.documentElement.getElementsByClassName(x)}},{key:"querySelector",value:function(x){return this.documentElement.querySelector(x)}},{key:"querySelectorAll",value:function(x){return this.documentElement.querySelectorAll(x)}},{key:"find",value:function(x){return this.documentElement.find(x)}},{key:"findAll",value:function(x){return this.documentElement.findAll(x)}}])}(Qu),Yh=function(){function W(X){(0,B.Z)(this,W),this.strategies=X}return(0,ne.Z)(W,[{key:"apply",value:function(E){var x=E.camera,V=E.renderingService,pe=E.renderingContext,he=this.strategies;V.hooks.cull.tap(W.tag,function(ke){if(ke){var bt=ke.cullable;return he.length===0?bt.visible=pe.unculledEntities.indexOf(ke.entity)>-1:bt.visible=he.every(function(qt){return qt.isVisible(x,ke)}),!ke.isCulled()&&ke.isVisible()?ke:(ke.dispatchEvent(new Du(Sc.CULLED)),null)}return ke}),V.hooks.afterRender.tap(W.tag,function(ke){ke.cullable.visibilityPlaneMask=-1})}}])}();Yh.tag="Culling";var lh=function(){function W(){var X=this;(0,B.Z)(this,W),this.autoPreventDefault=!1,this.rootPointerEvent=new Uf(null),this.rootWheelEvent=new rc(null),this.onPointerMove=function(E){var x,V=(x=X.context.renderingContext.root)===null||x===void 0||(x=x.ownerDocument)===null||x===void 0?void 0:x.defaultView;if(!(V.supportsTouchEvents&&E.pointerType==="touch")){var pe=X.normalizeToPointerEvent(E,V),he=(0,ra.Z)(pe),ke;try{for(he.s();!(ke=he.n()).done;){var bt=ke.value,qt=X.bootstrapEvent(X.rootPointerEvent,bt,V,E);X.context.eventService.mapEvent(qt)}}catch(Te){he.e(Te)}finally{he.f()}X.setCursor(X.context.eventService.cursor)}},this.onClick=function(E){var x,V=(x=X.context.renderingContext.root)===null||x===void 0||(x=x.ownerDocument)===null||x===void 0?void 0:x.defaultView,pe=X.normalizeToPointerEvent(E,V),he=(0,ra.Z)(pe),ke;try{for(he.s();!(ke=he.n()).done;){var bt=ke.value,qt=X.bootstrapEvent(X.rootPointerEvent,bt,V,E);X.context.eventService.mapEvent(qt)}}catch(Te){he.e(Te)}finally{he.f()}X.setCursor(X.context.eventService.cursor)}}return(0,ne.Z)(W,[{key:"apply",value:function(E){var x=this;this.context=E;var V=E.renderingService,pe=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(he){var ke=x.context.renderingService.hooks.pickSync.call({position:he,picked:[],topmost:!0}),bt=ke.picked;return bt[0]||null}),V.hooks.pointerWheel.tap(W.tag,function(he){var ke=x.normalizeWheelEvent(he);x.context.eventService.mapEvent(ke)}),V.hooks.pointerDown.tap(W.tag,function(he){if(!(pe.supportsTouchEvents&&he.pointerType==="touch")){var ke=x.normalizeToPointerEvent(he,pe);if(x.autoPreventDefault&&ke[0].isNormalized){var bt=he.cancelable||!("cancelable"in he);bt&&he.preventDefault()}var qt=(0,ra.Z)(ke),Te;try{for(qt.s();!(Te=qt.n()).done;){var ot=Te.value,Wt=x.bootstrapEvent(x.rootPointerEvent,ot,pe,he);x.context.eventService.mapEvent(Wt)}}catch(zn){qt.e(zn)}finally{qt.f()}x.setCursor(x.context.eventService.cursor)}}),V.hooks.pointerUp.tap(W.tag,function(he){if(!(pe.supportsTouchEvents&&he.pointerType==="touch")){var ke=x.context.contextService.getDomElement(),bt=x.context.eventService.isNativeEventFromCanvas(ke,he),qt=bt?"":"outside",Te=x.normalizeToPointerEvent(he,pe),ot=(0,ra.Z)(Te),Wt;try{for(ot.s();!(Wt=ot.n()).done;){var zn=Wt.value,qn=x.bootstrapEvent(x.rootPointerEvent,zn,pe,he);qn.type+=qt,x.context.eventService.mapEvent(qn)}}catch(sr){ot.e(sr)}finally{ot.f()}x.setCursor(x.context.eventService.cursor)}}),V.hooks.pointerMove.tap(W.tag,this.onPointerMove),V.hooks.pointerOver.tap(W.tag,this.onPointerMove),V.hooks.pointerOut.tap(W.tag,this.onPointerMove),V.hooks.click.tap(W.tag,this.onClick),V.hooks.pointerCancel.tap(W.tag,function(he){var ke=x.normalizeToPointerEvent(he,pe),bt=(0,ra.Z)(ke),qt;try{for(bt.s();!(qt=bt.n()).done;){var Te=qt.value,ot=x.bootstrapEvent(x.rootPointerEvent,Te,pe,he);x.context.eventService.mapEvent(ot)}}catch(Wt){bt.e(Wt)}finally{bt.f()}x.setCursor(x.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(E,x,V,pe){E.view=V,E.originalEvent=null,E.nativeEvent=pe,E.pointerId=x.pointerId,E.width=x.width,E.height=x.height,E.isPrimary=x.isPrimary,E.pointerType=x.pointerType,E.pressure=x.pressure,E.tangentialPressure=x.tangentialPressure,E.tiltX=x.tiltX,E.tiltY=x.tiltY,E.twist=x.twist,this.transferMouseData(E,x);var he=this.context.eventService.client2Viewport({x:x.clientX,y:x.clientY}),ke=he.x,bt=he.y;E.viewport.x=ke,E.viewport.y=bt;var qt=this.context.eventService.viewport2Canvas(E.viewport),Te=qt.x,ot=qt.y;return E.canvas.x=Te,E.canvas.y=ot,E.global.copyFrom(E.canvas),E.offset.copyFrom(E.canvas),E.isTrusted=pe.isTrusted,E.type==="pointerleave"&&(E.type="pointerout"),E.type.startsWith("mouse")&&(E.type=E.type.replace("mouse","pointer")),E.type.startsWith("touch")&&(E.type=wl[E.type]||E.type),E}},{key:"normalizeWheelEvent",value:function(E){var x=this.rootWheelEvent;this.transferMouseData(x,E),x.deltaMode=E.deltaMode,x.deltaX=E.deltaX,x.deltaY=E.deltaY,x.deltaZ=E.deltaZ;var V=this.context.eventService.client2Viewport({x:E.clientX,y:E.clientY}),pe=V.x,he=V.y;x.viewport.x=pe,x.viewport.y=he;var ke=this.context.eventService.viewport2Canvas(x.viewport),bt=ke.x,qt=ke.y;return x.canvas.x=bt,x.canvas.y=qt,x.global.copyFrom(x.canvas),x.offset.copyFrom(x.canvas),x.nativeEvent=E,x.type=E.type,x}},{key:"transferMouseData",value:function(E,x){E.isTrusted=x.isTrusted,E.srcElement=x.srcElement,E.timeStamp=ol.now(),E.type=x.type,E.altKey=x.altKey,E.metaKey=x.metaKey,E.shiftKey=x.shiftKey,E.ctrlKey=x.ctrlKey,E.button=x.button,E.buttons=x.buttons,E.client.x=x.clientX,E.client.y=x.clientY,E.movement.x=x.movementX,E.movement.y=x.movementY,E.page.x=x.pageX,E.page.y=x.pageY,E.screen.x=x.screenX,E.screen.y=x.screenY,E.relatedTarget=null}},{key:"setCursor",value:function(E){this.context.contextService.applyCursorStyle(E||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(E,x){var V=[];if(x.isTouchEvent(E))for(var pe=0;pe<E.changedTouches.length;pe++){var he=E.changedTouches[pe];(0,at.Z)(he.button)&&(he.button=0),(0,at.Z)(he.buttons)&&(he.buttons=1),(0,at.Z)(he.isPrimary)&&(he.isPrimary=E.touches.length===1&&E.type==="touchstart"),(0,at.Z)(he.width)&&(he.width=he.radiusX||1),(0,at.Z)(he.height)&&(he.height=he.radiusY||1),(0,at.Z)(he.tiltX)&&(he.tiltX=0),(0,at.Z)(he.tiltY)&&(he.tiltY=0),(0,at.Z)(he.pointerType)&&(he.pointerType="touch"),(0,at.Z)(he.pointerId)&&(he.pointerId=he.identifier||0),(0,at.Z)(he.pressure)&&(he.pressure=he.force||.5),(0,at.Z)(he.twist)&&(he.twist=0),(0,at.Z)(he.tangentialPressure)&&(he.tangentialPressure=0),he.isNormalized=!0,he.type=E.type,V.push(he)}else if(x.isMouseEvent(E)){var ke=E;(0,at.Z)(ke.isPrimary)&&(ke.isPrimary=!0),(0,at.Z)(ke.width)&&(ke.width=1),(0,at.Z)(ke.height)&&(ke.height=1),(0,at.Z)(ke.tiltX)&&(ke.tiltX=0),(0,at.Z)(ke.tiltY)&&(ke.tiltY=0),(0,at.Z)(ke.pointerType)&&(ke.pointerType="mouse"),(0,at.Z)(ke.pointerId)&&(ke.pointerId=ss),(0,at.Z)(ke.pressure)&&(ke.pressure=.5),(0,at.Z)(ke.twist)&&(ke.twist=0),(0,at.Z)(ke.tangentialPressure)&&(ke.tangentialPressure=0),ke.isNormalized=!0,V.push(ke)}else V.push(E);return V}}])}();lh.tag="Event";var wp=[oi.CIRCLE,oi.ELLIPSE,oi.IMAGE,oi.RECT,oi.LINE,oi.POLYLINE,oi.POLYGON,oi.TEXT,oi.PATH,oi.HTML],un=function(){function W(){(0,B.Z)(this,W)}return(0,ne.Z)(W,[{key:"isVisible",value:function(E,x){var V,pe=x.cullable;if(!pe.enable)return!0;var he=x.getRenderBounds();if(or.isEmpty(he))return!1;var ke=E.getFrustum(),bt=(V=x.parentNode)===null||V===void 0||(V=V.cullable)===null||V===void 0?void 0:V.visibilityPlaneMask;return pe.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(x,he,bt||je.INDETERMINATE,ke.planes),pe.visible=pe.visibilityPlaneMask!==je.OUTSIDE,pe.visible}},{key:"computeVisibilityWithPlaneMask",value:function(E,x,V,pe){if(V===je.OUTSIDE||V===je.INSIDE)return V;for(var he=je.INSIDE,ke=wp.indexOf(E.nodeName)>-1,bt=0,qt=pe.length;bt<qt;++bt){var Te=1<<bt;if(V&Te&&!(ke&&(bt===4||bt===5))){var ot=pe[bt],Wt=ot.normal,zn=ot.distance;if(H.AK(Wt,x.getPositiveFarPoint(pe[bt]))+zn<0)return je.OUTSIDE;H.AK(Wt,x.getNegativeFarPoint(pe[bt]))+zn<0&&(he|=Te)}}return he}}])}(),Mn=function(){function W(){(0,B.Z)(this,W),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return(0,ne.Z)(W,[{key:"apply",value:function(E){var x=this,V,pe=E.renderingService,he=E.renderingContext,ke=E.rBushRoot,bt=he.root.ownerDocument.defaultView;this.rBush=ke;var qt=function(sr){var Qn=sr.target;Qn.renderable.dirty=!0,pe.dirtify()},Te=function(sr){x.syncTasks.set(sr.target,sr.detail.affectChildren),pe.dirtify()},ot=function(sr){var Qn=sr.target;Ho.enableSizeAttenuation&&Ho.styleValueRegistry.updateSizeAttenuation(Qn,bt.getCamera().getZoom())},Wt=function(sr){var Qn=sr.target,Qr=Qn.rBushNode;Qr.aabb&&x.rBush.remove(Qr.aabb),x.syncTasks.delete(Qn),Ho.sceneGraphService.dirtifyToRoot(Qn),pe.dirtify()};pe.hooks.init.tap(W.tag,function(){bt.addEventListener(Sc.MOUNTED,ot),bt.addEventListener(Sc.UNMOUNTED,Wt),bt.addEventListener(Sc.ATTR_MODIFIED,qt),bt.addEventListener(Sc.BOUNDS_CHANGED,Te)}),pe.hooks.destroy.tap(W.tag,function(){bt.removeEventListener(Sc.MOUNTED,ot),bt.removeEventListener(Sc.UNMOUNTED,Wt),bt.removeEventListener(Sc.ATTR_MODIFIED,qt),bt.removeEventListener(Sc.BOUNDS_CHANGED,Te),x.syncTasks.clear()});var zn=(V=Ho.globalThis.requestIdleCallback)!==null&&V!==void 0?V:js.bind(Ho.globalThis);pe.hooks.endFrame.tap(W.tag,function(){x.isFirstTimeRendering?(x.isFirstTimeRendering=!1,x.syncing=!0,zn(function(){x.syncRTree(!0),x.isFirstTimeRenderingFinished=!0})):x.syncRTree()})}},{key:"syncNode",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E.isConnected){var V=E.rBushNode;V.aabb&&this.rBush.remove(V.aabb);var pe=E.getRenderBounds();if(pe){var he=E.renderable;x&&(he.dirtyRenderBounds||(he.dirtyRenderBounds=new or),he.dirtyRenderBounds.update(pe.center,pe.halfExtents));var ke=pe.getMin(),bt=(0,Y.Z)(ke,2),qt=bt[0],Te=bt[1],ot=pe.getMax(),Wt=(0,Y.Z)(ot,2),zn=Wt[0],qn=Wt[1];V.aabb||(V.aabb={}),V.aabb.displayObject=E,V.aabb.minX=qt,V.aabb.minY=Te,V.aabb.maxX=zn,V.aabb.maxY=qn}if(V.aabb&&!isNaN(V.aabb.maxX)&&!isNaN(V.aabb.maxX)&&!isNaN(V.aabb.minX)&&!isNaN(V.aabb.minY))return V.aabb}}},{key:"syncRTree",value:function(){var E=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!x&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var V=[],pe=new Set,he=function(bt){if(!pe.has(bt)&&bt.renderable){var qt=E.syncNode(bt,x);qt&&(V.push(qt),pe.add(bt))}};this.syncTasks.forEach(function(ke,bt){ke&&bt.forEach(he);for(var qt=bt;qt;)he(qt),qt=qt.parentElement}),this.rBush.load(V),V.length=0,this.syncing=!1}}}])}();Mn.tag="Prepare";function kr(W){return!!W.document}var Yi=function(W){return W.READY="ready",W.BEFORE_RENDER="beforerender",W.RERENDER="rerender",W.AFTER_RENDER="afterrender",W.BEFORE_DESTROY="beforedestroy",W.AFTER_DESTROY="afterdestroy",W.RESIZE="resize",W.DIRTY_RECTANGLE="dirtyrectangle",W.RENDERER_CHANGED="rendererchanged",W}({}),Zo=500,os=.1,yu=1e3,Pu=new Du(Sc.MOUNTED),tl=new Du(Sc.UNMOUNTED),rl=new Du(Yi.BEFORE_RENDER),Mf=new Du(Yi.RERENDER),lc=new Du(Yi.AFTER_RENDER),ic=function(W){function X(E){var x;(0,B.Z)(this,X),x=(0,j.Z)(this,X),x.Element=ki,x.inited=!1,x.context={},x.document=new Kf,x.document.defaultView=x,x.customElements=new Gp;var V=E.container,pe=E.canvas,he=E.offscreenCanvas,ke=E.width,bt=E.height,qt=E.devicePixelRatio,Te=E.renderer,ot=E.background,Wt=E.cursor,zn=E.document,qn=E.requestAnimationFrame,sr=E.cancelAnimationFrame,Qn=E.createImage,Qr=E.enableLargeImageOptimization,Or=E.supportsPointerEvents,bi=E.supportsTouchEvents,Pi=E.supportsCSSTransform,zr=E.cleanUpOnDestroy,Tr=zr===void 0?!0:zr,Fr=E.supportsMutipleCanvasesInOneContainer,ri=E.useNativeClickEvent,gr=E.alwaysTriggerPointerEventOnCanvas,jr=E.isTouchEvent,Vi=E.isMouseEvent,da=E.dblClickSpeed;Fr||Zi(V,x,Tr);var na=ke,Ja=bt,ka=qt;return pe&&(ka=qt||ji&&window.devicePixelRatio||1,ka=ka>=1?Math.ceil(ka):1,na=ke||ps(pe)||pe.width/ka,Ja=bt||Zs(pe)||pe.height/ka),he&&(Ho.offscreenCanvas=he),x.devicePixelRatio=ka,x.requestAnimationFrame=qn!=null?qn:js.bind(Ho.globalThis),x.cancelAnimationFrame=sr!=null?sr:Li.bind(Ho.globalThis),x.supportsTouchEvents=bi!=null?bi:"ontouchstart"in Ho.globalThis,x.supportsPointerEvents=Or!=null?Or:!!Ho.globalThis.PointerEvent,x.isTouchEvent=jr!=null?jr:function(no){return x.supportsTouchEvents&&no instanceof Ho.globalThis.TouchEvent},x.isMouseEvent=Vi!=null?Vi:function(no){return!Ho.globalThis.MouseEvent||no instanceof Ho.globalThis.MouseEvent&&(!x.supportsPointerEvents||!(no instanceof Ho.globalThis.PointerEvent))},x.dblClickSpeed=da!=null?da:200,x.initRenderingContext({container:V,canvas:pe,width:na,height:Ja,renderer:Te,offscreenCanvas:he,devicePixelRatio:ka,cursor:Wt||"default",background:ot||"transparent",createImage:Qn,enableLargeImageOptimization:Qr,document:zn,supportsCSSTransform:Pi,useNativeClickEvent:ri,cleanUpOnDestroy:Tr,alwaysTriggerPointerEventOnCanvas:gr}),x.initDefaultCamera(na,Ja,Te.clipSpaceNearZ),x.initRenderer(Te,!0),x}return(0,q.Z)(X,W),(0,ne.Z)(X,[{key:"initRenderingContext",value:function(x){this.context.config=x,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(x,V,pe){var he=this,ke=new Ho.CameraContribution;ke.clipSpaceNearZ=pe,ke.setType(Mr.EXPLORING,ui.DEFAULT).setPosition(x/2,V/2,Zo).setFocalPoint(x/2,V/2,0).setOrthographic(x/-2,x/2,V/2,V/-2,os,yu),ke.canvas=this,ke.eventEmitter.on(Aa.UPDATED,function(){he.context.renderingContext.renderReasons.add(ih.CAMERA_CHANGED),Ho.enableSizeAttenuation&&he.getConfig().renderer.getConfig().enableSizeAttenuation&&he.updateSizeAttenuation()}),this.context.camera=ke}},{key:"updateSizeAttenuation",value:function(){var x=this.getCamera().getZoom();this.document.documentElement.forEach(function(V){Ho.styleValueRegistry.updateSizeAttenuation(V,x)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var x=this;return this.readyPromise||(this.readyPromise=new Promise(function(V){x.resolveReadyPromise=function(){V(x)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,V=arguments.length>1?arguments[1]:void 0;V||this.dispatchEvent(new Du(Yi.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var pe=this.getRoot();x&&(this.unmountChildren(pe),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),V||this.dispatchEvent(new Du(Yi.AFTER_DESTROY));var he=function(bt){bt.currentTarget=null,bt.manager=null,bt.target=null,bt.relatedNode=null};he(Pu),he(tl),he(rl),he(Mf),he(lc),he(Ft),he(id),he(uh),he(N)}},{key:"changeSize",value:function(x,V){this.resize(x,V)}},{key:"resize",value:function(x,V){var pe=this.context.config;pe.width=x,pe.height=V,this.getContextService().resize(x,V);var he=this.context.camera,ke=he.getProjectionMode();he.setPosition(x/2,V/2,Zo).setFocalPoint(x/2,V/2,0),ke===Ri.ORTHOGRAPHIC?he.setOrthographic(x/-2,x/2,V/2,V/-2,he.getNear(),he.getFar()):he.setAspect(x/V),this.dispatchEvent(new Du(Yi.RESIZE,{width:x,height:V}))}},{key:"appendChild",value:function(x,V){return this.document.documentElement.appendChild(x,V)}},{key:"insertBefore",value:function(x,V){return this.document.documentElement.insertBefore(x,V)}},{key:"removeChild",value:function(x){return this.document.documentElement.removeChild(x)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(x){var V=this;x&&(rl.detail=x,lc.detail=x),this.dispatchEvent(rl);var pe=this.getRenderingService();pe.render(this.getConfig(),x,function(){V.dispatchEvent(Mf)}),this.dispatchEvent(lc)}},{key:"run",value:function(){var x=this,V=function(he,ke){x.render(ke),x.frameId=x.requestAnimationFrame(V)};V()}},{key:"initRenderer",value:function(x){var V=this,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!x)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new _e,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new lh,new Mn,new Yh([new un])),this.loadRendererContainerModule(x),this.context.contextService=new this.context.ContextService((0,w.Z)((0,w.Z)({},Ho),this.context)),this.context.renderingService=new Tp(Ho,this.context),this.context.eventService=new Zf(Ho,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(x,pe,!0)):this.context.contextService.initAsync().then(function(){V.initRenderingService(x,pe)})}},{key:"initRenderingService",value:function(x){var V=this,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){V.inited=!0,pe?he?V.requestAnimationFrame(function(){V.dispatchEvent(new Du(Yi.READY))}):V.dispatchEvent(new Du(Yi.READY)):V.dispatchEvent(new Du(Yi.RENDERER_CHANGED)),V.readyPromise&&V.resolveReadyPromise(),pe||V.getRoot().forEach(function(ke){var bt=ke,qt=bt.renderable;qt&&(qt.renderBoundsDirty=!0,qt.boundsDirty=!0,qt.dirty=!0)}),V.mountChildren(V.getRoot()),x.getConfig().enableAutoRendering&&V.run()})}},{key:"loadRendererContainerModule",value:function(x){var V=this,pe=x.getPlugins();pe.forEach(function(he){he.context=V.context,he.init(Ho)})}},{key:"setRenderer",value:function(x){var V=this.getConfig();if(V.renderer!==x){var pe=V.renderer;V.renderer=x,this.destroy(!1,!0),(0,ue.Z)((pe==null?void 0:pe.getPlugins())||[]).reverse().forEach(function(he){he.destroy(Ho)}),this.initRenderer(x)}}},{key:"setCursor",value:function(x){var V=this.getConfig();V.cursor=x,this.getContextService().applyCursorStyle(x)}},{key:"unmountChildren",value:function(x){var V=this;x.childNodes.forEach(function(pe){V.unmountChildren(pe)}),this.inited&&(x.isMutationObserved?x.dispatchEvent(tl):(tl.target=x,this.dispatchEvent(tl,!0)),x!==this.document.documentElement&&(x.ownerDocument=null),x.isConnected=!1),x.isCustomElement&&x.disconnectedCallback&&x.disconnectedCallback()}},{key:"mountChildren",value:function(x){var V=this,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lo(x);this.inited?x.isConnected||(x.ownerDocument=this.document,x.isConnected=!0,pe||(x.isMutationObserved?x.dispatchEvent(Pu):(Pu.target=x,this.dispatchEvent(Pu,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",x.nodeName),x.childNodes.forEach(function(he){V.mountChildren(he,pe)}),x.isCustomElement&&x.connectedCallback&&x.connectedCallback()}},{key:"mountFragment",value:function(x){this.mountChildren(x,!1)}},{key:"client2Viewport",value:function(x){return this.getEventService().client2Viewport(x)}},{key:"viewport2Client",value:function(x){return this.getEventService().viewport2Client(x)}},{key:"viewport2Canvas",value:function(x){return this.getEventService().viewport2Canvas(x)}},{key:"canvas2Viewport",value:function(x){return this.getEventService().canvas2Viewport(x)}},{key:"getPointByClient",value:function(x,V){return this.client2Viewport({x,y:V})}},{key:"getClientByPoint",value:function(x,V){return this.viewport2Client({x,y:V})}}])}(zf)},46440:function(cn,Ne,A){"use strict";A.d(Ne,{TE:function(){return ue},U4:function(){return Gt},Xk:function(){return Pt},Y1:function(){return wi},_x:function(){return _n},hE:function(){return Oe},l5:function(){return Qe},ph:function(){return Bt},vp:function(){return Fe},x4:function(){return Nr}});var w=A(15767),B=A(95177),ne=A(38015);function ue(Ln,Nn,$n,wn){var nt=Ln-$n,ze=Nn-wn;return Math.sqrt(nt*nt+ze*ze)}function j(Ln,Nn){var $n=Math.min.apply(Math,(0,w.ev)([],(0,w.CR)(Ln),!1)),wn=Math.min.apply(Math,(0,w.ev)([],(0,w.CR)(Nn),!1)),nt=Math.max.apply(Math,(0,w.ev)([],(0,w.CR)(Ln),!1)),ze=Math.max.apply(Math,(0,w.ev)([],(0,w.CR)(Nn),!1));return{x:$n,y:wn,width:nt-$n,height:ze-wn}}function q(Ln){return(Ln+Math.PI*2)%(Math.PI*2)}function Y(Ln,Nn){var $n=Math.abs(Ln);return Nn>0?$n:$n*-1}function K(Ln,Nn,$n,wn,nt,ze){var vt=$n,$t=wn;if(vt===0||$t===0)return{x:Ln,y:Nn};for(var gn=nt-Ln,at=ze-Nn,an=Math.abs(gn),hn=Math.abs(at),pr=vt*vt,ur=$t*$t,pi=Math.PI/4,ar=0,di=0,sa=0;sa<4;sa++){ar=vt*Math.cos(pi),di=$t*Math.sin(pi);var xa=(pr-ur)*Math.pow(Math.cos(pi),3)/vt,za=(ur-pr)*Math.pow(Math.sin(pi),3)/$t,Ui=ar-xa,Ao=di-za,fs=an-xa,cs=hn-za,ra=Math.hypot(Ao,Ui),ms=Math.hypot(cs,fs),xi=ra*Math.asin((Ui*cs-Ao*fs)/(ra*ms)),Gn=xi/Math.sqrt(pr+ur-ar*ar-di*di);pi+=Gn,pi=Math.min(Math.PI/2,Math.max(0,pi))}return{x:Ln+Y(ar,gn),y:Nn+Y(di,at)}}function H(Ln,Nn,$n,wn,nt,ze,vt,$t){return-1*$n*Math.cos(nt)*Math.sin($t)-wn*Math.sin(nt)*Math.cos($t)}function ae(Ln,Nn,$n,wn,nt,ze,vt,$t){return-1*$n*Math.sin(nt)*Math.sin($t)+wn*Math.cos(nt)*Math.cos($t)}function ie(Ln,Nn,$n){return Math.atan(-Nn/Ln*Math.tan($n))}function le(Ln,Nn,$n){return Math.atan(Nn/(Ln*Math.tan($n)))}function se(Ln,Nn,$n,wn,nt,ze){return $n*Math.cos(nt)*Math.cos(ze)-wn*Math.sin(nt)*Math.sin(ze)+Ln}function ge(Ln,Nn,$n,wn,nt,ze){return $n*Math.sin(nt)*Math.cos(ze)+wn*Math.cos(nt)*Math.sin(ze)+Nn}function ye(Ln,Nn,$n,wn){var nt=Math.atan2(wn*Ln,$n*Nn);return(nt+Math.PI*2)%(Math.PI*2)}function ve(Ln,Nn,$n){return{x:Ln*Math.cos($n),y:Nn*Math.sin($n)}}function fe(Ln,Nn,$n){var wn=Math.cos($n),nt=Math.sin($n);return[Ln*wn-Nn*nt,Ln*nt+Nn*wn]}function Fe(Ln,Nn,$n,wn,nt,ze,vt){for(var $t=ie($n,wn,nt),gn=1/0,at=-1/0,an=[ze,vt],hn=-Math.PI*2;hn<=Math.PI*2;hn+=Math.PI){var pr=$t+hn;ze<vt?ze<pr&&pr<vt&&an.push(pr):vt<pr&&pr<ze&&an.push(pr)}for(var hn=0;hn<an.length;hn++){var ur=se(Ln,Nn,$n,wn,nt,an[hn]);ur<gn&&(gn=ur),ur>at&&(at=ur)}for(var pi=le($n,wn,nt),ar=1/0,di=-1/0,sa=[ze,vt],hn=-Math.PI*2;hn<=Math.PI*2;hn+=Math.PI){var xa=pi+hn;ze<vt?ze<xa&&xa<vt&&sa.push(xa):vt<xa&&xa<ze&&sa.push(xa)}for(var hn=0;hn<sa.length;hn++){var za=ge(Ln,Nn,$n,wn,nt,sa[hn]);za<ar&&(ar=za),za>di&&(di=za)}return{x:gn,y:ar,width:at-gn,height:di-ar}}function yt(Ln,Nn,$n,wn,nt,ze,vt,$t,gn){var at=fe($t-Ln,gn-Nn,-nt),an=__read(at,2),hn=an[0],pr=an[1],ur=K(0,0,$n,wn,hn,pr),pi=ye($n,wn,ur.x,ur.y);pi<ze?ur=ve($n,wn,ze):pi>vt&&(ur=ve($n,wn,vt));var ar=fe(ur.x,ur.y,nt);return{x:ar[0]+Ln,y:ar[1]+Nn}}function gt(Ln,Nn,$n,wn,nt,ze,vt,$t){var gn=(vt-ze)*$t+ze,at=H(Ln,Nn,$n,wn,nt,ze,vt,gn),an=ae(Ln,Nn,$n,wn,nt,ze,vt,gn);return q(Math.atan2(an,at))}var pt=1e-4;function lt(Ln,Nn,$n,wn,nt,ze){var vt=-1,$t=1/0,gn=[$n,wn],at=20;ze&&ze>200&&(at=ze/10);for(var an=1/at,hn=an/10,pr=0;pr<=at;pr++){var ur=pr*an,pi=[nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Ln.concat([ur])),!1)),nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Nn.concat([ur])),!1))],ar=ue(gn[0],gn[1],pi[0],pi[1]);ar<$t&&(vt=ur,$t=ar)}if(vt===0)return{x:Ln[0],y:Nn[0]};if(vt===1){var di=Ln.length;return{x:Ln[di-1],y:Nn[di-1]}}$t=1/0;for(var pr=0;pr<32&&!(hn<pt);pr++){var sa=vt-hn,xa=vt+hn,pi=[nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Ln.concat([sa])),!1)),nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Nn.concat([sa])),!1))],ar=ue(gn[0],gn[1],pi[0],pi[1]);if(sa>=0&&ar<$t)vt=sa,$t=ar;else{var za=[nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Ln.concat([xa])),!1)),nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Nn.concat([xa])),!1))],Ui=ue(gn[0],gn[1],za[0],za[1]);xa<=1&&Ui<$t?(vt=xa,$t=Ui):hn*=.5}}return{x:nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Ln.concat([vt])),!1)),y:nt.apply(void 0,(0,w.ev)([],(0,w.CR)(Nn.concat([vt])),!1))}}function Ke(Ln,Nn){for(var $n=0,wn=Ln.length,nt=0;nt<wn;nt++){var ze=Ln[nt],vt=Nn[nt],$t=Ln[(nt+1)%wn],gn=Nn[(nt+1)%wn];$n+=ue(ze,vt,$t,gn)}return $n/2}function Ue(Ln,Nn,$n,wn){return j([Ln,$n],[Nn,wn])}function Pt(Ln,Nn,$n,wn){return ue(Ln,Nn,$n,wn)}function Gt(Ln,Nn,$n,wn,nt){return{x:(1-nt)*Ln+nt*$n,y:(1-nt)*Nn+nt*wn}}function rn(Ln,Nn,$n,wn,nt,ze){var vt=($n-Ln)*(nt-Ln)+(wn-Nn)*(ze-Nn);if(vt<0)return ue(Ln,Nn,nt,ze);var $t=($n-Ln)*($n-Ln)+(wn-Nn)*(wn-Nn);return vt>$t?ue($n,wn,nt,ze):_n(Ln,Nn,$n,wn,nt,ze)}function _n(Ln,Nn,$n,wn,nt,ze){var vt=[$n-Ln,wn-Nn];if(ne.I6(vt,[0,0]))return Math.sqrt((nt-Ln)*(nt-Ln)+(ze-Nn)*(ze-Nn));var $t=[-vt[1],vt[0]];ne.Fv($t,$t);var gn=[nt-Ln,ze-Nn];return Math.abs(ne.AK(gn,$t))}function qe(Ln,Nn,$n,wn){return Math.atan2(wn-Nn,$n-Ln)}function Nt(Ln,Nn,$n,wn,nt){var ze=1-nt;return ze*ze*ze*Ln+3*Nn*nt*ze*ze+3*$n*nt*nt*ze+wn*nt*nt*nt}function ft(Ln,Nn,$n,wn,nt){var ze=1-nt;return 3*(ze*ze*(Nn-Ln)+2*ze*nt*($n-Nn)+nt*nt*(wn-$n))}function ln(Ln,Nn,$n,wn){var nt=-3*Ln+9*Nn-9*$n+3*wn,ze=6*Ln-12*Nn+6*$n,vt=3*Nn-3*Ln,$t=[],gn,at,an;if((0,B.Z)(nt,0))(0,B.Z)(ze,0)||(gn=-vt/ze,gn>=0&&gn<=1&&$t.push(gn));else{var hn=ze*ze-4*nt*vt;(0,B.Z)(hn,0)?$t.push(-ze/(2*nt)):hn>0&&(an=Math.sqrt(hn),gn=(-ze+an)/(2*nt),at=(-ze-an)/(2*nt),gn>=0&&gn<=1&&$t.push(gn),at>=0&&at<=1&&$t.push(at))}return $t}function tt(Ln,Nn,$n,wn,nt,ze,vt,$t,gn){var at=Nt(Ln,$n,nt,vt,gn),an=Nt(Nn,wn,ze,$t,gn),hn=Gt(Ln,Nn,$n,wn,gn),pr=Gt($n,wn,nt,ze,gn),ur=Gt(nt,ze,vt,$t,gn),pi=Gt(hn.x,hn.y,pr.x,pr.y,gn),ar=Gt(pr.x,pr.y,ur.x,ur.y,gn);return[[Ln,Nn,hn.x,hn.y,pi.x,pi.y,at,an],[at,an,ar.x,ar.y,ur.x,ur.y,vt,$t]]}function Pe(Ln,Nn,$n,wn,nt,ze,vt,$t,gn){if(gn===0)return Ke([Ln,$n,nt,vt],[Nn,wn,ze,$t]);var at=tt(Ln,Nn,$n,wn,nt,ze,vt,$t,.5),an=__spreadArray(__spreadArray([],__read(at[0]),!1),[gn-1],!1),hn=__spreadArray(__spreadArray([],__read(at[1]),!1),[gn-1],!1);return Pe.apply(void 0,__spreadArray([],__read(an),!1))+Pe.apply(void 0,__spreadArray([],__read(hn),!1))}function Qe(Ln,Nn,$n,wn,nt,ze,vt,$t){for(var gn=[Ln,vt],at=[Nn,$t],an=ln(Ln,$n,nt,vt),hn=ln(Nn,wn,ze,$t),pr=0;pr<an.length;pr++)gn.push(Nt(Ln,$n,nt,vt,an[pr]));for(var pr=0;pr<hn.length;pr++)at.push(Nt(Nn,wn,ze,$t,hn[pr]));return j(gn,at)}function He(Ln,Nn,$n,wn,nt,ze,vt,$t){return Pe(Ln,Nn,$n,wn,nt,ze,vt,$t,3)}function _t(Ln,Nn,$n,wn,nt,ze,vt,$t,gn,at,an){return lt([Ln,$n,nt,vt],[Nn,wn,ze,$t],gn,at,Nt,an)}function Bt(Ln,Nn,$n,wn,nt,ze,vt,$t,gn,at,an){var hn=_t(Ln,Nn,$n,wn,nt,ze,vt,$t,gn,at,an);return ue(hn.x,hn.y,gn,at)}function At(Ln,Nn,$n,wn,nt,ze,vt,$t,gn){return{x:Nt(Ln,$n,nt,vt,gn),y:Nt(Nn,wn,ze,$t,gn)}}function Je(Ln,Nn,$n,wn,nt,ze,vt,$t,gn){var at=ft(Ln,$n,nt,vt,gn),an=ft(Nn,wn,ze,$t,gn);return q(Math.atan2(an,at))}function zt(Ln){for(var Nn=0,$n=[],wn=0;wn<Ln.length-1;wn++){var nt=Ln[wn],ze=Ln[wn+1],vt=ue(nt[0],nt[1],ze[0],ze[1]),$t={from:nt,to:ze,length:vt};$n.push($t),Nn+=vt}return{segments:$n,totalLength:Nn}}function mn(Ln){if(Ln.length<2)return 0;for(var Nn=0,$n=0;$n<Ln.length-1;$n++){var wn=Ln[$n],nt=Ln[$n+1];Nn+=ue(wn[0],wn[1],nt[0],nt[1])}return Nn}function Ot(Ln,Nn){if(Nn>1||Nn<0||Ln.length<2)return null;var $n=zt(Ln),wn=$n.segments,nt=$n.totalLength;if(nt===0)return{x:Ln[0][0],y:Ln[0][1]};for(var ze=0,vt=null,$t=0;$t<wn.length;$t++){var gn=wn[$t],at=gn.from,an=gn.to,hn=gn.length/nt;if(Nn>=ze&&Nn<=ze+hn){var pr=(Nn-ze)/hn;vt=Gt(at[0],at[1],an[0],an[1],pr);break}ze+=hn}return vt}function Xe(Ln,Nn){if(Nn>1||Nn<0||Ln.length<2)return 0;for(var $n=zt(Ln),wn=$n.segments,nt=$n.totalLength,ze=0,vt=0,$t=0;$t<wn.length;$t++){var gn=wn[$t],at=gn.from,an=gn.to,hn=gn.length/nt;if(Nn>=ze&&Nn<=ze+hn){vt=Math.atan2(an[1]-at[1],an[0]-at[0]);break}ze+=hn}return vt}function ct(Ln,Nn,$n){for(var wn=1/0,nt=0;nt<Ln.length-1;nt++){var ze=Ln[nt],vt=Ln[nt+1],$t=rn(ze[0],ze[1],vt[0],vt[1],Nn,$n);$t<wn&&(wn=$t)}return wn}function Rt(Ln){for(var Nn=[],$n=[],wn=0;wn<Ln.length;wn++){var nt=Ln[wn];Nn.push(nt[0]),$n.push(nt[1])}return j(Nn,$n)}function Oe(Ln){return mn(Ln)}function Ge(Ln,Nn){return Ot(Ln,Nn)}function Vt(Ln,Nn,$n){return ct(Ln,Nn,$n)}function De(Ln,Nn){return Xe(Ln,Nn)}function et(Ln){var Nn=Ln.slice(0);return Ln.length&&Nn.push(Ln[0]),Nn}function Ce(Ln){return Rt(Ln)}function J(Ln){return mn(et(Ln))}function Le(Ln,Nn){return Ot(et(Ln),Nn)}function Jt(Ln,Nn,$n){return ct(et(Ln),Nn,$n)}function Be(Ln,Nn){return Xe(et(Ln),Nn)}function In(Ln,Nn,$n,wn){var nt=1-wn;return nt*nt*Ln+2*wn*nt*Nn+wn*wn*$n}function cr(Ln,Nn,$n){var wn=Ln+$n-2*Nn;if((0,B.Z)(wn,0))return[.5];var nt=(Ln-Nn)/wn;return nt<=1&&nt>=0?[nt]:[]}function bn(Ln,Nn,$n,wn,nt,ze,vt){var $t=In(Ln,$n,nt,vt),gn=In(Nn,wn,ze,vt),at=Gt(Ln,Nn,$n,wn,vt),an=Gt($n,wn,nt,ze,vt);return[[Ln,Nn,at.x,at.y,$t,gn],[$t,gn,an.x,an.y,nt,ze]]}function ir(Ln,Nn,$n,wn,nt,ze,vt){if(vt===0)return(ue(Ln,Nn,$n,wn)+ue($n,wn,nt,ze)+ue(Ln,Nn,nt,ze))/2;var $t=bn(Ln,Nn,$n,wn,nt,ze,.5),gn=$t[0],at=$t[1];return gn.push(vt-1),at.push(vt-1),ir.apply(void 0,__spreadArray([],__read(gn),!1))+ir.apply(void 0,__spreadArray([],__read(at),!1))}function Nr(Ln,Nn,$n,wn,nt,ze){var vt=cr(Ln,$n,nt)[0],$t=cr(Nn,wn,ze)[0],gn=[Ln,nt],at=[Nn,ze];return vt!==void 0&&gn.push(In(Ln,$n,nt,vt)),$t!==void 0&&at.push(In(Nn,wn,ze,$t)),j(gn,at)}function Ar(Ln,Nn,$n,wn,nt,ze){return ir(Ln,Nn,$n,wn,nt,ze,3)}function Zr(Ln,Nn,$n,wn,nt,ze,vt,$t){return lt([Ln,$n,nt],[Nn,wn,ze],vt,$t,In)}function wi(Ln,Nn,$n,wn,nt,ze,vt,$t){var gn=Zr(Ln,Nn,$n,wn,nt,ze,vt,$t);return ue(gn.x,gn.y,vt,$t)}},30223:function(cn,Ne,A){"use strict";A.d(Ne,{S:function(){return ie}});var w=A(98037),B=A(73779),ne=A(71374),ue=A(76082),j=A(45675),q=A(20),Y=A(69501),K=A(81517),H=A(73218);var ae=function(){function le(se){(0,B.Z)(this,le),this.dragndropPluginOptions=se}return(0,ne.Z)(le,[{key:"apply",value:function(ge){var ye=this,ve=ge.renderingService,fe=ge.renderingContext,Fe=fe.root.ownerDocument,yt=Fe.defaultView,gt=function(lt){var Ke=lt.target,Ue=Ke===Fe,Pt=Ue&&ye.dragndropPluginOptions.isDocumentDraggable?Fe:Ke.closest&&Ke.closest("[draggable=true]");if(Pt){var Gt=!1,rn=lt.timeStamp,_n=[lt.clientX,lt.clientY],qe=null,Nt=[lt.clientX,lt.clientY],ft=function(){var tt=(0,K.Z)((0,Y.Z)().mark(function Pe(Qe){var He,_t,Bt,At,Je,zt;return(0,Y.Z)().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(Gt){Ot.next=8;break}if(He=Qe.timeStamp-rn,_t=(0,H.y)([Qe.clientX,Qe.clientY],_n),!(He<=ye.dragndropPluginOptions.dragstartTimeThreshold||_t<=ye.dragndropPluginOptions.dragstartDistanceThreshold)){Ot.next=5;break}return Ot.abrupt("return");case 5:Qe.type="dragstart",Pt.dispatchEvent(Qe),Gt=!0;case 8:if(Qe.type="drag",Qe.dx=Qe.clientX-Nt[0],Qe.dy=Qe.clientY-Nt[1],Pt.dispatchEvent(Qe),Nt=[Qe.clientX,Qe.clientY],Ue){Ot.next=21;break}return Bt=ye.dragndropPluginOptions.overlap==="pointer"?[Qe.canvasX,Qe.canvasY]:Ke.getBounds().center,Ot.next=17,Fe.elementsFromPoint(Bt[0],Bt[1]);case 17:At=Ot.sent,Je=At[At.indexOf(Ke)+1],zt=(Je==null?void 0:Je.closest("[droppable=true]"))||(ye.dragndropPluginOptions.isDocumentDroppable?Fe:null),qe!==zt&&(qe&&(Qe.type="dragleave",Qe.target=qe,qe.dispatchEvent(Qe)),zt&&(Qe.type="dragenter",Qe.target=zt,zt.dispatchEvent(Qe)),qe=zt,qe&&(Qe.type="dragover",Qe.target=qe,qe.dispatchEvent(Qe)));case 21:case"end":return Ot.stop()}},Pe)}));return function(Qe){return tt.apply(this,arguments)}}();yt.addEventListener("pointermove",ft);var ln=function(Pe){if(Gt){Pe.detail={preventClick:!0};var Qe=Pe.clone();qe&&(Qe.type="drop",Qe.target=qe,qe.dispatchEvent(Qe)),Qe.type="dragend",Pt.dispatchEvent(Qe),Gt=!1}yt.removeEventListener("pointermove",ft)};Ke.addEventListener("pointerup",ln,{once:!0}),Ke.addEventListener("pointerupoutside",ln,{once:!0})}};ve.hooks.init.tap(le.tag,function(){yt.addEventListener("pointerdown",gt)}),ve.hooks.destroy.tap(le.tag,function(){yt.removeEventListener("pointerdown",gt)})}}])}();ae.tag="Dragndrop";var ie=function(le){function se(){var ge,ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,B.Z)(this,se),ge=(0,ue.Z)(this,se),ge.name="dragndrop",ge.options=ye,ge}return(0,j.Z)(se,le),(0,ne.Z)(se,[{key:"init",value:function(){this.addRenderingPlugin(new ae((0,w.Z)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(ye){Object.assign(this.plugins[0].dragndropPluginOptions,ye)}}])}(q.F6)},95198:function(cn,Ne,A){"use strict";A.d(Ne,{mN:function(){return w.mN},ux:function(){return w.ux},Xz:function(){return w.Xz},$6:function(){return w.$6},Cd:function(){return w.Cd},b_:function(){return w.b_},Aw:function(){return w.Aw},s$:function(){return w.s$},BB:function(){return w.BB},Dk:function(){return w.Dk},Pj:function(){return w.Pj},nR:function(){return w.nR},ZA:function(){return w.ZA},k9:function(){return w.k9},Ee:function(){return w.Ee},x1:function(){return w.x1},y$:function(){return w.y$},mg:function(){return w.mg},aH:function(){return w.aH},h0:function(){return w.h0},UL:function(){return w.UL},bn:function(){return w.bn},xv:function(){return w.xv},YR:function(){return w.YR},lu:function(){return w.lu},BV:function(){return w.BV},GZ:function(){return w.GZ}});var w=A(20),B=A(73779),ne=A(71374),ue=A(76082),j=A(45675),q=A(43706),Y=A(22355),K=A(26588),H=A(39536),ae=A(54442);var ie=function(Ut){function Yt(){var Xt;(0,B.Z)(this,Yt);for(var jt=arguments.length,fr=new Array(jt),vr=0;vr<jt;vr++)fr[vr]=arguments[vr];return Xt=(0,ue.Z)(this,Yt,[].concat(fr)),Xt.landmarks=[],Xt}return(0,j.Z)(Yt,Ut),(0,ne.Z)(Yt,[{key:"rotate",value:function(jt,fr,vr){if(this.relElevation=(0,w._O)(fr),this.relAzimuth=(0,w._O)(jt),this.relRoll=(0,w._O)(vr),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===w.iM.EXPLORING){var yr=K.yY(K.Ue(),[1,0,0],(0,w.Vl)((this.rotateWorld?1:-1)*this.relElevation)),Br=K.yY(K.Ue(),[0,1,0],(0,w.Vl)((this.rotateWorld?1:-1)*this.relAzimuth)),Gi=K.yY(K.Ue(),[0,0,1],(0,w.Vl)(this.relRoll)),qi=K.Jp(K.Ue(),Br,yr);qi=K.Jp(K.Ue(),qi,Gi);var $i=H.fromQuat(H.create(),qi);H.translate(this.matrix,this.matrix,[0,0,-this.distance]),H.multiply(this.matrix,this.matrix,$i),H.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===w.iM.ORBITING||this.type===w.iM.EXPLORING?this._getPosition():this.type===w.iM.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(jt,fr){var vr=(0,w.O4)(jt,fr,0),yr=ae.d9(this.position);return ae.IH(yr,yr,ae.bA(ae.Ue(),this.right,vr[0])),ae.IH(yr,yr,ae.bA(ae.Ue(),this.up,vr[1])),this._setPosition(yr),this.triggerUpdate(),this}},{key:"dolly",value:function(jt){var fr=this.forward,vr=ae.d9(this.position),yr=jt*this.dollyingStep,Br=this.distance+jt*this.dollyingStep;return yr=Math.max(Math.min(Br,this.maxDistance),this.minDistance)-this.distance,vr[0]+=yr*fr[0],vr[1]+=yr*fr[1],vr[2]+=yr*fr[2],this._setPosition(vr),this.type===w.iM.ORBITING||this.type===w.iM.EXPLORING?this._getDistance():this.type===w.iM.TRACKING&&ae.IH(this.focalPoint,vr,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(jt){var fr,vr,yr,Br,Gi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qi=Gi.position,$i=qi===void 0?this.position:qi,Wi=Gi.focalPoint,Ii=Wi===void 0?this.focalPoint:Wi,Qa=Gi.roll,on=Gi.zoom,dn=new w.GZ.CameraContribution;dn.setType(this.type,void 0),dn.setPosition($i[0],(fr=$i[1])!==null&&fr!==void 0?fr:this.position[1],(vr=$i[2])!==null&&vr!==void 0?vr:this.position[2]),dn.setFocalPoint(Ii[0],(yr=Ii[1])!==null&&yr!==void 0?yr:this.focalPoint[1],(Br=Ii[2])!==null&&Br!==void 0?Br:this.focalPoint[2]),dn.setRoll(Qa!=null?Qa:this.roll),dn.setZoom(on!=null?on:this.zoom);var jn={name:jt,matrix:H.clone(dn.getWorldTransform()),right:ae.d9(dn.right),up:ae.d9(dn.up),forward:ae.d9(dn.forward),position:ae.d9(dn.getPosition()),focalPoint:ae.d9(dn.getFocalPoint()),distanceVector:ae.d9(dn.getDistanceVector()),distance:dn.getDistance(),dollyingStep:dn.getDollyingStep(),azimuth:dn.getAzimuth(),elevation:dn.getElevation(),roll:dn.getRoll(),relAzimuth:dn.relAzimuth,relElevation:dn.relElevation,relRoll:dn.relRoll,zoom:dn.getZoom()};return this.landmarks.push(jn),jn}},{key:"gotoLandmark",value:function(jt){var fr=this,vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yr=(0,q.Z)(jt)?this.landmarks.find(function(ui){return ui.name===jt}):jt;if(yr){var Br=(0,Y.Z)(vr)?{duration:vr}:vr,Gi=Br.easing,qi=Gi===void 0?"linear":Gi,$i=Br.duration,Wi=$i===void 0?100:$i,Ii=Br.easingFunction,Qa=Ii===void 0?void 0:Ii,on=Br.onfinish,dn=on===void 0?void 0:on,jn=Br.onframe,Ur=jn===void 0?void 0:jn,Yr=.01;this.cancelLandmarkAnimation();var Et=yr.position,Ct=yr.focalPoint,xn=yr.zoom,Xn=yr.roll,mt=Qa||w.GZ.EasingFunction(qi),vn,tr=function(){fr.setFocalPoint(Ct),fr.setPosition(Et),fr.setRoll(Xn),fr.setZoom(xn),fr.computeMatrix(),fr.triggerUpdate(),dn==null||dn()};if(Wi===0)return tr();var Mr=function(Ri){vn===void 0&&(vn=Ri);var Aa=Ri-vn;if(Aa>=Wi){tr();return}var Ga=mt(Aa/Wi),vo=ae.Ue(),To=ae.Ue(),Po=1,ds=0;ae.t7(vo,fr.focalPoint,Ct,Ga),ae.t7(To,fr.position,Et,Ga),ds=fr.roll*(1-Ga)+Xn*Ga,Po=fr.zoom*(1-Ga)+xn*Ga,fr.setFocalPoint(vo),fr.setPosition(To),fr.setRoll(ds),fr.setZoom(Po);var Za=ae.TK(vo,Ct)+ae.TK(To,Et);if(Za<=Yr&&xn===void 0&&Xn===void 0)return tr();fr.computeMatrix(),fr.triggerUpdate(),Aa<Wi&&(Ur==null||Ur(Ga),fr.landmarkAnimationID=fr.canvas.requestAnimationFrame(Mr))};this.canvas.requestAnimationFrame(Mr)}}}])}(w.V1);w.GZ.CameraContribution=ie;var le=null,se=0,ge=new WeakMap,ye=null,ve=null,fe,Fe;function yt(Ut,Yt){return fe=new le(Ut,Yt)}function gt(Ut){return Fe||(Fe=le.copy(fe),Fe.oldValue=Ut,Fe)}function pt(){fe=Fe=void 0}function lt(Ut){return Ut===Fe||Ut===fe}function Ke(Ut,Yt){return Ut===Yt?Ut:Fe&&lt(Ut)?Fe:null}function Ue(Ut){Ut.nodes.forEach(function(Yt){var Xt=ge.get(Yt);Xt&&Xt.forEach(function(jt){jt.observer===Ut&&jt.removeTransientObservers()})})}function Pt(Ut,Yt){for(var Xt=Ut;Xt;Xt=Xt.parentNode){var jt=ge.get(Xt);if(jt)for(var fr=0;fr<jt.length;fr++){var vr=jt[fr],yr=vr.options;if(!(Xt!==Ut&&!yr.subtree)){var Br=Yt(yr);Br&&vr.enqueue(Br)}}}}var Gt=!1,rn=null;function _n(Ut){rn.push(Ut),Gt||(Gt=!0,typeof runtime.globalThis!="undefined"?runtime.globalThis.setTimeout(qe):qe())}function qe(){Gt=!1;var Ut=rn;rn=[],Ut.sort(function(Xt,jt){return Xt.uid-jt.uid});var Yt=!1;Ut.forEach(function(Xt){var jt=Xt.takeRecords();Ue(Xt),jt.length&&(Xt.callback(jt,Xt),Yt=!0)}),Yt&&qe()}var Nt=A(35047),ft=A(99459),ln=A(63777),tt=A(54663);var Pe=function(Ut){function Yt(Xt,jt,fr,vr){var yr;return(0,B.Z)(this,Yt),yr=(0,ue.Z)(this,Yt,[Xt]),yr.currentTime=fr,yr.timelineTime=vr,yr.target=jt,yr.type="finish",yr.bubbles=!1,yr.currentTarget=jt,yr.defaultPrevented=!1,yr.eventPhase=yr.AT_TARGET,yr.timeStamp=Date.now(),yr.currentTime=fr,yr.timelineTime=vr,yr}return(0,j.Z)(Yt,Ut),(0,ne.Z)(Yt)}(w.xA),Qe=0,He=function(){function Ut(Yt,Xt){var jt;(0,B.Z)(this,Ut),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=Yt,Yt.animation=this,this.timeline=Xt,this.id="".concat(Qe++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((jt=this.effect)===null||jt===void 0?void 0:jt.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return(0,ne.Z)(Ut,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var Xt=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(jt,fr){Xt.resolveReadyPromise=function(){jt(Xt)},Xt.rejectReadyPromise=function(){fr(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var Xt=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(jt,fr){Xt.resolveFinishedPromise=function(){jt(Xt)},Xt.rejectFinishedPromise=function(){fr(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(Xt){if(Xt=Number(Xt),!isNaN(Xt)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var jt;this._startTime=Number((jt=this.timeline)===null||jt===void 0?void 0:jt.currentTime)-Xt/this.playbackRate}this.currentTimePending=!1,this._currentTime!==Xt&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(Xt,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(Xt){if(Xt!==null){if(this.updatePromises(),Xt=Number(Xt),isNaN(Xt)||this._paused||this._idle)return;this._startTime=Xt,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(Xt){if(Xt!==this._playbackRate){this.updatePromises();var jt=this.currentTime;this._playbackRate=Xt,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),jt!==null&&(this.currentTime=jt),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var Xt=this.oldPlayState,jt=this.pending?"pending":this.playState;return this.readyPromise&&jt!==Xt&&(jt==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):Xt==="pending"?this.resolveReadyPromise():jt==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&jt!==Xt&&(jt==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):jt==="finished"?this.resolveFinishedPromise():Xt==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=jt,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var Xt=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var jt=new Pe(null,this,this.currentTime,null);setTimeout(function(){Xt.oncancel(jt)})}}},{key:"reverse",value:function(){this.updatePromises();var Xt=this.currentTime;this.playbackRate*=-1,this.play(),Xt!==null&&(this.currentTime=Xt),this.updatePromises()}},{key:"updatePlaybackRate",value:function(Xt){this.playbackRate=Xt}},{key:"targetAnimations",value:function(){var Xt,jt=(Xt=this.effect)===null||Xt===void 0?void 0:Xt.target;return jt.getAnimations()}},{key:"markTarget",value:function(){var Xt=this.targetAnimations();Xt.indexOf(this)===-1&&Xt.push(this)}},{key:"unmarkTarget",value:function(){var Xt=this.targetAnimations(),jt=Xt.indexOf(this);jt!==-1&&Xt.splice(jt,1)}},{key:"tick",value:function(Xt,jt){!this._idle&&!this._paused&&(this._startTime===null?jt&&(this.startTime=Xt-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((Xt-this._startTime)*this.playbackRate)),jt&&(this.currentTimePending=!1,this.fireEvents(Xt))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(w.jf)}},{key:"addEventListener",value:function(Xt,jt,fr){throw new Error(w.jf)}},{key:"removeEventListener",value:function(Xt,jt,fr){throw new Error(w.jf)}},{key:"dispatchEvent",value:function(Xt){throw new Error(w.jf)}},{key:"commitStyles",value:function(){throw new Error(w.jf)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var Xt;this._inEffect=!!((Xt=this.effect)!==null&&Xt!==void 0&&Xt.update(-1))}else{var jt;this._inEffect=!!((jt=this.effect)!==null&&jt!==void 0&&jt.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(Xt,jt){Xt!==this._currentTime&&(this._currentTime=Xt,this._isFinished&&!jt&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(Xt){var jt=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var fr=new Pe(null,this,this.currentTime,Xt);setTimeout(function(){jt.onfinish&&jt.onfinish(fr)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var vr=new Pe(null,this,this.currentTime,Xt);this.onframe(vr)}this._finishedFlag=!1}}}])}(),_t=4,Bt=.001,At=1e-7,Je=10,zt=11,mn=1/(zt-1),Ot=typeof Float32Array=="function",Xe=function(Yt,Xt){return 1-3*Xt+3*Yt},ct=function(Yt,Xt){return 3*Xt-6*Yt},Rt=function(Yt){return 3*Yt},Oe=function(Yt,Xt,jt){return((Xe(Xt,jt)*Yt+ct(Xt,jt))*Yt+Rt(Xt))*Yt},Ge=function(Yt,Xt,jt){return 3*Xe(Xt,jt)*Yt*Yt+2*ct(Xt,jt)*Yt+Rt(Xt)},Vt=function(Yt,Xt,jt,fr,vr){var yr,Br,Gi=0;do Br=Xt+(jt-Xt)/2,yr=Oe(Br,fr,vr)-Yt,yr>0?jt=Br:Xt=Br;while(Math.abs(yr)>At&&++Gi<Je);return Br},De=function(Yt,Xt,jt,fr){for(var vr=0;vr<_t;++vr){var yr=Ge(Xt,jt,fr);if(yr===0)return Xt;var Br=Oe(Xt,jt,fr)-Yt;Xt-=Br/yr}return Xt},et=function(Yt,Xt,jt,fr){if(!(Yt>=0&&Yt<=1&&jt>=0&&jt<=1))throw new Error("bezier x values must be in [0, 1] range");if(Yt===Xt&&jt===fr)return function(Gi){return Gi};for(var vr=Ot?new Float32Array(zt):new Array(zt),yr=0;yr<zt;++yr)vr[yr]=Oe(yr*mn,Yt,jt);var Br=function(qi){for(var $i=0,Wi=1,Ii=zt-1;Wi!==Ii&&vr[Wi]<=qi;++Wi)$i+=mn;--Wi;var Qa=(qi-vr[Wi])/(vr[Wi+1]-vr[Wi]),on=$i+Qa*mn,dn=Ge(on,Yt,jt);return dn>=Bt?De(qi,on,Yt,jt):dn===0?on:Vt(qi,$i,$i+mn,Yt,jt)};return function(Gi){return Gi===0||Gi===1?Gi:Oe(Br(Gi),Xt,fr)}},Ce=function(Yt){return Yt=Yt.replace(/([A-Z])/g,function(Xt){return"-".concat(Xt.toLowerCase())}),Yt.charAt(0)==="-"?Yt.substring(1):Yt},J=function(Yt){return Math.pow(Yt,2)},Le=function(Yt){return Math.pow(Yt,3)},Jt=function(Yt){return Math.pow(Yt,4)},Be=function(Yt){return Math.pow(Yt,5)},In=function(Yt){return Math.pow(Yt,6)},cr=function(Yt){return 1-Math.cos(Yt*Math.PI/2)},bn=function(Yt){return 1-Math.sqrt(1-Yt*Yt)},ir=function(Yt){return Yt*Yt*(3*Yt-2)},Nr=function(Yt){for(var Xt,jt=4;Yt<((Xt=Math.pow(2,--jt))-1)/11;);return 1/Math.pow(4,3-jt)-7.5625*Math.pow((Xt*3-2)/22-Yt,2)},Ar=function(Yt){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],jt=(0,ft.Z)(Xt,2),fr=jt[0],vr=fr===void 0?1:fr,yr=jt[1],Br=yr===void 0?.5:yr,Gi=(0,ln.Z)(Number(vr),1,10),qi=(0,ln.Z)(Number(Br),.1,2);return Yt===0||Yt===1?Yt:-Gi*Math.pow(2,10*(Yt-1))*Math.sin((Yt-1-qi/(Math.PI*2)*Math.asin(1/Gi))*(Math.PI*2)/qi)},Zr=function(Yt){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],jt=arguments.length>2?arguments[2]:void 0,fr=(0,ft.Z)(Xt,4),vr=fr[0],yr=vr===void 0?1:vr,Br=fr[1],Gi=Br===void 0?100:Br,qi=fr[2],$i=qi===void 0?10:qi,Wi=fr[3],Ii=Wi===void 0?0:Wi;yr=(0,ln.Z)(yr,.1,1e3),Gi=(0,ln.Z)(Gi,.1,1e3),$i=(0,ln.Z)($i,.1,1e3),Ii=(0,ln.Z)(Ii,.1,1e3);var Qa=Math.sqrt(Gi/yr),on=$i/(2*Math.sqrt(Gi*yr)),dn=on<1?Qa*Math.sqrt(1-on*on):0,jn=1,Ur=on<1?(on*Qa+-Ii)/dn:-Ii+Qa,Yr=jt?jt*Yt/1e3:Yt;return on<1?Yr=Math.exp(-Yr*on*Qa)*(jn*Math.cos(dn*Yr)+Ur*Math.sin(dn*Yr)):Yr=(jn+Ur*Yr)*Math.exp(-Yr*Qa),Yt===0||Yt===1?Yt:1-Yr},wi=function(Yt){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],jt=Xt,fr=(0,ft.Z)(jt,2),vr=fr[0],yr=vr===void 0?10:vr,Br=fr[1],Gi=Br==="start"?Math.ceil:Math.floor;return Gi((0,ln.Z)(Yt,0,1)*yr)/yr},Ln=function(Yt){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],jt=(0,ft.Z)(Xt,4),fr=jt[0],vr=jt[1],yr=jt[2],Br=jt[3];return et(fr,vr,yr,Br)(Yt)},Nn=et(.42,0,1,1),$n=function(Yt){return function(Xt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],fr=arguments.length>2?arguments[2]:void 0;return 1-Yt(1-Xt,jt,fr)}},wn=function(Yt){return function(Xt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],fr=arguments.length>2?arguments[2]:void 0;return Xt<.5?Yt(Xt*2,jt,fr)/2:1-Yt(Xt*-2+2,jt,fr)/2}},nt=function(Yt){return function(Xt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],fr=arguments.length>2?arguments[2]:void 0;return Xt<.5?(1-Yt(1-Xt*2,jt,fr))/2:(Yt(Xt*2-1,jt,fr)+1)/2}},ze={steps:wi,"step-start":function(Yt){return wi(Yt,[1,"start"])},"step-end":function(Yt){return wi(Yt,[1,"end"])},linear:function(Yt){return Yt},"cubic-bezier":Ln,ease:function(Yt){return Ln(Yt,[.25,.1,.25,1])},in:Nn,out:$n(Nn),"in-out":wn(Nn),"out-in":nt(Nn),"in-quad":J,"out-quad":$n(J),"in-out-quad":wn(J),"out-in-quad":nt(J),"in-cubic":Le,"out-cubic":$n(Le),"in-out-cubic":wn(Le),"out-in-cubic":nt(Le),"in-quart":Jt,"out-quart":$n(Jt),"in-out-quart":wn(Jt),"out-in-quart":nt(Jt),"in-quint":Be,"out-quint":$n(Be),"in-out-quint":wn(Be),"out-in-quint":nt(Be),"in-expo":In,"out-expo":$n(In),"in-out-expo":wn(In),"out-in-expo":nt(In),"in-sine":cr,"out-sine":$n(cr),"in-out-sine":wn(cr),"out-in-sine":nt(cr),"in-circ":bn,"out-circ":$n(bn),"in-out-circ":wn(bn),"out-in-circ":nt(bn),"in-back":ir,"out-back":$n(ir),"in-out-back":wn(ir),"out-in-back":nt(ir),"in-bounce":Nr,"out-bounce":$n(Nr),"in-out-bounce":wn(Nr),"out-in-bounce":nt(Nr),"in-elastic":Ar,"out-elastic":$n(Ar),"in-out-elastic":wn(Ar),"out-in-elastic":nt(Ar),spring:Zr,"spring-in":Zr,"spring-out":$n(Zr),"spring-in-out":wn(Zr),"spring-out-in":nt(Zr)},vt=function(Yt){return Ce(Yt).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},$t=function(Yt){return ze[vt(Yt)]||ze.linear},gn=function(Yt){return Yt},at=1,an=.5,hn=0;function pr(Ut,Yt){return function(Xt){if(Xt>=1)return 1;var jt=1/Ut;return Xt+=Yt*jt,Xt-Xt%jt}}var ur="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",pi=new RegExp("cubic-bezier\\(".concat(ur,",").concat(ur,",").concat(ur,",").concat(ur,"\\)")),ar=/steps\(\s*(\d+)\s*\)/,di=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function sa(Ut){var Yt=pi.exec(Ut);if(Yt)return et.apply(void 0,(0,Nt.Z)(Yt.slice(1).map(Number)));var Xt=ar.exec(Ut);if(Xt)return pr(Number(Xt[1]),hn);var jt=di.exec(Ut);return jt?pr(Number(jt[1]),{start:at,middle:an,end:hn}[jt[2]]):$t(Ut)}function xa(Ut){return Math.abs(za(Ut)/(Ut.playbackRate||1))}function za(Ut){var Yt;return Ut.duration===0||Ut.iterations===0?0:(Ut.duration==="auto"?0:Number(Ut.duration))*((Yt=Ut.iterations)!==null&&Yt!==void 0?Yt:1)}var Ui=0,Ao=1,fs=2,cs=3;function ra(Ut,Yt,Xt){if(Yt===null)return Ui;var jt=Xt.endTime;return Yt<Math.min(Xt.delay,jt)?Ao:Yt>=Math.min(Xt.delay+Ut+Xt.endDelay,jt)?fs:cs}function ms(Ut,Yt,Xt,jt,fr){switch(jt){case Ao:return Yt==="backwards"||Yt==="both"?0:null;case cs:return Xt-fr;case fs:return Yt==="forwards"||Yt==="both"?Ut:null;case Ui:return null}}function xi(Ut,Yt,Xt,jt,fr){var vr=fr;return Ut===0?Yt!==Ao&&(vr+=Xt):vr+=jt/Ut,vr}function Gn(Ut,Yt,Xt,jt,fr,vr){var yr=Ut===1/0?Yt%1:Ut%1;return yr===0&&Xt===fs&&jt!==0&&(fr!==0||vr===0)&&(yr=1),yr}function _e(Ut,Yt,Xt,jt){return Ut===fs&&Yt===1/0?1/0:Xt===1?Math.floor(jt)-1:Math.floor(jt)}function oi(Ut,Yt,Xt){var jt=Ut;if(Ut!=="normal"&&Ut!=="reverse"){var fr=Yt;Ut==="alternate-reverse"&&(fr+=1),jt="normal",fr!==1/0&&fr%2!==0&&(jt="reverse")}return jt==="normal"?Xt:1-Xt}function Ka(Ut,Yt,Xt){var jt=ra(Ut,Yt,Xt),fr=ms(Ut,Xt.fill,Yt,jt,Xt.delay);if(fr===null)return null;var vr=Xt.duration==="auto"?0:Xt.duration,yr=xi(vr,jt,Xt.iterations,fr,Xt.iterationStart),Br=Gn(yr,Xt.iterationStart,jt,Xt.iterations,fr,vr),Gi=_e(jt,Xt.iterations,Br,yr),qi=oi(Xt.direction,Gi,Br);return Xt.currentIteration=Gi,Xt.progress=qi,Xt.easingFunction(qi)}function Cn(Ut,Yt,Xt){var jt=tn(Ut,Yt),fr=It(jt,Xt);return function(vr,yr){if(yr!==null)fr.filter(function(Gi){return yr>=Gi.applyFrom&&yr<Gi.applyTo}).forEach(function(Gi){var qi=yr-Gi.startOffset,$i=Gi.endOffset-Gi.startOffset,Wi=$i===0?0:qi/$i;vr.setAttribute(Gi.property,Gi.interpolation(Wi),!1,!1)});else for(var Br in jt)Un(Br)&&vr.setAttribute(Br,null)}}function Un(Ut){return Ut!=="offset"&&Ut!=="easing"&&Ut!=="composite"&&Ut!=="computedOffset"}function tn(Ut,Yt){for(var Xt={},jt=0;jt<Ut.length;jt++)for(var fr in Ut[jt])if(Un(fr)){var vr={offset:Ut[jt].offset,computedOffset:Ut[jt].computedOffset,easing:Ut[jt].easing,easingFunction:sa(Ut[jt].easing)||Yt.easingFunction,value:Ut[jt][fr]};Xt[fr]=Xt[fr]||[],Xt[fr].push(vr)}return Xt}function It(Ut,Yt){var Xt=[];for(var jt in Ut)for(var fr=Ut[jt],vr=0;vr<fr.length-1;vr++){var yr=vr,Br=vr+1,Gi=fr[yr].computedOffset,qi=fr[Br].computedOffset,$i=Gi,Wi=qi;vr===0&&($i=-1/0,qi===0&&(Br=yr)),vr===fr.length-2&&(Wi=1/0,Gi===1&&(yr=Br)),Xt.push({applyFrom:$i,applyTo:Wi,startOffset:fr[yr].computedOffset,endOffset:fr[Br].computedOffset,easingFunction:fr[yr].easingFunction,property:jt,interpolation:$e(jt,fr[yr].value,fr[Br].value,Yt)})}return Xt.sort(function(Ii,Qa){return Ii.startOffset-Qa.startOffset}),Xt}var Zt=function(Yt,Xt,jt){return function(fr){var vr=Bn(Yt,Xt,fr);return(0,Y.Z)(vr)?vr:jt(vr)}};function $e(Ut,Yt,Xt,jt){var fr=w.N1[Ut];if(fr&&fr.syntax&&fr.int){var vr=w.GZ.styleValueRegistry.getPropertySyntax(fr.syntax);if(vr){var yr=vr.parser,Br=yr?yr(Yt,jt):Yt,Gi=yr?yr(Xt,jt):Xt,qi=vr.mixer(Br,Gi,jt);if(qi){var $i=Zt.apply(void 0,(0,Nt.Z)(qi));return function(Wi){return Wi===0?Yt:Wi===1?Xt:$i(Wi)}}}}return Zt(!1,!0,function(Wi){return Wi?Xt:Yt})}function Bn(Ut,Yt,Xt){if(typeof Ut=="number"&&typeof Yt=="number")return Ut*(1-Xt)+Yt*Xt;if(typeof Ut=="boolean"&&typeof Yt=="boolean"||typeof Ut=="string"&&typeof Yt=="string")return Xt<.5?Ut:Yt;if(Array.isArray(Ut)&&Array.isArray(Yt)){for(var jt=Ut.length,fr=Yt.length,vr=Math.max(jt,fr),yr=[],Br=0;Br<vr;Br++)yr.push(Bn(Ut[Br<jt?Br:jt-1],Yt[Br<fr?Br:fr-1],Xt));return yr}throw new Error("Mismatched interpolation arguments ".concat(Ut,":").concat(Yt))}var Yn=function(){function Ut(){(0,B.Z)(this,Ut),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=gn,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return(0,ne.Z)(Ut,[{key:"easing",get:function(){return this._easing},set:function(Xt){this.easingFunction=sa(Xt),this._easing=Xt}}])}();function or(Ut){var Yt=[];for(var Xt in Ut)if(!(Xt in["easing","offset","composite"])){var jt=Ut[Xt];Array.isArray(jt)||(jt=[jt]);for(var fr=jt.length,vr=0;vr<fr;vr++){if(!Yt[vr]){var yr={};"offset"in Ut&&(yr.offset=Number(Ut.offset)),"easing"in Ut&&(yr.easing=Ut.easing),"composite"in Ut&&(yr.composite=Ut.composite),Yt[vr]=yr}jt[vr]!==void 0&&jt[vr]!==null&&(Yt[vr][Xt]=jt[vr])}}return Yt.sort(function(Br,Gi){return(Br.computedOffset||0)-(Gi.computedOffset||0)}),Yt}function Ze(Ut,Yt){if(Ut===null)return[];Array.isArray(Ut)||(Ut=or(Ut));for(var Xt=Ut.map(function(Gi){var qi={};Yt!=null&&Yt.composite&&(qi.composite="auto");for(var $i in Gi){var Wi=Gi[$i];if($i==="offset"){if(Wi!==null){if(Wi=Number(Wi),!isFinite(Wi))throw new Error("Keyframe offsets must be numbers.");if(Wi<0||Wi>1)throw new Error("Keyframe offsets must be between 0 and 1.");qi.computedOffset=Wi}}else if($i==="composite"&&["replace","add","accumulate","auto"].indexOf(Wi)===-1)throw new Error("".concat(Wi," compositing is not supported"));qi[$i]=Wi}return qi.offset===void 0&&(qi.offset=null),qi.easing===void 0&&(qi.easing=(Yt==null?void 0:Yt.easing)||"linear"),qi.composite===void 0&&(qi.composite="auto"),qi}),jt=!0,fr=-1/0,vr=0;vr<Xt.length;vr++){var yr=Xt[vr].offset;if((0,tt.Z)(yr))jt=!1;else{if(yr<fr)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");fr=yr}}Xt=Xt.filter(function(Gi){return Number(Gi.offset)>=0&&Number(Gi.offset)<=1});function Br(){var Gi,qi=Xt,$i=qi.length;if(Xt[$i-1].computedOffset=Number((Gi=Xt[$i-1].offset)!==null&&Gi!==void 0?Gi:1),$i>1){var Wi;Xt[0].computedOffset=Number((Wi=Xt[0].offset)!==null&&Wi!==void 0?Wi:0)}for(var Ii=0,Qa=Number(Xt[0].computedOffset),on=1;on<$i;on++){var dn=Xt[on].computedOffset;if(!(0,tt.Z)(dn)&&!(0,tt.Z)(Qa)){for(var jn=1;jn<on-Ii;jn++)Xt[Ii+jn].computedOffset=Qa+(Number(dn)-Qa)*jn/(on-Ii);Ii=on,Qa=Number(dn)}}}return jt||Br(),Xt}var je="backwards|forwards|both|none".split("|"),st="reverse|alternate|alternate-reverse".split("|");function St(Ut,Yt){var Xt=new Yn;return Yt&&(Xt.fill="both",Xt.duration="auto"),typeof Ut=="number"&&!isNaN(Ut)?Xt.duration=Ut:Ut!==void 0&&Object.keys(Ut).forEach(function(jt){if(Ut[jt]!==void 0&&Ut[jt]!==null&&Ut[jt]!=="auto"){if((typeof Xt[jt]=="number"||jt==="duration")&&(typeof Ut[jt]!="number"||isNaN(Ut[jt]))||jt==="fill"&&je.indexOf(Ut[jt])===-1||jt==="direction"&&st.indexOf(Ut[jt])===-1)return;Xt[jt]=Ut[jt]}}),Xt}function En(Ut,Yt){var Xt;return Ut=fn((Xt=Ut)!==null&&Xt!==void 0?Xt:{duration:"auto"}),St(Ut,Yt)}function fn(Ut){return typeof Ut=="number"&&(isNaN(Ut)?Ut={duration:"auto"}:Ut={duration:Ut}),Ut}var sn=function(){function Ut(Yt,Xt,jt){var fr=this;(0,B.Z)(this,Ut),this.composite="replace",this.iterationComposite="replace",this.target=Yt,this.timing=En(jt,!1),this.timing.effect=this,this.timing.activeDuration=xa(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=Ze(Xt,this.timing),this.interpolations=Cn(this.normalizedKeyframes,this.timing,this.target);var vr=w.GZ.globalThis.Proxy;this.computedTiming=vr?new vr(this.timing,{get:function(Br,Gi){return Gi==="duration"?Br.duration==="auto"?0:Br.duration:Gi==="fill"?Br.fill==="auto"?"none":Br.fill:Gi==="localTime"?fr.animation&&fr.animation.currentTime||null:Gi==="currentIteration"?!fr.animation||fr.animation.playState!=="running"?null:Br.currentIteration||0:Gi==="progress"?!fr.animation||fr.animation.playState!=="running"?null:Br.progress||0:Br[Gi]},set:function(){return!0}}):this.timing}return(0,ne.Z)(Ut,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(Xt){return Xt===null?!1:(this.timeFraction=Ka(this.timing.activeDuration,Xt,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(Xt){this.normalizedKeyframes=Ze(Xt)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(Xt){var jt=this;Object.keys(Xt||{}).forEach(function(fr){jt.timing[fr]=Xt[fr]})}}])}();function Pn(Ut,Yt){return Number(Ut.id)-Number(Yt.id)}var Hn=function(){function Ut(Yt){var Xt=this;(0,B.Z)(this,Ut),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(jt){Xt.currentTime=jt,Xt.discardAnimations(),Xt.animations.length===0?Xt.timelineTicking=!1:Xt.requestAnimationFrame(Xt.webAnimationsNextTick)},this.processRafCallbacks=function(jt){var fr=Xt.rafCallbacks;Xt.rafCallbacks=[],jt<Number(Xt.currentTime)&&(jt=Number(Xt.currentTime)),Xt.animations.sort(Pn),Xt.animations=Xt.tick(jt,!0,Xt.animations)[0],fr.forEach(function(vr){vr[1](jt)}),Xt.applyPendingEffects()},this.document=Yt}return(0,ne.Z)(Ut,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(Xt,jt,fr){var vr=new sn(Xt,jt,fr),yr=new He(vr,this);return this.animations.push(yr),this.restartWebAnimationsNextTick(),yr.updatePromises(),yr.play(),yr.updatePromises(),yr}},{key:"applyDirtiedAnimation",value:function(Xt){var jt=this;if(!this.inTick){Xt.markTarget();var fr=Xt.targetAnimations();fr.sort(Pn);var vr=this.tick(Number(this.currentTime),!1,fr.slice())[1];vr.forEach(function(yr){var Br=jt.animations.indexOf(yr);Br!==-1&&jt.animations.splice(Br,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(Xt){Xt==null||Xt.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(Xt){return Xt.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(Xt){return Xt.playState!=="finished"&&Xt.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(Xt){var jt=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([jt,Xt]),jt}},{key:"requestAnimationFrame",value:function(Xt){var jt=this;return this.rAF(function(fr){jt.updateAnimationsPromises(),Xt(fr),jt.updateAnimationsPromises()})}},{key:"tick",value:function(Xt,jt,fr){var vr=this,yr,Br;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=Xt,this.ticking=!1;var Gi=[],qi=[],$i=[],Wi=[];return fr.forEach(function(Ii){Ii.tick(Xt,jt),Ii._inEffect?(qi.push(Ii.effect),Ii.markTarget()):(Gi.push(Ii.effect),Ii.unmarkTarget()),Ii._needsTick&&(vr.ticking=!0);var Qa=Ii._inEffect||Ii._needsTick;Ii._inTimeline=Qa,Qa?$i.push(Ii):Wi.push(Ii)}),(yr=this.pendingEffects).push.apply(yr,Gi),(Br=this.pendingEffects).push.apply(Br,qi),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[$i,Wi]}}])}();w.GZ.EasingFunction=sa,w.GZ.AnimationTimeline=Hn;},74355:function(cn){(function(A,w){cn.exports=w()})(typeof self!="undefined"?self:this,function(){return function(Ne){var A={};function w(B){if(A[B])return A[B].exports;var ne=A[B]={i:B,l:!1,exports:{}};return Ne[B].call(ne.exports,ne,ne.exports,w),ne.l=!0,ne.exports}return w.m=Ne,w.c=A,w.d=function(B,ne,ue){w.o(B,ne)||Object.defineProperty(B,ne,{configurable:!1,enumerable:!0,get:ue})},w.n=function(B){var ne=B&&B.__esModule?function(){return B.default}:function(){return B};return w.d(ne,"a",ne),ne},w.o=function(B,ne){return Object.prototype.hasOwnProperty.call(B,ne)},w.p="",w(w.s=5)}([function(Ne,A){function w(B,ne,ue,j){return j===void 0&&(j="height"),ue==="center"?(B[j]+ne[j])/2:B.height}Ne.exports={assign:Object.assign,getHeight:w}},function(Ne,A,w){var B=w(3),ne=function(){function ue(q,Y){Y===void 0&&(Y={});var K=this;K.options=Y,K.rootNode=B(q,Y)}var j=ue.prototype;return j.execute=function(){throw new Error("please override this method")},ue}();Ne.exports=ne},function(Ne,A,w){var B=w(4),ne=["LR","RL","TB","BT","H","V"],ue=["LR","RL","H"],j=function(H){return ue.indexOf(H)>-1},q=ne[0];Ne.exports=function(K,H,ae){var ie=H.direction||q;if(H.isHorizontal=j(ie),ie&&ne.indexOf(ie)===-1)throw new TypeError("Invalid direction: "+ie);if(ie===ne[0])ae(K,H);else if(ie===ne[1])ae(K,H),K.right2left();else if(ie===ne[2])ae(K,H);else if(ie===ne[3])ae(K,H),K.bottom2top();else if(ie===ne[4]||ie===ne[5]){var le=B(K,H),se=le.left,ge=le.right;ae(se,H),ae(ge,H),H.isHorizontal?se.right2left():se.bottom2top(),ge.translate(se.x-ge.x,se.y-ge.y),K.x=se.x,K.y=ge.y;var ye=K.getBoundingBox();H.isHorizontal?ye.top<0&&K.translate(0,-ye.top):ye.left<0&&K.translate(-ye.left,0)}var ve=H.fixedRoot;return ve===void 0&&(ve=!0),ve&&K.translate(-(K.x+K.width/2+K.hgap),-(K.y+K.height/2+K.vgap)),Y(K,H),K};function Y(K,H){if(H.radial){var ae=H.isHorizontal?["x","y"]:["y","x"],ie=ae[0],le=ae[1],se={x:1/0,y:1/0},ge={x:-1/0,y:-1/0},ye=0;K.DFTraverse(function(Fe){ye++;var yt=Fe.x,gt=Fe.y;se.x=Math.min(se.x,yt),se.y=Math.min(se.y,gt),ge.x=Math.max(ge.x,yt),ge.y=Math.max(ge.y,gt)});var ve=ge[le]-se[le];if(ve===0)return;var fe=Math.PI*2/ye;K.DFTraverse(function(Fe){var yt=(Fe[le]-se[le])/ve*(Math.PI*2-fe)+fe,gt=Fe[ie]-K[ie];Fe.x=Math.cos(yt)*gt,Fe.y=Math.sin(yt)*gt})}}},function(Ne,A,w){var B=w(0),ne=18,ue=ne*2,j=ne,q={getId:function(ae){return ae.id||ae.name},getPreH:function(ae){return ae.preH||0},getPreV:function(ae){return ae.preV||0},getHGap:function(ae){return ae.hgap||j},getVGap:function(ae){return ae.vgap||j},getChildren:function(ae){return ae.children},getHeight:function(ae){return ae.height||ue},getWidth:function(ae){var ie=ae.label||" ";return ae.width||ie.split("").length*ne}};function Y(H,ae){var ie=this;if(ie.vgap=ie.hgap=0,H instanceof Y)return H;ie.data=H;var le=ae.getHGap(H),se=ae.getVGap(H);return ie.preH=ae.getPreH(H),ie.preV=ae.getPreV(H),ie.width=ae.getWidth(H),ie.height=ae.getHeight(H),ie.width+=ie.preH,ie.height+=ie.preV,ie.id=ae.getId(H),ie.x=ie.y=0,ie.depth=0,ie.children||(ie.children=[]),ie.addGap(le,se),ie}B.assign(Y.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(ae,ie){var le=this;le.hgap+=ae,le.vgap+=ie,le.width+=2*ae,le.height+=2*ie},eachNode:function(ae){for(var ie=this,le=[ie],se;se=le.shift();)ae(se),le=se.children.concat(le)},DFTraverse:function(ae){this.eachNode(ae)},BFTraverse:function(ae){for(var ie=this,le=[ie],se;se=le.shift();)ae(se),le=le.concat(se.children)},getBoundingBox:function(){var ae={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(ie){ae.left=Math.min(ae.left,ie.x),ae.top=Math.min(ae.top,ie.y),ae.width=Math.max(ae.width,ie.x+ie.width),ae.height=Math.max(ae.height,ie.y+ie.height)}),ae},translate:function(ae,ie){ae===void 0&&(ae=0),ie===void 0&&(ie=0),this.eachNode(function(le){le.x+=ae,le.y+=ie,le.x+=le.preH,le.y+=le.preV})},right2left:function(){var ae=this,ie=ae.getBoundingBox();ae.eachNode(function(le){le.x=le.x-(le.x-ie.left)*2-le.width}),ae.translate(ie.width,0)},bottom2top:function(){var ae=this,ie=ae.getBoundingBox();ae.eachNode(function(le){le.y=le.y-(le.y-ie.top)*2-le.height}),ae.translate(0,ie.height)}});function K(H,ae,ie){ae===void 0&&(ae={}),ae=B.assign({},q,ae);var le=new Y(H,ae),se=[le],ge;if(!ie&&!H.collapsed){for(;ge=se.shift();)if(!ge.data.collapsed){var ye=ae.getChildren(ge.data),ve=ye?ye.length:0;if(ge.children=new Array(ve),ye&&ve)for(var fe=0;fe<ve;fe++){var Fe=new Y(ye[fe],ae);ge.children[fe]=Fe,se.push(Fe),Fe.parent=ge,Fe.depth=ge.depth+1}}}return le}Ne.exports=K},function(Ne,A,w){var B=w(3);Ne.exports=function(ne,ue){for(var j=B(ne.data,ue,!0),q=B(ne.data,ue,!0),Y=ne.children.length,K=Math.round(Y/2),H=ue.getSide||function(se,ge){return ge<K?"right":"left"},ae=0;ae<Y;ae++){var ie=ne.children[ae],le=H(ie,ae);le==="right"?q.children.push(ie):j.children.push(ie)}return j.eachNode(function(se){se.isRoot()||(se.side="left")}),q.eachNode(function(se){se.isRoot()||(se.side="right")}),{left:j,right:q}}},function(Ne,A,w){var B={compactBox:w(6),dendrogram:w(8),indented:w(10),mindmap:w(12)};Ne.exports=B},function(Ne,A,w){function B(ie,le){ie.prototype=Object.create(le.prototype),ie.prototype.constructor=ie,ne(ie,le)}function ne(ie,le){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ge){return se.__proto__=ge,se},ne(ie,le)}var ue=w(1),j=w(7),q=w(2),Y=w(0),K=function(ie){function le(){return ie.apply(this,arguments)||this}B(le,ie);var se=le.prototype;return se.execute=function(){var ye=this;return q(ye.rootNode,ye.options,j)},le}(ue),H={};function ae(ie,le){return le=Y.assign({},H,le),new K(ie,le).execute()}Ne.exports=ae},function(Ne,A){function w(Y,K,H,ae){ae===void 0&&(ae=[]);var ie=this;ie.w=Y||0,ie.h=K||0,ie.y=H||0,ie.x=0,ie.c=ae||[],ie.cs=ae.length,ie.prelim=0,ie.mod=0,ie.shift=0,ie.change=0,ie.tl=null,ie.tr=null,ie.el=null,ie.er=null,ie.msel=0,ie.mser=0}w.fromNode=function(Y,K){if(!Y)return null;var H=[];return Y.children.forEach(function(ae){H.push(w.fromNode(ae,K))}),K?new w(Y.height,Y.width,Y.x,H):new w(Y.width,Y.height,Y.y,H)};function B(Y,K,H){H?Y.y+=K:Y.x+=K,Y.children.forEach(function(ae){B(ae,K,H)})}function ne(Y,K){var H=K?Y.y:Y.x;return Y.children.forEach(function(ae){H=Math.min(ne(ae,K),H)}),H}function ue(Y,K){var H=ne(Y,K);B(Y,-H,K)}function j(Y,K,H){H?K.y=Y.x:K.x=Y.x,Y.c.forEach(function(ae,ie){j(ae,K.children[ie],H)})}function q(Y,K,H){H===void 0&&(H=0),K?(Y.x=H,H+=Y.width):(Y.y=H,H+=Y.height),Y.children.forEach(function(ae){q(ae,K,H)})}Ne.exports=function(Y,K){K===void 0&&(K={});var H=K.isHorizontal;function ae(Pt){if(Pt.cs===0){ie(Pt);return}ae(Pt.c[0]);for(var Gt=Ke(ve(Pt.c[0].el),0,null),rn=1;rn<Pt.cs;++rn){ae(Pt.c[rn]);var _n=ve(Pt.c[rn].er);le(Pt,rn,Gt),Gt=Ke(_n,rn,Gt)}yt(Pt),ie(Pt)}function ie(Pt){Pt.cs===0?(Pt.el=Pt,Pt.er=Pt,Pt.msel=Pt.mser=0):(Pt.el=Pt.c[0].el,Pt.msel=Pt.c[0].msel,Pt.er=Pt.c[Pt.cs-1].er,Pt.mser=Pt.c[Pt.cs-1].mser)}function le(Pt,Gt,rn){for(var _n=Pt.c[Gt-1],qe=_n.mod,Nt=Pt.c[Gt],ft=Nt.mod;_n!==null&&Nt!==null;){ve(_n)>rn.low&&(rn=rn.nxt);var ln=qe+_n.prelim+_n.w-(ft+Nt.prelim);ln>0&&(ft+=ln,se(Pt,Gt,rn.index,ln));var tt=ve(_n),Pe=ve(Nt);tt<=Pe&&(_n=ye(_n),_n!==null&&(qe+=_n.mod)),tt>=Pe&&(Nt=ge(Nt),Nt!==null&&(ft+=Nt.mod))}!_n&&Nt?fe(Pt,Gt,Nt,ft):_n&&!Nt&&Fe(Pt,Gt,_n,qe)}function se(Pt,Gt,rn,_n){Pt.c[Gt].mod+=_n,Pt.c[Gt].msel+=_n,Pt.c[Gt].mser+=_n,pt(Pt,Gt,rn,_n)}function ge(Pt){return Pt.cs===0?Pt.tl:Pt.c[0]}function ye(Pt){return Pt.cs===0?Pt.tr:Pt.c[Pt.cs-1]}function ve(Pt){return Pt.y+Pt.h}function fe(Pt,Gt,rn,_n){var qe=Pt.c[0].el;qe.tl=rn;var Nt=_n-rn.mod-Pt.c[0].msel;qe.mod+=Nt,qe.prelim-=Nt,Pt.c[0].el=Pt.c[Gt].el,Pt.c[0].msel=Pt.c[Gt].msel}function Fe(Pt,Gt,rn,_n){var qe=Pt.c[Gt].er;qe.tr=rn;var Nt=_n-rn.mod-Pt.c[Gt].mser;qe.mod+=Nt,qe.prelim-=Nt,Pt.c[Gt].er=Pt.c[Gt-1].er,Pt.c[Gt].mser=Pt.c[Gt-1].mser}function yt(Pt){Pt.prelim=(Pt.c[0].prelim+Pt.c[0].mod+Pt.c[Pt.cs-1].mod+Pt.c[Pt.cs-1].prelim+Pt.c[Pt.cs-1].w)/2-Pt.w/2}function gt(Pt,Gt){Gt+=Pt.mod,Pt.x=Pt.prelim+Gt,lt(Pt);for(var rn=0;rn<Pt.cs;rn++)gt(Pt.c[rn],Gt)}function pt(Pt,Gt,rn,_n){if(rn!==Gt-1){var qe=Gt-rn;Pt.c[rn+1].shift+=_n/qe,Pt.c[Gt].shift-=_n/qe,Pt.c[Gt].change-=_n-_n/qe}}function lt(Pt){for(var Gt=0,rn=0,_n=0;_n<Pt.cs;_n++)Gt+=Pt.c[_n].shift,rn+=Gt+Pt.c[_n].change,Pt.c[_n].mod+=rn}function Ke(Pt,Gt,rn){for(;rn!==null&&Pt>=rn.low;)rn=rn.nxt;return{low:Pt,index:Gt,nxt:rn}}q(Y,H);var Ue=w.fromNode(Y,H);return ae(Ue),gt(Ue,0),j(Ue,Y,H),ue(Y,H),Y}},function(Ne,A,w){function B(ie,le){ie.prototype=Object.create(le.prototype),ie.prototype.constructor=ie,ne(ie,le)}function ne(ie,le){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ge){return se.__proto__=ge,se},ne(ie,le)}var ue=w(1),j=w(9),q=w(2),Y=w(0),K=function(ie){function le(){return ie.apply(this,arguments)||this}B(le,ie);var se=le.prototype;return se.execute=function(){var ye=this;return ye.rootNode.width=0,q(ye.rootNode,ye.options,j)},le}(ue),H={};function ae(ie,le){return le=Y.assign({},H,le),new K(ie,le).execute()}Ne.exports=ae},function(Ne,A,w){var B=w(0);function ne(q,Y){q===void 0&&(q=0),Y===void 0&&(Y=[]);var K=this;K.x=K.y=0,K.leftChild=K.rightChild=null,K.height=0,K.children=Y}var ue={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function j(q,Y,K){K?(Y.x=q.x,Y.y=q.y):(Y.x=q.y,Y.y=q.x),q.children.forEach(function(H,ae){j(H,Y.children[ae],K)})}Ne.exports=function(q,Y){Y===void 0&&(Y={}),Y=B.assign({},ue,Y);var K=0;function H(ge){if(!ge)return null;ge.width=0,ge.depth&&ge.depth>K&&(K=ge.depth);var ye=ge.children,ve=ye.length,fe=new ne(ge.height,[]);return ye.forEach(function(Fe,yt){var gt=H(Fe);fe.children.push(gt),yt===0&&(fe.leftChild=gt),yt===ve-1&&(fe.rightChild=gt)}),fe.originNode=ge,fe.isLeaf=ge.isLeaf(),fe}function ae(ge){if(ge.isLeaf||ge.children.length===0)ge.drawingDepth=K;else{var ye=ge.children.map(function(fe){return ae(fe)}),ve=Math.min.apply(null,ye);ge.drawingDepth=ve-1}return ge.drawingDepth}var ie;function le(ge){ge.x=ge.drawingDepth*Y.rankSep,ge.isLeaf?(ge.y=0,ie&&(ge.y=ie.y+ie.height+Y.nodeSep,ge.originNode.parent!==ie.originNode.parent&&(ge.y+=Y.subTreeSep)),ie=ge):(ge.children.forEach(function(ye){le(ye)}),ge.y=(ge.leftChild.y+ge.rightChild.y)/2)}var se=H(q);return ae(se),le(se),j(se,q,Y.isHorizontal),q}},function(Ne,A,w){function B(se,ge){se.prototype=Object.create(ge.prototype),se.prototype.constructor=se,ne(se,ge)}function ne(se,ge){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,ve){return ye.__proto__=ve,ye},ne(se,ge)}var ue=w(1),j=w(11),q=w(4),Y=w(0),K=["LR","RL","H"],H=K[0],ae=function(se){function ge(){return se.apply(this,arguments)||this}B(ge,se);var ye=ge.prototype;return ye.execute=function(){var fe=this,Fe=fe.options,yt=fe.rootNode;Fe.isHorizontal=!0;var gt=Fe.indent,pt=gt===void 0?20:gt,lt=Fe.dropCap,Ke=lt===void 0?!0:lt,Ue=Fe.direction,Pt=Ue===void 0?H:Ue,Gt=Fe.align;if(Pt&&K.indexOf(Pt)===-1)throw new TypeError("Invalid direction: "+Pt);if(Pt===K[0])j(yt,pt,Ke,Gt);else if(Pt===K[1])j(yt,pt,Ke,Gt),yt.right2left();else if(Pt===K[2]){var rn=q(yt,Fe),_n=rn.left,qe=rn.right;j(_n,pt,Ke,Gt),_n.right2left(),j(qe,pt,Ke,Gt);var Nt=_n.getBoundingBox();qe.translate(Nt.width,0),yt.x=qe.x-yt.width/2}return yt},ge}(ue),ie={};function le(se,ge){return ge=Y.assign({},ie,ge),new ae(se,ge).execute()}Ne.exports=le},function(Ne,A,w){var B=w(0);function ne(ue,j,q,Y,K){var H=(typeof q=="function"?q(ue):q)*ue.depth;if(!Y)try{if(ue.id===ue.parent.children[0].id){ue.x+=H,ue.y=j?j.y:0;return}}catch(le){}if(ue.x+=H,j){if(ue.y=j.y+B.getHeight(j,ue,K),j.parent&&ue.parent.id!==j.parent.id){var ae=j.parent,ie=ae.y+B.getHeight(ae,ue,K);ue.y=ie>ue.y?ie:ue.y}}else ue.y=0}Ne.exports=function(ue,j,q,Y){var K=null;ue.eachNode(function(H){ne(H,K,j,q,Y),K=H})}},function(Ne,A,w){function B(ie,le){ie.prototype=Object.create(le.prototype),ie.prototype.constructor=ie,ne(ie,le)}function ne(ie,le){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ge){return se.__proto__=ge,se},ne(ie,le)}var ue=w(1),j=w(13),q=w(2),Y=w(0),K=function(ie){function le(){return ie.apply(this,arguments)||this}B(le,ie);var se=le.prototype;return se.execute=function(){var ye=this;return q(ye.rootNode,ye.options,j)},le}(ue),H={};function ae(ie,le){return le=Y.assign({},H,le),new K(ie,le).execute()}Ne.exports=ae},function(Ne,A,w){var B=w(0);function ne(q,Y){var K=0;return q.children.length?q.children.forEach(function(H){K+=ne(H,Y)}):K=q.height,q._subTreeSep=Y.getSubTreeSep(q.data),q.totalHeight=Math.max(q.height,K)+2*q._subTreeSep,q.totalHeight}function ue(q){var Y=q.children,K=Y.length;if(K){Y.forEach(function(ge){ue(ge)});var H=Y[0],ae=Y[K-1],ie=ae.y-H.y+ae.height,le=0;if(Y.forEach(function(ge){le+=ge.totalHeight}),ie>q.height)q.y=H.y+ie/2-q.height/2;else if(Y.length!==1||q.height>le){var se=q.y+(q.height-ie)/2-H.y;Y.forEach(function(ge){ge.translate(0,se)})}else q.y=(H.y+H.height/2+ae.y+ae.height/2)/2-q.height/2}}var j={getSubTreeSep:function(){return 0}};Ne.exports=function(q,Y){Y===void 0&&(Y={}),Y=B.assign({},j,Y),q.parent={x:0,width:0,height:0,y:0},q.BFTraverse(function(K){K.x=K.parent.x+K.parent.width}),q.parent=null,ne(q,Y),q.startY=0,q.y=q.totalHeight/2-q.height/2,q.eachNode(function(K){var H=K.children,ae=H.length;if(ae){var ie=H[0];if(ie.startY=K.startY+K._subTreeSep,ae===1)ie.y=K.y+K.height/2-ie.height/2;else{ie.y=ie.startY+ie.totalHeight/2-ie.height/2;for(var le=1;le<ae;le++){var se=H[le];se.startY=H[le-1].startY+H[le-1].totalHeight,se.y=se.startY+se.totalHeight/2-se.height/2}}}}),ue(q)}}])})},69807:function(){window._iconfont_svg_string_3580659='<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>',function(cn){try{let H=function(){j||(j=!0,ne())},ae=function(){try{ue.documentElement.doScroll("left")}catch(ie){return void setTimeout(ae,50)}H()};var Y=H,K=ae,A=(A=document.getElementsByTagName("script"))[A.length-1],Ne=A.getAttribute("data-injectcss"),A=A.getAttribute("data-disable-injectsvg");if(!A){var w,B,ne,ue,j,q=function(ie,le){le.parentNode.insertBefore(ie,le)};if(Ne&&!cn.__iconfont__svg__cssinject__){cn.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(ie){console&&console.log(ie)}}w=function(){var ie,le=document.createElement("div");le.innerHTML=cn._iconfont_svg_string_3580659,(le=le.getElementsByTagName("svg")[0])&&(le.setAttribute("aria-hidden","true"),le.style.position="absolute",le.style.width=0,le.style.height=0,le.style.overflow="hidden",le=le,(ie=document.body).firstChild?q(le,ie.firstChild):ie.appendChild(le))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(w,0):(B=function(){document.removeEventListener("DOMContentLoaded",B,!1),w()},document.addEventListener("DOMContentLoaded",B,!1)):document.attachEvent&&(ne=w,ue=cn.document,j=!1,ae(),ue.onreadystatechange=function(){ue.readyState=="complete"&&(ue.onreadystatechange=null,H())})}}catch(H){}}(window)},88693:function(){},88666:function(cn,Ne,A){"use strict";A.r(Ne),A.d(Ne,{AJAXError:function(){return Ka},AttributeType:function(){return Ya},BKDRHash:function(){return vd},BaiduMap:function(){return ZI},BaseLayer:function(){return zp},BaseMapService:function(){return Hh},BaseMapWrapper:function(){return vg},BaseModel:function(){return Nc},BasePostProcessingPass:function(){return dl},BlendType:function(){return Fi},ButtonControl:function(){return Gy},CameraUniform:function(){return Oi},CanvasLayer:function(){return x6},CanvasUpdateType:function(){return Aw},CityBuildingLayer:function(){return Zw},Control:function(){return cg},CoordinateSystem:function(){return Ki},CoordinateUniform:function(){return Xr},DOM:function(){return w},Earth:function(){return wT},EarthLayer:function(){return yI},ExportImage:function(){return TS},FrequencyController:function(){return ta},Fullscreen:function(){return ME},GaodeMap:function(){return CC},GaodeMapV1:function(){return OC},GaodeMapV2:function(){return wC},GeoLocate:function(){return RE},GeometryLayer:function(){return $3},GoogleMap:function(){return IT},HeatmapLayer:function(){return G6},IDebugLog:function(){return Ei},ILayerStage:function(){return lo},ImageLayer:function(){return n5},InteractionEvent:function(){return Er},LRUCache:function(){return Tt},LayerPopup:function(){return MI},LayerSwitch:function(){return f3},LineLayer:function(){return CA},LinearDir:function(){return k3},LoadTileDataStatus:function(){return gu},Logo:function(){return PE},Map:function(){return xC},MapLibre:function(){return _L},MapServiceEvent:function(){return Su},MapTheme:function(){return Bb},Mapbox:function(){return gL},Marker:function(){return Vy},MarkerLayer:function(){return l3},MaskLayer:function(){return zA},MaskOperation:function(){return eo},MouseLocation:function(){return Yy},PassType:function(){return bu},PointLayer:function(){return rv},PolygonLayer:function(){return q3},PopperControl:function(){return kb},Popup:function(){return aT},PositionType:function(){return Bi},RasterLayer:function(){return J3},RasterTileType:function(){return Eh},Satistics:function(){return B},Scale:function(){return Fb},ScaleTypes:function(){return Ua},Scene:function(){return TN},SceneConifg:function(){return za},SceneEventList:function(){return Lm},SelectControl:function(){return up},SizeUnitType:function(){return ox},Source:function(){return Db},SourceTile:function(){return Yc},StencilType:function(){return ma},StyleScaleType:function(){return No},Swipe:function(){return nM},TMap:function(){return TL},TencentMap:function(){return BT},TextureBlend:function(){return b6},TextureUsage:function(){return H0},TileDebugLayer:function(){return fI},TileLayer:function(){return G5},TilesetManager:function(){return Xa},UpdateTileStrategy:function(){return pu},WindLayer:function(){return OI},Zoom:function(){return wI},aProjectFlat:function(){return Ru},amap2Project:function(){return tc},amap2UnProject:function(){return Ec},anchorTranslate:function(){return fn},anchorType:function(){return En},applyAnchorClass:function(){return sn},bBoxToBounds:function(){return Fc},bindAll:function(){return fa},boundsContains:function(){return ed},calAngle:function(){return $d},calDistance:function(){return Sd},calculateCentroid:function(){return Mc},calculatePointsCenterAndRadius:function(){return Uc},createLayerContainer:function(){return em},createSceneContainer:function(){return Uh},decodePickingColor:function(){return Po},defaultValue:function(){return ul},djb2hash:function(){return yd},encodePickingColor:function(){return ds},expandUrl:function(){return is},extent:function(){return ec},flow:function(){return fd},formatImage:function(){return St},fp64LowPart:function(){return Mo},generateCatRamp:function(){return oo},generateColorRamp:function(){return Za},generateCustomRamp:function(){return wu},generateLinearRamp:function(){return ks},generateQuantizeRamp:function(){return nu},getAngle:function(){return Xd},getArrayBuffer:function(){return Zt},getBBoxFromPoints:function(){return md},getData:function(){return Bn},getDefaultDomain:function(){return Si},getImage:function(){return st},getJSON:function(){return It},getProtocolAction:function(){return oi},getReferrer:function(){return Fs},getTileIndices:function(){return bl},getTileWarpXY:function(){return pc},getURLFromTemplate:function(){return Co},getWMTSURLFromTemplate:function(){return Vu},gl:function(){return kt},globalConfigService:function(){return T1},guid:function(){return df},isAndroid:function(){return Vs},isColor:function(){return vo},isImageBitmap:function(){return rs},isNumber:function(){return es},isPC:function(){return vi},isURLTemplate:function(){return ts},isWorker:function(){return Vo},isiOS:function(){return bs},latitude:function(){return Qs},lineAtOffset:function(){return ee},lineAtOffsetAsyc:function(){return Me},lineStyleType:function(){return Sw},lngLatInExtent:function(){return Bc},lngLatToMeters:function(){return al},lnglatDistance:function(){return cd},lodashUtil:function(){return yo},longitude:function(){return Vc},makeXMLHttpRequestPromise:function(){return Un},metersToLngLat:function(){return Dl},normalize:function(){return hc},osmLonLat2TileXY:function(){return Nu},osmTileXY2LonLat:function(){return vu},packCircleVertex:function(){return Pa},padBounds:function(){return Tl},postData:function(){return $e},project:function(){return wc},removeDuplicateUniforms:function(){return sl},rgb2arr:function(){return To},sameOrigin:function(){return Yn},tileToBounds:function(){return yc},tranfrormCoord:function(){return ld},unProjectFlat:function(){return Wl},validateLngLat:function(){return $u},version:function(){return SN}});var w={};A.r(w),A.d(w,{DPR:function(){return Sr},addClass:function(){return Xs},addStyle:function(){return li},appendElementType:function(){return wo},clearChildren:function(){return Io},create:function(){return as},css2Style:function(){return ea},empty:function(){return hu},findParentElement:function(){return zo},getClass:function(){return nl},getContainer:function(){return hs},getDiffRect:function(){return mo},getStyleList:function(){return Ci},getViewPortScale:function(){return bc},hasClass:function(){return Mu},printCanvas:function(){return Cf},remove:function(){return $s},removeClass:function(){return Lu},removeStyle:function(){return ti},setChecked:function(){return so},setClass:function(){return Nl},setTransform:function(){return _l},setUnDraggable:function(){return Ha},splitWords:function(){return iu},toggleClass:function(){return Ks},triggerResize:function(){return Ku},trim:function(){return Ma}});var B={};A.r(B),A.d(B,{getColumn:function(){return Dt},getSatByColumn:function(){return Ta},max:function(){return pn},mean:function(){return Pr},min:function(){return yn},mode:function(){return Zi},statMap:function(){return ji},sum:function(){return Vn}});var ne={},ue={},j=t=>ue[t],q=(t,e)=>{ue[t]=e},Y=t=>ne[t],K=(t,e)=>{ne[t]=e},H={},ae={},ie=34,le=10,se=13;function ge(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function ye(t,e){var r=ge(t);return function(u,d){return e(r(u),d,t)}}function ve(t){var e=Object.create(null),r=[];return t.forEach(function(u){for(var d in u)d in e||r.push(e[d]=d)}),r}function fe(t,e){var r=t+"",u=r.length;return u<e?new Array(e-u+1).join(0)+r:r}function Fe(t){return t<0?"-"+fe(-t,6):t>9999?"+"+fe(t,6):fe(t,4)}function yt(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),u=t.getUTCSeconds(),d=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Fe(t.getUTCFullYear(),4)+"-"+fe(t.getUTCMonth()+1,2)+"-"+fe(t.getUTCDate(),2)+(d?"T"+fe(e,2)+":"+fe(r,2)+":"+fe(u,2)+"."+fe(d,3)+"Z":u?"T"+fe(e,2)+":"+fe(r,2)+":"+fe(u,2)+"Z":r||e?"T"+fe(e,2)+":"+fe(r,2)+"Z":"")}function gt(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function u(Ae,We){var Ht,Tn,Fn=d(Ae,function(br,ei){if(Ht)return Ht(br,ei-1);Tn=br,Ht=We?ye(br,We):ge(br)});return Fn.columns=Tn||[],Fn}function d(Ae,We){var Ht=[],Tn=Ae.length,Fn=0,br=0,ei,Jr=Tn<=0,zi=!1;Ae.charCodeAt(Tn-1)===le&&--Tn,Ae.charCodeAt(Tn-1)===se&&--Tn;function ca(){if(Jr)return ae;if(zi)return zi=!1,H;var Va,va=Fn,io;if(Ae.charCodeAt(va)===ie){for(;Fn++<Tn&&Ae.charCodeAt(Fn)!==ie||Ae.charCodeAt(++Fn)===ie;);return(Va=Fn)>=Tn?Jr=!0:(io=Ae.charCodeAt(Fn++))===le?zi=!0:io===se&&(zi=!0,Ae.charCodeAt(Fn)===le&&++Fn),Ae.slice(va+1,Va-1).replace(/""/g,'"')}for(;Fn<Tn;){if((io=Ae.charCodeAt(Va=Fn++))===le)zi=!0;else if(io===se)zi=!0,Ae.charCodeAt(Fn)===le&&++Fn;else if(io!==r)continue;return Ae.slice(va,Va)}return Jr=!0,Ae.slice(va,Tn)}for(;(ei=ca())!==ae;){for(var Da=[];ei!==H&&ei!==ae;)Da.push(ei),ei=ca();We&&(Da=We(Da,br++))==null||Ht.push(Da)}return Ht}function h(Ae,We){return Ae.map(function(Ht){return We.map(function(Tn){return Ee(Ht[Tn])}).join(t)})}function y(Ae,We){return We==null&&(We=ve(Ae)),[We.map(Ee).join(t)].concat(h(Ae,We)).join(`
`)}function M(Ae,We){return We==null&&(We=ve(Ae)),h(Ae,We).join(`
`)}function U(Ae){return Ae.map(re).join(`
`)}function re(Ae){return Ae.map(Ee).join(t)}function Ee(Ae){return Ae==null?"":Ae instanceof Date?yt(Ae):e.test(Ae+="")?'"'+Ae.replace(/"/g,'""')+'"':Ae}return{parse:u,parseRows:d,format:y,formatBody:M,formatRows:U,formatRow:re,formatValue:Ee}}var pt=gt(","),lt=pt.parse,Ke=pt.parseRows,Ue=pt.format,Pt=pt.formatBody,Gt=pt.formatRows,rn=pt.formatRow,_n=pt.formatValue,qe=63710088e-1,Nt={centimeters:qe*100,centimetres:qe*100,degrees:qe/111325,feet:qe*3.28084,inches:qe*39.37,kilometers:qe/1e3,kilometres:qe/1e3,meters:qe,metres:qe,miles:qe/1609.344,millimeters:qe*1e3,millimetres:qe*1e3,nauticalmiles:qe/1852,radians:1,yards:qe*1.0936},ft={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/qe,yards:1.0936133},ln={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function tt(t,e,r){r===void 0&&(r={});var u={type:"Feature"};return(r.id===0||r.id)&&(u.id=r.id),r.bbox&&(u.bbox=r.bbox),u.properties=e||{},u.geometry=t,u}function Pe(t,e,r){switch(r===void 0&&(r={}),t){case"Point":return Qe(e).geometry;case"LineString":return At(e).geometry;case"Polygon":return _t(e).geometry;case"MultiPoint":return Ot(e).geometry;case"MultiLineString":return mn(e).geometry;case"MultiPolygon":return Xe(e).geometry;default:throw new Error(t+" is invalid")}}function Qe(t,e,r){if(r===void 0&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Jt(t[0])||!Jt(t[1]))throw new Error("coordinates must contain numbers");var u={type:"Point",coordinates:t};return tt(u,e,r)}function He(t,e,r){return r===void 0&&(r={}),zt(t.map(function(u){return Qe(u,e)}),r)}function _t(t,e,r){r===void 0&&(r={});for(var u=0,d=t;u<d.length;u++){var h=d[u];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var y=0;y<h[h.length-1].length;y++)if(h[h.length-1][y]!==h[0][y])throw new Error("First and last Position are not equivalent.")}var M={type:"Polygon",coordinates:t};return tt(M,e,r)}function Bt(t,e,r){return r===void 0&&(r={}),zt(t.map(function(u){return _t(u,e)}),r)}function At(t,e,r){if(r===void 0&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");var u={type:"LineString",coordinates:t};return tt(u,e,r)}function Je(t,e,r){return r===void 0&&(r={}),zt(t.map(function(u){return At(u,e)}),r)}function zt(t,e){e===void 0&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function mn(t,e,r){r===void 0&&(r={});var u={type:"MultiLineString",coordinates:t};return tt(u,e,r)}function Ot(t,e,r){r===void 0&&(r={});var u={type:"MultiPoint",coordinates:t};return tt(u,e,r)}function Xe(t,e,r){r===void 0&&(r={});var u={type:"MultiPolygon",coordinates:t};return tt(u,e,r)}function ct(t,e,r){r===void 0&&(r={});var u={type:"GeometryCollection",geometries:t};return tt(u,e,r)}function Rt(t,e){if(e===void 0&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r}function Oe(t,e){e===void 0&&(e="kilometers");var r=Nt[e];if(!r)throw new Error(e+" units is invalid");return t*r}function Ge(t,e){e===void 0&&(e="kilometers");var r=Nt[e];if(!r)throw new Error(e+" units is invalid");return t/r}function Vt(t,e){return et(Ge(t,e))}function De(t){var e=t%360;return e<0&&(e+=360),e}function et(t){var e=t%(2*Math.PI);return e*180/Math.PI}function Ce(t){var e=t%360;return e*Math.PI/180}function J(t,e,r){if(e===void 0&&(e="kilometers"),r===void 0&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return Oe(Ge(t,e),r)}function Le(t,e,r){if(e===void 0&&(e="meters"),r===void 0&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var u=ln[e];if(!u)throw new Error("invalid original units");var d=ln[r];if(!d)throw new Error("invalid final units");return t/u*d}function Jt(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Be(t){return!!t&&t.constructor===Object}function In(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(e){if(!Jt(e))throw new Error("bbox must only contain numbers")})}function cr(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}function bn(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ir(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Nr(t){if(t.length>1&&isNumber(t[0])&&isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Nr(t[0]);throw new Error("coordinates must only contain numbers")}function Ar(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}function Zr(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}function wi(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(var u=0,d=t.features;u<d.length;u++){var h=d[u];if(!h||h.type!=="Feature"||!h.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!h.geometry||h.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+h.geometry.type)}}function Ln(t){return t.type==="Feature"?t.geometry:t}function Nn(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}function $n(t,e,r){if(t!==null)for(var u,d,h,y,M,U,re,Ee=0,Ae=0,We,Ht=t.type,Tn=Ht==="FeatureCollection",Fn=Ht==="Feature",br=Tn?t.features.length:1,ei=0;ei<br;ei++){re=Tn?t.features[ei].geometry:Fn?t.geometry:t,We=re?re.type==="GeometryCollection":!1,M=We?re.geometries.length:1;for(var Jr=0;Jr<M;Jr++){var zi=0,ca=0;if(y=We?re.geometries[Jr]:re,y!==null){U=y.coordinates;var Da=y.type;switch(Ee=r&&(Da==="Polygon"||Da==="MultiPolygon")?1:0,Da){case null:break;case"Point":if(e(U,Ae,ei,zi,ca)===!1)return!1;Ae++,zi++;break;case"LineString":case"MultiPoint":for(u=0;u<U.length;u++){if(e(U[u],Ae,ei,zi,ca)===!1)return!1;Ae++,Da==="MultiPoint"&&zi++}Da==="LineString"&&zi++;break;case"Polygon":case"MultiLineString":for(u=0;u<U.length;u++){for(d=0;d<U[u].length-Ee;d++){if(e(U[u][d],Ae,ei,zi,ca)===!1)return!1;Ae++}Da==="MultiLineString"&&zi++,Da==="Polygon"&&ca++}Da==="Polygon"&&zi++;break;case"MultiPolygon":for(u=0;u<U.length;u++){for(ca=0,d=0;d<U[u].length;d++){for(h=0;h<U[u][d].length-Ee;h++){if(e(U[u][d][h],Ae,ei,zi,ca)===!1)return!1;Ae++}ca++}zi++}break;case"GeometryCollection":for(u=0;u<y.geometries.length;u++)if($n(y.geometries[u],e,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function wn(t,e,r,u){var d=r;return $n(t,function(h,y,M,U,re){y===0&&r===void 0?d=h:d=e(d,h,y,M,U,re)},u),d}function nt(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&e(t.features[r].properties,r)!==!1;r++);break;case"Feature":e(t.properties,0);break}}function ze(t,e,r){var u=r;return nt(t,function(d,h){h===0&&r===void 0?u=d:u=e(u,d,h)}),u}function vt(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var r=0;r<t.features.length&&e(t.features[r],r)!==!1;r++);}function $t(t,e,r){var u=r;return vt(t,function(d,h){h===0&&r===void 0?u=d:u=e(u,d,h)}),u}function gn(t){var e=[];return $n(t,function(r){e.push(r)}),e}function at(t,e){var r,u,d,h,y,M,U,re,Ee,Ae,We=0,Ht=t.type==="FeatureCollection",Tn=t.type==="Feature",Fn=Ht?t.features.length:1;for(r=0;r<Fn;r++){for(M=Ht?t.features[r].geometry:Tn?t.geometry:t,re=Ht?t.features[r].properties:Tn?t.properties:{},Ee=Ht?t.features[r].bbox:Tn?t.bbox:void 0,Ae=Ht?t.features[r].id:Tn?t.id:void 0,U=M?M.type==="GeometryCollection":!1,y=U?M.geometries.length:1,d=0;d<y;d++){if(h=U?M.geometries[d]:M,h===null){if(e(null,We,re,Ee,Ae)===!1)return!1;continue}switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(h,We,re,Ee,Ae)===!1)return!1;break}case"GeometryCollection":{for(u=0;u<h.geometries.length;u++)if(e(h.geometries[u],We,re,Ee,Ae)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}We++}}function an(t,e,r){var u=r;return at(t,function(d,h,y,M,U){h===0&&r===void 0?u=d:u=e(u,d,h,y,M,U)}),u}function hn(t,e){at(t,function(r,u,d,h,y){var M=r===null?null:r.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return e(tt(r,d,{bbox:h,id:y}),u,0)===!1?!1:void 0}var U;switch(M){case"MultiPoint":U="Point";break;case"MultiLineString":U="LineString";break;case"MultiPolygon":U="Polygon";break}for(var re=0;re<r.coordinates.length;re++){var Ee=r.coordinates[re],Ae={type:U,coordinates:Ee};if(e(tt(Ae,d),u,re)===!1)return!1}})}function pr(t,e,r){var u=r;return hn(t,function(d,h,y){h===0&&y===0&&r===void 0?u=d:u=e(u,d,h,y)}),u}function ur(t,e){hn(t,function(r,u,d){var h=0;if(r.geometry){var y=r.geometry.type;if(!(y==="Point"||y==="MultiPoint")){var M,U=0,re=0,Ee=0;if($n(r,function(Ae,We,Ht,Tn,Fn){if(M===void 0||u>U||Tn>re||Fn>Ee){M=Ae,U=u,re=Tn,Ee=Fn,h=0;return}var br=lineString([M,Ae],r.properties);if(e(br,u,d,Fn,h)===!1)return!1;h++,M=Ae})===!1)return!1}}})}function pi(t,e,r){var u=r,d=!1;return ur(t,function(h,y,M,U,re){d===!1&&r===void 0?u=h:u=e(u,h,y,M,U,re),d=!0}),u}function ar(t,e){if(!t)throw new Error("geojson is required");hn(t,function(r,u,d){if(r.geometry!==null){var h=r.geometry.type,y=r.geometry.coordinates;switch(h){case"LineString":if(e(r,u,d,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<y.length;M++)if(e(lineString(y[M],r.properties),u,d,M)===!1)return!1;break}}})}function di(t,e,r){var u=r;return ar(t,function(d,h,y,M){h===0&&r===void 0?u=d:u=e(u,d,h,y,M)}),u}function sa(t,e){if(e=e||{},!isObject(e))throw new Error("options is invalid");var r=e.featureIndex||0,u=e.multiFeatureIndex||0,d=e.geometryIndex||0,h=e.segmentIndex||0,y=e.properties,M;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),y=y||t.features[r].properties,M=t.features[r].geometry;break;case"Feature":y=y||t.properties,M=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=t;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var U=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=U.length+h-1),lineString([U[h],U[h+1]],y,e);case"Polygon":return d<0&&(d=U.length+d),h<0&&(h=U[d].length+h-1),lineString([U[d][h],U[d][h+1]],y,e);case"MultiLineString":return u<0&&(u=U.length+u),h<0&&(h=U[u].length+h-1),lineString([U[u][h],U[u][h+1]],y,e);case"MultiPolygon":return u<0&&(u=U.length+u),d<0&&(d=U[u].length+d),h<0&&(h=U[u][d].length-h-1),lineString([U[u][d][h],U[u][d][h+1]],y,e)}throw new Error("geojson is invalid")}function xa(t,e){if(e=e||{},!isObject(e))throw new Error("options is invalid");var r=e.featureIndex||0,u=e.multiFeatureIndex||0,d=e.geometryIndex||0,h=e.coordIndex||0,y=e.properties,M;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),y=y||t.features[r].properties,M=t.features[r].geometry;break;case"Feature":y=y||t.properties,M=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=t;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var U=M.coordinates;switch(M.type){case"Point":return point(U,y,e);case"MultiPoint":return u<0&&(u=U.length+u),point(U[u],y,e);case"LineString":return h<0&&(h=U.length+h),point(U[h],y,e);case"Polygon":return d<0&&(d=U.length+d),h<0&&(h=U[d].length+h),point(U[d][h],y,e);case"MultiLineString":return u<0&&(u=U.length+u),h<0&&(h=U[u].length+h),point(U[u][h],y,e);case"MultiPolygon":return u<0&&(u=U.length+u),d<0&&(d=U[u].length+d),h<0&&(h=U[u][d].length-h),point(U[u][d][h],y,e)}throw new Error("geojson is invalid")}var za={REGISTERED_PROTOCOLS:{}},Ui=Object.defineProperty,Ao=Object.defineProperties,fs=Object.getOwnPropertyDescriptors,cs=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable,xi=(t,e,r)=>e in t?Ui(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gn=(t,e)=>{for(var r in e||(e={}))ra.call(e,r)&&xi(t,r,e[r]);if(cs)for(var r of cs(e))ms.call(e,r)&&xi(t,r,e[r]);return t},_e=(t,e)=>Ao(t,fs(e)),oi=t=>za.REGISTERED_PROTOCOLS[t.substring(0,t.indexOf("://"))],Ka=class extends Error{constructor(t,e,r,u){super(`AJAXError: ${e} (${t}): ${r}`),this.status=t,this.statusText=e,this.url=r,this.body=u}};function Cn(t,e){const r=new XMLHttpRequest,u=Array.isArray(t.url)?t.url[0]:t.url;r.open(t.method||"GET",u,!0),t.type==="arrayBuffer"&&(r.responseType="arraybuffer");for(const d in t.headers)t.headers.hasOwnProperty(d)&&r.setRequestHeader(d,t.headers[d]);return t.type==="json"&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials=t.credentials==="include",r.onerror=()=>{e(new Error(r.statusText))},r.onload=()=>{if((r.status>=200&&r.status<300||r.status===0)&&r.response!==null){let d=r.response;if(t.type==="json")try{d=JSON.parse(r.response)}catch(h){return e(h)}e(null,d,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"),r)}else{const d=new Blob([r.response],{type:r.getResponseHeader("Content-Type")});e(new Ka(r.status,r.statusText,u.toString(),d))}},r.cancel=r.abort,r.send(t.body),r}function Un(t){return new Promise((e,r)=>{Cn(t,(u,d,h,y,M)=>{u?r({err:u,data:null,xhr:M}):e({err:null,data:d,cacheControl:h,expires:y,xhr:M})})})}function tn(t,e){return Cn(t,e)}var It=(t,e)=>(oi(t.url)||tn)(_e(Gn({},t),{type:"json"}),e),Zt=(t,e)=>(oi(t.url)||tn)(_e(Gn({},t),{type:"arrayBuffer"}),e),$e=(t,e)=>tn(_e(Gn({},t),{method:"POST"}),e),Bn=(t,e)=>tn(_e(Gn({},t),{method:"GET"}),e);function Yn(t){const e=window.document.createElement("a");return e.href=t,e.protocol===window.document.location.protocol&&e.host===window.document.location.host}var or="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ze(t,e){const r=new window.Image,u=window.URL||window.webkitURL;r.crossOrigin="anonymous",r.onload=()=>{e(null,r),u.revokeObjectURL(r.src),r.onload=null,window.requestAnimationFrame(()=>{r.src=or})},r.onerror=()=>e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const d=new Blob([new Uint8Array(t)],{type:"image/png"});r.src=t.byteLength?u.createObjectURL(d):or}function je(t,e){const r=new Blob([new Uint8Array(t)],{type:"image/png"});createImageBitmap(r).then(u=>{e(null,u)}).catch(u=>{e(new Error(`Could not load image because of ${u.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}var st=(t,e,r)=>{const u=(d,h)=>{if(d)e(d);else if(h){const y=typeof createImageBitmap=="function",M=r?r(h):h;y?je(M,e):Ze(M,e)}};return t.type==="json"?It(t,u):Zt(t,u)},St=(t,e)=>{typeof createImageBitmap=="function"?je(t,e):Ze(t,e)},En=(t=>(t.CENTER="center",t.TOP="top",t["TOP-LEFT"]="top-left",t["TOP-RIGHT"]="top-right",t.BOTTOM="bottom",t["BOTTOM-LEFT"]="bottom-left",t["BOTTOM-RIGHT"]="bottom-right",t.LEFT="left",t.RIGHT="right",t))(En||{}),fn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function sn(t,e,r){const u=t.classList;for(const d in fn)fn.hasOwnProperty(d)&&u.remove(`l7-${r}-anchor-${d}`);u.add(`l7-${r}-anchor-${e}`)}function Pn(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Hn(t,e){var r=Object.create(t.prototype);for(var u in e)r[u]=e[u];return r}function Ut(){}var Yt=.7,Xt=1/Yt,jt="\\s*([+-]?\\d+)\\s*",fr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yr=/^#([0-9a-f]{3,8})$/,Br=new RegExp("^rgb\\("+[jt,jt,jt]+"\\)$"),Gi=new RegExp("^rgb\\("+[vr,vr,vr]+"\\)$"),qi=new RegExp("^rgba\\("+[jt,jt,jt,fr]+"\\)$"),$i=new RegExp("^rgba\\("+[vr,vr,vr,fr]+"\\)$"),Wi=new RegExp("^hsl\\("+[fr,vr,vr]+"\\)$"),Ii=new RegExp("^hsla\\("+[fr,vr,vr,fr]+"\\)$"),Qa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pn(Ut,Ur,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:on,formatHex:on,formatHsl:dn,formatRgb:jn,toString:jn});function on(){return this.rgb().formatHex()}function dn(){return ui(this).formatHsl()}function jn(){return this.rgb().formatRgb()}function Ur(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=yr.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Yr(e):r===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Et(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Et(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Br.exec(t))?new Xn(e[1],e[2],e[3],1):(e=Gi.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qi.exec(t))?Et(e[1],e[2],e[3],e[4]):(e=$i.exec(t))?Et(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wi.exec(t))?Mr(e[1],e[2]/100,e[3]/100,1):(e=Ii.exec(t))?Mr(e[1],e[2]/100,e[3]/100,e[4]):Qa.hasOwnProperty(t)?Yr(Qa[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function Yr(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function Et(t,e,r,u){return u<=0&&(t=e=r=NaN),new Xn(t,e,r,u)}function Ct(t){return t instanceof Ut||(t=Ur(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function xn(t,e,r,u){return arguments.length===1?Ct(t):new Xn(t,e,r,u==null?1:u)}function Xn(t,e,r,u){this.r=+t,this.g=+e,this.b=+r,this.opacity=+u}Pn(Xn,xn,Hn(Ut,{brighter:function(t){return t=t==null?Xt:Math.pow(Xt,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Yt:Math.pow(Yt,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mt,formatHex:mt,formatRgb:vn,toString:vn}));function mt(){return"#"+tr(this.r)+tr(this.g)+tr(this.b)}function vn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function tr(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Mr(t,e,r,u){return u<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Aa(t,e,r,u)}function ui(t){if(t instanceof Aa)return new Aa(t.h,t.s,t.l,t.opacity);if(t instanceof Ut||(t=Ur(t)),!t)return new Aa;if(t instanceof Aa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,u=t.b/255,d=Math.min(e,r,u),h=Math.max(e,r,u),y=NaN,M=h-d,U=(h+d)/2;return M?(e===h?y=(r-u)/M+(r<u)*6:r===h?y=(u-e)/M+2:y=(e-r)/M+4,M/=U<.5?h+d:2-h-d,y*=60):M=U>0&&U<1?0:y,new Aa(y,M,U,t.opacity)}function Ri(t,e,r,u){return arguments.length===1?ui(t):new Aa(t,e,r,u==null?1:u)}function Aa(t,e,r,u){this.h=+t,this.s=+e,this.l=+r,this.opacity=+u}Pn(Aa,Ri,Hn(Ut,{brighter:function(t){return t=t==null?Xt:Math.pow(Xt,t),new Aa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Yt:Math.pow(Yt,t),new Aa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,u=r+(r<.5?r:1-r)*e,d=2*r-u;return new Xn(Ga(t>=240?t-240:t+120,d,u),Ga(t,d,u),Ga(t<120?t+240:t-120,d,u),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Ga(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function vo(t){return typeof t=="string"?!!Ur(t):!1}function To(t){const e=Ur(t),r=[0,0,0,0];return e!=null&&(r[0]=e.r/255,r[1]=e.g/255,r[2]=e.b/255,r[3]=e.opacity),r}function Po(t){const e=t&&t[0],r=t&&t[1],u=t&&t[2];return e+r*256+u*65536-1}function ds(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}function Za(t){let e=window.document.createElement("canvas"),r=e.getContext("2d");e.width=256,e.height=1;let u=null;const d=r.createLinearGradient(0,0,256,1),h=t.positions[0],y=t.positions[t.positions.length-1];for(let M=0;M<t.colors.length;++M){const U=(t.positions[M]-h)/(y-h);d.addColorStop(U,t.colors[M])}return r.fillStyle=d,r.fillRect(0,0,256,1),u=new Uint8ClampedArray(r.getImageData(0,0,256,1).data),e=null,r=null,{data:u,width:256,height:1}}function ks(t,e){let r=window.document.createElement("canvas"),u=r.getContext("2d");r.width=256,r.height=1;const d=u.createLinearGradient(0,0,256,1),h=e[1]-e[0];for(let U=0;U<t.colors.length;++U){const re=Math.max((t.positions[U]-e[0])/h,0);d.addColorStop(re,t.colors[U])}u.fillStyle=d,u.fillRect(0,0,256,1);const y=u.getImageData(0,0,256,1).data,M=Ll(u,y);return r=null,u=null,M}function oo(t){let e=window.document.createElement("canvas"),r=e.getContext("2d");e.width=256,e.height=1;const u=r.createImageData(256,1);return u.data.fill(0),t.positions.forEach((d,h)=>{const y=To(t.colors[h]);u.data[d*4+0]=y[0]*255,u.data[d*4+1]=y[1]*255,u.data[d*4+2]=y[2]*255,u.data[d*4+3]=y[3]*255}),e=null,r=null,u}function nu(t){let e=window.document.createElement("canvas"),r=e.getContext("2d");r.globalAlpha=1,e.width=256,e.height=1;const u=256/t.colors.length;for(let y=0;y<t.colors.length;y++)r.beginPath(),r.lineWidth=2,r.strokeStyle=t.colors[y],r.moveTo(y*u,0),r.lineTo((y+1)*u,0),r.stroke();const d=r.getImageData(0,0,256,1).data,h=Ll(r,d);return e=null,r=null,h}function wu(t,e){let r=window.document.createElement("canvas"),u=r.getContext("2d");u.globalAlpha=1,r.width=256,r.height=1;const d=e[1]-e[0];t.positions.length-t.colors.length!==1&&console.warn("positions \u7684\u6570\u5B57\u4E2A\u6570\u5E94\u5F53\u6BD4 colors \u7684\u6837\u5F0F\u591A\u4E00\u4E2A,poisitions \u7684\u9996\u5C3E\u503C\u4E00\u822C\u4E3A\u6570\u636E\u7684\u6700\u5927\u6700\u65B0\u503C");for(let M=0;M<t.colors.length;M++)u.beginPath(),u.lineWidth=2,u.strokeStyle=t.colors[M],u.moveTo((t.positions[M]-e[0])/d*255,0),u.lineTo((t.positions[M+1]-e[0])/d*255,0),u.stroke();const h=u.getImageData(0,0,256,1).data,y=Ll(u,h);return r=null,u=null,y}function Ll(t,e){const r=t.createImageData(256,1);for(let u=0;u<r.data.length;u+=4)r.data[u+0]=e[u+0],r.data[u+1]=e[u+1],r.data[u+2]=e[u+2],r.data[u+3]=e[u+3];return r}function Si(t){switch(t==null?void 0:t.type){case"cat":return[0,255];default:return[0,1]}}var Sn=A(35636),Qt=A.n(Sn),rr=A(32222),rt=A.n(rr),ai=A(66292),mi=A.n(ai),_a=A(65439),Xi=A.n(_a),ia=A(98071),ua=A.n(ia),co=A(31223),Ro=A.n(co),As=A(46207),So=A.n(As),ao=A(59933),Wa=A.n(ao),ns=A(69143),Do=A.n(ns),ls=A(56549),Bs=A.n(ls),Xo=A(73806),wt=A.n(Xo),er=A(67929),nn=A.n(er),wr=A(53954),hi=A.n(wr),gi=A(25066),xr=A.n(gi),Ji=A(38209),Ai=A.n(Ji),Mi=A(4363),po=A.n(Mi),ha=A(42950),Qo=A.n(ha),Cs=A(92042),Oo=A.n(Cs),su=A(36838),ru=A.n(su),xt=A(89300),Zn=A.n(xt),Cr=A(47638),Di=A.n(Cr),wa=A(53274),Eo=A.n(wa),yo={isNil:So(),merge:nn(),throttle:Ai(),isString:Bs(),debounce:mi(),pull:xr(),isTypedArray:wt(),isPlainObject:Do(),isNumber:Wa(),isBoolean:ua(),isEqual:Ro(),cloneDeep:rt(),uniq:po(),clamp:Qt(),upperFirst:Qo(),get:Xi(),mergeWith:hi(),isFunction:Oo(),isObject:ru(),isUndefined:Zn(),camelCase:Di(),uniqueId:Eo()},{pull:Wr}=yo;function hs(t){let e=t;return typeof t=="string"&&(e=window.document.getElementById(t)),e}function Ma(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function iu(t){return Ma(t).split(/\s+/)}function au(t){var e;const r=(e=document==null?void 0:document.documentElement)==null?void 0:e.style;if(!r)return t[0];for(const u in t)if(t[u]&&t[u]in r)return t[u];return t[0]}function as(t,e,r){const u=window.document.createElement(t);return e&&(u.className=e||""),r&&r.appendChild(u),u}function $s(t){const e=t.parentNode;e&&e.removeChild(t)}function Xs(t,e){if(t.classList!==void 0){const r=iu(e);for(let u=0,d=r.length;u<d;u++)t.classList.add(r[u])}else if(!Mu(t,e)){const r=nl(t);Nl(t,(r?r+" ":"")+e)}}function Lu(t,e){t.classList!==void 0?iu(e).forEach(u=>{t.classList.remove(u)}):Nl(t,Ma((" "+nl(t)+" ").replace(" "+e+" "," ")))}function Mu(t,e){if(t.classList!==void 0)return t.classList.contains(e);const r=nl(t);return r.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(r)}function Nl(t,e){t instanceof HTMLElement?t.className=e:t.className.baseVal=e}function Ks(t,e,r){r===void 0?Mu(t,e)?Lu(t,e):Xs(t,e):r?Xs(t,e):Lu(t,e)}function nl(t){return t instanceof SVGElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function hu(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}var oc=au(["transform","WebkitTransform"]);function _l(t,e){t.style[oc]=e}function Ku(){if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else{const t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}}function Cf(t){const e=["padding: "+(t.height/2-8)+"px "+t.width/2+"px;","line-height: "+t.height+"px;","background-image: url("+t.toDataURL()+");"];console.log(`%c
`,e.join(""))}function bc(){var t;const e=window.document.querySelector('meta[name="viewport"]');if(!e)return 1;const u=((t=e.content)==null?void 0:t.split(",")).find(d=>{const[h]=d.split("=");return h==="initial-scale"});return u?u.split("=")[1]*1:1}var Sr=bc()<1?1:window.devicePixelRatio;function li(t,e){t.setAttribute("style",`${t.style.cssText}${e}`)}function Ci(t){return t.split(";").map(e=>e.trim()).filter(e=>e)}function ti(t,e){var r;const u=Ci((r=t.getAttribute("style"))!=null?r:""),d=Ci(e),h=Wr(u,...d);t.setAttribute("style",h.join(";"))}function ea(t){return Object.entries(t).map(([e,r])=>`${e}: ${r}`).join(";")}function mo(t,e){return{left:t.left-e.left,top:t.top-e.top,right:e.left+e.width-t.left-t.width,bottom:e.top+e.height-t.top-t.height}}function so(t,e){t.checked=e,e?t.setAttribute("checked","true"):t.removeAttribute("checked")}function Io(t){t.innerHTML=""}function Ha(t){t.setAttribute("draggable","false")}function wo(t,e){if(typeof e=="string"){const r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)t.append(r.firstChild)}else Array.isArray(e)?t.append(...e):t.append(e)}function zo(t,e){var r;const u=Array.isArray(e)?e:[e];let d=t;for(;d instanceof Element&&d!==window.document.body;){if(u.find(h=>d==null?void 0:d.matches(h)))return d;d=(r=d==null?void 0:d.parentElement)!=null?r:null}}function rs(t){return typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap}function Vo(){return typeof importScripts=="function"}var Fs=Vo()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,_u=navigator==null?void 0:navigator.userAgent,bs=!!_u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),Vs=_u.indexOf("Android")>-1||_u.indexOf("Adr")>-1;function vi(){const t=_u,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let r=!0;for(const u of e)if(t.indexOf(u)>0){r=!1;break}return r}function fa(t,e){t.forEach(r=>{e[r]&&(e[r]=e[r].bind(e))})}var ta=class{constructor(t=16){this.duration=16,this.timestamp=new Date().getTime(),this.duration=t}run(t){const e=new Date().getTime(),r=e-this.timestamp;this.timestamp=e,r>=this.duration&&t()}};function fo(t){var e=[1/0,1/0,-1/0,-1/0];return $n(t,function(r){e[0]>r[0]&&(e[0]=r[0]),e[1]>r[1]&&(e[1]=r[1]),e[2]<r[0]&&(e[2]=r[0]),e[3]<r[1]&&(e[3]=r[1])}),e}fo.default=fo;var Ko=fo;function es(t){return typeof t=="number"}function Mo(t){return t-Math.fround(t)}var ys=2*Math.PI*6378137/2;function Bc(t,e){const[r,u,d,h]=e;return t.lng>r&&t.lng<=d&&t.lat>u&&t.lat<=h}function ec(t){const e=[1/0,1/0,-1/0,-1/0];return t.forEach(r=>{const{coordinates:u}=r;ff(e,u)}),e}function ff(t,e){return Array.isArray(e[0])?e.forEach(r=>{ff(t,r)}):(t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])),t}function ld(t,e){return Ol(t,e)}function Ol(t,e){return Array.isArray(t[0])?t.map(r=>Ol(r,e)):e(t)}function al(t,e=!0,r={enable:!0,decimal:1}){t=$u(t,e);const u=t[0],d=t[1];let h=u*ys/180,y=Math.log(Math.tan((90+d)*Math.PI/360))/(Math.PI/180);return y=y*ys/180,r.enable&&(h=Number(h.toFixed(r.decimal)),y=Number(y.toFixed(r.decimal))),t.length===3?[h,y,t[2]]:[h,y]}function Dl(t,e=6){const r=t[0],u=t[1];let d=r/ys*180,h=u/ys*180;return h=180/Math.PI*(2*Math.atan(Math.exp(h*Math.PI/180))-Math.PI/2),e!=null&&(d=Number(d.toFixed(e)),h=Number(h.toFixed(e))),t.length===3?[d,h,t[2]]:[d,h]}function Vc(t){if(t==null)throw new Error("lng is required");return(t>180||t<-180)&&(t=t%360,t>180&&(t=-360+t),t<-180&&(t=360+t),t===0&&(t=0)),t}function Qs(t){if(t==null)throw new Error("lat is required");return(t>90||t<-90)&&(t=t%180,t>90&&(t=-180+t),t<-90&&(t=180+t),t===0&&(t=0)),t}function $u(t,e){if(e===!1)return t;const r=Vc(t[0]);let u=Qs(t[1]);return u>85&&(u=85),u<-85&&(u=-85),t.length===3?[r,u,t[2]]:[r,u]}function Ru(t){const e=85.0511287798,r=Math.max(Math.min(e,t[1]),-e),u=256<<20;let d=Math.PI/180,h=t[0]*d,y=r*d;y=Math.log(Math.tan(Math.PI/4+y/2));const M=.5/Math.PI,U=.5,re=-.5/Math.PI;return d=.5,h=u*(M*h+U),y=u*(re*y+d),[Math.floor(h),Math.floor(y)]}function Wl(t){const e=.5/Math.PI,r=.5,u=-.5/Math.PI;let d=.5;const h=256<<20;let[y,M]=t;y=(y/h-r)/e,M=(M/h-d)/u,M=(Math.atan(Math.pow(Math.E,M))-Math.PI/4)*2,d=Math.PI/180;const U=M/d;return[y/d,U]}function tc(t,e){const r=85.0511287798,u=Math.PI/180,d=6378137;return e=Math.max(Math.min(r,e),-r),t*=u,e*=u,e=Math.log(Math.tan(Math.PI/4+e/2)),[t*d,e*d]}function Ec(t,e){const r=Math.PI/180,u=6378137,d=t/u/r,h=2*(Math.atan(Math.exp(e/u))-Math.PI/4)/r;return[d,h]}function cd(t,e,r){const u=Ce(e[1]-t[1]),d=Ce(e[0]-t[0]),h=Ce(t[1]),y=Ce(e[1]),M=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(h)*Math.cos(y);return Oe(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)),r="meters")}function wc(t){const e=Math.PI/180,r=85.0511287798,u=6378137,d=Math.max(Math.min(r,t[1]),-r),h=Math.sin(d*e),y=u*t[0]*e,M=u*Math.log((1+h)/(1-h))/2;return[y,M]}function Tl(t,e){const r=Math.abs(t[1][1]-t[0][1])*e,u=Math.abs(t[1][0]-t[0][0])*e;return[[t[0][0]-u,t[0][1]-r],[t[1][0]+u,t[1][1]+r]]}function ed(t,e){return t[0][0]<=e[0][0]&&t[0][1]<=e[0][1]&&t[1][0]>=e[1][0]&&t[1][1]>=e[1][1]}function Fc(t){return[[t[0],t[1]],[t[2],t[3]]]}function hc(t){const e=Sd(t,[0,0]);return[t[0]/e,t[1]/e]}function Sd(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function Oh(t,e){return t[0]*e[0]+t[1]*e[1]}function Fd(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function $d(t,e){return Math.acos(Oh(t,e)/(Fd(t)*Fd(e)))*180/Math.PI}function Xd(t,e){return e[0]>0?e[1]>0?90-Math.atan(e[1]/e[0])*180/Math.PI:90+Math.atan(-e[1]/e[0])*180/Math.PI:e[1]<0?180+(90-Math.atan(e[1]/e[0])*180/Math.PI):270+Math.atan(e[1]/-e[0])*180/Math.PI}function fd(t,e=100){if(!t||t.length<2)return;const r=[0,1];let u=0;const d=[];for(let h=0;h<t.length-1;h++){const y=t[h],M=t[h+1],U=Sd(y,M);u+=U;const re=[y[0]-M[0],y[1]-M[1]];let Ee=Xd(r,re);if(h>0){const Ae=d[h-1].rotation;Ae-Ee>360-Ae+Ee&&(Ee=Ee+360)}d.push({start:y,end:M,dis:U,rotation:Ee,duration:0})}return d.map(h=>{h.duration=e*(h.dis/u)}),d}function Mc(t){if(es(t[0]))return t;if(es(t[0][0]))throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");if(es(t[0][0][0])){const e=t;let r=0,u=0,d=0;return e.forEach(h=>{h.forEach(y=>{r+=y[0],u+=y[1],d++})}),[r/d,u/d,0]}else throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8")}function Uc(t){let e=t[0],r=t[1],u=t[0],d=t[1],h=0,y=0,M=0;for(let U=0;U<t.length;U+=2){const re=t[U],Ee=t[U+1];re&&Ee&&(e=Math.max(re,e),r=Math.max(Ee,r),u=Math.min(re,u),d=Math.min(Ee,d),h+=re,y+=Ee,M++)}return{center:[h/M,y/M],radius:Math.sqrt(Math.pow(e-u,2)+Math.pow(r-d,2))/2}}function md(t){return Ko(zt([At(t)]))}function vd(t){let u=0;t+="x";const d=Math.floor(9007199254740991/137);for(let h=0;h<t.length;h++)u>d&&(u=Math.floor(u/137)),u=u*131+t.charCodeAt(h);return u}function yd(t){t=t.toString();let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return e>>>0}function df(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Ef(t,e,r,u,d=30,h){let y=r;return h&&(y=Math.round(r*(d-1))/(d-1)),u?Ad(t,e,y,u):Ad(t,e,y,.314)}function Yf(t,e){const r=1-e;return(t[0]*r+t[1]*e)*r+(t[1]*r+t[2]*e)*e}function $f(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function td(t,e,r){const u=[e[0]-t[0],e[1]-t[1]],d=$f(u,[0,0]),h=Math.atan2(u[1],u[0]),y=d/2/Math.cos(r),M=h+r;return[y*Math.cos(M)+t[0],y*Math.sin(M)+t[1]]}function Ad(t,e,r,u){const d=td(t,e,u),h=[t[0],d[0],e[0]],y=[t[1],d[1],e[1]];return[Yf(h,r),Yf(y,r),0]}function kl(t,e,r,u,d=30,h){let y=r;return h&&(y=Math.round(r*29)/29),_d(t,e,y)}function Bl(t,e){const r=[t[0]-e[0],t[1]-e[1]],u=[Math.sin(r[0]/2),Math.sin(r[1]/2)],d=u[1]*u[1]+Math.cos(t[1])*Math.cos(e[1])*u[0]*u[0];return 2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}function _d(t,e,r){const u=[Ce(t[0]),Ce(t[1])],d=[Ce(e[0]),Ce(e[1])],h=Bl(u,d);if(Math.abs(h-Math.PI)<.001)return[(1-r)*u[0]+r*d[0],(1-r)*u[1]+r*d[1]];const y=Math.sin((1-r)*h)/Math.sin(h),M=Math.sin(r*h)/Math.sin(h),U=[Math.sin(u[0]),Math.sin(u[1])],re=[Math.cos(u[0]),Math.cos(u[1])],Ee=[Math.sin(d[0]),Math.sin(d[1])],Ae=[Math.cos(d[0]),Math.cos(d[1])],We=y*re[1]*re[0]+M*Ae[1]*Ae[0],Ht=y*re[1]*U[0]+M*Ae[1]*Ee[0],Tn=y*U[1]+M*Ee[1];return[et(Math.atan2(Ht,We)),et(Math.atan2(Tn,Math.sqrt(We*We+Ht*Ht)))]}function Of(t,e){let r=0;const u=[];for(let M=0;M<t.length-1;M++){const U=t[M],re=t[M+1],Ee=Ud(U,re),Ae=r;r+=Ee,u.push({p1:U,p2:re,totalDistance:r,distance:Ee,lastTotalDistance:Ae})}const d=r*e;let h,y;for(const M of u)if(M.totalDistance>d){const re=M.p1,Ee=M.p2,Ae=(d-M.lastTotalDistance)/M.distance,We=hf(Ee,re,Ae);h=We[0],y=We[1];break}return{lng:h,lat:y,height:0}}function hf(t,e,r){return[t[0]*r+e[0]*(1-r),t[1]*r+e[1]*(1-r)]}function Ud(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}var dd=Object.defineProperty,pf=Object.getOwnPropertySymbols,nd=Object.prototype.hasOwnProperty,Kd=Object.prototype.propertyIsEnumerable,sc=(t,e,r)=>e in t?dd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gc=(t,e)=>{for(var r in e||(e={}))nd.call(e,r)&&sc(t,r,e[r]);if(pf)for(var r of pf(e))Kd.call(e,r)&&sc(t,r,e[r]);return t};function ee(t,e){const{featureId:r}=e;let u=t.data.dataArray;return typeof r=="number"&&(u=u.filter(({id:d})=>d===r)),u.map(d=>{const h=Ve(d,e);return Gc(Gc({},d),h)})}function Me(t,e){return new Promise(r=>{t.inited?r(ee(t,e)):t.once("update",()=>{r(ee(t,e))})})}function Ve(t,e){const{offset:r,shape:u,thetaOffset:d,segmentNumber:h=30,autoFit:y=!0}=e,{coordinates:M}=t;if(u==="line")return Of(M,r);const U=M[0],re=M[1],Ee=typeof d=="string"?t[d]||0:d;let Ae;switch(u){case"arc":Ae=Ef;break;case"greatcircle":Ae=kl;break;default:Ae=Ef}const[We,Ht,Tn]=Ae(U,re,r,Ee,h,y);return{lng:We,lat:Ht,height:Tn}}var Tt=class{constructor(t=50,e){this.limit=t,this.destroy=e||this.defaultDestroy,this.order=[],this.clear()}clear(){this.order.forEach(t=>{this.delete(t)}),this.cache={},this.order=[]}get(t){const e=this.cache[t];return e&&(this.deleteOrder(t),this.appendOrder(t)),e}set(t,e){this.cache[t]?(this.delete(t),this.cache[t]=e,this.appendOrder(t)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[t]=e,this.appendOrder(t))}delete(t){const e=this.cache[t];e&&(this.deleteCache(t),this.deleteOrder(t),this.destroy(e,t))}deleteCache(t){delete this.cache[t]}deleteOrder(t){const e=this.order.findIndex(r=>r===t);e>=0&&this.order.splice(e,1)}appendOrder(t){this.order.push(t)}defaultDestroy(t,e){return null}};function pn(t){if(t.length===0)throw new Error("max requires at least one data point");let e=t[0];for(let r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e*1}function yn(t){if(t.length===0)throw new Error("min requires at least one data point");let e=t[0];for(let r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e*1}function Vn(t){if(t.length===0)return 0;let e=t[0]*1;for(let r=1;r<t.length;r++)e+=t[r]*1;return e}function Pr(t){if(t.length===0)throw new Error("mean requires at least one data point");return Vn(t)/t.length}function Zi(t){if(t.length===0)throw new Error("mean requires at least one data point");if(t.length<3)return t[0];t.sort();let e=t[0],r=NaN,u=0,d=1;for(let h=1;h<t.length+1;h++)t[h]!==e?(d>u&&(u=d,r=e),d=1,e=t[h]):d++;return r*1}var ji={min:yn,max:pn,mean:Pr,sum:Vn,mode:Zi};function Dt(t,e){return t.map(r=>r[e])}function Ta(t,e){return ji[t](e)}function ba(t,e){e===void 0&&(e={});var r=Number(t[0]),u=Number(t[1]),d=Number(t[2]),h=Number(t[3]);if(t.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var y=[r,u],M=[r,h],U=[d,h],re=[d,u];return _t([[y,re,U,M,y]],e.properties,{bbox:t,id:e.id})}var yi=A(11312),ko=A.n(yi),pu=(t=>(t.Realtime="realtime",t.Overlap="overlap",t.Replace="replace",t))(pu||{}),gu=(t=>(t.Loading="Loading",t.Loaded="Loaded",t.Failure="Failure",t.Cancelled="Cancelled",t))(gu||{}),ps=0,Zs=1,ss=2;function wl(t){t.forEach(e=>{e.isCurrent&&(e.isVisible=e.isLoaded)})}function ol(t){t.forEach(e=>{e.properties.state=ps}),t.forEach(e=>{e.isCurrent&&!Fl(e)&&Rl(e)}),t.forEach(e=>{e.isVisible=!!(e.properties.state&ss)})}function Lo(t){t.forEach(r=>{r.properties.state=ps}),t.forEach(r=>{r.isCurrent&&Fl(r)}),t.slice().sort((r,u)=>r.z-u.z).forEach(r=>{r.isVisible=!!(r.properties.state&ss),r.children.length&&(r.isVisible||r.properties.state&Zs)?r.children.forEach(u=>{u.properties.state=Zs}):r.isCurrent&&Rl(r)})}function Fl(t){for(;t;){if(t.isLoaded)return t.properties.state|=ss,!0;t=t.parent}return!1}function Rl(t){t.children.forEach(e=>{e.isLoaded?e.properties.state|=ss:Rl(e)})}var Kl=256,xu=[-1/0,-1/0,1/0,1/0],xc=.2,Vl=5,Js={[pu.Realtime]:wl,[pu.Overlap]:ol,[pu.Replace]:Lo},mu=()=>{};function Nu(t,e,r){const u=Math.floor((t+180)/360*Math.pow(2,r)),d=Math.floor((1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,r));return[u,d]}function vu(t,e,r){const u=t/Math.pow(2,r)*360-180,d=Math.PI-2*Math.PI*e/Math.pow(2,r),h=180/Math.PI*Math.atan(.5*(Math.exp(d)-Math.exp(-d)));return[u,h]}var yc=(t,e,r)=>{const[u,d]=vu(t,e,r),[h,y]=vu(t+1,e+1,r);return[u,y,h,d]};function bl({zoom:t,latLonBounds:e,maxZoom:r=1/0,minZoom:u=0,zoomOffset:d=0,extent:h=xu}){let y=Math.ceil(t)+d;if(Number.isFinite(u)&&y<u)return[];Number.isFinite(r)&&y>r&&(y=r);const[M,U,re,Ee]=e,Ae=[Math.max(M,h[0]),Math.max(U,h[1]),Math.min(re,h[2]),Math.min(Ee,h[3])],We=[],[Ht,Tn]=Nu(Ae[0],Ae[1],y),[Fn,br]=Nu(Ae[2],Ae[3],y);for(let ca=Ht;ca<=Fn;ca++)for(let Da=br;Da<=Tn;Da++)We.push({x:ca,y:Da,z:y});const ei=(Fn+Ht)/2,Jr=(Tn+br)/2,zi=(ca,Da)=>Math.abs(ca-ei)+Math.abs(Da-Jr);return We.sort((ca,Da)=>zi(ca.x,ca.y)-zi(Da.x,Da.y)),We}var pc=(t,e,r,u=!0)=>{const d=Math.pow(2,r),h=d-1,y=d;let M=t;const U=e;return u&&(M<0?M=M+y:M>h&&(M=M%y)),{warpX:M,warpY:U}},Hi=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),Yc=class extends yi.EventEmitter{constructor(t){super(),this.tileSize=256,this.isVisible=!1,this.isCurrent=!1,this.isVisibleChange=!1,this.loadedLayers=0,this.isLayerLoaded=!1,this.isLoad=!1,this.isChildLoad=!1,this.parent=null,this.children=[],this.data=null,this.properties={},this.loadDataId=0;const{x:e,y:r,z:u,tileSize:d,warp:h=!0}=t;this.x=e,this.y=r,this.z=u,this.warp=h||!0,this.tileSize=d}get isLoading(){return this.loadStatus===gu.Loading}get isLoaded(){return this.loadStatus===gu.Loaded}get isFailure(){return this.loadStatus===gu.Failure}setTileLayerLoaded(){this.isLayerLoaded=!0}get isCancelled(){return this.loadStatus===gu.Cancelled}get isDone(){return[gu.Loaded,gu.Cancelled,gu.Failure].includes(this.loadStatus)}get bounds(){return yc(this.x,this.y,this.z)}get bboxPolygon(){const[t,e,r,u]=this.bounds,d=[(r-t)/2,(u-e)/2];return ba(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:d,meta:`
      ${this.key}
      `}})}get key(){return`${this.x}_${this.y}_${this.z}`}layerLoad(){this.loadedLayers++,this.emit("layerLoaded")}loadData(t){return Hi(this,arguments,function*({getData:e,onLoad:r,onError:u}){this.loadDataId++;const d=this.loadDataId;this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=gu.Loading;let h=null,y;try{const{x:M,y:U,z:re,bounds:Ee,tileSize:Ae,warp:We}=this,{warpX:Ht,warpY:Tn}=pc(M,U,re,We),{signal:Fn}=this.abortController;h=yield e({x:Ht,y:Tn,z:re,bounds:Ee,tileSize:Ae,signal:Fn,warp:We},this)}catch(M){y=M}if(d===this.loadDataId&&!(this.isCancelled&&!h)){if(y||!h){this.loadStatus=gu.Failure,u(y,this);return}this.loadStatus=gu.Loaded,this.data=h,r(this)}})}reloadData(t){this.isLoading&&this.abortLoad(),this.loadData(t)}abortLoad(){this.isLoaded||this.isCancelled||(this.loadStatus=gu.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}},js=(t,e)=>{const r=Fc(t),u=Tl(r,e),d=360*3-180,h=85.0511287798065;return[Math.max(u[0][0],-d),Math.max(u[0][1],-h),Math.min(u[1][0],d),Math.min(u[1][1],h)]},Li=(t,e)=>{const r=Fc(t),u=Fc(e);return ed(r,u)},$o=Object.defineProperty,$c=Object.defineProperties,nc=Object.getOwnPropertyDescriptors,rd=Object.getOwnPropertySymbols,qu=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,L=(t,e,r)=>e in t?$o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,we=(t,e)=>{for(var r in e||(e={}))qu.call(e,r)&&L(t,r,e[r]);if(rd)for(var r of rd(e))b.call(e,r)&&L(t,r,e[r]);return t},On=(t,e)=>$c(t,nc(e)),{throttle:_i}=yo,Oa=(t=>(t.TilesLoadStart="tiles-load-start",t.TileLoaded="tile-loaded",t.TileError="tile-error",t.TileUnload="tile-unload",t.TileUpdate="tile-update",t.TilesLoadFinished="tiles-load-finished",t))(Oa||{}),Xa=class extends ko(){constructor(t){super(),this.currentTiles=[],this.cacheTiles=new Map,this.throttleUpdate=_i((e,r)=>{this.update(e,r)},16),this.onTileLoad=e=>{this.emit("tile-loaded",e),this.updateTileVisible(),this.loadFinished()},this.onTileError=(e,r)=>{this.emit("tile-error",{error:e,tile:r}),this.updateTileVisible(),this.loadFinished()},this.onTileUnload=e=>{this.emit("tile-unload",e),this.loadFinished()},this.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:xu,getTileData:mu,warp:!0,updateStrategy:pu.Replace},this.updateOptions(t)}get isLoaded(){return this.currentTiles.every(t=>t.isDone)}get tiles(){return Array.from(this.cacheTiles.values()).sort((e,r)=>e.z-r.z)}updateOptions(t){const e=t.minZoom===void 0?this.options.minZoom:Math.ceil(t.minZoom),r=t.maxZoom===void 0?this.options.maxZoom:Math.floor(t.maxZoom);this.options=On(we(we({},this.options),t),{minZoom:e,maxZoom:r})}update(t,e){const r=Math.max(0,Math.ceil(t));if(this.lastViewStates&&this.lastViewStates.zoom===r&&Li(this.lastViewStates.latLonBoundsBuffer,e))return;const u=js(e,xc);this.lastViewStates={zoom:r,latLonBounds:e,latLonBoundsBuffer:u},this.currentZoom=r;let d=!1;const h=this.getTileIndices(r,u).filter(y=>this.options.warp||y.x>=0&&y.x<Math.pow(2,r));this.emit("tiles-load-start"),this.currentTiles=h.map(({x:y,y:M,z:U})=>{let re=this.getTile(y,M,U);return re?(((re==null?void 0:re.isFailure)||(re==null?void 0:re.isCancelled))&&re.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),re):(re=this.createTile(y,M,U),d=!0,re)}),d&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests()}reloadAll(){for(const[t,e]of this.cacheTiles){if(!this.currentTiles.includes(e)){this.cacheTiles.delete(t),this.onTileUnload(e);return}this.onTileUnload(e),e.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}reloadTileById(t,e,r){const u=this.cacheTiles.get(`${e},${r},${t}`);u&&(this.onTileUnload(u),u.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}))}reloadTileByLnglat(t,e,r){const u=this.getTileByLngLat(t,e,r);u&&this.reloadTileById(u.z,u.x,u.y)}reloadTileByExtent(t,e){this.getTileIndices(e,t).forEach(u=>{this.reloadTileById(u.z,u.x,u.y)})}pruneRequests(){const t=[];for(const e of this.cacheTiles.values())e.isLoading&&!e.isCurrent&&!e.isVisible&&t.push(e);for(;t.length>0;)t.shift().abortLoad()}getTileByLngLat(t,e,r){const{zoomOffset:u}=this.options,d=Math.ceil(r)+u,h=Nu(t,e,d);return this.tiles.filter(M=>M.key===`${h[0]}_${h[1]}_${d}`)[0]}getTileExtent(t,e){return this.getTileIndices(e,t)}getTileByZXY(t,e,r){return this.tiles.filter(d=>d.key===`${e}_${r}_${t}`)[0]}clear(){for(const t of this.cacheTiles.values())t.isLoading?t.abortLoad():this.onTileUnload(t);this.lastViewStates=void 0,this.cacheTiles.clear(),this.currentTiles=[]}destroy(){this.clear(),this.removeAllListeners()}updateTileVisible(){const t=this.options.updateStrategy,e=new Map;for(const d of this.cacheTiles.values())e.set(d.key,d.isVisible),d.isCurrent=!1,d.isVisible=!1;for(const d of this.currentTiles)d.isCurrent=!0,d.isVisible=!0;const r=Array.from(this.cacheTiles.values());typeof t=="function"?t(r):Js[t](r);let u=!1;Array.from(this.cacheTiles.values()).forEach(d=>{d.isVisible!==e.get(d.key)?(d.isVisibleChange=!0,u=!0):d.isVisibleChange=!1}),u&&this.emit("tile-update")}getTileIndices(t,e){const{tileSize:r,extent:u,zoomOffset:d}=this.options,h=Math.floor(this.options.maxZoom),y=Math.ceil(this.options.minZoom);return bl({maxZoom:h,minZoom:y,zoomOffset:d,tileSize:r,zoom:t,latLonBounds:e,extent:u})}getTileId(t,e,r){return`${t},${e},${r}`}loadFinished(){const t=!this.currentTiles.some(e=>!e.isDone);return t&&this.emit("tiles-load-finished"),t}getTile(t,e,r){const u=this.getTileId(t,e,r);return this.cacheTiles.get(u)}createTile(t,e,r){const u=this.getTileId(t,e,r),d=new Yc({x:t,y:e,z:r,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(u,d),d.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),d}resizeCacheTiles(){const t=Vl*this.currentTiles.length;if(this.cacheTiles.size>t){for(const[r,u]of this.cacheTiles)if(!u.isVisible&&!this.currentTiles.includes(u)&&(this.cacheTiles.delete(r),this.onTileUnload(u)),this.cacheTiles.size<=t)break}this.rebuildTileTree()}rebuildTileTree(){for(const t of this.cacheTiles.values())t.parent=null,t.children.length=0;for(const t of this.cacheTiles.values()){const e=this.getNearestAncestor(t.x,t.y,t.z);t.parent=e,e!=null&&e.children&&e.children.push(t)}}getNearestAncestor(t,e,r){for(;r>this.options.minZoom;){t=Math.floor(t/2),e=Math.floor(e/2),r=r-1;const u=this.getTile(t,e,r);if(u)return u}return null}};function ts(t){return/(?=.*{box})(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(t)}function is(t){const e=[];let r=/\{([a-z])-([a-z])\}/.exec(t);if(r){const u=r[1].charCodeAt(0),d=r[2].charCodeAt(0);let h;for(h=u;h<=d;++h)e.push(t.replace(r[0],String.fromCharCode(h)));return e}if(r=/\{(\d+)-(\d+)\}/.exec(t),r){const u=parseInt(r[2],10);for(let d=parseInt(r[1],10);d<=u;d++)e.push(t.replace(r[0],d.toString()));return e}return e.push(t),e}function Co(t,e){if(!t||!t.length)throw new Error("url is not allowed to be empty");const{x:r,y:u,z:d}=e,h=is(t),y=Math.abs(r+u)%h.length;return(oi(h[y])?`${h[y]}/{z}/{x}/{y}`:h[y]).replace(/\{x\}/g,r.toString()).replace(/\{y\}/g,u.toString()).replace(/\{z\}/g,d.toString()).replace(/\{bbox\}/g,yc(r,u,d).join(",")).replace(/\{-y\}/g,(Math.pow(2,d)-u-1).toString())}function Vu(t,e){const{x:r,y:u,z:d,layer:h,version:y="1.0.0",style:M="default",format:U,service:re="WMTS",tileMatrixset:Ee}=e,Ae=is(t),We=Math.abs(r+u)%Ae.length;return`${Ae[We]}&SERVICE=${re}&REQUEST=GetTile&VERSION=${y}&LAYER=${h}&STYLE=${M}&TILEMATRIXSET=${Ee}&FORMAT=${U}&TILECOL=${r}&TILEROW=${u}&TILEMATRIX=${d}`}function ul(t,e){return t==null?e:t}var ef=A(47903),Tc=A.n(ef);function _h(t,e){return t.map(r=>r[e]*1)}function bh(t){return t===void 0?!1:!Array.isArray(t)&&t.data!==void 0}function rh(t){return Array.isArray(t)?t.length===0?!1:!!bh(t[0]):!1}function ho(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":!1}function Yo(t){const e=Object.isFrozen(t)?yo.cloneDeep(t):t;return Tc()(e,!0),e}function cu(t,e){return t||[[e[0],e[3]],[e[2],e[3]],[e[2],e[1]],[e[0],e[1]]]}var el=Object.defineProperty,Hs=Object.defineProperties,Xf=Object.getOwnPropertyDescriptors,tf=Object.getOwnPropertySymbols,Gl=Object.prototype.hasOwnProperty,Uf=Object.prototype.propertyIsEnumerable,rc=(t,e,r)=>e in t?el(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Du=(t,e)=>{for(var r in e||(e={}))Gl.call(e,r)&&rc(t,r,e[r]);if(tf)for(var r of tf(e))Uf.call(e,r)&&rc(t,r,e[r]);return t},zc=(t,e)=>Hs(t,Xf(e));function zf(t,e){const{x:r,y:u,x1:d,y1:h,coordinates:y,geometry:M}=e,U=[];if(!Array.isArray(t))return{dataArray:[]};if(M)return t.filter(re=>re[M]&&re[M].type&&re[M].coordinates&&re[M].coordinates.length>0).forEach((re,Ee)=>{const Ae=Yo(re[M]);hn(Ae,We=>{const Ht=ir(We),Tn=zc(Du({},re),{_id:Ee,coordinates:Ht});U.push(Tn)})}),{dataArray:U};for(let re=0;re<t.length;re++){const Ee=t[re];let Ae=[];if(y){let Ht="Polygon";Array.isArray(y[0])||(Ht="Point"),Array.isArray(y[0])&&!Array.isArray(y[0][0])&&(Ht="LineString"),Ae=Yo({type:Ht,coordinates:Ee[y]}).coordinates}else if(r&&u&&d&&h){const Ht=[parseFloat(Ee[r]),parseFloat(Ee[u])],Tn=[parseFloat(Ee[d]),parseFloat(Ee[h])];Ae=[Ht,Tn]}else r&&u&&(Ae=[parseFloat(Ee[r]),parseFloat(Ee[u])]);const We=zc(Du({},Ee),{_id:re,coordinates:Ae});U.push(We)}return{dataArray:U}}function Qu(t,e){const r=lt(t);return zf(r,e)}var xp=Object.defineProperty,Zf=Object.defineProperties,Gh=Object.getOwnPropertyDescriptors,ih=Object.getOwnPropertySymbols,Tp=Object.prototype.hasOwnProperty,Z0=Object.prototype.propertyIsEnumerable,wh=(t,e,r)=>e in t?xp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sc=(t,e)=>{for(var r in e||(e={}))Tp.call(e,r)&&wh(t,r,e[r]);if(ih)for(var r of ih(e))Z0.call(e,r)&&wh(t,r,e[r]);return t},xf=(t,e)=>Zf(t,Gh(e));function m0(t){const e=t.toString();let r=5381,u=e.length;for(;u;)r=r*33^e.charCodeAt(--u);return r>>>0}function ah(t,e){return e===void 0?null:typeof(t.properties[e]*1)=="number"?t.properties[e]*1:t.properties&&t.properties[e]?m0(t.properties[e]+"")%1000019:null}function gf(t,e){const r=[],u={};return t.features?(t.features=t.features.filter(d=>{const h=d.geometry;return d!=null&&h&&h.type&&h.coordinates&&h.coordinates.length>0}),t=Yo(t),t.features.length===0?{dataArray:[],featureKeys:u}:(hn(t,(d,h)=>{let y=ah(d,e==null?void 0:e.featureId);y===null&&(y=h);const M=y,U=ir(d),re=xf(Sc({},d.properties),{coordinates:U,_id:M});r.push(re)}),{dataArray:r,featureKeys:u})):(t.features=[],{dataArray:[]})}function Xc(t,e,r,u){for(var d=u,h=r-e>>1,y=r-e,M,U=t[e],re=t[e+1],Ee=t[r],Ae=t[r+1],We=e+3;We<r;We+=3){var Ht=P0(t[We],t[We+1],U,re,Ee,Ae);if(Ht>d)M=We,d=Ht;else if(Ht===d){var Tn=Math.abs(We-h);Tn<y&&(M=We,y=Tn)}}d>u&&(M-e>3&&Xc(t,e,M,u),t[M+2]=d,r-M>3&&Xc(t,M,r,u))}function P0(t,e,r,u,d,h){var y=d-r,M=h-u;if(y!==0||M!==0){var U=((t-r)*y+(e-u)*M)/(y*y+M*M);U>1?(r=d,u=h):U>0&&(r+=y*U,u+=M*U)}return y=t-r,M=e-u,y*y+M*M}function Rd(t,e,r,u){var d={id:typeof t=="undefined"?null:t,type:e,geometry:r,tags:u,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return oh(d),d}function oh(t){var e=t.geometry,r=t.type;if(r==="Point"||r==="MultiPoint"||r==="LineString")nf(t,e);else if(r==="Polygon"||r==="MultiLineString")for(var u=0;u<e.length;u++)nf(t,e[u]);else if(r==="MultiPolygon")for(u=0;u<e.length;u++)for(var d=0;d<e[u].length;d++)nf(t,e[u][d])}function nf(t,e){for(var r=0;r<e.length;r+=3)t.minX=Math.min(t.minX,e[r]),t.minY=Math.min(t.minY,e[r+1]),t.maxX=Math.max(t.maxX,e[r]),t.maxY=Math.max(t.maxY,e[r+1])}function zd(t,e){var r=[];if(t.type==="FeatureCollection")for(var u=0;u<t.features.length;u++)Sl(r,t.features[u],e,u);else t.type==="Feature"?Sl(r,t,e):Sl(r,{geometry:t},e);return r}function Sl(t,e,r,u){if(e.geometry){var d=e.geometry.coordinates,h=e.geometry.type,y=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),M=[],U=e.id;if(r.promoteId?U=e.properties[r.promoteId]:r.generateId&&(U=u||0),h==="Point")Zd(d,M);else if(h==="MultiPoint")for(var re=0;re<d.length;re++)Zd(d[re],M);else if(h==="LineString")hd(d,M,y,!1);else if(h==="MultiLineString")if(r.lineMetrics){for(re=0;re<d.length;re++)M=[],hd(d[re],M,y,!1),t.push(Rd(U,"LineString",M,e.properties));return}else Mh(d,M,y,!1);else if(h==="Polygon")Mh(d,M,y,!0);else if(h==="MultiPolygon")for(re=0;re<d.length;re++){var Ee=[];Mh(d[re],Ee,y,!0),M.push(Ee)}else if(h==="GeometryCollection"){for(re=0;re<e.geometry.geometries.length;re++)Sl(t,{id:U,geometry:e.geometry.geometries[re],properties:e.properties},r,u);return}else throw new Error("Input data is not a valid GeoJSON object.");t.push(Rd(U,h,M,e.properties))}}function Zd(t,e){e.push(Pd(t[0])),e.push(bd(t[1])),e.push(0)}function hd(t,e,r,u){for(var d,h,y=0,M=0;M<t.length;M++){var U=Pd(t[M][0]),re=bd(t[M][1]);e.push(U),e.push(re),e.push(0),M>0&&(u?y+=(d*re-U*h)/2:y+=Math.sqrt(Math.pow(U-d,2)+Math.pow(re-h,2))),d=U,h=re}var Ee=e.length-3;e[2]=1,Xc(e,0,Ee,r),e[Ee+2]=1,e.size=Math.abs(y),e.start=0,e.end=e.size}function Mh(t,e,r,u){for(var d=0;d<t.length;d++){var h=[];hd(t[d],h,r,u),e.push(h)}}function Pd(t){return t/360+.5}function bd(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Kc(t,e,r,u,d,h,y,M){if(r/=e,u/=e,h>=r&&y<u)return t;if(y<r||h>=u)return null;for(var U=[],re=0;re<t.length;re++){var Ee=t[re],Ae=Ee.geometry,We=Ee.type,Ht=d===0?Ee.minX:Ee.minY,Tn=d===0?Ee.maxX:Ee.maxY;if(Ht>=r&&Tn<u){U.push(Ee);continue}else if(Tn<r||Ht>=u)continue;var Fn=[];if(We==="Point"||We==="MultiPoint")Sp(Ae,Fn,r,u,d);else if(We==="LineString")i0(Ae,Fn,r,u,d,!1,M.lineMetrics);else if(We==="MultiLineString")Rh(Ae,Fn,r,u,d,!1);else if(We==="Polygon")Rh(Ae,Fn,r,u,d,!0);else if(We==="MultiPolygon")for(var br=0;br<Ae.length;br++){var ei=[];Rh(Ae[br],ei,r,u,d,!0),ei.length&&Fn.push(ei)}if(Fn.length){if(M.lineMetrics&&We==="LineString"){for(br=0;br<Fn.length;br++)U.push(Rd(Ee.id,We,Fn[br],Ee.tags));continue}(We==="LineString"||We==="MultiLineString")&&(Fn.length===1?(We="LineString",Fn=Fn[0]):We="MultiLineString"),(We==="Point"||We==="MultiPoint")&&(We=Fn.length===3?"Point":"MultiPoint"),U.push(Rd(Ee.id,We,Fn,Ee.tags))}}return U.length?U:null}function Sp(t,e,r,u,d){for(var h=0;h<t.length;h+=3){var y=t[h+d];y>=r&&y<=u&&(e.push(t[h]),e.push(t[h+1]),e.push(t[h+2]))}}function i0(t,e,r,u,d,h,y){for(var M=sh(t),U=d===0?Ph:Ih,re=t.start,Ee,Ae,We=0;We<t.length-3;We+=3){var Ht=t[We],Tn=t[We+1],Fn=t[We+2],br=t[We+3],ei=t[We+4],Jr=d===0?Ht:Tn,zi=d===0?br:ei,ca=!1;y&&(Ee=Math.sqrt(Math.pow(Ht-br,2)+Math.pow(Tn-ei,2))),Jr<r?zi>r&&(Ae=U(M,Ht,Tn,br,ei,r),y&&(M.start=re+Ee*Ae)):Jr>u?zi<u&&(Ae=U(M,Ht,Tn,br,ei,u),y&&(M.start=re+Ee*Ae)):v0(M,Ht,Tn,Fn),zi<r&&Jr>=r&&(Ae=U(M,Ht,Tn,br,ei,r),ca=!0),zi>u&&Jr<=u&&(Ae=U(M,Ht,Tn,br,ei,u),ca=!0),!h&&ca&&(y&&(M.end=re+Ee*Ae),e.push(M),M=sh(t)),y&&(re+=Ee)}var Da=t.length-3;Ht=t[Da],Tn=t[Da+1],Fn=t[Da+2],Jr=d===0?Ht:Tn,Jr>=r&&Jr<=u&&v0(M,Ht,Tn,Fn),Da=M.length-3,h&&Da>=3&&(M[Da]!==M[0]||M[Da+1]!==M[1])&&v0(M,M[0],M[1],M[2]),M.length&&e.push(M)}function sh(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Rh(t,e,r,u,d,h){for(var y=0;y<t.length;y++)i0(t[y],e,r,u,d,h,!1)}function v0(t,e,r,u){t.push(e),t.push(r),t.push(u)}function Ph(t,e,r,u,d,h){var y=(h-e)/(u-e);return t.push(h),t.push(r+(d-r)*y),t.push(1),y}function Ih(t,e,r,u,d,h){var y=(h-r)/(d-r);return t.push(e+(u-e)*y),t.push(h),t.push(1),y}function Ap(t,e){var r=e.buffer/e.extent,u=t,d=Kc(t,1,-1-r,r,0,-1,2,e),h=Kc(t,1,1-r,2+r,0,-1,2,e);return(d||h)&&(u=Kc(t,1,-r,1+r,0,-1,2,e)||[],d&&(u=j0(d,1).concat(u)),h&&(u=u.concat(j0(h,-1)))),u}function j0(t,e){for(var r=[],u=0;u<t.length;u++){var d=t[u],h=d.type,y;if(h==="Point"||h==="MultiPoint"||h==="LineString")y=a0(d.geometry,e);else if(h==="MultiLineString"||h==="Polygon"){y=[];for(var M=0;M<d.geometry.length;M++)y.push(a0(d.geometry[M],e))}else if(h==="MultiPolygon")for(y=[],M=0;M<d.geometry.length;M++){for(var U=[],re=0;re<d.geometry[M].length;re++)U.push(a0(d.geometry[M][re],e));y.push(U)}r.push(Rd(d.id,h,y,d.tags))}return r}function a0(t,e){var r=[];r.size=t.size,t.start!==void 0&&(r.start=t.start,r.end=t.end);for(var u=0;u<t.length;u+=3)r.push(t[u]+e,t[u+1],t[u+2]);return r}function y0(t,e){if(t.transformed)return t;var r=1<<t.z,u=t.x,d=t.y,h,y,M;for(h=0;h<t.features.length;h++){var U=t.features[h],re=U.geometry,Ee=U.type;if(U.geometry=[],Ee===1)for(y=0;y<re.length;y+=2)U.geometry.push(Cd(re[y],re[y+1],e,r,u,d));else for(y=0;y<re.length;y++){var Ae=[];for(M=0;M<re[y].length;M+=2)Ae.push(Cd(re[y][M],re[y][M+1],e,r,u,d));U.geometry.push(Ae)}}return t.transformed=!0,t}function Cd(t,e,r,u,d,h){return[Math.round(r*(t*u-d)),Math.round(r*(e*u-h))]}function Lh(t,e,r,u,d){for(var h=e===d.maxZoom?0:d.tolerance/((1<<e)*d.extent),y={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:u,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},M=0;M<t.length;M++){y.numFeatures++,Cp(y,t[M],h,d);var U=t[M].minX,re=t[M].minY,Ee=t[M].maxX,Ae=t[M].maxY;U<y.minX&&(y.minX=U),re<y.minY&&(y.minY=re),Ee>y.maxX&&(y.maxX=Ee),Ae>y.maxY&&(y.maxY=Ae)}return y}function Cp(t,e,r,u){var d=e.geometry,h=e.type,y=[];if(h==="Point"||h==="MultiPoint")for(var M=0;M<d.length;M+=3)y.push(d[M]),y.push(d[M+1]),t.numPoints++,t.numSimplified++;else if(h==="LineString")Zu(y,d,t,r,!1,!1);else if(h==="MultiLineString"||h==="Polygon")for(M=0;M<d.length;M++)Zu(y,d[M],t,r,h==="Polygon",M===0);else if(h==="MultiPolygon")for(var U=0;U<d.length;U++){var re=d[U];for(M=0;M<re.length;M++)Zu(y,re[M],t,r,!0,M===0)}if(y.length){var Ee=e.tags||null;if(h==="LineString"&&u.lineMetrics){Ee={};for(var Ae in e.tags)Ee[Ae]=e.tags[Ae];Ee.mapbox_clip_start=d.start/d.size,Ee.mapbox_clip_end=d.end/d.size}var We={geometry:y,type:h==="Polygon"||h==="MultiPolygon"?3:h==="LineString"||h==="MultiLineString"?2:1,tags:Ee};e.id!==null&&(We.id=e.id),t.features.push(We)}}function Zu(t,e,r,u,d,h){var y=u*u;if(u>0&&e.size<(d?y:u)){r.numPoints+=e.length/3;return}for(var M=[],U=0;U<e.length;U+=3)(u===0||e[U+2]>y)&&(r.numSimplified++,M.push(e[U]),M.push(e[U+1])),r.numPoints++;d&&ep(M,h),t.push(M)}function ep(t,e){for(var r=0,u=0,d=t.length,h=d-2;u<d;h=u,u+=2)r+=(t[u]-t[h])*(t[u+1]+t[h+1]);if(r>0===e)for(u=0,d=t.length;u<d/2;u+=2){var y=t[u],M=t[u+1];t[u]=t[d-2-u],t[u+1]=t[d-1-u],t[d-2-u]=y,t[d-1-u]=M}}function _0(t,e){return new Nh(t,e)}function Nh(t,e){e=this.options=Op(Object.create(this.options),e);var r=e.debug;if(r&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var u=zd(t,e);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),u=Ap(u,e),u.length&&this.splitTile(u,0,0,0),r&&(u.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Nh.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Nh.prototype.splitTile=function(t,e,r,u,d,h,y){for(var M=[t,e,r,u],U=this.options,re=U.debug;M.length;){u=M.pop(),r=M.pop(),e=M.pop(),t=M.pop();var Ee=1<<e,Ae=Ho(e,r,u),We=this.tiles[Ae];if(!We&&(re>1&&console.time("creation"),We=this.tiles[Ae]=Lh(t,e,r,u,U),this.tileCoords.push({z:e,x:r,y:u}),re)){re>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,r,u,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var Ht="z"+e;this.stats[Ht]=(this.stats[Ht]||0)+1,this.total++}if(We.source=t,d){if(e===U.maxZoom||e===d)continue;var Tn=1<<d-e;if(r!==Math.floor(h/Tn)||u!==Math.floor(y/Tn))continue}else if(e===U.indexMaxZoom||We.numPoints<=U.indexMaxPoints)continue;if(We.source=null,t.length!==0){re>1&&console.time("clipping");var Fn=.5*U.buffer/U.extent,br=.5-Fn,ei=.5+Fn,Jr=1+Fn,zi,ca,Da,Va,va,io;zi=ca=Da=Va=null,va=Kc(t,Ee,r-Fn,r+ei,0,We.minX,We.maxX,U),io=Kc(t,Ee,r+br,r+Jr,0,We.minX,We.maxX,U),t=null,va&&(zi=Kc(va,Ee,u-Fn,u+ei,1,We.minY,We.maxY,U),ca=Kc(va,Ee,u+br,u+Jr,1,We.minY,We.maxY,U),va=null),io&&(Da=Kc(io,Ee,u-Fn,u+ei,1,We.minY,We.maxY,U),Va=Kc(io,Ee,u+br,u+Jr,1,We.minY,We.maxY,U),io=null),re>1&&console.timeEnd("clipping"),M.push(zi||[],e+1,r*2,u*2),M.push(ca||[],e+1,r*2,u*2+1),M.push(Da||[],e+1,r*2+1,u*2),M.push(Va||[],e+1,r*2+1,u*2+1)}}},Nh.prototype.getTile=function(t,e,r){var u=this.options,d=u.extent,h=u.debug;if(t<0||t>24)return null;var y=1<<t;e=(e%y+y)%y;var M=Ho(t,e,r);if(this.tiles[M])return y0(this.tiles[M],d);h>1&&console.log("drilling down to z%d-%d-%d",t,e,r);for(var U=t,re=e,Ee=r,Ae;!Ae&&U>0;)U--,re=Math.floor(re/2),Ee=Math.floor(Ee/2),Ae=this.tiles[Ho(U,re,Ee)];return!Ae||!Ae.source?null:(h>1&&console.log("found parent tile z%d-%d-%d",U,re,Ee),h>1&&console.time("drilling down"),this.splitTile(Ae.source,U,re,Ee,t,e,r),h>1&&console.timeEnd("drilling down"),this.tiles[M]?y0(this.tiles[M],d):null)};function Ho(t,e,r){return((1<<t)*r+e)*32+t}function Op(t,e){for(var r in e)t[r]=e[r];return t}var o0=class{constructor(t,e,r,u){this.vectorLayerCache={},this.x=e,this.y=r,this.z=u,this.vectorTile=t}getTileData(t){return!t||!this.vectorTile.layers[t]?[]:this.vectorLayerCache[t]?this.vectorLayerCache[t]:this.vectorTile.layers[t].features}getFeatureById(){throw new Error("Method not implemented.")}},wf=Object.defineProperty,Od=Object.defineProperties,Ed=Object.getOwnPropertyDescriptors,id=Object.getOwnPropertySymbols,uh=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,F=(t,e,r)=>e in t?wf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ce=(t,e)=>{for(var r in e||(e={}))uh.call(e,r)&&F(t,r,e[r]);if(id)for(var r of id(e))N.call(e,r)&&F(t,r,e[r]);return t},ht=(t,e)=>Od(t,Ed(e)),Ft=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),kn={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0};function si(t){let e=0;for(let r=0,u=t.length,d=u-1,h,y;r<u;d=r++)h=t[r],y=t[d],e+=(y.x-h.x)*(h.y+y.y);return e}function ki(t){const e=t.length;if(e<=1)return[t];const r=[];let u,d;for(let h=0;h<e;h++){const y=si(t[h]);y!==0&&(d===void 0&&(d=y<0),d===y<0?(u&&r.push(u),u=[t[h]]):u.push(t[h]))}return u&&r.push(u),r}var ro=["Unknown","Point","LineString","Polygon"];function bo(t,e,r,u,d){let h=d.geometry;const y=d.type,M=d.tags,U=d.id,re=t*Math.pow(2,u),Ee=t*e,Ae=t*r;let We=ro[y],Ht,Tn;function Fn(ei){for(let Jr=0;Jr<ei.length;Jr++){const zi=ei[Jr];if(zi[3])break;const ca=180-(zi[1]+Ae)*360/re,Da=(zi[0]+Ee)*360/re-180,Va=360/Math.PI*Math.atan(Math.exp(ca*Math.PI/180))-90;ei[Jr]=[Da,Va,0,1]}}switch(y){case 1:const ei=[];for(Ht=0;Ht<h.length;Ht++)ei[Ht]=h[Ht][0];h=ei,Fn(h);break;case 2:for(Ht=0;Ht<h.length;Ht++)Fn(h[Ht]);break;case 3:for(h=ki(h),Ht=0;Ht<h.length;Ht++)for(Tn=0;Tn<h[Ht].length;Tn++)Fn(h[Ht][Tn]);break}return h.length===1?h=h[0]:We="Multi"+We,{type:"Feature",geometry:{type:We,coordinates:h},properties:M,id:U,tileOrigin:[0,0],coord:""}}var Gs=(t,e,r,u)=>Ft(void 0,null,function*(){return new Promise(d=>{const h=e.getTile(t.z,t.x,t.y),M={layers:{defaultLayer:{features:h?h.features.map(re=>bo(u,r.x,r.y,r.z,re)):[]}}},U=new o0(M,t.x,t.y,t.z);d(U)})});function lu(t){const e={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return t===void 0||typeof t.geojsonvtOptions=="undefined"?e:ce(ce({},e),t.geojsonvtOptions)}function Us(t,e){const r=lu(e),u=r.extent||4096,d=_0(t,r),h=(M,U)=>Gs(U,d,M,u),y=ht(ce(ce({},kn),e),{getTileData:h});return{data:t,dataArray:[],tilesetOptions:y,isTile:!0}}var pl=Object.defineProperty,Ul=Object.defineProperties,ad=Object.getOwnPropertyDescriptors,ja=Object.getOwnPropertySymbols,Sa=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable,Is=(t,e,r)=>e in t?pl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tu=(t,e)=>{for(var r in e||(e={}))Sa.call(e,r)&&Is(t,r,e[r]);if(ja)for(var r of ja(e))uo.call(e,r)&&Is(t,r,e[r]);return t},uc=(t,e)=>Ul(t,ad(e));function Tu(t,e){const{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:u,requestParameters:d={}}=e,h=new Promise(U=>{t instanceof HTMLImageElement||rs(t)?U([t]):zl(t,d,re=>{U(re)})}),y=cu(u,r);return{originData:t,images:h,_id:1,dataArray:[{_id:0,coordinates:y}]}}function zl(t,e,r){const u=[];if(typeof t=="string")st(uc(tu({},e),{url:t}),(d,h)=>{h&&(u.push(h),r(u))});else{const d=t.length;let h=0;t.forEach(y=>{st(uc(tu({},e),{url:y}),(M,U)=>{h++,U&&u.push(U),h===d&&r(u)})})}return Tu}var rf=Object.defineProperty,fu=Object.defineProperties,xd=Object.getOwnPropertyDescriptors,Td=Object.getOwnPropertySymbols,Gp=Object.prototype.hasOwnProperty,Dh=Object.prototype.propertyIsEnumerable,Kf=(t,e,r)=>e in t?rf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yh=(t,e)=>{for(var r in e||(e={}))Gp.call(e,r)&&Kf(t,r,e[r]);if(Td)for(var r of Td(e))Dh.call(e,r)&&Kf(t,r,e[r]);return t},lh=(t,e)=>fu(t,xd(e)),wp=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),un=(t,e,r,u)=>wp(void 0,null,function*(){const d={x:e.x,y:e.y,z:e.z},h=Co(t,d);return new Promise(y=>{u?u(d,(M,U)=>{if(M||!U){const re={layers:{defaultLayer:{features:[]}}},Ee=new o0(re,e.x,e.y,e.z);y(Ee)}else{const re={layers:{defaultLayer:{features:U.features}}},Ee=new o0(re,e.x,e.y,e.z);y(Ee)}}):Bn(lh(Yh({},r),{url:h}),(M,U)=>{if(M||!U){const re={layers:{defaultLayer:{features:[]}}},Ee=new o0(re,e.x,e.y,e.z);y(Ee)}else{const Ee={layers:{defaultLayer:{features:JSON.parse(U)}}},Ae=new o0(Ee,e.x,e.y,e.z);y(Ae)}})})});function Mn(t,e){const r=(d,h)=>un(t,h,e==null?void 0:e.requestParameters,e.getCustomData),u=lh(Yh({},e),{getTileData:r});return{dataArray:[],tilesetOptions:u,isTile:!0}}var kr=A(99996),Yi=A(51663),Zo=A.n(Yi),os=Object.defineProperty,yu=Object.defineProperties,Pu=Object.getOwnPropertyDescriptors,tl=Object.getOwnPropertySymbols,rl=Object.prototype.hasOwnProperty,Mf=Object.prototype.propertyIsEnumerable,lc=(t,e,r)=>e in t?os(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ic=(t,e)=>{for(var r in e||(e={}))rl.call(e,r)&&lc(t,r,e[r]);if(tl)for(var r of tl(e))Mf.call(e,r)&&lc(t,r,e[r]);return t},W=(t,e)=>yu(t,Pu(e)),X=class{constructor(t,e,r,u){this.vectorLayerCache={},this.x=e,this.y=r,this.z=u,this.vectorTile=new kr.VectorTile(new(Zo())(t))}getTileData(t){if(!t||!this.vectorTile.layers[t])return[];if(this.vectorLayerCache[t])return this.vectorLayerCache[t];const e=this.vectorTile.layers[t];if(Array.isArray(e.features))return this.vectorLayerCache[t]=e.features,e.features;const r=[];for(let u=0;u<e.length;u++){const h=e.feature(u).toGeoJSON(this.x,this.y,this.z);r.push(W(ic({},h),{properties:ic({id:h.id},h.properties)}))}return this.vectorLayerCache[t]=r,r}getFeatureById(){throw new Error("Method not implemented.")}},E=Object.defineProperty,x=Object.defineProperties,V=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,bt=(t,e,r)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qt=(t,e)=>{for(var r in e||(e={}))he.call(e,r)&&bt(t,r,e[r]);if(pe)for(var r of pe(e))ke.call(e,r)&&bt(t,r,e[r]);return t},Te=(t,e)=>x(t,V(e)),ot=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),Wt={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},zn=(t,e,r,u,d)=>ot(void 0,null,function*(){const h=Co(t,e);return new Promise(y=>{if(d)d({x:r.x,y:r.y,z:r.z},(M,U)=>{if(M||!U)y(void 0);else{const re=new X(U,r.x,r.y,r.z);y(re)}});else{const M=Zt(Te(qt({},u),{url:h}),(U,re)=>{if(U||!re)y(void 0);else{const Ee=new X(re,r.x,r.y,r.z);y(Ee)}});r.xhrCancel=()=>M.cancel()}})});function qn(t,e){const r=Array.isArray(t)?t[0]:t,u=(h,y)=>zn(r,h,y,e==null?void 0:e.requestParameters,e==null?void 0:e.getCustomData),d=Te(qt(qt({},Wt),e),{getTileData:u});return{data:r,dataArray:[],tilesetOptions:d,isTile:!0}}function sr(t,e,r){switch(t){case"+":return e+r;case"-":return e-r;case"*":return e*r;case"/":return e/r;case"%":return e%r;case"^":return Math.pow(e,r);case"abs":return Math.abs(e);case"floor":return Math.floor(e);case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"sin":return Math.sin(e);case"cos":return Math.cos(e);case"atan":return r===-1?Math.atan(e):Math.atan2(e,r);case"min":return Math.min(e,r);case"max":return Math.max(e,r);case"log10":return Math.log(e);case"log2":return Math.log2(e);default:return console.warn("Calculate symbol err! Return default 0"),0}}function Qn(t,e){const{width:r,height:u}=e[0],d=e.map(U=>U.rasterData),h=r*u,y=[],M=JSON.stringify(t);for(let U=0;U<h;U++){const re=JSON.parse(M),Ee=Qr(re,d,U);if(typeof Ee=="number")y.push(Ee);else{const Ae=bi(re);y.push(Ae)}}return y}function Qr(t,e,r){if(t.length===2&&t[0]==="band"&&typeof t[1]=="number")try{return e[t[1]][r]}catch(u){return console.warn("Raster Data err!"),0}t.map((u,d)=>{if(Array.isArray(u)&&u.length>0)switch(u[0]){case"band":try{t[d]=e[u[1]][r]}catch(h){console.warn("Raster Data err!"),t[d]=0}break;default:Qr(u,e,r)}})}function Or(t){const[e,r=-1,u=-1]=t;return e===void 0?(console.warn("Express err!"),["+",0,0]):[e.replace(/\s+/g,""),r,u]}function bi(t){const e=Or(t),r=e[0];let u=e[1],d=e[2];return Array.isArray(u)&&(u=bi(t[1])),Array.isArray(d)&&(d=bi(t[2])),sr(r,u,d)}var Pi={nd:{type:"operation",expression:["/",["-",["band",1],["band",0]],["+",["band",1],["band",0]]]},rgb:{type:"function",method:zr}};function zr(t,e){const r=t[0].rasterData,u=t[1].rasterData,d=t[2].rasterData,h=[],[y,M]=(e==null?void 0:e.countCut)||[2,98],U=(e==null?void 0:e.RMinMax)||Tr(r,y,M),re=(e==null?void 0:e.GMinMax)||Tr(u,y,M),Ee=(e==null?void 0:e.BMinMax)||Tr(d,y,M);for(let Ae=0;Ae<r.length;Ae++)h.push(Math.max(0,r[Ae]-U[0])),h.push(Math.max(0,u[Ae]-re[0])),h.push(Math.max(0,d[Ae]-Ee[0]));return{rasterData:h,rMinMax:U,gMinMax:re,bMinMax:Ee}}function Tr(t,e,r){const u=t.slice().sort((M,U)=>M-U),d=u.length,h=u[Math.ceil(d*e/100)],y=u[Math.ceil(d*r/100)];return[h,y]}var Fr=Object.defineProperty,ri=Object.defineProperties,gr=Object.getOwnPropertyDescriptors,jr=Object.getOwnPropertySymbols,Vi=Object.prototype.hasOwnProperty,da=Object.prototype.propertyIsEnumerable,na=(t,e,r)=>e in t?Fr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ja=(t,e)=>{for(var r in e||(e={}))Vi.call(e,r)&&na(t,r,e[r]);if(jr)for(var r of jr(e))da.call(e,r)&&na(t,r,e[r]);return t},ka=(t,e)=>ri(t,gr(e)),no=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())});function aa(t,e,r){return no(this,null,function*(){if(t.length===0)return{rasterData:[0],width:1,heigh:1};const u=yield Promise.all(t.map(({data:U,bands:re=[0]})=>e(U,re))),d=[];u.forEach(U=>{Array.isArray(U)?d.push(...U):d.push(U)});const{width:h,height:y}=d[0];let M;switch(typeof r){case"function":M=r(d);break;case"object":Array.isArray(r)?M={rasterData:Qn(r,d)}:M=qa(r,d);break;default:M={rasterData:d[0].rasterData}}return ka(Ja({},M),{width:h,height:y})})}function qa(t,e){const r=Pi[t.type];if(r.type==="function")return r.method(e,t==null?void 0:t.options);if(r.type==="operation")return t.type==="rgb"?_o(r.expression,e):{rasterData:Qn(r.expression,e)}}function _o(t,e){t.r===void 0&&console.warn("Channel R lost in Operation! Use band[0] to fill!"),t.g===void 0&&console.warn("Channel G lost in Operation! Use band[0] to fill!"),t.b===void 0&&console.warn("Channel B lost in Operation! Use band[0] to fill!");const r=Qn(t.r||["band",0],e),u=Qn(t.g||["band",0],e),d=Qn(t.b||["band",0],e);return[r,u,d]}function Ts(t,e,r,u){return no(this,null,function*(){const d=yield aa(t,e,r);u(null,{data:d})})}function to(t,e){const{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:u,width:d,height:h,min:y,max:M,format:U,operation:re}=e;let Ee,Ae,We;if(U===void 0||ho(t))Ee=Array.from(t),Ae=d,We=h;else{const Fn=Array.isArray(t)?t:[t];Ee=aa(Fn,U,re)}const Ht=cu(u,r);return{_id:1,dataArray:[{_id:1,data:Ee,width:Ae,height:We,min:y,max:M,coordinates:Ht}]}}var Ir=A(98037),me=A(57904);let bu=function(t){return t.Normal="normal",t.PostProcessing="post-processing",t}({}),kt=function(t){return t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t}({});const Ls=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{camelCase:ll,isNil:Gu,upperFirst:cl}=yo;class dl{constructor(){(0,me.Z)(this,"shaderModuleService",void 0),(0,me.Z)(this,"rendererService",void 0),(0,me.Z)(this,"config",void 0),(0,me.Z)(this,"quad",Ls),(0,me.Z)(this,"enabled",!0),(0,me.Z)(this,"renderToScreen",!1),(0,me.Z)(this,"model",void 0),(0,me.Z)(this,"name",void 0),(0,me.Z)(this,"optionsToUpdate",{})}getName(){return this.name}setName(e){this.name=e}getType(){return bu.PostProcessing}init(e,r){this.config=r,this.rendererService=e.getContainer().rendererService,this.shaderModuleService=e.getContainer().shaderModuleService;const{createAttribute:u,createBuffer:d,createModel:h}=this.rendererService,{vs:y,fs:M,uniforms:U}=this.setupShaders();this.model=h({vs:y,fs:M,attributes:{a_Position:u({buffer:d({data:[-4,-4,4,-4,0,4],type:kt.FLOAT}),size:2})},uniforms:(0,Ir.Z)((0,Ir.Z)({u_Texture:null},U),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}render(e,r){const u=e.multiPassRenderer.getPostProcessor(),{useFramebuffer:d,getViewportSize:h,clear:y}=this.rendererService,{width:M,height:U}=h();d(this.renderToScreen?null:u.getWriteFBO(),()=>{y({framebuffer:u.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});const re=(0,Ir.Z)({u_BloomFinal:0,u_Texture:u.getReadFBO(),u_ViewportSize:[M,U]},this.convertOptionsToUniforms(this.optionsToUpdate));r&&(re.u_BloomFinal=1,re.u_Texture2=r),this.model.draw({uniforms:re})})}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}setRenderToScreen(e){this.renderToScreen=e}updateOptions(e){this.optionsToUpdate=(0,Ir.Z)((0,Ir.Z)({},this.optionsToUpdate),e)}setupShaders(){throw new Error("Method not implemented.")}convertOptionsToUniforms(e){const r={};return Object.keys(e).forEach(u=>{Gu(e[u])||(r[`u_${cl(ll(u))}`]=e[u])}),r}}function pd(t){let e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16;break;default:}return e}const gd=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function ku(t,e=!1){const r={};return t=t.replace(gd,(u,d,h)=>{const y=h.split(":"),M=y[0].trim();let U="";switch(y.length>1&&(U=y[1].trim()),d){case"bool":U=U==="true";break;case"float":case"int":U=Number(U);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":U?U=U.replace("[","").replace("]","").split(",").reduce((re,Ee)=>(re.push(Number(Ee.trim())),re),[]):U=new Array(pd(d)).fill(0);break;default:}return r[M]=U,`${e?"uniform ":""}${d} ${M};
`}),{content:t,uniforms:r}}function Rf(t){let{content:e,uniforms:r}=ku(t,!0);return e=e.replace(/(\s*uniform\s*.*\s*){((?:\s*.*\s*)*?)};/g,(u,d,h)=>{h=h.trim().replace(/^.*$/gm,U=>`uniform ${U}`);const{content:y,uniforms:M}=ku(h);return Object.assign(r,M),`${d}{
${y}
};`}),{content:e,uniforms:r}}function sl(t){const e={};return t.replace(gd,(r,u,d)=>{const h=d.trim();return e[h]?"":(e[h]=!0,`uniform ${u} ${h};
`)})}const af=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];function Qc(t){return af.indexOf(t)}const{clamp:Pf}=yo,If=2,wd=4,Rc=64,Bu=128,of=256,El=512,vs=8192,qs=16384,uu=32768,Tf=null,s0=131072,qr=262144,Ra=524288,La=1048576,_s=2097152,Al=4194304,mf=8388608,Kn=16777216,Dr=null;function ii(t,e){return t=Pf(Math.floor(t),0,255),e=Pf(Math.floor(e),0,255),256*t+e}function Pa(t){const{color:e,radius:r,tileX:u,tileY:d,shape:h,opacity:y,stroke:M,strokeWidth:U,strokeOpacity:re}=t,Ee=[],Ae=[],We=[],Ht=[ii(e[0],e[1]),ii(e[2],e[3])],Tn=[ii(M[0],M[1]),ii(M[2],M[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(([Fn,br])=>{Ee.push([...Ht,(Fn+1)*mf+(br+1)*_s+Qc(h)*s0+r,(u+512)*Ra+(d+512)*Rc]),Ae.push([...Tn,U,re]),We.push([y,0,0,0])}),{packedBuffer:Ee,packedBuffer2:Ae,packedBuffer3:We}}function Na(t,e){if(t===0&&!e)return 0;if(t===1&&e)return 4294967295;const r=e?1:0,u=Math.floor(t*127);return u*Dr+r*Kn+u*s0+r*Tf+u*El+r*of+u*If+r}const Oi={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"};let Bi=function(t){return t.TOPRIGHT="topright",t.TOPLEFT="topleft",t.BOTTOMRIGHT="bottomright",t.BOTTOMLEFT="bottomleft",t.TOPCENTER="topcenter",t.BOTTOMCENTER="bottomcenter",t.LEFTCENTER="leftcenter",t.RIGHTCENTER="rightcenter",t.LEFTTOP="lefttop",t.RIGHTTOP="righttop",t.LEFTBOTTOM="leftbottom",t.RIGHTBOTTOM="rightbottom",t}({}),Ki=function(t){return t[t.LNGLAT=1]="LNGLAT",t[t.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",t[t.VECTOR_TILE=3]="VECTOR_TILE",t[t.IDENTITY=4]="IDENTITY",t[t.METER_OFFSET=5]="METER_OFFSET",t}({});const Xr={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter"};var Ei={MapInitStart:"mapInitStart",LayerInitStart:"layerInitStart",LayerInitEnd:"layerInitEnd",SourceInitStart:"sourceInitStart",SourceInitEnd:"sourceInitEnd",ScaleInitStart:"scaleInitStart",ScaleInitEnd:"scaleInitEnd",MappingStart:"mappingStart",MappingEnd:"mappingEnd",BuildModelStart:"buildModelStart",BuildModelEnd:"buildModelEnd"};let Er=function(t){return t.Hover="hover",t.Click="click",t.Select="select",t.Active="active",t.Drag="drag",t}({}),Fi=function(t){return t.normal="normal",t.additive="additive",t.subtractive="subtractive",t.min="min",t.max="max",t.none="none",t}({}),ma=function(t){return t.MULTIPLE="MULTIPLE",t.SINGLE="SINGLE",t}({}),eo=function(t){return t.AND="and",t.OR="or",t}({}),lo=function(t){return t.INIT="init",t.UPDATE="update",t}({}),Ua=function(t){return t.LINEAR="linear",t.SEQUENTIAL="sequential",t.POWER="power",t.LOG="log",t.IDENTITY="identity",t.TIME="time",t.QUANTILE="quantile",t.QUANTIZE="quantize",t.THRESHOLD="threshold",t.CAT="cat",t.DIVERGING="diverging",t.CUSTOM="threshold",t}({}),No=function(t){return t.CONSTANT="constant",t.VARIABLE="variable",t}({}),Ya=function(t){return t[t.Attribute=0]="Attribute",t[t.InstancedAttribute=1]="InstancedAttribute",t[t.Uniform=2]="Uniform",t}({});const Su=["mapload","mapchange","mapAfterFrameChange"];var Ss=A(25865),ou=A.n(Ss);const ju=30;function cc({characterSet:t,getFontWidth:e,fontHeight:r,buffer:u,maxCanvasWidth:d,mapping:h={},xOffset:y=0,yOffset:M=0}){let U=0,re=y;Array.from(t).forEach((Ae,We)=>{if(!h[Ae]){const Ht=e(Ae,We);re+ju>d&&(re=0,U++),h[Ae]={x:re,y:M+U*ju,width:ju,height:ju,advance:Ht},re+=ju}});const Ee=r+u*2;return{mapping:h,xOffset:re,yOffset:M+U*Ee,canvasHeight:bm(M+(U+1)*Ee)}}function od(t,e,r){let u=0,d=0,h=0,y=[];const M={};for(const re of t)if(!M[re.id]){const{size:Ee}=re;u+Ee+e>r&&($h(M,y,d),u=0,d=h+d+e,h=0,y=[]),y.push({icon:re,xOffset:u}),u=u+Ee+e,h=Math.max(h,Ee)}y.length>0&&$h(M,y,d);const U=bm(h+d+e);return{mapping:M,canvasHeight:U}}function $h(t,e,r){for(const u of e){const{icon:d,xOffset:h}=u;t[d.id]=(0,Ir.Z)((0,Ir.Z)({},d),{},{x:h,y:r,image:d.image,width:d.width,height:d.height})}}function bm(t){return Math.pow(2,Math.ceil(Math.log2(t)))}const b0=sy(),o1="sans-serif",tp="normal",Yp=24,M_=3,Ev=.25,xv=8,Tv=1024,s1=1,R_=1,Sv=3,u1=null;function sy(){const t=[];for(let e=32;e<128;e++)t.push(String.fromCharCode(e));return t}function np(t,e,r,u){t.font=`${u} ${r}px ${e}`,t.fillStyle="black",t.textBaseline="middle"}function Av(t,e){for(let r=0;r<t.length;r++)e.data[4*r+3]=t[r]}class G2 extends yi.EventEmitter{constructor(...e){super(...e),(0,me.Z)(this,"fontAtlas",void 0),(0,me.Z)(this,"iconFontMap",void 0),(0,me.Z)(this,"iconFontGlyphs",{}),(0,me.Z)(this,"fontOptions",void 0),(0,me.Z)(this,"key",void 0),(0,me.Z)(this,"cache",new Tt(Sv))}get scale(){return R_}get canvas(){const e=this.cache.get(this.key);return e&&e.data}get mapping(){const e=this.cache.get(this.key);return e&&e.mapping||{}}getCanvasByKey(e){const r=this.cache.get(e);return r&&r.data}getMappingByKey(e){const r=this.cache.get(e);return r&&r.mapping||{}}init(){this.cache.clear(),this.fontOptions={fontFamily:o1,fontWeight:tp,characterSet:b0,fontSize:Yp,buffer:M_,sdf:!0,cutoff:Ev,radius:xv,iconfont:!1},this.key="",this.iconFontMap=new Map}addIconGlyphs(e){e.forEach(r=>{this.iconFontGlyphs[r.name]=r.unicode})}addIconFont(e,r){this.iconFontMap.set(e,r)}getIconFontKey(e){return this.iconFontMap.get(e)||e}getGlyph(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):""}setFontOptions(e){this.fontOptions=(0,Ir.Z)((0,Ir.Z)({},this.fontOptions),e),this.key=this.getKey();const r=this.getNewChars(this.key,this.fontOptions.characterSet),u=this.cache.get(this.key);if(u&&r.length===0)return;const d=this.generateFontAtlas(this.key,r,u);this.fontAtlas=d,this.cache.set(this.key,d)}addFontFace(e,r){const u=document.createElement("style");u.type="text/css",u.innerText=`
        @font-face{
            font-family: '${e}';
            src: url('${r}') format('woff2'),
            url('${r}') format('woff'),
            url('${r}') format('truetype');
        }`,u.onload=()=>{if(document.fonts)try{document.fonts.load(`24px ${e}`,"L7text"),document.fonts.ready.then(()=>{this.emit("fontloaded",{fontFamily:e})})}catch(d){console.warn("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301 document.fonts !"),console.warn("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301 iconfont !"),console.warn(d)}},document.getElementsByTagName("head")[0].appendChild(u)}destroy(){this.cache.clear(),this.iconFontMap.clear()}generateFontAtlas(e,r,u){const{fontFamily:d,fontWeight:h,fontSize:y,buffer:M,sdf:U,radius:re,cutoff:Ee,iconfont:Ae}=this.fontOptions;let We=u&&u.data;We||(We=window.document.createElement("canvas"),We.width=Tv);const Ht=We.getContext("2d",{willReadFrequently:!0});np(Ht,d,y,h);const{mapping:Tn,canvasHeight:Fn,xOffset:br,yOffset:ei}=cc((0,Ir.Z)({getFontWidth:zi=>Ht.measureText(zi).width,fontHeight:y*R_,buffer:M,characterSet:r,maxCanvasWidth:Tv},u&&{mapping:u.mapping,xOffset:u.xOffset,yOffset:u.yOffset})),Jr=Ht.getImageData(0,0,We.width,We.height);if(We.height=Fn,Ht.putImageData(Jr,0,0),np(Ht,d,y,h),U){const zi=new(ou())(y,M,re,Ee,d,h),ca=Ht.getImageData(0,0,zi.size,zi.size);for(const Da of r){if(Ae){const Va=String.fromCharCode(parseInt(Da.replace("&#x","").replace(";",""),16)),va=zi.draw(Va);Av(va,ca)}else Av(zi.draw(Da),ca);Ht.putImageData(ca,Tn[Da].x,Tn[Da].y)}}else for(const zi of r)Ht.fillText(zi,Tn[zi].x,Tn[zi].y+y*s1);return{xOffset:br,yOffset:ei,mapping:Tn,data:We,width:We.width,height:We.height}}getKey(){const{fontFamily:e,fontWeight:r}=this.fontOptions;return`${e}_${r}`}getNewChars(e,r){const u=this.cache.get(e);if(!u)return r;const d=[],h=u.mapping,y=new Set(Object.keys(h));return new Set(r).forEach(U=>{y.has(U)||d.push(U)}),d}}var Ba=A(81517);const n3=3,uy=1024,$p=64;class P_ extends yi.EventEmitter{constructor(...e){super(...e),(0,me.Z)(this,"canvasHeight",128),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"canvas",void 0),(0,me.Z)(this,"iconData",void 0),(0,me.Z)(this,"iconMap",void 0),(0,me.Z)(this,"ctx",void 0),(0,me.Z)(this,"loadingImageCount",0)}isLoading(){return this.loadingImageCount===0}init(){this.iconData=[],this.iconMap={},this.canvas=window.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}addImage(e,r){var u=this;return(0,Ba.Z)(function*(){let d=new Image;u.loadingImageCount++,u.hasImage(e)?console.warn("Image Id already exists"):u.iconData.push({id:e,size:$p}),u.updateIconMap(),d=yield u.loadImage(r);const h=u.iconData.find(y=>y.id===e);h&&(h.image=d,h.width=d.width,h.height=d.height),u.update()})()}addImageMini(e,r,u){const d=u.getSceneConfig().canvas;let h=d.createImage();if(this.loadingImageCount++,this.hasImage(e))throw new Error("Image Id already exists");this.iconData.push({id:e,size:$p}),this.updateIconMap(),this.loadImageMini(r,d).then(y=>{h=y;const M=this.iconData.find(U=>U.id===e);M&&(M.image=h,M.width=h.width,M.height=h.height),this.update()})}getTexture(){return this.texture}getIconMap(){return this.iconMap}getCanvas(){return this.canvas}hasImage(e){return this.iconMap.hasOwnProperty(e)}removeImage(e){this.hasImage(e)&&(this.iconData=this.iconData.filter(r=>r.id!==e),delete this.iconMap[e],this.update())}destroy(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}loadImage(e){return new Promise((r,u)=>{if(e instanceof HTMLImageElement){r(e);return}const d=new Image;d.crossOrigin="anonymous",d.onload=()=>{r(d)},d.onerror=()=>{u(new Error("Could not load image at "+e))},d.src=e instanceof File?URL.createObjectURL(e):e})}update(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}updateIconAtlas(){this.canvas.width=uy,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(e=>{const{x:r,y:u,image:d,width:h=64,height:y=64}=this.iconMap[e],U=Math.max(h,y)/$p,re=y/U,Ee=h/U;d&&this.ctx.drawImage(d,r+($p-Ee)/2,u+($p-re)/2,Ee,re)})}updateIconMap(){const{mapping:e,canvasHeight:r}=od(this.iconData,n3,uy);this.iconMap=e,this.canvasHeight=r}loadImageMini(e,r){return new Promise((u,d)=>{const h=r.createImage();h.crossOrigin="anonymous",h.onload=()=>{u(h)},h.onerror=()=>{d(new Error("Could not load image at "+e))},h.src=e})}}var qo=A(39536);class r3{constructor(){(0,me.Z)(this,"viewport",void 0),(0,me.Z)(this,"overridedViewProjectionMatrix",void 0),(0,me.Z)(this,"viewMatrixInverse",void 0),(0,me.Z)(this,"cameraPosition",void 0)}init(){}update(e){this.viewport=e,this.viewMatrixInverse=qo.create(),qo.invert(this.viewMatrixInverse,e.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}getProjectionMatrix(){return this.viewport.getProjectionMatrix()}getModelMatrix(){return this.viewport.getModelMatrix()}getViewMatrix(){return this.viewport.getViewMatrix()}getViewMatrixUncentered(){return this.viewport.getViewMatrixUncentered()}getViewProjectionMatrixUncentered(){return this.viewport.getViewProjectionMatrixUncentered()}getViewProjectionMatrix(){return this.overridedViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}getZoom(){return this.viewport.getZoom()}getZoomScale(){return this.viewport.getZoomScale()}getCenter(){const[e,r]=this.viewport.getCenter();return[e,r]}getFocalDistance(){return this.viewport.getFocalDistance()}getCameraPosition(){return this.cameraPosition}projectFlat(e,r){return this.viewport.projectFlat(e,r)}setViewProjectionMatrix(e){this.overridedViewProjectionMatrix=e}}const Y2={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"};class I_{constructor(){(0,me.Z)(this,"container",void 0),(0,me.Z)(this,"controlCorners",void 0),(0,me.Z)(this,"controlContainer",void 0),(0,me.Z)(this,"scene",void 0),(0,me.Z)(this,"mapsService",void 0),(0,me.Z)(this,"controls",[]),(0,me.Z)(this,"unAddControls",[])}init(e,r){this.container=e.container,this.scene=r,this.mapsService=r.mapService,this.initControlPos()}addControl(e,r){r.mapService.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}getControlByName(e){return this.controls.find(r=>r.controlOption.name===e)}removeControl(e){const r=this.controls.indexOf(e);return r>-1&&this.controls.splice(r,1),e.remove(),this}addControls(){this.unAddControls.forEach(e=>{e.addTo(this.scene),this.controls.push(e)}),this.unAddControls=[]}destroy(){for(const e of this.controls)e.remove();this.controls=[],this.clearControlPos()}initControlPos(){const e=this.controlCorners={},r="l7-",u=this.controlContainer=as("div",r+"control-container",this.container);function d(y=[]){const M=y.map(U=>r+U).join(" ");e[y.filter(U=>!["row","column"].includes(U)).join("")]=as("div",M,u)}function h(y){return[...y.replace(/^(top|bottom|left|right|center)/,"$1-").split("-"),Y2[y]]}Object.values(Bi).forEach(y=>{d(h(y))}),this.checkCornerOverlap()}clearControlPos(){for(const e in this.controlCorners)this.controlCorners[e]&&$s(this.controlCorners[e]);this.controlContainer&&$s(this.controlContainer)}checkCornerOverlap(){const e=window.MutationObserver;if(e)for(const r of Object.keys(this.controlCorners)){const u=r.match(/^(top|bottom)(left|right)$/);if(u){const[,d,h]=u,y=this.controlCorners[`${d}${h}`];new e(([{target:U}])=>{y&&(y.style[d]=U.clientHeight+"px")}).observe(this.controlCorners[`${h}${d}`],{childList:!0,attributes:!0})}}}}class l1{constructor(){(0,me.Z)(this,"container",void 0),(0,me.Z)(this,"scene",void 0),(0,me.Z)(this,"mapsService",void 0),(0,me.Z)(this,"markers",[]),(0,me.Z)(this,"markerLayers",[]),(0,me.Z)(this,"unAddMarkers",[]),(0,me.Z)(this,"unAddMarkerLayers",[])}addMarkerLayer(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}removeMarkerLayer(e){e.destroy(),this.markerLayers.indexOf(e);const r=this.markerLayers.indexOf(e);r>-1&&this.markerLayers.splice(r,1)}addMarker(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e)}addMarkers(){this.unAddMarkers.forEach(e=>{e.addTo(this.scene),this.markers.push(e)}),this.unAddMarkers=[]}addMarkerLayers(){this.unAddMarkerLayers.forEach(e=>{this.markerLayers.push(e),e.addTo(this.scene)}),this.unAddMarkers=[]}removeMarker(e){e.remove(),this.markers.indexOf(e);const r=this.markers.indexOf(e);r>-1&&this.markers.splice(r,1)}removeAllMarkers(){this.destroy()}init(e){this.scene=e,this.mapsService=e.mapService}destroy(){this.markers.forEach(e=>{e.remove()}),this.markers=[],this.markerLayers.forEach(e=>{e.destroy()}),this.markerLayers=[]}removeMakerLayerMarker(e){e.destroy()}}class Em{constructor(){(0,me.Z)(this,"scene",void 0),(0,me.Z)(this,"mapsService",void 0),(0,me.Z)(this,"popups",[]),(0,me.Z)(this,"unAddPopups",[])}get isMarkerReady(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}removePopup(e){e!=null&&e.isOpen()&&e.remove();const r=this.popups.indexOf(e);r>-1&&this.popups.splice(r,1);const u=this.unAddPopups.indexOf(e);u>-1&&this.unAddPopups.splice(u,1)}destroy(){this.popups.forEach(e=>e.remove())}addPopup(e){e&&e.getOptions().autoClose&&[...this.popups,...this.unAddPopups].forEach(r=>{r.getOptions().autoClose&&this.removePopup(r)}),this.isMarkerReady?(e.addTo(this.scene),this.popups.push(e)):this.unAddPopups.push(e),e.on("close",()=>{this.removePopup(e)})}initPopup(){this.unAddPopups.length&&this.unAddPopups.forEach(e=>{this.addPopup(e),this.unAddPopups=[]})}init(e){this.scene=e,this.mapsService=e.mapService}}var Cv={MapToken:"\u60A8\u6B63\u5728\u4F7F\u7528 Demo \u6D4B\u8BD5 Token, \u751F\u4EA7\u73AF\u5883\u52A1\u5FC5\u81EA\u884C\u6CE8\u518C Token \u786E\u4FDD\u670D\u52A1\u7A33\u5B9A \u9AD8\u5FB7\u5730\u56FE\u7533\u8BF7\u5730\u5740 https://lbs.amap.com/api/javascript-api/guide/abc/prepare  Mapbox\u5730\u56FE\u7533\u8BF7\u5730\u5740 https://docs.mapbox.com/help/glossary/access-token/",SDK:"\u8BF7\u786E\u8BA4\u5F15\u5165\u4E86mapbox-gl api\u4E14\u5728L7\u4E4B\u524D\u5F15\u5165"};const{merge:ly}=yo,L_={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},Tm={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",maskLayers:[],enableMask:!0,maskOperation:eo.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0};class N_{constructor(){(0,me.Z)(this,"sceneConfigCache",{}),(0,me.Z)(this,"layerConfigCache",{}),(0,me.Z)(this,"layerAttributeConfigCache",{})}getSceneConfig(e){return this.sceneConfigCache[e]}getSceneWarninfo(e){return Cv[e]}setSceneConfig(e,r){this.sceneConfigCache[e]=(0,Ir.Z)((0,Ir.Z)({},L_),r)}getLayerConfig(e){return this.layerConfigCache[e]}setLayerConfig(e,r,u){this.layerConfigCache[r]=(0,Ir.Z)({},ly({},this.sceneConfigCache[e],Tm,u))}getAttributeConfig(e){return this.layerAttributeConfigCache[e]}setAttributeConfig(e,r){this.layerAttributeConfigCache[e]=(0,Ir.Z)((0,Ir.Z)({},this.layerAttributeConfigCache[e]),r)}clean(){this.sceneConfigCache={},this.layerConfigCache={}}}var ch=A(49953);const og=Math.PI/180,D_=512,k_=4003e4;function Gg({latitude:t=0,zoom:e=0,scale:r,highPrecision:u=!1,flipY:d=!1}){r=r!==void 0?r:Math.pow(2,e);const h={},y=D_*r,M=Math.cos(t*og),U=y/360,re=U/M,Ee=y/k_/M;if(h.pixelsPerMeter=[Ee,-Ee,Ee],h.metersPerPixel=[1/Ee,-1/Ee,1/Ee],h.pixelsPerDegree=[U,-re,Ee],h.degreesPerPixel=[1/U,-1/re,1/Ee],u){const Ae=og*Math.tan(t*og)/M,We=U*Ae/2,Ht=y/k_*Ae,Tn=Ht/re*Ee;h.pixelsPerDegree2=[0,-We,Ht],h.pixelsPerMeter2=[Tn,0,Tn],d&&(h.pixelsPerDegree2[1]=-h.pixelsPerDegree2[1],h.pixelsPerMeter2[1]=-h.pixelsPerMeter2[1])}return d&&(h.pixelsPerMeter[1]=-h.pixelsPerMeter[1],h.metersPerPixel[1]=-h.metersPerPixel[1],h.pixelsPerDegree[1]=-h.pixelsPerDegree[1],h.degreesPerPixel[1]=-h.degreesPerPixel[1]),h}const $2=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];class B_{constructor(e){(0,me.Z)(this,"needRefresh",!0),(0,me.Z)(this,"coordinateSystem",void 0),(0,me.Z)(this,"viewportCenter",void 0),(0,me.Z)(this,"viewportCenterProjection",void 0),(0,me.Z)(this,"pixelsPerDegree",void 0),(0,me.Z)(this,"pixelsPerDegree2",void 0),(0,me.Z)(this,"pixelsPerMeter",void 0),this.cameraService=e}refresh(e){const r=this.cameraService.getZoom(),u=e||this.cameraService.getCenter(),{pixelsPerMeter:d,pixelsPerDegree:h}=Gg({latitude:u[1],zoom:r});this.viewportCenter=u,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=d,this.pixelsPerDegree=h,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===Ki.LNGLAT?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===Ki.LNGLAT_OFFSET&&this.calculateLnglatOffset(u,r),this.needRefresh=!1}getCoordinateSystem(){return this.coordinateSystem}setCoordinateSystem(e){this.coordinateSystem=e}getViewportCenter(){return this.viewportCenter}getViewportCenterProjection(){return this.viewportCenterProjection}getPixelsPerDegree(){return this.pixelsPerDegree}getPixelsPerDegree2(){return this.pixelsPerDegree2}getPixelsPerMeter(){return this.pixelsPerMeter}calculateLnglatOffset(e,r,u,d){const{pixelsPerMeter:h,pixelsPerDegree:y,pixelsPerDegree2:M}=Gg({latitude:e[1],zoom:r,scale:u,flipY:d,highPrecision:!0});let U=this.cameraService.getViewMatrix();const re=this.cameraService.getProjectionMatrix();let Ee=qo.multiply([],re,U);const Ae=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,r));this.viewportCenterProjection=ch.fF([],[Ae[0],Ae[1],0,1],Ee),U=this.cameraService.getViewMatrixUncentered()||U,Ee=qo.multiply([],re,U),Ee=qo.multiply([],Ee,$2),this.cameraService.setViewProjectionMatrix(Ee),this.pixelsPerMeter=h,this.pixelsPerDegree=y,this.pixelsPerDegree2=M}}class F_ extends yi.EventEmitter{constructor(...e){super(...e),(0,me.Z)(this,"renderMap",new Map),(0,me.Z)(this,"enable",!1),(0,me.Z)(this,"renderEnable",!1),(0,me.Z)(this,"cacheLogs",{})}setEnable(e){this.enable=!!e}log(e,r){if(!this.enable)return;const u=e.split(".");let d=null;u.forEach((h,y)=>{d!==null?(d[h]||(d[h]={}),y!==u.length-1&&(d=d[h])):(this.cacheLogs[h]||(this.cacheLogs[h]={}),y!==u.length-1&&(d=this.cacheLogs[h])),y===u.length-1&&(d[h]=(0,Ir.Z)((0,Ir.Z)({time:Date.now()},d[h]),r))})}getLog(e){switch(typeof e){case"string":return this.cacheLogs[e];case"object":return e.map(r=>this.cacheLogs[r]).filter(r=>r!==void 0);case"undefined":return this.cacheLogs}}removeLog(e){delete this.cacheLogs[e]}generateRenderUid(){return this.renderEnable?df():""}renderDebug(e){this.renderEnable=e}renderStart(e){if(!this.renderEnable||!this.enable)return;const r=this.renderMap.get(e)||{};this.renderMap.set(e,(0,Ir.Z)((0,Ir.Z)({},r),{},{renderUid:e,renderStart:Date.now()}))}renderEnd(e){if(!this.renderEnable||!this.enable)return;const r=this.renderMap.get(e);if(r){const u=r.renderStart,d=Date.now();this.emit("renderEnd",(0,Ir.Z)((0,Ir.Z)({},r),{},{renderEnd:d,renderDuration:d-u})),this.renderMap.delete(e)}}destroy(){this.cacheLogs=null,this.renderMap.clear()}}var Yg=A(11553),Og=A.n(Yg);const c1={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"};class f1 extends ko(){get mapService(){return this.container.mapService}constructor(e){super(),(0,me.Z)(this,"indragging",!1),(0,me.Z)(this,"hammertime",void 0),(0,me.Z)(this,"lastClickTime",0),(0,me.Z)(this,"lastClickXY",[-1,-1]),(0,me.Z)(this,"clickTimer",void 0),(0,me.Z)(this,"$containter",void 0),(0,me.Z)(this,"onDrag",r=>{const u=this.interactionEvent(r);u.type=c1[u.type],u.type==="dragging"?this.indragging=!0:this.indragging=!1,this.emit(Er.Drag,u)}),(0,me.Z)(this,"onHammer",r=>{r.srcEvent.stopPropagation();const u=this.interactionEvent(r);this.emit(Er.Hover,u)}),(0,me.Z)(this,"onTouch",r=>{const u=r.touches[0];this.onHover({clientX:u.clientX,clientY:u.clientY,type:"touchstart"})}),(0,me.Z)(this,"onTouchEnd",r=>{if(r.changedTouches.length>0){const u=r.changedTouches[0];this.onHover({clientX:u.clientX,clientY:u.clientY,type:"touchend"})}}),(0,me.Z)(this,"onTouchMove",r=>{const u=r.changedTouches[0];this.onHover({clientX:u.clientX,clientY:u.clientY,type:"touchmove"})}),(0,me.Z)(this,"onHover",r=>{const{clientX:u,clientY:d}=r;let h=u,y=d;const M=r.type,U=this.mapService.getMapContainer();if(U){const{top:Ee,left:Ae}=U.getBoundingClientRect();h=h-Ae-U.clientLeft,y=y-Ee-U.clientTop}const re=this.mapService.containerToLngLat([h,y]);if(M==="click"){this.isDoubleTap(h,y,re);return}if(M==="touch"){this.isDoubleTap(h,y,re);return}M!=="click"&&M!=="dblclick"&&this.emit(Er.Hover,{x:h,y,lngLat:re,type:M,target:r})}),this.container=e}init(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}destroy(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(Er.Hover)}triggerHover({x:e,y:r}){this.emit(Er.Hover,{x:e,y:r})}triggerSelect(e){this.emit(Er.Select,{featureId:e})}triggerActive(e){this.emit(Er.Active,{featureId:e})}addEventListenerOnMap(){const e=this.mapService.getMapContainer();if(e){const r=new(Og()).Manager(e);r.add(new(Og()).Tap({event:"dblclick",taps:2})),r.add(new(Og()).Tap({event:"click"})),r.add(new(Og()).Pan({threshold:0,pointers:0})),r.add(new(Og()).Press({})),r.on("dblclick click",this.onHammer),r.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("touchstart",this.onTouch),e.addEventListener("touchend",this.onTouchEnd),e.addEventListener("mousemove",this.onHover),e.addEventListener("touchmove",this.onTouchMove),e.addEventListener("mousedown",this.onHover,!0),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=r}}removeEventListenerOnMap(){const e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("touchstart",this.onTouch),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover))}interactionEvent(e){const{type:r,pointerType:u}=e;let d,h;u==="touch"?(h=Math.floor(e.pointers[0].clientY),d=Math.floor(e.pointers[0].clientX)):(h=Math.floor(e.srcEvent.y),d=Math.floor(e.srcEvent.x));const y=this.mapService.getMapContainer();if(y){const{top:U,left:re}=y.getBoundingClientRect();d-=re,h-=U}const M=this.mapService.containerToLngLat([d,h]);return{x:d,y:h,lngLat:M,type:r,target:e.srcEvent}}isDoubleTap(e,r,u){const d=new Date().getTime();let h="click";d-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-e)<10&&Math.abs(this.lastClickXY[1]-r)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),h="dblclick",this.emit(Er.Hover,{x:e,y:r,lngLat:u,type:h})):(this.lastClickTime=d,this.lastClickXY=[e,r],this.clickTimer=setTimeout(()=>{h="click",this.emit(Er.Hover,{x:e,y:r,lngLat:u,type:h})},400))}}let cy=0;function fy(t){let e=t;if(typeof t=="string"&&(e=document.getElementById(t)),e){const r=document.createElement("div");return r.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,r.id=`l7-scene-${cy++}`,r.classList.add("l7-scene"),e.appendChild(r),r}return null}function U_(t){var e;let r=!0;if((t==null||(e=t.target)===null||e===void 0?void 0:e.target)instanceof HTMLElement){var u;let h=t==null||(u=t.target)===null||u===void 0?void 0:u.target;for(;h;){var d;const y=Array.from(h.classList);if(y.includes("l7-marker")||y.includes("l7-popup")){r=!1;break}h=(d=h)===null||d===void 0?void 0:d.parentElement}}return r}let H0=function(t){return t[t.SAMPLED=0]="SAMPLED",t[t.RENDER_TARGET=1]="RENDER_TARGET",t}({});class z_{constructor(e){var r=this;(0,me.Z)(this,"pickedColors",void 0),(0,me.Z)(this,"pickedTileLayers",[]),(0,me.Z)(this,"pickingFBO",void 0),(0,me.Z)(this,"width",0),(0,me.Z)(this,"height",0),(0,me.Z)(this,"alreadyInPicking",!1),(0,me.Z)(this,"pickBufferScale",1),(0,me.Z)(this,"pickFromPickingFBO",function(){var u=(0,Ba.Z)(function*(d,{x:h,y,lngLat:M,type:U,target:re}){var Ee;let Ae=!1;const{readPixels:We,readPixelsAsync:Ht,getViewportSize:Tn,queryVerdorInfo:Fn}=r.rendererService,{width:br,height:ei}=Tn(),{enableHighlight:Jr,enableSelect:zi}=d.getLayerConfig(),ca=h*Sr,Da=y*Sr;if(ca>br-1*Sr||ca<0||Da>ei-1*Sr||Da<0)return!1;let Va;if(Fn()==="WebGPU"?Va=yield Ht({x:Math.floor(ca/r.pickBufferScale),y:Math.floor((ei-(y+1)*Sr)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:r.pickingFBO}):Va=We({x:Math.floor(ca/r.pickBufferScale),y:Math.floor((ei-(y+1)*Sr)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:r.pickingFBO}),r.pickedColors=Va,Va[0]!==0||Va[1]!==0||Va[2]!==0){const io=Po(Va),Os=d.layerPickService.getFeatureById(io);io!==d.getCurrentPickId()&&U==="mousemove"&&(U="mouseenter");const Hu={x:h,y,type:U,lngLat:M,featureId:io,feature:Os,target:re};Os&&(Ae=!0,d.setCurrentPickId(io),r.triggerHoverOnLayer(d,Hu))}else{const io={x:h,y,lngLat:M,type:d.getCurrentPickId()!==null&&U==="mousemove"?"mouseout":"un"+U,featureId:null,target:re,feature:null};r.triggerHoverOnLayer(d,(0,Ir.Z)((0,Ir.Z)({},io),{},{type:"unpick"})),r.triggerHoverOnLayer(d,io),d.setCurrentPickId(null)}if(Jr&&d.layerPickService.highlightPickedFeature(Va),zi&&U==="click"&&((Ee=Va)===null||Ee===void 0?void 0:Ee.toString())!==[0,0,0,0].toString()){const io=Po(Va);d.getCurrentSelectedId()===null||io!==d.getCurrentSelectedId()?(d.layerPickService.selectFeature(Va),d.setCurrentSelectedId(io)):(d.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),d.setCurrentSelectedId(null))}return Ae});return function(d,h){return u.apply(this,arguments)}}()),this.container=e}get mapService(){return this.container.mapService}get rendererService(){return this.container.rendererService}get configService(){return this.container.globalConfigService}get interactionService(){return this.container.interactionService}get layerService(){return this.container.layerService}init(e){const{createTexture2D:r,createFramebuffer:u,getViewportSize:d}=this.rendererService;let{width:h,height:y}=d();this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,h=Math.round(h/this.pickBufferScale),y=Math.round(y/this.pickBufferScale);const M=r({width:h,height:y,usage:H0.RENDER_TARGET,label:"Picking Texture"});this.pickingFBO=u({color:M,depth:!0,width:h,height:y}),this.interactionService.on(Er.Hover,this.pickingAllLayer.bind(this))}boxPickLayer(e,r,u){var d=this;return(0,Ba.Z)(function*(){const{useFramebufferAsync:h,clear:y}=d.rendererService;d.resizePickingFBO(),e.hooks.beforePickingEncode.call(),yield h(d.pickingFBO,(0,Ba.Z)(function*(){y({framebuffer:d.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.renderModels({ispick:!0})})),e.hooks.afterPickingEncode.call();const M=yield d.pickBox(e,r);u(M)})()}pickBox(e,r){var u=this;return(0,Ba.Z)(function*(){const[d,h,y,M]=r.map(ei=>{const Jr=ei<0?0:ei;return Math.floor(Jr*Sr/u.pickBufferScale)}),{readPixelsAsync:U,getViewportSize:re}=u.rendererService,{width:Ee,height:Ae}=re();if(d>(Ee-1)*Sr/u.pickBufferScale||y<0||h>(Ae-1)*Sr/u.pickBufferScale||M<0)return[];const We=Math.min(Ee/u.pickBufferScale,y)-d,Ht=Math.min(Ae/u.pickBufferScale,M)-h,Tn=yield U({x:d,y:Math.floor(Ae/u.pickBufferScale-(M+1)),width:We,height:Ht,data:new Uint8Array(We*Ht*4),framebuffer:u.pickingFBO}),Fn=[],br={};for(let ei=0;ei<Tn.length/4;ei=ei+1){const Jr=Tn.slice(ei*4,ei*4+4),zi=Po(Jr);if(zi!==-1&&!br[zi]){const ca=e.layerPickService.getFeatureById(zi);Fn.push((0,Ir.Z)((0,Ir.Z)({},ca),{},{pickedFeatureIdx:zi})),br[zi]=!0}}return Fn})()}handleCursor(e,r){const{cursor:u="",cursorEnabled:d}=e.getLayerConfig();if(d){const y=this.mapService.getType()==="amap"?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),M=y==null?void 0:y.style.getPropertyValue("cursor");r==="unmousemove"&&M!==""?y==null||y.style.setProperty("cursor",""):r==="mousemove"&&(y==null||y.style.setProperty("cursor",u))}}destroy(){this.pickingFBO.destroy(),this.pickingFBO=null}pickingAllLayer(e){var r=this;return(0,Ba.Z)(function*(){!r.layerService.needPick(e.type)||!r.isPickingAllLayer()||(r.alreadyInPicking=!0,yield r.pickingLayers(e),r.layerService.renderLayers(),r.alreadyInPicking=!1)})()}isPickingAllLayer(){return!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging||!this.layerService.getShaderPickStat())}resizePickingFBO(){const{getViewportSize:e}=this.rendererService,{width:r,height:u}=e();(this.width!==r||this.height!==u)&&(this.pickingFBO.resize({width:Math.round(r/this.pickBufferScale),height:Math.round(u/this.pickBufferScale)}),this.width=r,this.height=u)}pickingLayers(e){var r=this;return(0,Ba.Z)(function*(){const{clear:u,useFramebufferAsync:d}=r.rendererService;r.resizePickingFBO();const h=r.layerService.getRenderList();for(const y of h.filter(M=>M.needPick(e.type)).reverse()){yield d(r.pickingFBO,(0,Ba.Z)(function*(){u({framebuffer:r.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),y.layerPickService.pickRender(e)}));const M=yield r.pickFromPickingFBO(y,e);if(r.layerService.pickedLayerId=M?+y.id:-1,M&&!y.getLayerConfig().enablePropagation)break}})()}triggerHoverOnLayer(e,r){U_(r)&&(this.handleCursor(e,r.type),e.emit(r.type,r))}}class d1{constructor(e=!0){(0,me.Z)(this,"autoStart",void 0),(0,me.Z)(this,"startTime",0),(0,me.Z)(this,"oldTime",0),(0,me.Z)(this,"running",!1),(0,me.Z)(this,"elapsedTime",0),this.autoStart=e}start(){this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=(typeof performance=="undefined"?Date:performance).now();e=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=e}return e}}const{throttle:Z_}=yo;class X2 extends yi.EventEmitter{get renderService(){return this.container.rendererService}get mapService(){return this.container.mapService}get debugService(){return this.container.debugService}constructor(e){super(),(0,me.Z)(this,"pickedLayerId",-1),(0,me.Z)(this,"clock",new d1),(0,me.Z)(this,"alreadyInRendering",!1),(0,me.Z)(this,"layers",[]),(0,me.Z)(this,"layerList",[]),(0,me.Z)(this,"layerRenderID",void 0),(0,me.Z)(this,"sceneInited",!1),(0,me.Z)(this,"animateInstanceCount",0),(0,me.Z)(this,"shaderPicking",!0),(0,me.Z)(this,"enableRender",!0),(0,me.Z)(this,"reRender",Z_(()=>{this.renderLayers()},32)),(0,me.Z)(this,"throttleRenderLayers",Z_(()=>{this.renderLayers()},16)),this.container=e}needPick(e){return this.updateLayerRenderList(),this.layerList.some(r=>r.needPick(e))}add(e){this.layers.push(e),this.sceneInited&&e.init().then(()=>{this.renderLayers()})}addMask(e){this.sceneInited&&e.init().then(()=>{this.renderLayers()})}initLayers(){var e=this;return(0,Ba.Z)(function*(){e.sceneInited=!0,e.layers.forEach(function(){var r=(0,Ba.Z)(function*(u){u.startInit||(yield u.init(),e.updateLayerRenderList())});return function(u){return r.apply(this,arguments)}}())})()}getSceneInited(){return this.sceneInited}getRenderList(){return this.layerList}getLayers(){return this.layers}getLayer(e){return this.layers.find(r=>r.id===e)}getLayerByName(e){return this.layers.find(r=>r.name===e)}remove(e,r){var u=this;return(0,Ba.Z)(function*(){r?r.layerChildren=r.layerChildren.filter(d=>d!==e):u.layers=u.layers.filter(d=>d!==e),e.destroy(),u.reRender(),u.emit("layerChange",u.layers)})()}removeAllLayers(){var e=this;return(0,Ba.Z)(function*(){e.destroy(),e.reRender()})()}setEnableRender(e){this.enableRender=e}renderLayers(){var e=this;return(0,Ba.Z)(function*(){if(e.alreadyInRendering||!e.enableRender)return;e.updateLayerRenderList();const r=e.debugService.generateRenderUid();e.debugService.renderStart(r),e.alreadyInRendering=!0,e.clear();for(const u of e.layerList)u.prerender();e.renderService.beginFrame();for(const u of e.layerList){const{enableMask:d}=u.getLayerConfig();u.masks.filter(h=>h.inited).length>0&&d&&e.renderMask(u.masks),u.getLayerConfig().enableMultiPassRenderer?yield u.renderMultiPass():u.render()}e.renderService.endFrame(),e.debugService.renderEnd(r),e.alreadyInRendering=!1})()}renderMask(e){let r=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});const u=e.length>1?ma.MULTIPLE:ma.SINGLE;for(const d of e)d.render({isStencil:!0,stencilType:u,stencilIndex:r++})}beforeRenderData(e){var r=this;return(0,Ba.Z)(function*(){(yield e.hooks.beforeRenderData.promise())&&r.renderLayers()})()}renderTileLayerMask(e){let r=0;const{enableMask:u=!0}=e.getLayerConfig();let d=e.tileMask?1:0;const h=e.masks.filter(M=>M.inited);d=d+(u?h.length:1);const y=d>1?ma.MULTIPLE:ma.SINGLE;if((e.tileMask||h.length&&u)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),h.length&&u)for(const M of h)M.render({isStencil:!0,stencilType:y,stencilIndex:r++});e.tileMask&&e.tileMask.render({isStencil:!0,stencilType:y,stencilIndex:r++,stencilOperation:eo.OR})}renderTileLayer(e){var r=this;return(0,Ba.Z)(function*(){r.renderTileLayerMask(e),e.getLayerConfig().enableMultiPassRenderer?yield e.renderMultiPass():yield e.render()})()}updateLayerRenderList(){this.layerList=[],this.layers.filter(e=>e.inited).filter(e=>e.isVisible()).sort((e,r)=>e.zIndex-r.zIndex).forEach(e=>{this.layerList.push(e)})}destroy(){this.layers.forEach(e=>{e.destroy()}),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers)}startAnimate(){this.animateInstanceCount++===0&&(this.clock.start(),this.runRender())}stopAnimate(){--this.animateInstanceCount===0&&(this.stopRender(),this.clock.stop())}getOESTextureFloat(){return this.renderService.extensionObject.OES_texture_float}enableShaderPick(){this.shaderPicking=!0}disableShaderPick(){this.shaderPicking=!1}getShaderPickStat(){return this.shaderPicking}clear(){const e=To(this.mapService.bgColor);this.renderService.clear({color:e,depth:1,stencil:0,framebuffer:null})}runRender(){this.renderLayers(),this.layerRenderID=window.requestAnimationFrame(this.runRender.bind(this))}stopRender(){window.cancelAnimationFrame(this.layerRenderID)}}var Xh=A(58006);const{isNil:h1}=yo;class K2{constructor(e){(0,me.Z)(this,"name",void 0),(0,me.Z)(this,"type",void 0),(0,me.Z)(this,"scale",void 0),(0,me.Z)(this,"descriptor",void 0),(0,me.Z)(this,"featureBufferLayout",[]),(0,me.Z)(this,"needRescale",!1),(0,me.Z)(this,"needRemapping",!1),(0,me.Z)(this,"needRegenerateVertices",!1),(0,me.Z)(this,"featureRange",{startIndex:0,endIndex:1/0}),(0,me.Z)(this,"vertexAttribute",void 0),(0,me.Z)(this,"defaultCallback",r=>{if(r.length===0){var u;return((u=this.scale)===null||u===void 0?void 0:u.defaultValues)||[]}return r.map((d,h)=>{var y;return((y=this.scale)===null||y===void 0?void 0:y.scalers[h].func)(d)})}),this.setProps(e)}setProps(e){Object.assign(this,e)}mapping(e){var r;if((r=this.scale)!==null&&r!==void 0&&r.callback){var u;const d=(u=this.scale)===null||u===void 0?void 0:u.callback(...e);if(!h1(d))return[d]}return this.defaultCallback(e)}resetDescriptor(){this.descriptor&&(this.descriptor.buffer.data=[])}}const Q2=["buffer","update","name"],q2=["buffer","update","name"],j_={[kt.FLOAT]:4,[kt.UNSIGNED_BYTE]:1,[kt.UNSIGNED_SHORT]:2};class H_{constructor(e){(0,me.Z)(this,"attributesAndIndices",void 0),(0,me.Z)(this,"attributes",[]),(0,me.Z)(this,"triangulation",void 0),(0,me.Z)(this,"featureLayout",{sizePerElement:0,elements:[]}),this.rendererService=e}registerStyleAttribute(e){let r=this.getLayerStyleAttribute(e.name||"");return r?r.setProps(e):(r=new K2(e),this.attributes.push(r)),r}unRegisterStyleAttribute(e){const r=this.attributes.findIndex(u=>u.name===e);r>-1&&this.attributes.splice(r,1)}updateScaleAttribute(e){this.attributes.forEach(r=>{var u;const d=r.name,h=(u=r.scale)===null||u===void 0?void 0:u.field;(e[d]||h&&e[h])&&(r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0)})}updateStyleAttribute(e,r,u){let d=this.getLayerStyleAttribute(e);d||(d=this.registerStyleAttribute((0,Ir.Z)((0,Ir.Z)({},r),{},{name:e})));const{scale:h}=r;h&&d&&(d.scale=h,d.needRescale=!0,d.needRemapping=!0,d.needRegenerateVertices=!0,u&&u.featureRange&&(d.featureRange=u.featureRange))}getLayerStyleAttributes(){return this.attributes}getLayerStyleAttribute(e){return this.attributes.find(r=>r.name===e)}getLayerAttributeScale(e){var r;const u=this.getLayerStyleAttribute(e),d=u==null||(r=u.scale)===null||r===void 0?void 0:r.scalers;return d&&d[0]?d[0].func:null}updateAttributeByFeatureRange(e,r,u=0,d,h){const y=this.attributes.find(M=>M.name===e);if(y&&y.descriptor){const{descriptor:M}=y,{update:U,buffer:re,size:Ee=0}=M,Ae=j_[re.type||kt.FLOAT];if(U){const{elements:We,sizePerElement:Ht}=this.featureLayout,Tn=We.slice(u,d);if(!Tn.length)return;const{offset:Fn}=Tn[0],br=Fn*Ee*Ae,ei=Tn.map(({featureIdx:Jr,vertices:zi,normals:ca},Da)=>{const Va=zi.length/Ht,va=[];for(let io=0;io<Va;io++){const Os=ca?ca.slice(io*3,io*3+3):[];va.push(...U(r[Jr],Jr,zi.slice(io*Ht,io*Ht+Ht),Da,Os))}return va}).flat();y.vertexAttribute.updateBuffer({data:ei,offset:br}),h==null||h.emit(`legend:${e}`,h.getLegend(e))}}}createAttributesAndIndices(e,r,u,d){this.featureLayout={sizePerElement:0,elements:[]},r&&(this.triangulation=r);const h=this.attributes.map(Fn=>(Fn.resetDescriptor(),Fn.descriptor));let y=0,M=0;const U=[];let re=3;e.forEach((Fn,br)=>{const{indices:ei,vertices:Jr,normals:zi,size:ca,indexes:Da,count:Va}=this.triangulation(Fn,u);typeof Va=="number"&&(M+=Va),ei.forEach(io=>{U.push(io+y)}),re=ca;const va=Jr.length/ca;this.featureLayout.sizePerElement=re,this.featureLayout.elements.push({featureIdx:br,vertices:Jr,normals:zi,offset:y}),y+=va;for(let io=0;io<va;io++){const Os=(zi==null?void 0:zi.slice(io*3,io*3+3))||[],Hu=Jr.slice(io*ca,io*ca+ca);let Ds=0;Da&&Da[io]!==void 0&&(Ds=Da[io]),h.forEach((il,jl)=>{il&&il.update&&il.buffer.data.push(...il.update(Fn,br,Hu,io,Os,Ds))})}});const{createAttribute:Ee,createBuffer:Ae,createElements:We}=this.rendererService,Ht={};h.forEach((Fn,br)=>{if(Fn){const{buffer:ei,update:Jr,name:zi}=Fn,ca=(0,Xh.Z)(Fn,Q2),Da=Ee((0,Ir.Z)({buffer:Ae(ei)},ca));Ht[Fn.name||""]=Da,this.attributes[br].vertexAttribute=Da}});const Tn=We({data:U,type:kt.UNSIGNED_INT,count:U.length});return this.attributesAndIndices={attributes:Ht,elements:Tn,count:M},Object.values(this.attributes).filter(Fn=>Fn.scale).forEach(Fn=>{const br=Fn.name;d==null||d.emit(`legend:${br}`,d.getLegend(br))}),this.attributesAndIndices}createAttributes(e,r){this.featureLayout={sizePerElement:0,elements:[]},r&&(this.triangulation=r);const u=this.attributes.map(Ee=>(Ee.resetDescriptor(),Ee.descriptor));let d=0;const h=[];let y=3;e.forEach((Ee,Ae)=>{const{indices:We,vertices:Ht,normals:Tn,size:Fn,indexes:br}=this.triangulation(Ee);We.forEach(Jr=>{h.push(Jr+d)}),y=Fn;const ei=Ht.length/Fn;this.featureLayout.sizePerElement=y,this.featureLayout.elements.push({featureIdx:Ae,vertices:Ht,normals:Tn,offset:d}),d+=ei;for(let Jr=0;Jr<ei;Jr++){const zi=(Tn==null?void 0:Tn.slice(Jr*3,Jr*3+3))||[],ca=Ht.slice(Jr*Fn,Jr*Fn+Fn);let Da=0;br&&br[Jr]!==void 0&&(Da=br[Jr]),u.forEach((Va,va)=>{Va&&Va.update&&Va.buffer.data.push(...Va.update(Ee,Ae,ca,Jr,zi,Da))})}});const{createAttribute:M,createBuffer:U}=this.rendererService,re={};return u.forEach((Ee,Ae)=>{if(Ee){const{buffer:We,update:Ht,name:Tn}=Ee,Fn=(0,Xh.Z)(Ee,q2),br=M((0,Ir.Z)({buffer:U(We)},Fn));re[Ee.name||""]=br,this.attributes[Ae].vertexAttribute=br}}),{attributes:re}}clearAllAttributes(){var e;this.attributes.forEach(r=>{r.vertexAttribute&&r.vertexAttribute.destroy()}),(e=this.attributesAndIndices)===null||e===void 0||e.elements.destroy(),this.attributes=[]}}var Sm=A(14224);function dy(t,e,r,u){function d(h){return h instanceof r?h:new r(function(y){y(h)})}return new(r||(r=Promise))(function(h,y){function M(Ee){try{re(u.next(Ee))}catch(Ae){y(Ae)}}function U(Ee){try{re(u.throw(Ee))}catch(Ae){y(Ae)}}function re(Ee){Ee.done?h(Ee.value):d(Ee.value).then(M,U)}re((u=u.apply(t,e||[])).next())})}function Am(t,e){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,y;return y={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function M(re){return function(Ee){return U([re,Ee])}}function U(re){if(u)throw new TypeError("Generator is already executing.");for(;r;)try{if(u=1,d&&(h=re[0]&2?d.return:re[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,re[1])).done)return h;switch(d=0,h&&(re=[re[0]&2,h.value]),re[0]){case 0:case 1:h=re;break;case 4:return r.label++,{value:re[1],done:!1};case 5:r.label++,d=re[1],re=[0];continue;case 7:re=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(re[0]===6||re[0]===2)){r=0;continue}if(re[0]===3&&(!h||re[1]>h[0]&&re[1]<h[3])){r.label=re[1];break}if(re[0]===6&&r.label<h[1]){r.label=h[1],h=re;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(re);break}h[2]&&r.ops.pop(),r.trys.pop();continue}re=e.call(t,r)}catch(Ee){re=[6,Ee],d=0}finally{u=h=0}if(re[0]&5)throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}}function p1(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var u=r.call(t),d,h=[],y;try{for(;(e===void 0||e-- >0)&&!(d=u.next()).done;)h.push(d.value)}catch(M){y={error:M}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(y)throw y.error}}return h}function g1(t,e,r){if(r||arguments.length===2)for(var u=0,d=e.length,h;u<d;u++)(h||!(u in e))&&(h||(h=Array.prototype.slice.call(e,0,u)),h[u]=e[u]);return t.concat(h||Array.prototype.slice.call(e))}function hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xp={exports:{}},wg={exports:{}},W0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(u){return u&&typeof u.length=="number"&&u.length>=0&&u.length%1===0}t.exports=e.default})(W0,W0.exports);var jd={},$g={exports:{}},Cm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r){return function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var h=u.pop();return r.call(this,u,h)}},t.exports=e.default})(Cm,Cm.exports);var V0={};Object.defineProperty(V0,"__esModule",{value:!0}),V0.fallback=Mg,V0.wrap=rp;var Kh=V0.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,py=V0.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,Ms=V0.hasNextTick=typeof Sm=="object"&&typeof Sm.nextTick=="function";function Mg(t){setTimeout(t,0)}function rp(t){return function(e){for(var r=[],u=arguments.length-1;u-- >0;)r[u]=arguments[u+1];return t(function(){return e.apply(void 0,r)})}}var Mp;Kh?Mp=queueMicrotask:py?Mp=setImmediate:Ms?Mp=Sm.nextTick:Mp=Mg,V0.default=rp(Mp),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=U;var r=Cm.exports,u=M(r),d=V0,h=M(d),y=jd;function M(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}function U(Ae){return(0,y.isAsync)(Ae)?function(){for(var We=[],Ht=arguments.length;Ht--;)We[Ht]=arguments[Ht];var Tn=We.pop(),Fn=Ae.apply(this,We);return re(Fn,Tn)}:(0,u.default)(function(We,Ht){var Tn;try{Tn=Ae.apply(this,We)}catch(Fn){return Ht(Fn)}if(Tn&&typeof Tn.then=="function")return re(Tn,Ht);Ht(null,Tn)})}function re(Ae,We){return Ae.then(function(Ht){Ee(We,null,Ht)},function(Ht){Ee(We,Ht&&Ht.message?Ht:new Error(Ht))})}function Ee(Ae,We,Ht){try{Ae(We,Ht)}catch(Tn){(0,h.default)(function(Fn){throw Fn},Tn)}}t.exports=e.default}($g,$g.exports),Object.defineProperty(jd,"__esModule",{value:!0}),jd.isAsyncIterable=jd.isAsyncGenerator=jd.isAsync=void 0;var fh=$g.exports,gy=W_(fh);function W_(t){return t&&t.__esModule?t:{default:t}}function Xg(t){return t[Symbol.toStringTag]==="AsyncFunction"}function V_(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function E0(t){return typeof t[Symbol.asyncIterator]=="function"}function i3(t){if(typeof t!="function")throw new Error("expected a function");return Xg(t)?(0,gy.default)(t):t}jd.default=i3,jd.isAsync=Xg,jd.isAsyncGenerator=V_,jd.isAsyncIterable=E0;var Om={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(u,d){if(d===void 0&&(d=u.length),!d)throw new Error("arity is undefined");function h(){for(var y=this,M=[],U=arguments.length;U--;)M[U]=arguments[U];return typeof M[d-1]=="function"?u.apply(this,M):new Promise(function(re,Ee){M[d-1]=function(Ae){for(var We=[],Ht=arguments.length-1;Ht-- >0;)We[Ht]=arguments[Ht+1];if(Ae)return Ee(Ae);re(We.length>1?We:We[0])},u.apply(y,M)})}return h}t.exports=e.default})(Om,Om.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=W0.exports,u=U(r),d=jd,h=U(d),y=Om.exports,M=U(y);function U(re){return re&&re.__esModule?re:{default:re}}e.default=(0,M.default)(function(re,Ee,Ae){var We=(0,u.default)(Ee)?[]:{};re(Ee,function(Ht,Tn,Fn){(0,h.default)(Ht)(function(br){for(var ei,Jr=[],zi=arguments.length-1;zi-- >0;)Jr[zi]=arguments[zi+1];Jr.length<2&&(ei=Jr,Jr=ei[0]),We[Tn]=Jr,Fn(br)})},function(Ht){return Ae(Ht,We)})},3),t.exports=e.default}(wg,wg.exports);var vy={exports:{}},Ov={exports:{}},yy={exports:{}},Rp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(u){function d(){for(var h=[],y=arguments.length;y--;)h[y]=arguments[y];if(u!==null){var M=u;u=null,M.apply(this,h)}}return Object.assign(d,u),d}t.exports=e.default})(Rp,Rp.exports);var Lf={exports:{}},_y={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},t.exports=e.default})(_y,_y.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ee;var r=W0.exports,u=y(r),d=_y.exports,h=y(d);function y(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}function M(Ae){var We=-1,Ht=Ae.length;return function(){return++We<Ht?{value:Ae[We],key:We}:null}}function U(Ae){var We=-1;return function(){var Tn=Ae.next();return Tn.done?null:(We++,{value:Tn.value,key:We})}}function re(Ae){var We=Ae?Object.keys(Ae):[],Ht=-1,Tn=We.length;return function Fn(){var br=We[++Ht];return br==="__proto__"?Fn():Ht<Tn?{value:Ae[br],key:br}:null}}function Ee(Ae){if((0,u.default)(Ae))return M(Ae);var We=(0,h.default)(Ae);return We?U(We):re(Ae)}t.exports=e.default}(Lf,Lf.exports);var wm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(u){return function(){for(var d=[],h=arguments.length;h--;)d[h]=arguments[h];if(u===null)throw new Error("Callback was already called.");var y=u;u=null,y.apply(this,d)}}t.exports=e.default})(wm,wm.exports);var Kg={exports:{}},wv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r={};e.default=r,t.exports=e.default})(wv,wv.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var r=wv.exports,u=d(r);function d(y){return y&&y.__esModule?y:{default:y}}function h(y,M,U,re){var Ee=!1,Ae=!1,We=!1,Ht=0,Tn=0;function Fn(){Ht>=M||We||Ee||(We=!0,y.next().then(function(Jr){var zi=Jr.value,ca=Jr.done;if(!(Ae||Ee)){if(We=!1,ca){Ee=!0,Ht<=0&&re(null);return}Ht++,U(zi,Tn,br),Tn++,Fn()}}).catch(ei))}function br(Jr,zi){if(Ht-=1,!Ae){if(Jr)return ei(Jr);if(Jr===!1){Ee=!0,Ae=!0;return}if(zi===u.default||Ee&&Ht<=0)return Ee=!0,re(null);Fn()}}function ei(Jr){Ae||(We=!1,Ee=!0,re(Jr))}Fn()}t.exports=e.default}(Kg,Kg.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Rp.exports,u=Ht(r),d=Lf.exports,h=Ht(d),y=wm.exports,M=Ht(y),U=jd,re=Kg.exports,Ee=Ht(re),Ae=wv.exports,We=Ht(Ae);function Ht(Tn){return Tn&&Tn.__esModule?Tn:{default:Tn}}e.default=function(Tn){return function(Fn,br,ei){if(ei=(0,u.default)(ei),Tn<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!Fn)return ei(null);if((0,U.isAsyncGenerator)(Fn))return(0,Ee.default)(Fn,Tn,br,ei);if((0,U.isAsyncIterable)(Fn))return(0,Ee.default)(Fn[Symbol.asyncIterator](),Tn,br,ei);var Jr=(0,h.default)(Fn),zi=!1,ca=!1,Da=0,Va=!1;function va(Os,Hu){if(!ca)if(Da-=1,Os)zi=!0,ei(Os);else if(Os===!1)zi=!0,ca=!0;else{if(Hu===We.default||zi&&Da<=0)return zi=!0,ei(null);Va||io()}}function io(){for(Va=!0;Da<Tn&&!zi;){var Os=Jr();if(Os===null){zi=!0,Da<=0&&ei(null);return}Da+=1,br(Os.value,Os.key,(0,M.default)(va))}Va=!1}io()}},t.exports=e.default}(yy,yy.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=yy.exports,u=U(r),d=jd,h=U(d),y=Om.exports,M=U(y);function U(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}function re(Ee,Ae,We,Ht){return(0,u.default)(Ae)(Ee,(0,h.default)(We),Ht)}e.default=(0,M.default)(re,4),t.exports=e.default}(Ov,Ov.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Ov.exports,u=y(r),d=Om.exports,h=y(d);function y(U){return U&&U.__esModule?U:{default:U}}function M(U,re,Ee){return(0,u.default)(U,1,re,Ee)}e.default=(0,h.default)(M,3),t.exports=e.default}(vy,vy.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=M;var r=wg.exports,u=y(r),d=vy.exports,h=y(d);function y(U){return U&&U.__esModule?U:{default:U}}function M(U,re){return(0,u.default)(h.default,U,re)}t.exports=e.default}(Xp,Xp.exports);var I0=hy(Xp.exports),dh=function(){function t(){this.args=[],this.tasks=[]}return t.prototype.call=function(){for(var e=arguments,r=[],u=0;u<arguments.length;u++)r[u]=e[u];return this.args=r,I0(this.tasks)},t.prototype.tap=function(e,r){var u=this;this.tasks.push(function(d){r.apply(void 0,g1([],p1(u.args),!1)),d(null,e)})},t}(),L0={exports:{}},sg={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=W0.exports,u=br(r),d=wv.exports,h=br(d),y=Ov.exports,M=br(y),U=Rp.exports,re=br(U),Ee=wm.exports,Ae=br(Ee),We=jd,Ht=br(We),Tn=Om.exports,Fn=br(Tn);function br(ca){return ca&&ca.__esModule?ca:{default:ca}}function ei(ca,Da,Va){Va=(0,re.default)(Va);var va=0,io=0,Os=ca.length,Hu=!1;Os===0&&Va(null);function Ds(il,jl){il===!1&&(Hu=!0),Hu!==!0&&(il?Va(il):(++io===Os||jl===h.default)&&Va(null))}for(;va<Os;va++)Da(ca[va],va,(0,Ae.default)(Ds))}function Jr(ca,Da,Va){return(0,M.default)(ca,1/0,Da,Va)}function zi(ca,Da,Va){var va=(0,u.default)(ca)?ei:Jr;return va(ca,(0,Ht.default)(Da),Va)}e.default=(0,Fn.default)(zi,3),t.exports=e.default})(sg,sg.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=M;var r=sg.exports,u=y(r),d=wg.exports,h=y(d);function y(U){return U&&U.__esModule?U:{default:U}}function M(U,re){return(0,h.default)(u.default,U,re)}t.exports=e.default}(L0,L0.exports);var Yl=hy(L0.exports),a3=function(){function t(){this.tasks=[]}return t.prototype.promise=function(){return Yl(this.tasks)},t.prototype.tapPromise=function(e,r){var u=this;this.tasks.push(function(d){return dy(u,void 0,void 0,function(){return Am(this,function(h){switch(h.label){case 0:return[4,r()];case 1:return h.sent(),d(null,e),[2]}})})})},t}(),x0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Rp.exports,u=Ee(r),d=wm.exports,h=Ee(d),y=jd,M=Ee(y),U=Om.exports,re=Ee(U);function Ee(We){return We&&We.__esModule?We:{default:We}}function Ae(We,Ht){if(Ht=(0,u.default)(Ht),!Array.isArray(We))return Ht(new Error("First argument to waterfall must be an array of functions"));if(!We.length)return Ht();var Tn=0;function Fn(ei){var Jr=(0,M.default)(We[Tn++]);Jr.apply(void 0,ei.concat([(0,h.default)(br)]))}function br(ei){for(var Jr=[],zi=arguments.length-1;zi-- >0;)Jr[zi]=arguments[zi+1];if(ei!==!1){if(ei||Tn===We.length)return Ht.apply(void 0,[ei].concat(Jr));Fn(Jr)}}Fn([])}e.default=(0,re.default)(Ae),t.exports=e.default})(x0,x0.exports);var Id=hy(x0.exports),o3=function(){function t(){this.tasks=[]}return t.prototype.call=function(){return Id(this.tasks)},t.prototype.tap=function(e,r){this.tasks.length===0?this.tasks.push(function(u){var d=r();u(d?null:!1,d)}):this.tasks.push(function(u,d){var h=r.apply(void 0,g1([],p1(u),!1));d(h?null:!1,e)})},t}(),ug=function(){function t(){this.tasks=[]}return t.prototype.call=function(){return I0(this.tasks)},t.prototype.tap=function(e,r){this.tasks.push(function(u){var d=r();u(d,e)})},t}(),G_=function(){function t(){this.args=[],this.tasks=[]}return t.prototype.promise=function(){for(var e=arguments,r=[],u=0;u<arguments.length;u++)r[u]=e[u];return this.args=r,I0(this.tasks)},t.prototype.tapPromise=function(e,r){var u=this;this.tasks.push(function(d){return dy(u,void 0,void 0,function(){return Am(this,function(h){switch(h.label){case 0:return[4,r.apply(void 0,g1([],p1(this.args),!1))];case 1:return h.sent(),d(null,e),[2]}})})})},t}(),J2=function(){function t(){this.args=[],this.tasks=[]}return t.prototype.promise=function(){for(var e=arguments,r=[],u=0;u<arguments.length;u++)r[u]=e[u];return this.args=r,I0(this.tasks)},t.prototype.tapPromise=function(e,r){var u=this;this.tasks.push(function(d){return dy(u,void 0,void 0,function(){var h;return Am(this,function(y){switch(y.label){case 0:return[4,r.apply(void 0,g1([],p1(this.args),!1))];case 1:return h=y.sent(),d(h,e),[2]}})})})},t}(),by=function(){function t(){this.tasks=[]}return t.prototype.promise=function(){return Id(this.tasks)},t.prototype.tapPromise=function(e,r){this.tasks.length===0?this.tasks.push(function(u){r().then(function(d){u(null,d)})}):this.tasks.push(function(u,d){r(u).then(function(h){d(null,h)})})},t}(),eE=A(28766),Ey=A.n(eE);class Mv extends yi.EventEmitter{get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get controlService(){return this.container.controlService}get configService(){return this.container.globalConfigService}get map(){return this.container.mapService}get coordinateSystemService(){return this.container.coordinateSystemService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get cameraService(){return this.container.cameraService}get interactionService(){return this.container.interactionService}get pickingService(){return this.container.pickingService}get shaderModuleService(){return this.container.shaderModuleService}get markerService(){return this.container.markerService}get popupService(){return this.container.popupService}constructor(e){super(),(0,me.Z)(this,"destroyed",!1),(0,me.Z)(this,"loaded",!1),(0,me.Z)(this,"id",void 0),(0,me.Z)(this,"inited",!1),(0,me.Z)(this,"rendering",!1),(0,me.Z)(this,"$container",void 0),(0,me.Z)(this,"canvas",void 0),(0,me.Z)(this,"markerContainer",void 0),(0,me.Z)(this,"resizeDetector",void 0),(0,me.Z)(this,"hooks",void 0),(0,me.Z)(this,"handleWindowResized",()=>{this.emit("resize"),this.$container&&(this.initContainer(),this.coordinateSystemService.needRefresh=!0,this.render())}),(0,me.Z)(this,"handleMapCameraChanged",r=>{this.cameraService.update(r),this.render()}),this.container=e,this.hooks={init:new G_},this.id=e.id}init(e){var r=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",()=>this.render()),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,Ba.Z)(function*(){r.debugService.log("map.mapInitStart",{type:r.map.version}),yield new Promise(u=>{r.map.onCameraChanged(d=>{r.cameraService.init(),r.cameraService.update(d),u()}),r.map.init()}),r.map.onCameraChanged(r.handleMapCameraChanged),r.map.addMarkerContainer(),r.markerService.addMarkers(),r.markerService.addMarkerLayers(),r.popupService.initPopup(),r.interactionService.init(),r.interactionService.on(Er.Drag,r.addSceneEvent.bind(r))})),this.hooks.init.tapPromise("initRenderer",(0,Ba.Z)(function*(){var u;const d=((u=r.map)===null||u===void 0?void 0:u.getOverlayContainer())||void 0;if(d?r.$container=d:r.$container=fy(r.configService.getSceneConfig(r.id).id||""),r.$container){const{canvas:y}=e;if(r.canvas=y||as("canvas","",r.$container),r.setCanvas(),yield r.rendererService.init(r.canvas,r.configService.getSceneConfig(r.id),e.gl),r.registerContextLost(),r.initContainer(),r.resizeDetector=Ey()({strategy:"scroll"}),r.resizeDetector.listenTo(r.$container,r.handleWindowResized),window.matchMedia){var h;(h=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))===null||h===void 0||h.addListener(r.handleWindowResized.bind("screen"))}}else console.error("\u5BB9\u5668 id \u4E0D\u5B58\u5728");r.pickingService.init(r.id)})),this.render()}registerContextLost(){const e=this.rendererService.getCanvas();e&&e.addEventListener("webglcontextlost",()=>this.emit("webglcontextlost"))}addLayer(e){this.layerService.sceneService=this,this.layerService.add(e)}addMask(e){this.layerService.sceneService=this,this.layerService.addMask(e)}render(){var e=this;return(0,Ba.Z)(function*(){e.rendering||e.destroyed||(e.rendering=!0,e.inited?(yield e.layerService.initLayers(),yield e.layerService.renderLayers()):(yield e.hooks.init.promise(),e.destroyed&&e.destroy(),yield e.layerService.initLayers(),e.layerService.renderLayers(),e.controlService.addControls(),e.loaded=!0,e.emit("loaded"),e.inited=!0),e.rendering=!1)})()}addFontFace(e,r){this.fontService.addFontFace(e,r)}getSceneContainer(){return this.$container}exportPng(e){var r=this;return(0,Ba.Z)(function*(){var u;const d=(u=r.$container)===null||u===void 0?void 0:u.getElementsByTagName("canvas")[0];return yield r.render(),e==="jpg"?d==null?void 0:d.toDataURL("image/jpeg"):d==null?void 0:d.toDataURL("image/png")})()}getSceneConfig(){return this.configService.getSceneConfig(this.id)}getPointSizeRange(){return this.rendererService.getPointSizeRange()}addMarkerContainer(){const e=this.$container.parentElement;e!==null&&(this.markerContainer=as("div","l7-marker-container",e))}getMarkerContainer(){return this.markerContainer}destroy(){var e;if(!this.inited){this.destroyed=!0;return}this.resizeDetector.removeListener(this.$container,this.handleWindowResized),this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(()=>{var r;(r=this.$container)===null||r===void 0||r.removeChild(this.canvas),this.canvas=null,this.rendererService.destroy()}),(e=this.$container)===null||e===void 0||(e=e.parentNode)===null||e===void 0||e.removeChild(this.$container),this.emit("destroy")}initContainer(){var e,r;const u=Sr,d=((e=this.$container)===null||e===void 0?void 0:e.clientWidth)||400,h=((r=this.$container)===null||r===void 0?void 0:r.clientHeight)||300,y=this.canvas;y&&(y.width=d*u,y.height=h*u),this.rendererService.viewport({x:0,y:0,width:u*d,height:u*h})}setCanvas(){var e,r;const u=Sr,d=((e=this.$container)===null||e===void 0?void 0:e.clientWidth)||400,h=((r=this.$container)===null||r===void 0?void 0:r.clientHeight)||300,y=this.canvas;y.width=d*u,y.height=h*u,y.style.width="100%",y.style.height="100%"}addSceneEvent(e){this.emit(e.type,e)}}const{uniq:xy}=yo,ip="#define PI 3.14159265359",Rv=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,m1=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,Ld=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}


vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  return weight;
}
`,Hd=`
in vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define HIGHLIGHT 1.0
#define SELECT 2.0

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color, float weight) {
  float activeType = v_PickingResult.a;
  if(activeType > 0.0) {
    vec4 highLightColor =  activeType > 1.5 ? u_SelectColor : u_HighlightColor;
    highLightColor = highLightColor * COLOR_SCALE;
    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));
    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);
  }
  else {
    return color;
  }

  
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  // \u8FC7\u6EE4\u591A\u4F59\u7684 shader \u8BA1\u7B97
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // \u6682\u65F6\u53BB\u9664 \u76F4\u63A5\u53D6\u6D88\u8BA1\u7B97\u5728\u9009\u4E2D\u65F6\u62D6\u62FD\u5730\u56FE\u4F1A\u6709\u95EE\u9898
  } else {
    return filterPickingColor(filterHighlightColor(color, 1.0));
  }
  
}

vec4 filterColorAlpha(vec4 color, float alpha) {
  // \u8FC7\u6EE4\u591A\u4F59\u7684 shader \u8BA1\u7B97
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // \u6682\u65F6\u53BB\u9664 \u76F4\u63A5\u53D6\u6D88\u8BA1\u7B97\u5728\u9009\u4E2D\u65F6\u62D6\u62FD\u5730\u56FE\u4F1A\u6709\u95EE\u9898
  } else {
    return filterPickingColor(filterHighlightColor(color, alpha));
  }
}

`,Y_=`layout(location = ATTRIBUTE_LOCATION_PICKING_COLOR) in vec3 a_PickingColor;
out vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define NORMAL 0.0
#define HIGHLIGHT 1.0
#define SELECT 2.0

bool isVertexPicked(vec3 vertexColor) {
  return distance(vertexColor,u_PickingColor.rgb) < 0.01;
}

// \u5224\u65AD\u5F53\u524D\u70B9\u662F\u5426\u5DF2\u7ECF\u88AB select \u9009\u4E2D
bool isVertexSelected(vec3 vertexColor) {
  return distance(vertexColor,u_CurrentSelectedId.rgb) < 0.01;
}

void setPickingColor(vec3 pickingColor) {
  if(u_shaderPick < 0.5) {
    return;
  }
  // compares only in highlight stage

  if(u_PickingStage == PICKING_HIGHLIGHT) {
    if(isVertexPicked(pickingColor)) {
       v_PickingResult = vec4(pickingColor.rgb * COLOR_SCALE,HIGHLIGHT);
       return;
    }
    if(isVertexSelected(pickingColor)) {
     v_PickingResult = vec4(u_CurrentSelectedId.rgb * COLOR_SCALE,SELECT);
      return;
    }

  } else {
      v_PickingResult= vec4(pickingColor.rgb * COLOR_SCALE,NORMAL);
      return;
  }

  // // v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && (isVertexPicked(pickingColor) || isVertexPicked(u_CurrentSelectedId)));

  // // Stores the picking color so that the fragment shader can render it during picking
  // v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,$_=`layout(std140) uniform PickingUniforms {
  vec4 u_HighlightColor;
  vec4 u_SelectColor;
  vec3 u_PickingColor;
  float u_PickingStage;
  vec3 u_CurrentSelectedId;
  float u_PickingThreshold;
  float u_PickingBuffer;
  float u_shaderPick;
  float u_activeMix;
};`,tE=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // \u7ECF\u7EAC\u5EA6 => \u5E73\u9762\u5750\u6807
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // \u5E73\u9762\u5750\u6807 => \u7ECF\u7EAC\u5EA6
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,Ty=`#define TILE_SIZE (512.0)
#define PI (3.1415926536)
#define WORLD_SCALE (TILE_SIZE / (PI * 2.0))
#define EARTH_CIRCUMFERENCE (40.03e6)

#define COORDINATE_SYSTEM_LNGLAT (1.0) // mapbox
#define COORDINATE_SYSTEM_LNGLAT_OFFSET (2.0) // mapbox offset
#define COORDINATE_SYSTEM_VECTOR_TILE (3.0)
#define COORDINATE_SYSTEM_IDENTITY (4.0)
#define COORDINATE_SYSTEM_METER_OFFSET (5.0)

#pragma include "scene_uniforms"

const vec2 ZERO_64_XY_LOW = vec2(0.0, 0.0);

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(radians(x) + PI, PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5)));
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}

// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1.0, 1.0);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
      u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01 ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}

vec4 project_position(vec4 position, vec2 position64xyLow) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(
      vec4(X + position64xyLow.x, Y + position64xyLow.y, position.z, position.w)
    );
  }
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
    u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01
  ) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }

  return position;
}

vec4 project_position(vec4 position) {
  return project_position(position, ZERO_64_XY_LOW);
}

vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

// \u9002\u914D\u7EB9\u7406\u8D34\u56FE\u7684\u7B49\u50CF\u7D20\u5927\u5C0F
float project_pixel_texture(float pixel) {
  // mapbox zoom > 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    return pixel * pow(0.5, u_Zoom) * u_FocalDistance;
  }

  return pixel * 2.0 * u_FocalDistance;
}

// \u5728\u4E0D\u8BBA\u4EC0\u4E48\u5E95\u56FE\u4E0B\u9700\u8981\u7EDF\u4E00\u5904\u7406\u7684\u65F6\u5019\u4F7F\u7528
float project_float_pixel(float pixel) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, 19.0 - u_Zoom) * u_FocalDistance;
  }

  return pixel * u_FocalDistance;
}

// Project meter into the unit of pixel which used in the camera world space
float project_float_meter(float meter) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Since the zoom level uniform is updated by mapservice and it's alread been subtracted by 1
    // Not sure if we are supposed to do that again
    return meter;
  } else {
    return project_float_pixel(meter);
  }

  // TODO: change the following code to make adaptations for amap
  // return u_FocalDistance * TILE_SIZE * pow(2.0, u_Zoom) * meter / EARTH_CIRCUMFERENCE;

}

float project_pixel(float pixel) {
  return pixel * u_FocalDistance;
}

vec2 project_pixel(vec2 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec3 project_pixel(vec3 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}

bool isEqual(float a, float b) {
  return a < b + 0.001 && a > b - 0.001;
}

`,v1=`vec2 rotate_matrix(vec2 v, float a) {
    float b = a / 180.0 * 3.1415926535897932384626433832795;
    float s = sin(b);
    float c = cos(b);
    mat2 m = mat2(c, s, -s, c);
    return m * v;
}`,Pv=`layout(std140) uniform SceneUniforms {
  mat4 u_ViewMatrix;
  mat4 u_ProjectionMatrix;
  mat4 u_ViewProjectionMatrix;
  mat4 u_ModelMatrix;
  vec4 u_ViewportCenterProjection;
  vec3 u_PixelsPerDegree;
  float u_Zoom;
  vec3 u_PixelsPerDegree2;
  float u_ZoomScale;
  vec3 u_PixelsPerMeter;
  float u_CoordinateSystem;
  vec3 u_CameraPosition;
  float u_DevicePixelRatio;
  vec2 u_ViewportCenter;
  vec2 u_ViewportSize;
  float u_FocalDistance;
};
`,y1=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,_1=/precision\s+(high|low|medium)p\s+float/,Qg=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,Mm=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,X_=/void\s+main\s*\([^)]*\)\s*\{\n?/;class Sy{constructor(){(0,me.Z)(this,"moduleCache",{}),(0,me.Z)(this,"rawContentCache",{})}registerBuiltinModules(){this.destroy(),this.registerModule("common",{vs:ip,fs:ip}),this.registerModule("decode",{vs:m1,fs:""}),this.registerModule("scene_uniforms",{vs:Pv,fs:Pv}),this.registerModule("picking_uniforms",{vs:$_,fs:$_}),this.registerModule("projection",{vs:Ty,fs:Ty}),this.registerModule("project",{vs:tE,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:y1}),this.registerModule("lighting",{vs:Ld,fs:""}),this.registerModule("light",{vs:Rv,fs:""}),this.registerModule("picking",{vs:Y_,fs:Hd}),this.registerModule("rotation_2d",{vs:v1,fs:""})}registerModule(e,r){r.vs=r.vs.replace(/\r\n/g,`
`),r.fs=r.fs.replace(/\r\n/g,`
`);const{vs:u,fs:d,uniforms:h,defines:y,inject:M}=r,{content:U,uniforms:re}=Rf(u),{content:Ee,uniforms:Ae}=Rf(d);this.rawContentCache[e]={fs:Ee,defines:y,inject:M,uniforms:(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({},re),Ae),h),vs:U}}getModule(e){let r=this.rawContentCache[e].vs,u=this.rawContentCache[e].fs;const{defines:d={},inject:h={}}=this.rawContentCache[e];let y={};h["vs:#decl"]&&(r=h["vs:#decl"]+r,y=Rf(h["vs:#decl"]).uniforms),h["vs:#main-start"]&&(r=r.replace(X_,Fn=>Fn+h["vs:#main-start"])),h["fs:#decl"]&&(u=h["fs:#decl"]+u),r=qg(d)+r;const{content:U,includeList:re}=this.processModule(r,[],"vs"),{content:Ee,includeList:Ae}=this.processModule(u,[],"fs"),We=xy(re.concat(Ae).concat(e)).reduce((Fn,br)=>(0,Ir.Z)((0,Ir.Z)({},Fn),this.rawContentCache[br].uniforms),(0,Ir.Z)({},y)),Ht=(_1.test(Ee)?"":Qg)+U,Tn=(_1.test(Ee)?"":Qg)+Ee;return this.moduleCache[e]={vs:Ht.trim(),fs:Tn.trim(),uniforms:We},this.moduleCache[e]}destroy(){this.moduleCache={},this.rawContentCache={}}processModule(e,r,u){return{content:e.replace(Mm,(h,y)=>{const U=y.split(" ")[0].replace(/"/g,"");if(r.indexOf(U)>-1)return"";const re=this.rawContentCache[U][u];r.push(U);const{content:Ee}=this.processModule(re,r,u);return Ee}),includeList:r}}}function qg(t){return Object.keys(t).reduce((r,u)=>r+`#define ${u.toUpperCase()} ${t[u]}
`,`
`)}class T0{constructor(){(0,me.Z)(this,"shaderModuleService",void 0),(0,me.Z)(this,"rendererService",void 0),(0,me.Z)(this,"cameraService",void 0),(0,me.Z)(this,"mapService",void 0),(0,me.Z)(this,"interactionService",void 0),(0,me.Z)(this,"layerService",void 0),(0,me.Z)(this,"config",void 0)}getName(){return""}getType(){return bu.Normal}init(e,r){this.config=r,this.rendererService=e.getContainer().rendererService,this.cameraService=e.getContainer().cameraService,this.mapService=e.getContainer().mapService,this.interactionService=e.getContainer().interactionService,this.layerService=e.getContainer().layerService,this.shaderModuleService=e.getContainer().shaderModuleService}render(e){}}class kh extends T0{getName(){return"clear"}init(e,r){super.init(e,r)}render(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}class nE{constructor(e){(0,me.Z)(this,"passes",[]),(0,me.Z)(this,"layer",void 0),(0,me.Z)(this,"renderFlag",void 0),(0,me.Z)(this,"width",0),(0,me.Z)(this,"height",0),this.postProcessor=e}setLayer(e){this.layer=e}setRenderFlag(e){this.renderFlag=e}getRenderFlag(){return this.renderFlag}getPostProcessor(){return this.postProcessor}render(){var e=this;return(0,Ba.Z)(function*(){for(const r of e.passes)yield r.render(e.layer);yield e.postProcessor.render(e.layer)})()}resize(e,r){(this.width!==e||this.height!==r)&&(this.postProcessor.resize(e,r),this.width=e,this.height=r)}add(e,r){e.getType()===bu.PostProcessing?this.postProcessor.add(e,this.layer,r):(e.init(this.layer,r),this.passes.push(e))}insert(e,r,u){e.init(this.layer,r),this.passes.splice(u,0,e)}destroy(){this.passes.length=0}}class K_ extends T0{constructor(...e){var r;super(...e),r=this,(0,me.Z)(this,"pickingFBO",void 0),(0,me.Z)(this,"layer",void 0),(0,me.Z)(this,"width",0),(0,me.Z)(this,"height",0),(0,me.Z)(this,"alreadyInRendering",!1),(0,me.Z)(this,"pickFromPickingFBO",({x:u,y:d,lngLat:h,type:y})=>{if(!this.layer.isVisible()||!this.layer.needPick(y))return;const{getViewportSize:M,readPixelsAsync:U,useFramebuffer:re}=this.rendererService,{width:Ee,height:Ae}=M(),{enableHighlight:We,enableSelect:Ht}=this.layer.getLayerConfig(),Tn=u*Sr,Fn=d*Sr;if(Tn>Ee||Tn<0||Fn>Ae||Fn<0)return;let br;re(this.pickingFBO,(0,Ba.Z)(function*(){var ei;if(br=yield U({x:Math.round(Tn),y:Math.round(Ae-(d+1)*Sr),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:r.pickingFBO}),br[0]!==0||br[1]!==0||br[2]!==0){const Jr=Po(br),zi=r.layer.getSource().getFeatureById(Jr),ca={x:u,y:d,type:y,lngLat:h,featureId:Jr,feature:zi};zi&&(r.layer.setCurrentPickId(Jr),r.triggerHoverOnLayer(ca))}else{const Jr={x:u,y:d,lngLat:h,type:r.layer.getCurrentPickId()===null?"un"+y:"mouseout",featureId:null,feature:null};r.triggerHoverOnLayer((0,Ir.Z)((0,Ir.Z)({},Jr),{},{type:"unpick"})),r.triggerHoverOnLayer(Jr),r.layer.setCurrentPickId(null)}We&&r.highlightPickedFeature(br),Ht&&y==="click"&&((ei=br)===null||ei===void 0?void 0:ei.toString())!==[0,0,0,0].toString()&&r.selectFeature(br)}))})}getType(){return bu.Normal}getName(){return"pixelPicking"}init(e,r){super.init(e,r),this.layer=e;const{createTexture2D:u,createFramebuffer:d,getViewportSize:h}=this.rendererService,{width:y,height:M}=h(),U=u({width:y,height:M,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE,label:"Picking Texture"});this.pickingFBO=d({color:U}),this.interactionService.on(Er.Hover,this.pickFromPickingFBO),this.interactionService.on(Er.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(Er.Active,this.highlightFeatureHandle.bind(this))}render(e){if(this.alreadyInRendering)return;const{getViewportSize:r,useFramebuffer:u,clear:d}=this.rendererService,{width:h,height:y}=r();this.alreadyInRendering=!0,(this.width!==h||this.height!==y)&&(this.pickingFBO.resize({width:h,height:y}),this.width=h,this.height=y),u(this.pickingFBO,()=>{d({framebuffer:this.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});const M=this.layer.multiPassRenderer.getRenderFlag();this.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),this.layer.multiPassRenderer.setRenderFlag(M),this.alreadyInRendering=!1})}triggerHoverOnLayer(e){this.layer.emit(e.type,e)}highlightPickedFeature(e){const[r,u,d]=e;this.layer.hooks.beforeHighlight.call([r,u,d]),this.layerService.renderLayers()}selectFeature(e){const[r,u,d]=e;this.layer.hooks.beforeSelect.call([r,u,d]),this.layerService.renderLayers()}selectFeatureHandle({featureId:e}){const r=ds(e);this.selectFeature(new Uint8Array(r))}highlightFeatureHandle({featureId:e}){const r=ds(e);this.highlightPickedFeature(new Uint8Array(r))}}class b1{constructor(e){(0,me.Z)(this,"passes",[]),(0,me.Z)(this,"readFBO",void 0),(0,me.Z)(this,"writeFBO",void 0),this.rendererService=e,this.init()}getReadFBO(){return this.readFBO}getWriteFBO(){return this.writeFBO}getCurrentFBOTex(){const{getViewportSize:e,createTexture2D:r}=this.rendererService,{width:u,height:d}=e();return r({x:0,y:0,width:u,height:d,copy:!0})}getReadFBOTex(){var e=this;const{useFramebuffer:r}=this.rendererService;return new Promise(u=>{r(this.readFBO,(0,Ba.Z)(function*(){u(e.getCurrentFBOTex())}))})}renderBloomPass(e,r){var u=this;return(0,Ba.Z)(function*(){const d=yield u.getReadFBOTex();let h=0;for(;h<4;)yield r.render(e,d),u.swap(),h++})()}render(e){var r=this;return(0,Ba.Z)(function*(){for(let u=0;u<r.passes.length;u++){const d=r.passes[u];d.setRenderToScreen(r.isLastEnabledPass(u)),d.getName()==="bloom"?yield r.renderBloomPass(e,d):(yield d.render(e),u!==r.passes.length-1&&r.swap())}})()}resize(e,r){this.readFBO.resize({width:e,height:r}),this.writeFBO.resize({width:e,height:r})}add(e,r,u){e.init(r,u),this.passes.push(e)}insert(e,r,u,d){e.init(u,d),this.passes.splice(r,0,e)}getPostProcessingPassByName(e){return this.passes.find(r=>r.getName()===e)}init(){const{createFramebuffer:e,createTexture2D:r}=this.rendererService;this.readFBO=e({color:r({width:1,height:1,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE,usage:H0.RENDER_TARGET})}),this.writeFBO=e({color:r({width:1,height:1,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE,usage:H0.RENDER_TARGET})})}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].isEnabled())return!1;return!0}swap(){const e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}}class rE extends T0{getType(){return bu.Normal}getName(){return"render"}init(e,r){super.init(e,r)}render(e){const{useFramebuffer:r,clear:u}=this.rendererService,d=e.multiPassRenderer.getPostProcessor().getReadFBO();r(d,()=>{u({color:[0,0,0,0],depth:1,stencil:0,framebuffer:d}),e.multiPassRenderer.setRenderFlag(!1),e.models.forEach(h=>{h.draw({uniforms:e.layerModel.getUninforms()})}),e.multiPassRenderer.setRenderFlag(!0)})}}const Iv=`varying vec2 v_UV;

uniform float u_BloomFinal: 0.0;
uniform sampler2D u_Texture;
uniform sampler2D u_Texture2;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_radius: 5.0;
uniform float u_intensity: 0.3;
uniform float u_baseRadio: 0.5;

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

float luminance(vec4 color) {
  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;
}

void main() {
  // vec4 baseColor = texture2D(u_Texture, v_UV);

  float r = sqrt(u_radius);

  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));
  // c1 *= luminance(c1);
  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));
  // c2 *= luminance(c2);
  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));
  // c3 *= luminance(c3);
  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));
  // c4 *= luminance(c4);
  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;

  // float lum = luminance(inbloomColor);
  // inbloomColor.rgb *= lum;

  if(u_BloomFinal > 0.0) {
    vec4 baseColor = texture2D(u_Texture2, v_UV);
    float baselum = luminance(baseColor);
    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);
    if(baselum <= 0.2) {
      gl_FragColor = inbloomColor * u_intensity;
    }
  } else {
    gl_FragColor = inbloomColor;
  }
}`,Ay=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:Bh}=yo;class ql extends dl{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:Ay,fs:Iv});const{vs:e,fs:r,uniforms:u}=this.shaderModuleService.getModule("blur-pass"),{width:d,height:h}=this.rendererService.getViewportSize();return{vs:e,fs:r,uniforms:(0,Ir.Z)((0,Ir.Z)({},u),{},{u_ViewportSize:[d,h]})}}convertOptionsToUniforms(e){const r={};return Bh(e.bloomRadius)||(r.u_radius=e.bloomRadius),Bh(e.bloomIntensity)||(r.u_intensity=e.bloomIntensity),Bh(e.bloomBaseRadio)||(r.u_baseRadio=e.bloomBaseRadio),r}}const Q_=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,ap=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:q_}=yo;class iE extends dl{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:ap,fs:Q_});const{vs:e,fs:r,uniforms:u}=this.shaderModuleService.getModule("blur-pass"),{width:d,height:h}=this.rendererService.getViewportSize();return{vs:e,fs:r,uniforms:(0,Ir.Z)((0,Ir.Z)({},u),{},{u_ViewportSize:[d,h]})}}convertOptionsToUniforms(e){const r={};return q_(e.blurRadius)||(r.u_BlurDir=[e.blurRadius,0]),r}}const sf=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,Cy=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:J_}=yo;class E1 extends dl{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:Cy,fs:sf});const{vs:e,fs:r,uniforms:u}=this.shaderModuleService.getModule("blur-pass"),{width:d,height:h}=this.rendererService.getViewportSize();return{vs:e,fs:r,uniforms:(0,Ir.Z)((0,Ir.Z)({},u),{},{u_ViewportSize:[d,h]})}}convertOptionsToUniforms(e){const r={};return J_(e.blurRadius)||(r.u_BlurDir=[0,e.blurRadius]),r}}const eb=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,tb=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class Pp extends dl{setupShaders(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:tb,fs:eb});const{vs:e,fs:r,uniforms:u}=this.shaderModuleService.getModule("colorhalftone-pass"),{width:d,height:h}=this.rendererService.getViewportSize();return{vs:e,fs:r,uniforms:(0,Ir.Z)((0,Ir.Z)({},u),{},{u_ViewportSize:[d,h]})}}}const Lv=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,nb=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class Ip extends dl{setupShaders(){return this.shaderModuleService.registerModule("copy-pass",{vs:nb,fs:Lv}),this.shaderModuleService.getModule("copy-pass")}}const rb=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,Jg=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class Rm extends dl{setupShaders(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:Jg,fs:rb});const{vs:e,fs:r,uniforms:u}=this.shaderModuleService.getModule("hexagonalpixelate-pass"),{width:d,height:h}=this.rendererService.getViewportSize();return{vs:e,fs:r,uniforms:(0,Ir.Z)((0,Ir.Z)({},u),{},{u_ViewportSize:[d,h]})}}}const ib=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,ab=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class x1 extends dl{setupShaders(){this.shaderModuleService.registerModule("ink-pass",{vs:ab,fs:ib});const{vs:e,fs:r,uniforms:u}=this.shaderModuleService.getModule("ink-pass"),{width:d,height:h}=this.rendererService.getViewportSize();return{vs:e,fs:r,uniforms:(0,Ir.Z)((0,Ir.Z)({},u),{},{u_ViewportSize:[d,h]})}}}const Fh=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,N0=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class Pm extends dl{setupShaders(){return this.shaderModuleService.registerModule("noise-pass",{vs:N0,fs:Fh}),this.shaderModuleService.getModule("noise-pass")}}const Im=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Qh=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`;class aE extends dl{setupShaders(){return this.shaderModuleService.registerModule("sepia-pass",{vs:Im,fs:Qh}),this.shaderModuleService.getModule("sepia-pass")}}const T1=new N_;let Nd=0;function Uh(){const t=new Sy,e=new F_,r=new r3,u=new B_(r),d=new G2,h=new P_,y=new l1,M=new Em,U=new I_,re={id:`${Nd++}`,globalConfigService:T1,shaderModuleService:t,debugService:e,cameraService:r,coordinateSystemService:u,fontService:d,iconService:h,markerService:y,popupService:M,controlService:U,customRenderService:{}},Ee=new X2(re);re.layerService=Ee;const Ae=new Mv(re);re.sceneService=Ae;const We=new f1(re);re.interactionService=We;const Ht=new z_(re);re.pickingService=Ht;const Tn={clear:new kh,pixelPicking:new K_,render:new rE};re.normalPassFactory=br=>Tn[br];const Fn={copy:new Ip,bloom:new ql,blurH:new iE,blurV:new E1,noise:new Pm,sepia:new aE,colorHalftone:new Pp,hexagonalPixelate:new Rm,ink:new x1};return re.postProcessingPass=Fn,re.postProcessingPassFactory=br=>Fn[br],re}function em(t){const e=(0,Ir.Z)({},t);return e.postProcessor=new b1(e.rendererService),e.multiPassRenderer=new nE(e.postProcessor),e.styleAttributeService=new H_(e.rendererService),e}const Lm=["loaded","fontloaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];let Eh=function(t){return t.IMAGE="image",t.CUSTOMIMAGE="customImage",t.ARRAYBUFFER="arraybuffer",t.RGB="rgb",t.TERRAINRGB="terrainRGB",t.CUSTOMRGB="customRGB",t.CUSTOMARRAYBUFFER="customArrayBuffer",t.CUSTOMTERRAINRGB="customTerrainRGB",t}({});var ob=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),oE=(t,e,r,u)=>ob(void 0,null,function*(){return new Promise((d,h)=>{e({x:t.x,y:t.y,z:t.z},(y,M)=>{if(y||M.length===0){h(y);return}M&&Ts([{data:M,bands:[0]}],r,u,(U,re)=>{U?h(U):re&&d(re)})})})}),sE=(t,e)=>ob(void 0,null,function*(){return new Promise((r,u)=>{e({x:t.x,y:t.y,z:t.z},(d,h)=>{if(d||!h){u(d);return}h instanceof ArrayBuffer?St(h,(y,M)=>{y&&u(y),r(M)}):h instanceof HTMLImageElement?r(h):u(d)})})});function uE(t,e){return Array.isArray(t)?typeof t[0]=="string"?t.map(r=>Co(r,e)):t.map(r=>({url:Co(r.url,e),bands:r.bands||[0]})):Co(t,e)}function sb(t){return typeof t=="string"?[{url:t,bands:[0]}]:typeof t[0]=="string"?t.map(e=>({url:e,bands:[0]})):t}function D0(t,e){t.xhrCancel=()=>{e.map(r=>{r.abort()})}}var S0=Object.defineProperty,Nv=Object.defineProperties,ub=Object.getOwnPropertyDescriptors,Rg=Object.getOwnPropertySymbols,lE=Object.prototype.hasOwnProperty,Oy=Object.prototype.propertyIsEnumerable,hh=(t,e,r)=>e in t?S0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lb=(t,e)=>{for(var r in e||(e={}))lE.call(e,r)&&hh(t,r,e[r]);if(Rg)for(var r of Rg(e))Oy.call(e,r)&&hh(t,r,e[r]);return t},tm=(t,e)=>Nv(t,ub(e)),Nm=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),wy=(t,e,r,u,d)=>Nm(void 0,null,function*(){const h=sb(e.url);if(h.length>1){const{rasterFiles:y,xhrList:M,errList:U}=yield My(h,e);if(D0(t,M),U.length>0){r(U,null);return}Ts(y,u,d,r)}else{const y=Zt(e,(M,U)=>{if(M)r(M);else if(U){const re=[{data:U,bands:h[0].bands}];Ts(re,u,d,r)}});D0(t,[y])}});function My(t,e){return Nm(this,null,function*(){const r=[],u=[],d=[];for(let h=0;h<t.length;h++){const y=t[h],M=tm(lb({},e),{url:y.url}),U=y.bands,{err:re,data:Ee,xhr:Ae}=yield Un(tm(lb({},M),{type:"arrayBuffer"}));re&&d.push(re),u.push(Ae),r.push({data:Ee,bands:U})}return{rasterFiles:r,xhrList:u,errList:d}})}var Ry=Object.defineProperty,cb=Object.defineProperties,S1=Object.getOwnPropertyDescriptors,Dm=Object.getOwnPropertySymbols,fb=Object.prototype.hasOwnProperty,cE=Object.prototype.propertyIsEnumerable,db=(t,e,r)=>e in t?Ry(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,km=(t,e)=>{for(var r in e||(e={}))fb.call(e,r)&&db(t,r,e[r]);if(Dm)for(var r of Dm(e))cE.call(e,r)&&db(t,r,e[r]);return t},hb=(t,e)=>cb(t,S1(e)),Py=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),fE=(t,e,r,u)=>Py(void 0,null,function*(){const{format:d=A1,operation:h,requestParameters:y={}}=u,M=hb(km({},y),{url:uE(t,e)});return new Promise((U,re)=>{wy(r,M,(Ee,Ae)=>{Ee?re(Ee):Ae&&U(Ae)},d,h)})}),Iy=(t,e,r,u)=>Py(void 0,null,function*(){let d;const h=Array.isArray(t)?t[0]:t;return u.wmtsOptions?d=((u==null?void 0:u.getURLFromTemplate)||Vu)(h,km(km({},e),u.wmtsOptions)):d=((u==null?void 0:u.getURLFromTemplate)||Co)(h,e),new Promise((y,M)=>{var U;const re=st(hb(km({},u==null?void 0:u.requestParameters),{url:d,type:((U=u==null?void 0:u.requestParameters)==null?void 0:U.type)||"arrayBuffer"}),(Ee,Ae)=>{Ee?M(Ee):Ae&&y(Ae)},u.transformResponse);r.xhrCancel=()=>re.cancel()})}),A1=()=>({rasterData:new Uint8Array([0]),width:1,height:1}),Bm=Object.defineProperty,pb=Object.defineProperties,C1=Object.getOwnPropertyDescriptors,Dv=Object.getOwnPropertySymbols,dE=Object.prototype.hasOwnProperty,gb=Object.prototype.propertyIsEnumerable,nm=(t,e,r)=>e in t?Bm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ly=(t,e)=>{for(var r in e||(e={}))dE.call(e,r)&&nm(t,r,e[r]);if(Dv)for(var r of Dv(e))gb.call(e,r)&&nm(t,r,e[r]);return t},Ny=(t,e)=>pb(t,C1(e)),mb={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},hE=[Eh.ARRAYBUFFER,Eh.RGB];function vb(t){return!!(Array.isArray(t)&&t.length===0||!Array.isArray(t)&&typeof t!="string")}function lg(t,e={}){if(vb(t))throw new Error("tile server url is error");const{extent:r=[1/0,1/0,-1/0,-1/0],coordinates:u}=e;let d=(e==null?void 0:e.dataType)||Eh.IMAGE;d===Eh.RGB&&(d=Eh.ARRAYBUFFER);const h=(U,re)=>{switch(d){case Eh.IMAGE:return Iy(t,U,re,e);case Eh.CUSTOMIMAGE:case Eh.CUSTOMTERRAINRGB:return sE(re,e==null?void 0:e.getCustomData);case Eh.ARRAYBUFFER:return fE(t,U,re,e);case Eh.CUSTOMARRAYBUFFER:case Eh.CUSTOMRGB:return oE(re,e==null?void 0:e.getCustomData,(e==null?void 0:e.format)||A1,e==null?void 0:e.operation);default:return Iy(t,U,re,e)}},y=Ny(Ly(Ly({},mb),e),{getTileData:h}),M=cu(u,r);return{data:t,dataArray:[{_id:1,coordinates:M}],tilesetOptions:y,isTile:!0}}var kv=Object.defineProperty,rm=Object.defineProperties,Fm=Object.getOwnPropertyDescriptors,Um=Object.getOwnPropertySymbols,Pc=Object.prototype.hasOwnProperty,O1=Object.prototype.propertyIsEnumerable,im=(t,e,r)=>e in t?kv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pE=(t,e)=>{for(var r in e||(e={}))Pc.call(e,r)&&im(t,r,e[r]);if(Um)for(var r of Um(e))O1.call(e,r)&&im(t,r,e[r]);return t},yb=(t,e)=>rm(t,Fm(e)),w1=(t,e)=>{var r={};for(var u in t)Pc.call(t,u)&&e.indexOf(u)<0&&(r[u]=t[u]);if(t!=null&&Um)for(var u of Um(t))e.indexOf(u)<0&&O1.call(t,u)&&(r[u]=t[u]);return r};function gE(t,e){const r=e,{extent:u=[121.168,30.2828,121.384,30.4219],coordinates:d,width:h,height:y}=r,M=w1(r,["extent","coordinates","width","height"]);t.length<2&&console.warn("RGB\u89E3\u6790\u9700\u89812\u4E2A\u6CE2\u6BB5\u7684\u6570\u636E");const[U,re]=M.bands||[0,1],Ee=[t[U],t[re]],Ae=[];for(let Tn=0;Tn<Ee[0].length;Tn++)Ae.push((Ee[1][Tn]-Ee[0][Tn])/(Ee[1][Tn]+Ee[0][Tn]));const We=cu(d,u);return{_id:1,dataArray:[yb(pE({_id:1,data:Ae,width:h,height:y},M),{coordinates:We})]}}var Dy=Object.defineProperty,_b=Object.defineProperties,zh=Object.getOwnPropertyDescriptors,zm=Object.getOwnPropertySymbols,uf=Object.prototype.hasOwnProperty,Zm=Object.prototype.propertyIsEnumerable,k0=(t,e,r)=>e in t?Dy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ky=(t,e)=>{for(var r in e||(e={}))uf.call(e,r)&&k0(t,r,e[r]);if(zm)for(var r of zm(e))Zm.call(e,r)&&k0(t,r,e[r]);return t},qh=(t,e)=>_b(t,zh(e)),Bv=(t,e)=>{var r={};for(var u in t)uf.call(t,u)&&e.indexOf(u)<0&&(r[u]=t[u]);if(t!=null&&zm)for(var u of zm(t))e.indexOf(u)<0&&Zm.call(t,u)&&(r[u]=t[u]);return r};function Fv(t,e){const r=e,{extent:u,coordinates:d,width:h,height:y}=r,M=Bv(r,["extent","coordinates","width","height"]);t.length<3&&console.warn("RGB\u89E3\u6790\u9700\u8981\u4E09\u4E2A\u6CE2\u6BB5\u7684\u6570\u636E");const[U,re,Ee]=M.bands||[0,1,2],Ae=[t[U],t[re],t[Ee]],We=[],[Ht,Tn]=(M==null?void 0:M.countCut)||[2,98],Fn=(M==null?void 0:M.RMinMax)||Tr(Ae[0],Ht,Tn),br=(M==null?void 0:M.GMinMax)||Tr(Ae[1],Ht,Tn),ei=(M==null?void 0:M.BMinMax)||Tr(Ae[2],Ht,Tn);for(let ca=0;ca<Ae[0].length;ca++)We.push(Math.max(0,Ae[0][ca]-Fn[0])),We.push(Math.max(0,Ae[1][ca]-br[0])),We.push(Math.max(0,Ae[2][ca]-ei[0]));const Jr=cu(d,u);return{_id:1,dataArray:[qh(ky({_id:1,data:We,width:h,height:y,rMinMax:Fn,gMinMax:br,bMinMax:ei},M),{coordinates:Jr})]}}var By=Object.defineProperty,bb=Object.defineProperties,Eb=Object.getOwnPropertyDescriptors,jm=Object.getOwnPropertySymbols,Fy=Object.prototype.hasOwnProperty,xb=Object.prototype.propertyIsEnumerable,Tb=(t,e,r)=>e in t?By(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sb=(t,e)=>{for(var r in e||(e={}))Fy.call(e,r)&&Tb(t,r,e[r]);if(jm)for(var r of jm(e))xb.call(e,r)&&Tb(t,r,e[r]);return t},Pg=(t,e)=>bb(t,Eb(e)),Hm=(t,e)=>{var r={};for(var u in t)Fy.call(t,u)&&e.indexOf(u)<0&&(r[u]=t[u]);if(t!=null&&jm)for(var u of jm(t))e.indexOf(u)<0&&xb.call(t,u)&&(r[u]=t[u]);return r};function Ab(t,e){const r=e,{extent:u,coordinates:d,min:h,max:y,width:M,height:U,format:re,operation:Ee}=r,Ae=Hm(r,["extent","coordinates","min","max","width","height","format","operation"]);let We;if(re===void 0||ho(t))We=Array.from(t);else{const Fn=Array.isArray(t)?t:[t];We=aa(Fn,re,Ee)}const Ht=cu(d,u);return{_id:1,dataArray:[Pg(Sb({_id:1,data:We,width:M,height:U},Ae),{min:h,max:y,coordinates:Ht})]}}var mE=Object.defineProperty,Cb=Object.defineProperties,M1=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,vE=Object.prototype.hasOwnProperty,zy=Object.prototype.propertyIsEnumerable,Ob=(t,e,r)=>e in t?mE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wb=(t,e)=>{for(var r in e||(e={}))vE.call(e,r)&&Ob(t,r,e[r]);if(Uy)for(var r of Uy(e))zy.call(e,r)&&Ob(t,r,e[r]);return t},yE=(t,e)=>Cb(t,M1(e)),_E=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),R1={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},Mb=t=>_E(void 0,null,function*(){return new Promise(e=>{const[r,u,d,h]=t.bounds,y={layers:{testTile:{features:[{type:"Feature",properties:{key:t.x+"/"+t.y+"/"+t.z,x:(r+d)/2,y:(u+h)/2},geometry:{type:"LineString",coordinates:[[d,h],[d,u],[r,u],[r,u]]}}]}}};e(y)})});function Zy(t,e){const r=d=>Mb(d),u=yE(wb(wb({},R1),e),{getTileData:r});return{data:t,dataArray:[],tilesetOptions:u,isTile:!0}}var Wm=A(48096),Uv=A.n(Wm),Rb=Object.defineProperty,jy=Object.getOwnPropertySymbols,bE=Object.prototype.hasOwnProperty,EE=Object.prototype.propertyIsEnumerable,Pb=(t,e,r)=>e in t?Rb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C=(t,e)=>{for(var r in e||(e={}))bE.call(e,r)&&Pb(t,r,e[r]);if(jy)for(var r of jy(e))EE.call(e,r)&&Pb(t,r,e[r]);return t};function Z(t,e){const{radius:r=40,maxZoom:u=18,minZoom:d=0,zoom:h=2}=e;if(t.pointIndex){const U=t.pointIndex.getClusters(t.extent,Math.floor(h));return t.dataArray=xe(U),t}const y=new(Uv())({radius:r,minZoom:d,maxZoom:u}),M={type:"FeatureCollection",features:[]};return M.features=t.dataArray.map(U=>({type:"Feature",geometry:{type:"Point",coordinates:U.coordinates},properties:C({},U)})),y.load(M.features),y}function xe(t){return t.map((e,r)=>C({coordinates:e.geometry.coordinates,_id:r+1},e.properties))}function Lt(t){if(t.length===0)throw new Error("max requires at least one data point");let e=t[0];for(let r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e}function Dn(t){if(t.length===0)throw new Error("min requires at least one data point");let e=t[0];for(let r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e}function Lr(t){if(t.length===0)return 0;let e=t[0],r=0,u;for(let d=1;d<t.length;d++)u=e+t[d]*1,Math.abs(e)>=Math.abs(t[d])?r+=e-u+t[d]:r+=t[d]-u+e,e=u;return e+r*1}function Ni(t){if(t.length===0)throw new Error("mean requires at least one data point");return Lr(t)/t.length}var la={min:Dn,max:Lt,mean:Ni,sum:Lr},Fa=Object.defineProperty,Bo=Object.getOwnPropertySymbols,Fo=Object.prototype.hasOwnProperty,Ca=Object.prototype.propertyIsEnumerable,Ys=(t,e,r)=>e in t?Fa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cu=(t,e)=>{for(var r in e||(e={}))Fo.call(e,r)&&Ys(t,r,e[r]);if(Bo)for(var r of Bo(e))Ca.call(e,r)&&Ys(t,r,e[r]);return t},hl=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),{cloneDeep:ac,isFunction:gl,isString:Ic,mergeWith:qc}=yo;function op(t,e){if(Array.isArray(e))return e}var B0=class extends yi.EventEmitter{constructor(t,e){super(),this.type="source",this.isTile=!1,this.inited=!1,this.hooks={init:new dh},this.parser={type:"geojson"},this.transforms=[],this.cluster=!1,this.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},this.invalidExtent=!1,this.dataArrayChanged=!1,this.cfg={autoRender:!0},this.originData=t,this.initCfg(e),this.init().then(()=>{this.inited=!0,this.emit("update",{type:"inited"})})}getSourceCfg(){return this.cfg}getClusters(t){return this.clusterIndex.getClusters(this.caculClusterExtent(2),t)}getClustersLeaves(t){return this.clusterIndex.getLeaves(t,1/0)}getParserType(){return this.parser.type}updateClusterData(t){const{method:e="sum",field:r}=this.clusterOptions;let u=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(t));this.clusterOptions.zoom=t,u.forEach(d=>{d.id||(d.properties.point_count=1)}),(r||gl(e))&&(u=u.map(d=>{const h=d.id;if(h){const M=this.clusterIndex.getLeaves(h,1/0).map(re=>re.properties);let U;if(Ic(e)&&r){const re=_h(M,r);U=la[e](re)}gl(e)&&(U=e(M)),d.properties.stat=U}else d.properties.point_count=1;return d})),this.data=j("geojson")({type:"FeatureCollection",features:u}),this.executeTrans()}getFeatureById(t){const{type:e="geojson",geometry:r}=this.parser;if(e==="geojson"&&!this.cluster){const u=t<this.originData.features.length?this.originData.features[t]:"null",d=ac(u);if(d!=null&&d.properties&&(this.transforms.length!==0||this.dataArrayChanged)){const h=this.data.dataArray.find(y=>y._id===t);d.properties=h}return d}else return e==="json"&&r?this.data.dataArray.find(u=>u._id===t):t<this.data.dataArray.length?this.data.dataArray[t]:"null"}updateFeaturePropertiesById(t,e){this.data.dataArray=this.data.dataArray.map(r=>r._id===t?Cu(Cu({},r),e):r),this.dataArrayChanged=!0,this.emit("update",{type:"update"})}getFeatureId(t,e){const r=this.data.dataArray.find(u=>u[t]===e);return r==null?void 0:r._id}setData(t,e){this.originData=t,this.dataArrayChanged=!1,this.initCfg(e),this.init().then(()=>{this.emit("update",{type:"update"})})}reloadAllTile(){var t;(t=this.tileset)==null||t.reloadAll()}reloadTilebyId(t,e,r){var u;(u=this.tileset)==null||u.reloadTileById(t,e,r)}reloadTileByLnglat(t,e,r){var u;(u=this.tileset)==null||u.reloadTileByLnglat(t,e,r)}getTileExtent(t,e){var r;return(r=this.tileset)==null?void 0:r.getTileExtent(t,e)}getTileByZXY(t,e,r){var u;return(u=this.tileset)==null?void 0:u.getTileByZXY(t,e,r)}reloadTileByExtent(t,e){var r;(r=this.tileset)==null||r.reloadTileByExtent(t,e)}destroy(){var t;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,(t=this.tileset)==null||t.destroy()}processData(){return hl(this,null,function*(){return new Promise((t,e)=>{try{this.excuteParser(),this.initCluster(),this.executeTrans(),t({})}catch(r){e(r)}})})}initCfg(t){this.cfg=qc(this.cfg,t,op);const e=this.cfg;e&&(e.parser&&(this.parser=e.parser),e.transforms&&(this.transforms=e.transforms),this.cluster=e.cluster||!1,e.clusterOptions&&(this.cluster=!0,this.clusterOptions=Cu(Cu({},this.clusterOptions),e.clusterOptions)))}init(){return hl(this,null,function*(){this.inited=!1,yield this.processData(),this.inited=!0})}excuteParser(){const t=this.parser,e=t.type||"geojson",r=j(e);this.data=r(this.originData,t),this.tileset=this.initTileset(),!t.cancelExtent&&(this.extent=ec(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3])}setCenter(t){this.center=[(t[0]+t[2])/2,(t[1]+t[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}initTileset(){const{tilesetOptions:t}=this.data;return t?(this.isTile=!0,this.tileset?(this.tileset.updateOptions(t),this.tileset):new Xa(Cu({},t))):void 0}executeTrans(){this.transforms.forEach(e=>{const{type:r}=e,u=Y(r)(this.data,e);Object.assign(this.data,u)})}initCluster(){if(!this.cluster)return;const t=this.clusterOptions||{};this.clusterIndex=Z(this.data,t)}caculClusterExtent(t){let e=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(e=Tl(Fc(this.extent),t)),e[0].concat(e[1])}};function sp(t,e){const{callback:r}=e;return r&&(t.dataArray=t.dataArray.filter(r)),t}var Wd=6378e3;function Kp(t,e){const r=t.dataArray,{size:u=10}=e,d=u/(2*Math.PI*Wd)*(256<<20)/2,{gridHash:h,gridOffset:y}=Ig(r,u),M=dS(h,y,e);return{yOffset:d,xOffset:d,radius:d,type:"grid",dataArray:M}}function Ig(t,e){let r=1/0,u=-1/0,d;for(const U of t)d=U.coordinates[1],Number.isFinite(d)&&(r=d<r?d:r,u=d>u?d:u);const h=(r+u)/2,y=xE(e,h);if(y.xOffset<=0||y.yOffset<=0)return{gridHash:{},gridOffset:y};const M={};for(const U of t){const re=U.coordinates[1],Ee=U.coordinates[0];if(Number.isFinite(re)&&Number.isFinite(Ee)){const Ae=Math.floor((re+90)/y.yOffset),We=Math.floor((Ee+180)/y.xOffset),Ht=`${Ae}-${We}`;M[Ht]=M[Ht]||{count:0,points:[]},M[Ht].count+=1,M[Ht].points.push(U)}}return{gridHash:M,gridOffset:y}}function xE(t,e){const r=cO(t),u=fO(e,t);return{yOffset:r,xOffset:u}}function cO(t){return t/Wd*(180/Math.PI)}function fO(t,e){return e/Wd*(180/Math.PI)/Math.cos(t*Math.PI/180)}function dS(t,e,r){return Object.keys(t).reduce((u,d,h)=>{const y=d.split("-"),M=parseInt(y[0],10),U=parseInt(y[1],10),re={};if(r.field&&r.method){const Ee=Dt(t[d].points,r.field);re[r.method]=ji[r.method](Ee)}return Object.assign(re,{_id:h,coordinates:Ru([-180+e.xOffset*(U+.5),-90+e.yOffset*(M+.5)]),rawData:t[d].points,count:t[d].count}),u.push(re),u},[])}var Hy=Math.PI/3,hS=[0,Hy,2*Hy,3*Hy,4*Hy,5*Hy];function zv(t){return t[0]}function pS(t){return t[1]}function TE(){var t=0,e=0,r=1,u=1,d=zv,h=pS,y,M,U;function re(Ae){var We={},Ht=[],Tn,Fn=Ae.length;for(Tn=0;Tn<Fn;++Tn)if(!(isNaN(ei=+d.call(null,br=Ae[Tn],Tn,Ae))||isNaN(Jr=+h.call(null,br,Tn,Ae)))){var br,ei,Jr,zi=Math.round(Jr=Jr/U),ca=Math.round(ei=ei/M-(zi&1)/2),Da=Jr-zi;if(Math.abs(Da)*3>1){var Va=ei-ca,va=ca+(ei<ca?-1:1)/2,io=zi+(Jr<zi?-1:1),Os=ei-va,Hu=Jr-io;Va*Va+Da*Da>Os*Os+Hu*Hu&&(ca=va+(zi&1?1:-1)/2,zi=io)}var Ds=ca+"-"+zi,il=We[Ds];il?il.push(br):(Ht.push(il=We[Ds]=[br]),il.x=(ca+(zi&1)/2)*M,il.y=zi*U)}return Ht}function Ee(Ae){var We=0,Ht=0;return hS.map(function(Tn){var Fn=Math.sin(Tn)*Ae,br=-Math.cos(Tn)*Ae,ei=Fn-We,Jr=br-Ht;return We=Fn,Ht=br,[ei,Jr]})}return re.hexagon=function(Ae){return"m"+Ee(Ae==null?y:+Ae).join("l")+"z"},re.centers=function(){for(var Ae=[],We=Math.round(e/U),Ht=Math.round(t/M),Tn=We*U;Tn<u+y;Tn+=U,++We)for(var Fn=Ht*M+(We&1)*M/2;Fn<r+M/2;Fn+=M)Ae.push([Fn,Tn]);return Ae},re.mesh=function(){var Ae=Ee(y).slice(0,4).join("l");return re.centers().map(function(We){return"M"+We+"m"+Ae}).join("")},re.x=function(Ae){return arguments.length?(d=Ae,re):d},re.y=function(Ae){return arguments.length?(h=Ae,re):h},re.radius=function(Ae){return arguments.length?(y=+Ae,M=y*2*Math.sin(Hy),U=y*1.5,re):y},re.size=function(Ae){return arguments.length?(t=e=0,r=+Ae[0],u=+Ae[1],re):[r-t,u-e]},re.extent=function(Ae){return arguments.length?(t=+Ae[0][0],e=+Ae[0][1],r=+Ae[1][0],u=+Ae[1][1],re):[[t,e],[r,u]]},re.radius(1)}var SE=Object.defineProperty,gS=Object.defineProperties,s3=Object.getOwnPropertyDescriptors,am=Object.getOwnPropertySymbols,AE=Object.prototype.hasOwnProperty,Ib=Object.prototype.propertyIsEnumerable,mS=(t,e,r)=>e in t?SE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dO=(t,e)=>{for(var r in e||(e={}))AE.call(e,r)&&mS(t,r,e[r]);if(am)for(var r of am(e))Ib.call(e,r)&&mS(t,r,e[r]);return t},u3=(t,e)=>gS(t,s3(e)),vS=6378e3;function P1(t,e){const r=t.dataArray,{size:u=10,method:d="sum"}=e,h=u/(2*Math.PI*vS)*(256<<20)/2,y=r.map(Ee=>{const[Ae,We]=Ru(Ee.coordinates);return u3(dO({},Ee),{coordinates:[Ae,We]})});return{dataArray:TE().radius(h).x(Ee=>Ee.coordinates[0]).y(Ee=>Ee.coordinates[1])(y).map((Ee,Ae)=>{if(e.field&&d){const We=Dt(Ee,e.field);Ee[d]=ji[d](We)}return{[e.method]:Ee[d],count:Ee.length,rawData:Ee,coordinates:[Ee.x,Ee.y],_id:Ae}}),radius:h,xOffset:h,yOffset:h,type:"hexagon"}}var Lb=Object.defineProperty,Nb=Object.getOwnPropertySymbols,yS=Object.prototype.hasOwnProperty,_S=Object.prototype.propertyIsEnumerable,Wy=(t,e,r)=>e in t?Lb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,CE=(t,e)=>{for(var r in e||(e={}))yS.call(e,r)&&Wy(t,r,e[r]);if(Nb)for(var r of Nb(e))_S.call(e,r)&&Wy(t,r,e[r]);return t};function om(t,e){const{sourceField:r,targetField:u,data:d}=e,h={};return d.forEach(y=>{h[y[r]]=y}),t.dataArray=t.dataArray.map(y=>{const M=y[u];return CE(CE({},y),h[M])}),t}function OE(t,e){const{callback:r}=e;return r&&(t.dataArray=t.dataArray.map(r)),t}var L4=A(88693);q("rasterTile",lg),q("mvt",qn),q("geojsonvt",Us),q("testTile",Zy),q("geojson",gf),q("jsonTile",Mn),q("image",Tu),q("csv",Qu),q("json",zf),q("raster",to),q("rasterRgb",Ab),q("rgb",Fv),q("ndi",gE),K("cluster",Z),K("filter",sp),K("join",om),K("map",OE),K("grid",Kp),K("hexagon",P1);var Db=B0;class Vy extends yi.EventEmitter{getMarkerLayerContainerSize(){}constructor(e){super(),(0,me.Z)(this,"markerOption",void 0),(0,me.Z)(this,"popup",void 0),(0,me.Z)(this,"mapsService",void 0),(0,me.Z)(this,"lngLat",void 0),(0,me.Z)(this,"scene",void 0),(0,me.Z)(this,"added",!1),(0,me.Z)(this,"preLngLat",{lng:0,lat:0}),(0,me.Z)(this,"onMarkerDragStart",r=>{const u=this.mapsService.getContainer();if(!u)return;this.mapsService.setMapStatus({dragEnable:!1,zoomEnable:!1});const{left:d,top:h}=u.getClientRects()[0],{x:y,y:M}=r;this.preLngLat=this.mapsService.containerToLngLat([y-d,M-h]),this.mapsService.on("mousemove",this.onMarkerDragMove),document.addEventListener("mouseup",this.onMarkerDragEnd),this.emit("dragstart",this.lngLat)}),(0,me.Z)(this,"onMarkerDragMove",r=>{const u=r.lngLat||r.lnglat,{lng:d,lat:h}=this.preLngLat,{lng:y,lat:M}=u,U={lng:this.lngLat.lng+y-d,lat:this.lngLat.lat+M-h};this.setLnglat(U),this.preLngLat=u,this.emit("dragging",U)}),(0,me.Z)(this,"onMarkerDragEnd",()=>{this.mapsService.setMapStatus({dragEnable:!0,zoomEnable:!0}),this.mapsService.off("mousemove",this.onMarkerDragMove),document.removeEventListener("mouseup",this.onMarkerDragEnd),this.emit("dragend",this.lngLat)}),(0,me.Z)(this,"eventHandle",r=>{this.polyfillEvent(r),this.emit(r.type,{target:r,data:this.markerOption.extData,lngLat:this.lngLat})}),(0,me.Z)(this,"touchStartTime",void 0),this.markerOption=(0,Ir.Z)((0,Ir.Z)({},this.getDefault()),e),fa(["update","onMove","onMapClick","updatePositionWhenZoom"],this),this.init()}getDefault(){return{element:void 0,anchor:En.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1,overflowHide:!0}}addTo(e){this.scene=e,this.mapsService=e.mapService;const{element:r}=this.markerOption;return this.mapsService.getMarkerContainer().appendChild(r),this.registerMarkerEvent(r),this.mapsService.on("camerachange",this.update),this.update(),this.updateDraggable(),this.added=!0,this.emit("added"),this}remove(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("camerachange",this.update)),this.unRegisterMarkerEvent(),this.removeAllListeners();const{element:e}=this.markerOption;return e&&$s(e),this.popup&&this.popup.remove(),this}setLnglat(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}getLnglat(){return this.lngLat}getElement(){return this.markerOption.element}setElement(e){if(!this.added)return this.once("added",()=>{this.setElement(e)}),this;const{element:r}=this.markerOption;return r&&$s(r),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.updateDraggable(),this.update(),this}openPopup(){if(!this.added)return this.once("added",()=>{this.openPopup()}),this;const e=this.popup;return e?(e.isOpen()||e.addTo(this.scene),this):this}closePopup(){this.added||this.once("added",()=>{this.closePopup()});const e=this.popup;return e&&e.remove(),this}setPopup(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this}togglePopup(){const e=this.popup;if(e)e.isOpen()?e.remove():e.addTo(this.scene);else return this;return this}getPopup(){return this.popup}getOffset(){return this.markerOption.offsets}setDraggable(e){this.markerOption.draggable=e,this.updateDraggable()}getDraggable(){return this.markerOption.draggable}getExtData(){return this.markerOption.extData}setExtData(e){this.markerOption.extData=e}update(){if(!this.mapsService)return;const{element:e,anchor:r}=this.markerOption;this.updatePosition(),_l(e,`${fn[r]}`)}updatePositionWhenZoom(e){if(!this.mapsService)return;const{element:r,offsets:u}=this.markerOption,{lng:d,lat:h}=this.lngLat;if(r){r.style.display="block",r.style.whiteSpace="nowrap";const{containerHeight:y,containerWidth:M,bounds:U}=this.getMarkerLayerContainerSize()||this.getCurrentContainerSize();if(!U)return;const re=e.map,Ee=e.center,Ae=e.zoom,We=re.DE(this.lngLat,Ae,Ee);if(We.x=Math.round(We.x+u[0]),We.y=Math.round(We.y-u[1]),Math.abs(U[0][0])>180||Math.abs(U[1][0])>180){if(We.x>M){const Ht=this.mapsService.lngLatToContainer([d-360,h]);We.x=Ht.x}if(We.x<0){const Ht=this.mapsService.lngLatToContainer([d+360,h]);We.x=Ht.x}}(We.x>M||We.x<0||We.y>y||We.y<0)&&(r.style.display="none"),r.style.left=We.x+"px",r.style.top=We.y+"px",r.style.transition="left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)"}}onMapClick(e){const{element:r}=this.markerOption;this.popup&&r&&this.togglePopup()}getCurrentContainerSize(){const e=this.mapsService.getContainer();return{containerHeight:(e==null?void 0:e.scrollHeight)||0,containerWidth:(e==null?void 0:e.scrollWidth)||0,bounds:this.mapsService.getBounds()}}updateDraggable(){const{element:e}=this.markerOption;e==null||e.removeEventListener("mousedown",this.onMarkerDragStart),this.mapsService.off("mousemove",this.onMarkerDragMove),document.removeEventListener("mouseup",this.onMarkerDragEnd),this.markerOption.draggable&&(e==null||e.addEventListener("mousedown",this.onMarkerDragStart))}updatePosition(){if(!this.mapsService)return;const{element:e,offsets:r}=this.markerOption,{lng:u,lat:d}=this.lngLat,h=this.mapsService.lngLatToContainer([u,d]);if(e){e.style.display="block",e.style.whiteSpace="nowrap";const{containerHeight:y,containerWidth:M,bounds:U}=this.getMarkerLayerContainerSize()||this.getCurrentContainerSize();if(!U)return;if(Math.abs(U[0][0])>180||Math.abs(U[1][0])>180){if(h.x>M){const re=this.mapsService.lngLatToContainer([u-360,d]);h.x=re.x}if(h.x<0){const re=this.mapsService.lngLatToContainer([u+360,d]);h.x=re.x}}this.markerOption.overflowHide&&(h.x>M||h.x<0||h.y>y||h.y<0)&&(e.style.display="none"),e.style.left=h.x+r[0]+"px",e.style.top=h.y-r[1]+"px"}}init(){let{element:e}=this.markerOption;const{color:r,anchor:u}=this.markerOption;if(!e){e=as("div"),this.markerOption.element=e;const d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height","48px"),d.setAttributeNS(null,"width","48px"),d.setAttributeNS(null,"viewBox","0 0 1024 1024");const h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),h.setAttributeNS(null,"fill",r),d.appendChild(h),e.appendChild(d)}Xs(e,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach(d=>{var h,y;const M=((h=this.markerOption)===null||h===void 0?void 0:h.style)&&((y=this.markerOption)===null||y===void 0?void 0:y.style[d]);e&&(e.style[d]=M)}),sn(e,u,"marker")}registerMarkerEvent(e){e.addEventListener("click",this.onMapClick),e.addEventListener("mousemove",this.eventHandle),e.addEventListener("click",this.eventHandle),e.addEventListener("mousedown",this.eventHandle),e.addEventListener("mouseup",this.eventHandle),e.addEventListener("dblclick",this.eventHandle),e.addEventListener("contextmenu",this.eventHandle),e.addEventListener("mouseover",this.eventHandle),e.addEventListener("mouseout",this.eventHandle),e.addEventListener("touchstart",this.eventHandle),e.addEventListener("touchend",this.eventHandle)}unRegisterMarkerEvent(){const e=this.getElement();e.removeEventListener("click",this.onMapClick),e.removeEventListener("mousemove",this.eventHandle),e.removeEventListener("click",this.eventHandle),e.removeEventListener("mousedown",this.eventHandle),e.removeEventListener("mouseup",this.eventHandle),e.removeEventListener("dblclick",this.eventHandle),e.removeEventListener("contextmenu",this.eventHandle),e.removeEventListener("mouseover",this.eventHandle),e.removeEventListener("mouseout",this.eventHandle),e.removeEventListener("touchstart",this.eventHandle),e.removeEventListener("touchend",this.eventHandle)}polyfillEvent(e){!this.mapsService||this.mapsService.getType()!=="amap"||vi()||(e.type==="touchstart"&&(this.touchStartTime=Date.now()),e.type==="touchend"&&Date.now()-this.touchStartTime<300&&this.emit("click",{target:e,data:this.markerOption.extData,lngLat:this.lngLat}))}addDragHandler(e){return null}onUp(e){throw new Error("Method not implemented.")}}const{merge:bS}=yo;class l3 extends yi.EventEmitter{constructor(e){var r;super(),(0,me.Z)(this,"markers",[]),(0,me.Z)(this,"markerLayerOption",void 0),(0,me.Z)(this,"clusterIndex",void 0),(0,me.Z)(this,"points",[]),(0,me.Z)(this,"clusterMarkers",[]),(0,me.Z)(this,"mapsService",void 0),(0,me.Z)(this,"scene",void 0),(0,me.Z)(this,"zoom",void 0),(0,me.Z)(this,"bbox",void 0),(0,me.Z)(this,"inited",void 0),(0,me.Z)(this,"containerSize",void 0),this.markerLayerOption=bS(this.getDefault(),e),fa(["update"],this),this.zoom=((r=this.markerLayerOption.clusterOption)===null||r===void 0?void 0:r.zoom)||-99}getDefault(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}addTo(e){return this.scene=e,this.mapsService=e.mapService,this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.mapsService.on("camerachange",this.setContainerSize.bind(this)),this.mapsService.on("viewchange",this.setContainerSize.bind(this)),this.addMarkers(),this.inited=!0,this}setContainerSize(){if(!this.mapsService)return;const e=this.mapsService.getContainer();this.containerSize={containerWidth:(e==null?void 0:e.scrollWidth)||0,containerHeight:(e==null?void 0:e.scrollHeight)||0,bounds:this.mapsService.getBounds()}}getContainerSize(){return this.containerSize}addMarker(e){const r=this.markerLayerOption.cluster;if(e.getMarkerLayerContainerSize=this.getContainerSize.bind(this),r&&(this.addPoint(e,this.markers.length),this.mapsService)){const u=this.mapsService.getZoom(),d=this.mapsService.getBounds();this.bbox=Tl(d,.5),this.zoom=Math.floor(u),this.getClusterMarker(this.bbox,this.zoom)}this.markers.push(e)}removeMarker(e){this.markers.indexOf(e);const r=this.markers.indexOf(e);r>-1&&(this.markers.splice(r,1),this.markerLayerOption.cluster&&(this.removePoint(r),this.mapsService&&this.getClusterMarker(this.bbox,this.zoom)))}hide(){this.markers.map(e=>{e.getElement().style.opacity="0"}),this.clusterMarkers.map(e=>{e.getElement().style.opacity="0"})}show(){this.markers.map(e=>{e.getElement().style.opacity="1"}),this.clusterMarkers.map(e=>{e.getElement().style.opacity="1"})}getMarkers(){return this.markerLayerOption.cluster?this.clusterMarkers:this.markers}getOriginMarkers(){return this.markers}addMarkers(){this.getMarkers().forEach(e=>{e.addTo(this.scene)})}clear(){this.markers.forEach(e=>{e.remove()}),this.clusterMarkers.forEach(e=>{e.remove()}),this.markers=[],this.points=[],this.clusterMarkers=[]}destroy(){this.clear(),this.removeAllListeners(),this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("camerachange",this.setContainerSize.bind(this)),this.mapsService.off("viewchange",this.setContainerSize.bind(this))}addPoint(e,r){const{lng:u,lat:d}=e.getLnglat(),h={geometry:{type:"Point",coordinates:[u,d]},properties:(0,Ir.Z)((0,Ir.Z)({},e.getExtData()),{},{marker_id:r})};this.points.push(h),this.clusterIndex&&this.clusterIndex.load(this.points)}removePoint(e){const r=this.points.findIndex(u=>u.properties.marker_id===e);r>-1&&this.points.splice(r,1),this.clusterIndex&&this.clusterIndex.load(this.points)}initCluster(){if(!this.markerLayerOption.cluster)return;const{radius:e,minZoom:r=0,maxZoom:u}=this.markerLayerOption.clusterOption;this.clusterIndex=new(Uv())({radius:e,minZoom:r,maxZoom:u}),this.clusterIndex.load(this.points)}getClusterMarker(e,r){const u=e[0].concat(e[1]),d=this.clusterIndex.getClusters(u,r);this.clusterMarkers.forEach(h=>{h.remove()}),this.clusterMarkers=[],d.forEach(h=>{var y;const{field:M,method:U}=this.markerLayerOption.clusterOption;if((y=h.properties)!==null&&y!==void 0&&y.cluster_id){var re;const Ae=this.getLeaves((re=h.properties)===null||re===void 0?void 0:re.cluster_id);if(h.properties.clusterData=Ae,M&&U){const We=Ae==null?void 0:Ae.map(br=>({[M]:br.properties[M]})),Ht=Dt(We,M),Tn=Ta(U,Ht),Fn="point_"+U;h.properties[Fn]=Tn.toFixed(2)}}const Ee=this.clusterMarker(h);this.clusterMarkers.push(Ee),Ee.addTo(this.scene)})}getLeaves(e,r=1/0,u=0){return e?this.clusterIndex.getLeaves(e,r,u):null}clusterMarker(e){const r=this.markerLayerOption.clusterOption,{element:u=this.generateElement.bind(this)}=r;return new Vy({element:u(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]})}normalMarker(e){const r=e.properties.marker_id;return this.markers[r]}update(){if(!this.mapsService||this.markers.length===0)return;const e=this.mapsService.getZoom(),r=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!ed(this.bbox,r))&&(this.bbox=Tl(r,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom))}generateElement(e){const r=as("div","l7-marker-cluster"),u=as("div","",r),d=as("span","",u),{field:h,method:y}=this.markerLayerOption.clusterOption;e.properties.point_count=e.properties.point_count||1;const M=h&&y?e.properties["point_"+y]||e.properties[h]:e.properties.point_count;return d.textContent=M,r}}var ES=A(69807);class cg extends ko(){constructor(e){super(),(0,me.Z)(this,"controlOption",void 0),(0,me.Z)(this,"container",void 0),(0,me.Z)(this,"isShow",void 0),(0,me.Z)(this,"sceneContainer",void 0),(0,me.Z)(this,"scene",void 0),(0,me.Z)(this,"mapsService",void 0),(0,me.Z)(this,"renderService",void 0),(0,me.Z)(this,"layerService",void 0),(0,me.Z)(this,"controlService",void 0),(0,me.Z)(this,"configService",void 0),cg.controlCount++,this.controlOption=(0,Ir.Z)((0,Ir.Z)({},this.getDefault(e)),e||{})}getOptions(){return this.controlOption}setOptions(e){const r=this.getDefault(e);Object.entries(e).forEach(([u,d])=>{d===void 0&&(e[u]=r[u])}),"position"in e&&this.setPosition(e.position),"className"in e&&this.setClassName(e.className),"style"in e&&this.setStyle(e.style),this.controlOption=(0,Ir.Z)((0,Ir.Z)({},this.controlOption),e)}addTo(e){this.mapsService=e.mapService,this.renderService=e.rendererService,this.layerService=e.layerService,this.controlService=e.controlService,this.configService=e.globalConfigService,this.scene=e.sceneService,this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd(),Xs(this.container,"l7-control");const{className:r,style:u}=this.controlOption;return r&&this.setClassName(r),u&&this.setStyle(u),this.insertContainer(),this.emit("add",this),this}remove(){if(!this.mapsService)return this;$s(this.container),this.onRemove(),this.emit("remove",this)}onAdd(){return as("div")}onRemove(){}show(){const e=this.container;Lu(e,"l7-control--hide"),this.isShow=!0,this.emit("show",this)}hide(){const e=this.container;Xs(e,"l7-control--hide"),this.isShow=!1,this.emit("hide",this)}getDefault(e){return{position:Bi.TOPRIGHT,name:`${cg.controlCount}`}}getContainer(){return this.container}getIsShow(){return this.isShow}_refocusOnMap(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){const r=this.mapsService.getContainer();r!==null&&r.focus()}}setPosition(e=Bi.TOPLEFT){const r=this.controlService;return r&&r.removeControl(this),this.controlOption.position=e,r&&r.addControl(this,this.sceneContainer),this}setClassName(e){const r=this.container,{className:u}=this.controlOption;u&&Lu(r,u),e&&Xs(r,e)}setStyle(e){const r=this.container;e?r.setAttribute("style",e):r.removeAttribute("style")}insertContainer(){const e=this.controlOption.position,r=this.container;if(e instanceof Element)e.appendChild(r);else{const u=this.controlService.controlCorners[e];["bottomleft","bottomright","righttop","rightbottom"].includes(e)?u.insertBefore(r,u.firstChild):u.appendChild(r)}}checkUpdateOption(e,r){return r.some(u=>u in e)}}(0,me.Z)(cg,"controlCount",0);class Gy extends cg{constructor(...e){super(...e),(0,me.Z)(this,"isDisable",!1),(0,me.Z)(this,"button",void 0),(0,me.Z)(this,"buttonText",void 0),(0,me.Z)(this,"buttonIcon",void 0)}setIsDisable(e){if(this.isDisable=e,e){var r;(r=this.button)===null||r===void 0||r.setAttribute("disabled","true")}else{var u;(u=this.button)===null||u===void 0||u.removeAttribute("disabled")}}createButton(e=""){return as("button",`l7-button-control ${e}`)}onAdd(){this.button=this.createButton(),this.isDisable=!1;const{title:e,btnText:r,btnIcon:u}=this.controlOption;return this.setBtnTitle(e),this.setBtnText(r),this.setBtnIcon(u),this.button}onRemove(){this.button=this.buttonIcon=this.buttonText=void 0,this.isDisable=!1}setOptions(e){const{title:r,btnText:u,btnIcon:d}=e;this.checkUpdateOption(e,["title"])&&this.setBtnTitle(r),this.checkUpdateOption(e,["btnIcon"])&&this.setBtnIcon(d),this.checkUpdateOption(e,["btnText"])&&this.setBtnText(u),super.setOptions(e)}setBtnTitle(e){var r;(r=this.button)===null||r===void 0||r.setAttribute("title",e!=null?e:"")}setBtnIcon(e){if(this.buttonIcon&&$s(this.buttonIcon),e){var r;const h=(r=this.button)===null||r===void 0?void 0:r.firstChild;if(h){var u;(u=this.button)===null||u===void 0||u.insertBefore(e,h)}else{var d;(d=this.button)===null||d===void 0||d.appendChild(e)}this.buttonIcon=e}}setBtnText(e){if(this.button)if(Lu(this.button,"l7-button-control--row"),Lu(this.button,"l7-button-control--column"),e){let u=this.buttonText;if(!u){var r;u=as("div","l7-button-control__text"),(r=this.button)===null||r===void 0||r.appendChild(u),this.buttonText=u}u.innerText=e,Xs(this.button,this.controlOption.vertical?"l7-button-control--column":"l7-button-control--row")}else!e&&this.buttonText&&($s(this.buttonText),this.buttonText=void 0)}}class Zv extends yi.EventEmitter{get buttonRect(){return this.button.getBoundingClientRect()}constructor(e,r){super(),(0,me.Z)(this,"popperDOM",void 0),(0,me.Z)(this,"contentDOM",void 0),(0,me.Z)(this,"button",void 0),(0,me.Z)(this,"option",void 0),(0,me.Z)(this,"isShow",!1),(0,me.Z)(this,"content",void 0),(0,me.Z)(this,"timeout",null),(0,me.Z)(this,"show",()=>this.isShow||!this.contentDOM.innerHTML?this:(this.resetPopperPosition(),Lu(this.popperDOM,"l7-popper-hide"),this.isShow=!0,this.option.unique&&Zv.conflictPopperList.forEach(u=>{u!==this&&u.isShow&&u.hide()}),this.emit("show"),window.addEventListener("pointerdown",this.onPopperUnClick),this)),(0,me.Z)(this,"hide",()=>this.isShow?(Xs(this.popperDOM,"l7-popper-hide"),this.isShow=!1,this.emit("hide"),window.removeEventListener("pointerdown",this.onPopperUnClick),this):this),(0,me.Z)(this,"setHideTimeout",()=>{this.timeout||(this.timeout=window.setTimeout(()=>{this.isShow&&(this.hide(),this.timeout=null)},300))}),(0,me.Z)(this,"clearHideTimeout",()=>{this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}),(0,me.Z)(this,"onBtnClick",()=>{this.isShow?this.hide():this.show()}),(0,me.Z)(this,"onPopperUnClick",u=>{zo(u.target,[".l7-button-control",".l7-popper-content"])||this.hide()}),(0,me.Z)(this,"onBtnMouseLeave",()=>{this.setHideTimeout()}),(0,me.Z)(this,"onBtnMouseMove",()=>{this.clearHideTimeout(),!this.isShow&&this.show()}),this.button=e,this.option=r,this.init(),r.unique&&Zv.conflictPopperList.push(this)}getPopperDOM(){return this.popperDOM}getIsShow(){return this.isShow}getContent(){return this.content}setContent(e){typeof e=="string"?this.contentDOM.innerHTML=e:e instanceof HTMLElement&&(Io(this.contentDOM),this.contentDOM.appendChild(e)),this.content=e}init(){const{trigger:e}=this.option;this.popperDOM=this.createPopper(),e==="click"?this.button.addEventListener("click",this.onBtnClick):(this.button.addEventListener("mousemove",this.onBtnMouseMove),this.button.addEventListener("mouseleave",this.onBtnMouseLeave),this.popperDOM.addEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.addEventListener("mouseleave",this.onBtnMouseLeave))}destroy(){this.button.removeEventListener("click",this.onBtnClick),this.button.removeEventListener("mousemove",this.onBtnMouseMove),this.button.removeEventListener("mousemove",this.onBtnMouseLeave),this.popperDOM.removeEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.removeEventListener("mouseleave",this.onBtnMouseLeave),$s(this.popperDOM)}resetPopperPosition(){const e={},{container:r,offset:u=[0,0],placement:d}=this.option,[h,y]=u,M=this.button.getBoundingClientRect(),U=r.getBoundingClientRect(),{left:re,right:Ee,top:Ae,bottom:We}=mo(M,U);let Ht=!1,Tn=!1;/^(left|right)/.test(d)?(d.includes("left")?e.right=`${M.width+Ee}px`:d.includes("right")&&(e.left=`${M.width+re}px`),d.includes("start")?e.top=`${Ae}px`:d.includes("end")?e.bottom=`${We}px`:(e.top=`${Ae+M.height/2}px`,Tn=!0,e.transform=`translate(${h}px, calc(${y}px - 50%))`)):/^(top|bottom)/.test(d)&&(d.includes("top")?e.bottom=`${M.height+We}px`:d.includes("bottom")&&(e.top=`${M.height+Ae}px`),d.includes("start")?e.left=`${re}px`:d.includes("end")?e.right=`${Ee}px`:(e.left=`${re+M.width/2}px`,Ht=!0,e.transform=`translate(calc(${h}px - 50%), ${y}px)`)),e.transform=`translate(calc(${h}px - ${Ht?"50%":"0%"}), calc(${y}px - ${Tn?"50%":"0%"})`;const Fn=d.split("-");Fn.length&&Xs(this.popperDOM,Fn.map(br=>`l7-popper-${br}`).join(" ")),li(this.popperDOM,ea(e))}createPopper(){const{container:e,className:r="",content:u}=this.option,d=as("div",`l7-popper l7-popper-hide ${r}`),h=as("div","l7-popper-content"),y=as("div","l7-popper-arrow");return d.appendChild(h),d.appendChild(y),e.appendChild(d),this.popperDOM=d,this.contentDOM=h,u&&this.setContent(u),d}}(0,me.Z)(Zv,"conflictPopperList",[]);const xS={topleft:"right-start",topcenter:"bottom",topright:"left-start",bottomleft:"right-end",bottomcenter:"top",bottomright:"left-end",lefttop:"bottom-start",leftcenter:"right",leftbottom:"top-start",righttop:"bottom-end",rightcenter:"left",rightbottom:"top-end"};class kb extends Gy{constructor(...e){super(...e),(0,me.Z)(this,"popper",void 0)}getPopper(){return this.popper}hide(){this.popper.hide(),super.hide()}getDefault(e){var r;const u=super.getDefault(e),d=(r=e==null?void 0:e.position)!==null&&r!==void 0?r:u.position;return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{popperPlacement:d instanceof Element?"bottom":xS[d],popperTrigger:"click"})}onAdd(){const e=super.onAdd();return this.initPopper(),e}onRemove(){this.popper.destroy()}initPopper(){const{popperClassName:e,popperPlacement:r,popperTrigger:u}=this.controlOption,d=this.mapsService.getMapContainer();return this.popper=new Zv(this.button,{className:e,placement:r,trigger:u,container:d,unique:!0}),this.popper.on("show",()=>{this.emit("popperShow",this)}).on("hide",()=>{this.emit("popperHide",this)}),this.popper}setOptions(e){if(super.setOptions(e),this.checkUpdateOption(e,["popperPlacement","popperTrigger","popperClassName"])){const r=this.popper.getContent();this.popper.destroy(),this.initPopper(),this.popper.setContent(r)}}}var ph=function(t){return t.ActiveOptionClassName="l7-select-control-item-active",t.OptionValueAttrKey="data-option-value",t.OptionIndexAttrKey="data-option-index",t}(ph||{});class up extends kb{constructor(...e){super(...e),(0,me.Z)(this,"selectValue",[]),(0,me.Z)(this,"optionDOMList",void 0),(0,me.Z)(this,"createNormalOption",r=>{const u=this.selectValue.includes(r.value),d=as("div",`l7-select-control-item ${u?ph.ActiveOptionClassName:""}`);this.getIsMultiple()?d.appendChild(this.createCheckbox(u)):d.appendChild(this.createRadio(u)),r.icon&&d.appendChild(r.icon);const h=as("span");return h.innerText=r.text,d.appendChild(h),d}),(0,me.Z)(this,"onItemClick",r=>{if(this.getIsMultiple()){const u=this.selectValue.findIndex(d=>d===r.value);u>-1?this.selectValue.splice(u,1):this.selectValue=[...this.selectValue,r.value]}else this.selectValue=[r.value];this.setSelectValue(this.selectValue)})}setOptions(e){super.setOptions(e);const{options:r}=e;r&&this.popper.setContent(this.getPopperContent(r))}onAdd(){const e=super.onAdd(),{defaultValue:r}=this.controlOption;return r&&(this.selectValue=this.transSelectValue(r)),this.popper.setContent(this.getPopperContent(this.controlOption.options)),e}getSelectValue(){return this.getIsMultiple()?this.selectValue:this.selectValue[0]}setSelectValue(e,r=!0){const u=this.transSelectValue(e);this.optionDOMList.forEach(d=>{const h=d.getAttribute(ph.OptionValueAttrKey),y=d.querySelector("input[type=checkbox]"),M=d.querySelector("input[type=radio]"),U=u.includes(h),re=(Ee,Ae)=>{Ks(d,ph.ActiveOptionClassName,Ae),Ee&&so(Ee,Ae)};re(y,U),re(M,U)}),this.selectValue=u,r&&this.emit("selectChange",this.getIsMultiple()?u:u[0])}getIsMultiple(){return!1}getPopperContent(e){const r=this.isImageOptions(),u=as("div",r?"l7-select-control--image":"l7-select-control--normal");this.getIsMultiple()&&Xs(u,"l7-select-control--multiple");const d=e.map((h,y)=>{const M=r?this.createImageOption(h):this.createNormalOption(h);return M.setAttribute(ph.OptionValueAttrKey,h.value),M.setAttribute(ph.OptionIndexAttrKey,window.String(y)),M.addEventListener("click",this.onItemClick.bind(this,h)),M});return u.append(...d),this.optionDOMList=d,u}createImageOption(e){const r=this.selectValue.includes(e.value),u=as("div",`l7-select-control-item ${r?ph.ActiveOptionClassName:""}`),d=as("img");d.setAttribute("src",e.img),Ha(d),u.appendChild(d);const h=as("div","l7-select-control-item-row");this.getIsMultiple()&&u.appendChild(this.createCheckbox(r));const y=as("span");return y.innerText=e.text,h.appendChild(y),u.appendChild(h),u}createCheckbox(e){const r=as("input");return r.setAttribute("type","checkbox"),e&&so(r,!0),r}createRadio(e){const r=as("input");return r.setAttribute("type","radio"),e&&so(r,!0),r}isImageOptions(){return!!this.controlOption.options.find(e=>e.img)}transSelectValue(e){return Array.isArray(e)?e:[e]}}const sm=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.classList.add("l7-iconfont"),e.setAttribute("aria-hidden","true");const r=document.createElementNS("http://www.w3.org/2000/svg","use");return r.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${t}`),e.appendChild(r),e};class TS extends Gy{constructor(...e){var r;super(...e),r=this,(0,me.Z)(this,"onClick",(0,Ba.Z)(function*(){const{onExport:u}=r.controlOption;u==null||u(yield r.getImage())})),(0,me.Z)(this,"mergeImage",(0,Ba.Z)(function*(...u){var d,h;const{imageType:y}=r.controlOption,{width:M=0,height:U=0}=(d=(h=r.mapsService.getContainer())===null||h===void 0?void 0:h.getBoundingClientRect())!==null&&d!==void 0?d:{},re=document.createElement("canvas");re.width=M,re.height=U;const Ee=re.getContext("2d");return(yield Promise.all(u.map(We=>new Promise(Ht=>{const Tn=new Image;Tn.onload=()=>{Ht(Tn)},Tn.src=We})))).forEach(We=>{Ee==null||Ee.drawImage(We,0,0,M,U)}),re.toDataURL(`image/${y}`)}))}onAdd(){const e=super.onAdd();return e.addEventListener("click",this.onClick),e}getDefault(e){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{title:"\u5BFC\u51FA\u56FE\u7247",btnIcon:sm("l7-icon-export-picture"),imageType:"png"})}getImage(){var e=this;return(0,Ba.Z)(function*(){const r=yield e.mapsService.exportMap("png"),u=yield e.scene.exportPng("png");return e.mergeImage(...[r,u].filter(d=>d))})()}}const wE=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],fg=(()=>{if(typeof document=="undefined")return!1;const t=wE[0],e={};for(const r of wE)if((r==null?void 0:r[1])in document){for(const[d,h]of r.entries())e[t[d]]=h;return e}return!1})(),c3={change:fg.fullscreenchange,error:fg.fullscreenerror};let lp={request(t=document.documentElement,e){return new Promise((r,u)=>{const d=()=>{lp.off("change",d),r()};lp.on("change",d);const h=t[fg.requestFullscreen](e);h instanceof Promise&&h.then(d).catch(u)})},exit(){return new Promise((t,e)=>{if(!lp.isFullscreen){t();return}const r=()=>{lp.off("change",r),t()};lp.on("change",r);const u=document[fg.exitFullscreen]();u instanceof Promise&&u.then(r).catch(e)})},toggle(t,e){return lp.isFullscreen?lp.exit():lp.request(t,e)},onchange(t){lp.on("change",t)},onerror(t){lp.on("error",t)},on(t,e){const r=c3[t];r&&document.addEventListener(r,e,!1)},off(t,e){const r=c3[t];r&&document.removeEventListener(r,e,!1)},raw:fg};Object.defineProperties(lp,{isFullscreen:{get:()=>!!document[fg.fullscreenElement]},element:{enumerable:!0,get:()=>{var t;return(t=document[fg.fullscreenElement])!==null&&t!==void 0?t:void 0}},isEnabled:{enumerable:!0,get:()=>!!document[fg.fullscreenEnabled]}}),fg||(lp={isEnabled:!1});var jv=lp;class ME extends Gy{constructor(e){var r;super(e),r=this,(0,me.Z)(this,"isFullscreen",!1),(0,me.Z)(this,"mapContainer",void 0),(0,me.Z)(this,"toggleFullscreen",(0,Ba.Z)(function*(){jv.isEnabled&&(yield jv.toggle(r.mapContainer))})),(0,me.Z)(this,"onClick",()=>{this.toggleFullscreen()}),(0,me.Z)(this,"onFullscreenChange",()=>{this.isFullscreen=!!document.fullscreenElement;const{btnText:u,btnIcon:d,title:h,exitBtnText:y,exitBtnIcon:M,exitTitle:U}=this.controlOption;this.isFullscreen?(this.setBtnTitle(U),this.setBtnText(y),this.setBtnIcon(M)):(this.setBtnTitle(h),this.setBtnText(u),this.setBtnIcon(d)),this.emit("fullscreenChange",this.isFullscreen)}),jv.isEnabled||console.warn("\u5F53\u524D\u6D4F\u89C8\u5668\u73AF\u5883\u4E0D\u652F\u6301\u5BF9\u5730\u56FE\u5168\u5C4F\u5316")}setOptions(e){const{exitBtnText:r,exitBtnIcon:u,exitTitle:d}=e;this.isFullscreen&&(this.checkUpdateOption(e,["exitBtnIcon"])&&this.setBtnIcon(u),this.checkUpdateOption(e,["exitBtnText"])&&this.setBtnText(r),this.checkUpdateOption(e,["exitTitle"])&&this.setBtnTitle(d)),super.setOptions(e)}onAdd(){const e=super.onAdd();return e.addEventListener("click",this.onClick),this.mapContainer=hs(this.scene.getSceneConfig().id),this.mapContainer.addEventListener("fullscreenchange",this.onFullscreenChange),e}onRemove(){super.onRemove(),this.mapContainer.removeEventListener("fullscreenchange",this.onFullscreenChange)}getDefault(e){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{title:"\u5168\u5C4F",btnIcon:sm("l7-icon-fullscreen"),exitTitle:"\u9000\u51FA\u5168\u5C4F",exitBtnIcon:sm("l7-icon-exit-fullscreen")})}}class RE extends Gy{constructor(e){var r;super(e),r=this,(0,me.Z)(this,"getGeoLocation",()=>new Promise((u,d)=>{window.navigator.geolocation.getCurrentPosition(({coords:h})=>{const{longitude:y,latitude:M}=h!=null?h:{};!isNaN(y)&&!isNaN(M)?u([y,M]):d()},h=>{d(h)})})),(0,me.Z)(this,"onClick",(0,Ba.Z)(function*(){if(!window.navigator.geolocation)return;const{transform:u}=r.controlOption,d=yield r.getGeoLocation(),h=r.mapsService.getZoom();r.mapsService.setZoomAndCenter(h>15?h:15,u?yield u(d):d)})),window.navigator.geolocation||console.warn("\u5F53\u524D\u6D4F\u89C8\u5668\u73AF\u5883\u4E0D\u652F\u6301\u83B7\u53D6\u5730\u7406\u5B9A\u4F4D")}getDefault(e){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{title:"\u5B9A\u4F4D",btnIcon:sm("l7-icon-reposition")})}onAdd(){const e=super.onAdd();return e.addEventListener("click",this.onClick),e}}function Hv(t){return Object.keys(t!=null?t:{}).every(e=>["layer","name","img"].includes(e))}class f3 extends up{constructor(...e){super(...e),(0,me.Z)(this,"onLayerChange",()=>{var r;(r=this.controlOption.layers)!==null&&r!==void 0&&r.length||(this.selectValue=this.getLayerVisible(),this.setOptions({options:this.getLayerOptions()}))}),(0,me.Z)(this,"onLayerVisibleChane",()=>{this.setSelectValue(this.getLayerVisible())}),(0,me.Z)(this,"onSelectChange",()=>{this.layers.forEach(r=>{const u=this.selectValue.includes(r.name),d=r.isVisible();u&&!d&&r.show(),!u&&d&&r.hide()})})}get layers(){const e=this.layerService,{layers:r}=this.controlOption;if(Array.isArray(r)&&r.length){const u=[];return r.forEach(d=>{if(d instanceof Object&&(Hv(d)?u.push(d.layer):u.push(d)),typeof d=="string"){const h=e.getLayer(d)||e.getLayerByName(d);h&&u.push(h)}}),u}return e.getLayers()||[]}getDefault(e){var r;return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{title:"\u56FE\u5C42\u63A7\u5236",btnIcon:sm("l7-icon-layer"),options:[],multiple:(r=e==null?void 0:e.multiple)!==null&&r!==void 0?r:!0})}getLayerVisible(){return this.layers.filter(e=>e.isVisible()).map(e=>e.name)}getLayerOptions(){const{layers:e}=this.controlOption,r=e==null?void 0:e.every(u=>u.img);return e?e==null?void 0:e.map(u=>{if(Hv(u))return{text:u.name||u.layer.name,value:u.layer.name,img:r?u.img:void 0};if(typeof u=="string"){const d=this.layerService.getLayer(u)||this.layerService.getLayerByName(u);return{text:d==null?void 0:d.name,value:d==null?void 0:d.name}}return{text:u.name,value:u.name}}):this.layers.map(u=>({text:u.name,value:u.name}))}setOptions(e){const r=this.checkUpdateOption(e,["layers","multiple"]);super.setOptions(e),r&&(this.controlOption.multiple===!1&&this.handleSingleSelection(),this.selectValue=this.getLayerVisible(),this.controlOption.options=this.getLayerOptions(),this.popper.setContent(this.getPopperContent(this.controlOption.options)))}handleSingleSelection(){this.layers.forEach((e,r)=>{r===0?e.show():e.hide()})}onAdd(){var e;return this.controlOption.multiple===!1&&this.handleSingleSelection(),(e=this.controlOption.options)!==null&&e!==void 0&&e.length||(this.controlOption.options=this.getLayerOptions()),this.controlOption.defaultValue||(this.controlOption.defaultValue=this.getLayerVisible()),this.on("selectChange",this.onSelectChange),this.layerService.on("layerChange",this.onLayerChange),super.onAdd()}onRemove(){this.off("selectChange",this.onSelectChange),this.layerService.off("layerChange",this.onLayerChange)}getIsMultiple(){return this.controlOption.multiple}}class PE extends cg{getDefault(){return{position:Bi.BOTTOMLEFT,name:"logo",href:"https://l7.antv.antgroup.com/",img:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ"}}onAdd(){const e=as("div","l7-control-logo");return this.setLogoContent(e),e}onRemove(){return null}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["img","href"])&&(Io(this.container),this.setLogoContent(this.container))}setLogoContent(e){const{href:r,img:u}=this.controlOption,d=as("img");if(d.setAttribute("src",u),d.setAttribute("aria-label","AntV logo"),Ha(d),r){const h=as("a","l7-control-logo-link");h.target="_blank",h.href=r,h.rel="noopener nofollow",h.setAttribute("rel","noopener nofollow"),h.appendChild(d),e.appendChild(h)}else e.appendChild(d)}}const d3={normal:{text:"\u6807\u51C6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*qdFDSbvIalgAAAAAAAAAAAAADmJ7AQ/original"},light:{text:"\u6708\u5149\u94F6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d-vcRLzu8WIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"\u5E7B\u5F71\u9ED1",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HMbRTI3XnpIAAAAAAAAAAAAADmJ7AQ/original"},fresh:{text:"\u8349\u8272\u9752",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kqaGQ5kjSiAAAAAAAAAAAAAADmJ7AQ/original"},grey:{text:"\u96C5\u58EB\u7070",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*XegrTpZIbqAAAAAAAAAAAAAADmJ7AQ/original"},graffiti:{text:"\u6D82\u9E26",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*G5g9SZ_Jg4cAAAAAAAAAAAAADmJ7AQ/original"},macaron:{text:"\u9A6C\u5361\u9F99",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*irVvQbDpQMwAAAAAAAAAAAAADmJ7AQ/original"},darkblue:{text:"\u6781\u591C\u84DD",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lKRzQYB4iR0AAAAAAAAAAAAADmJ7AQ/original"},wine:{text:"\u9171\u7C7D",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*orY0T7QL-lwAAAAAAAAAAAAADmJ7AQ/original"}},jf={normal:{text:"\u6807\u51C6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kIyZTok4Uk0AAAAAAAAAAAAADmJ7AQ/original"},light:{text:"\u4EAE",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Z3JRQKDI-cIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"\u6697",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d7HCQbfmyaoAAAAAAAAAAAAADmJ7AQ/original"},satellite:{text:"\u536B\u661F",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TytUT6pS9okAAAAAAAAAAAAADmJ7AQ/original"},outdoors:{text:"\u6237\u5916",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hWwFSYJEFWsAAAAAAAAAAAAADmJ7AQ/original"}};class Bb extends up{constructor(...e){super(...e),(0,me.Z)(this,"onMapThemeChange",()=>{this.mapsService.setMapStyle(this.selectValue[0])})}getDefault(e){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{title:"\u5730\u56FE\u6837\u5F0F",btnIcon:sm("l7-icon-color"),options:[]})}getStyleOptions(){const e=this.mapsService.getType()==="mapbox"?jf:d3;return Object.entries(this.mapsService.getMapStyleConfig()).filter(([r,u])=>typeof u=="string"&&r!=="blank").map(([r,u])=>{var d;const{text:h,img:y}=(d=e[r])!==null&&d!==void 0?d:{};return{text:h!=null?h:r,value:u,img:y,key:r}})}getMapStyle(){return this.mapsService.getMapStyle()}onAdd(){var e;if((e=this.controlOption.options)!==null&&e!==void 0&&e.length||(this.controlOption.options=this.getStyleOptions()),this.controlOption.defaultValue){var r,u;const d=this.controlOption.defaultValue;this.controlOption.defaultValue=(r=(u=this.controlOption.options.find(h=>h.key===d))===null||u===void 0?void 0:u.value)!==null&&r!==void 0?r:d}else{const d=this.getMapStyle();d?this.controlOption.defaultValue=d:this.mapsService.map.once("styledata",()=>{const h=this.mapsService.getMapStyle();this.controlOption.defaultValue=h,this.setSelectValue(h,!1)})}return this.on("selectChange",this.onMapThemeChange),super.onAdd()}getIsMultiple(){return!1}}class Yy extends cg{constructor(...e){super(...e),(0,me.Z)(this,"location",[0,0]),(0,me.Z)(this,"onMouseMove",r=>{let u=this.location;const d=r.lngLat||r.lnglat,{transform:h}=this.controlOption;d&&(u=[d.lng,d.lat]),this.location=u,h&&(u=h(u)),this.insertLocation2HTML(u),this.emit("locationChange",u)})}getLocation(){return this.location}getDefault(e){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{position:Bi.BOTTOMLEFT,transform:([r,u])=>[+(+r).toFixed(6),+(+u).toFixed(6)]})}onAdd(){const e=as("div","l7-control-mouse-location");return e.innerHTML="&nbsp;",this.mapsService.on("mousemove",this.onMouseMove),e}onRemove(){this.mapsService.off("mousemove",this.onMouseMove)}insertLocation2HTML(e){this.container.innerText=e.join(", ")}}class Fb extends cg{constructor(...e){super(...e),(0,me.Z)(this,"mScale",void 0),(0,me.Z)(this,"iScale",void 0),(0,me.Z)(this,"update",()=>{const r=this.mapsService,{maxWidth:u}=this.controlOption,d=r.getSize()[1]/2,h=r.containerToLngLat([0,d]),y=r.containerToLngLat([u,d]),M=cd([h.lng,h.lat],[y.lng,y.lat]);this.updateScales(M)})}getDefault(e){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{name:"scale",position:Bi.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,lockWidth:!0})}onAdd(){const r=as("div","l7-control-scale");this.resetScaleLines(r);const{updateWhenIdle:u}=this.controlOption;return this.mapsService.on(u?"moveend":"mapmove",this.update),this.mapsService.on(u?"zoomend":"zoomchange",this.update),r}onRemove(){const{updateWhenIdle:e}=this.controlOption;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update)}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["lockWidth","maxWidth","metric","updateWhenIdle","imperial"])&&this.resetScaleLines(this.container)}updateScales(e){const{metric:r,imperial:u}=this.controlOption;r&&e&&this.updateMetric(e),u&&e&&this.updateImperial(e)}resetScaleLines(e){Io(e);const{metric:r,imperial:u,maxWidth:d,lockWidth:h}=this.controlOption;h&&li(e,`width: ${d}px`),r&&(this.mScale=as("div","l7-control-scale-line",e)),u&&(this.iScale=as("div","l7-control-scale-line",e)),this.update()}updateScale(e,r,u){const{maxWidth:d}=this.controlOption;e.style.width=Math.round(d*u)+"px",e.innerHTML=r}getRoundNum(e){const r=Math.pow(10,(Math.floor(e)+"").length-1);let u=e/r;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,r*u}updateMetric(e){const r=this.getRoundNum(e),u=r<1e3?r+" m":r/1e3+" km";this.updateScale(this.mScale,u,r/e)}updateImperial(e){const r=e*3.2808399;let u,d,h;r>5280?(u=r/5280,d=this.getRoundNum(u),this.updateScale(this.iScale,d+" mi",d/u)):(h=this.getRoundNum(r),this.updateScale(this.iScale,h+" ft",h/r))}}class Vm{constructor(){(0,me.Z)(this,"mapService",void 0),(0,me.Z)(this,"fontService",void 0)}apply(e,{styleAttributeService:r,mapService:u,fontService:d}){var h=this;this.mapService=u,this.fontService=d,e.hooks.init.tapPromise("DataMappingPlugin",(0,Ba.Z)(function*(){e.log(Ei.MappingStart,lo.INIT),h.generateMaping(e,{styleAttributeService:r}),e.log(Ei.MappingEnd,lo.INIT)})),e.hooks.beforeRenderData.tapPromise("DataMappingPlugin",function(){var y=(0,Ba.Z)(function*(M){if(!M)return M;e.dataState.dataMappingNeedUpdate=!1,e.log(Ei.MappingStart,lo.UPDATE);const U=h.generateMaping(e,{styleAttributeService:r});return e.log(Ei.MappingEnd,lo.UPDATE),U});return function(M){return y.apply(this,arguments)}}()),e.hooks.beforeRender.tap("DataMappingPlugin",()=>{const y=e.getSource();if(e.layerModelNeedUpdate||!y||!y.inited)return;const M=r.getLayerStyleAttributes()||[],U=r.getLayerStyleAttribute("filter"),{dataArray:re}=y.data;if(Array.isArray(re)&&re.length===0)return;const Ee=M.filter(We=>We.needRemapping);let Ae=re;if(U!=null&&U.needRemapping&&U!==null&&U!==void 0&&U.scale&&(Ae=re.filter(We=>this.applyAttributeMapping(U,We)[0])),Ee.length){const We=this.mapping(e,Ee,Ae,e.getEncodedData());e.setEncodedData(We)}})}generateMaping(e,{styleAttributeService:r}){const u=r.getLayerStyleAttributes()||[],d=r.getLayerStyleAttribute("filter"),{dataArray:h}=e.getSource().data;let y=h;d!=null&&d.scale&&(y=h.filter(U=>this.applyAttributeMapping(d,U)[0])),y=e.processData(y);const M=this.mapping(e,u,y,void 0);return e.setEncodedData(M),e.emit("dataUpdate",null),!0}mapping(e,r,u,d){const h=r.filter(M=>M.scale!==void 0).filter(M=>M.name!=="filter"),y=u.map((M,U)=>{const re=d?d[U]:{},Ee=(0,Ir.Z)({id:M._id,coordinates:M.coordinates},re);return h.forEach(Ae=>{let We=this.applyAttributeMapping(Ae,M);(Ae.name==="color"||Ae.name==="stroke")&&(We=We.map(Ht=>To(Ht))),Ee[Ae.name]=Array.isArray(We)&&We.length===1?We[0]:We,Ae.name==="shape"&&(Ee.shape=this.fontService.getIconFontKey(Ee[Ae.name]))}),Ee});return r.forEach(M=>{M.needRemapping=!1}),this.adjustData2SimpleCoordinates(y),y}adjustData2SimpleCoordinates(e){e.length>0&&this.mapService.version==="SIMPLE"&&e.map(r=>{r.simpleCoordinate||(r.coordinates=this.unProjectCoordinates(r.coordinates),r.simpleCoordinate=!0)})}unProjectCoordinates(e){if(typeof e[0]=="number")return this.mapService.simpleMapCoord.unproject(e);if(e[0]&&e[0][0]instanceof Array){const r=[];return e.map(u=>{const d=[];u.map(h=>{d.push(this.mapService.simpleMapCoord.unproject(h))}),r.push(d)}),r}else{const r=[];return e.map(u=>{r.push(this.mapService.simpleMapCoord.unproject(u))}),r}}applyAttributeMapping(e,r){var u;if(!e.scale)return[];const d=(e==null||(u=e.scale)===null||u===void 0?void 0:u.scalers)||[],h=[];return d.forEach(({field:M})=>{var U;(r.hasOwnProperty(M)||((U=e.scale)===null||U===void 0?void 0:U.type)==="variable")&&h.push(r[M])}),e.mapping?e.mapping(h):[]}getArrowPoints(e,r){const u=[r[0]-e[0],r[1]-e[1]],d=hc(u);return[e[0]+d[0]*1e-4,e[1]+d[1]*1e-4]}}class Zc{constructor(){(0,me.Z)(this,"mapService",void 0)}apply(e){var r=this;this.mapService=e.getContainer().mapService,e.hooks.init.tapPromise("DataSourcePlugin",(0,Ba.Z)(function*(){e.log(Ei.SourceInitStart,lo.INIT);let u=e.getSource();if(!u){const{data:d,options:h}=e.sourceOption||e.defaultSourceConfig;u=new Db(d,h),e.setSource(u)}u.inited?(r.updateClusterData(e),e.log(Ei.SourceInitEnd,lo.INIT)):yield new Promise(d=>{u.on("update",h=>{h.type==="inited"&&(r.updateClusterData(e),e.log(Ei.SourceInitEnd,lo.INIT)),d(null)})})})),e.hooks.beforeRenderData.tapPromise("DataSourcePlugin",(0,Ba.Z)(function*(){const u=r.updateClusterData(e),d=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,u||d}))}updateClusterData(e){if(e.isTileLayer||e.tileLayer||!e.getSource())return!1;const r=e.getSource(),u=r.cluster,{zoom:d=0}=r.clusterOptions,h=this.mapService.getZoom()-1,y=e.dataState.dataSourceNeedUpdate;return u&&y&&r.updateClusterData(Math.floor(h)),u&&Math.abs(e.clusterZoom-h)>=1?(d!==Math.floor(h)&&r.updateClusterData(Math.floor(h)),e.clusterZoom=h,!0):!1}}var Ub=A(335),$y=A.n(Ub);function I1(t,e){var r,u;if(e===void 0){var d=$y()(t),h;try{for(d.s();!(h=d.n()).done;){var y=h.value;y!=null&&(r===void 0?y>=y&&(r=u=y):(r>y&&(r=y),u<y&&(u=y)))}}catch(Ae){d.e(Ae)}finally{d.f()}}else{var M=-1,U=$y()(t),re;try{for(U.s();!(re=U.n()).done;){var Ee=re.value;(Ee=e(Ee,++M,t))!=null&&(r===void 0?Ee>=Ee&&(r=u=Ee):(r>Ee&&(r=Ee),u<Ee&&(u=Ee)))}}catch(Ae){U.e(Ae)}finally{U.f()}}return[r,u]}function Gm(t,e,r,u,d){var h=t*t,y=h*t;return((1-3*t+3*h-y)*e+(4-6*h+3*y)*r+(1+3*t+3*h-3*y)*u+y*d)/6}function L1(t){var e=t.length-1;return function(r){var u=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),d=t[u],h=t[u+1],y=u>0?t[u-1]:2*d-h,M=u<e-1?t[u+2]:2*h-d;return Gm((r-u/e)*e,y,d,h,M)}}function IE(t){var e=t.length;return function(r){var u=Math.floor(((r%=1)<0?++r:r)*e),d=t[(u+e-1)%e],h=t[u%e],y=t[(u+1)%e],M=t[(u+2)%e];return Gm((r-u/e)*e,d,h,y,M)}}function dg(t){return function(){return t}}function h3(t,e){return function(r){return t+r*e}}function LE(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(u){return Math.pow(t+u*e,r)}}function SS(t,e){var r=e-t;return r?h3(t,r>180||r<-180?r-360*Math.round(r/360):r):constant(isNaN(t)?e:t)}function AS(t){return(t=+t)==1?zb:function(e,r){return r-e?LE(e,r,t):dg(isNaN(e)?r:e)}}function zb(t,e){var r=e-t;return r?h3(t,r):dg(isNaN(t)?e:t)}var Zb=function t(e){var r=AS(e);function u(d,h){var y=r((d=xn(d)).r,(h=xn(h)).r),M=r(d.g,h.g),U=r(d.b,h.b),re=zb(d.opacity,h.opacity);return function(Ee){return d.r=y(Ee),d.g=M(Ee),d.b=U(Ee),d.opacity=re(Ee),d+""}}return u.gamma=t,u}(1);function NE(t){return function(e){var r=e.length,u=new Array(r),d=new Array(r),h=new Array(r),y,M;for(y=0;y<r;++y)M=xn(e[y]),u[y]=M.r||0,d[y]=M.g||0,h[y]=M.b||0;return u=t(u),d=t(d),h=t(h),M.opacity=1,function(U){return M.r=u(U),M.g=d(U),M.b=h(U),M+""}}}var Xy=NE(L1),CS=NE(IE);function Wv(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ky(t){return t.length===1&&(t=OS(t)),{left:function(e,r,u,d){for(u==null&&(u=0),d==null&&(d=e.length);u<d;){var h=u+d>>>1;t(e[h],r)<0?u=h+1:d=h}return u},right:function(e,r,u,d){for(u==null&&(u=0),d==null&&(d=e.length);u<d;){var h=u+d>>>1;t(e[h],r)>0?d=h:u=h+1}return u}}}function OS(t){return function(e,r){return Wv(t(e),r)}}var DE=Ky(Wv),p3=DE.right,cp=DE.left,kE=p3,um=Array.prototype,Qy=um.slice,hO=um.map,Ym=Math.sqrt(50),Md=Math.sqrt(10),Qd=Math.sqrt(2);function jb(t,e,r){var u,d=-1,h,y,M;if(e=+e,t=+t,r=+r,t===e&&r>0)return[t];if((u=e<t)&&(h=t,t=e,e=h),(M=Lg(t,e,r))===0||!isFinite(M))return[];if(M>0)for(t=Math.ceil(t/M),e=Math.floor(e/M),y=new Array(h=Math.ceil(e-t+1));++d<h;)y[d]=(t+d)*M;else for(t=Math.floor(t*M),e=Math.ceil(e*M),y=new Array(h=Math.ceil(t-e+1));++d<h;)y[d]=(t-d)/M;return u&&y.reverse(),y}function Lg(t,e,r){var u=(e-t)/Math.max(0,r),d=Math.floor(Math.log(u)/Math.LN10),h=u/Math.pow(10,d);return d>=0?(h>=Ym?10:h>=Md?5:h>=Qd?2:1)*Math.pow(10,d):-Math.pow(10,-d)/(h>=Ym?10:h>=Md?5:h>=Qd?2:1)}function N1(t,e,r){var u=Math.abs(e-t)/Math.max(0,r),d=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),h=u/d;return h>=Ym?d*=10:h>=Md?d*=5:h>=Qd&&(d*=2),e<t?-d:d}function Hb(){var t=identity,e=extent,r=sturges;function u(d){var h,y=d.length,M,U=new Array(y);for(h=0;h<y;++h)U[h]=t(d[h],h,d);var re=e(U),Ee=re[0],Ae=re[1],We=r(U,Ee,Ae);Array.isArray(We)||(We=tickStep(Ee,Ae,We),We=range(Math.ceil(Ee/We)*We,Ae,We));for(var Ht=We.length;We[0]<=Ee;)We.shift(),--Ht;for(;We[Ht-1]>Ae;)We.pop(),--Ht;var Tn=new Array(Ht+1),Fn;for(h=0;h<=Ht;++h)Fn=Tn[h]=[],Fn.x0=h>0?We[h-1]:Ee,Fn.x1=h<Ht?We[h]:Ae;for(h=0;h<y;++h)M=U[h],Ee<=M&&M<=Ae&&Tn[bisect(We,M,0,Ht)].push(d[h]);return Tn}return u.value=function(d){return arguments.length?(t=typeof d=="function"?d:constant(d),u):t},u.domain=function(d){return arguments.length?(e=typeof d=="function"?d:constant([d[0],d[1]]),u):e},u.thresholds=function(d){return arguments.length?(r=typeof d=="function"?d:Array.isArray(d)?constant(slice.call(d)):constant(d),u):r},u}function lm(t,e,r){return t=map.call(t,number).sort(ascending),Math.ceil((r-e)/(2*(quantile(t,.75)-quantile(t,.25))*Math.pow(t.length,-1/3)))}function BE(t){return t===null?NaN:+t}function FE(t,e,r){if(r==null&&(r=BE),!!(u=t.length)){if((e=+e)<=0||u<2)return+r(t[0],0,t);if(e>=1)return+r(t[u-1],u-1,t);var u,d=(u-1)*e,h=Math.floor(d),y=+r(t[h],h,t),M=+r(t[h+1],h+1,t);return y+(M-y)*(d-h)}}var fp="$";function Wb(){}Wb.prototype=qy.prototype={constructor:Wb,has:function(t){return fp+t in this},get:function(t){return this[fp+t]},set:function(t,e){return this[fp+t]=e,this},remove:function(t){var e=fp+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===fp&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===fp&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===fp&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===fp&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===fp&&++t;return t},empty:function(){for(var t in this)if(t[0]===fp)return!1;return!0},each:function(t){for(var e in this)e[0]===fp&&t(this[e],e.slice(1),this)}};function qy(t,e){var r=new Wb;if(t instanceof Wb)t.each(function(M,U){r.set(U,M)});else if(Array.isArray(t)){var u=-1,d=t.length,h;if(e==null)for(;++u<d;)r.set(u,t[u]);else for(;++u<d;)r.set(e(h=t[u],u,t),h)}else if(t)for(var y in t)r.set(y,t[y]);return r}var Vb=qy;function wS(){var t=[],e=[],r,u,d;function h(M,U,re,Ee){if(U>=t.length)return r!=null&&M.sort(r),u!=null?u(M):M;for(var Ae=-1,We=M.length,Ht=t[U++],Tn,Fn,br=map(),ei,Jr=re();++Ae<We;)(ei=br.get(Tn=Ht(Fn=M[Ae])+""))?ei.push(Fn):br.set(Tn,[Fn]);return br.each(function(zi,ca){Ee(Jr,ca,h(zi,U,re,Ee))}),Jr}function y(M,U){if(++U>t.length)return M;var re,Ee=e[U-1];return u!=null&&U>=t.length?re=M.entries():(re=[],M.each(function(Ae,We){re.push({key:We,values:y(Ae,U)})})),Ee!=null?re.sort(function(Ae,We){return Ee(Ae.key,We.key)}):re}return d={object:function(M){return h(M,0,Gb,g3)},map:function(M){return h(M,0,Yb,D1)},entries:function(M){return y(h(M,0,Yb,D1),0)},key:function(M){return t.push(M),d},sortKeys:function(M){return e[t.length-1]=M,d},sortValues:function(M){return r=M,d},rollup:function(M){return u=M,d}}}function Gb(){return{}}function g3(t,e,r){t[e]=r}function Yb(){return map()}function D1(t,e,r){t.set(e,r)}function hg(){}var G0=Vb.prototype;hg.prototype=Ng.prototype={constructor:hg,has:G0.has,add:function(t){return t+="",this[fp+t]=t,this},remove:G0.remove,clear:G0.clear,values:G0.keys,size:G0.size,empty:G0.empty,each:G0.each};function Ng(t,e){var r=new hg;if(t instanceof hg)t.each(function(h){r.add(h)});else if(t){var u=-1,d=t.length;if(e==null)for(;++u<d;)r.add(t[u]);else for(;++u<d;)r.add(e(t[u],u,t))}return r}var pO=null,Lp=Array.prototype,m3=Lp.map,cm=Lp.slice;function Dg(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gO(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var $b={name:"implicit"};function UE(){var t=Vb(),e=[],r=[],u=$b;function d(h){var y=h+"",M=t.get(y);if(!M){if(u!==$b)return u;t.set(y,M=e.push(h))}return r[(M-1)%r.length]}return d.domain=function(h){if(!arguments.length)return e.slice();e=[],t=Vb();for(var y=-1,M=h.length,U,re;++y<M;)t.has(re=(U=h[y])+"")||t.set(re,e.push(U));return d},d.range=function(h){return arguments.length?(r=cm.call(h),d):r.slice()},d.unknown=function(h){return arguments.length?(u=h,d):u},d.copy=function(){return UE(e,r).unknown(u)},Dg.apply(d,arguments),d}function zE(){var t=ordinal().unknown(void 0),e=t.domain,r=t.range,u=[0,1],d,h,y=!1,M=0,U=0,re=.5;delete t.unknown;function Ee(){var Ae=e().length,We=u[1]<u[0],Ht=u[We-0],Tn=u[1-We];d=(Tn-Ht)/Math.max(1,Ae-M+U*2),y&&(d=Math.floor(d)),Ht+=(Tn-Ht-d*(Ae-M))*re,h=d*(1-M),y&&(Ht=Math.round(Ht),h=Math.round(h));var Fn=sequence(Ae).map(function(br){return Ht+d*br});return r(We?Fn.reverse():Fn)}return t.domain=function(Ae){return arguments.length?(e(Ae),Ee()):e()},t.range=function(Ae){return arguments.length?(u=[+Ae[0],+Ae[1]],Ee()):u.slice()},t.rangeRound=function(Ae){return u=[+Ae[0],+Ae[1]],y=!0,Ee()},t.bandwidth=function(){return h},t.step=function(){return d},t.round=function(Ae){return arguments.length?(y=!!Ae,Ee()):y},t.padding=function(Ae){return arguments.length?(M=Math.min(1,U=+Ae),Ee()):M},t.paddingInner=function(Ae){return arguments.length?(M=Math.min(1,Ae),Ee()):M},t.paddingOuter=function(Ae){return arguments.length?(U=+Ae,Ee()):U},t.align=function(Ae){return arguments.length?(re=Math.max(0,Math.min(1,Ae)),Ee()):re},t.copy=function(){return zE(e(),u).round(y).paddingInner(M).paddingOuter(U).align(re)},initRange.apply(Ee(),arguments)}function ZE(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ZE(e())},t}function $m(){return ZE(zE.apply(null,arguments).paddingInner(1))}function MS(t,e){return(isNumberArray(e)?numberArray:pg)(t,e)}function pg(t,e){var r=e?e.length:0,u=t?Math.min(r,t.length):0,d=new Array(u),h=new Array(r),y;for(y=0;y<u;++y)d[y]=Kb(t[y],e[y]);for(;y<r;++y)h[y]=e[y];return function(M){for(y=0;y<u;++y)h[y]=d[y](M);return h}}function RS(t,e){var r=new Date;return t=+t,e=+e,function(u){return r.setTime(t*(1-u)+e*u),r}}function Np(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function fm(t,e){var r={},u={},d;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(d in e)d in t?r[d]=Kb(t[d],e[d]):u[d]=e[d];return function(h){for(d in r)u[d]=r[d](h);return u}}var Jy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xm=new RegExp(Jy.source,"g");function v3(t){return function(){return t}}function Xb(t){return function(e){return t(e)+""}}function jE(t,e){var r=Jy.lastIndex=Xm.lastIndex=0,u,d,h,y=-1,M=[],U=[];for(t=t+"",e=e+"";(u=Jy.exec(t))&&(d=Xm.exec(e));)(h=d.index)>r&&(h=e.slice(r,h),M[y]?M[y]+=h:M[++y]=h),(u=u[0])===(d=d[0])?M[y]?M[y]+=d:M[++y]=d:(M[++y]=null,U.push({i:y,x:Np(u,d)})),r=Xm.lastIndex;return r<e.length&&(h=e.slice(r),M[y]?M[y]+=h:M[++y]=h),M.length<2?U[0]?Xb(U[0].x):v3(e):(e=U.length,function(re){for(var Ee=0,Ae;Ee<e;++Ee)M[(Ae=U[Ee]).i]=Ae.x(re);return M.join("")})}function y3(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,u=e.slice(),d;return function(h){for(d=0;d<r;++d)u[d]=t[d]*(1-h)+e[d]*h;return u}}function PS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Kb(t,e){var r=typeof e,u;return e==null||r==="boolean"?dg(e):(r==="number"?Np:r==="string"?(u=Ur(e))?(e=u,Zb):jE:e instanceof Ur?Zb:e instanceof Date?RS:PS(e)?y3:Array.isArray(e)?pg:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fm:Np)(t,e)}function k1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function _3(t){return function(){return t}}function b3(t){return+t}var HE=[0,1];function Jh(t){return t}function Qb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_3(isNaN(e)?NaN:.5)}function WE(t){var e=t[0],r=t[t.length-1],u;return e>r&&(u=e,e=r,r=u),function(d){return Math.max(e,Math.min(r,d))}}function IS(t,e,r){var u=t[0],d=t[1],h=e[0],y=e[1];return d<u?(u=Qb(d,u),h=r(y,h)):(u=Qb(u,d),h=r(h,y)),function(M){return h(u(M))}}function LS(t,e,r){var u=Math.min(t.length,e.length)-1,d=new Array(u),h=new Array(u),y=-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++y<u;)d[y]=Qb(t[y],t[y+1]),h[y]=r(e[y],e[y+1]);return function(M){var U=kE(t,M,1,u)-1;return h[U](d[U](M))}}function e_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qb(){var t=HE,e=HE,r=Kb,u,d,h,y=Jh,M,U,re;function Ee(){return M=Math.min(t.length,e.length)>2?LS:IS,U=re=null,Ae}function Ae(We){return isNaN(We=+We)?h:(U||(U=M(t.map(u),e,r)))(u(y(We)))}return Ae.invert=function(We){return y(d((re||(re=M(e,t.map(u),Np)))(We)))},Ae.domain=function(We){return arguments.length?(t=m3.call(We,b3),y===Jh||(y=WE(t)),Ee()):t.slice()},Ae.range=function(We){return arguments.length?(e=cm.call(We),Ee()):e.slice()},Ae.rangeRound=function(We){return e=cm.call(We),r=k1,Ee()},Ae.clamp=function(We){return arguments.length?(y=We?WE(t):Jh,Ae):y!==Jh},Ae.interpolate=function(We){return arguments.length?(r=We,Ee()):r},Ae.unknown=function(We){return arguments.length?(h=We,Ae):h},function(We,Ht){return u=We,d=Ht,Ee()}}function Jb(t,e){return qb()(t,e)}var VE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e2(t){if(!(e=VE.exec(t)))throw new Error("invalid format: "+t);var e;return new GE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}e2.prototype=GE.prototype;function GE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E3(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function t2(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,u=t.slice(0,r);return[u.length>1?u[0]+u.slice(2):u,+t.slice(r+1)]}function kg(t){return t=t2(Math.abs(t)),t?t[1]:NaN}function fc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kg(e)/3)))*3-kg(Math.abs(t)))}function t_(t,e){return function(r,u){for(var d=r.length,h=[],y=0,M=t[0],U=0;d>0&&M>0&&(U+M+1>u&&(M=Math.max(1,u-U)),h.push(r.substring(d-=M,d+M)),!((U+=M+1)>u));)M=t[y=(y+1)%t.length];return h.reverse().join(e)}}function n_(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}function m(t){e:for(var e=t.length,r=1,u=-1,d;r<e;++r)switch(t[r]){case".":u=d=r;break;case"0":u===0&&(u=r),d=r;break;default:if(!+t[r])break e;u>0&&(u=0);break}return u>0?t.slice(0,u)+t.slice(d+1):t}var s;function c(t,e){var r=t2(t,e);if(!r)return t+"";var u=r[0],d=r[1],h=d-(s=Math.max(-8,Math.min(8,Math.floor(d/3)))*3)+1,y=u.length;return h===y?u:h>y?u+new Array(h-y+1).join("0"):h>0?u.slice(0,h)+"."+u.slice(h):"0."+new Array(1-h).join("0")+t2(t,Math.max(0,e+h-1))[0]}function f(t,e){var r=t2(t,e);if(!r)return t+"";var u=r[0],d=r[1];return d<0?"0."+new Array(-d).join("0")+u:u.length>d+1?u.slice(0,d+1)+"."+u.slice(d+1):u+new Array(d-u.length+2).join("0")}var g={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:E3,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return f(t*100,e)},r:f,s:c,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function _(t){return t}var O=Array.prototype.map,D=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function G(t){var e=t.grouping===void 0||t.thousands===void 0?_:t_(O.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",u=t.currency===void 0?"":t.currency[1]+"",d=t.decimal===void 0?".":t.decimal+"",h=t.numerals===void 0?_:n_(O.call(t.numerals,String)),y=t.percent===void 0?"%":t.percent+"",M=t.minus===void 0?"-":t.minus+"",U=t.nan===void 0?"NaN":t.nan+"";function re(Ae){Ae=e2(Ae);var We=Ae.fill,Ht=Ae.align,Tn=Ae.sign,Fn=Ae.symbol,br=Ae.zero,ei=Ae.width,Jr=Ae.comma,zi=Ae.precision,ca=Ae.trim,Da=Ae.type;Da==="n"?(Jr=!0,Da="g"):g[Da]||(zi===void 0&&(zi=12),ca=!0,Da="g"),(br||We==="0"&&Ht==="=")&&(br=!0,We="0",Ht="=");var Va=Fn==="$"?r:Fn==="#"&&/[boxX]/.test(Da)?"0"+Da.toLowerCase():"",va=Fn==="$"?u:/[%p]/.test(Da)?y:"",io=g[Da],Os=/[defgprs%]/.test(Da);zi=zi===void 0?6:/[gprs]/.test(Da)?Math.max(1,Math.min(21,zi)):Math.max(0,Math.min(20,zi));function Hu(Ds){var il=Va,jl=va,Ch,f0,yh;if(Da==="c")jl=io(Ds)+jl,Ds="";else{Ds=+Ds;var Hl=Ds<0||1/Ds<0;if(Ds=isNaN(Ds)?U:io(Math.abs(Ds),zi),ca&&(Ds=m(Ds)),Hl&&+Ds==0&&Tn!=="+"&&(Hl=!1),il=(Hl?Tn==="("?Tn:M:Tn==="-"||Tn==="("?"":Tn)+il,jl=(Da==="s"?D[8+s/3]:"")+jl+(Hl&&Tn==="("?")":""),Os){for(Ch=-1,f0=Ds.length;++Ch<f0;)if(yh=Ds.charCodeAt(Ch),48>yh||yh>57){jl=(yh===46?d+Ds.slice(Ch+1):Ds.slice(Ch))+jl,Ds=Ds.slice(0,Ch);break}}}Jr&&!br&&(Ds=e(Ds,1/0));var Vh=il.length+Ds.length+jl.length,U0=Vh<ei?new Array(ei-Vh+1).join(We):"";switch(Jr&&br&&(Ds=e(U0+Ds,U0.length?ei-jl.length:1/0),U0=""),Ht){case"<":Ds=il+Ds+jl+U0;break;case"=":Ds=il+U0+Ds+jl;break;case"^":Ds=U0.slice(0,Vh=U0.length>>1)+il+Ds+jl+U0.slice(Vh);break;default:Ds=U0+il+Ds+jl;break}return h(Ds)}return Hu.toString=function(){return Ae+""},Hu}function Ee(Ae,We){var Ht=re((Ae=e2(Ae),Ae.type="f",Ae)),Tn=Math.max(-8,Math.min(8,Math.floor(kg(We)/3)))*3,Fn=Math.pow(10,-Tn),br=D[8+Tn/3];return function(ei){return Ht(Fn*ei)+br}}return{format:re,formatPrefix:Ee}}var Q,oe,Se;Ye({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Ye(t){return Q=G(t),oe=Q.format,Se=Q.formatPrefix,Q}function dt(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kg(e)-kg(t))+1}function Kt(t){return Math.max(0,-kg(Math.abs(t)))}function An(t,e,r,u){var d=N1(t,e,r),h;switch(u=e2(u==null?",f":u),u.type){case"s":{var y=Math.max(Math.abs(t),Math.abs(e));return u.precision==null&&!isNaN(h=fc(d,y))&&(u.precision=h),Se(u,y)}case"":case"e":case"g":case"p":case"r":{u.precision==null&&!isNaN(h=dt(d,Math.max(Math.abs(t),Math.abs(e))))&&(u.precision=h-(u.type==="e"));break}case"f":case"%":{u.precision==null&&!isNaN(h=Kt(d))&&(u.precision=h-(u.type==="%")*2);break}}return oe(u)}function Wn(t){var e=t.domain;return t.ticks=function(r){var u=e();return jb(u[0],u[u.length-1],r==null?10:r)},t.tickFormat=function(r,u){var d=e();return An(d[0],d[d.length-1],r==null?10:r,u)},t.nice=function(r){r==null&&(r=10);var u=e(),d=0,h=u.length-1,y=u[d],M=u[h],U;return M<y&&(U=y,y=M,M=U,U=d,d=h,h=U),U=Lg(y,M,r),U>0?(y=Math.floor(y/U)*U,M=Math.ceil(M/U)*U,U=Lg(y,M,r)):U<0&&(y=Math.ceil(y*U)/U,M=Math.floor(M*U)/U,U=Lg(y,M,r)),U>0?(u[d]=Math.floor(y/U)*U,u[h]=Math.ceil(M/U)*U,e(u)):U<0&&(u[d]=Math.ceil(y*U)/U,u[h]=Math.floor(M*U)/U,e(u)),t},t}function $r(){var t=Jb(Jh,Jh);return t.copy=function(){return e_(t,$r())},Dg.apply(t,arguments),Wn(t)}function ni(t){var e;function r(u){return isNaN(u=+u)?e:u}return r.invert=r,r.domain=r.range=function(u){return arguments.length?(t=map.call(u,number),r):t.slice()},r.unknown=function(u){return arguments.length?(e=u,r):e},r.copy=function(){return ni(t).unknown(e)},t=arguments.length?map.call(t,number):[0,1],linearish(r)}function Kr(t,e){t=t.slice();var r=0,u=t.length-1,d=t[r],h=t[u],y;return h<d&&(y=r,r=u,u=y,y=d,d=h,h=y),t[r]=e.floor(d),t[u]=e.ceil(h),t}function pa(t){return Math.log(t)}function Ia(t){return Math.exp(t)}function $a(t){return-Math.log(-t)}function Go(t){return-Math.exp(-t)}function Jo(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rs(t){return t===10?Jo:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Fu(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function fl(t){return function(e){return-t(-e)}}function Ou(t){var e=t(pa,Ia),r=e.domain,u=10,d,h;function y(){return d=Fu(u),h=Rs(u),r()[0]<0?(d=fl(d),h=fl(h),t($a,Go)):t(pa,Ia),e}return e.base=function(M){return arguments.length?(u=+M,y()):u},e.domain=function(M){return arguments.length?(r(M),y()):r()},e.ticks=function(M){var U=r(),re=U[0],Ee=U[U.length-1],Ae;(Ae=Ee<re)&&(We=re,re=Ee,Ee=We);var We=d(re),Ht=d(Ee),Tn,Fn,br,ei=M==null?10:+M,Jr=[];if(!(u%1)&&Ht-We<ei){if(We=Math.round(We)-1,Ht=Math.round(Ht)+1,re>0){for(;We<Ht;++We)for(Fn=1,Tn=h(We);Fn<u;++Fn)if(br=Tn*Fn,!(br<re)){if(br>Ee)break;Jr.push(br)}}else for(;We<Ht;++We)for(Fn=u-1,Tn=h(We);Fn>=1;--Fn)if(br=Tn*Fn,!(br<re)){if(br>Ee)break;Jr.push(br)}}else Jr=jb(We,Ht,Math.min(Ht-We,ei)).map(h);return Ae?Jr.reverse():Jr},e.tickFormat=function(M,U){if(U==null&&(U=u===10?".0e":","),typeof U!="function"&&(U=oe(U)),M===1/0)return U;M==null&&(M=10);var re=Math.max(1,u*M/e.ticks().length);return function(Ee){var Ae=Ee/h(Math.round(d(Ee)));return Ae*u<u-.5&&(Ae*=u),Ae<=re?U(Ee):""}},e.nice=function(){return r(Kr(r(),{floor:function(M){return h(Math.floor(d(M)))},ceil:function(M){return h(Math.ceil(d(M)))}}))},e}function vf(){var t=Ou(qb()).domain([1,10]);return t.copy=function(){return e_(t,vf()).base(t.base())},Dg.apply(t,arguments),t}function gc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Lc(t){var e=1,r=t(gc(e),mc(e));return r.constant=function(u){return arguments.length?t(gc(e=+u),mc(e)):e},linearish(r)}function lf(){var t=Lc(transformer());return t.copy=function(){return copy(t,lf()).constant(t.constant())},initRange.apply(t,arguments)}function jc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zs(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uu(t){return t<0?-t*t:t*t}function ml(t){var e=t(Jh,Jh),r=1;function u(){return r===1?t(Jh,Jh):r===.5?t(zs,Uu):t(jc(r),jc(1/r))}return e.exponent=function(d){return arguments.length?(r=+d,u()):r},Wn(e)}function Zl(){var t=ml(qb());return t.copy=function(){return e_(t,Zl()).exponent(t.exponent())},Dg.apply(t,arguments),t}function Pl(){return Zl.apply(null,arguments).exponent(.5)}function Dd(){var t=[],e=[],r=[],u;function d(){var y=0,M=Math.max(1,e.length);for(r=new Array(M-1);++y<M;)r[y-1]=FE(t,y/M);return h}function h(y){return isNaN(y=+y)?u:e[kE(r,y)]}return h.invertExtent=function(y){var M=e.indexOf(y);return M<0?[NaN,NaN]:[M>0?r[M-1]:t[0],M<r.length?r[M]:t[t.length-1]]},h.domain=function(y){if(!arguments.length)return t.slice();t=[];for(var M=0,U=y.length,re;M<U;++M)re=y[M],re!=null&&!isNaN(re=+re)&&t.push(re);return t.sort(Wv),d()},h.range=function(y){return arguments.length?(e=cm.call(y),d()):e.slice()},h.unknown=function(y){return arguments.length?(u=y,h):u},h.quantiles=function(){return r.slice()},h.copy=function(){return Dd().domain(t).range(e).unknown(u)},Dg.apply(h,arguments)}function kd(){var t=0,e=1,r=1,u=[.5],d=[0,1],h;function y(U){return U<=U?d[kE(u,U,0,r)]:h}function M(){var U=-1;for(u=new Array(r);++U<r;)u[U]=((U+1)*e-(U-r)*t)/(r+1);return y}return y.domain=function(U){return arguments.length?(t=+U[0],e=+U[1],M()):[t,e]},y.range=function(U){return arguments.length?(r=(d=cm.call(U)).length-1,M()):d.slice()},y.invertExtent=function(U){var re=d.indexOf(U);return re<0?[NaN,NaN]:re<1?[t,u[0]]:re>=r?[u[r-1],e]:[u[re-1],u[re]]},y.unknown=function(U){return arguments.length&&(h=U),y},y.thresholds=function(){return u.slice()},y.copy=function(){return kd().domain([t,e]).range(d).unknown(h)},Dg.apply(Wn(y),arguments)}function Y0(){var t=[.5],e=[0,1],r,u=1;function d(h){return h<=h?e[kE(t,h,0,u)]:r}return d.domain=function(h){return arguments.length?(t=cm.call(h),u=Math.min(t.length,e.length-1),d):t.slice()},d.range=function(h){return arguments.length?(e=cm.call(h),u=Math.min(t.length,e.length-1),d):e.slice()},d.invertExtent=function(h){var y=e.indexOf(h);return[t[y-1],t[y]]},d.unknown=function(h){return arguments.length?(r=h,d):r},d.copy=function(){return Y0().domain(t).range(e).unknown(r)},Dg.apply(d,arguments)}var F0=new Date,u0=new Date;function Nf(t,e,r,u){function d(h){return t(h=arguments.length===0?new Date:new Date(+h)),h}return d.floor=function(h){return t(h=new Date(+h)),h},d.ceil=function(h){return t(h=new Date(h-1)),e(h,1),t(h),h},d.round=function(h){var y=d(h),M=d.ceil(h);return h-y<M-h?y:M},d.offset=function(h,y){return e(h=new Date(+h),y==null?1:Math.floor(y)),h},d.range=function(h,y,M){var U=[],re;if(h=d.ceil(h),M=M==null?1:Math.floor(M),!(h<y)||!(M>0))return U;do U.push(re=new Date(+h)),e(h,M),t(h);while(re<h&&h<y);return U},d.filter=function(h){return Nf(function(y){if(y>=y)for(;t(y),!h(y);)y.setTime(y-1)},function(y,M){if(y>=y)if(M<0)for(;++M<=0;)for(;e(y,-1),!h(y););else for(;--M>=0;)for(;e(y,1),!h(y););})},r&&(d.count=function(h,y){return F0.setTime(+h),u0.setTime(+y),t(F0),t(u0),Math.floor(r(F0,u0))},d.every=function(h){return h=Math.floor(h),!isFinite(h)||!(h>0)?null:h>1?d.filter(u?function(y){return u(y)%h===0}:function(y){return d.count(0,y)%h===0}):d}),d}var e0=Nf(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});e0.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Nf(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)})};var Dp=e0,Zh=e0.range,Vv=Nf(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),$0=Vv,r_=Vv.range,l0=1e3,jh=6e4,Km=36e5,dp=864e5,kp=6048e5;function $l(t){return Nf(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,r){e.setDate(e.getDate()+r*7)},function(e,r){return(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*jh)/kp})}var Df=$l(0),Ac=$l(1),Hf=$l(2),qd=$l(3),zu=$l(4),kf=$l(5),Qf=$l(6),c0=Df.range,qf=Ac.range,yf=Hf.range,xh=qd.range,Bp=zu.range,Th=kf.range,Gv=Qf.range,Yv=Nf(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jh)/dp},function(t){return t.getDate()-1}),A0=Yv,Qp=Yv.range,qp=Nf(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*l0-t.getMinutes()*jh)},function(t,e){t.setTime(+t+e*Km)},function(t,e){return(e-t)/Km},function(t){return t.getHours()}),Qm=qp,X0=qp.range,Fp=Nf(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*l0)},function(t,e){t.setTime(+t+e*jh)},function(t,e){return(e-t)/jh},function(t){return t.getMinutes()}),Bg=Fp,DS=Fp.range,x3=Nf(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*l0)},function(t,e){return(e-t)/l0},function(t){return t.getUTCSeconds()}),T3=x3,mO=x3.range,B1=Nf(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});B1.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nf(function(e){e.setTime(Math.floor(e/t)*t)},function(e,r){e.setTime(+e+r*t)},function(e,r){return(r-e)/t}):B1};var YE=B1,kS=B1.range;function qm(t){return Nf(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r*7)},function(e,r){return(r-e)/kp})}var $E=qm(0),Jm=qm(1),Fg=qm(2),n2=qm(3),Wf=qm(4),Up=qm(5),Sh=qm(6),Ug=$E.range,$v=Jm.range,S3=Fg.range,A3=n2.range,XE=Wf.range,C3=Up.range,O3=Sh.range,KE=Nf(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/dp},function(t){return t.getUTCDate()-1}),vO=KE,UN=KE.range,w3=Nf(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});w3.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Nf(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})};var r2=w3,N4=w3.range;function M3(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i2(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function yO(t){var e=t.dateTime,r=t.date,u=t.time,d=t.periods,h=t.days,y=t.shortDays,M=t.months,U=t.shortMonths,re=a2(d),Ee=i_(d),Ae=a2(h),We=i_(h),Ht=a2(y),Tn=i_(y),Fn=a2(M),br=i_(M),ei=a2(U),Jr=i_(U),zi={a:Hl,A:Vh,b:U0,B:yv,c:null,d:MO,e:MO,f:PO,g:FO,G:qE,H:j4,I:H4,j:W4,L:RO,m:IO,M:LO,p:AN,q:CN,Q:XO,s:VS,S:V4,u:G4,U:Y4,V:jS,w:DO,W:kO,x:null,X:null,y:BO,Y:UO,Z:zO,"%":nx},ca={a:ON,A:wN,b:MN,B:RN,c:null,d:JE,e:JE,f:HO,g:YO,G:Q4,H:ZO,I:HS,j:jO,L:ex,m:F1,M:U1,p:PN,q:IN,Q:XO,s:VS,S:$4,u:X4,U:tx,V:WO,w:VO,W:a_,x:null,X:null,y:GO,Y:K4,Z:$O,"%":nx},Da={a:Hu,A:Ds,b:il,B:jl,c:Ch,d:zS,e:zS,f:U4,g:US,G:FS,H:ZS,I:ZS,j:OO,L:F4,m:B4,M:wO,p:Os,q:CO,Q:z4,s:Z4,S:zN,u:TO,U:SO,V:AO,w:xO,W:D4,x:f0,X:yh,y:US,Y:FS,Z:k4,"%":R3};zi.x=Va(r,zi),zi.X=Va(u,zi),zi.c=Va(e,zi),ca.x=Va(r,ca),ca.X=Va(u,ca),ca.c=Va(e,ca);function Va(Xu,bf){return function(Jf){var xs=[],ig=-1,Gd=0,Sg=Xu.length,M0,O_,w4;for(Jf instanceof Date||(Jf=new Date(+Jf));++ig<Sg;)Xu.charCodeAt(ig)===37&&(xs.push(Xu.slice(Gd,ig)),(O_=BS[M0=Xu.charAt(++ig)])!=null?M0=Xu.charAt(++ig):O_=M0==="e"?" ":"0",(w4=bf[M0])&&(M0=w4(Jf,O_)),xs.push(M0),Gd=ig+1);return xs.push(Xu.slice(Gd,ig)),xs.join("")}}function va(Xu,bf){return function(Jf){var xs=i2(1900,void 0,1),ig=io(xs,Xu,Jf+="",0),Gd,Sg;if(ig!=Jf.length)return null;if("Q"in xs)return new Date(xs.Q);if("s"in xs)return new Date(xs.s*1e3+("L"in xs?xs.L:0));if(bf&&!("Z"in xs)&&(xs.Z=0),"p"in xs&&(xs.H=xs.H%12+xs.p*12),xs.m===void 0&&(xs.m="q"in xs?xs.q:0),"V"in xs){if(xs.V<1||xs.V>53)return null;"w"in xs||(xs.w=1),"Z"in xs?(Gd=QE(i2(xs.y,0,1)),Sg=Gd.getUTCDay(),Gd=Sg>4||Sg===0?Jm.ceil(Gd):Jm(Gd),Gd=vO.offset(Gd,(xs.V-1)*7),xs.y=Gd.getUTCFullYear(),xs.m=Gd.getUTCMonth(),xs.d=Gd.getUTCDate()+(xs.w+6)%7):(Gd=M3(i2(xs.y,0,1)),Sg=Gd.getDay(),Gd=Sg>4||Sg===0?Ac.ceil(Gd):Ac(Gd),Gd=A0.offset(Gd,(xs.V-1)*7),xs.y=Gd.getFullYear(),xs.m=Gd.getMonth(),xs.d=Gd.getDate()+(xs.w+6)%7)}else("W"in xs||"U"in xs)&&("w"in xs||(xs.w="u"in xs?xs.u%7:"W"in xs?1:0),Sg="Z"in xs?QE(i2(xs.y,0,1)).getUTCDay():M3(i2(xs.y,0,1)).getDay(),xs.m=0,xs.d="W"in xs?(xs.w+6)%7+xs.W*7-(Sg+5)%7:xs.w+xs.U*7-(Sg+6)%7);return"Z"in xs?(xs.H+=xs.Z/100|0,xs.M+=xs.Z%100,QE(xs)):M3(xs)}}function io(Xu,bf,Jf,xs){for(var ig=0,Gd=bf.length,Sg=Jf.length,M0,O_;ig<Gd;){if(xs>=Sg)return-1;if(M0=bf.charCodeAt(ig++),M0===37){if(M0=bf.charAt(ig++),O_=Da[M0 in BS?bf.charAt(ig++):M0],!O_||(xs=O_(Xu,Jf,xs))<0)return-1}else if(M0!=Jf.charCodeAt(xs++))return-1}return xs}function Os(Xu,bf,Jf){var xs=re.exec(bf.slice(Jf));return xs?(Xu.p=Ee[xs[0].toLowerCase()],Jf+xs[0].length):-1}function Hu(Xu,bf,Jf){var xs=Ht.exec(bf.slice(Jf));return xs?(Xu.w=Tn[xs[0].toLowerCase()],Jf+xs[0].length):-1}function Ds(Xu,bf,Jf){var xs=Ae.exec(bf.slice(Jf));return xs?(Xu.w=We[xs[0].toLowerCase()],Jf+xs[0].length):-1}function il(Xu,bf,Jf){var xs=ei.exec(bf.slice(Jf));return xs?(Xu.m=Jr[xs[0].toLowerCase()],Jf+xs[0].length):-1}function jl(Xu,bf,Jf){var xs=Fn.exec(bf.slice(Jf));return xs?(Xu.m=br[xs[0].toLowerCase()],Jf+xs[0].length):-1}function Ch(Xu,bf,Jf){return io(Xu,e,bf,Jf)}function f0(Xu,bf,Jf){return io(Xu,r,bf,Jf)}function yh(Xu,bf,Jf){return io(Xu,u,bf,Jf)}function Hl(Xu){return y[Xu.getDay()]}function Vh(Xu){return h[Xu.getDay()]}function U0(Xu){return U[Xu.getMonth()]}function yv(Xu){return M[Xu.getMonth()]}function AN(Xu){return d[+(Xu.getHours()>=12)]}function CN(Xu){return 1+~~(Xu.getMonth()/3)}function ON(Xu){return y[Xu.getUTCDay()]}function wN(Xu){return h[Xu.getUTCDay()]}function MN(Xu){return U[Xu.getUTCMonth()]}function RN(Xu){return M[Xu.getUTCMonth()]}function PN(Xu){return d[+(Xu.getUTCHours()>=12)]}function IN(Xu){return 1+~~(Xu.getUTCMonth()/3)}return{format:function(Xu){var bf=Va(Xu+="",zi);return bf.toString=function(){return Xu},bf},parse:function(Xu){var bf=va(Xu+="",!1);return bf.toString=function(){return Xu},bf},utcFormat:function(Xu){var bf=Va(Xu+="",ca);return bf.toString=function(){return Xu},bf},utcParse:function(Xu){var bf=va(Xu+="",!0);return bf.toString=function(){return Xu},bf}}}var BS={"-":"",_:" ",0:"0"},C0=/^\s*\d+/,_O=/^%/,bO=/[\\^$*+?|[\]().{}]/g;function Vf(t,e,r){var u=t<0?"-":"",d=(u?-t:t)+"",h=d.length;return u+(h<r?new Array(r-h+1).join(e)+d:d)}function EO(t){return t.replace(bO,"\\$&")}function a2(t){return new RegExp("^(?:"+t.map(EO).join("|")+")","i")}function i_(t){for(var e={},r=-1,u=t.length;++r<u;)e[t[r].toLowerCase()]=r;return e}function xO(t,e,r){var u=C0.exec(e.slice(r,r+1));return u?(t.w=+u[0],r+u[0].length):-1}function TO(t,e,r){var u=C0.exec(e.slice(r,r+1));return u?(t.u=+u[0],r+u[0].length):-1}function SO(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.U=+u[0],r+u[0].length):-1}function AO(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.V=+u[0],r+u[0].length):-1}function D4(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.W=+u[0],r+u[0].length):-1}function FS(t,e,r){var u=C0.exec(e.slice(r,r+4));return u?(t.y=+u[0],r+u[0].length):-1}function US(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.y=+u[0]+(+u[0]>68?1900:2e3),r+u[0].length):-1}function k4(t,e,r){var u=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return u?(t.Z=u[1]?0:-(u[2]+(u[3]||"00")),r+u[0].length):-1}function CO(t,e,r){var u=C0.exec(e.slice(r,r+1));return u?(t.q=u[0]*3-3,r+u[0].length):-1}function B4(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.m=u[0]-1,r+u[0].length):-1}function zS(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.d=+u[0],r+u[0].length):-1}function OO(t,e,r){var u=C0.exec(e.slice(r,r+3));return u?(t.m=0,t.d=+u[0],r+u[0].length):-1}function ZS(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.H=+u[0],r+u[0].length):-1}function wO(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.M=+u[0],r+u[0].length):-1}function zN(t,e,r){var u=C0.exec(e.slice(r,r+2));return u?(t.S=+u[0],r+u[0].length):-1}function F4(t,e,r){var u=C0.exec(e.slice(r,r+3));return u?(t.L=+u[0],r+u[0].length):-1}function U4(t,e,r){var u=C0.exec(e.slice(r,r+6));return u?(t.L=Math.floor(u[0]/1e3),r+u[0].length):-1}function R3(t,e,r){var u=_O.exec(e.slice(r,r+1));return u?r+u[0].length:-1}function z4(t,e,r){var u=C0.exec(e.slice(r));return u?(t.Q=+u[0],r+u[0].length):-1}function Z4(t,e,r){var u=C0.exec(e.slice(r));return u?(t.s=+u[0],r+u[0].length):-1}function MO(t,e){return Vf(t.getDate(),e,2)}function j4(t,e){return Vf(t.getHours(),e,2)}function H4(t,e){return Vf(t.getHours()%12||12,e,2)}function W4(t,e){return Vf(1+A0.count(Dp(t),t),e,3)}function RO(t,e){return Vf(t.getMilliseconds(),e,3)}function PO(t,e){return RO(t,e)+"000"}function IO(t,e){return Vf(t.getMonth()+1,e,2)}function LO(t,e){return Vf(t.getMinutes(),e,2)}function V4(t,e){return Vf(t.getSeconds(),e,2)}function G4(t){var e=t.getDay();return e===0?7:e}function Y4(t,e){return Vf(Df.count(Dp(t)-1,t),e,2)}function NO(t){var e=t.getDay();return e>=4||e===0?zu(t):zu.ceil(t)}function jS(t,e){return t=NO(t),Vf(zu.count(Dp(t),t)+(Dp(t).getDay()===4),e,2)}function DO(t){return t.getDay()}function kO(t,e){return Vf(Ac.count(Dp(t)-1,t),e,2)}function BO(t,e){return Vf(t.getFullYear()%100,e,2)}function FO(t,e){return t=NO(t),Vf(t.getFullYear()%100,e,2)}function UO(t,e){return Vf(t.getFullYear()%1e4,e,4)}function qE(t,e){var r=t.getDay();return t=r>=4||r===0?zu(t):zu.ceil(t),Vf(t.getFullYear()%1e4,e,4)}function zO(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vf(e/60|0,"0",2)+Vf(e%60,"0",2)}function JE(t,e){return Vf(t.getUTCDate(),e,2)}function ZO(t,e){return Vf(t.getUTCHours(),e,2)}function HS(t,e){return Vf(t.getUTCHours()%12||12,e,2)}function jO(t,e){return Vf(1+vO.count(r2(t),t),e,3)}function ex(t,e){return Vf(t.getUTCMilliseconds(),e,3)}function HO(t,e){return ex(t,e)+"000"}function F1(t,e){return Vf(t.getUTCMonth()+1,e,2)}function U1(t,e){return Vf(t.getUTCMinutes(),e,2)}function $4(t,e){return Vf(t.getUTCSeconds(),e,2)}function X4(t){var e=t.getUTCDay();return e===0?7:e}function tx(t,e){return Vf($E.count(r2(t)-1,t),e,2)}function WS(t){var e=t.getUTCDay();return e>=4||e===0?Wf(t):Wf.ceil(t)}function WO(t,e){return t=WS(t),Vf(Wf.count(r2(t),t)+(r2(t).getUTCDay()===4),e,2)}function VO(t){return t.getUTCDay()}function a_(t,e){return Vf(Jm.count(r2(t)-1,t),e,2)}function GO(t,e){return Vf(t.getUTCFullYear()%100,e,2)}function YO(t,e){return t=WS(t),Vf(t.getUTCFullYear()%100,e,2)}function K4(t,e){return Vf(t.getUTCFullYear()%1e4,e,4)}function Q4(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Wf(t):Wf.ceil(t),Vf(t.getUTCFullYear()%1e4,e,4)}function $O(){return"+0000"}function nx(){return"%"}function XO(t){return+t}function VS(t){return Math.floor(+t/1e3)}var O0,KO,QO,qO,JO;ew({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ew(t){return O0=yO(t),KO=O0.format,QO=O0.parse,qO=O0.utcFormat,JO=O0.utcParse,O0}var o2=1e3,rx=o2*60,z1=rx*60,ix=z1*24,tw=ix*7,nw=ix*30,rw=ix*365;function ZN(t){return new Date(t)}function GS(t){return t instanceof Date?+t:+new Date(+t)}function s2(t,e,r,u,d,h,y,M,U){var re=Jb(Jh,Jh),Ee=re.invert,Ae=re.domain,We=U(".%L"),Ht=U(":%S"),Tn=U("%I:%M"),Fn=U("%I %p"),br=U("%a %d"),ei=U("%b %d"),Jr=U("%B"),zi=U("%Y"),ca=[[y,1,o2],[y,5,5*o2],[y,15,15*o2],[y,30,30*o2],[h,1,rx],[h,5,5*rx],[h,15,15*rx],[h,30,30*rx],[d,1,z1],[d,3,3*z1],[d,6,6*z1],[d,12,12*z1],[u,1,ix],[u,2,2*ix],[r,1,tw],[e,1,nw],[e,3,3*nw],[t,1,rw]];function Da(va){return(y(va)<va?We:h(va)<va?Ht:d(va)<va?Tn:u(va)<va?Fn:e(va)<va?r(va)<va?br:ei:t(va)<va?Jr:zi)(va)}function Va(va,io,Os,Hu){if(va==null&&(va=10),typeof va=="number"){var Ds=Math.abs(Os-io)/va,il=Ky(function(jl){return jl[2]}).right(ca,Ds);il===ca.length?(Hu=N1(io/rw,Os/rw,va),va=t):il?(il=ca[Ds/ca[il-1][2]<ca[il][2]/Ds?il-1:il],Hu=il[1],va=il[0]):(Hu=Math.max(N1(io,Os,va),1),va=M)}return Hu==null?va:va.every(Hu)}return re.invert=function(va){return new Date(Ee(va))},re.domain=function(va){return arguments.length?Ae(m3.call(va,GS)):Ae().map(ZN)},re.ticks=function(va,io){var Os=Ae(),Hu=Os[0],Ds=Os[Os.length-1],il=Ds<Hu,jl;return il&&(jl=Hu,Hu=Ds,Ds=jl),jl=Va(va,Hu,Ds,io),jl=jl?jl.range(Hu,Ds+1):[],il?jl.reverse():jl},re.tickFormat=function(va,io){return io==null?Da:U(io)},re.nice=function(va,io){var Os=Ae();return(va=Va(va,Os[0],Os[Os.length-1],io))?Ae(Kr(Os,va)):re},re.copy=function(){return e_(re,s2(t,e,r,u,d,h,y,M,U))},re}function ax(){return Dg.apply(s2(Dp,$0,Df,A0,Qm,Bg,T3,YE,KO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function P3(){return initRange.apply(calendar(utcYear,utcMonth,utcWeek,utcDay,utcHour,utcMinute,utcSecond,utcMillisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ev(){var t=0,e=1,r,u,d,h,y=Jh,M=!1,U;function re(Ee){return isNaN(Ee=+Ee)?U:y(d===0?.5:(Ee=(h(Ee)-r)*d,M?Math.max(0,Math.min(1,Ee)):Ee))}return re.domain=function(Ee){return arguments.length?(r=h(t=+Ee[0]),u=h(e=+Ee[1]),d=r===u?0:1/(u-r),re):[t,e]},re.clamp=function(Ee){return arguments.length?(M=!!Ee,re):M},re.interpolator=function(Ee){return arguments.length?(y=Ee,re):y},re.unknown=function(Ee){return arguments.length?(U=Ee,re):U},function(Ee){return h=Ee,r=Ee(t),u=Ee(e),d=r===u?0:1/(u-r),re}}function Xv(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function YS(){var t=Wn(ev()(Jh));return t.copy=function(){return Xv(t,YS())},gO.apply(t,arguments)}function iw(){var t=loggish(ev()).domain([1,10]);return t.copy=function(){return Xv(t,iw()).base(t.base())},initInterpolator.apply(t,arguments)}function hp(){var t=symlogish(ev());return t.copy=function(){return Xv(t,hp()).constant(t.constant())},initInterpolator.apply(t,arguments)}function aw(){var t=powish(ev());return t.copy=function(){return Xv(t,aw()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function jN(){return aw.apply(null,arguments).exponent(.5)}function q4(){var t=[],e=identity;function r(u){if(!isNaN(u=+u))return e((bisect(t,u)-1)/(t.length-1))}return r.domain=function(u){if(!arguments.length)return t.slice();t=[];for(var d=0,h=u.length,y;d<h;++d)y=u[d],y!=null&&!isNaN(y=+y)&&t.push(y);return t.sort(ascending),r},r.interpolator=function(u){return arguments.length?(e=u,r):e},r.copy=function(){return q4(e).domain(t)},initInterpolator.apply(r,arguments)}function I3(){var t=0,e=.5,r=1,u,d,h,y,M,U=Jh,re,Ee=!1,Ae;function We(Ht){return isNaN(Ht=+Ht)?Ae:(Ht=.5+((Ht=+re(Ht))-d)*(Ht<d?y:M),U(Ee?Math.max(0,Math.min(1,Ht)):Ht))}return We.domain=function(Ht){return arguments.length?(u=re(t=+Ht[0]),d=re(e=+Ht[1]),h=re(r=+Ht[2]),y=u===d?0:.5/(d-u),M=d===h?0:.5/(h-d),We):[t,e,r]},We.clamp=function(Ht){return arguments.length?(Ee=!!Ht,We):Ee},We.interpolator=function(Ht){return arguments.length?(U=Ht,We):U},We.unknown=function(Ht){return arguments.length?(Ae=Ht,We):Ae},function(Ht){return re=Ht,u=Ht(t),d=Ht(e),h=Ht(r),y=u===d?0:.5/(d-u),M=d===h?0:.5/(h-d),We}}function ow(){var t=Wn(I3()(Jh));return t.copy=function(){return Xv(t,ow())},gO.apply(t,arguments)}function sw(){var t=loggish(I3()).domain([.1,1,10]);return t.copy=function(){return copy(t,sw()).base(t.base())},initInterpolator.apply(t,arguments)}function J4(){var t=symlogish(I3());return t.copy=function(){return copy(t,J4()).constant(t.constant())},initInterpolator.apply(t,arguments)}function uw(){var t=powish(I3());return t.copy=function(){return copy(t,uw()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function e6(){return uw.apply(null,arguments).exponent(.5)}function lw(t){let e,r=[];function u(d){return d==null?e:d}return u.invert=u,u.domain=u.range=d=>d?(r=d,d):r,u.unknown=d=>d?(e=d,d):e,u.copy=()=>lw(t).unknown(e),u}const{isNil:$S,isString:t6,uniq:n6}=yo,r6=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,cw={[Ua.LINEAR]:$r,[Ua.POWER]:Zl,[Ua.LOG]:vf,[Ua.IDENTITY]:lw,[Ua.SEQUENTIAL]:YS,[Ua.TIME]:ax,[Ua.QUANTILE]:Dd,[Ua.QUANTIZE]:kd,[Ua.THRESHOLD]:Y0,[Ua.CAT]:UE,[Ua.DIVERGING]:ow};class i6{constructor(){(0,me.Z)(this,"scaleOptions",{})}apply(e,{styleAttributeService:r}){var u=this;e.hooks.init.tapPromise("FeatureScalePlugin",(0,Ba.Z)(function*(){var d;e.log(Ei.ScaleInitStart,lo.INIT),u.scaleOptions=e.getScaleOptions();const h=r.getLayerStyleAttributes(),y=(d=e.getSource())===null||d===void 0?void 0:d.data.dataArray;Array.isArray(y)&&y.length===0||(u.caculateScalesForAttributes(h||[],y),e.log(Ei.ScaleInitEnd,lo.INIT))})),e.hooks.beforeRenderData.tapPromise("FeatureScalePlugin",function(){var d=(0,Ba.Z)(function*(h){if(!h)return h;e.log(Ei.ScaleInitStart,lo.UPDATE),u.scaleOptions=e.getScaleOptions();const y=r.getLayerStyleAttributes(),M=e.getSource().data.dataArray;return Array.isArray(M)&&M.length===0||(u.caculateScalesForAttributes(y||[],M),e.log(Ei.ScaleInitEnd,lo.UPDATE),e.layerModelNeedUpdate=!0),!0});return function(h){return d.apply(this,arguments)}}()),e.hooks.beforeRender.tap("FeatureScalePlugin",()=>{if(e.layerModelNeedUpdate)return;this.scaleOptions=e.getScaleOptions();const d=r.getLayerStyleAttributes(),h=e.getSource().data.dataArray;if(!(Array.isArray(h)&&h.length===0)&&d){const y=d.filter(M=>M.needRescale);y.length&&this.caculateScalesForAttributes(y,h)}})}isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}caculateScalesForAttributes(e,r){e.forEach(u=>{if(u.scale){const d=u.scale,h=u.scale.field;d.names=this.parseFields($S(h)?[]:h);const y=[];d.names.forEach(M=>{var U;y.push(this.createScale(M,u.name,(U=u.scale)===null||U===void 0?void 0:U.values,r))}),y.some(M=>M.type===No.VARIABLE)?(d.type=No.VARIABLE,y.forEach(M=>{if(!d.callback&&d.values!=="text"){var U;switch((U=M.option)===null||U===void 0?void 0:U.type){case Ua.LOG:case Ua.LINEAR:case Ua.POWER:if(d.values&&d.values.length>2){const Ee=M.scale.ticks(d.values.length);M.scale.domain(Ee)}d.values?M.scale.range(d.values):M.scale.range(M.option.domain);break;case Ua.QUANTILE:case Ua.QUANTIZE:case Ua.THRESHOLD:M.scale.range(d.values);break;case Ua.IDENTITY:break;case Ua.CAT:d.values?M.scale.range(d.values):M.scale.range(M.option.domain);break;case Ua.DIVERGING:case Ua.SEQUENTIAL:M.scale.interpolator(Xy(d.values));break}}if(d.values==="text"){var re;M.scale.range((re=M.option)===null||re===void 0?void 0:re.domain)}})):(d.type=No.CONSTANT,d.defaultValues=y.map((M,U)=>M.scale(d.names[U]))),d.scalers=y.map(M=>({field:M.field,func:M.scale,option:M.option})),u.needRescale=!1}})}parseFields(e){return Array.isArray(e)?e:t6(e)?e.split("*"):[e]}createScale(e,r,u,d){var h,y;const M=this.scaleOptions[r]&&((h=this.scaleOptions[r])===null||h===void 0?void 0:h.field)===e?this.scaleOptions[r]:this.scaleOptions[e],U={field:e,scale:void 0,type:No.VARIABLE,option:M};if(!d||!d.length)return M&&M.type?U.scale=this.createDefaultScale(M):(U.scale=UE([e]),U.type=No.CONSTANT),U;const re=(y=d.find(Ee=>!$S(Ee[e])))===null||y===void 0?void 0:y[e];if(this.isNumber(e)||$S(re)&&!M)U.scale=UE([e]),U.type=No.CONSTANT;else{let Ee=M&&M.type||this.getDefaultType(re);u==="text"&&(Ee=Ua.CAT),u===void 0&&(Ee=Ua.IDENTITY);const Ae=this.createScaleConfig(Ee,e,M,d);U.scale=this.createDefaultScale(Ae),U.option=Ae}return U}getDefaultType(e){let r=Ua.LINEAR;return typeof e=="string"&&(r=r6.test(e)?Ua.TIME:Ua.CAT),r}createScaleConfig(e,r,u,d){const h=(0,Ir.Z)((0,Ir.Z)({},u),{},{type:e});if(h!=null&&h.domain)return h;let y=[];if(e===Ua.QUANTILE){const M=new Map;d==null||d.forEach(U=>{M.set(U._id,U[r])}),y=Array.from(M.values())}else y=(d==null?void 0:d.map(M=>M[r]))||[];if(e===Ua.CAT||e===Ua.IDENTITY)h.domain=n6(y);else if(e===Ua.QUANTILE)h.domain=y;else if(e===Ua.DIVERGING){const M=I1(y),U=(u==null?void 0:u.neutral)!==void 0?u==null?void 0:u.neutral:(M[0]+M[1])/2;h.domain=[M[0],U,M[1]]}else h.domain=I1(y);return h}createDefaultScale({type:e,domain:r,unknown:u,clamp:d,nice:h}){const y=cw[e]();return r&&y.domain&&y.domain(r),u&&y.unknown(u),d!==void 0&&y.clamp&&y.clamp(d),h!==void 0&&y.nice&&y.nice(h),y}}class a6{apply(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",()=>{e.animateStatus&&e.models.forEach(u=>{u.addUniforms((0,Ir.Z)({},e.layerModel.getAnimateUniforms()))})})}}class fw{apply(e){e.hooks.afterInit.tap("LayerMaskPlugin",()=>{const{maskLayers:r,enableMask:u}=e.getLayerConfig();!e.tileLayer&&r&&r.length>0&&e.updateLayerConfig({mask:u})})}}class dw{build(e){return(0,Ba.Z)(function*(){e.prepareBuildModel(),yield e.buildModels()})()}initLayerModel(e){var r=this;return(0,Ba.Z)(function*(){yield r.build(e),e.styleNeedUpdate=!1})()}prepareLayerModel(e){var r=this;return(0,Ba.Z)(function*(){yield r.build(e),e.styleNeedUpdate=!1})()}apply(e){var r=this;e.hooks.init.tapPromise("LayerModelPlugin",(0,Ba.Z)(function*(){if(e.getSource().isTile){e.prepareBuildModel();return}e.log(Ei.BuildModelStart,lo.INIT),yield r.initLayerModel(e),e.log(Ei.BuildModelEnd,lo.INIT)})),e.hooks.beforeRenderData.tapPromise("LayerModelPlugin",function(){var u=(0,Ba.Z)(function*(d){return!d||e.getSource().isTile?!1:(e.log(Ei.BuildModelStart,lo.UPDATE),yield r.prepareLayerModel(e),e.log(Ei.BuildModelEnd,lo.UPDATE),!0)});return function(d){return u.apply(this,arguments)}}())}}class o6{apply(e){e.hooks.afterInit.tap("LayerStylePlugin",()=>{const{autoFit:r,fitBoundsOptions:u}=e.getLayerConfig();r&&e.fitBounds(u),e.styleNeedUpdate=!1})}}const hw=["type"],pw={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},s6={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},u6={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},l6={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function XS(t){const e={u_DirectionalLights:new Array(3).fill((0,Ir.Z)({},u6)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill((0,Ir.Z)({},l6)),u_NumOfSpotLights:0};return(!t||!t.length)&&(t=[s6]),t.forEach(r=>{let{type:u="directional"}=r,d=(0,Xh.Z)(r,hw);const h=pw[u].lights,y=pw[u].num,M=e[y];e[h][M]=(0,Ir.Z)((0,Ir.Z)({},e[h][M]),d),e[y]++}),e}class gw{apply(e){e.hooks.beforeRender.tap("LightingPlugin",()=>{const{enableLighting:r}=e.getLayerConfig();r&&e.models.forEach(u=>u.addUniforms((0,Ir.Z)({},XS())))})}}function KS(t){return t.map(e=>(typeof e=="string"&&(e=[e,{}]),e))}function L3(t,e,r,u){const d=t.multiPassRenderer;return d.add(u("render")),KS(e).forEach(h=>{const[y,M]=h;d.add(r(y),M)}),d.add(r("copy")),d}class QS{constructor(){(0,me.Z)(this,"enabled",void 0)}apply(e,{rendererService:r,postProcessingPassFactory:u,normalPassFactory:d}){e.hooks.init.tapPromise("MultiPassRendererPlugin",()=>{const{enableMultiPassRenderer:h,passes:y=[]}=e.getLayerConfig();this.enabled=!!h&&e.getLayerConfig().enableMultiPassRenderer!==!1,this.enabled&&(e.multiPassRenderer=L3(e,y,u,d),e.multiPassRenderer.setRenderFlag(!0))}),e.hooks.beforeRender.tap("MultiPassRendererPlugin",()=>{if(this.enabled){const{width:h,height:y}=r.getViewportSize();e.multiPassRenderer.resize(h,y)}})}}const Z1={POSITION:0,POSITION_64LOW:1,COLOR:2,PICKING_COLOR:3,STROKE:4,OPACITY:5,OFFSETS:6,ROTATION:7,MAX:8};function c6(t){switch(t){case"rotation":return{name:"Rotation",type:Ya.Attribute,descriptor:{name:"a_Rotation",shaderLocation:Z1.ROTATION,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{rotation:r=0}=e;return Array.isArray(r)?[r[0]]:[r]}}};case"stroke":return{name:"stroke",type:Ya.Attribute,descriptor:{name:"a_Stroke",shaderLocation:Z1.STROKE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:4,update:e=>{const{stroke:r=[1,1,1,1]}=e;return r}}};case"opacity":return{name:"opacity",type:Ya.Attribute,descriptor:{name:"a_Opacity",shaderLocation:Z1.OPACITY,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{opacity:r=1}=e;return[r]}}};case"offsets":return{name:"offsets",type:Ya.Attribute,descriptor:{name:"a_Offsets",shaderLocation:Z1.OFFSETS,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const{offsets:r}=e;return r}}};default:return}}const{isNumber:qS}=yo,o_={NONE:0,ENCODE:1,HIGHLIGHT:2};class f6{constructor(){(0,me.Z)(this,"pickingUniformMap",void 0)}pickOption2Array(){const e=[];return this.pickingUniformMap.forEach(r=>{qS(r)?e.push(r):e.push(...r)}),e}updatePickOption(e,r){Object.keys(e).forEach(y=>{this.pickingUniformMap.set(y,e[y])});const u=r.getLayerConfig().pickingBuffer||0,d=Number(r.getShaderPickStat());this.pickingUniformMap.set("u_PickingBuffer",u),this.pickingUniformMap.set("u_shaderPick",d),r.getPickingUniformBuffer().subData({offset:0,data:this.pickOption2Array()})}apply(e,{styleAttributeService:r}){this.pickingUniformMap=new Map([["u_HighlightColor",[1,0,0,1]],["u_SelectColor",[1,0,0,1]],["u_PickingColor",[0,0,0]],["u_PickingStage",0],["u_CurrentSelectedId",[0,0,0]],["u_PickingThreshold",10],["u_PickingBuffer",0],["u_shaderPick",0],["u_activeMix",0]]),e.hooks.init.tapPromise("PixelPickingPlugin",()=>{const{enablePicking:u}=e.getLayerConfig();r.registerStyleAttribute({name:"pickingColor",type:Ya.Attribute,descriptor:{name:"a_PickingColor",shaderLocation:Z1.PICKING_COLOR,buffer:{data:[],type:kt.FLOAT},size:3,update:d=>{const{id:h}=d;return u?ds(h):[0,0,0]}}})}),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:u}=e.getLayerConfig();u&&e.isVisible()&&(this.updatePickOption({u_PickingStage:o_.ENCODE},e),e.models.forEach(d=>d.addUniforms({u_PickingStage:o_.ENCODE})))}),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:u}=e.getLayerConfig();u&&e.isVisible()&&(this.updatePickOption({u_PickingStage:o_.HIGHLIGHT},e),e.models.forEach(d=>d.addUniforms({u_PickingStage:o_.HIGHLIGHT})))}),e.hooks.beforeHighlight.tap("PixelPickingPlugin",u=>{const{highlightColor:d,activeMix:h=0}=e.getLayerConfig(),y=typeof d=="string"?To(d):d||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Po(new Uint8Array(u))});const M={u_PickingStage:o_.HIGHLIGHT,u_PickingColor:u,u_HighlightColor:y.map(U=>U*255),u_activeMix:h};this.updatePickOption(M,e),e.models.forEach(U=>U.addUniforms(M))}),e.hooks.beforeSelect.tap("PixelPickingPlugin",u=>{const{selectColor:d,selectMix:h=0}=e.getLayerConfig(),y=typeof d=="string"?To(d):d||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Po(new Uint8Array(u))});const M={u_PickingStage:o_.HIGHLIGHT,u_PickingColor:u,u_HighlightColor:y.map(U=>U*255),u_activeMix:h,u_CurrentSelectedId:u,u_SelectColor:y.map(U=>U*255)};this.updatePickOption(M,e),e.models.forEach(U=>U.addUniforms(M))})}}const d6=["mvt","geojsonvt","testTile"];function h6(t){const e=t.getSource();return d6.includes(e.parser.type)}class N3{apply(e,{styleAttributeService:r}){e.hooks.init.tapPromise("RegisterStyleAttributePlugin",()=>{h6(e)||this.registerBuiltinAttributes(r,e)})}registerBuiltinAttributes(e,r){if(r.type==="MaskLayer"){this.registerPositionAttribute(e);return}this.registerPositionAttribute(e),this.registerColorAttribute(e)}registerPositionAttribute(e){e.registerStyleAttribute({name:"position",type:Ya.Attribute,descriptor:{name:"a_Position",shaderLocation:Z1.POSITION,buffer:{data:[],type:kt.FLOAT},size:3,update:(r,u,d)=>d.length===2?[d[0],d[1],0]:[d[0],d[1],d[2]]}})}registerColorAttribute(e){e.registerStyleAttribute({name:"color",type:Ya.Attribute,descriptor:{name:"a_Color",shaderLocation:Z1.COLOR,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:4,update:r=>{const{color:u}=r;return!u||!u.length?[1,1,1,1]:u}}})}}class mw{constructor(){(0,me.Z)(this,"cameraService",void 0),(0,me.Z)(this,"coordinateSystemService",void 0),(0,me.Z)(this,"rendererService",void 0),(0,me.Z)(this,"mapService",void 0),(0,me.Z)(this,"layerService",void 0)}apply(e,{rendererService:r,mapService:u,layerService:d,coordinateSystemService:h,cameraService:y}){this.rendererService=r,this.mapService=u,this.layerService=d,this.coordinateSystemService=h,this.cameraService=y;let M;this.rendererService.uniformBuffers[0]||(M=this.rendererService.createBuffer({data:new Float32Array(16*4+4*7),isUBO:!0,label:"renderUniformBuffer"}),this.rendererService.uniformBuffers[0]=M),e.hooks.beforeRender.tap("ShaderUniformPlugin",()=>{const U=e.getLayerConfig().tileOrigin;this.coordinateSystemService.refresh(U);const{width:re,height:Ee}=this.rendererService.getViewportSize(),{data:Ae,uniforms:We}=this.generateUBO(re,Ee);this.layerService.alreadyInRendering&&this.rendererService.uniformBuffers[0]&&this.rendererService.uniformBuffers[0].subData({offset:0,data:Ae}),this.rendererService.queryVerdorInfo()==="WebGL1"&&e.models.forEach(Tn=>{Tn.addUniforms((0,Ir.Z)((0,Ir.Z)({},We),{},{u_PickingBuffer:e.getLayerConfig().pickingBuffer||0,u_shaderPick:Number(e.getShaderPickStat())}))})})}generateUBO(e,r){const u=this.cameraService.getProjectionMatrix(),d=this.cameraService.getViewMatrix(),h=this.cameraService.getViewProjectionMatrix(),y=this.cameraService.getModelMatrix(),M=this.coordinateSystemService.getViewportCenterProjection(),U=this.coordinateSystemService.getPixelsPerDegree(),re=this.cameraService.getZoom(),Ee=this.coordinateSystemService.getPixelsPerDegree2(),Ae=this.cameraService.getZoomScale(),We=this.coordinateSystemService.getPixelsPerMeter(),Ht=this.coordinateSystemService.getCoordinateSystem(),Tn=this.cameraService.getCameraPosition(),Fn=window.devicePixelRatio,br=this.coordinateSystemService.getViewportCenter(),ei=[e,r],Jr=this.cameraService.getFocalDistance();return{data:[...d,...u,...h,...y,...M,...U,re,...Ee,Ae,...We,Ht,...Tn,Fn,...br,...ei,Jr,0,0,0],uniforms:{[Oi.ProjectionMatrix]:u,[Oi.ViewMatrix]:d,[Oi.ViewProjectionMatrix]:h,[Oi.Zoom]:re,[Oi.ZoomScale]:Ae,[Oi.FocalDistance]:Jr,[Oi.CameraPosition]:Tn,[Xr.CoordinateSystem]:Ht,[Xr.ViewportCenter]:br,[Xr.ViewportCenterProjection]:M,[Xr.PixelsPerDegree]:U,[Xr.PixelsPerDegree2]:Ee,[Xr.PixelsPerMeter]:We,u_ViewportSize:ei,u_ModelMatrix:y,u_DevicePixelRatio:Fn}}}}class JS{apply(e){e.hooks.beforeRender.tap("UpdateModelPlugin",()=>{e.layerModel&&e.layerModel.needUpdate().then(r=>{r&&e.renderLayers()})}),e.hooks.afterRender.tap("UpdateModelPlugin",()=>{e.layerModelNeedUpdate=!1})}}class vw{apply(e,{styleAttributeService:r}){e.hooks.init.tapPromise("UpdateStyleAttributePlugin",()=>{this.initStyleAttribute(e,{styleAttributeService:r})}),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",()=>{e.layerModelNeedUpdate||e.inited&&this.updateStyleAttribute(e,{styleAttributeService:r})})}updateStyleAttribute(e,{styleAttributeService:r}){const u=r.getLayerStyleAttributes()||[],d=r.getLayerStyleAttribute("filter");if(d&&d.needRegenerateVertices){e.layerModelNeedUpdate=!0,u.forEach(h=>h.needRegenerateVertices=!1);return}u.filter(h=>h.needRegenerateVertices).forEach(h=>{r.updateAttributeByFeatureRange(h.name,e.getEncodedData(),h.featureRange.startIndex,h.featureRange.endIndex,e),h.needRegenerateVertices=!1})}initStyleAttribute(e,{styleAttributeService:r}){(r.getLayerStyleAttributes()||[]).filter(d=>d.needRegenerateVertices).forEach(d=>{r.updateAttributeByFeatureRange(d.name,e.getEncodedData(),d.featureRange.startIndex,d.featureRange.endIndex),d.needRegenerateVertices=!1})}}function yw(){return[new Zc,new N3,new i6,new Vm,new o6,new fw,new vw,new JS,new QS,new mw,new a6,new gw,new f6,new dw]}const eA={[Fi.additive]:{enable:!0,func:{srcRGB:kt.ONE,dstRGB:kt.ONE,srcAlpha:1,dstAlpha:1}},[Fi.none]:{enable:!1},[Fi.normal]:{enable:!0,func:{srcRGB:kt.SRC_ALPHA,dstRGB:kt.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}},[Fi.subtractive]:{enable:!0,func:{srcRGB:kt.ONE,dstRGB:kt.ONE,srcAlpha:kt.ZERO,dstAlpha:kt.ONE_MINUS_SRC_COLOR},equation:{rgb:kt.FUNC_SUBTRACT,alpha:kt.FUNC_SUBTRACT}},[Fi.max]:{enable:!0,func:{srcRGB:kt.ONE,dstRGB:kt.ONE},equation:{rgb:kt.MAX_EXT}},[Fi.min]:{enable:!0,func:{srcRGB:kt.ONE,dstRGB:kt.ONE},equation:{rgb:kt.MIN_EXT}}};class _w{constructor(e){(0,me.Z)(this,"layer",void 0),this.layer=e}pickRender(e){const u=this.layer.getContainer().layerService,d=this.layer;if(d.tileLayer)return d.tileLayer.pickRender(e);d.hooks.beforePickingEncode.call(),u.renderTileLayerMask(d),d.renderModels({ispick:!0}),d.hooks.afterPickingEncode.call()}pick(e,r){var u=this;return(0,Ba.Z)(function*(){const h=u.layer.getContainer().pickingService;return e.type==="RasterLayer"?u.pickRasterLayer(e,r):(u.pickRender(r),h.pickFromPickingFBO(e,r))})()}pickRasterLayer(e,r,u){const d=this.layer.getContainer(),h=d.pickingService,y=d.mapService,M=this.layer.getSource().extent,U=Bc(r.lngLat,M),re={x:r.x,y:r.y,type:r.type,lngLat:r.lngLat,target:r,rasterValue:null},Ee=u||e;if(U){const Ae=this.readRasterValue(e,M,y,r.x,r.y);return re.rasterValue=Ae,h.triggerHoverOnLayer(Ee,re),!0}else return re.type=r.type==="mousemove"?"mouseout":"un"+r.type,h.triggerHoverOnLayer(Ee,(0,Ir.Z)((0,Ir.Z)({},re),{},{type:"unpick"})),h.triggerHoverOnLayer(Ee,re),!1}readRasterValue(e,r,u,d,h){const y=e.getSource().data.dataArray[0],[M=0,U=0,re=10,Ee=-10]=r,Ae=u.lngLatToContainer([M,U]),We=u.lngLatToContainer([re,Ee]),Ht=We.x-Ae.x,Tn=Ae.y-We.y,Fn=[(d-Ae.x)/Ht,(h-We.y)/Tn],br=y.width||1,ei=y.height||1,Jr=Math.floor(Fn[0]*br),zi=Math.floor(Fn[1]*ei),ca=Math.max(0,zi-1)*br+Jr;return y.data[ca]}selectFeature(e){const r=this.layer,[u,d,h]=e;r.hooks.beforeSelect.call([u,d,h])}highlightPickedFeature(e){const[r,u,d]=e;this.layer.hooks.beforeHighlight.call([r,u,d])}getFeatureById(e){return this.layer.getSource().getFeatureById(e)}}class bw{constructor(e){(0,me.Z)(this,"layer",void 0),(0,me.Z)(this,"rendererService",void 0),(0,me.Z)(this,"colorTexture",void 0),(0,me.Z)(this,"key",void 0),this.layer=e;const r=this.layer.getContainer();this.rendererService=r.rendererService}getColorTexture(e,r){const u=this.getTextureKey(e,r);return this.key===u?this.colorTexture:(this.createColorTexture(e,r),this.key=u,this.colorTexture)}createColorTexture(e,r){const{createTexture2D:u}=this.rendererService,d=this.getColorRampBar(e,r),h=u({data:new Uint8Array(d.data),width:d.width,height:d.height,flipY:!1,unorm:!0});return this.colorTexture=h,h}setColorTexture(e,r,u){this.key=this.getTextureKey(r,u),this.colorTexture=e}destroy(){var e;(e=this.colorTexture)===null||e===void 0||e.destroy()}getColorRampBar(e,r){switch(e.type){case"cat":return oo(e);case"quantize":return nu(e);case"custom":return wu(e,r);case"linear":return ks(e,r);default:return Za(e)}}getTextureKey(e,r){var u;return`${e.colors.join("_")}_${e==null||(u=e.positions)===null||u===void 0?void 0:u.join("_")}_${e.type}_${r==null?void 0:r.join("_")}`}}const p6=["passes"],g6=["moduleName","vertexShader","fragmentShader","defines","inject","triangulation","styleOption","pickingEnabled"],{isEqual:tA,isFunction:Ew,isNumber:D3,isObject:K0,isPlainObject:m6,isUndefined:nA}=yo;let rA=0;class zp extends yi.EventEmitter{get shaderModuleService(){return this.container.shaderModuleService}get cameraService(){return this.container.cameraService}get coordinateService(){return this.container.coordinateSystemService}get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get pickingService(){return this.container.pickingService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get interactionService(){return this.container.interactionService}get mapService(){var e;return(e=this.container)===null||e===void 0?void 0:e.mapService}get normalPassFactory(){return this.container.normalPassFactory}constructor(e={}){super(),(0,me.Z)(this,"id",`${rA++}`),(0,me.Z)(this,"name",`${rA}`),(0,me.Z)(this,"parent",void 0),(0,me.Z)(this,"coordCenter",void 0),(0,me.Z)(this,"type",void 0),(0,me.Z)(this,"visible",!0),(0,me.Z)(this,"zIndex",0),(0,me.Z)(this,"minZoom",void 0),(0,me.Z)(this,"maxZoom",void 0),(0,me.Z)(this,"inited",!1),(0,me.Z)(this,"layerModelNeedUpdate",!1),(0,me.Z)(this,"pickedFeatureID",null),(0,me.Z)(this,"selectedFeatureID",null),(0,me.Z)(this,"styleNeedUpdate",!1),(0,me.Z)(this,"rendering",void 0),(0,me.Z)(this,"forceRender",!1),(0,me.Z)(this,"clusterZoom",0),(0,me.Z)(this,"layerType",void 0),(0,me.Z)(this,"triangulation",void 0),(0,me.Z)(this,"layerPickService",void 0),(0,me.Z)(this,"textureService",void 0),(0,me.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}}),(0,me.Z)(this,"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),(0,me.Z)(this,"hooks",{init:new J2,afterInit:new ug,beforeRender:new ug,beforeRenderData:new by,afterRender:new dh,beforePickingEncode:new dh,afterPickingEncode:new dh,beforeHighlight:new dh(["pickedColor"]),afterHighlight:new dh,beforeSelect:new dh(["pickedColor"]),afterSelect:new dh,beforeDestroy:new dh,afterDestroy:new dh}),(0,me.Z)(this,"models",[]),(0,me.Z)(this,"multiPassRenderer",void 0),(0,me.Z)(this,"plugins",void 0),(0,me.Z)(this,"startInit",!1),(0,me.Z)(this,"sourceOption",void 0),(0,me.Z)(this,"layerModel",void 0),(0,me.Z)(this,"shapeOption",void 0),(0,me.Z)(this,"tileLayer",void 0),(0,me.Z)(this,"layerChildren",[]),(0,me.Z)(this,"masks",[]),(0,me.Z)(this,"configService",T1),(0,me.Z)(this,"styleAttributeService",void 0),(0,me.Z)(this,"layerSource",void 0),(0,me.Z)(this,"postProcessingPassFactory",void 0),(0,me.Z)(this,"animateOptions",{enable:!1}),(0,me.Z)(this,"container",void 0),(0,me.Z)(this,"encodedData",void 0),(0,me.Z)(this,"currentPickId",null),(0,me.Z)(this,"rawConfig",void 0),(0,me.Z)(this,"needUpdateConfig",void 0),(0,me.Z)(this,"encodeStyleAttribute",{}),(0,me.Z)(this,"enableShaderEncodeStyles",[]),(0,me.Z)(this,"enableDataEncodeStyles",[]),(0,me.Z)(this,"pendingStyleAttributes",[]),(0,me.Z)(this,"scaleOptions",{}),(0,me.Z)(this,"animateStartTime",void 0),(0,me.Z)(this,"animateStatus",!1),(0,me.Z)(this,"isDestroyed",!1),(0,me.Z)(this,"uniformBuffers",[]),(0,me.Z)(this,"encodeDataLength",0),(0,me.Z)(this,"sourceEvent",()=>{this.dataState.dataSourceNeedUpdate=!0;const r=this.getLayerConfig();r&&r.autoFit&&this.fitBounds(r.fitBoundsOptions),this.layerSource.getSourceCfg().autoRender&&setTimeout(()=>{this.reRender()},10)}),this.name=e.name||this.id,this.zIndex=e.zIndex||0,this.rawConfig=e,this.masks=e.maskLayers||[]}addMask(e){this.masks.push(e),this.updateLayerConfig({maskLayers:this.masks}),this.enableMask()}removeMask(e){const r=this.masks.indexOf(e);r>-1&&this.masks.splice(r,1),this.updateLayerConfig({maskLayers:this.masks})}disableMask(){this.updateLayerConfig({enableMask:!1})}enableMask(){this.updateLayerConfig({enableMask:!0})}addMaskLayer(e){this.masks.push(e)}removeMaskLayer(e){const r=this.masks.indexOf(e);r>-1&&this.masks.splice(r,1),e.destroy()}getAttribute(e){return this.styleAttributeService.getLayerStyleAttribute(e)}getLayerConfig(){return this.configService.getLayerConfig(this.id)}updateLayerConfig(e){if(Object.keys(e).map(r=>{r in this.rawConfig&&(this.rawConfig[r]=e[r])}),!this.startInit)this.needUpdateConfig=(0,Ir.Z)((0,Ir.Z)({},this.needUpdateConfig),e);else{const r=this.container.id;this.configService.setLayerConfig(r,this.id,(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}}setContainer(e){this.container=e}getContainer(){return this.container}addPlugin(e){return this.plugins.push(e),this}init(){var e=this;return(0,Ba.Z)(function*(){const r=e.container.id;e.startInit=!0,e.configService.setLayerConfig(r,e.id,e.rawConfig),e.layerType=e.rawConfig.layerType;const{enableMultiPassRenderer:u,passes:d}=e.getLayerConfig();u&&d!==null&&d!==void 0&&d.length&&d.length>0&&e.mapService.on("mapAfterFrameChange",()=>{e.renderLayers()}),e.postProcessingPassFactory=e.container.postProcessingPassFactory,e.styleAttributeService=e.container.styleAttributeService,u&&(e.multiPassRenderer=e.container.multiPassRenderer,e.multiPassRenderer.setLayer(e)),e.pendingStyleAttributes.forEach(({attributeName:h,attributeField:y,attributeValues:M,updateOptions:U})=>{e.styleAttributeService.updateStyleAttribute(h,{scale:(0,Ir.Z)({field:y},e.splitValuesAndCallbackInAttribute(M,y?void 0:e.getLayerConfig()[h]))},U)}),e.pendingStyleAttributes=[],e.plugins=yw();for(const h of e.plugins)h.apply(e,e.container);e.layerPickService=new _w(e),e.textureService=new bw(e),e.log(Ei.LayerInitStart),yield e.hooks.init.promise(),e.log(Ei.LayerInitEnd),e.inited=!0,e.emit("inited",{target:e,type:"inited"}),e.emit("add",{target:e,type:"add"}),e.hooks.afterInit.call()})()}log(e,r="init"){var u;if(this.tileLayer||this.isTileLayer)return;const d=`${this.id}.${r}.${e}`,h={id:this.id,type:this.type};(u=this.debugService)===null||u===void 0||u.log(d,h)}updateModelData(e){e.attributes&&e.elements?this.models.map(r=>{r.updateAttributesAndElements(e.attributes,e.elements)}):console.warn("data error")}setLayerPickService(e){this.layerPickService=e}prepareBuildModel(){Object.keys(this.needUpdateConfig||{}).length!==0&&this.updateLayerConfig({});const{animateOption:e}=this.getLayerConfig();e!=null&&e.enable&&(this.layerService.startAnimate(),this.animateStatus=!0)}color(e,r,u){return this.updateStyleAttribute("color",e,r,u),this}texture(e,r,u){return this.updateStyleAttribute("texture",e,r,u),this}rotate(e,r,u){return this.updateStyleAttribute("rotate",e,r,u),this}size(e,r,u){return this.updateStyleAttribute("size",e,r,u),this}filter(e,r,u){const d=this.updateStyleAttribute("filter",e,r,u);return this.dataState.dataSourceNeedUpdate=d&&this.inited,this}shape(e,r,u){this.shapeOption={field:e,values:r};const d=this.updateStyleAttribute("shape",e,r,u);return this.dataState.dataSourceNeedUpdate=d&&this.inited,this}label(e,r,u){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:r,updateOptions:u}),this}animate(e){let r={};return K0(e)?(r.enable=!0,r=(0,Ir.Z)((0,Ir.Z)({},r),e)):r.enable=e,this.updateLayerConfig({animateOption:r}),this}source(e,r){return(e==null?void 0:e.type)==="source"?(this.setSource(e),this):(this.sourceOption={data:e,options:r},this.clusterZoom=0,this)}setData(e,r){return this.inited?(this.dataUpdatelog(),this.layerSource.setData(e,r)):this.on("inited",()=>{this.dataUpdatelog(),this.layerSource.setData(e,r)}),this}dataUpdatelog(){this.log(Ei.SourceInitStart,lo.UPDATE),this.layerSource.once("update",()=>{this.log(Ei.SourceInitEnd,lo.UPDATE)})}style(e){const{passes:r}=e,u=(0,Xh.Z)(e,p6);r&&KS(r).forEach(h=>{const y=this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(h[0]);y&&y.updateOptions(h[1])}),u.borderColor&&(u.stroke=u.borderColor),u.borderWidth&&(u.strokeWidth=u.borderWidth);const d=u;return Object.keys(u).forEach(h=>{const y=u[h];Array.isArray(y)&&y.length===2&&!D3(y[0])&&!D3(y[1])&&(d[h]={field:y[0],value:y[1]})}),this.encodeStyle(d),this.updateLayerConfig(d),this}encodeStyle(e){Object.keys(e).forEach(r=>{[...this.enableShaderEncodeStyles,...this.enableDataEncodeStyles].includes(r)&&m6(e[r])&&(e[r].field||e[r].value)&&!tA(this.encodeStyleAttribute[r],e[r])?(this.encodeStyleAttribute[r]=e[r],this.updateStyleAttribute(r,e[r].field,e[r].value),this.inited&&(this.dataState.dataMappingNeedUpdate=!0)):this.encodeStyleAttribute[r]&&(delete this.encodeStyleAttribute[r],this.dataState.dataSourceNeedUpdate=!0)})}scale(e,r){const u=(0,Ir.Z)({},this.scaleOptions);if(K0(e)?this.scaleOptions=(0,Ir.Z)((0,Ir.Z)({},this.scaleOptions),e):this.scaleOptions[e]=r,this.styleAttributeService&&!tA(u,this.scaleOptions)){const d=K0(e)?e:{[e]:r};this.styleAttributeService.updateScaleAttribute(d)}return this}renderLayers(){this.rendering=!0,this.layerService.reRender(),this.rendering=!1}prerender(){}render(e={}){return this.tileLayer?(this.tileLayer.render(),this):(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender?this:(this.renderModels(e),this))}renderMultiPass(){var e=this;return(0,Ba.Z)(function*(){e.encodeDataLength<=0&&!e.forceRender||(e.multiPassRenderer&&e.multiPassRenderer.getRenderFlag()?yield e.multiPassRenderer.render():e.renderModels())})()}active(e){const r={};return r.enableHighlight=K0(e)?!0:e,K0(e)?(r.enableHighlight=!0,e.color&&(r.highlightColor=e.color),e.mix&&(r.activeMix=e.mix)):r.enableHighlight=!!e,this.updateLayerConfig(r),this}setActive(e,r){if(K0(e)){const{x:u=0,y:d=0}=e;this.updateLayerConfig({highlightColor:K0(r)?r.color:this.getLayerConfig().highlightColor,activeMix:K0(r)?r.mix:this.getLayerConfig().activeMix}),this.pick({x:u,y:d})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:K0(r)?r.color:this.getLayerConfig().highlightColor,activeMix:K0(r)?r.mix:this.getLayerConfig().activeMix}),this.hooks.beforeHighlight.call(ds(e)).then(()=>{setTimeout(()=>{this.reRender()},1)})}select(e){const r={};return r.enableSelect=K0(e)?!0:e,K0(e)?(r.enableSelect=!0,e.color&&(r.selectColor=e.color),e.mix&&(r.selectMix=e.mix)):r.enableSelect=!!e,this.updateLayerConfig(r),this}setSelect(e,r){if(K0(e)){const{x:u=0,y:d=0}=e;this.updateLayerConfig({selectColor:K0(r)?r.color:this.getLayerConfig().selectColor,selectMix:K0(r)?r.mix:this.getLayerConfig().selectMix}),this.pick({x:u,y:d})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:K0(r)?r.color:this.getLayerConfig().selectColor,selectMix:K0(r)?r.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(ds(e)).then(()=>{setTimeout(()=>{this.reRender()},1)})}setBlend(e){return this.updateLayerConfig({blend:e}),this.reRender(),this}show(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit("show"),this}hide(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit("hide"),this}setIndex(e){return this.zIndex=e,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}setCurrentPickId(e){this.currentPickId=e}getCurrentPickId(){return this.currentPickId}setCurrentSelectedId(e){this.selectedFeatureID=e}getCurrentSelectedId(){return this.selectedFeatureID}isVisible(){const e=this.mapService.getZoom(),{visible:r,minZoom:u=-1/0,maxZoom:d=1/0}=this.getLayerConfig();return!!r&&e>=u&&e<d}setMultiPass(e,r){if(this.updateLayerConfig({enableMultiPassRenderer:e}),r&&this.updateLayerConfig({passes:r}),e){const{passes:u=[]}=this.getLayerConfig();this.multiPassRenderer=L3(this,u,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);const{width:d,height:h}=this.rendererService.getViewportSize();this.multiPassRenderer.resize(d,h)}return this}setMinZoom(e){return this.updateLayerConfig({minZoom:e}),this}getMinZoom(){const{minZoom:e}=this.getLayerConfig();return e}getMaxZoom(){const{maxZoom:e}=this.getLayerConfig();return e}get(e){return this.getLayerConfig()[e]}setMaxZoom(e){return this.updateLayerConfig({maxZoom:e}),this}setAutoFit(e){return this.updateLayerConfig({autoFit:e}),this}fitBounds(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;const u=this.getSource().extent;return u.some(h=>Math.abs(h)===1/0)?this:(this.mapService.fitBounds([[u[0],u[1]],[u[2],u[3]]],e),this)}destroy(e=!0){var r,u,d,h,y;if(this.isDestroyed)return;(r=this.layerModel)===null||r===void 0||r.uniformBuffers.forEach(U=>{U.destroy()}),this.layerChildren.map(U=>U.destroy(!1)),this.layerChildren=[];const{maskfence:M}=this.getLayerConfig();M&&(this.masks.map(U=>U.destroy(!1)),this.masks=[]),this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),(u=this.multiPassRenderer)===null||u===void 0||u.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),(d=this.layerModel)===null||d===void 0||d.clearModels(e),(h=this.tileLayer)===null||h===void 0||h.destroy(),this.models=[],(y=this.debugService)===null||y===void 0||y.removeLog(this.id),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroyed=!0}clear(){this.styleAttributeService.clearAllAttributes()}clearModels(){var e;this.models.forEach(r=>r.destroy()),(e=this.layerModel)===null||e===void 0||e.clearModels(),this.models=[]}isDirty(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(e=>e.needRescale||e.needRemapping||e.needRegenerateVertices).length}setSource(e){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=e,this.clusterZoom=0,this.inited&&this.layerSource.cluster){const r=this.mapService.getZoom();this.layerSource.updateClusterData(r)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("update",({type:r})=>{if(this.coordCenter===void 0){const u=this.layerSource.center;this.coordCenter=u}if(r==="update"){if(this.tileLayer){this.tileLayer.reload();return}this.sourceEvent()}})}getSource(){return this.layerSource}getScaleOptions(){return this.scaleOptions}setEncodedData(e){this.encodedData=e,this.encodeDataLength=e.length}getEncodedData(){return this.encodedData}getScale(e){return this.styleAttributeService.getLayerAttributeScale(e)}getLegend(e){var r,u,d;const h=this.styleAttributeService.getLayerStyleAttribute(e);return{type:(u=((h==null||(r=h.scale)===null||r===void 0?void 0:r.scalers)||[])[0])===null||u===void 0||(u=u.option)===null||u===void 0?void 0:u.type,field:h==null||(d=h.scale)===null||d===void 0?void 0:d.field,items:this.getLegendItems(e)}}getLegendItems(e){const r=this.styleAttributeService.getLayerAttributeScale(e);return r?r.invertExtent?r.range().map(d=>({value:r.invertExtent(d),[e]:d})):r.ticks?r.ticks().map(d=>({value:d,[e]:r(d)})):r!=null&&r.domain?r.domain().filter(d=>!nA(d)).map(d=>({value:d,[e]:r(d)})):[]:[]}pick({x:e,y:r}){this.interactionService.triggerHover({x:e,y:r})}boxSelect(e,r){this.pickingService.boxPickLayer(this,e,r)}buildLayerModel(e){var r=this;return(0,Ba.Z)(function*(){const{moduleName:u,vertexShader:d,fragmentShader:h,defines:y,inject:M,triangulation:U,styleOption:re,pickingEnabled:Ee=!0}=e,Ae=(0,Xh.Z)(e,g6);r.shaderModuleService.registerModule(u,{vs:d,fs:h,defines:y,inject:M});const{vs:We,fs:Ht,uniforms:Tn}=r.shaderModuleService.getModule(u),{createModel:Fn}=r.rendererService;return new Promise(br=>{const{attributes:ei,elements:Jr,count:zi}=r.styleAttributeService.createAttributesAndIndices(r.encodedData,U,re,r),ca=[...r.layerModel.uniformBuffers,...r.rendererService.uniformBuffers];Ee&&ca.push(r.getPickingUniformBuffer());const Da=(0,Ir.Z)({attributes:ei,uniforms:Tn,fs:Ht,vs:We,elements:Jr,blend:eA[Fi.normal],uniformBuffers:ca,textures:r.layerModel.textures},Ae);zi&&(Da.count=zi);const Va=Fn(Da);br(Va)})})()}createAttributes(e){const{triangulation:r}=e,{attributes:u}=this.styleAttributeService.createAttributes(this.encodedData,r);return u}getTime(){return this.layerService.clock.getDelta()}setAnimateStartTime(){this.animateStartTime=this.layerService.clock.getElapsedTime()}stopAnimate(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}getLayerAnimateTime(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}needPick(e){const{enableHighlight:r=!0,enableSelect:u=!0}=this.getLayerConfig();let d=this.eventNames().indexOf(e)!==-1||this.eventNames().indexOf("un"+e)!==-1;return(e==="click"||e==="dblclick")&&u&&(d=!0),e==="mousemove"&&(r||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(d=!0),this.isVisible()&&d}buildModels(){return(0,Ba.Z)(function*(){throw new Error("Method not implemented.")})()}rebuildModels(){var e=this;return(0,Ba.Z)(function*(){yield e.buildModels()})()}renderMulPass(e){return(0,Ba.Z)(function*(){yield e.render()})()}renderModels(e={}){return this.encodeDataLength<=0&&!this.forceRender?(this.clearModels(),this):(this.hooks.beforeRender.call(),this.models.forEach(r=>{r.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e),textures:this.layerModel.textures},(e==null?void 0:e.ispick)||!1)}),this.hooks.afterRender.call(),this)}updateStyleAttribute(e,r,u,d){const h=this.configService.getAttributeConfig(this.id)||{};return tA(h[e],{field:r,values:u})?!1:(["color","size","texture","rotate","filter","label","shape"].indexOf(e)!==-1&&this.configService.setAttributeConfig(this.id,{[e]:{field:r,values:u}}),this.startInit?this.styleAttributeService.updateStyleAttribute(e,{scale:(0,Ir.Z)({field:r},this.splitValuesAndCallbackInAttribute(u,this.getLayerConfig()[r]))},d):this.pendingStyleAttributes.push({attributeName:e,attributeField:r,attributeValues:u,updateOptions:d}),!0)}getLayerAttributeConfig(){return this.configService.getAttributeConfig(this.id)}getShaderPickStat(){return this.layerService.getShaderPickStat()}setEarthTime(e){console.warn("empty fn")}processData(e){return e}getModelType(){throw new Error("Method not implemented.")}getDefaultConfig(){return{}}initLayerModels(){var e=this;return(0,Ba.Z)(function*(){e.models.forEach(u=>u.destroy()),e.models=[],e.uniformBuffers.forEach(u=>{u.destroy()}),e.uniformBuffers=[];const r=e.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0,label:"pickingUniforms"});e.uniformBuffers.push(r),e.models=yield e.layerModel.initModels()})()}getPickingUniformBuffer(){return this.uniformBuffers[0]}reRender(){this.inited&&this.layerService.reRender()}splitValuesAndCallbackInAttribute(e){return{values:Ew(e)?void 0:e,callback:Ew(e)?e:void 0}}}function iA(t,e){return{enable:t,mask:255,func:{cmp:kt.EQUAL,ref:e?1:0,mask:1}}}function v6(t){return t.maskOperation===eo.OR?{enable:!0,mask:255,func:{cmp:kt.ALWAYS,ref:1,mask:255},opFront:{fail:kt.KEEP,zfail:kt.REPLACE,zpass:kt.REPLACE}}:{enable:!0,mask:255,func:{cmp:t.stencilType===ma.SINGLE||t.stencilIndex===0?kt.ALWAYS:kt.LESS,ref:t.stencilType===ma.SINGLE?1:t.stencilIndex===0?2:1,mask:255},opFront:{fail:kt.KEEP,zfail:kt.REPLACE,zpass:kt.REPLACE}}}const y6={opacity:1,stroke:[1,0,0,1],offsets:[0,0],rotation:0,extrusionBase:0,strokeOpacity:1,thetaOffset:.314},u2={opacity:"float",stroke:"vec4",offsets:"vec2",textOffset:"vec2",rotation:"float",extrusionBase:"float",strokeOpacity:"float",thetaOffset:"float"};var xw=A(75734),j1=A.n(xw);function Tw(t){return Math.max(Math.ceil(t/4)*4,4)}function aA(t,e,r,u=!0){const d=r===3;if(u){t=t.slice();const y=[];for(let M=0;M<t.length;M+=r){y[0]=t[M],y[1]=t[M+1],d&&(y[2]=t[M+2]);const U=al(y,!0,{enable:!1,decimal:1});t[M]=U[0],t[M+1]=U[1],d&&(t[M+2]=U[2])}}return j1()(t,e,r)}const oA="ATTRIBUTE_LOCATION_";class Nc{get attributeLocation(){return(0,Ir.Z)({},Z1)}constructor(e){(0,me.Z)(this,"triangulation",void 0),(0,me.Z)(this,"uniformBuffers",[]),(0,me.Z)(this,"textures",[]),(0,me.Z)(this,"createTexture2D",void 0),(0,me.Z)(this,"preStyleAttribute",{}),(0,me.Z)(this,"encodeStyleAttribute",{}),(0,me.Z)(this,"layer",void 0),(0,me.Z)(this,"dataTexture",void 0),(0,me.Z)(this,"DATA_TEXTURE_WIDTH",void 0),(0,me.Z)(this,"dataTextureTest",void 0),(0,me.Z)(this,"configService",void 0),(0,me.Z)(this,"shaderModuleService",void 0),(0,me.Z)(this,"rendererService",void 0),(0,me.Z)(this,"iconService",void 0),(0,me.Z)(this,"fontService",void 0),(0,me.Z)(this,"styleAttributeService",void 0),(0,me.Z)(this,"mapService",void 0),(0,me.Z)(this,"cameraService",void 0),(0,me.Z)(this,"layerService",void 0),(0,me.Z)(this,"pickingService",void 0),(0,me.Z)(this,"attributeUnifoms",void 0),(0,me.Z)(this,"commonUnifoms",void 0),this.layer=e,this.configService=e.getContainer().globalConfigService,this.rendererService=e.getContainer().rendererService,this.pickingService=e.getContainer().pickingService,this.shaderModuleService=e.getContainer().shaderModuleService,this.styleAttributeService=e.getContainer().styleAttributeService,this.mapService=e.getContainer().mapService,this.iconService=e.getContainer().iconService,this.fontService=e.getContainer().fontService,this.cameraService=e.getContainer().cameraService,this.layerService=e.getContainer().layerService,this.registerStyleAttribute(),this.registerBuiltinAttributes(),this.startModelAnimate();const{createTexture2D:r}=this.rendererService;this.createTexture2D=r}getBlend(){const{blend:e="normal"}=this.layer.getLayerConfig();return eA[Fi[e]]}getStencil(e){const{mask:r=!1,maskInside:u=!0,enableMask:d,maskOperation:h=eo.AND}=this.layer.getLayerConfig();if(this.layer.type==="MaskLayer")return v6({isStencil:!0,stencilType:ma.SINGLE});if(e.isStencil)return v6((0,Ir.Z)((0,Ir.Z)({},e),{},{maskOperation:h}));const y=r||d&&this.layer.masks.length!==0||this.layer.tileMask!==void 0;return iA(y,u)}getDefaultStyle(){return{}}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());this.updateStyleUnifoms();const u=(0,Ir.Z)((0,Ir.Z)({},r.uniformsOption),e.uniformsOption);return Object.keys(u).forEach(d=>{typeof u[d]=="boolean"&&(u[d]=u[d]?1:0)}),!this.rendererService.hasOwnProperty("device")&&this.textures&&this.textures.length===1&&(u.u_texture=this.textures[0]),u}getAnimateUniforms(){return{}}needUpdate(){return(0,Ba.Z)(function*(){return!1})()}buildModels(){return(0,Ba.Z)(function*(){throw new Error("Method not implemented.")})()}initModels(){return(0,Ba.Z)(function*(){throw new Error("Method not implemented.")})()}clearModels(e=!0){}getAttribute(){throw new Error("Method not implemented.")}prerender(){}render(e){throw new Error("Method not implemented.")}registerBuiltinAttributes(){throw new Error("Method not implemented.")}animateOption2Array(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1]}startModelAnimate(){const{animateOption:e}=this.layer.getLayerConfig();e.enable&&this.layer.setAnimateStartTime()}getInject(){return _6(this.layer.enableShaderEncodeStyles,this.layer.encodeStyleAttribute)}getDefines(){const e=Object.keys(this.attributeLocation).reduce((r,u)=>{const d=oA+u;return r[d]=this.attributeLocation[u],r},{});return(0,Ir.Z)({},e)}getStyleAttribute(){const e={};return this.layer.enableShaderEncodeStyles.forEach(r=>{if(!this.layer.encodeStyleAttribute[r]){const u=this.layer.getLayerConfig()[r];let d=typeof u=="undefined"?y6[r]:u;r==="stroke"&&(d=To(d)),e["u_"+r]=d}}),e}registerStyleAttribute(){Object.keys(this.layer.encodeStyleAttribute).forEach(e=>{const r=c6(e);r&&this.styleAttributeService.registerStyleAttribute(r)})}registerPosition64LowAttribute(e=!0){this.styleAttributeService.registerStyleAttribute({name:"position64Low",type:Ya.Attribute,descriptor:{name:"a_Position64Low",shaderLocation:this.attributeLocation.POSITION_64LOW,buffer:{data:[],type:kt.FLOAT},size:2,update:(r,u,d)=>e?[Mo(d[0]),Mo(d[1])]:[0,0]}})}updateEncodeAttribute(e,r){this.encodeStyleAttribute[e]=r}initUniformsBuffer(){const e=this.getUniformsBufferInfo(this.getStyleAttribute()),r=this.getCommonUniformsInfo();e.uniformsLength!==0&&(this.attributeUnifoms=this.rendererService.createBuffer({data:new Float32Array(Tw(e.uniformsLength)).fill(0),isUBO:!0,label:"layerModelAttributeUnifoms"}),this.uniformBuffers.push(this.attributeUnifoms)),r.uniformsLength!==0&&(this.commonUnifoms=this.rendererService.createBuffer({data:new Float32Array(Tw(r.uniformsLength)).fill(0),isUBO:!0,label:"layerModelCommonUnifoms"}),this.uniformBuffers.push(this.commonUnifoms))}getUniformsBufferInfo(e){let r=0;const u=[];return Object.values(e).forEach(d=>{Array.isArray(d)?(u.push(...d),r+=d.length):typeof d=="number"?(u.push(d),r+=1):typeof d=="boolean"&&(u.push(Number(d)),r+=1)}),{uniformsOption:e,uniformsLength:r,uniformsArray:u}}getCommonUniformsInfo(){return{uniformsLength:0,uniformsArray:[],uniformsOption:{}}}updateStyleUnifoms(){var e,r;const{uniformsArray:u}=this.getUniformsBufferInfo(this.getStyleAttribute()),{uniformsArray:d}=this.getCommonUniformsInfo();(e=this.attributeUnifoms)===null||e===void 0||e.subData({offset:0,data:new Uint8Array(new Float32Array(u).buffer)}),(r=this.commonUnifoms)===null||r===void 0||r.subData({offset:0,data:new Uint8Array(new Float32Array(d).buffer)})}}function _6(t,e){const r=[];let u="";t.forEach(y=>{const M=y.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase(),U=oA+M;e[y]?u+=`#define USE_ATTRIBUTE_${M} 0.0 
`:r.push(`  ${u2[y]} u_${y};`),u+=`
#ifdef USE_ATTRIBUTE_${M}
layout(location = ${U}) in ${u2[y]} a_${y.charAt(0).toUpperCase()+y.slice(1)};
#endif 
`});const d=r.length?`
layout(std140) uniform AttributeUniforms {
  ${r.join(`
`)}
};
`:"";u+=d;let h="";return t.forEach(y=>{const M=y.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase();h+=`
  #ifdef USE_ATTRIBUTE_${M}
    ${u2[y]} ${y} = a_${y.charAt(0).toUpperCase()+y.slice(1)};
  #else
    ${u2[y]} ${y} = u_${y};
  #endif
  `}),{"vs:#decl":u,"fs:#decl":d,"vs:#main-start":h}}let Sw=function(t){return t[t.solid=0]="solid",t[t.dash=1]="dash",t}({}),k3=function(t){return t.VERTICAL="vertical",t.HORIZONTAL="horizontal",t}({}),b6=function(t){return t.NORMAL="normal",t.REPLACE="replace",t}({}),ox=function(t){return t[t.pixel=0]="pixel",t[t.meter=1]="meter",t}({}),Aw=function(t){return t.ALWAYS="always",t.DRAGEND="dragend",t}({});const sx={canvas2d:"2d",webgl:"webgl",webgl2:"webgl2",webgpu:"webgpu"};class E6 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"canvas",null),(0,me.Z)(this,"ctx",void 0),(0,me.Z)(this,"ctxType",void 0),(0,me.Z)(this,"viewportSize",void 0),(0,me.Z)(this,"initCanvas",()=>{var r,u,d,h,y;const{zIndex:M,getContext:U}=this.layerConfig,re=document.createElement("canvas"),Ee=this.layer.getModelType();this.canvas=re,re.classList.add("l7-canvas-layer"),re.style.position="absolute",re.style.top="0",re.style.left="0",re.style.zIndex=String(M),this.resetCanvasSize();const Ae=(r=(u=(d=this.mapService).getCanvasOverlays)===null||u===void 0?void 0:u.call(d))!==null&&r!==void 0?r:(h=(y=this.mapService).getMapCanvasContainer)===null||h===void 0?void 0:h.call(y);Ae==null||Ae.appendChild(re),this.ctx=U?U(re):re.getContext(sx[Ee]),this.ctx||console.error("Failed to get rendering context for canvas"),this.bindListeners()}),(0,me.Z)(this,"resetViewportSize",()=>{const{width:r,height:u}=this.rendererService.getViewportSize();this.viewportSize=[r,u]}),(0,me.Z)(this,"resetCanvasSize",()=>{const r=this.canvas;if(!r)return;this.resetViewportSize();const[u,d]=this.mapService.getSize(),[h,y]=this.viewportSize;r.width=h,r.height=y,r.style.width=u+"px",r.style.height=d+"px"}),(0,me.Z)(this,"renderCanvas",()=>{var r;this.canvas||this.initCanvas();const{draw:u,drawingOnCanvas:d}=this.layerConfig,[h,y]=this.viewportSize,M=this.mapService.getBounds();(r=u!=null?u:d)===null||r===void 0||r({canvas:this.canvas,ctx:this.ctx,container:{width:h,height:y,bounds:M},size:[h,y],utils:{lngLatToContainer:this.lngLatToContainer},mapService:this.mapService})}),(0,me.Z)(this,"removeCanvas",()=>{if(this.canvas){var r;(r=this.canvas.parentElement)===null||r===void 0||r.removeChild(this.canvas),this.canvas=null}this.unbindListeners()}),(0,me.Z)(this,"onMapResize",()=>{requestAnimationFrame(()=>{this.resetCanvasSize(),this.renderCanvas()})}),(0,me.Z)(this,"lngLatToContainer",r=>{const{x:u,y:d}=this.mapService.lngLatToContainer(r);return{x:u*window.devicePixelRatio,y:d*window.devicePixelRatio}})}get layerConfig(){return this.layer.getLayerConfig()}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.renderCanvas(),[]})()}bindListeners(){this.mapService.on("resize",this.onMapResize);const{trigger:e,update:r}=this.layerConfig;r===Aw.ALWAYS||e==="change"?this.mapService.on("mapchange",this.renderCanvas):(this.mapService.on("zoomstart",this.removeCanvas),this.mapService.on("zoomend",this.renderCanvas),this.mapService.on("movestart",this.removeCanvas),this.mapService.on("moveend",this.renderCanvas))}unbindListeners(){this.mapService.off("resize",this.onMapResize),this.mapService.off("mapchange",this.renderCanvas),this.mapService.off("zoomstart",this.removeCanvas),this.mapService.off("zoomend",this.renderCanvas),this.mapService.off("movestart",this.removeCanvas),this.mapService.off("moveend",this.renderCanvas)}registerBuiltinAttributes(){}}class x6 extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","CanvasLayer")}getDefaultConfig(){return{zIndex:3,contextType:"canvas2d",trigger:"change"}}buildModels(){var e=this;return(0,Ba.Z)(function*(){e.layerModel=new E6(e),yield e.initLayerModels()})()}getModelType(){return this.getLayerConfig().contextType||"canvas2d"}draw(e){return this.updateLayerConfig({draw:e}),this.render(),this}getLayerConfig(){const e=(0,Ir.Z)((0,Ir.Z)({},this.getDefaultConfig()),super.getLayerConfig());return e.zIndex<3&&(e.zIndex=3),e}render(){var e;return(e=this.layerModel)===null||e===void 0||e.renderCanvas(),this}getCanvas(){var e;return(e=this.layerModel)===null||e===void 0?void 0:e.canvas}show(){const e=this.getCanvas();return e&&(e.style.display="unset"),this}hide(){const e=this.getCanvas();return e&&(e.style.display="none"),this}destroy(){this.layerModel.removeCanvas(),super.destroy()}}var Ju=A(54442);const B3=100,Cw=36,T6=40;function Ow(t){return t/180*Math.acos(-1)}function F3(t){const e=Ow(t[0])+Math.PI/2,r=Ow(t[1]),u=B3+Math.random()*.4,d=u*Math.cos(r)*Math.cos(e),h=u*Math.cos(r)*Math.sin(e),y=u*Math.sin(r);return[h,y,d]}function sA(t,e){const r=qo.create(),u=qo.create(),d=Ju.al(0,1,0),h=Ju.al(0,0,0);e=e||{},t=typeof t!="undefined"?t:1;const M=2+(typeof e.segments!="undefined"?e.segments:32),U=2*M,re=[],Ee=[],Ae=[],We=[],Ht=[],Tn=[];for(let Fn=0;Fn<=M;Fn++){const br=Fn/M,ei=br*Math.PI;for(let Jr=0;Jr<=U;Jr++){const zi=Jr/U,ca=zi*Math.PI*2;qo.identity(u),qo.rotateZ(u,u,-ei),qo.identity(r),qo.rotateY(r,r,ca),Ju.fF(h,d,u),Ju.fF(h,h,r),Ju.bA(h,h,-t),Ae.push(h.slice()),We.push(...h.slice()),Ju.Fv(h,h),Ht.push(...h.slice()),Tn.push([zi,1-br]),We.push(zi,1-br)}if(Fn>0){const Jr=Ae.length;let zi=Jr-2*(U+1);for(;zi+U+2<Jr;zi++)re.push([zi,zi+1,zi+U+1]),Ee.push(zi,zi+1,zi+U+1),re.push([zi+U+1,zi+1,zi+U+2]),Ee.push(zi+U+1,zi+1,zi+U+2)}}return{cells:re,positions:Ae,uvs:Tn,positionsArr:We,indicesArr:Ee,normalArr:Ht}}var Cc=A(38015);const uA=Cc.Ue(),HN=Cc.Ue(),gg=Cc.Ue(),l2=Cc.Ue(),U3=Cc.Ue();function ww(t,e,r,u,d){Cc.IH(t,r,u),Cc.Fv(t,t),e=Cc.al(-t[1],t[0]);const h=Cc.al(-r[1],r[0]);return[d/Cc.AK(e,h),e]}function Kv(t,e){return Cc.t8(t,-e[1],e[0])}function z3(t,e,r){return Cc.lu(t,e,r),Cc.Fv(t,t),t}function Mw(t,e){return t[0]===e[0]&&t[1]===e[1]}function S6(t){const e=new Map;for(let r=0;r<t.length;r++){const u=t[0].toString()+"-"+t[1].toString();e.get(u)?(t.splice(r,1),r++):e.set(u,u)}return t}class Rw{constructor(e={}){(0,me.Z)(this,"complex",void 0),(0,me.Z)(this,"join",void 0),(0,me.Z)(this,"cap",void 0),(0,me.Z)(this,"miterLimit",void 0),(0,me.Z)(this,"thickness",void 0),(0,me.Z)(this,"normal",void 0),(0,me.Z)(this,"lastFlip",-1),(0,me.Z)(this,"miter",Cc.al(0,0)),(0,me.Z)(this,"started",!1),(0,me.Z)(this,"dash",!1),(0,me.Z)(this,"totalDistance",0),(0,me.Z)(this,"currentIndex",0),this.join=e.join||"miter",this.cap=e.cap||"butt",this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}simpleExtrude(e){const r=this.complex;if(e.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const u=e.length;let d=r.startIndex;for(let h=1;h<u;h++){const y=e[h-1],M=e[h],U=h<e.length-1?e[h+1]:null,re=this.simpleSegment(r,d,y,M,U);d+=re}if(this.dash)for(let h=0;h<r.positions.length/6;h++)r.positions[h*6+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}extrude(e){const r=this.complex;if(e.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const u=e.length;let d=r.startIndex;for(let h=1;h<u;h++){const y=e[h-1],M=e[h],U=h<e.length-1?e[h+1]:null,re=this.segment(r,d,y,M,U);d+=re}if(this.dash)for(let h=0;h<r.positions.length/6;h++)r.positions[h*6+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}simpleSegment(e,r,u,d,h){let y=0;const M=e.indices,U=e.positions,re=e.normals,Ee=Ru([d[0],d[1]]),Ae=Ru([u[0],u[1]]);z3(gg,Ee,Ae);let We=0;if(this.dash&&(We=this.lineSegmentDistance(Ee,Ae),this.totalDistance+=We),this.normal||(this.normal=Cc.Ue(),Kv(this.normal,gg)),this.started||(this.started=!0,this.extrusions(U,re,u,this.normal,this.thickness,this.totalDistance-We)),M.push(r+0,r+1,r+2),!h)Kv(this.normal,gg),this.extrusions(U,re,d,this.normal,this.thickness,this.totalDistance),M.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),y+=2;else{const Ht=Ru([h[0],h[1]]);Mw(Ee,Ht)&&Cc.IH(Ht,Ee,Cc.Fv(Ht,Cc.$X(Ht,Ee,Ae))),z3(l2,Ht,Ee);const[Tn,Fn]=ww(U3,Cc.Ue(),gg,l2,this.thickness);let br=Cc.AK(U3,this.normal)<0?-1:1;this.extrusions(U,re,d,Fn,Tn,this.totalDistance),M.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),br=-1,Cc.JG(this.normal,Fn),y+=2,this.lastFlip=br}return y}segment(e,r,u,d,h){let y=0;const M=e.indices,U=e.positions,re=e.normals,Ee=this.cap==="square",Ae=this.join==="bevel",We=Ru([d[0],d[1]]),Ht=Ru([u[0],u[1]]);z3(gg,We,Ht);let Tn=0;if(this.dash&&(Tn=this.lineSegmentDistance(We,Ht),this.totalDistance+=Tn),this.normal||(this.normal=Cc.Ue(),Kv(this.normal,gg)),!this.started)if(this.started=!0,Ee){const Fn=Cc.Ue(),br=Cc.Ue();Cc.IH(Fn,this.normal,gg),Cc.IH(br,this.normal,gg),re.push(br[0],br[1],0),re.push(Fn[0],Fn[1],0),U.push(u[0],u[1],u[2]|0,this.totalDistance-Tn,-this.thickness,u[2]|0),this.complex.indexes.push(this.currentIndex),U.push(u[0],u[1],u[2]|0,this.totalDistance-Tn,this.thickness,u[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(U,re,u,this.normal,this.thickness,this.totalDistance-Tn);if(M.push(r+0,r+1,r+2),h){const Fn=Ru([h[0],h[1]]);Mw(We,Fn)&&Cc.IH(Fn,We,Cc.Fv(Fn,Cc.$X(Fn,We,Ht))),z3(l2,Fn,We);const[br,ei]=ww(U3,Cc.Ue(),gg,l2,this.thickness);let Jr=Cc.AK(U3,this.normal)<0?-1:1,zi=Ae;!zi&&this.join==="miter"&&br>this.miterLimit&&(zi=!0),zi?(re.push(this.normal[0],this.normal[1],0),re.push(ei[0],ei[1],0),U.push(d[0],d[1],d[2]|0,this.totalDistance,-this.thickness*Jr,d[2]|0),this.complex.indexes.push(this.currentIndex),U.push(d[0],d[1],d[2]|0,this.totalDistance,this.thickness*Jr,d[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,M.push(...this.lastFlip!==-Jr?[r,r+2,r+3]:[r+2,r+1,r+3]),M.push(r+2,r+3,r+4),Kv(uA,l2),Cc.JG(this.normal,uA),re.push(this.normal[0],this.normal[1],0),U.push(d[0],d[1],d[2]|0,this.totalDistance,-this.thickness*Jr,d[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,y+=3):(this.extrusions(U,re,d,ei,br,this.totalDistance),M.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),Jr=-1,Cc.JG(this.normal,ei),y+=2),this.lastFlip=Jr}else{if(Kv(this.normal,gg),Ee){const Fn=Cc.Ue(),br=Cc.Ue();Cc.lu(br,gg,this.normal),Cc.IH(Fn,gg,this.normal),re.push(br[0],br[1],0),re.push(Fn[0],Fn[1],0),U.push(d[0],d[1],d[2]|0,this.totalDistance,this.thickness,d[2]|0),this.complex.indexes.push(this.currentIndex),U.push(d[0],d[1],d[2]|0,this.totalDistance,this.thickness,d[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(U,re,d,this.normal,this.thickness,this.totalDistance);M.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),y+=2}return y}extrusions(e,r,u,d,h,y){r.push(d[0],d[1],0),r.push(d[0],d[1],0),e.push(u[0],u[1],u[2]|0,y,-h,u[2]|0),this.complex.indexes.push(this.currentIndex),e.push(u[0],u[1],u[2]|0,y,h,u[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}lineSegmentDistance(e,r){const u=r[0]-e[0],d=r[1]-e[1];return Math.sqrt(u*u+d*d)}}let ux=function(t){return t.CYLINDER="cylinder",t.SQUARECOLUMN="squareColumn",t.TRIANGLECOLUMN="triangleColumn",t.HEXAGONCOLUMN="hexagonColumn",t.PENTAGONCOLUMN="pentagonColumn",t}({}),lx=function(t){return t.CIRCLE="circle",t.SQUARE="square",t.TRIANGLE="triangle",t.HEXAGON="hexagon",t.PENTAGON="pentagon",t}({});function Qv(t,e=0){const r=Math.PI*2/t,u=[];for(let h=0;h<t;h++)u.push(r*h+e*Math.PI/12);return u.map(h=>{const y=Math.sin(h+Math.PI/4),M=Math.cos(h+Math.PI/4);return[y,M,0]})}function Z3(){return Qv(30)}function lA(){return Qv(4)}function j3(){return Qv(3)}function Pw(){return Qv(6,1)}function cA(){return Qv(5)}const c2={[lx.CIRCLE]:Z3,[lx.HEXAGON]:Pw,[lx.TRIANGLE]:j3,[lx.SQUARE]:lA,[lx.PENTAGON]:cA,[ux.CYLINDER]:Z3,[ux.HEXAGONCOLUMN]:Pw,[ux.TRIANGLECOLUMN]:j3,[ux.SQUARECOLUMN]:lA,[ux.PENTAGONCOLUMN]:cA};function Iw(t){const e=t[0][0],r=t[0][t[0].length-1];e[0]===r[0]&&e[1]===r[1]&&(t[0]=t[0].slice(0,t[0].length-1));const u=t[0].length,d=j1().flatten(t),{vertices:h,dimensions:y}=d,M=[],U=[];for(let Ee=0;Ee<h.length/y;Ee++)y===2?M.push(h[Ee*2],h[Ee*2+1],1):M.push(h[Ee*3],h[Ee*3+1],1);const re=j1()(d.vertices,d.holes,d.dimensions);U.push(...re);for(let Ee=0;Ee<u;Ee++){const Ae=d.vertices.slice(Ee*y,(Ee+1)*y);let We=d.vertices.slice((Ee+1)*y,(Ee+2)*y);We.length===0&&(We=d.vertices.slice(0,y));const Ht=M.length/3;M.push(Ae[0],Ae[1],1,We[0],We[1],1,Ae[0],Ae[1],0,We[0],We[1],0),U.push(...[0,2,1,2,3,1].map(Tn=>Tn+Ht))}return{positions:M,index:U}}function Lw(t){const e=j1().flatten(t),r=j1()(e.vertices,e.holes,e.dimensions);return{positions:e.vertices,index:r}}function fA(t,e=!1){const r=t[0][0],u=t[0][t[0].length-1];r[0]===u[0]&&r[1]===u[1]&&(t[0]=t[0].slice(0,t[0].length-1));const d=t[0].length,h=j1().flatten(t),{vertices:y,dimensions:M,holes:U}=h,re=[],Ee=[],Ae=[];for(let Ht=0;Ht<y.length/M;Ht++)re.push(y[Ht*M],y[Ht*M+1],1,-1,-1),Ae.push(0,0,1);const We=aA(y,U,M,e);Ee.push(...We);for(let Ht=0;Ht<d;Ht++){const Tn=h.vertices.slice(Ht*M,(Ht+1)*M);let Fn=h.vertices.slice((Ht+1)*M,(Ht+2)*M);Fn.length===0&&(Fn=h.vertices.slice(0,M));const br=re.length/5;re.push(Tn[0],Tn[1],1,0,0,Fn[0],Fn[1],1,.1,0,Tn[0],Tn[1],0,0,.8,Fn[0],Fn[1],0,.1,.8);const ei=A6([Fn[0],Fn[1],1],[Tn[0],Tn[1],0],[Tn[0],Tn[1],1],e);Ae.push(...ei,...ei,...ei,...ei),Ee.push(...[1,2,0,3,2,1].map(Jr=>Jr+br))}return{positions:re,index:Ee,normals:Ae}}function A6(t,e,r,u=!1){const d=Ju.Ue(),h=Ju.Ue(),y=Ju.Ue();u&&(t=al(t),e=al(e),r=al(r));const M=Ju.al(...t),U=Ju.al(...e),re=Ju.al(...r);Ju.lu(d,re,U),Ju.lu(h,M,U),Ju.kC(y,d,h);const Ee=Ju.Ue();return Ju.Fv(Ee,y),Ee}const H3={};function H1(t){const e=Mc(t.coordinates);return{vertices:[...e,...e,...e,...e],indices:[0,1,2,2,3,0],size:e.length}}function Nw(t){const e=Mc(t.coordinates),r=F3(e);return{vertices:[...r,...r,...r,...r],indices:[0,1,2,2,3,0],size:r.length}}function dA(t){const{shape:e}=t,{positions:r,index:u,normals:d}=Uw(e,!1);return{vertices:r,indices:u,normals:d,size:5}}function f2(t){const e=Mc(t.coordinates);return{vertices:[...e],indices:[0],size:e.length}}function s_(t){const{coordinates:e}=t,r=new Rw({dash:!0,join:"bevel"});let u=e;u[0]&&!Array.isArray(u[0][0])&&(u=[e]),u.forEach(h=>{r.extrude(h)});const d=r.complex;return{vertices:d.positions,indices:d.indices,normals:d.normals,indexes:d.indexes,size:6}}function Dw(t){const e=t.coordinates.flat(),r=1,u=1;return{vertices:[1,0,0,...e,1,2,-3,...e,1,1,-3,...e,0,1,0,...e,0,0,0,...e,1,0,0,...e,1,2,-3,...e,1,1,-3,...e,0,1,0,...e,0,0,0,...e],normals:[-r,2*u,1,2*u,-u,1,u,-u,1,u,-u,1,-r,-u,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7}}function C6(t){const{coordinates:e}=t,r=[];if(!Array.isArray(e[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};const{results:u,totalDistance:d}=Bw(e);return u.map(h=>{r.push(h[0],h[1],h[2],h[3],0,d)}),{vertices:r,indices:[],normals:[],size:6,count:u.length}}function WN(t){const{coordinates:e}=t,r=[];if(!Array.isArray(e[0]))return{vertices:[],indices:[],size:4,count:0};const{results:u}=O6(e);return u.map(d=>{r.push(d[0],d[1],d[2],d[3])}),{vertices:r,indices:[],size:4,count:u.length}}function kw(t,e){const r=e[0]-t[0],u=e[1]-t[1];return Math.sqrt(r*r+u*u)}function d2(t,e){return t.length<3&&t.push(0),e!==void 0&&t.push(e),t}function Bw(t){let e=t;Array.isArray(e)&&Array.isArray(e[0])&&Array.isArray(e[0][0])&&(e=t.flat());let r=0;if(e.length<2)return{results:e,totalDistance:0};{const u=[],d=d2(e[0],r);u.push(d);for(let y=1;y<e.length-1;y++){const M=kw(Ru(e[y-1]),Ru(e[y]));r+=M;const U=d2(e[y],r);u.push(U),u.push(U)}const h=kw(Ru(e[e.length-2]),Ru(e[e.length-1]));return r+=h,u.push(d2(e[e.length-1],r)),{results:u,totalDistance:r}}}function O6(t){if(t.length<2)return{results:t};{const e=[],r=d2(t[0]);e.push(r);for(let u=1;u<t.length-1;u++){const d=d2(t[u]);e.push(d),e.push(d)}return e.push(d2(t[t.length-1])),{results:e}}}function h2(t){const{coordinates:e}=t,r=j1().flatten(e),{vertices:u,dimensions:d,holes:h}=r;return{indices:aA(u,h,d),vertices:u,size:d}}function w6(t){const{indices:e,vertices:r,size:u}=h2(t);return{indices:e,vertices:Fw(r),size:u+4}}function Fw(t){const e=[],{center:r,radius:u}=Uc(t);for(let d=0;d<t.length;d+=2){const h=t[d],y=t[d+1];e.push(h,y,0,...r,u)}return e}function W3(t){const e=t.coordinates,{positions:r,index:u,normals:d}=fA(e,!0);return{vertices:r,indices:u,normals:d,size:5}}function V3(t){const{shape:e}=t,{positions:r,index:u}=G3(e);return{vertices:r,indices:u,size:3}}function cx(t){const e=t.coordinates;return{vertices:[...e[0],0,0,0,...e[1],0,1,0,...e[2],0,1,1,...e[3],0,0,1],indices:[0,1,2,0,2,3],size:5}}function hA(t,e){const{segmentNumber:r=30}=e,u=t.coordinates,d=[],h=[];for(let y=0;y<r;y++)d.push(y,1,y,u[0][0],u[0][1],u[1][0],u[1][1],y,-1,y,u[0][0],u[0][1],u[1][0],u[1][1]),y!==r-1&&h.push(...[0,1,2,1,3,2].map(M=>y*2+M));return{vertices:d,indices:h,size:7}}function pA(t){const e=t.coordinates;e.length===2&&e.push(0);const r=fx(-1,1),u=fx(1,1),d=fx(-1,-1),h=fx(1,-1);return{vertices:[...e,...r,...e,...d,...e,...h,...e,...u],indices:[0,1,2,3,0,2],size:5}}function Uw(t,e=!1){if(H3&&H3[t])return H3[t];const r=c2[t]?c2[t]():c2.cylinder(),u=fA([r],e);return H3[t]=u,u}function M6(t,e,r=3,u=!1){const d=new Float32Array(t.length/r*3);let h,y,M;const U=vec3.create(),re=vec3.create(),Ee=vec3.create();for(let Ae=0,We=e.length;Ae<We;Ae+=3){h=e[Ae+0]*3,y=e[Ae+1]*3,M=e[Ae+2]*3;let Ht=[t[h],t[h+1]],Tn=[t[y],t[y+1]],Fn=[t[M],t[M+1]];u&&(Ht=lngLatToMeters(Ht),Tn=lngLatToMeters(Tn),Fn=lngLatToMeters(Fn));const[br,ei]=Ht,Jr=vec3.fromValues(br,ei,t[h+2]),[zi,ca]=Tn,Da=vec3.fromValues(zi,ca,t[y+2]),[Va,va]=Fn,io=vec3.fromValues(Va,va,t[M+2]);vec3.sub(U,io,Da),vec3.sub(re,Jr,Da),vec3.cross(Ee,U,re),d[h]+=U[0],d[h+1]+=U[1],d[h+2]+=U[2],d[y]+=U[0],d[y+1]+=U[1],d[y+2]+=U[2],d[M]+=U[0],d[M+1]+=U[1],d[M+2]+=U[2]}return R6(d),d}function R6(t){for(let e=0,r=t.length;e<r;e+=3){const u=vec3.fromValues(t[e],t[e+1],t[e+2]),d=vec3.create();vec3.normalize(d,u),t.set(d,e)}}function VN(t){const e=t[0][0],r=t[0][t[0].length-1];return e[0]===r[0]&&e[1]===r[1]}function G3(t){const e=["cylinder","triangleColumn","hexagonColumn","squareColumn"],r=c2[t]?c2[t]():c2.circle();return e.indexOf(t)===-1?Lw([r]):Iw([r])}function fx(t,e){const r=(t+1)/2,u=(e+1)/2;return[r,u]}function gA(){const t=sA(B3,{segments:Cw}),{positionsArr:e,indicesArr:r,normalArr:u}=t;return{vertices:e,indices:r,size:5,normals:u}}function P6(){const t=sA(B3+T6,{segments:Cw}),{positionsArr:e,indicesArr:r,normalArr:u}=t;return{vertices:e,indices:r,size:5,normals:u}}const I6=`precision highp float;
layout(std140) uniform commonUniforms {
  vec4 u_baseColor: [ 1.0, 0, 0, 1.0 ];
  vec4 u_brightColor: [ 1.0, 0, 0, 1.0 ];
  vec4 u_windowColor: [ 1.0, 0, 0, 1.0 ];
  vec4 u_circleSweepColor;
  vec2 u_cityCenter;
  float u_circleSweep;
  float u_cityMinSize;
  float u_circleSweepSpeed;
  float u_opacity: 1.0;
  float u_near: 0;
  float u_far: 1;
  float u_time;
};
in vec4 v_Color;
in vec2 v_texCoord;
in float v_worldDis;
out vec4 outputColor;

#pragma include "picking"
#pragma include "scene_uniforms"

vec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {
    float s = step(hot, n);
    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);

    return mix(darkColor, color, s);
}
float random (vec2 st) {
    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);
}

float LinearizeDepth()
{
    float z = gl_FragCoord.z * 2.0 - 1.0;
    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));
}

vec3 fog(vec3 color, vec3 fogColor, float depth){
    float fogFactor=clamp(depth,0.0,1.0);
    vec3 output_color=mix(fogColor,color,fogFactor);
    return output_color;
}

float sdRect(vec2 p, vec2 sz) {
  vec2 d = abs(p) - sz;
  float outside = length(max(d, 0.));
  float inside = min(max(d.x, d.y), 0.);
  return outside + inside;
}

void main() {
  outputColor = v_Color;
  vec3 baseColor = u_baseColor.xyz;
  vec3 brightColor = u_brightColor.xyz;
  vec3 windowColor = u_windowColor.xyz;
  float targetColId = 5.;
  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;
  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);
  if(v_texCoord.x < 0.) { //\u9876\u90E8\u989C\u8272
       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);
       outputColor = vec4( foggedColor, v_Color.w);
  }else { // \u4FA7\u9762\u989C\u8272
        vec2 st = v_texCoord;
        vec2  UvScale = v_texCoord;
        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));
        float tStart = 0.25 * tStep;
        float tEnd = 0.75 * tStep;
        float u = mod(UvScale.x, tStep);
        float v = mod(UvScale.y, tStep);
        float ux = floor(UvScale.x/tStep);
        float uy = floor(UvScale.y/tStep);
        float n = random(vec2(ux,uy));
        float lightP = u_time;
        float head = 1.0- step(0.005,st.y);
        /*step3*/
        // \u5C06\u7A97\u6237\u989C\u8272\u548C\u5899\u9762\u989C\u8272\u533A\u522B\u5F00\u6765
        float sU = step(tStart, u) - step(tEnd, u);
        float sV = step(tStart, v) - step(tEnd, v);
        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));
        float dist = sdRect(vec2(u,v), windowSize);
        float s = sU * sV;

        float curColId = floor(UvScale.x / tStep);
        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);

        float mLightP = mod(lightP, 2.);
        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);
        if(ux == targetColId){
            n =0.;
        }
        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );
        float hot = smoothstep(1.0,0.0,timeP);
        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);
        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);
        float sFinal = s * sCol * sRow;
        color += mix(baseColor, brightColor, sFinal*n);
        if (st.y<0.01){
        color = baseColor;
         }
        if(head ==1.0) { // \u9876\u90E8\u4EAE\u7EBF
            color = brightColor;
        }
        color = color * v_Color.rgb;

        vec3 foggedColor = fog(color,fogColor,depth);

        outputColor = vec4(foggedColor,1.0);
  }


  if(u_circleSweep > 0.0 && v_worldDis < u_cityMinSize) {
    float r = fract(((v_worldDis/u_cityMinSize) - u_time * u_circleSweepSpeed) * 2.0);
    outputColor.rgb += r * r * u_circleSweepColor.rgb;
  }

  outputColor.a *= u_opacity;
  outputColor = filterColor(outputColor);
}
`,Y3=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

out vec2 v_texCoord;
out vec4 v_Color;
out float v_worldDis;

layout(std140) uniform commonUniforms {
  vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];
  vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];
  vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];
  vec4 u_circleSweepColor;
  vec2 u_cityCenter;
  float u_circleSweep;
  float u_cityMinSize;
  float u_circleSweepSpeed;
  float u_opacity: 1.0;
  float u_near : 0;
  float u_far : 1;
  float u_time;
};
#pragma include "projection"
#pragma include "light"
#pragma include "picking"


void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

   v_texCoord = a_Uv;

  if(u_circleSweep > 0.0) {
     vec2 lnglatscale = vec2(0.0);
    lnglatscale = (a_Position.xy - u_cityCenter) * vec2(0.0, 0.135);
    v_worldDis = length(a_Position.xy + lnglatscale - u_cityCenter);
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  float lightWeight = calc_lighting(pos);
  // v_Color = a_Color;
  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  setPickingColor(a_PickingColor);
}
`;class zw extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"cityCenter",void 0),(0,me.Z)(this,"cityMinSize",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11})}getCommonUniformsInfo(){const{opacity:e=1,baseColor:r="rgb(16,16,16)",brightColor:u="rgb(255,176,38)",windowColor:d="rgb(30,60,89)",time:h=0,sweep:y={enable:!1,sweepRadius:1,sweepColor:"rgb(255, 255, 255)",sweepSpeed:.4,sweepCenter:this.cityCenter}}=this.layer.getLayerConfig(),M={u_baseColor:To(r),u_brightColor:To(u),u_windowColor:To(d),u_circleSweepColor:[...To(y.sweepColor).slice(0,3),1],u_cityCenter:y.sweepCenter||this.cityCenter,u_circleSweep:y.enable?1:0,u_cityMinSize:this.cityMinSize*y.sweepRadius,u_circleSweepSpeed:y.sweepSpeed,u_opacity:e,u_near:0,u_far:1,u_time:this.layer.getLayerAnimateTime()||h};return this.getUniformsBufferInfo(M)}calCityGeo(){const[e,r,u,d]=this.layer.getSource().extent,h=u-e,y=d-r;this.cityCenter=[(u+e)/2,(d+r)/2],this.cityMinSize=Math.sqrt(Math.pow(h,2)+Math.pow(y,2))/4}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.calCityGeo(),e.initUniformsBuffer(),e.startModelAnimate(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return[yield e.layer.buildLayerModel({moduleName:"cityBuilding",vertexShader:Y3,fragmentShader:I6,triangulation:W3,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:kt.BACK}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=10}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}class Zw extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","CityBuildingLayer")}buildModels(){var e=this;return(0,Ba.Z)(function*(){e.layerModel=new zw(e),yield e.initLayerModels()})()}setLight(e){this.updateLayerConfig({time:e})}getModelType(){return"citybuilding"}}const u_=`layout(std140) uniform commonUniforms {
 vec2 u_size;
 float u_raisingHeight;
 float u_rotation;
 float u_opacity;
};

uniform sampler2D u_texture;

in vec2 v_uv;
out vec4 outputColor;

#pragma include "picking"
void main() {
  outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));
  outputColor.a *= u_opacity;
  outputColor = filterColor(outputColor);
}
`,L6=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_size;
  float u_raisingHeight;
  float u_rotation;
  float u_opacity;
};

out vec2 v_uv;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"
void main() {
  vec3 extrude = a_Extrude;
  v_uv = a_Uv;
  float raiseHeight = u_raisingHeight;
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    raiseHeight = u_raisingHeight * mapboxZoomScale;
  }

  // \u8BA1\u7B97\u7ECF\u7EAC\u5EA6\u70B9\u4F4D\u5750\u6807
  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));

  // \u8BA1\u7B97\u7ED5 z \u8F74\u65CB\u8F6C\u540E\u7684\u504F\u79FB
  vec2 offsetXY = project_pixel(rotate_matrix(vec2(extrude.x * u_size.x, 0.0), u_rotation));
  // \u7ED5 z \u8F74\u65CB\u8F6C
  float x = project_pos.x + offsetXY.x;
  float y = project_pos.y + offsetXY.y;
  // z \u8F74\u4E0D\u53C2\u4E0E\u65CB\u8F6C
  float z = project_pixel(extrude.y * u_size.y + raiseHeight);

  gl_Position = project_common_position_to_clipspace(vec4(x, y, z, 1.0));

  setPickingColor(a_PickingColor);
}
`;class N6 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"radian",0),(0,me.Z)(this,"planeGeometryTriangulation",()=>{const{center:r=[120,30]}=this.layer.getLayerConfig();return{size:4,indices:[0,1,2,2,3,0],vertices:[...r,1,1,...r,0,1,...r,0,0,...r,1,0]}})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,EXTRUDE:9,UV:10})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e,width:r=1,height:u=1,raisingHeight:d=0}=this.layer.getLayerConfig();let h=1;this.mapService.getType()==="amap"&&(h=-1),this.radian=h*Math.PI*(this.mapService.getRotation()%360)/180;const y={u_size:[r,u],u_raisingHeight:Number(d),u_rotation:this.radian,u_opacity:e||1,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(y)}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy()}initModels(){var e=this;return(0,Ba.Z)(function*(){const{drawCanvas:r}=e.layer.getLayerConfig(),{createTexture2D:u}=e.rendererService;return e.texture=u({height:0,width:0}),r&&e.updateTexture(r),e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"geometryBillboard",vertexShader:L6,fragmentShader:u_,triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:kt.TRIANGLES,depth:{enable:!0}})]})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initModels()})()}updateTexture(e){const{createTexture2D:r}=this.rendererService,{canvasWidth:u=1,canvasHeight:d=1}=this.layer.getLayerConfig(),h=document.createElement("canvas");h.width=u,h.height=d,h.getContext("2d")&&(e(h),this.texture=r({data:h,width:h.width,height:h.height,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE}),this.layerService.reRender())}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Ya.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d)=>{const h=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],y=d%4*3;return[h[y],h[y+1],h[y+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[2],u[3]]}})}}const D6=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_mapFlag;
  float u_terrainClipHeight;
};

in vec3 v_Color;
in vec2 v_uv;
in float v_clip;
out vec4 outputColor;

#pragma include "picking"
void main() {
  if (u_mapFlag > 0.0) {
    outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));
    outputColor.a *= u_opacity;
  } else {
    outputColor = vec4(v_Color, u_opacity);
  }
  outputColor.a *= v_clip;
  outputColor = filterColor(outputColor);
}
`,k6=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_mapFlag;
  float u_terrainClipHeight;
};

out vec3 v_Color;
out vec2 v_uv;
out float v_clip;

#pragma include "projection"
#pragma include "picking"
void main() {
  v_Color = a_Color;
  v_uv = a_Uv;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  v_clip = 1.0;
  if (a_Position.z < u_terrainClipHeight) {
    v_clip = 0.0;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));

  setPickingColor(a_PickingColor);
}
`;class B6 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"terrainImage",void 0),(0,me.Z)(this,"terrainImageLoaded",!1),(0,me.Z)(this,"mapTexture",void 0),(0,me.Z)(this,"planeGeometryTriangulation",()=>{const{width:r=1,height:u=1,widthSegments:d=1,heightSegments:h=1,center:y=[120,30],terrainTexture:M,rgb2height:U=(Ae,We,Ht)=>Ae+We+Ht}=this.layer.getLayerConfig(),{indices:re,positions:Ee}=this.initPlane(r,u,d,h,...y);return M?this.translateVertex(Ee,re,this.terrainImage,d,h,U):{vertices:Ee,indices:re,size:5}})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:10})}initPlane(e=1,r=1,u=1,d=1,h=120,y=30){const M=e/2,U=r/2,re=Math.floor(u),Ee=Math.floor(d),Ae=re+1,We=Ee+1,Ht=e/re,Tn=r/Ee,Fn=[],br=[];for(let ei=0;ei<We;ei++){const Jr=ei*Tn-U;for(let zi=0;zi<Ae;zi++){const ca=zi*Ht-M;br.push(ca+h,-Jr+y,0),br.push(zi/re),br.push(1-ei/Ee)}}for(let ei=0;ei<Ee;ei++)for(let Jr=0;Jr<re;Jr++){const zi=Jr+Ae*ei,ca=Jr+Ae*(ei+1),Da=Jr+1+Ae*(ei+1),Va=Jr+1+Ae*ei;Fn.push(zi,ca,Va),Fn.push(ca,Da,Va)}return{indices:Fn,positions:br}}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e,mapTexture:r,terrainClipHeight:u=0,terrainTexture:d}=this.layer.getLayerConfig();if(this.mapTexture!==r){var h;this.mapTexture=r,(h=this.texture)===null||h===void 0||h.destroy(),this.updateTexture(r)}const y={u_opacity:e||1,u_mapFlag:r?1:0,u_terrainClipHeight:d?u:-1,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(y)}clearModels(){var e;this.terrainImage=null,(e=this.texture)===null||e===void 0||e.destroy(),this.textures=[]}initModels(){var e=this;return(0,Ba.Z)(function*(){const{mapTexture:r,terrainTexture:u}=e.layer.getLayerConfig();e.mapTexture=r;const{createTexture2D:d}=e.rendererService;return e.texture=d({height:0,width:0}),e.updateTexture(r),e.initUniformsBuffer(),u&&(e.terrainImage=yield e.loadTerrainImage(u)),[yield e.layer.buildLayerModel({moduleName:"geometryPlane",vertexShader:k6,fragmentShader:D6,triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:kt.TRIANGLES,depth:{enable:!0},cull:{enable:!0,face:kt.BACK}})]})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initModels()})()}createModelData(e){if(e){const{widthSegments:d,heightSegments:h,width:y,height:M}=this.layer.getLayerConfig(),{widthSegments:U,heightSegments:re,width:Ee,height:Ae}=e;this.layer.style({widthSegments:U!==void 0?U:d,heightSegments:re!==void 0?re:h,width:Ee!==void 0?Ee:y,height:Ae!==void 0?Ae:M})}const r=this.layer.getEncodedData();return this.styleAttributeService.createAttributesAndIndices(r,this.planeGeometryTriangulation)}updateTexture(e){const{createTexture2D:r}=this.rendererService;if(e){const u=new Image;u.crossOrigin="anonymous",u.onload=()=>{this.texture=r({data:u,width:u.width,height:u.height,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE}),this.layerService.reRender()},u.src=e}else this.texture=r({width:0,height:0})}getImageData(e){const r=document.createElement("canvas"),u=r.getContext("2d"),{width:d,height:h}=e;return r.width=d,r.height=h,u.drawImage(e,0,0,d,h),u.getImageData(0,0,d,h)}translateVertex(e,r,u,d,h,y){const M=u.width,U=u.height,re=this.getImageData(u).data,Ee=Math.floor(d),Ae=Math.floor(h),We=Ee+1,Ht=Ae+1,Tn=M/Ee,Fn=U/Ae;for(let br=0;br<Ht;br++){const Jr=Math.floor(br*Fn)*M;for(let zi=0;zi<We;zi++){const ca=Math.floor(zi*Tn),Da=(Jr+ca)*4,Va=re[Da],va=re[Da+1],io=re[Da+2],Os=(br*We+zi)*5+2;e[Os]=y(Va,va,io)}}return{vertices:e,indices:r,size:5}}loadTerrainImage(e){var r=this;return(0,Ba.Z)(function*(){if(r.terrainImage)return r.terrainImageLoaded?r.terrainImage:new Promise(u=>{r.terrainImage.onload=()=>{u(r.terrainImage)}});{const u=new Image;return u.crossOrigin="anonymous",new Promise(d=>{u.onload=()=>{r.terrainImageLoaded=!0,d(u),setTimeout(()=>r.layer.emit("terrainImageLoaded",null))},u.src=e})}})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}const F6=`
layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_mapFlag;
  float u_Scale;
};
uniform sampler2D u_texture;

in vec3 v_Color;
in float v_d;
out vec4 outputColor;

void main() {

  if(v_d < 0.0) {
    discard;
  }

  if(u_mapFlag > 0.0) {
    outputColor = texture(SAMPLER_2D(u_texture), gl_PointCoord);
    outputColor.a *= u_opacity;
  } else {
    outputColor = vec4(v_Color, u_opacity);
  }
}
`,jw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_mapFlag;
  float u_Scale;
};

out vec3 v_Color;
out float v_d;

#pragma include "projection"
void main() {
  v_Color = a_Color.xyz;
  v_d = a_Position.z;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));
  gl_PointSize = pow(u_Zoom - 1.0, 2.0) * u_Scale;
}
`;var tv=function(t){return t.UP="up",t.DOWN="down",t}(tv||{});class dx extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"mapTexture",void 0),(0,me.Z)(this,"positions",void 0),(0,me.Z)(this,"indices",void 0),(0,me.Z)(this,"timer",void 0),(0,me.Z)(this,"spriteTop",void 0),(0,me.Z)(this,"spriteUpdate",void 0),(0,me.Z)(this,"spriteAnimate",void 0),(0,me.Z)(this,"planeGeometryUpdateTriangulation",()=>{const{spriteBottom:r=-10}=this.layer.getLayerConfig(),u=this.spriteUpdate,d=r,h=this.spriteTop;for(let y=0;y<this.positions.length;y+=5)this.spriteAnimate===tv.UP?(this.positions[y+2]+=u,this.positions[y+2]>h&&(this.positions[y+2]=d)):(this.positions[y+2]-=u,this.positions[y+2]<d&&(this.positions[y+2]=h));return{vertices:this.positions,indices:this.indices,size:5}}),(0,me.Z)(this,"updatePosition",()=>{var r;this.planeGeometryUpdateTriangulation();const u=(r=this.styleAttributeService.getLayerStyleAttribute("position"))===null||r===void 0?void 0:r.vertexAttribute;if(u){const d=[];for(let h=0;h<this.positions.length;h+=5)d.push(this.positions[h],this.positions[h+1],this.positions[h+2]);u.updateBuffer({data:d,offset:0})}this.layerService.throttleRenderLayers(),this.timer=requestAnimationFrame(this.updatePosition)}),(0,me.Z)(this,"planeGeometryTriangulation",()=>{const{center:r=[120,30],spriteCount:u=100,spriteRadius:d=10}=this.layer.getLayerConfig(),{indices:h,positions:y}=this.initSprite(d,u,...r);return this.positions=y,this.indices=h,{vertices:y,indices:h,size:5}})}initSprite(e=10,r=100,u=120,d=30){const h=[],y=[],M=this.spriteAnimate===tv.UP?-this.spriteTop:this.spriteTop;for(let re=0;re<r;re++){const Ee=Math.random()*M;y.push(...U(Ee))}for(let re=0;re<r;re++)h.push(re);function U(re){const Ee=e*Math.random(),Ae=e*Math.random(),We=-e/2+Ee,Ht=-e/2+Ae;return[We+u,-Ht+d,re,0,0]}return{indices:h,positions:y}}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e,mapTexture:r,spriteScale:u=1}=this.layer.getLayerConfig();if(this.mapTexture!==r){var d;this.mapTexture=r,(d=this.texture)===null||d===void 0||d.destroy(),this.textures=[],this.updateTexture(r)}const h={u_opacity:e||1,u_mapFlag:r?1:0,u_Scale:u,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(h)}clearModels(){var e;cancelAnimationFrame(this.timer),(e=this.texture)===null||e===void 0||e.destroy(),this.textures=[]}initModels(){var e=this;return(0,Ba.Z)(function*(){const{mapTexture:r,spriteTop:u=300,spriteUpdate:d=10,spriteAnimate:h=tv.DOWN}=e.layer.getLayerConfig();e.initUniformsBuffer(),e.mapTexture=r,e.spriteTop=u,e.spriteUpdate=d,h==="up"?e.spriteAnimate=tv.UP:e.spriteAnimate=tv.DOWN;const{createTexture2D:y}=e.rendererService;return e.texture=y({height:0,width:0}),e.updateTexture(r),setTimeout(()=>{e.updatePosition()},100),[yield e.layer.buildLayerModel({moduleName:"geometrySprite",vertexShader:jw,fragmentShader:F6,triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:kt.POINTS,depth:{enable:!1},blend:e.getBlend()})]})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initModels()})()}updateTexture(e){const{createTexture2D:r}=this.rendererService;if(e){const u=new Image;u.crossOrigin="anonymous",u.onload=()=>{this.texture=r({data:u,width:u.width,height:u.height,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE}),this.layerService.reRender()},u.src=e}else this.texture=r({width:1,height:1})}registerBuiltinAttributes(){return""}}var l_={plane:B6,sprite:dx,billboard:N6};class $3 extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","GeometryLayer"),(0,me.Z)(this,"defaultSourceConfig",{data:[{x:0,y:0}],options:{parser:{type:"json",x:"x",y:"y"}}})}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new l_[r](e),yield e.initLayerModels()})()}getDefaultConfig(){const e=this.getModelType();return{plane:{},sprite:{},billboard:{}}[e]}getModelType(){var e;const r=this.styleAttributeService.getLayerStyleAttribute("shape"),u=r==null||(e=r.scale)===null||e===void 0?void 0:e.field;return u==="plane"?"plane":u==="sprite"?"sprite":u==="billboard"?"billboard":"plane"}}function Hw(t,e){return{type:t.type,field:"value",items:t.positions.map((r,u)=>({[e]:u>=t.colors.length?null:t.colors[u],value:r}))}}const U6=`in vec4 v_color;

#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,z6=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location =  ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;

layout(std140) uniform commonUniforms {
    vec2 u_radius;
    float u_opacity;
    float u_coverage;
    float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
  v_color.a *= u_opacity;

  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage;

  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);
  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  gl_Position = project_common_position_to_clipspace(project_pos);

  setPickingColor(a_PickingColor);
}
`;class Ww extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e,coverage:r,angle:u}=this.layer.getLayerConfig(),d={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:r||.9,u_angle:u||0};return this.getUniformsBufferInfo(d)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"heatmapGrid",vertexShader:z6,fragmentShader:U6,defines:e.getDefines(),triangulation:V3,primitive:kt.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:Ya.Attribute,descriptor:{shaderLocation:this.attributeLocation.POS,name:"a_Pos",buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:e=>{const r=e.coordinates;return[r[0],r[1],0]}}})}}const W1=`in vec4 v_color;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,mA=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "light"
#pragma include "picking"

void main() {
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);

  vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5B9E\u9645\u7684\u7ECF\u7EAC\u5EA6
  vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));

  float lightWeight = calc_lighting(project_pos);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  gl_Position = project_common_position_to_clipspace(project_pos);

  setPickingColor(a_PickingColor);
}
`;class Vw extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e,coverage:r,angle:u}=this.layer.getLayerConfig(),d={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:r||.9,u_angle:u||0};return this.getUniformsBufferInfo(d)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"heatmapGrid3d",vertexShader:mA,fragmentShader:W1,defines:e.getDefines(),triangulation:dA,primitive:kt.TRIANGLES,depth:{enable:!0}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Ya.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:e=>{const r=e.coordinates;return[r[0],r[1],0]}}})}}function Z6(t,e){const r=[],u=[],d=[],h=t+1,y=e+1,M=t/2,U=e/2;for(let re=0;re<y;re++){const Ee=re-U;for(let Ae=0;Ae<h;Ae++){const We=Ae-M;u.push(We/M,-Ee/U,0),d.push(Ae/t),d.push(1-re/e)}}for(let re=0;re<e;re++)for(let Ee=0;Ee<t;Ee++){const Ae=Ee+h*re,We=Ee+h*(re+1),Ht=Ee+1+h*(re+1),Tn=Ee+1+h*re;r.push(Ae,We,Tn),r.push(We,Ht,Tn)}return{vertices:u,indices:r,uvs:d}}const j6=`layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;
in float v_intensity;
out vec4 outputColor;

void main(){
   
    float intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
    vec4 color = texture(SAMPLER_2D(u_colorTexture),vec2(intensity, 0));
    outputColor = color;
    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;
   outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;
}
`,Gw=`layout(location = 0) in vec3 a_Position;
layout(location = 10) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

out vec2 v_texCoord;
out float v_intensity;

vec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {
  float t2 = t * t;
  float one_minus_t = 1.0 - t;
  float one_minus_t2 = one_minus_t * one_minus_t;
  return P0 * one_minus_t2 * one_minus_t +
  P1 * 3.0 * t * one_minus_t2 +
  P2 * 3.0 * t2 * one_minus_t +
  P3 * t2 * t;
}
vec2 toBezier(float t, vec4 p) {
  return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));
}

#pragma include "projection"
#pragma include "project"

void main() {
  v_texCoord = a_Uv;

  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // \u5C06\u539F\u672C 0 -> 1 \u7684 uv \u8F6C\u6362\u4E3A -1 -> 1 \u7684\u6807\u51C6\u5750\u6807\u7A7A\u95F4\uFF08NDC\uFF09

  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y \u5E73\u9762\u4E0A\u7684\u70B9\uFF08z == 0\uFF09\u53EF\u4EE5\u8BA4\u4E3A\u662F\u4E09\u7EF4\u4E0A\u7684\u70B9\u88AB\u6295\u5F71\u5230\u5E73\u9762\u540E\u7684\u70B9
  vec4 p2 = vec4(pos, 1.0, 1.0); // \u5E73\u884C\u4E8Ex/y\u5E73\u9762\u3001z==1 \u7684\u5E73\u9762\u4E0A\u7684\u70B9

  vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // \u6839\u636E\u89C6\u56FE\u6295\u5F71\u77E9\u9635\u7684\u9006\u77E9\u9635\u5E73\u9762\u4E0A\u7684\u53CD\u7B97\u51FA\u4E09\u7EF4\u7A7A\u95F4\u4E2D\u7684\u70B9\uFF08p1\u5E73\u9762\u4E0A\u7684\u70B9\uFF09
  vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;

  inverseP1 = inverseP1 / inverseP1.w; // \u5F52\u4E00\u5316\u64CD\u4F5C\uFF08\u5F52\u4E00\u5316\u540E\u4E3A\u4E16\u754C\u5750\u6807\uFF09
  inverseP2 = inverseP2 / inverseP2.w;

  float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??
  vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);

  vec4 b = vec4(0.5, 0.0, 1.0, 0.5);
  float fh;

  v_intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
  fh = toBezier(v_intensity, b).y;
  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.0), 1.0);

}
`,Yw=`uniform sampler2D u_texture;        // \u70ED\u529B\u5F3A\u5EA6\u56FE
uniform sampler2D u_colorTexture;   // \u6839\u636E\u5F3A\u5EA6\u5206\u5E03\u7684\u8272\u5E26

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};
in vec2 v_texCoord;
out vec4 outputColor;

#pragma include "scene_uniforms"

float getBlurIndusty() {
    float vW = 2.0/ u_ViewportSize.x;
    float vH = 2.0/ u_ViewportSize.y;
    vec2 vUv = v_texCoord;
    float i11 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y + 1.0 * vH) ).r;
    float i12 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y + 1.0 * vH) ).r;
    float i13 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y + 1.0 * vH) ).r;

    float i21 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y) ).r;
    float i22 = texture(SAMPLER_2D(u_texture), vec2( vUv.x , vUv.y) ).r;
    float i23 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y) ).r;

    float i31 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y-1.0*vH) ).r;
    float i32 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y-1.0*vH) ).r;
    float i33 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y-1.0*vH) ).r;

    return(
        i11 + 
        i12 + 
        i13 + 
        i21 + 
        i21 + 
        i22 + 
        i23 + 
        i31 + 
        i32 + 
        i33
        )/9.0;
}


void main(){
    // float intensity = texture(u_texture, v_texCoord).r;
    float intensity = getBlurIndusty();
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0.0));
    outputColor = color;
    outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;
}
`,$w=`layout(location = 0) in vec3 a_Position;
layout(location = 10) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

#pragma include "scene_uniforms"

out vec2 v_texCoord;
void main() {
  v_texCoord = a_Uv;
  #ifdef VIEWPORT_ORIGIN_TL
  v_texCoord.y = 1.0 - v_texCoord.y;
  #endif

  gl_Position = vec4(a_Position.xy, 0, 1.0);
}
`,H6=`layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

in vec2 v_extrude;
in float v_weight;
out vec4 outputColor;
#define GAUSS_COEF  0.3989422804014327

void main(){
    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);
    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);
    outputColor = vec4(val, 1., 1., 1.);
}
`,W6=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_DIR) in vec2 a_Dir;

layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

out vec2 v_extrude;
out float v_weight;

#define GAUSS_COEF (0.3989422804014327)

#pragma include "projection"
#pragma include "picking"

void main() {
  vec3 picking_color_placeholder = u_PickingColor;

  v_weight = a_Size;
  float ZERO = 1.0 / 255.0 / 16.0;
  float extrude_x = a_Dir.x * 2.0 - 1.0;
  float extrude_y = a_Dir.y * 2.0 - 1.0;
  vec2 extrude_dir = normalize(vec2(extrude_x, extrude_y));
  float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;
  v_extrude = extrude_dir * S;

  vec2 offset = project_pixel(v_extrude * u_radius);
  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

}
`,{isEqual:Xw}=yo;class vA extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"colorTexture",void 0),(0,me.Z)(this,"heatmapFramerBuffer",void 0),(0,me.Z)(this,"heatmapTexture",void 0),(0,me.Z)(this,"intensityModel",void 0),(0,me.Z)(this,"colorModel",void 0),(0,me.Z)(this,"shapeType",void 0),(0,me.Z)(this,"preRampColors",void 0),(0,me.Z)(this,"colorModelUniformBuffer",[]),(0,me.Z)(this,"heat3DModelUniformBuffer",[])}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10,DIR:11})}prerender(){const{clear:e,useFramebuffer:r}=this.rendererService;r(this.heatmapFramerBuffer,()=>{e({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.heatmapFramerBuffer}),this.drawIntensityMode()})}render(e){const{rampColors:r}=this.layer.getLayerConfig();Xw(this.preRampColors,r)||this.updateColorTexture(),this.shapeType==="heatmap"?this.drawHeatMap(e):this.draw3DHeatMap(e)}getUninforms(){throw new Error("Method not implemented.")}initModels(){var e=this;return(0,Ba.Z)(function*(){var r;const{createFramebuffer:u,getViewportSize:d,createTexture2D:h}=e.rendererService,y=e.styleAttributeService.getLayerStyleAttribute("shape"),M=(y==null||(r=y.scale)===null||r===void 0?void 0:r.field)||"heatmap";e.shapeType=M,e.intensityModel=yield e.buildHeatMapIntensity(),e.colorModel=M==="heatmap"?e.buildHeatmap():e.build3dHeatMap();const{width:U,height:re}=d();return e.heatmapTexture=h({width:Math.floor(U/4),height:Math.floor(re/4),wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE,min:kt.LINEAR,mag:kt.LINEAR,usage:H0.RENDER_TARGET}),e.heatmapFramerBuffer=u({color:e.heatmapTexture,depth:!0,width:Math.floor(U/4),height:Math.floor(re/4)}),e.updateColorTexture(),[e.intensityModel,e.colorModel]})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initModels()})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:Ya.Attribute,descriptor:{name:"a_Dir",shaderLocation:this.attributeLocation.DIR,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=1}=e;return[r]}}})}buildHeatMapIntensity(){var e=this;return(0,Ba.Z)(function*(){return e.uniformBuffers=[e.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})],e.layer.triangulation=pA,yield e.layer.buildLayerModel({moduleName:"heatmapIntensity",vertexShader:W6,fragmentShader:H6,triangulation:pA,defines:e.getDefines(),depth:{enable:!1},cull:{enable:!0,face:kt.FRONT}})})()}buildHeatmap(){this.shaderModuleService.registerModule("heatmapColor",{vs:$w,fs:Yw}),this.colorModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})];const{vs:e,fs:r,uniforms:u}=this.shaderModuleService.getModule("heatmapColor"),{createAttribute:d,createElements:h,createBuffer:y,createModel:M}=this.rendererService;return M({vs:e,fs:r,uniformBuffers:[...this.colorModelUniformBuffer,...this.rendererService.uniformBuffers],attributes:{a_Position:d({shaderLocation:this.attributeLocation.POSITION,buffer:y({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:kt.FLOAT}),size:3}),a_Uv:d({shaderLocation:this.attributeLocation.UV,buffer:y({data:[0,1,1,1,0,0,1,0],type:kt.FLOAT}),size:2})},uniforms:(0,Ir.Z)({},u),depth:{enable:!1},elements:h({data:[0,2,1,2,3,1],type:kt.UNSIGNED_INT,count:6})})}build3dHeatMap(){const{getViewportSize:e}=this.rendererService,{width:r,height:u}=e(),d=Z6(r/4,u/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:Gw,fs:j6}),this.heat3DModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(16*2+4).fill(0),isUBO:!0})];const{vs:h,fs:y,uniforms:M}=this.shaderModuleService.getModule("heatmap3dColor"),{createAttribute:U,createElements:re,createBuffer:Ee,createModel:Ae}=this.rendererService;return Ae({vs:h,fs:y,attributes:{a_Position:U({shaderLocation:this.attributeLocation.POSITION,buffer:Ee({data:d.vertices,type:kt.FLOAT}),size:3}),a_Uv:U({shaderLocation:this.attributeLocation.UV,buffer:Ee({data:d.uvs,type:kt.FLOAT}),size:2})},primitive:kt.TRIANGLES,uniformBuffers:[...this.heat3DModelUniformBuffer,...this.rendererService.uniformBuffers],uniforms:(0,Ir.Z)({},M),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:kt.SRC_ALPHA,srcAlpha:1,dstRGB:kt.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:re({data:d.indices,type:kt.UNSIGNED_INT,count:d.indices.length})})}drawIntensityMode(){var e;const{intensity:r=10,radius:u=5}=this.layer.getLayerConfig(),d={u_radius:u,u_intensity:r};this.uniformBuffers[0].subData({offset:0,data:[u,r]}),this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),(e=this.intensityModel)===null||e===void 0||e.draw({uniforms:d,blend:{enable:!0,func:{srcRGB:kt.ONE,srcAlpha:1,dstRGB:kt.ONE,dstAlpha:1}},stencil:{enable:!1,mask:255,func:{cmp:514,ref:1,mask:255}}}),this.layer.hooks.afterRender.call()}drawHeatMap(e){var r;const{opacity:u=1}=this.layer.getLayerConfig(),d={u_opacity:u,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer},h=[this.heatmapTexture,this.colorTexture];this.colorModelUniformBuffer[0].subData({offset:0,data:[u]}),(r=this.colorModel)===null||r===void 0||r.draw({uniforms:d,textures:h,blend:this.getBlend(),stencil:this.getStencil(e)})}draw3DHeatMap(e){var r;const{opacity:u=1}=this.layer.getLayerConfig(),d=qo.create();qo.invert(d,this.cameraService.getViewProjectionMatrixUncentered());const h={u_opacity:u,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:[...d]};this.heat3DModelUniformBuffer[0].subData({offset:0,data:[...h.u_ViewProjectionMatrixUncentered,...h.u_InverseViewProjectionMatrix,u]});const y=[this.heatmapTexture,this.colorTexture];(r=this.colorModel)===null||r===void 0||r.draw({uniforms:h,textures:y,blend:{enable:!0,func:{srcRGB:kt.SRC_ALPHA,srcAlpha:1,dstRGB:kt.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},stencil:this.getStencil(e)})}updateColorTexture(){const{createTexture2D:e}=this.rendererService;this.texture&&this.texture.destroy();const{rampColors:r}=this.layer.getLayerConfig(),u=Za(r);this.colorTexture=e({data:u.data,usage:H0.SAMPLED,width:u.width,height:u.height,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE,min:kt.NEAREST,mag:kt.NEAREST,flipY:!1,unorm:!0}),this.preRampColors=r}}const V6=`in vec4 v_color;

#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,Kw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
  v_color.a *= u_opacity;

  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);
  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);

  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`;class Qw extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e,coverage:r,angle:u}=this.layer.getLayerConfig(),d={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:r||.9,u_angle:u||0};return this.getUniformsBufferInfo(d)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"heatmapHexagon",vertexShader:Kw,fragmentShader:V6,defines:e.getDefines(),triangulation:V3,depth:{enable:!1},primitive:kt.TRIANGLES})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:Ya.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:e=>{const r=e.coordinates;return[r[0],r[1],0]}}})}}var qw={heatmap:vA,heatmap3d:vA,grid:Ww,grid3d:Vw,hexagon:Qw};class G6 extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","HeatMapLayer")}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new qw[r](e),yield e.initLayerModels()})()}prerender(){this.getModelType()==="heatmap"&&this.layerModel&&this.layerModel.prerender()}renderModels(e={}){return this.getModelType()==="heatmap"?(this.layerModel&&this.layerModel.render(e),this):this.encodeDataLength<=0&&!this.forceRender?this:(this.hooks.beforeRender.call(),this.models.forEach(u=>u.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e)})),this.hooks.afterRender.call(),this)}updateModelData(e){e.attributes&&e.elements?this.models[0].updateAttributesAndElements(e.attributes,e.elements):console.warn("data error")}getModelType(){var e;const r=this.styleAttributeService.getLayerStyleAttribute("shape"),{shape3d:u}=this.getLayerConfig(),h=this.getSource().data.type,y=(r==null||(e=r.scale)===null||e===void 0?void 0:e.field)||"heatmap";return y==="heatmap"||y==="heatmap3d"?"heatmap":h==="hexagon"?(u==null?void 0:u.indexOf(y))===-1?"hexagon":"grid3d":h==="grid"?(u==null?void 0:u.indexOf(y))===-1?"grid":"grid3d":"heatmap"}getLegend(e){if(this.getModelType()==="heatmap"){if(e!=="color")return{type:void 0,field:void 0,items:[]};const r=this.getLayerConfig().rampColors;return Hw(r,e)}else return super.getLegend(e)}}const Jw=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

in vec2 v_texCoord;
out vec4 outputColor;
vec3 setContrast(vec3 rgb, float contrast) {
  vec3 color = mix(vec3(0.5), rgb, contrast);
  color = clamp(color, 0.0, 1.0);
  return color;
}
vec3 setSaturation(vec3 rgb, float adjustment) {
  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);
  vec3 intensity = vec3(dot(rgb, grayVector));
  vec3 color = mix(intensity, rgb, adjustment);
  color = clamp(color, 0.0, 1.0);
  return color;
}
void main() {
  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));
  //brightness
  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);
  //contrast
  color.rgb = setContrast(color.rgb, u_contrast);
  // saturation
  color.rgb = setSaturation(color.rgb, u_saturation);
  // gamma
  color.rgb = pow(color.rgb, vec3(u_gamma));
  outputColor = color;
  outputColor.a *= u_opacity;
  if(outputColor.a < 0.01)
    discard;
}
`,Y6=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class e5 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){const{opacity:e,brightness:r,contrast:u,saturation:d,gamma:h}=this.layer.getLayerConfig(),y={u_opacity:ul(e,1),u_brightness:ul(r,1),u_contrast:ul(u,1),u_saturation:ul(d,1),u_gamma:ul(h,1)};return this.textures=[this.texture],this.getUniformsBufferInfo(y)}initModels(){var e=this;return(0,Ba.Z)(function*(){return yield e.loadTexture(),e.buildModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy()}loadTexture(){var e=this;return(0,Ba.Z)(function*(){const{createTexture2D:r}=e.rendererService,d=yield e.layer.getSource().data.images;e.texture=r({data:d[0],width:d[0].width,height:d[0].height,mag:kt.LINEAR,min:kt.LINEAR})})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:Y6,fragmentShader:Jw,defines:e.getDefines(),triangulation:cx,primitive:kt.TRIANGLES,blend:{enable:!0},depth:{enable:!1},pickingEnabled:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}var t5={image:e5};class n5 extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","ImageLayer")}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new t5[r](e),yield e.initLayerModels()})()}getDefaultConfig(){const e=this.getModelType();return{image:{}}[e]}getModelType(){return"image"}}const $6=`
#define Animate 0.0
#define LineTexture 1.0
uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_lineData;
//dash
in vec4 v_dash_array;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"

void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      discard;
    };
  }
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  outputColor = v_color;
  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;
  }

  // \u5F53\u5B58\u5728\u8D34\u56FE\u65F6\u5728\u5E95\u8272\u4E0A\u8D34\u4E0A\u8D34\u56FE
  if(u_line_texture == LineTexture) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float count = v_lineData.g; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);
    float v = v_lineData.a; // \u6A2A\u5411 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
    
  } else {
     outputColor = filterColor(outputColor);
  }
}`,X6=`#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_lineData;
//dash
out vec4 v_dash_array;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  if (u_lineDir == 1.0) {
    // \u6B63\u5411
    return mid;
  } else {
    // \u9006\u5411
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
  // dash: index / (segmentNumber - 1.);
  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
  //  return index / (segmentNumber - 1.);
}
vec2 interpolate(vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x, t), bezier3(y, t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return dir_screenspace.xy * sign(offset_direction);
}

void main() {
  //vs\u4E2D\u8BA1\u7B97\u6E10\u53D8\u8272
  if (u_linearColor == 1.0) {
    float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex / segmentNumber);
  } else {
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;

  vec2 source_world = a_Instance.rg; // \u8D77\u59CB\u70B9
  vec2 target_world = a_Instance.ba; // \u7EC8\u70B9

  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  // \u8BA1\u7B97 dashArray \u548C distanceRatio \u8F93\u51FA\u5230\u7247\u5143
  float total_Distance = pixelDistance(source_world, target_world) / 2.0 * PI;
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  v_distance_ratio = segmentIndex / segmentNumber;

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;

  if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

  v_lineData.b = d_distance_ratio;

  vec4 source = project_position(vec4(source_world, 0, 1.), a_Instance64Low.xy);
  vec4 target = project_position(vec4(target_world, 0, 1.), a_Instance64Low.zw);

  vec2 currPos = interpolate(source.xy, target.xy, segmentRatio, thetaOffset);
  vec2 nextPos = interpolate(source.xy, target.xy, nextSegmentRatio, thetaOffset);

  vec2 offset = project_pixel(
    getExtrusionOffset((nextPos.xy - currPos.xy) * indexDir, a_Position.y)
  );

  float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  v_lineData.r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F
    float arcDistrance = length(source - target); // \u8D77\u59CB\u70B9\u548C\u7EC8\u70B9\u7684\u8DDD\u79BB
    arcDistrance = project_pixel(arcDistrance);

    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel_texture(u_icon_step); // \u8D34\u56FE\u6CBF\u5F27\u7EBF\u65B9\u5411\u7684\u957F\u5EA6 - \u968F\u5730\u56FE\u7F29\u653E\u6539\u53D8
    float texCount = floor(arcDistrance / pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
    v_lineData.g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB
    v_lineData.a = lineOffsetWidth / linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
  }

  gl_Position = project_common_position_to_clipspace(vec4(currPos.xy + offset, 0, 1.0));

  setPickingColor(a_PickingColor);
}
`,K6={solid:0,dash:1};class r5 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:kt.NEAREST,min:kt.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){const{sourceColor:e,targetColor:r,textureBlend:u="normal",lineType:d="solid",dashArray:h=[10,5],forward:y=!0,lineTexture:M=!1,iconStep:U=100,segmentNumber:re=30}=this.layer.getLayerConfig(),{animateOption:Ee}=this.layer.getLayerConfig();let Ae=h;d!=="dash"&&(Ae=[0,0]),Ae.length===2&&Ae.push(0,0);let We=0,Ht=[0,0,0,0],Tn=[0,0,0,0];if(e&&r&&(Ht=To(e),Tn=To(r),We=1),this.rendererService.getDirty()){var Fn;(Fn=this.texture)===null||Fn===void 0||Fn.bind()}const br={u_animate:this.animateOption2Array(Ee),u_dash_array:Ae,u_sourceColor:Ht,u_targetColor:Tn,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:re,u_lineDir:y?1:-1,u_icon_step:U,u_line_texture:M?1:0,u_textureBlend:u==="normal"?0:1,u_blur:.9,u_line_type:K6[d||"solid"],u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:We};return this.getUniformsBufferInfo(br)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:$6,vert:X6,type:""}}buildModels(){var e=this;return(0,Ba.Z)(function*(){e.initUniformsBuffer();const{segmentNumber:r=30}=e.layer.getLayerConfig(),{frag:u,vert:d,type:h}=e.getShaders();return[yield e.layer.buildLayerModel({moduleName:"lineArc2d"+h,vertexShader:d,fragmentShader:u,defines:e.getDefines(),inject:e.getInject(),triangulation:hA,depth:{enable:!1},styleOption:{segmentNumber:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Ya.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[u[3],u[4],u[5],u[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Ya.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[Mo(u[3]),Mo(u[4]),Mo(u[5]),Mo(u[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const r=this.iconService.getIconMap(),{texture:u}=e,{x:d,y:h}=r[u]||{x:0,y:0};return[d,h]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:Ya.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{thetaOffset:r=1}=e;return[r]}}})}}const i5=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec4 v_dash_array;
in float v_segmentIndex;
in vec2 v_iconMapUV;
in vec4 v_line_data;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = v_line_data.g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  outputColor = v_color;

  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    outputColor.a *=flag;
  }

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;

      // u_animate
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);

    float v = v_line_data.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          outputColor = filterColor(pattern);
        }
    }

  } else {
    outputColor = filterColor(outputColor);
  }
}
`,a5=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;


layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};
out vec4 v_color;
out vec4 v_dash_array;
out float v_segmentIndex;
out vec2 v_iconMapUV;
out vec4 v_line_data;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  //vs\u4E2D\u8BA1\u7B97\u6E10\u53D8\u8272
  if(u_linearColor==1.0){
    float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  }
  else{
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0), a_Instance64Low.xy).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0), a_Instance64Low.zw).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  v_line_data.g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    v_line_data.b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    v_line_data.a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }


  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;

    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }


  setPickingColor(a_PickingColor);
}
`,_A={solid:0,dash:1};class bA extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:kt.NEAREST,min:kt.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){const{sourceColor:e,targetColor:r,textureBlend:u="normal",lineType:d="solid",dashArray:h=[10,5],lineTexture:y=!1,iconStep:M=100,segmentNumber:U=30,globalArcHeight:re=10}=this.layer.getLayerConfig(),{animateOption:Ee}=this.layer.getLayerConfig();h.length===2&&h.push(0,0);let Ae=0,We=[0,0,0,0],Ht=[0,0,0,0];if(e&&r&&(We=To(e),Ht=To(r),Ae=1),this.rendererService.getDirty()){var Tn;(Tn=this.texture)===null||Tn===void 0||Tn.bind()}const Fn={u_animate:this.animateOption2Array(Ee),u_dash_array:h,u_sourceColor:We,u_targetColor:Ht,u_textSize:[1024,this.iconService.canvasHeight||128],u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:B3,u_global_height:re,segmentNumber:U,u_line_type:_A[d]||0,u_icon_step:M,u_line_texture:y?1:0,u_textureBlend:u==="normal"?0:1,u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:Ae};return this.getUniformsBufferInfo(Fn)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:i5,vert:a5,type:""}}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{segmentNumber:r=30}=e.layer.getLayerConfig(),{frag:u,vert:d,type:h}=e.getShaders();return[yield e.layer.buildLayerModel({moduleName:"lineArc3d"+h,vertexShader:d,fragmentShader:u,defines:e.getDefines(),inject:e.getInject(),triangulation:hA,styleOption:{segmentNumber:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Ya.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[u[3],u[4],u[5],u[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Ya.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[Mo(u[3]),Mo(u[4]),Mo(u[5]),Mo(u[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const r=this.iconService.getIconMap(),{texture:u}=e,{x:d,y:h}=r[u]||{x:0,y:0};return[d,h]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:Ya.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{thetaOffset:r=1}=e;return[r]}}})}}const o5={circle:2,triangle:2,diamond:4,rect:2,classic:3,halfTriangle:2,none:0},pp=1/2;function YN(t,e){const{width:r=2,height:u=1}=e;return{vertices:[0,pp*t,1*t*r,-(u+pp)*t,1*t*r,(u-pp)*t,0,pp*t,1*t*r,-(u+pp)*t,1*t*r,(u-pp)*t],indices:[3,4,5],outLineIndices:[0,1,2],normals:[1*t,-2*t,1,-2*t,1.5*t,1,1*t,1.5*t,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function Q6(t,e){const{width:r=2,height:u=3}=e;return{vertices:[0,0,1*t*r,1*u,1*t*r,-1*u,0,0,1*t*r,1*u,1*t*r,-1*u],outLineIndices:[0,1,2],indices:[3,4,5],normals:[0,-1.5*t,1,2,1*t,1,-2,1*t,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function q6(t,e){const{width:r=2,height:u=2}=e;return{vertices:[0,u/2,t*r*1,u/2,t*r*1,-u/2,0,-u/2,0,u/2,t*r*1,u/2,t*r*1,-u/2,0,-u/2],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-t,1,1,0,1,0,-t,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function s5(t,e){const{width:r=2,height:u=3}=e;return{vertices:[0,0,1*r*t,.5*u,2*r*t,0,1*r*t,-.5*u,0,0,1*r*t,.5*u,2*r*t,0,1*r*t,-.5*u],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-t,1,1,0,1,0,-t,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function J6(t,e){const{width:r=2,height:u=3}=e;return{vertices:[0,0,2*t*r,1*u,1.5*t*r,0,2*t*r,-1*u,0,0,2*t*r,1*u,1.5*t*r,0,2*t*r,-1*u],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-t,1,1,0,1,0,-t,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function eP(t,e){const{width:r=2,height:u=2}=e,d=Z3(),h=j1().flatten([d]),y=j1()(h.vertices,h.holes,h.dimensions),M=d.map(U=>[U[0]*r*t,U[1]*u]).flat();return{vertices:[...M,...M],dimensions:2,indices:y.map(U=>U+d.length),outLineIndices:y,normals:[...d.map(U=>[U[1]*u,U[0]*r*t,1]).flat(),...new Array(d.length*3).fill(0)]}}function tP(t,e=0,r){const u=typeof r.source=="object"?r.source.type:r.source,d=typeof r.target=="object"?r.target.type:r.target,{width:h=u?o5[u]:0}=typeof r.source=="object"?r.source:{},{width:y=d?o5[d]:0}=typeof r.target=="object"?r.target:{};return{vertices:[0,pp,1*h,...t,1,pp,-1*y,...t,1,-pp,-1*y,...t,0,-pp,1*h,...t,0,pp,1*h,...t,1,pp,-1*y,...t,1,-pp,-1*y,...t,0,-pp,1*h,...t],outLineIndices:[0,1,2,0,2,3].map(M=>M+e),indices:[4,5,6,4,6,7].map(M=>M+e),normals:[1,-1,1,1,1,1,-1,0,1,-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],dimensions:2}}function mg(t,e){const r=typeof t=="object"?t.type:t,u=e==="source"?1:-1,d=typeof t=="object"?t:{};switch(r){case"circle":return eP(u,d);case"triangle":return Q6(u,d);case"diamond":return s5(u,d);case"rect":return q6(u,d);case"classic":return J6(u,d);case"halfTriangle":return YN(u,d);default:return{vertices:[],indices:[],normals:[],dimensions:2,outLineIndices:[],outLineNormals:[]}}}function nP(t){const e=t.coordinates.flat(),r=1,u=1;return{vertices:[1,0,0,...e,1,2,-3,...e,1,1,-3,...e,0,1,0,...e,0,0,0,...e,1,0,0,...e,1,2,-3,...e,1,1,-3,...e,0,1,0,...e,0,0,0,...e],normals:[-r,2*u,1,2*u,-u,1,u,-u,1,u,-u,1,-r,-u,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7}}function rP(t,e){return e?iP(t,e):nP(t)}function iP(t,e){const r=t.coordinates.flat(),{target:u="classic",source:d="circle"}=e,h=nv(mg(d,"source"),r,0,0),y=tP(r,h.vertices.length/7,e),M=nv(mg(u,"target"),r,1,h.vertices.length/7+y.vertices.length/7);return{vertices:[...h.vertices,...y.vertices,...M.vertices],indices:[...h.outLineIndices,...y.outLineIndices,...M.outLineIndices,...h.indices,...y.indices,...M.indices],normals:[...h.normals,...y.normals,...M.normals],size:7}}function nv(t,e,r=1,u=0){const d=[],{vertices:h,indices:y,dimensions:M,outLineIndices:U}=t;for(let re=0;re<h.length;re+=M)d.push(r,h[re+1],h[re],...e);return(0,Ir.Z)((0,Ir.Z)({},t),{},{vertices:d,indices:y.map(re=>re+u),outLineIndices:U.map(re=>re+u)})}const u5=`// #extension GL_OES_standard_derivatives : enable

in vec4 v_color;
out vec4 outputColor;


// line texture

#pragma include "picking"

void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,EA=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniorm {
  float u_gap_width: 1.0;
  float u_stroke_width: 1.0;
  float u_stroke_opacity: 1.0;
};

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

out vec4 v_color;

vec2 project_pixel_offset(vec2 offsets) {
  vec2 data = project_pixel(offsets);

  return vec2(data.x, -data.y);
}

vec2 line_dir(vec2 target, vec2 source) {
  return normalize(ProjectFlat(target) - ProjectFlat(source));
}


void main() {
  // \u900F\u660E\u5EA6\u8BA1\u7B97
  vec2 source_world = a_Instance.rg; // \u8D77\u70B9
  vec2 target_world = a_Instance.ba; // \u7EC8\u70B9
  vec2 flowlineDir = line_dir(target_world, source_world);
  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x);

  vec2 position = mix(source_world, target_world, a_Position.x);
  vec2 position64Low = mix(a_Instance64Low.rg, a_Instance64Low.ba, a_Position.x);

  float lengthCommon = length(
    project_position(vec4(target_world, 0, 1)) - project_position(vec4(source_world, 0, 1))
  );
  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || \u9AD8\u5FB7
  vec2 limitedOffsetDistances = clamp(
    offsetDistances,
    project_pixel(-lengthCommon * 0.2),
    project_pixel(lengthCommon * 0.2)
  );

  float startOffsetCommon = project_pixel(offsets[0]);
  float endOffsetCommon = project_pixel(offsets[1]);
  float endpointOffset = mix(
    clamp(startOffsetCommon, 0.0, lengthCommon * 0.2),
    -clamp(endOffsetCommon, 0.0, lengthCommon * 0.2),
    a_Position.x
  );

  vec2 normalsCommon = u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y));

  float gapCommon = -1. * project_pixel(u_gap_width);
  vec3 offsetCommon = vec3(
    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -
      perpendicularDir * (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),
    0.0
  );

  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0), position64Low);

  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);
  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));

  setPickingColor(a_PickingColor);
}
`;class xA extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,NORMAL:12})}getCommonUniformsInfo(){const{gapWidth:e=2,strokeWidth:r=1,strokeOpacity:u=1}=this.layer.getLayerConfig(),d={u_gap_width:e,u_stroke_width:r,u_stroke_opacity:u};return this.getUniformsBufferInfo(d)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return[yield e.layer.buildLayerModel({moduleName:"flow_line",vertexShader:EA,fragmentShader:u5,defines:e.getDefines(),inject:e.getInject(),triangulation:rP,styleOption:e.layer.getLayerConfig().symbol,primitive:kt.TRIANGLES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Ya.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[u[3],u[4],u[5],u[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Ya.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[Mo(u[3]),Mo(u[4]),Mo(u[5]),Mo(u[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}})}}const aP=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

in vec4 v_dash_array;
in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_line_data;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {

  float animateSpeed = 0.0;
  float d_segmentIndex = v_line_data.g;

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
    outputColor.a *= v_color.a;
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
    outputColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  if(u_line_type == LineTypeDash) {
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      // \u5B9E\u7EBF\u90E8\u5206
    } else {
      // \u865A\u7EBF\u90E8\u5206
      discard;
    };
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u52A8\u753B\u6A21\u5F0F
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u8D34\u56FE
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) {
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_animate.x == Animate) {
      u = outputColor.a/v_color.a;
    }

    float v = v_line_data.a; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // \u8BBE\u7F6E\u8D34\u56FE\u548C\u5E95\u8272\u7684\u53E0\u52A0\u6A21\u5F0F
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  } else {
    outputColor = filterColor(outputColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,oP=`#define LineTypeSolid (0.0)
#define LineTypeDash (1.0)
#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

out vec4 v_dash_array;
out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_line_data;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps(float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return index / (segmentNumber - 1.0);
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(mix(source, target, segmentRatio), sqrt(max(0.0, vertex_height)));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}
float getAngularDist(vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) * sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate(vec2 source, vec2 target, float angularDist, float t) {
  if (abs(angularDist - PI) < 0.001) {
    return (1.0 - t) * source + t * target;
  }
  float a = sin((1.0 - t) * angularDist) / sin(angularDist);
  float b = sin(t * angularDist) / sin(angularDist);
  vec2 sin_source = sin(source);
  vec2 cos_source = cos(source);
  vec2 sin_target = sin(target);
  vec2 cos_target = cos(target);
  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
  float z = a * sin_source.y + b * sin_target.y;
  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));

}

void main() {
  v_color = a_Color;
  v_color.a = v_color.a * opacity;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  if (u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    total_Distance = total_Distance * 16.0; // total_Distance*16.0 \u8C03\u6574\u9ED8\u8BA4\u7684\u6548\u679C
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  }

  if (u_animate.x == Animate) {
    v_distance_ratio = segmentIndex / segmentNumber;
  }

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;

  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0), a_Instance64Low.xy);
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0), a_Instance64Low.zw);

  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  v_line_data.g = a_Position.x; // \u8BE5\u9876\u70B9\u5728\u5F27\u7EBF\u4E0A\u7684\u5206\u6BB5\u6392\u5E8F
  if (LineTexture == u_line_texture) {
    float d_arcDistrance = length(source - target);
    d_arcDistrance = project_pixel(d_arcDistrance);

    float d_pixelLen = project_pixel(u_icon_step) / 8.0;
    v_line_data.b = floor(d_arcDistrance / d_pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    v_line_data.a = lineOffsetWidth / linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }

  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  setPickingColor(a_PickingColor);
}

`,l5={solid:0,dash:1};class TA extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:kt.NEAREST,min:kt.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12})}getCommonUniformsInfo(){const{sourceColor:e,targetColor:r,textureBlend:u="normal",lineType:d="solid",dashArray:h=[10,5],lineTexture:y=!1,iconStep:M=100,segmentNumber:U=30}=this.layer.getLayerConfig(),{animateOption:re}=this.layer.getLayerConfig();if(h.length===2&&h.push(0,0),this.rendererService.getDirty()){var Ee;(Ee=this.texture)===null||Ee===void 0||Ee.bind()}let Ae=0,We=[0,0,0,0],Ht=[0,0,0,0];e&&r&&(We=To(e),Ht=To(r),Ae=1);let Tn=this.layer.getLayerAnimateTime();isNaN(Tn)&&(Tn=0);const Fn={u_animate:this.animateOption2Array(re),u_dash_array:h,u_sourceColor:We,u_targetColor:Ht,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:U,u_line_type:l5[d]||0,u_icon_step:M,u_line_texture:y?1:0,u_textureBlend:u==="normal"?0:1,u_time:Tn,u_linearColor:Ae};return this.getUniformsBufferInfo(Fn)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{segmentNumber:r=30}=e.layer.getLayerConfig();return[yield e.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:oP,fragmentShader:aP,triangulation:hA,styleOption:{segmentNumber:r},defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Ya.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[u[3],u[4],u[5],u[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Ya.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>[Mo(u[3]),Mo(u[4]),Mo(u[5]),Mo(u[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const r=this.iconService.getIconMap(),{texture:u}=e,{x:d,y:h}=r[u]||{x:0,y:0};return[d,h]}}})}}const SA=`// #extension GL_OES_standard_derivatives : enable
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

in vec4 v_color;
in vec4 v_stroke;
// dash
in vec4 v_dash_array;
in float v_d_distance_ratio;
in vec2 v_iconMapUV;
in vec4 v_texture_data;

out vec4 outputColor;
#pragma include "picking"

// [animate, duration, interval, trailLength],
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // \u865A\u7EBF\u90E8\u5206
      discard;
    };
  }
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = v_texture_data.r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  if(u_linearDir < 1.0) {
    d_distance_ratio = v_texture_data.a;
  }
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
    outputColor.a *= v_color.a;
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     outputColor = v_color;
  }
  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_texture_data.g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
    float d_texPixelLen = v_texture_data.b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_texture_data.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    // v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor += pattern;
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = pattern;
    }
  } 

  float v = v_texture_data.a;
  float strokeWidth = min(0.5, u_strokeWidth);
  // \u7ED8\u5236 border
  if(strokeWidth > 0.01) {
    float borderOuterWidth = strokeWidth / 2.0;


    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {
      if(v > strokeWidth) { // \u5916\u4FA7
        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);
        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);
        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);
      } else if(v <= strokeWidth) {
        float linear = smoothstep(0.0, 1.0, v/strokeWidth);
        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);
      }
    }

    if(v < borderOuterWidth) {
      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);
    } else if(v > 1.0 - borderOuterWidth) {
      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);
    }
  }

  // blur
  float blurV = v_texture_data.a;
  if(blurV < 0.5) {
    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);
  } else {
    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);
  }
  
  outputColor = filterColor(outputColor);
}
`,sP=`#define Animate (0.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_INDEX) in vec3 a_DistanceAndIndexAndMiter;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec4 a_Normal_Total_Distance;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

out vec4 v_color;
out vec4 v_stroke;
//dash
out vec4 v_dash_array;
out float v_d_distance_ratio;
// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09
out vec2 v_iconMapUV;
out vec4 v_texture_data;

#pragma include "projection"
#pragma include "picking"

void main() {
  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;
  float a_Miter = a_DistanceAndIndexAndMiter.z;
  vec3 a_Normal = a_Normal_Total_Distance.xyz;
  float a_Total_Distance = a_Normal_Total_Distance.w;
  //dash\u8F93\u51FA
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  float d_texPixelLen; // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_float_pixel(u_icon_step);

  v_color = a_Color;
  v_color.a *= opacity;
  v_stroke = stroke;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * a_Normal;

  vec2 offset = project_pixel(size.xy);

  float lineDistance = a_DistanceAndIndex.x;
  float currentLinePointRatio = lineDistance / a_Total_Distance;

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09
  float linePixelSize = project_pixel(a_Size.x) * 2.0; // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2
  float texV = lineOffsetWidth / linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);
  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5 vertex height
  float lineHeight = a_Size.y; // size \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4EE3\u8868\u7684\u9AD8\u5EA6 [linewidth, lineheight]

  // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    h *= mapboxZoomScale;
    h += u_raisingHeight * mapboxZoomScale;
    if (u_heightfixed > 0.0) {
      lineHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(
    vec4(project_pos.xy + offset, lineHeight + h, 1.0)
  );

  setPickingColor(a_PickingColor);
}
`;class X3 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"textureEventFlag",!1),(0,me.Z)(this,"texture",this.createTexture2D({data:new Uint8Array([0,0,0,0]),width:1,height:1})),(0,me.Z)(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.textures.length===0&&(this.textures=[this.texture]),this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:kt.NEAREST,min:kt.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,DISTANCE_INDEX:10,NORMAL:11,UV:12})}getCommonUniformsInfo(){const{sourceColor:e,targetColor:r,textureBlend:u="normal",lineType:d="solid",dashArray:h=[10,5,0,0],lineTexture:y=!1,iconStep:M=100,vertexHeightScale:U=20,strokeWidth:re=0,raisingHeight:Ee=0,heightfixed:Ae=!1,linearDir:We=k3.VERTICAL,blur:Ht=[1,1,1,0]}=this.layer.getLayerConfig();let Tn=h;if(d!=="dash"&&(Tn=[0,0,0,0]),Tn.length===2&&Tn.push(0,0),this.rendererService.getDirty()&&this.texture){var Fn;(Fn=this.texture)===null||Fn===void 0||Fn.bind()}const{animateOption:br}=this.layer.getLayerConfig();let ei=0,Jr=[0,0,0,0],zi=[0,0,0,0];e&&r&&(Jr=To(e),zi=To(r),ei=1);const ca={u_animate:this.animateOption2Array(br),u_dash_array:Tn,u_blur:Ht,u_sourceColor:Jr,u_targetColor:zi,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:M,u_heightfixed:Number(Ae),u_vertexScale:U,u_raisingHeight:Number(Ee),u_strokeWidth:re,u_textureBlend:u===b6.NORMAL?0:1,u_line_texture:y?1:0,u_linearDir:We===k3.VERTICAL?1:0,u_linearColor:ei,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(ca)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.textureEventFlag||(e.textureEventFlag=!0,e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture)),e.buildModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{depth:r=!1}=e.layer.getLayerConfig(),{frag:u,vert:d,type:h}=e.getShaders();return e.layer.triangulation=s_,[yield e.layer.buildLayerModel({moduleName:"line"+h,vertexShader:d,fragmentShader:u,triangulation:s_,defines:e.getDefines(),inject:e.getInject(),depth:{enable:r}})]})()}getShaders(){return{frag:SA,vert:sP,type:""}}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Ya.Attribute,descriptor:{name:"a_DistanceAndIndexAndMiter",shaderLocation:this.attributeLocation.DISTANCE_INDEX,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h,y)=>y===void 0?[u[3],10,u[4]]:[u[3],y,u[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal_total_distance",type:Ya.Attribute,descriptor:{name:"a_Normal_Total_Distance",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u,d,h)=>[...h,u[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const r=this.iconService.getIconMap(),{texture:u}=e,{x:d,y:h}=r[u]||{x:0,y:0};return[d,h]}}})}}const uP=`
layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};
in float v_distanceScale;
in vec4 v_color;
//dash
in vec4 v_dash_array;

out vec4 outputColor;
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // \u865A\u7EBF\u90E8\u5206
      discard;
    };
  }
  if(u_linearColor==1.0){
    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);
    outputColor.a *= v_color.a; // \u5168\u5C40\u900F\u660E\u5EA6
  }
  else{
    outputColor = v_color;
  }
}
`,AA=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec4 a_SizeDistanceAndTotalDistance;

layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};

#pragma include "projection"
#pragma include "picking"

out vec4 v_color;
out float v_distanceScale;
out vec4 v_dash_array;

void main() {
  //dash\u8F93\u51FA
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;

  v_color = a_Color;
  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;
  v_color.a = v_color.a * opacity;
  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float h = float(a_Position.z) * u_vertexScale; // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5

  float lineHeight = a_SizeDistanceAndTotalDistance.y;
  // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
    h *= 2.0 / pow(2.0, 20.0 - u_Zoom);
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));
  gl_PointSize = 10.0;

}
`;class lP extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getCommonUniformsInfo(){const{sourceColor:e,targetColor:r,lineType:u="solid",dashArray:d=[10,5,0,0],vertexHeightScale:h=20}=this.layer.getLayerConfig();let y=d;u!=="dash"&&(y=[0,0,0,0]),y.length===2&&y.push(0,0);let M=0,U=[0,0,0,0],re=[0,0,0,0];e&&r&&(U=To(e),re=To(r),M=1);const Ee={u_sourceColor:U,u_targetColor:re,u_dash_array:y,u_vertexScale:h,u_linearColor:M};return this.getUniformsBufferInfo(Ee)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}getShaders(){return{frag:uP,vert:AA,type:"lineSimpleNormal"}}buildModels(){var e=this;return(0,Ba.Z)(function*(){e.initUniformsBuffer();const{frag:r,vert:u,type:d}=e.getShaders();return[yield e.layer.buildLayerModel({moduleName:d,vertexShader:u,fragmentShader:r,triangulation:C6,defines:e.getDefines(),inject:e.getInject(),primitive:kt.LINES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"sizeDistanceAndTotalDistance",type:Ya.Attribute,descriptor:{name:"a_SizeDistanceAndTotalDistance",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:4,update:(e,r,u)=>{const{size:d=1}=e,h=Array.isArray(d)?[d[0],d[1]]:[d,0];return[h[0],h[1],u[3],u[5]]}}})}}const cP=`#define Animate 0.0
#define LineTexture 1.0

// line texture

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};


in vec2 v_iconMapUV;
in vec4 v_color;
in float v_blur;
in vec4 v_dataset;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = v_dataset.r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  float v = v_dataset.a;

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    outputColor = mix(u_sourceColor, u_targetColor, v);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     outputColor = v_color;
  }

  outputColor.a *= v_color.a; // \u5168\u5C40\u900F\u660E\u5EA6
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_dataset.g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
    float d_texPixelLen = v_dataset.b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_dataset.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    // \u8BA1\u7B97\u7EB9\u7406\u95F4\u9694 start
    float flag = 0.0;
    if(u > 1.0/u_iconStepCount) {
      flag = 1.0;
    }
    u = fract(u*u_iconStepCount);
    // \u8BA1\u7B97\u7EB9\u7406\u95F4\u9694 end

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // Tip: \u5224\u65AD\u7EB9\u7406\u95F4\u9694
    if(flag > 0.0) {
      pattern = vec4(0.0);
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  }


  // blur - AA
  if(v < v_blur) {
    outputColor.a = mix(0.0, outputColor.a, v/v_blur);
  } else if(v > 1.0 - v_blur) {
    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);
  }

  outputColor = filterColor(outputColor);
}
`,fP=`#define Animate 0.0
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_MITER_TOTAL) in vec3 a_Distance_Total_Miter;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};

// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09
out vec2 v_iconMapUV;
out vec4 v_color;
out float v_blur;
out vec4 v_dataset;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float a_Distance = a_Distance_Total_Miter.x;
  float a_Miter = a_Distance_Total_Miter.y;
  float a_Total_Distance = a_Distance_Total_Miter.z;

  float d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  float d_texPixelLen; // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E

  v_iconMapUV = a_iconMapUV;
  if (u_heightfixed < 1.0) {
    // \u9AD8\u5EA6\u968F zoom \u8C03\u6574
    d_texPixelLen = project_pixel(u_icon_step);
  } else {
    d_texPixelLen = u_icon_step;
  }

  if (u_animate.x == Animate || u_linearColor == 1.0) {
    d_distance_ratio = a_Distance / a_Total_Distance;
  }

  float miter = (a_Miter + 1.0) / 2.0;
  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  v_dataset[0] = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  v_dataset[1] = a_Distance; // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
  v_dataset[2] = d_texPixelLen; // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
  v_dataset[3] = miter; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C 0 - 1

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float originSize = a_Size.x; // \u56FA\u5B9A\u9AD8\u5EA6
  if (u_heightfixed < 1.0) {
    originSize = project_float_meter(a_Size.x); // \u9AD8\u5EA6\u968F zoom \u8C03\u6574
  }

  float wallHeight = originSize * miter;
  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));

  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    if (u_heightfixed > 0.0) {
      wallHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`;class c5 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:kt.NEAREST,min:kt.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:12,UV:13,DISTANCE_MITER_TOTAL:15})}getCommonUniformsInfo(){const{sourceColor:e,targetColor:r,textureBlend:u="normal",heightfixed:d=!1,lineTexture:h=!1,iconStep:y=100,iconStepCount:M=1}=this.layer.getLayerConfig(),{animateOption:U}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var re;(re=this.texture)===null||re===void 0||re.bind()}let Ee=0,Ae=[0,0,0,0],We=[0,0,0,0];e&&r&&(Ae=To(e),We=To(r),Ee=1);const Ht={u_animate:this.animateOption2Array(U),u_sourceColor:Ae,u_targetColor:We,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:y,u_heightfixed:Number(d),u_linearColor:Ee,u_line_texture:h?1:0,u_textureBlend:u==="normal"?0:1,u_iconStepCount:M,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(Ht)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,Ba.Z)(function*(){return[yield e.layer.buildLayerModel({moduleName:"lineWall",vertexShader:fP,fragmentShader:cP,triangulation:s_,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},blend:e.getBlend()})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"distanceAndTotalAndMiter",type:Ya.Attribute,descriptor:{name:"a_Distance_Total_Miter",shaderLocation:this.attributeLocation.DISTANCE_MITER_TOTAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u)=>[u[3],u[4],u[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const r=this.iconService.getIconMap(),{texture:u}=e,{x:d,y:h}=r[u]||{x:0,y:0};return[d,h]}}})}}var f5={arc:r5,arc3d:bA,greatcircle:TA,wall:c5,line:X3,simple:lP,flowline:xA,earthArc3d:bA};class CA extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","LineLayer"),(0,me.Z)(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","thetaOffset"]),(0,me.Z)(this,"arrowInsertCount",0),(0,me.Z)(this,"defaultSourceConfig",{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}})}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new f5[r](e),yield e.initLayerModels()})()}getDefaultConfig(){const e=this.getModelType();return{line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},tileLine:{},earthArc3d:{},flowline:{},arrow:{}}[e]}getModelType(){var e;if(this.layerType)return this.layerType;const r=this.styleAttributeService.getLayerStyleAttribute("shape");return(r==null||(e=r.scale)===null||e===void 0?void 0:e.field)||"line"}processData(e){if(this.getModelType()!=="simple")return e;const r=[];return e.map(u=>{if(Array.isArray(u.coordinates)&&Array.isArray(u.coordinates[0])&&Array.isArray(u.coordinates[0][0])){const d=(0,Ir.Z)({},u);u.coordinates.map(h=>{r.push((0,Ir.Z)((0,Ir.Z)({},d),{},{coordinates:h}))})}else r.push(u)}),r}}const d5=`
layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

in vec4 v_color;
in float v_blur;
in float v_innerRadius;

out vec4 outputColor;

#pragma include "picking"
void main() {
  vec2 center = vec2(0.5);

  // Tip: \u7247\u5143\u5230\u4E2D\u5FC3\u70B9\u7684\u8DDD\u79BB 0 - 1
  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;
  // Tip: \u7247\u5143\u7684\u526A\u5207\u6210\u5706\u5F62
  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);


  if(v_innerRadius < 0.99) {
    // \u5F53\u5B58\u5728 stroke \u4E14 stroke > 0.01
    float blurWidth = (1.0 - v_blur)/2.0;
    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);
    if(fragmengTocenter > v_innerRadius + blurWidth) {
      outputColor = stroke;
    } else if(fragmengTocenter > v_innerRadius - blurWidth){
      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);
      outputColor = mix(v_color, stroke, mixR);
    } else {
      outputColor = v_color;
    }
  } else {
    // \u5F53\u4E0D\u5B58\u5728 stroke \u6216 stroke <= 0.01
    outputColor = v_color;
  }

  outputColor = filterColor(outputColor);
  
  if(u_additive > 0.0) {
    outputColor *= circleClipOpacity;
  } else {
    outputColor.a *= circleClipOpacity;
  }

}
`,dP=`
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

out vec4 v_color;
out float v_blur;
out float v_innerRadius;

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_blur = 1.0 - max(2.0 / a_Size, 0.05);
  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);

  vec2 offset = project_pixel(u_offsets);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function h5(t){const e=t.coordinates;return{vertices:[...e],indices:[0],size:e.length}}class hP extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const{blend:e,strokeOpacity:r=1,strokeWidth:u=0,stroke:d="#fff"}=this.layer.getLayerConfig(),h={u_stroke_color:To(d),u_additive:e==="additive"?1:0,u_stroke_opacity:r,u_stroke_width:u};return this.getUniformsBufferInfo(h)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.layer.triangulation=h5,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:dP,fragmentShader:d5,defines:e.getDefines(),inject:e.getInject(),triangulation:h5,depth:{enable:!1},primitive:kt.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0]]:[r]}}})}}const pP=`precision highp float;
in vec4 v_color;

#pragma include "picking"

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};
in float v_lightWeight;
in float v_barLinearZ;
out vec4 outputColor;
void main() {

   outputColor = v_color;

  // \u5F00\u542F\u900F\u660E\u5EA6\u6E10\u53D8
  if(u_opacitylinear > 0.0) {
    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;
  }

  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,gP=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};

out vec4 v_color;
out float v_lightWeight;
out float v_barLinearZ;
// \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143


#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) +
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec3 size = a_Size * a_Position;

  // a_Position.z \u662F\u5728\u6784\u5EFA\u7F51\u683C\u7684\u65F6\u5019\u4F20\u5165\u7684\u6807\u51C6\u503C 0 - 1\uFF0C\u5728\u63D2\u503C\u5668\u63D2\u503C\u53EF\u4EE5\u83B7\u53D6 0\uFF5E1 \u7EBF\u6027\u6E10\u53D8\u7684\u503C
  v_barLinearZ =  a_Position.z;

  vec3 offset = size; // \u63A7\u5236\u5706\u67F1\u4F53\u7684\u5927\u5C0F - \u4ECE\u6807\u51C6\u5355\u4F4D\u5706\u67F1\u4F53\u8FDB\u884C\u504F\u79FB
  if(u_heightfixed < 1.0) { // \u5706\u67F1\u4F53\u4E0D\u56FA\u5B9A\u9AD8\u5EA6
    //
  } else {// \u5706\u67F1\u4F53\u56FA\u5B9A\u9AD8\u5EA6 \uFF08 \u5904\u7406 mapbox \uFF09
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  // u_r \u63A7\u5236\u5706\u67F1\u7684\u751F\u957F
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // \u5706\u67F1\u5149\u7167\u6548\u679C
  float lightWeight = 1.0;
  if(u_lightEnable > 0.0) { // \u53D6\u6D88\u4E09\u5143\u8868\u8FBE\u5F0F\uFF0C\u589E\u5F3A\u5065\u58EE\u6027
    lightWeight = calc_lighting(pos);
  }
  v_lightWeight = lightWeight;
  // \u8BBE\u7F6E\u5706\u67F1\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);
    v_color.rgb *= lightWeight;
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     v_color = a_Color;
  }
  v_color.a *= u_opacity;


  // \u5728\u5730\u7403\u6A21\u5F0F\u4E0B\uFF0C\u5C06\u539F\u672C\u5782\u76F4\u4E8E xy \u5E73\u9762\u7684\u5706\u67F1\u8C03\u6574\u59FF\u6001\u5230\u9002\u5E94\u5706\u7684\u89D2\u5EA6
  //\u65CB\u8F6C\u77E9\u9635mx\uFF0C\u521B\u5EFA\u7ED5x\u8F74\u65CB\u8F6C\u77E9\u9635
  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
  float xRadian = getXRadian(a_Pos.y, r);
  float xcos = cos(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
  float xsin = sin(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
  mat4 mx = mat4(
    1,0,0,0,
    0,xcos,-xsin,0,
    0,xsin,xcos,0,
    0,0,0,1);

  //\u65CB\u8F6C\u77E9\u9635my\uFF0C\u521B\u5EFA\u7ED5y\u8F74\u65CB\u8F6C\u77E9\u9635
  float yRadian = getYRadian(a_Pos.x, a_Pos.z);
  float ycos = cos(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
  float ysin = sin(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
  mat4 my = mat4(
    ycos,0,-ysin,0,
    0,1,0,0,
    ysin,0,ycos,0,
    0,0,0,1);

  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);


  setPickingColor(a_PickingColor);
}
`,{isNumber:p5}=yo;class mP extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"raiseCount",0),(0,me.Z)(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getCommonUniformsInfo(){const{animateOption:e={enable:!1,speed:.01,repeat:!1},opacity:r=1,sourceColor:u,targetColor:d,pickLight:h=!1,heightfixed:y=!0,opacityLinear:M={enable:!1,dir:"up"},lightEnable:U=!0}=this.layer.getLayerConfig();let re=0,Ee=[0,0,0,0],Ae=[0,0,0,0];if(u&&d&&(Ee=To(u),Ae=To(d),re=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){const{speed:Tn=.01}=e;this.raiseCount+=Tn,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const We={u_sourceColor:Ee,u_targetColor:Ae,u_linearColor:re,u_pickLight:Number(h),u_heightfixed:Number(y),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_opacity:p5(r)?r:1,u_opacitylinear:Number(M.enable),u_opacitylinear_dir:M.dir==="up"?1:0,u_lightEnable:Number(U)};return this.getUniformsBufferInfo(We)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{animateOption:{repeat:r=1}}=e.layer.getLayerConfig();return e.raiseRepeat=r,[yield e.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:gP,fragmentShader:pP,triangulation:dA,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:kt.FRONT},blend:e.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:e=>{const{size:r}=e;if(r){let u=[];return Array.isArray(r)&&(u=r.length===2?[r[0],r[0],r[1]]:r),Array.isArray(r)||(u=[r,r,r]),u}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Ya.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:e=>{const r=Mc(e.coordinates);return F3([r[0],r[1]])}}})}}const vP=`in vec4 v_data;
in vec4 v_color;
in float v_radius;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));

  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(outer_df > antialiasblur + 0.018) discard;

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  if(u_stroke_width < 0.01) {
    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);
  } else {
    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor = filterColor(outputColor);
  }
}
`,OA=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
out vec4 v_data;
out vec4 v_color;
out float v_radius;

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize \u8BBE\u7F6E\u62FE\u53D6\u5927\u5C0F
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);

  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);

  setPickingColor(a_PickingColor);
}
`;class yP extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){const{strokeOpacity:e=1,strokeWidth:r=0,blend:u,blur:d=0}=this.layer.getLayerConfig();this.layer.getLayerConfig();const h={u_additive:u==="additive"?1:0,u_stroke_opacity:e,u_stroke_width:r,u_blur:d};return this.getUniformsBufferInfo(h)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.layer.triangulation=Nw,[yield e.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:OA,fragmentShader:vP,triangulation:Nw,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!0},blend:e.getBlend()})]})()}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Ya.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d)=>{const[h,y,M]=u,U=Ju.al(0,0,1),re=Ju.al(h,0,M),Ee=h>=0?Ju.EU(U,re):Math.PI*2-Ju.EU(U,re),Ae=Math.PI*2-Math.asin(y/100),We=qo.create();qo.rotateY(We,We,Ee),qo.rotateX(We,We,Ae);const Ht=Ju.al(1,1,0);Ju.fF(Ht,Ht,We),Ju.Fv(Ht,Ht);const Tn=Ju.al(-1,1,0);Ju.fF(Tn,Tn,We),Ju.Fv(Tn,Tn);const Fn=Ju.al(-1,-1,0);Ju.fF(Fn,Fn,We),Ju.Fv(Fn,Fn);const br=Ju.al(1,-1,0);Ju.fF(br,br,We),Ju.Fv(br,br);const ei=[...Ht,...Tn,...Fn,...br],Jr=d%4*3;return[ei[Jr],ei[Jr+1],ei[Jr+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=5}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Ya.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{shape:r=2}=e;return[this.layer.getLayerConfig().shape2d.indexOf(r)]}}})}}const _P=`
in vec4 v_color;
in float v_lightWeight;
out vec4 outputColor;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {

  outputColor = v_color;
  // \u5F00\u542F\u900F\u660E\u5EA6\u6E10\u53D8
  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,bP=`#define pi (3.1415926535)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec4 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};
out vec4 v_color;
out float v_lightWeight;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if (x > 0.0 && z > 0.0) {
    return atan(x / z);
  } else if (x > 0.0 && z <= 0.0) {
    return atan(-z / x) + pi / 2.0;
  } else if (x <= 0.0 && z <= 0.0) {
    return pi + atan(x / z); //atan(x/z) +
  } else {
    return atan(z / -x) + pi * 3.0 / 2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y / r);
}

void main() {
  vec3 size = a_Size * a_Position;

  vec3 offset = size; // \u63A7\u5236\u5706\u67F1\u4F53\u7684\u5927\u5C0F - \u4ECE\u6807\u51C6\u5355\u4F4D\u5706\u67F1\u4F53\u8FDB\u884C\u504F\u79FB

  if (u_heightfixed < 1.0) {
    // \u5706\u67F1\u4F53\u4E0D\u56FA\u5B9A\u9AD8\u5EA6
  } else {
    // \u5706\u67F1\u4F53\u56FA\u5B9A\u9AD8\u5EA6 \uFF08 \u5904\u7406 mapbox \uFF09
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      offset *= 4.0 / pow(2.0, 21.0 - u_Zoom);
    }
  }

  vec2 positions = a_Extrude.xy;
  vec2 positions64Low = a_Extrude.zw;
  vec4 project_pos = project_position(vec4(positions, 0.0, 1.0), positions64Low);

  // u_r \u63A7\u5236\u5706\u67F1\u7684\u751F\u957F
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // // \u5706\u67F1\u5149\u7167\u6548\u679C
  float lightWeight = 1.0;

  if (u_lightEnable > 0.0) {
    // \u53D6\u6D88\u4E09\u5143\u8868\u8FBE\u5F0F\uFF0C\u589E\u5F3A\u5065\u58EE\u6027
    lightWeight = calc_lighting(pos);
  }

  v_lightWeight = lightWeight;

  v_color = a_Color;

  // \u8BBE\u7F6E\u5706\u67F1\u7684\u5E95\u8272
  if (u_linearColor == 1.0) {
    // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);
    v_color.a = v_color.a * opacity;
  } else {
    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);
  }

  if (u_opacitylinear > 0.0) {
    v_color.a *= u_opacitylinear_dir > 0.0 ? 1.0 - a_Position.z : a_Position.z;
  }

  gl_Position = project_common_position_to_clipspace(pos);

  setPickingColor(a_PickingColor);
}
`;class g5 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"raiseCount",0),(0,me.Z)(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,NORMAL:11})}getCommonUniformsInfo(){const{animateOption:e={enable:!1,speed:.01,repeat:!1},sourceColor:r,targetColor:u,pickLight:d=!1,heightfixed:h=!1,opacityLinear:y={enable:!1,dir:"up"},lightEnable:M=!0}=this.layer.getLayerConfig();let U=0,re=[0,0,0,0],Ee=[0,0,0,0];if(r&&u&&(re=To(r),Ee=To(u),U=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){const{speed:Ht=.01}=e;this.raiseCount+=Ht,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const Ae={u_pickLight:Number(d),u_heightfixed:Number(h),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_linearColor:U,u_sourceColor:re,u_targetColor:Ee,u_opacitylinear:Number(y.enable),u_opacitylinear_dir:y.dir==="up"?1:0,u_lightEnable:Number(M)};return this.getUniformsBufferInfo(Ae)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{depth:r=!0,animateOption:{repeat:u=1}}=e.layer.getLayerConfig();return e.raiseRepeat=u,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:bP,fragmentShader:_P,triangulation:dA,defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:kt.FRONT},depth:{enable:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:e=>{const{size:r}=e;if(r){let u=[];return Array.isArray(r)&&(u=r.length===2?[r[0],r[0],r[1]]:r),Array.isArray(r)||(u=[r,r,r]),u}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Ya.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:4,update:e=>{const r=Mc(e.coordinates);return[r[0],r[1],Mo(r[0]),Mo(r[1])]}}})}}const EP=`
layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

in vec4 v_color;
in vec4 v_stroke;
in vec4 v_data;
in float v_radius;

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));
  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  if(u_stroke_width < 0.01) {
    outputColor = v_color;
  } else {
    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);
  }
  float intensity = 1.0;
  if(u_time!=-1.0){
    //wave\u76F8\u5173\u903B\u8F91
    float d = length(v_data.xy);
    if(d > 0.5) {
      discard;
    }
    intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor *= intensity;//wave
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor.a *= intensity;//wave 
    outputColor = filterColor(outputColor);
  }
   // \u4F5C\u4E3A mask \u6A21\u677F\u65F6\u9700\u8981\u4E22\u5F03\u900F\u660E\u7684\u50CF\u7D20
  if(outputColor.a < 0.01) {
    discard;
  } 
}
`,xP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

out vec4 v_color;
out vec4 v_stroke;
out vec4 v_data;
out float v_radius;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // \u900F\u660E\u5EA6\u8BA1\u7B97
   v_stroke = stroke;
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize \u8BBE\u7F6E\u62FE\u53D6\u5927\u5C0F
  *  u_meter2coord \u5728\u7B49\u9762\u79EF\u5927\u5C0F\u7684\u65F6\u5019\u8BBE\u7F6E\u5355\u4F4D
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;



  // unpack color(vec2)
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  if(u_size_unit == 1.0) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }

   v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);

  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);

  offset = project_pixel(offset);
  offset = rotate_matrix(offset,rotation);

  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  float raisingHeight = u_blur_height_fixed.y;

  if(u_blur_height_fixed.z < 1.0) { // false
    raisingHeight = project_pixel(u_blur_height_fixed.y);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`;class hx extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){const{strokeOpacity:e=1,strokeWidth:r=0,blend:u,blur:d=0,raisingHeight:h=0,heightfixed:y=!1,unit:M="pixel"}=this.layer.getLayerConfig();let U=this.getAnimateUniforms().u_time;isNaN(U)&&(U=-1);const re={u_blur_height_fixed:[d,Number(h),Number(y)],u_stroke_width:r,u_additive:u==="additive"?1:0,u_stroke_opacity:e,u_size_unit:ox[M],u_time:U,u_animate:this.getAnimateUniforms().u_animate};return this.getUniformsBufferInfo(re)}getAnimateUniforms(){const{animateOption:e={enable:!1}}=this.layer.getLayerConfig();return{u_animate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),H1)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{frag:r,vert:u,type:d}=e.getShaders();return e.layer.triangulation=H1,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:d,vertexShader:u,fragmentShader:r,defines:e.getDefines(),inject:e.getInject(),triangulation:H1,depth:{enable:!1}})]})()}getShaders(){return{frag:EP,vert:xP,type:"pointFill"}}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){const e=this.layer.getLayerConfig().shape2d;this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Ya.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(r,u,d,h)=>{const y=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],M=h%4*3;return[y[M],y[M+1],y[M+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:r=>{const{size:u=5}=r;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Ya.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:r=>{const{shape:u=2}=r;return[e.indexOf(u)]}}})}}const m5=`in vec2 v_uv;// \u672C\u8EAB\u7684 uv \u5750\u6807
in vec2 v_Iconuv;
in float v_opacity;
out vec4 outputColor;

uniform sampler2D u_texture;
layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed: 0.0;
  float u_raisingHeight: 0.0;
  float u_size_unit;
};

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

void main() {
  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;
  outputColor = texture(SAMPLER_2D(u_texture), pos);
  outputColor.a *= v_opacity;
  outputColor = filterColor(outputColor);
}
`,v5=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed;
  float u_raisingHeight;
  float u_size_unit;
};

out vec2 v_uv;
out vec2 v_Iconuv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  vec3 extrude = a_Extrude;
  v_uv = (a_Extrude.xy + 1.0) / 2.0;
  v_uv.y = 1.0 - v_uv.y;
  v_Iconuv = a_Uv;
  v_opacity = opacity;
  float newSize = a_Size;
  if (u_size_unit == 1.0) {
    newSize = newSize * u_PixelsPerMeter.z;
  }

  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);
  vec2 offset = extrude.xy * newSize + offsets;

  offset = rotate_matrix(offset, rotation);

  offset = project_pixel(offset);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`;class TP extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"meter2coord",1),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"isMeter",!1),(0,me.Z)(this,"radian",0),(0,me.Z)(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),this.layerService.throttleRenderLayers();return}this.texture=r({data:this.iconService.getCanvas(),mag:kt.LINEAR,min:kt.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,UV:11})}getCommonUniformsInfo(){const{raisingHeight:e=0,heightfixed:r=!1,unit:u="pixel"}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var d;(d=this.texture)===null||d===void 0||d.bind()}const h={u_textSize:[1024,this.iconService.canvasHeight||128],u_heightfixed:Number(r),u_raisingHeight:Number(e),u_size_unit:ox[u]};return this.getUniformsBufferInfo(h)}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),H1)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.iconService.on("imageUpdate",e.updateTexture),e.updateTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:v5,fragmentShader:m5,triangulation:H1,depth:{enable:!1},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:kt.FRONT}})]})()}clearModels(){var e;this.iconService.off("imageUpdate",this.updateTexture),(e=this.texture)===null||e===void 0||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const r=this.iconService.getIconMap(),{shape:u}=e,{x:d,y:h}=r[u]||{x:-64,y:-64};return[d,h]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Ya.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d)=>{const h=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],y=d%4*3;return[h[y],h[y+1],h[y+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=5}=e;return Array.isArray(r)?[r[0]]:[r]}}})}}const SP=`layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

uniform sampler2D u_texture;

in vec4 v_color;
in vec2 v_uv;
in float v_opacity;

#pragma include "picking"

out vec4 outputColor;

void main(){
  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
  vec4 textureColor;

  // Y = 0.299R + 0.587G + 0.114B // \u4EAE\u5EA6\u63D0\u53D6
  
  textureColor = texture(SAMPLER_2D(u_texture), pos);

  // Tip: \u53BB\u9664\u8FB9\u7F18\u90E8\u5206 mipmap \u5BFC\u81F4\u7684\u6DF7\u5408\u53D8\u6697
  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);
  if(fragmengTocenter >= 0.5) {
        float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;
        textureColor.a *= luma;
  }
  
  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
        outputColor= textureColor;
  }else {
        outputColor= step(0.01, textureColor.z) * v_color;
  }
  outputColor.a *= v_opacity;
  if (outputColor.a < 0.01) {
      discard;
  }
  outputColor = filterColor(outputColor);
}
`,AP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

out vec4 v_color;
out vec2 v_uv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  v_color = a_Color;
  v_opacity = opacity;
  v_uv = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  vec2 offset = project_pixel(offsets);

  float raisingHeight = u_raisingHeight;
  if (u_heightfixed < 1.0) {
    // false
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;class y5 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),setTimeout(()=>{this.layerService.throttleRenderLayers()});return}this.texture=r({data:this.iconService.getCanvas(),mag:kt.LINEAR,min:kt.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10})}getUninforms(){if(this.rendererService.getDirty()){var e;(e=this.texture)===null||e===void 0||e.bind()}const r=this.getCommonUniformsInfo(),u=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},r.uniformsOption),u.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:e=0,heightfixed:r=!1}=this.layer.getLayerConfig(),u={u_textSize:[1024,this.iconService.canvasHeight||128],u_raisingHeight:Number(e),u_heightfixed:Number(r),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(u)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.iconService.on("imageUpdate",e.updateTexture),e.updateTexture(),e.buildModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"pointImage",vertexShader:AP,fragmentShader:SP,triangulation:f2,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:kt.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=5}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:e=>{const r=this.iconService.getIconMap(),{shape:u}=e,{x:d,y:h}=r[u]||{x:-64,y:-64};return[d,h]}}})}}const _5=`in vec4 v_color;
out vec4 outputColor;
void main() {
  outputColor = v_color;
}`,b5=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform u_Common {
  float u_size_scale;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"

void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(project_pos);

  gl_PointSize = a_Size * u_size_scale * 2.0 * u_DevicePixelRatio;
}
`;function E5(t){const e=t.coordinates;return{vertices:[...e],indices:[0],size:e.length}}class x5 extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const e={u_size_scale:.5};return this.getUniformsBufferInfo(e)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.layer.triangulation=E5,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:b5,fragmentShader:_5,triangulation:E5,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:kt.POINTS,pick:!1})]})()}clearModels(){}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=1}=e;return Array.isArray(r)?[r[0]]:[r]}}})}}const CP=`
layout(std140) uniform commonUniorm{
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};
in vec4 v_data;
in vec4 v_color;
in float v_radius;
in vec2 v_extrude;
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius);

  float outer_df = sdCircle(v_data.xy, 1.0);
  float inner_df = sdCircle(v_data.xy, r);

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  outputColor = vec4(v_color.rgb, v_color.a);

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
  } else {
    outputColor.a *= opacity_t;
  }

  if(outputColor.a > 0.0) {
    outputColor = filterColor(outputColor);
  }

  vec2 extrude =  v_extrude;
  vec2 dir = normalize(extrude);
  vec2 baseDir = vec2(1.0, 0.0);
  float pi = 3.14159265359;
  float flag = sign(dir.y);
  float rades = dot(dir, baseDir);
  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;
  // simple AA
  if(radar_v > 0.99) {
    radar_v = 1.0 - (radar_v - 0.99)/0.01;
  }

  outputColor.a *= radar_v;
}
`,p2=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniorm {
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};

out vec4 v_data;
out vec4 v_color;
out float v_radius;
out vec2 v_extrude;

#pragma include "projection"
#pragma include "picking"

void main() {
  float newSize = setPickingSize(a_Size);

  float time = u_time * u_speed;
  mat2 rotateMatrix = mat2(
    cos(time), sin(time),
    -sin(time), cos(time)
  );
  v_extrude = rotateMatrix * a_Extrude.xy;

  v_color = a_Color;
  v_color.a *= opacity;

  float blur = 0.0;
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);

  if(u_size_unit == 1.) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }
  v_radius = newSize;

  vec2 offset = (a_Extrude.xy * (newSize));

  offset = project_pixel(offset);

  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  setPickingColor(a_PickingColor);
}
`;class K3 extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10})}getCommonUniformsInfo(){const{blend:e,speed:r=1,unit:u="pixel"}=this.layer.getLayerConfig(),d={u_additive:e==="additive"?1:0,u_size_unit:ox[u],u_speed:r,u_time:this.layer.getLayerAnimateTime()};return this.getUniformsBufferInfo(d)}getAnimateUniforms(){return{}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),H1)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:p2,fragmentShader:CP,triangulation:H1,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}})]})()}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Ya.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d)=>{const h=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],y=d%4*3;return[h[y],h[y+1],h[y+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=5}=e;return Array.isArray(r)?[r[0]]:[r]}}})}}class T5{constructor(e,r,u){(0,me.Z)(this,"boxCells",[]),(0,me.Z)(this,"xCellCount",void 0),(0,me.Z)(this,"yCellCount",void 0),(0,me.Z)(this,"boxKeys",void 0),(0,me.Z)(this,"bboxes",void 0),(0,me.Z)(this,"width",void 0),(0,me.Z)(this,"height",void 0),(0,me.Z)(this,"xScale",void 0),(0,me.Z)(this,"yScale",void 0),(0,me.Z)(this,"boxUid",void 0);const d=this.boxCells;this.xCellCount=Math.ceil(e/u),this.yCellCount=Math.ceil(r/u);for(let h=0;h<this.xCellCount*this.yCellCount;h++)d.push([]);this.boxKeys=[],this.bboxes=[],this.width=e,this.height=r,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/r,this.boxUid=0}insert(e,r,u,d,h){this.forEachCell(r,u,d,h,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(r),this.bboxes.push(u),this.bboxes.push(d),this.bboxes.push(h)}query(e,r,u,d,h){return this.queryHitTest(e,r,u,d,!1,h)}hitTest(e,r,u,d,h){return this.queryHitTest(e,r,u,d,!0,h)}insertBoxCell(e,r,u,d,h,y){this.boxCells[h].push(y)}queryHitTest(e,r,u,d,h,y){if(u<0||e>this.width||d<0||r>this.height)return h?!1:[];const M=[];if(e<=0&&r<=0&&this.width<=u&&this.height<=d){if(h)return!0;for(let re=0;re<this.boxKeys.length;re++)M.push({key:this.boxKeys[re],x1:this.bboxes[re*4],y1:this.bboxes[re*4+1],x2:this.bboxes[re*4+2],y2:this.bboxes[re*4+3]});return y?M.filter(y):M}const U={hitTest:h,seenUids:{box:{},circle:{}}};return this.forEachCell(e,r,u,d,this.queryCell,M,U,y),h?M.length>0:M}queryCell(e,r,u,d,h,y,M,U){const re=M.seenUids,Ee=this.boxCells[h];if(Ee!==null){const Ae=this.bboxes;for(const We of Ee)if(!re.box[We]){re.box[We]=!0;const Ht=We*4;if(e<=Ae[Ht+2]&&r<=Ae[Ht+3]&&u>=Ae[Ht+0]&&d>=Ae[Ht+1]&&(!U||U(this.boxKeys[We]))){if(M.hitTest)return y.push(!0),!0;y.push({key:this.boxKeys[We],x1:Ae[Ht],y1:Ae[Ht+1],x2:Ae[Ht+2],y2:Ae[Ht+3]})}}}return!1}forEachCell(e,r,u,d,h,y,M,U){const re=this.convertToXCellCoord(e),Ee=this.convertToYCellCoord(r),Ae=this.convertToXCellCoord(u),We=this.convertToYCellCoord(d);for(let Ht=re;Ht<=Ae;Ht++)for(let Tn=Ee;Tn<=We;Tn++){const Fn=this.xCellCount*Tn+Ht;if(h.call(this,e,r,u,d,Fn,y,M,U))return}}convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}}var OP=T5;class S5{constructor(e,r){(0,me.Z)(this,"width",void 0),(0,me.Z)(this,"height",void 0),(0,me.Z)(this,"grid",void 0),(0,me.Z)(this,"viewportPadding",100),(0,me.Z)(this,"screenRightBoundary",void 0),(0,me.Z)(this,"screenBottomBoundary",void 0),(0,me.Z)(this,"gridRightBoundary",void 0),(0,me.Z)(this,"gridBottomBoundary",void 0),this.width=e,this.height=r,this.viewportPadding=Math.max(e,r),this.grid=new OP(e+this.viewportPadding,r+this.viewportPadding,25),this.screenRightBoundary=e+this.viewportPadding,this.screenBottomBoundary=r+this.viewportPadding,this.gridRightBoundary=e+2*this.viewportPadding,this.gridBottomBoundary=r+2*this.viewportPadding}placeCollisionBox(e){const r=e.x1+e.anchorPointX+this.viewportPadding,u=e.y1+e.anchorPointY+this.viewportPadding,d=e.x2+e.anchorPointX+this.viewportPadding,h=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(r,u,d,h)||this.grid.hitTest(r,u,d,h)?{box:[]}:{box:[r,u,d,h]}}insertCollisionBox(e,r){const u={featureIndex:r};this.grid.insert(u,e[0],e[1],e[2],e[3])}project(e,r,u){const d=ch.al(r,u,0,1),h=ch.Ue(),y=qo.fromValues(...e);return ch.fF(h,d,y),{x:(h[0]/h[3]+1)/2*this.width+this.viewportPadding,y:(-h[1]/h[3]+1)/2*this.height+this.viewportPadding}}isInsideGrid(e,r,u,d){return u>=0&&e<this.gridRightBoundary&&d>=0&&r<this.gridBottomBoundary}}function Q3(t){let e=.5,r=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0;break;default:e=.5}switch(t){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0;break;default:r=.5}return{horizontalAlign:e,verticalAlign:r}}function A5(t,e,r,u,d){if(!d)return;const h=t[u],y=h.glyph;if(y){const M=e[y].advance*h.scale,U=(t[u].x+M)*d;for(let re=r;re<=u;re++)t[re].x-=U}}function C5(t,e,r,u,d,h,y){const M=(e-r)*d,U=(-u*y+.5)*h;for(const re of t)re.x+=M,re.y+=U}function wA(t,e,r,u,d,h,y){let U=0,re=-8,Ee=0;const Ae=t.positionedGlyphs,We=h==="right"?1:h==="left"?0:.5,Ht=Ae.length;r.forEach(ei=>{if(ei.split("").forEach(Jr=>{const zi=e[Jr];zi&&(Ae.push({glyph:Jr,x:U,y:re+0,vertical:!1,scale:1,metrics:zi}),U+=zi.advance+y)}),Ae.length!==Ht){const Jr=U-y;Ee=Math.max(Jr,Ee),A5(Ae,e,Ht,Ae.length-1,We)}U=0,re-=u+5});const{horizontalAlign:Tn,verticalAlign:Fn}=Q3(d);C5(Ae,We,Tn,Fn,Ee,u,r.length);const br=re- -8;t.top+=-Fn*br,t.bottom=t.top-br,t.left+=-Tn*Ee,t.right=t.left+Ee}function wP(t,e,r,u,d,h,y){let U=0,re=-8,Ee=0;const Ae=t.positionedGlyphs,We=h==="right"?1:h==="left"?0:.5,Ht=Ae.length;r.forEach(ei=>{const Jr=e[ei];if(Jr&&(Ae.push({glyph:ei,x:Jr.advance/2,y:re+0,vertical:!1,scale:1,metrics:Jr}),U+=Jr.advance+y),Ae.length!==Ht){const ca=U-y;Ee=Math.max(ca,Ee),A5(Ae,e,Ht,Ae.length-1,We)}U=0,re-=u+5});const{horizontalAlign:Tn,verticalAlign:Fn}=Q3(d);C5(Ae,We,Tn,Fn,Ee,u,r.length);const br=re- -8;t.top+=-Fn*br,t.bottom=t.top-br,t.left+=-Tn*Ee,t.right=t.left+Ee}function O5(t,e,r,u,d,h,y=[0,0],M){const U=t.split(`
`),re=[],Ee={positionedGlyphs:re,top:y[1],bottom:y[1],left:y[0],right:y[0],lineCount:U.length,text:t};return M?wP(Ee,e,U,r,u,d,h):wA(Ee,e,U,r,u,d,h),re.length?Ee:!1}function MA(t,e=[0,0],r){const{positionedGlyphs:u=[]}=t,d=[];for(const h of u){const y=h.metrics,M=4,U=y.advance*h.scale/2,re=r?[h.x+U,h.y]:[0,0],Ee=r?[0,0]:[h.x+U+e[0],h.y+e[1]],Ae=(0-M)*h.scale-U+Ee[0],We=(0-M)*h.scale+Ee[1],Ht=Ae+y.width*h.scale,Tn=We+y.height*h.scale,Fn={x:Ae,y:We},br={x:Ht,y:We},ei={x:Ae,y:Tn},Jr={x:Ht,y:Tn};d.push({tl:Fn,tr:br,bl:ei,br:Jr,tex:y,glyphOffset:re})}return d}const w5=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0

uniform sampler2D u_sdf_map;
layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

in vec2 v_uv;
in float v_gamma_scale;
in vec4 v_color;
in vec4 v_stroke_color;
in float v_fontScale;

out vec4 outputColor;

#pragma include "picking"
void main() {
  // get style data mapping

  // get sdf from atlas
  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;

  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);

  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));

  outputColor.a *= alpha;
   // \u4F5C\u4E3A mask \u6A21\u677F\u65F6\u9700\u8981\u4E22\u5F03\u900F\u660E\u7684\u50CF\u7D20
  if (outputColor.a < 0.01) {
    discard;
  }
  outputColor = filterColor(outputColor);
}
`,px=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_TEXT_OFFSETS) in vec2 a_textOffsets;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_tex;

layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

out vec2 v_uv;
out float v_gamma_scale;
out vec4 v_color;
out vec4 v_stroke_color;
out float v_fontScale;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_uv = a_tex / u_sdf_map_size;



  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);

  // \u6587\u672C\u7F29\u653E\u6BD4\u4F8B
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  vec2 offset = rotate_matrix(a_textOffsets,rotation);

  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  float raiseHeight = u_raisingHeight;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    raiseHeight = u_raisingHeight * mapboxZoomScale;
  }

  vec4 projected_position = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));

  gl_Position = vec4(
    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`,{isEqual:gx}=yo;function RA(t){const e=this,r=t.id,u=[],d=[];if(!e.glyphInfoMap||!e.glyphInfoMap[r])return{vertices:[],indices:[],size:7};const h=e.glyphInfoMap[r].centroid,y=h.length===2?[h[0],h[1],0]:h;return e.glyphInfoMap[r].glyphQuads.forEach((M,U)=>{u.push(...y,M.tex.x,M.tex.y+M.tex.height,M.tl.x,M.tl.y,...y,M.tex.x+M.tex.width,M.tex.y+M.tex.height,M.tr.x,M.tr.y,...y,M.tex.x+M.tex.width,M.tex.y,M.br.x,M.br.y,...y,M.tex.x,M.tex.y,M.bl.x,M.bl.y),d.push(0+U*4,1+U*4,2+U*4,2+U*4,3+U*4,0+U*4)}),{vertices:u,indices:d,size:7}}class PA extends Nc{constructor(...e){var r;super(...e),r=this,(0,me.Z)(this,"glyphInfo",void 0),(0,me.Z)(this,"glyphInfoMap",{}),(0,me.Z)(this,"rawEncodeData",void 0),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"currentZoom",-1),(0,me.Z)(this,"extent",void 0),(0,me.Z)(this,"textureHeight",0),(0,me.Z)(this,"textCount",0),(0,me.Z)(this,"preTextStyle",{}),(0,me.Z)(this,"mapping",(0,Ba.Z)(function*(){r.initGlyph(),r.updateTexture(),yield r.reBuildModel()}))}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,TEXT_OFFSETS:10,UV:11})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption),{u_sdf_map:this.textures[0]})}getCommonUniformsInfo(){const{stroke:e="#fff",strokeWidth:r=0,halo:u=.5,gamma:d=2,raisingHeight:h=0}=this.layer.getLayerConfig(),y=this.getFontServiceMapping(),M=this.getFontServiceCanvas();y&&Object.keys(y).length!==this.textCount&&M&&(this.updateTexture(),this.textCount=Object.keys(y).length),this.preTextStyle=this.getTextStyle();const U={u_stroke_color:To(e),u_sdf_map_size:[(M==null?void 0:M.width)||1,(M==null?void 0:M.height)||1],u_raisingHeight:Number(h),u_stroke_width:r,u_gamma_scale:d,u_halo_blur:u};return this.getUniformsBufferInfo(U)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.bindEvent(),e.extent=e.textExtent(),e.rawEncodeData=e.layer.getEncodedData(),e.preTextStyle=e.getTextStyle(),e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{textAllowOverlap:r=!1}=e.layer.getLayerConfig();return e.initGlyph(),e.updateTexture(),r||e.filterGlyphs(),[yield e.layer.buildLayerModel({moduleName:"pointText",vertexShader:px,fragmentShader:w5,defines:e.getDefines(),inject:e.getInject(),triangulation:RA.bind(e),depth:{enable:!1}})]})()}needUpdate(){var e=this;return(0,Ba.Z)(function*(){const{textAllowOverlap:r=!1,textAnchor:u="center",textOffset:d,padding:h,fontFamily:y,fontWeight:M}=e.getTextStyle();if(!gx(h,e.preTextStyle.padding)||!gx(d,e.preTextStyle.textOffset)||!gx(u,e.preTextStyle.textAnchor)||!gx(y,e.preTextStyle.fontFamily)||!gx(M,e.preTextStyle.fontWeight))return yield e.mapping(),!0;if(r)return!1;const U=e.mapService.getZoom(),re=e.mapService.getBounds(),Ee=ed(e.extent,re);return Math.abs(e.currentZoom-U)>.5||!Ee||r!==e.preTextStyle.textAllowOverlap?(yield e.reBuildModel(),!0):!1})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.layer.off("remapping",this.mapping)}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Ya.Attribute,descriptor:{shaderLocation:this.attributeLocation.TEXT_OFFSETS,name:"a_textOffsets",buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[5],u[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Ya.Attribute,descriptor:{name:"a_tex",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=12}=e;return Array.isArray(r)?[r[0]]:[r]}}})}bindEvent(){this.layer.isTileLayer||this.layer.on("remapping",this.mapping)}textExtent(){const e=this.mapService.getBounds();return Tl(e,.5)}initTextFont(){const{fontWeight:e,fontFamily:r}=this.getTextStyle(),u=this.rawEncodeData,d=[];u.forEach(h=>{let{shape:y=""}=h;y=y.toString();for(const M of y)d.indexOf(M)===-1&&d.push(M)}),this.fontService.setFontOptions({characterSet:d,fontWeight:e,fontFamily:r,iconfont:!1})}initIconFontTex(){const{fontWeight:e,fontFamily:r}=this.getTextStyle(),u=this.rawEncodeData,d=[];u.forEach(h=>{let{shape:y=""}=h;y=`${y}`,d.indexOf(y)===-1&&d.push(y)}),this.fontService.setFontOptions({characterSet:d,fontWeight:e,fontFamily:r,iconfont:!0})}getTextStyle(){const{fontWeight:e="400",fontFamily:r="sans-serif",textAllowOverlap:u=!1,padding:d=[0,0],textAnchor:h="center",textOffset:y=[0,0],opacity:M=1,strokeOpacity:U=1,strokeWidth:re=0,stroke:Ee="#000"}=this.layer.getLayerConfig();return{fontWeight:e,fontFamily:r,textAllowOverlap:u,padding:d,textAnchor:h,textOffset:y,opacity:M,strokeOpacity:U,strokeWidth:re,stroke:Ee}}generateGlyphLayout(e){const r=this.getFontServiceMapping(),{spacing:u=2,textAnchor:d="center",textOffset:h}=this.layer.getLayerConfig(),y=this.rawEncodeData;this.glyphInfo=y.map(M=>{const{shape:U="",id:re,size:Ee=1}=M,Ae=M.textOffset?M.textOffset:h||[0,0],We=M.textAnchor?M.textAnchor:d||"center",Ht=O5(U.toString(),r,Ee,We,"left",u,Ae,e),Tn=MA(Ht,Ae,!1);return M.shaping=Ht,M.glyphQuads=Tn,M.centroid=Mc(M.coordinates),this.glyphInfoMap[re]={shaping:Ht,glyphQuads:Tn,centroid:Mc(M.coordinates)},M})}getFontServiceMapping(){const{fontWeight:e="400",fontFamily:r="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getMappingByKey(`${r}_${e}`)}getFontServiceCanvas(){const{fontWeight:e="400",fontFamily:r="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getCanvasByKey(`${r}_${e}`)}filterGlyphs(){const{padding:e=[0,0],textAllowOverlap:r=!1}=this.layer.getLayerConfig();if(r)return;this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();const{width:u,height:d}=this.rendererService.getViewportSize(),h=new S5(u,d);this.glyphInfo.filter(M=>{const{shaping:U,id:re=0}=M,Ee=M.centroid,We=M.size/16,Ht=this.mapService.lngLatToContainer(Ee),{box:Tn}=h.placeCollisionBox({x1:U.left*We-e[0],x2:U.right*We+e[0],y1:U.top*We-e[1],y2:U.bottom*We+e[1],anchorPointX:Ht.x,anchorPointY:Ht.y});return Tn&&Tn.length?(h.insertCollisionBox(Tn,re),!0):!1}).forEach(M=>{this.glyphInfoMap[M.id]=M})}initGlyph(){const{iconfont:e=!1}=this.layer.getLayerConfig();e?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(e)}updateTexture(){const{createTexture2D:e}=this.rendererService,r=this.getFontServiceCanvas();this.textureHeight=r.height,this.texture&&this.texture.destroy(),this.texture=e({data:r,mag:kt.LINEAR,min:kt.LINEAR,width:r.width,height:r.height}),this.textures=[this.texture]}reBuildModel(){var e=this;return(0,Ba.Z)(function*(){e.filterGlyphs();const r=yield e.layer.buildLayerModel({moduleName:"pointText",vertexShader:px,fragmentShader:w5,triangulation:RA.bind(e),defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}});e.layer.models=[r]})()}}var RP={fillImage:TP,fill:hx,radar:K3,image:y5,normal:x5,simplePoint:hP,extrude:g5,text:PA,earthFill:yP,earthExtrude:mP};class rv extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","PointLayer"),(0,me.Z)(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","rotation"]),(0,me.Z)(this,"enableDataEncodeStyles",["textOffset","textAnchor"]),(0,me.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}})}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel&&e.layerModel.clearModels(),e.layerModel=new RP[r](e),yield e.initLayerModels()})()}rebuildModels(){var e=this;return(0,Ba.Z)(function*(){yield e.buildModels()})()}getModelTypeWillEmptyData(){if(this.shapeOption){const{field:e,values:r}=this.shapeOption,{shape2d:u}=this.getLayerConfig(),d=this.iconService.getIconMap();if(e&&(u==null?void 0:u.indexOf(e))!==-1)return"fill";if(r==="text")return"text";if(r&&r instanceof Array){for(const h of r)if(typeof h=="string"&&d.hasOwnProperty(h))return"image"}}return"normal"}getDefaultConfig(){const e=this.getModelType();return{fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},tile:{},tileText:{},earthFill:{},earthExtrude:{}}[e]}getModelType(){const e=this.getEncodedData(),{shape2d:r,shape3d:u,billboard:d=!0}=this.getLayerConfig(),h=this.iconService.getIconMap(),y=e.find(M=>M.hasOwnProperty("shape"));if(y){const M=y.shape;return M==="dot"?"normal":M==="simple"?"simplePoint":M==="radar"?"radar":this.layerType==="fillImage"||d===!1?"fillImage":(r==null?void 0:r.indexOf(M))!==-1?this.mapService.version==="GLOBEL"?"earthFill":"fill":(u==null?void 0:u.indexOf(M))!==-1?this.mapService.version==="GLOBEL"?"earthExtrude":"extrude":h.hasOwnProperty(M)?"image":"text"}else return this.getModelTypeWillEmptyData()}}function g2(t){return IA.apply(this,arguments)}function IA(){return IA=(0,Ba.Z)(function*(t){if(window.createImageBitmap){const e=yield fetch(t);return yield createImageBitmap(yield e.blob())}else{const e=new window.Image;return new Promise(r=>{e.onload=()=>r(e),e.src=t,e.crossOrigin="Anonymous"})}}),IA.apply(this,arguments)}const PP=`layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_raisingHeight;
};

in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

     // top face
    if(u_topsurface < 1.0) {
      discard;
    }

    outputColor = v_Color;
  
  outputColor = filterColor(outputColor);
}
`,M5=`
layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;
out vec4 outputColor;

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  float isSide =  v_texture_data.x;
  float sidey = v_uvs[2];
  float lightWeight = v_texture_data.y;

  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9
  if(isSide < 0.999) {
    // side face
    if(u_sidesurface < 1.0) {
      discard;
    }
    
    if( u_linearColor == 1.0) {
      // side use linear
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      // side notuse linear
       outputColor = v_Color;
    }
  } else {
    // top face
    if(u_topsurface < 1.0) {
      discard;
    }
    outputColor = v_Color;
  }

  outputColor = filterColorAlpha(outputColor, lightWeight);
}
`,R5=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  v_uvs = a_uvs;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);

  if (u_heightfixed > 0.0) {
    // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  float lightWeight = calc_lighting(project_pos);
  v_texture_data = vec2(a_Position.z, lightWeight);

  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,IP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_raisingHeight;
};

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float isSide = a_Position.z;
  float topU = a_uvs[0];
  float topV = 1.0 - a_uvs[1];
  float sidey = a_uvs[2];

  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);

  if (u_heightfixed > 0.0) {
    // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

 gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9
  if (isSide < 0.999) {
    // side face
    // if(u_sidesurface < 1.0) {
    //   discard;
    // }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      v_Color = linearColor;
    } else {
      v_Color = a_Color;
    }

  } else {
    v_Color = a_Color;
  }

  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,P5=`uniform sampler2D u_texture;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;

void main() {
  float opacity = u_opacity;
  float isSide = v_texture_data.x;
  float lightWeight = v_texture_data.y;
  float topU = v_uvs[0];
  float topV = 1.0 - v_uvs[1];
  float sidey = v_uvs[2];

  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));
  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9
  if (isSide < 0.999) {// \u662F\u5426\u662F\u8FB9\u7F18
    // side face
    if (u_sidesurface < 1.0) {
      discard;
    }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      outputColor = v_Color;
    }
  } else {
     // top face
    if (u_topsurface < 1.0) {
      discard;
    }
  }
  
  outputColor.a *= opacity;
  outputColor = filterColor(outputColor);
}
`,LP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_uvs = a_uvs;
  v_Color = a_Color;
  v_Color.a *= opacity;

  v_texture_data = vec2(a_Position.z, lightWeight);

  if (u_heightfixed > 0.0) {
    // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`;class NP extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{mapTexture:e,heightfixed:r=!1,raisingHeight:u=0,topsurface:d=!0,sidesurface:h=!0,sourceColor:y,targetColor:M}=this.layer.getLayerConfig();let U=0,re=[1,1,1,1],Ee=[1,1,1,1];y&&M&&(re=To(y),Ee=To(M),U=1);const Ae={u_sourceColor:re,u_targetColor:Ee,u_linearColor:U,u_topsurface:Number(d),u_sidesurface:Number(h),u_heightfixed:Number(r),u_raisingHeight:Number(u)};return e&&this.texture&&(Ae.u_texture=this.texture,this.textures=[this.texture]),this.getUniformsBufferInfo(Ae)}initModels(){var e=this;return(0,Ba.Z)(function*(){return yield e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{frag:r,vert:u,type:d}=e.getShaders();return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:d,vertexShader:u,fragmentShader:r,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),triangulation:W3})]})()}getShaders(){const{pickLight:e,mapTexture:r}=this.layer.getLayerConfig();return r?{frag:P5,vert:LP,type:"polygonExtrudeTexture"}:e?{frag:M5,vert:R5,type:"polygonExtrudePickLight"}:{frag:PP,vert:IP,type:"polygonExtrude"}}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy(),this.textures=[]}registerBuiltinAttributes(){const e=this.layer.getSource().extent,r=e[2]-e[0],u=e[3]-e[1];this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uvs",type:Ya.Attribute,descriptor:{name:"a_uvs",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(d,h,y)=>{const M=y[0],U=y[1];return[(M-e[0])/r,(U-e[1])/u,y[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(d,h,y,M,U)=>U}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:d=>{const{size:h=10}=d;return Array.isArray(h)?[h[0]]:[h]}}})}loadTexture(){var e=this;return(0,Ba.Z)(function*(){const{mapTexture:r}=e.layer.getLayerConfig(),{createTexture2D:u}=e.rendererService;if(e.texture=u({height:1,width:1}),r){const d=yield g2(r);e.texture=u({data:d,width:d.width,height:d.height,wrapS:kt.CLAMP_TO_EDGE,wrapT:kt.CLAMP_TO_EDGE,min:kt.LINEAR,mag:kt.LINEAR})}})()}}const DP=`
in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

  outputColor = v_Color;
  outputColor = filterColor(outputColor);
}
`,kP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_Color = a_Color;
  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`;class BP extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,EXTRUSION_BASE:11})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const e={};return this.getUniformsBufferInfo(e)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{frag:r,vert:u,type:d}=e.getShaders();return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:d,vertexShader:u,fragmentShader:r,defines:e.getDefines(),inject:e.getInject(),triangulation:W3,depth:{enable:!0}})]})()}getShaders(){return{frag:DP,vert:kP,type:"polygonExtrude"}}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Ya.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{size:r=10}=e;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrusionBase",type:Ya.Attribute,descriptor:{name:"a_ExtrusionBase",shaderLocation:this.attributeLocation.EXTRUSION_BASE,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:1,update:e=>{const{extrusionBase:r=0}=e;return[r]}}})}}const LA=`in vec4 v_color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,FP=`
layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

in vec4 v_color;
in vec3 v_linear;
in vec2 v_pos;
out vec4 outputColor;
#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  outputColor = v_color;
  if (u_opacitylinear > 0.0) {
    outputColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;
  }
  outputColor = filterColor(outputColor);
}
`,UP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_LINEAR) in vec3 a_linear;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

out vec4 v_color;
out vec3 v_linear;
out vec2 v_pos;

#pragma include "projection"
#pragma include "picking"

void main() {
  if (u_opacitylinear > 0.0) {
    v_linear = a_linear;
    v_pos = a_Position.xy;
  }
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  project_pos.z += u_raisingHeight;

  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  setPickingColor(a_PickingColor);
}
`,NA=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  project_pos.z += u_raisingHeight;

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}

`;class I5 extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,LINEAR:9})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:e=0,opacityLinear:r={enable:!1,dir:"in"}}=this.layer.getLayerConfig(),u={u_raisingHeight:Number(e),u_opacitylinear:Number(r.enable),u_dir:r.dir==="in"?1:0};return this.getUniformsBufferInfo(u)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){const{frag:r,vert:u,triangulation:d,type:h}=e.getModelParams();return e.initUniformsBuffer(),e.layer.triangulation=d,[yield e.layer.buildLayerModel({moduleName:h,vertexShader:u,fragmentShader:r,defines:e.getDefines(),inject:e.getInject(),triangulation:d,primitive:kt.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute();const{opacityLinear:e={enable:!1,dir:"in"}}=this.layer.getLayerConfig();e.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:Ya.Attribute,descriptor:{name:"a_linear",shaderLocation:this.attributeLocation.LINEAR,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(r,u,d)=>[d[3],d[4],d[5]]}})}getModelParams(){const{opacityLinear:e={enable:!1}}=this.layer.getLayerConfig();return e.enable?{frag:FP,vert:UP,type:"polygonLinear",triangulation:w6}:{frag:LA,vert:NA,type:"polygonFill",triangulation:h2}}}const L5=`
layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

in vec2 v_uv;
in float v_opacity;
out vec4 outputColor;

float coast2water_fadedepth = 0.10;
float large_waveheight      = .750; // change to adjust the "heavy" waves
float large_wavesize        = 3.4;  // factor to adjust the large wave size
float small_waveheight      = 0.6;  // change to adjust the small random waves
float small_wavesize        = 0.5;   // factor to ajust the small wave size
float water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)
float water_glossylight_fact= 120.; // range [1..200]
float particle_amount       = 70.;

vec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights
#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun

uniform sampler2D u_texture1;
uniform sampler2D u_texture2;
uniform sampler2D u_texture3;

  

float hash( float n ) {
    return fract(sin(n)*43758.5453123);
}

// 2d noise function
float noise1( in vec2 x ) {
  vec2 p  = floor(x);
  vec2 f  = smoothstep(0.0, 1.0, fract(x));
  float n = p.x + p.y*57.0;
  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),
    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);
}

float noise(vec2 p) {
    return texture(SAMPLER_2D(u_texture2),p*vec2(1./256.)).x;
}

vec4 highness(vec2 p) {
    vec4 t = texture(SAMPLER_2D(u_texture1),fract(p));
    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;
    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);
}

float height_map( vec2 p ) {
    vec4 height=highness(p);
    /*
    height = -0.5+
        0.5*smoothstep(-100.,0.,-height)+
        2.75*smoothstep(0.,2.,height)+
        1.75*smoothstep(2.,4.,height)+
        2.75*smoothstep(4.,16.,height)+
        1.5*smoothstep(16.,1000.,height);
    */

    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );
    //p = p*6.;
    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;
    f += 0.2500*noise( p ); p = m*p*1.32;
    f += 0.1666*noise( p ); p = m*p*1.11;
    f += 0.0834*noise( p ); p = m*p*1.12;
    f += 0.0634*noise( p ); p = m*p*1.13;
    f += 0.0444*noise( p ); p = m*p*1.14;
    f += 0.0274*noise( p ); p = m*p*1.15;
    f += 0.0134*noise( p ); p = m*p*1.16;
    f += 0.0104*noise( p ); p = m*p*1.17;
    f += 0.0084*noise( p );
    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;
        const float FLAT_LEVEL = 0.92525;
        //f = f*0.25+height*0.75;
    if (f<FLAT_LEVEL)
        f = f;
    else
        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase
    return clamp(f, 0., 10.);
}

vec3 plasma_quintic( float x ) {
    x = clamp( x, 0.0, 1.0);
    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3
    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7
    return vec3(
        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),
        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),
        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );
}

vec4 color(vec2 p){
    vec4 c1 = vec4(1.7,1.6,.9,1);
    vec4 c2 = vec4(.2,.94,.1,1);
    vec4 c3 = vec4(.3,.2,.0,1);
    vec4 c4 = vec4(.99,.99,1.6,1);
    vec4 v = highness(p);
    float los = smoothstep(0.1,1.1,v.b);
    float his = smoothstep(3.5,6.5,v.b);
    float ces = smoothstep(1.,5.,v.a);
    vec4 lo = mix(c1,c2,los);
    vec4 hi = mix(c3,c4,his);
    vec4 ce = mix(lo,hi,ces);

    return vec4(plasma_quintic(ces),1).ragb;
}

vec3 terrain_map( vec2 p )
{
  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture(SAMPLER_2D(u_texture3), fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'
}

const mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );

float water_map( vec2 p, float height ) {
    vec2 p2 = p*large_wavesize;
    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );
    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );

    // coarse crossing 'ocean' waves...
    float f = 0.6000*noise( p );
    f += 0.2500*noise( p*m );
    f += 0.1666*noise( p*m*m );
    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;

    p *= small_wavesize;
    f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<9; i++)
    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }
    
    return wave+f*small_waveheight;
}

float nautic(vec2 p) {
    p *= 18.;
    float f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }
    return pow(1.-f, 5.);
}

float particles(vec2 p) {
    p *= 200.;
    float f = 0.;
    float amp = 1.0, s = 1.5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }
    return pow(f*.35, 7.)*particle_amount;
}

float test_shadow( vec2 xy, float height) {
    vec3 r0 = vec3(xy, height);
    vec3 rd = normalize( light - r0 );
    
    float hit = 1.0;
    float t   = 0.001;
    for (int j=1; j<25; j++)
    {
        vec3 p = r0 + t*rd;
        float h = height_map( p.xy );
        float height_diff = p.z - h;
        if (height_diff<0.0)
        {
            return 0.0;
        }
        t += 0.01+height_diff*.02;
        hit = min(hit, 2.*height_diff/t); // soft shaddow   
    }
    return hit;
}

vec3 CalcTerrain(vec2 uv, float height) {
    vec3 col = terrain_map( uv );
    vec2 iResolution = vec2(512.);
    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);
    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);
    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);
    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);
    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));
    vec3 r0 = vec3(uv, height);
    vec3 rd = normalize( light - r0 );
    float grad = dot(norm, rd);
    col *= grad+pow(grad, 8.);
    float terrainshade = test_shadow( uv, height );
    col = mix(col*.25, col, terrainshade);
    return col;
}


void main() {
  vec3 watercolor = u_watercolor.rgb;
  vec3 watercolor2 = u_watercolor2.rgb;
  vec2 uv = v_uv;
  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)
  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;
  float height = height_map( uv );
  vec3 col;

    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);
    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);
    if (height > level)
    {
        col = CalcTerrain(uv, height);
    }
    if (height <= level)
    {
        vec2 dif = vec2(.0, .01);
        vec2 pos = uv*15. + vec2(u_time*.01);
        float h1 = water_map(pos-dif,waveheight);
        float h2 = water_map(pos+dif,waveheight);
        float h3 = water_map(pos-dif.yx,waveheight);
        float h4 = water_map(pos+dif.yx,waveheight);
        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane
        uv += normwater.xy*.002*(level-height);
        
        col = CalcTerrain(uv, height);

        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);
        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);
        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;
        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));

        vec3 r0 = vec3(uv, WATER_LEVEL);
        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position
        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction
        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          
        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights
        float gradpos  = dot(vec3(0., 0., 1.), rd);
        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          
        float watershade  = test_shadow( uv, level );
        watercolor *= 2.2+watershade;
        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;
        watercolor /= (1.+specular1*1.25);
        watercolor += watershade*specular2*water_specularcolor;
        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));
        
        col = mix(col, watercolor, coastfade);
    }
    
  outputColor = vec4(col, v_opacity);  
}
`,zP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

out vec2 v_uv;
out float v_opacity;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_opacity = opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class ZP extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture1",void 0),(0,me.Z)(this,"texture2",void 0),(0,me.Z)(this,"texture3",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{watercolor:e="#6D99A8",watercolor2:r="#0F121C"}=this.layer.getLayerConfig(),u={u_watercolor:To(e),u_watercolor2:To(r),u_time:this.layer.getLayerAnimateTime(),u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3};return this.textures=[this.texture1,this.texture2,this.texture3],this.getUniformsBufferInfo(u)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:zP,fragmentShader:L5,defines:e.getDefines(),inject:e.getInject(),triangulation:h2,primitive:kt.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var e,r,u;(e=this.texture1)===null||e===void 0||e.destroy(),(r=this.texture2)===null||r===void 0||r.destroy(),(u=this.texture3)===null||u===void 0||u.destroy()}registerBuiltinAttributes(){const e=this.layer.getSource().extent,[r,u,d,h]=e,y=d-r,M=h-u;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:Ya.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(U,re,Ee)=>{const[Ae,We]=Ee;return[(Ae-r)/y,(We-u)/M]}}})}loadTexture(){const{createTexture2D:e}=this.rendererService,r={height:0,width:0};this.texture1=e(r),this.texture2=e(r),this.texture3=e(r),u(h=>{this.texture1=d(h[0]),this.texture2=d(h[1]),this.texture3=d(h[2]),this.layerService.reRender()});function u(h){let y=0;const M=[];["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"].map(re=>{const Ee=new Image;Ee.crossOrigin="",Ee.src=re,M.push(Ee),Ee.onload=()=>{y++,y===3&&h(M)}})}function d(h){return e({data:h,width:h.width,height:h.height,wrapS:kt.MIRRORED_REPEAT,wrapT:kt.MIRRORED_REPEAT,min:kt.LINEAR,mag:kt.LINEAR})}}}const jP=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};

out vec4 outputColor;


in vec4 v_Color;
in vec2 v_uv;

float rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }

float water(vec3 p) {
  float t = u_time * u_speed;
  p.z += t * 2.; p.x += t * 2.;
  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 3.; p.x += t * 0.52;
  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 4.; p.x += t * 0.8;
  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  c1 += c2 - c3;
  float z = (c1.x + c1.y + c1.z) / 3.;
  return p.y + z / 4.;
}

float map(vec3 p) {
  float d = 100.0;
  d = water(p);
  return d;
}

float intersect(vec3 ro, vec3 rd) {
  float d = 0.0;
  for (int i = 0; i <= 100; i++) {
    float h = map(ro + rd * d);
    if (h < 0.1) return  d;
    d += h;
  }
  return 0.0;
}

vec3 norm(vec3 p) {
  float eps = .1;
  return normalize(vec3(
    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),
    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),
    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))
  ));
} 

float calSpc() {
  vec3 l1 = normalize(vec3(1, 1, 1));
  vec3 ro = vec3(-3, 20, -8);
  vec3 rc = vec3(0, 0, 0);
  vec3 ww = normalize(rc - ro);
  vec3 uu = normalize(cross(vec3(0,1,0), ww));
  vec3 vv = normalize(cross(rc - ro, uu));
  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);
  float d = intersect(ro, rd);
  vec3 p = ro + rd * d;
  vec3 n = norm(p);
  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);
  return spc;
}

void main() {

  outputColor = v_Color;
  float spc = calSpc();
  outputColor += spc * 0.4;
}
`,N5=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};
out vec4 v_Color;
out vec2 v_uv;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_Color = a_Color;
  v_Color.a *= opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class D5 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{speed:e=.5}=this.layer.getLayerConfig(),r={u_speed:e,u_time:this.layer.getLayerAnimateTime(),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(r)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:N5,fragmentShader:jP,triangulation:h2,defines:e.getDefines(),inject:e.getInject(),primitive:kt.TRIANGLES,depth:{enable:!1},pickingEnabled:!1,diagnosticDerivativeUniformityEnabled:!1})]})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy()}registerBuiltinAttributes(){const e=this.layer.getSource().extent,[r,u,d,h]=e,y=d-r,M=h-u;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:Ya.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(U,re,Ee)=>{const[Ae,We]=Ee;return[(Ae-r)/y,(We-u)/M]}}})}loadTexture(){const{waterTexture:e}=this.layer.getLayerConfig(),{createTexture2D:r}=this.rendererService;this.texture=r({height:1,width:1});const u=new Image;u.crossOrigin="",e?(console.warn("L7 recommend\uFF1Ahttps://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),u.src=e):u.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",u.onload=()=>{this.texture=r({data:u,width:u.width,height:u.height,wrapS:kt.MIRRORED_REPEAT,wrapT:kt.MIRRORED_REPEAT,min:kt.LINEAR,mag:kt.LINEAR}),this.layerService.reRender()}}}var DA={fill:I5,line:X3,extrude:NP,text:PA,point_fill:hx,point_image:y5,point_normal:x5,point_extrude:g5,water:D5,ocean:ZP,extrusion:BP};class q3 extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","PolygonLayer"),(0,me.Z)(this,"enableShaderEncodeStyles",["opacity","extrusionBase","rotation","offsets","stroke"])}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new DA[r](e),yield e.initLayerModels()})()}getModelType(){var e;const r=this.styleAttributeService.getLayerStyleAttribute("shape"),u=r==null||(e=r.scale)===null||e===void 0?void 0:e.field;return u==="fill"||!u?"fill":u==="extrude"?"extrude":u==="extrusion"?"extrusion":u==="water"?"water":u==="ocean"?"ocean":u==="line"?"line":this.getPointModelType()}getPointModelType(){const e=this.getEncodedData(),{shape2d:r,shape3d:u}=this.getLayerConfig(),d=this.iconService.getIconMap(),h=e.find(y=>y.hasOwnProperty("shape"));if(h){const y=h.shape;return y==="dot"?"point_normal":(r==null?void 0:r.indexOf(y))!==-1?"point_fill":(u==null?void 0:u.indexOf(y))!==-1?"point_extrude":d.hasOwnProperty(y)?"point_image":"text"}else return"fill"}}const WP=`layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

uniform sampler2D u_rasterTexture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;

bool isnan_emu(float x) { return (x > 0.0 || x < 0.0) ? x != x : x != 0.0; }

out vec4 outputColor;

void main() {
  // Can use any component here since u_rasterTexture is under luminance format.
  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;
  if (value == u_noDataValue || isnan_emu(value)) {
    discard;
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
    discard;
  } else {
    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));
    
    outputColor = color;
    outputColor.a = outputColor.a * u_opacity ;
    if (outputColor.a < 0.01)
      discard;
  }
}
`,k5=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class B5 extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"colorTexture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e=1,clampLow:r=!0,clampHigh:u=!0,noDataValue:d=-9999999,domain:h,rampColors:y}=this.layer.getLayerConfig(),M=h||Si(y);this.colorTexture=this.layer.textureService.getColorTexture(y,M);const U={u_domain:M,u_opacity:e||1,u_noDataValue:d,u_clampLow:r?1:0,u_clampHigh:(typeof u!="undefined"?u:r)?1:0,u_rasterTexture:this.texture,u_colorTexture:this.colorTexture};return this.textures=[this.texture,this.colorTexture],this.getUniformsBufferInfo(U)}getRasterData(e){return(0,Ba.Z)(function*(){if(Array.isArray(e.data))return{data:e.data,width:e.width,height:e.height};{const{rasterData:r,width:u,height:d}=yield e.data;return{data:Array.from(r),width:u,height:d}}})()}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){e.initUniformsBuffer();const r=e.layer.getSource(),{createTexture2D:u,queryVerdorInfo:d}=e.rendererService,h=r.data.dataArray[0],{data:y,width:M,height:U}=yield e.getRasterData(h);return e.texture=u({data:new Float32Array(y),width:M,height:U,format:d()==="WebGL1"?kt.LUMINANCE:kt.RED,type:kt.FLOAT,alignment:1}),[yield e.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:k5,fragmentShader:WP,defines:e.getDefines(),triangulation:cx,primitive:kt.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}clearModels(){var e,r;(e=this.texture)===null||e===void 0||e.destroy(),(r=this.colorTexture)===null||r===void 0||r.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{shaderLocation:this.attributeLocation.UV,name:"a_Uv",buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}const F5=["data"],mx=["rasterData"],VP=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
 vec2 u_rminmax;
 vec2 u_gminmax;
 vec2 u_bminmax;
 float u_opacity;
 float u_noDataValue;
};

in vec2 v_texCoord;

out vec4 outputColor;

void main() {

  vec3 rgb = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y)).rgb;

  if(rgb == vec3(u_noDataValue)) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
    outputColor = vec4(rgb.r / (u_rminmax.y -u_rminmax.x), rgb.g /(u_gminmax.y -u_gminmax.x), rgb.b/ (u_bminmax.y - u_bminmax.x), u_opacity);
  }

  if(outputColor.a < 0.01)
    discard;
 
}`,GP=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_rminmax;
  vec2 u_gminmax;
  vec2 u_bminmax;
  float u_opacity;
  float u_noDataValue;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class kA extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"dataOption",{})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e=1,noDataValue:r=0}=this.layer.getLayerConfig(),{rMinMax:u=[0,255],gMinMax:d=[0,255],bMinMax:h=[0,255]}=this.dataOption,y={u_rminmax:u,u_gminmax:d,u_bminmax:h,u_opacity:e||1,u_noDataValue:r,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(y)}getRasterData(e){var r=this;return(0,Ba.Z)(function*(){if(Array.isArray(e.data)){const{data:y}=e,M=(0,Xh.Z)(e,F5);return r.dataOption=M,(0,Ir.Z)({data:y},M)}const u=yield e.data,{rasterData:d}=u,h=(0,Xh.Z)(u,mx);return r.dataOption=h,Array.isArray(d)?(0,Ir.Z)({data:d},h):(0,Ir.Z)({data:Array.from(d)},h)})()}initModels(){var e=this;return(0,Ba.Z)(function*(){e.initUniformsBuffer();const r=e.layer.getSource(),{createTexture2D:u}=e.rendererService,d=r.data.dataArray[0],{data:h,width:y,height:M}=yield e.getRasterData(d);return e.texture=u({data:new Float32Array(h),width:y,height:M,format:kt.RGB,type:kt.FLOAT}),[yield e.layer.buildLayerModel({moduleName:"rasterImageDataRGBA",vertexShader:GP,fragmentShader:VP,defines:e.getDefines(),triangulation:cx,primitive:kt.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initModels()})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}const BA=`uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

layout(std140) uniform commonUniforms {
 vec4 u_unpack;
 vec2 u_domain;
 float u_opacity;
 float u_noDataValue;
 float u_clampLow;
 float u_clampHigh;
};

in vec2 v_texCoord;
out vec4 outputColor;


float getElevation(vec2 coord, float bias) {
    // Convert encoded elevation value to meters
    vec4 data =  texture(SAMPLER_2D(u_texture), coord,bias) * 255.0;
    data.a = -1.0;
    return dot(data, u_unpack);
}

vec4 getColor(float value) {
   float normalisedValue =(value- u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec2 coord = vec2(normalisedValue, 0);
    return  texture(SAMPLER_2D(u_colorTexture), coord);
}

void main() {
  float value = getElevation(v_texCoord,0.0);
  if (value == u_noDataValue) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
     outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
   
    outputColor = getColor(value);
    outputColor.a =  outputColor.a * u_opacity ;
      if(outputColor.a < 0.01)
      discard;
  }
}
`,FA=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec4 u_unpack;
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};
out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class UA extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){const{opacity:e,clampLow:r=!0,clampHigh:u=!0,noDataValue:d=-9999999,domain:h,rampColors:y,colorTexture:M,rScaler:U=6553.6,gScaler:re=25.6,bScaler:Ee=.1,offset:Ae=1e4}=this.layer.getLayerConfig(),We=h||Si(y);let Ht=M;M?this.layer.textureService.setColorTexture(M,y,We):Ht=this.layer.textureService.getColorTexture(y,We);const Tn={u_unpack:[U,re,Ee,Ae],u_domain:We,u_opacity:e||1,u_noDataValue:d,u_clampLow:r,u_clampHigh:typeof u!="undefined"?u:r,u_texture:this.texture,u_colorTexture:Ht};return this.textures=[this.texture,Ht],this.getUniformsBufferInfo(Tn)}initModels(){var e=this;return(0,Ba.Z)(function*(){e.initUniformsBuffer();const r=e.layer.getSource(),{createTexture2D:u}=e.rendererService,d=yield r.data.images;return e.texture=u({data:d[0],width:d[0].width,height:d[0].height,min:kt.LINEAR,mag:kt.LINEAR}),[yield e.layer.buildLayerModel({moduleName:"RasterTileDataImage",vertexShader:FA,fragmentShader:BA,defines:e.getDefines(),triangulation:cx,primitive:kt.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var e;(e=this.texture)===null||e===void 0||e.destroy()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initModels()})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}var U5={raster:B5,rasterRgb:kA,raster3d:B5,rasterTerrainRgb:UA};class J3 extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","RasterLayer")}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new U5[r](e),yield e.initLayerModels()})()}getDefaultConfig(){const e=this.getModelType();return{raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}}[e]}getModelType(){switch(this.layerSource.getParserType()){case"raster":return"raster";case"rasterRgb":return"rasterRgb";case"rgb":return"rasterRgb";case"image":return"rasterTerrainRgb";default:return"raster"}}getLegend(e){if(e!=="color")return{type:void 0,field:void 0,items:[]};const r=this.getLayerConfig().rampColors;return Hw(r,e)}}class eT{constructor({rendererService:e,layerService:r,parent:u}){(0,me.Z)(this,"tileResource",new Map),(0,me.Z)(this,"rendererService",void 0),(0,me.Z)(this,"layerService",void 0),(0,me.Z)(this,"parent",void 0),(0,me.Z)(this,"layerTiles",[]),this.rendererService=e,this.layerService=r,this.parent=u}get tiles(){return this.layerTiles}hasTile(e){return this.layerTiles.some(r=>r.key===e)}addTile(e){this.layerTiles.push(e)}getTile(e){return this.layerTiles.find(r=>r.key===e)}getVisibleTileBylngLat(e){return this.layerTiles.find(r=>r.isLoaded&&r.visible&&r.lnglatInBounds(e))}removeTile(e){const r=this.layerTiles.findIndex(d=>d.key===e),u=this.layerTiles.splice(r,1);u[0]&&u[0].destroy()}updateTileVisible(e){const r=this.getTile(e.key);if(e.isVisible)if(e.parent){const u=this.isChildrenLoaded(e.parent);r==null||r.updateVisible(u)}else r==null||r.updateVisible(!0);else if(e.parent){const u=this.isChildrenLoaded(e.parent);r==null||r.updateVisible(!u)}else r==null||r.updateVisible(!1)}isParentLoaded(e){const r=e.parent;if(!r)return!0;const u=this.getTile(r==null?void 0:r.key);return!!(u!=null&&u.isLoaded)}isChildrenLoaded(e){const r=e==null?void 0:e.children;return r.length===0?!0:r.every(u=>{const d=this.getTile(u==null?void 0:u.key);return d?(d==null?void 0:d.isLoaded)===!0:!0})}render(){var e=this;return(0,Ba.Z)(function*(){const u=e.getRenderLayers().map(function(){var d=(0,Ba.Z)(function*(h){yield e.layerService.renderTileLayer(h)});return function(h){return d.apply(this,arguments)}}());yield Promise.all(u)})()}getRenderLayers(){const e=this.layerTiles.filter(u=>u.visible&&u.isLoaded),r=[];return e.map(u=>r.push(...u.getLayers())),r}getLayers(){const e=this.layerTiles.filter(u=>u.isLoaded),r=[];return e.map(u=>r.push(...u.getLayers())),r}getTiles(){return this.layerTiles}destroy(){this.layerTiles.forEach(e=>e.destroy()),this.tileResource.clear()}}var $P=A(41227);function XP(t,e,r){r===void 0&&(r={});var u=Ln(t),d=Ln(e),h=$P.union(u.coordinates,d.coordinates);return h.length===0?null:h.length===1?_t(h[0],r.properties):Xe(h,r.properties)}var z5=XP;class Z5{getCombineFeature(e){let r=null;const u=e[0];return e.map(d=>{const h=_t(d.coordinates);r===null?r=h:r=z5(r,h)}),u&&(r.properties=(0,Ir.Z)({},u)),r}}const c_="select",vx="active";class KP{constructor({layerService:e,tileLayerService:r,parent:u}){(0,me.Z)(this,"layerService",void 0),(0,me.Z)(this,"tileLayerService",void 0),(0,me.Z)(this,"tileSourceService",void 0),(0,me.Z)(this,"parent",void 0),(0,me.Z)(this,"tilePickID",new Map),this.layerService=e,this.tileLayerService=r,this.parent=u,this.tileSourceService=new Z5}pickRender(e){const r=this.tileLayerService.getVisibleTileBylngLat(e.lngLat);if(r){const u=r.getMainLayer();u==null||u.layerPickService.pickRender(e)}}pick(e,r){var u=this;return(0,Ba.Z)(function*(){const h=u.parent.getContainer().pickingService;if(e.type==="RasterLayer"){const y=u.tileLayerService.getVisibleTileBylngLat(r.lngLat);if(y&&y.getMainLayer()!==void 0){const M=y.getMainLayer();return M.layerPickService.pickRasterLayer(M,r,u.parent)}return!1}return u.pickRender(r),h.pickFromPickingFBO(e,r)})()}selectFeature(e){const[r,u,d]=e,h=this.color2PickId(r,u,d);this.tilePickID.set(c_,h),this.updateHighLight(r,u,d,c_)}highlightPickedFeature(e){const[r,u,d]=e,h=this.color2PickId(r,u,d);this.tilePickID.set(vx,h),this.updateHighLight(r,u,d,vx)}updateHighLight(e,r,u,d){this.tileLayerService.tiles.map(h=>{const y=h.getMainLayer();switch(d){case c_:y==null||y.hooks.beforeSelect.call([e,r,u]);break;case vx:y==null||y.hooks.beforeHighlight.call([e,r,u]);break}})}setPickState(){const e=this.tilePickID.get(c_),r=this.tilePickID.get(vx);if(e){const[u,d,h]=this.pickId2Color(e);this.updateHighLight(u,d,h,c_);return}if(r){const[u,d,h]=this.pickId2Color(r);this.updateHighLight(u,d,h,vx);return}}color2PickId(e,r,u){return Po(new Uint8Array([e,r,u]))}pickId2Color(e){return ds(e)}getFeatureById(e){const r=this.tileLayerService.getTiles().filter(d=>d.visible),u=[];return r.forEach(d=>{u.push(...d.getFeatureById(e))}),u}pickRasterLayer(){return!1}}function QP(t){return t==="PolygonLayer"?q3:t==="LineLayer"?CA:rv}function qP(t){return["PolygonLayer","LineLayer"].indexOf(t)!==-1}class f_ extends yi.EventEmitter{constructor(e,r){super(),(0,me.Z)(this,"x",void 0),(0,me.Z)(this,"y",void 0),(0,me.Z)(this,"z",void 0),(0,me.Z)(this,"key",void 0),(0,me.Z)(this,"parent",void 0),(0,me.Z)(this,"sourceTile",void 0),(0,me.Z)(this,"visible",!0),(0,me.Z)(this,"layers",[]),(0,me.Z)(this,"isLoaded",!1),(0,me.Z)(this,"tileMaskLayers",[]),(0,me.Z)(this,"tileMask",void 0),this.parent=r,this.sourceTile=e,this.x=e.x,this.y=e.y,this.z=e.z,this.key=`${this.x}_${this.y}_${this.z}`}getLayers(){return this.layers}styleUpdate(...e){}lnglatInBounds(e){const[r,u,d,h]=this.sourceTile.bounds,{lng:y,lat:M}=e;return y>=r&&y<=d&&M>=u&&M<=h}getLayerOptions(){var e;const r=this.parent.getLayerConfig();return(0,Ir.Z)((0,Ir.Z)({},r),{},{textAllowOverlap:!0,autoFit:!1,maskLayers:this.getMaskLayer(),tileMask:qP(this.parent.type),mask:r.mask||((e=r.maskLayers)===null||e===void 0?void 0:e.length)!==0&&r.enableMask})}getMaskLayer(){const{maskLayers:e}=this.parent.getLayerConfig(),r=[];return e==null||e.forEach(u=>{if(!u.tileLayer)return r.push(u),u;const h=u.tileLayer.getTile(this.sourceTile.key),y=h==null?void 0:h.getLayers()[0];y&&r.push(y)}),r}addTileMask(){var e=this;return(0,Ba.Z)(function*(){const r=new q3({name:"mask",visible:!0,enablePicking:!1}).source({type:"FeatureCollection",features:[e.sourceTile.bboxPolygon]},{parser:{type:"geojson",featureId:"id"}}).shape("fill").color("#0f0").style({opacity:.5}),u=em(e.parent.container);r.setContainer(u),yield r.init(),e.tileMask=r;const d=e.getMainLayer();return d!==void 0&&(d.tileMask=r),r})()}addMask(e,r){var u=this;return(0,Ba.Z)(function*(){const d=em(u.parent.container);r.setContainer(d),yield r.init(),e.addMask(r),u.tileMaskLayers.push(r)})()}addLayer(e){var r=this;return(0,Ba.Z)(function*(){e.isTileLayer=!0;const u=em(r.parent.container);e.setContainer(u),r.layers.push(e),yield e.init()})()}updateVisible(e){this.visible=e,this.updateOptions("visible",e)}updateOptions(e,r){this.layers.forEach(u=>{u.updateLayerConfig({[e]:r})})}getMainLayer(){return this.layers[0]}getFeatures(e){return[]}getFeatureById(e){return[]}destroy(){var e;(e=this.tileMask)===null||e===void 0||e.destroy(),this.layers.forEach(r=>r.destroy())}}class JP extends f_{initTileLayer(){var e=this;return(0,Ba.Z)(function*(){const r=e.getSourceOption(),u=r.data.features[0].properties,d=new CA().source(r.data,r.options).size(1).shape("line").color("red"),h=new rv({minZoom:e.z-1,maxZoom:e.z+1,textAllowOverlap:!0}).source([u],{parser:{type:"json",x:"x",y:"y"}}).size(20).color("red").shape(e.key).style({stroke:"#fff",strokeWidth:2});yield e.addLayer(d),yield e.addLayer(h),e.isLoaded=!0})()}getSourceOption(){const e=this.parent.getSource();return{data:{type:"FeatureCollection",features:this.sourceTile.data.layers.testTile.features},options:{parser:{type:"geojson"},transforms:e.transforms}}}}class eI extends f_{initTileLayer(){var e=this;return(0,Ba.Z)(function*(){const r=e.parent.getLayerAttributeConfig(),u=e.getLayerOptions(),d=e.getSourceOption(),h=new n5((0,Ir.Z)({},u)).source(d.data,d.options);r&&Object.keys(r).forEach(y=>{var M,U;const re=y;h[re]((M=r[re])===null||M===void 0?void 0:M.field,(U=r[re])===null||U===void 0?void 0:U.values)}),yield e.addLayer(h),e.isLoaded=!0})()}getSourceOption(){const e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:e.transforms}}}}const tI=`layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

out vec4 outputColor;

void main() {
  outputColor = u_color;
  outputColor.a *= u_opacity;
}
`,nI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;

layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

#pragma include "projection"

void main() {
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class rI extends Nc{getUninforms(){const e=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,Ir.Z)((0,Ir.Z)({},e.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:e=1,color:r="#000"}=this.layer.getLayerConfig(),u={u_color:To(r),u_opacity:e||1};return this.getUniformsBufferInfo(u)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:"mask",vertexShader:nI,fragmentShader:tI,defines:e.getDefines(),triangulation:h2,depth:{enable:!1},pick:!1})]})()}clearModels(e=!0){e&&this.layerService.clear()}registerBuiltinAttributes(){return""}}var aI={fill:rI};class zA extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","MaskLayer")}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new aI[r](e),yield e.initLayerModels()})()}getModelType(){return"fill"}}class oI extends f_{initTileLayer(){var e=this;return(0,Ba.Z)(function*(){const r=e.parent.getLayerAttributeConfig(),u=e.getLayerOptions(),d=e.getSourceOption(),h=new zA((0,Ir.Z)({},u)).source(d.data,d.options);r&&Object.keys(r).forEach(y=>{var M,U;const re=y;h[re]((M=r[re])===null||M===void 0?void 0:M.field,(U=r[re])===null||U===void 0?void 0:U.values)}),yield e.addLayer(h),e.isLoaded=!0})()}getFeatures(e){return e?this.sourceTile.data.getTileData(e):[]}getSourceOption(){const e=this.parent.getSource(),{sourceLayer:r,featureId:u}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(r)},options:{parser:{type:"geojson",featureId:u},transforms:e.transforms}}}}const sI=["rasterData"];class j5 extends f_{initTileLayer(){var e=this;return(0,Ba.Z)(function*(){const r=e.parent.getLayerAttributeConfig(),u=e.getLayerOptions(),d=e.getSourceOption(),h=new J3((0,Ir.Z)({},u)).source(d.data,d.options);r&&Object.keys(r).forEach(y=>{var M,U;const re=y;h[re]((M=r[re])===null||M===void 0?void 0:M.field,(U=r[re])===null||U===void 0?void 0:U.values)}),yield e.addLayer(h),e.isLoaded=!0})()}getSourceOption(){const e=this.parent.getSource(),r=this.sourceTile.data.data,{rasterData:u}=r,d=(0,Xh.Z)(r,sI);return{data:u,options:{parser:(0,Ir.Z)({type:"rasterRgb",extent:this.sourceTile.bounds},d),transforms:e.transforms}}}}class G1 extends f_{initTileLayer(){var e=this;return(0,Ba.Z)(function*(){const r=e.parent.getLayerAttributeConfig(),u=e.getLayerOptions(),d=e.getSourceOption(),h=new J3((0,Ir.Z)({},u)).source(d.data,d.options);r&&Object.keys(r).forEach(y=>{var M,U;const re=y;h[re]((M=r[re])===null||M===void 0?void 0:M.field,(U=r[re])===null||U===void 0?void 0:U.values)}),yield e.addLayer(h),e.isLoaded=!0})()}getSourceOption(){const e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:e.transforms}}}}const H5=["rasterData"],W5={positions:[0,1],colors:["#000","#fff"]};class V5 extends f_{constructor(...e){super(...e),(0,me.Z)(this,"colorTexture",void 0)}initTileLayer(){var e=this;return(0,Ba.Z)(function*(){const r=e.parent.getLayerAttributeConfig(),u=e.getLayerOptions(),d=e.getSourceOption(),{rampColors:h,domain:y}=e.getLayerOptions();e.colorTexture=e.parent.textureService.getColorTexture(h,y);const M=new J3((0,Ir.Z)((0,Ir.Z)({},u),{},{colorTexture:e.colorTexture})).source(d.data,d.options);r&&Object.keys(r).forEach(U=>{var re,Ee;const Ae=U;M[Ae]((re=r[Ae])===null||re===void 0?void 0:re.field,(Ee=r[Ae])===null||Ee===void 0?void 0:Ee.values)}),yield e.addLayer(M),e.isLoaded=!0})()}getSourceOption(){const e=this.parent.getSource(),r=this.sourceTile.data.data,{rasterData:u}=r,d=(0,Xh.Z)(r,H5);return{data:u,options:{parser:(0,Ir.Z)({type:"raster",extent:this.sourceTile.bounds},d),transforms:e.transforms}}}styleUpdate(...e){const{rampColors:r=W5,domain:u}=e;this.colorTexture=this.parent.textureService.getColorTexture(r,u||Si(r)),this.layers.forEach(d=>d.style({colorTexture:this.colorTexture}))}destroy(){this.layers.forEach(e=>e.destroy())}}class tT extends f_{initTileLayer(){var e=this;return(0,Ba.Z)(function*(){const r=e.parent.getLayerAttributeConfig(),u=e.getLayerOptions(),d=QP(e.parent.type),h=e.getSourceOption();if(!h){e.isLoaded=!0,e.emit("loaded");return}const y=new d((0,Ir.Z)({},u)).source(h.data,h.options);Object.keys(r).forEach(M=>{var U,re;const Ee=M;y[Ee]((U=r[Ee])===null||U===void 0?void 0:U.field,(re=r[Ee])===null||re===void 0?void 0:re.values)}),yield e.addLayer(y),u.tileMask&&(yield e.addTileMask()),e.setLayerMinMaxZoom(y),e.isLoaded=!0,e.emit("loaded")})()}getSourceOption(){const e=this.parent.getSource(),{sourceLayer:r="defaultLayer",featureId:u="id"}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(r)},options:{parser:{type:"geojson",featureId:u},transforms:e.transforms}}}setLayerMinMaxZoom(e){e.getModelType()==="text"&&e.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1})}getFeatures(e){return this.sourceTile.data.getTileData(e)}getFeatureById(e){const r=this.getMainLayer();return r?r.getSource().data.dataArray.filter(d=>d._id===e):[]}}function uI(t){switch(t.type){case"PolygonLayer":return tT;case"LineLayer":return tT;case"PointLayer":return tT;case"TileDebugLayer":return JP;case"MaskLayer":return oI;case"RasterLayer":const{dataType:r}=t.getSource().parser;switch(r){case Eh.RGB:case Eh.CUSTOMRGB:return j5;case Eh.ARRAYBUFFER:case Eh.CUSTOMARRAYBUFFER:return V5;case Eh.TERRAINRGB:case Eh.CUSTOMTERRAINRGB:return G1;default:return eI}default:return tT}}const lI=["shape","color","size","style","animate","filter","rotate","scale","setBlend","setSelect","setActive","disableMask","enableMask","addMask","removeMask"],{debounce:cI}=yo;class G5{constructor(e){(0,me.Z)(this,"parent",void 0),(0,me.Z)(this,"tileLayerService",void 0),(0,me.Z)(this,"mapService",void 0),(0,me.Z)(this,"layerService",void 0),(0,me.Z)(this,"rendererService",void 0),(0,me.Z)(this,"pickingService",void 0),(0,me.Z)(this,"tilePickService",void 0),(0,me.Z)(this,"tilesetManager",void 0),(0,me.Z)(this,"initedTileset",!1),(0,me.Z)(this,"lastViewStates",void 0),(0,me.Z)(this,"mapchange",()=>{var u;if(this.parent.isVisible()===!1)return;const{latLonBounds:d,zoom:h}=this.getCurrentView();this.lastViewStates&&this.lastViewStates.zoom===h&&this.lastViewStates.latLonBounds.toString()===d.toString()||(this.lastViewStates={zoom:h,latLonBounds:d},(u=this.tilesetManager)===null||u===void 0||u.throttleUpdate(h,d))}),(0,me.Z)(this,"viewchange",cI(this.mapchange,24)),this.parent=e;const r=this.parent.getContainer();this.rendererService=r.rendererService,this.layerService=r.layerService,this.mapService=r.mapService,this.pickingService=r.pickingService,this.tileLayerService=new eT({rendererService:this.rendererService,layerService:this.layerService,parent:e}),this.tilePickService=new KP({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:e}),this.parent.setLayerPickService(this.tilePickService),this.proxy(e),this.initTileSetManager()}initTileSetManager(){var e;const r=this.parent.getSource();if(this.tilesetManager=r.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0),this.parent.isVisible()===!1)return;const{latLonBounds:u,zoom:d}=this.getCurrentView();(e=this.tilesetManager)===null||e===void 0||e.update(d,u)}getCurrentView(){const e=this.mapService.getBounds(),r=[e[0][0],e[0][1],e[1][0],e[1][1]],u=this.mapService.getZoom();return{latLonBounds:r,zoom:u}}bindTilesetEvent(){this.tilesetManager.on("tile-loaded",e=>{}),this.tilesetManager.on("tile-unload",e=>{this.tileUnLoad(e)}),this.tilesetManager.on("tile-error",(e,r)=>{this.tileError(e)}),this.tilesetManager.on("tile-update",()=>{this.tileUpdate()}),this.mapService.on("zoomend",this.mapchange),this.mapService.on("moveend",this.viewchange)}render(){this.tileLayerService.render()}getLayers(){return this.tileLayerService.getLayers()}getTiles(){return this.tileLayerService.getTiles()}getTile(e){return this.tileLayerService.getTile(e)}tileLoaded(e){}tileError(e){console.warn("error:",e)}destroy(){var e;this.mapService.off("zoomend",this.mapchange),this.mapService.off("moveend",this.viewchange),(e=this.tilesetManager)===null||e===void 0||e.destroy(),this.tileLayerService.destroy()}reload(){var e;this.tilesetManager.clear();const{latLonBounds:r,zoom:u}=this.getCurrentView();(e=this.tilesetManager)===null||e===void 0||e.update(u,r)}tileUnLoad(e){this.tileLayerService.removeTile(e.key)}tileUpdate(){var e=this;return(0,Ba.Z)(function*(){if(!e.tilesetManager)return;const r=e.parent.getMinZoom(),u=e.parent.getMaxZoom(),d=e.tilesetManager.tiles.filter(h=>h.isLoaded).filter(h=>h.isVisibleChange).filter(h=>h.data).filter(h=>h.z>=r&&h.z<u);yield Promise.all(d.map(function(){var h=(0,Ba.Z)(function*(y){if(e.tileLayerService.hasTile(y.key))e.tileLayerService.updateTileVisible(y),e.tilePickService.setPickState(),e.layerService.reRender();else{const M=uI(e.parent),U=new M(y,e.parent);yield U.initTileLayer(),e.tilePickService.setPickState(),U.getLayers().length!==0&&(e.tileLayerService.addTile(U),e.tileLayerService.updateTileVisible(y),e.layerService.reRender())}});return function(y){return h.apply(this,arguments)}}())),e.tilesetManager.isLoaded&&e.parent.emit("tiles-loaded",e.tilesetManager.currentTiles)})()}setPickState(e){}pickRender(e){this.tilePickService.pickRender(e)}selectFeature(e){this.tilePickService.selectFeature(e)}highlightPickedFeature(e){this.tilePickService.highlightPickedFeature(e)}proxy(e){lI.forEach(r=>{const u=e[r].bind(e);e[r]=(...d)=>(u(...d),this.getLayers().map(h=>{h[r](...d)}),r==="style"&&this.getTiles().forEach(h=>h.styleUpdate(...d)),e)})}}class fI extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","TileDebugLayer"),(0,me.Z)(this,"zIndex",1e4),(0,me.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"testTile"}}})}buildModels(){return(0,Ba.Z)(function*(){})()}}const dI=`
layout(std140) uniform commonUniforms {
 float u_opacity;
};
in vec3 vVertexNormal;
in float v_offset;
in vec4 v_Color;

#pragma include "scene_uniforms"
out vec4 outputColor;
void main() {
    
    
    // float intensity = pow(0.5 + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);
    float intensity = pow(v_offset + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);
    // \u53BB\u9664\u80CC\u9762
    if(intensity > 1.0) intensity = 0.0;

    outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);
}
`,yx=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
 float u_opacity;
};

#pragma include "scene_uniforms"
out vec3 vVertexNormal;
out vec4 v_Color;
out float v_offset;

void main() {
    float EARTH_RADIUS = 100.0;

    v_Color = a_Color;

    v_offset = min(((length(u_CameraPosition) - EARTH_RADIUS)/600.0) * 0.5 + 0.4, 1.0);
    vVertexNormal = a_Normal;

    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);
}
`,{isNumber:Y5}=yo;class $5 extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10})}getCommonUniformsInfo(){const{opacity:e=1}=this.layer.getLayerConfig(),r={u_opacity:Y5(e)?e:1};return this.getUniformsBufferInfo(r)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}clearModels(){return""}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.layer.zIndex=-997,[yield e.layer.buildLayerModel({moduleName:"earthAtmoSphere",vertexShader:yx,fragmentShader:dI,defines:e.getDefines(),triangulation:gA,depth:{enable:!1},blend:e.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}const hI=`uniform sampler2D u_texture;

in vec2 v_texCoord;
in float v_lightWeight;
out vec4 outputColor;

void main() {
    vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));
    color.xyz = color.xyz * v_lightWeight;
    outputColor = color;
}
`,X5=`// attribute vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

// attribute vec2 a_Extrude;
// attribute float a_Size;
// attribute float a_Shape;

layout(std140) uniform commonUniforms {
	vec4 u_sunLight: [1.0, -10.5, 12.0,0.0];
	float u_ambientRatio : 0.5;
	float u_diffuseRatio : 0.3;
	float u_specularRatio : 0.2;
};

#pragma include "scene_uniforms"

out vec2 v_texCoord;
out float v_lightWeight;

float calc_lighting(vec4 pos) {

	vec3 worldPos = vec3(pos * u_ModelMatrix);

	vec3 worldNormal = a_Normal;

	// cal light weight
	vec3 viewDir = normalize(u_CameraPosition - worldPos);

	vec3 lightDir = normalize(u_sunLight.xyz);

	vec3 halfDir = normalize(viewDir+lightDir);
	// lambert
	float lambert = dot(worldNormal, lightDir);
	// specular
	float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
	//sum to light weight
	float lightWeight = u_ambientRatio + u_diffuseRatio * lambert + u_specularRatio * specular;

	return lightWeight;
}

void main() {

	v_texCoord = a_Uv;

	float lightWeight = calc_lighting(vec4(a_Position, 1.0));
	v_lightWeight = lightWeight;

	gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);
}
`;class pI extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"earthTime",3.4),(0,me.Z)(this,"sunX",1e3),(0,me.Z)(this,"sunY",1e3),(0,me.Z)(this,"sunZ",1e3),(0,me.Z)(this,"sunRadius",Math.sqrt(this.sunX*this.sunX+this.sunY*this.sunY+this.sunZ*this.sunZ))}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10})}getCommonUniformsInfo(){const{animateOption:e,globalOptions:r}=this.layer.getLayerConfig();e!=null&&e.enable&&(this.mapService.rotateY({reg:.002}),this.earthTime+=.02,this.sunY=10,this.sunX=Math.cos(this.earthTime)*(this.sunRadius-this.sunY),this.sunZ=Math.sin(this.earthTime)*(this.sunRadius-this.sunY));const u={u_sunLight:[this.sunX,this.sunY,this.sunZ,0],u_ambientRatio:(r==null?void 0:r.ambientRatio)||.6,u_diffuseRatio:(r==null?void 0:r.diffuseRatio)||.4,u_specularRatio:(r==null?void 0:r.specularRatio)||.1};return this.textures=[this.texture],this.getUniformsBufferInfo(u)}setEarthTime(e){this.earthTime=e,this.sunY=10,this.sunX=Math.cos(this.earthTime)*(this.sunRadius-this.sunY),this.sunZ=Math.sin(this.earthTime)*(this.sunRadius-this.sunY),this.layerService.throttleRenderLayers()}initModels(){var e=this;return(0,Ba.Z)(function*(){const{globalOptions:r}=e.layer.getLayerConfig();(r==null?void 0:r.earthTime)!==void 0&&e.setEarthTime(r.earthTime);const u=e.layer.getSource(),{createTexture2D:d}=e.rendererService;return e.texture=d({height:0,width:0}),u.data.images.then(h=>{e.texture=d({data:h[0],width:h[0].width,height:h[0].height}),e.textures=[e.texture],e.layerService.reRender()}),e.initUniformsBuffer(),e.buildModels()})()}clearModels(){return""}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.layer.zIndex=-998,[yield e.layer.buildLayerModel({moduleName:"earthBase",vertexShader:X5,fragmentShader:hI,defines:e.getDefines(),triangulation:gA,depth:{enable:!0},blend:e.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}const K5=`
in vec3 vVertexNormal;
in vec4 v_Color;

layout(std140) uniform commonUniforms {
 float u_opacity;
};
out vec4 outputColor;
#pragma include "scene_uniforms"
void main() {
    float intensity =  - dot(normalize(vVertexNormal), normalize(u_CameraPosition));
    // \u53BB\u9664\u80CC\u9762
    if(intensity > 1.0) intensity = 0.0;

    outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);
}
`,gI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
 float u_opacity;
};
#pragma include "scene_uniforms"

out vec3 vVertexNormal;
out vec4 v_Color;

void main() {
    v_Color = a_Color;

    vVertexNormal = a_Normal;

    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);
}
`,{isNumber:XN}=yo;class ZA extends Nc{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10})}getCommonUniformsInfo(){const{opacity:e=1}=this.layer.getLayerConfig(),r={u_opacity:XN(e)?e:1};return this.getUniformsBufferInfo(r)}initModels(){var e=this;return(0,Ba.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}clearModels(){return""}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.layer.zIndex=-999,[yield e.layer.buildLayerModel({moduleName:"earthBloom",vertexShader:gI,fragmentShader:K5,defines:e.getDefines(),triangulation:P6,depth:{enable:!1},blend:e.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:Ya.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:kt.STATIC_DRAW,data:[],type:kt.FLOAT},size:3,update:(e,r,u,d,h)=>h}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}}const mI={base:pI,atomSphere:$5,bloomSphere:ZA},vI=["base","atomSphere","bloomSphere"];class yI extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","EarthLayer"),(0,me.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}})}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new mI[r](e),yield e.initLayerModels()})()}setEarthTime(e){this.layerModel&&this.layerModel.setEarthTime?this.layerModel.setEarthTime(e):console.warn("\u8BF7\u5728 scene loaded \u4E4B\u540E\u6267\u884C\u8BE5\u65B9\u6CD5\uFF01")}getModelType(){var e;const r=this.styleAttributeService.getLayerStyleAttribute("shape");let u=(r==null||(e=r.scale)===null||e===void 0?void 0:e.field)||"base";return vI.indexOf(u)<0&&(u="base"),u}}function m2(t,e,r){const u=Q5(t,t.VERTEX_SHADER,e),d=Q5(t,t.FRAGMENT_SHADER,r);if(!u||!d)return null;const h=t.createProgram();if(!h)return null;if(t.attachShader(h,u),t.attachShader(h,d),t.linkProgram(h),!t.getProgramParameter(h,t.LINK_STATUS)){const re=t.getProgramInfoLog(h);return console.warn("Failed to link program: "+re),t.deleteProgram(h),t.deleteShader(d),t.deleteShader(u),null}const M=t.getProgramParameter(h,t.ACTIVE_ATTRIBUTES);for(let re=0;re<M;re++){const Ee=t.getActiveAttrib(h,re);h[Ee.name]=t.getAttribLocation(h,Ee.name)}const U=t.getProgramParameter(h,t.ACTIVE_UNIFORMS);for(let re=0;re<U;re++){const Ee=t.getActiveUniform(h,re);h[Ee.name]=t.getUniformLocation(h,Ee.name)}return h.vertexShader=u,h.fragmentShader=d,h}function Q5(t,e,r){const u=t.createShader(e);if(u==null)return console.warn("unable to create shader"),null;if(t.shaderSource(u,r),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS)){const h=t.getShaderInfoLog(u);return console.warn("Failed to compile shader: "+h),t.deleteShader(u),null}return u}function Jp(t,e,r,u,d){const h=t.createTexture();return t.bindTexture(t.TEXTURE_2D,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,u,d,0,t.RGBA,t.UNSIGNED_BYTE,r),t.bindTexture(t.TEXTURE_2D,null),h}function KN(t,e,r){const u=t.createTexture();return t.bindTexture(t.TEXTURE_2D,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.bindTexture(t.TEXTURE_2D,null),u}function nT(t,e,r){t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,e)}function jA(t,e){const r=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),r}function QN(t,e,r,u,d){const h=t.createBuffer();h||console.warn("failed create vertex buffer"),t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW);const y=t.getAttribLocation(d,e);return t.vertexAttribPointer(y,u,t.FLOAT,!1,0,0),t.enableVertexAttribArray(y),t.bindBuffer(t.ARRAY_BUFFER,null),{buffer:h,attr:y,count:u}}function q5(t,e){const r=t.createBuffer();return r?(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)):console.warn("failed create vertex buffer"),r}function rT(t,e,r,u,d){const h=t.getUniformLocation(u,e);return h===null||h<0?console.warn("\u65E0\u6CD5\u83B7\u53D6 uniform \u53D8\u91CF\u7684\u5B58\u50A8\u4F4D\u7F6E"):_I(t,h,r,d),h}function _I(t,e,r,u){switch(u){case"float":t.uniform1f(e,r);break;case"vec2":t.uniform2fv(e,r);break;case"vec3":t.uniform3fv(e,r);break;case"vec4":t.uniform4fv(e,r);break;case"bool":t.uniform1i(e,r);break;case"sampler2d":break;case"mat4":t.uniformMatrix4fv(e,!1,r);break}}function HA(t){const{drawingBufferWidth:e,drawingBufferHeight:r}=t,u=e,d=r,h=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,h);const y=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,y),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,u,d),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,y);const M=t.createTexture();return h.texture=M,h.width=u,h.height=d,t.bindTexture(t.TEXTURE_2D,M),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,u,d,0,t.RGBA,t.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,M,0),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),{FRAMEBUFFER:h,OFFER_SCREEN_WIDTH:u,OFFER_SCREEN_HEIGHT:d}}const qN=`
 precision mediump float;

 attribute float a_index;

 uniform sampler2D u_particles;
 uniform float u_particles_res;

 varying vec2 v_particle_pos;

 void main() {
     vec4 color = texture2D(u_particles, vec2(
         fract(a_index / u_particles_res),
         floor(a_index / u_particles_res) / u_particles_res)
     );

     // decode current particle position from the pixel's RGBA value
     v_particle_pos = vec2( color.r / 255.0 + color.b, color.g / 255.0 + color.a);

     gl_PointSize = 1.0;
     gl_Position = vec4(2.0 * v_particle_pos.x - 1.0, 1.0 - 2.0 * v_particle_pos.y, 0, 1);
 }`,bI=`
 precision mediump float;

 uniform sampler2D u_wind;
 uniform vec2 u_wind_min;
 uniform vec2 u_wind_max;
 uniform sampler2D u_color_ramp;

 varying vec2 v_particle_pos;

 void main() {
     vec2 velocity = mix(u_wind_min, u_wind_max, texture2D(u_wind, v_particle_pos).rg);
     float speed_t = length(velocity) / length(u_wind_max);

     // color ramp is encoded in a 16x16 texture
     vec2 ramp_pos = vec2( fract(16.0 * speed_t), floor(16.0 * speed_t) / 16.0);

     gl_FragColor = texture2D(u_color_ramp, ramp_pos);
 }`,WA=`
 precision mediump float;

 attribute vec2 a_pos;

 varying vec2 v_tex_pos;

 void main() {
     v_tex_pos = a_pos;
     gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);
     // framebuffer \u59CB\u7EC8\u7528\u94FA\u6EE1\u5C4F\u5E55\u7684 texture
 }`,EI=`
 precision highp float;

 uniform sampler2D u_particles;
 uniform sampler2D u_wind;
 uniform vec2 u_wind_res;
 uniform vec2 u_wind_min;
 uniform vec2 u_wind_max;
 uniform float u_rand_seed;
 uniform float u_speed_factor;
 uniform float u_drop_rate;
 uniform float u_drop_rate_bump;

 varying vec2 v_tex_pos;

 // pseudo-random generator
 const vec3 rand_constants = vec3(12.9898, 78.233, 4375.85453);
 float rand(const vec2 co) {
 float t = dot(rand_constants.xy, co);
     return fract(sin(t) * (rand_constants.z + t));
 }

 // wind speed lookup; use manual bilinear filtering based on 4 adjacent pixels for smooth interpolation
 vec2 lookup_wind(const vec2 uv) {
     // return texture2D(u_wind, uv).rg; // lower-res hardware filtering
     vec2 px = 1.0 / u_wind_res;
     vec2 vc = (floor(uv * u_wind_res)) * px;
     vec2 f = fract(uv * u_wind_res);
     vec2 tl = texture2D(u_wind, vc).rg;
     vec2 tr = texture2D(u_wind, vc + vec2(px.x, 0)).rg;
     vec2 bl = texture2D(u_wind, vc + vec2(0, px.y)).rg;
     vec2 br = texture2D(u_wind, vc + px).rg;
     return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);
 }

 void main() {
     vec4 color = texture2D(u_particles, v_tex_pos);
     vec2 pos = vec2(
         color.r / 255.0 + color.b,
         color.g / 255.0 + color.a); // decode particle position from pixel RGBA
     vec2 velocity = mix(u_wind_min, u_wind_max, lookup_wind(pos));
     float speed_t = length(velocity) / length(u_wind_max);

     // take EPSG:4236 distortion into account for calculating where the particle moved
     float distortion = cos(radians(pos.y * 180.0 - 90.0));
     vec2 offset = vec2(velocity.x / distortion, -velocity.y) * 0.0001 * u_speed_factor;

     // update particle position, wrapping around the date line
     pos = fract(1.0 + pos + offset);

     // a random seed to use for the particle drop
     vec2 seed = (pos + v_tex_pos) * u_rand_seed;

     // drop rate is a chance a particle will restart at random position, to avoid degeneration
     float drop_rate = u_drop_rate + speed_t * u_drop_rate_bump;
     float drop = step(1.0 - drop_rate, rand(seed));

     vec2 random_pos = vec2(
         rand(seed + 1.3),
         rand(seed + 2.1));
         pos = mix(pos, random_pos, drop);

     // encode the new particle position back into RGBA
     gl_FragColor = vec4(
         fract(pos * 255.0),
         floor(pos * 255.0) / 255.0);
 }`,xI=`
     precision mediump float;

     attribute vec2 a_pos;

     varying vec2 v_tex_pos;

     void main() {
         v_tex_pos = a_pos;
         gl_Position = vec4(1.0 - 2.0 * a_pos, 0.0, 1.0);
         gl_PointSize = 100.0;
 }`,Y1=`
 precision mediump float;

 uniform sampler2D u_screen;
 uniform float u_opacity;
 varying vec2 v_tex_pos;

 void main() {
     vec4 color = texture2D(u_screen, 1.0 - v_tex_pos);

     // a hack to guarantee opacity fade out even with a value close to 1.0
     gl_FragColor = vec4(floor(255.0 * color * u_opacity) / 255.0);
 }`;function J5(t){let e=document.createElement("canvas");const r=e.getContext("2d");e.width=256,e.height=1;const u=r.createLinearGradient(0,0,256,0);for(const d of Object.keys(t))u.addColorStop(+d,t[+d]);return r.fillStyle=u,r.fillRect(0,0,256,1),e=null,new Uint8Array(r.getImageData(0,0,256,1).data)}function eM(t,e,r,u){t.bindBuffer(t.ARRAY_BUFFER,e),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,u,t.FLOAT,!1,0,0)}function iT(t,e,r){t.bindFramebuffer(t.FRAMEBUFFER,e),r&&t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0)}class TI{constructor(e){(0,me.Z)(this,"width",512),(0,me.Z)(this,"height",512),(0,me.Z)(this,"pixels",void 0),(0,me.Z)(this,"fadeOpacity",void 0),(0,me.Z)(this,"speedFactor",void 0),(0,me.Z)(this,"dropRate",void 0),(0,me.Z)(this,"dropRateBump",void 0),(0,me.Z)(this,"gl",void 0),(0,me.Z)(this,"drawProgram",void 0),(0,me.Z)(this,"fullScreenProgram",void 0),(0,me.Z)(this,"updateProgram",void 0),(0,me.Z)(this,"rampColors",void 0),(0,me.Z)(this,"numParticles",65536),(0,me.Z)(this,"numParticlesSize",void 0),(0,me.Z)(this,"particleStateResolution",void 0),(0,me.Z)(this,"quadBuffer",void 0),(0,me.Z)(this,"particleIndexBuffer",void 0),(0,me.Z)(this,"framebuffer",void 0),(0,me.Z)(this,"colorRampTexture",void 0),(0,me.Z)(this,"backgroundTexture",void 0),(0,me.Z)(this,"screenTexture",void 0),(0,me.Z)(this,"particleStateTexture0",void 0),(0,me.Z)(this,"particleStateTexture1",void 0),(0,me.Z)(this,"windTexture",void 0),(0,me.Z)(this,"windData",void 0),this.gl=e.glContext,this.width=e.imageWidth,this.height=e.imageHeight,this.fadeOpacity=e.fadeOpacity,this.speedFactor=e.speedFactor,this.dropRate=e.dropRate,this.dropRateBump=e.dropRateBump,this.rampColors=e.rampColors,this.init()}init(){const e=this.gl;this.fadeOpacity=.996,this.speedFactor=.25,this.dropRate=.003,this.dropRateBump=.01,this.drawProgram=m2(e,qN,bI),this.fullScreenProgram=m2(e,xI,Y1),this.updateProgram=m2(e,WA,EI),this.quadBuffer=jA(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])),this.framebuffer=e.createFramebuffer(),this.colorRampTexture=Jp(this.gl,this.gl.LINEAR,J5(this.rampColors),16,16);const r=new Uint8Array(this.width*this.height*4);this.backgroundTexture=Jp(e,e.NEAREST,r,this.width,this.height),this.screenTexture=Jp(e,e.NEAREST,r,this.width,this.height);const u=this.particleStateResolution=Math.ceil(Math.sqrt(this.numParticles));this.numParticlesSize=u*u;const d=new Uint8Array(this.numParticlesSize*4);for(let y=0;y<d.length;y++)d[y]=Math.floor(Math.random()*256);this.particleStateTexture0=Jp(e,e.NEAREST,d,u,u),this.particleStateTexture1=Jp(e,e.NEAREST,d,u,u);const h=new Float32Array(this.numParticlesSize);for(let y=0;y<this.numParticlesSize;y++)h[y]=y;this.particleIndexBuffer=jA(e,h)}setWind(e){this.windData=e,this.windTexture=KN(this.gl,this.gl.LINEAR,e.image)}updateParticelNum(e){const r=this.gl;if(e!==this.numParticles){this.numParticles=e;const u=this.particleStateResolution=Math.ceil(Math.sqrt(this.numParticles));this.numParticlesSize=u*u;const d=new Uint8Array(this.numParticlesSize*4);for(let y=0;y<d.length;y++)d[y]=Math.floor(Math.random()*256);this.particleStateTexture0=Jp(r,r.NEAREST,d,u,u),this.particleStateTexture1=Jp(r,r.NEAREST,d,u,u);const h=new Float32Array(this.numParticlesSize);for(let y=0;y<this.numParticlesSize;y++)h[y]=y;this.particleIndexBuffer=jA(r,h)}}updateWindDir(e,r,u,d){this.windData.uMin=e,this.windData.uMax=r,this.windData.vMin=u,this.windData.vMax=d}updateColorRampTexture(e){if(this.isColorChanged(e)){this.rampColors=e;const r=this.gl;r.deleteTexture(this.colorRampTexture),this.colorRampTexture=Jp(r,r.LINEAR,J5(e),16,16)}}isColorChanged(e){const r=Object.keys(e);for(const u of r){const d=Number(u);if(!this.rampColors[d]||this.rampColors[d]&&this.rampColors[d]!==e[d])return!0}return!1}reSize(e,r){if(e!==this.width||r!==this.height){const u=this.gl;u.deleteTexture(this.backgroundTexture),u.deleteTexture(this.screenTexture),this.width=e,this.height=r;const d=new Uint8Array(e*r*4);this.backgroundTexture=Jp(u,u.NEAREST,d,e,r),this.screenTexture=Jp(u,u.NEAREST,d,e,r)}}draw(){var e;if((e=this.windData)!==null&&e!==void 0&&e.image){const r=this.gl;return nT(r,this.windTexture,0),nT(r,this.particleStateTexture0,1),this.drawScreen(),this.updateParticles(),{d:this.pixels,w:this.width,h:this.height}}else return{d:new Uint8Array([0,0,0,0]),w:1,h:1}}drawScreen(){const e=this.gl;iT(e,this.framebuffer,this.screenTexture),e.viewport(0,0,this.width,this.height),e.disable(e.BLEND),this.drawFullTexture(this.backgroundTexture,this.fadeOpacity),this.drawParticles(),this.pixels=new Uint8Array(4*this.width*this.height),e.readPixels(0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.pixels),iT(e,null,null),e.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);const r=this.backgroundTexture;this.backgroundTexture=this.screenTexture,this.screenTexture=r}drawFullTexture(e,r){const u=this.gl,d=this.fullScreenProgram;u.useProgram(d),u.bindBuffer(u.ARRAY_BUFFER,this.quadBuffer),u.vertexAttribPointer(d.a_pos,2,u.FLOAT,!1,0,0),u.enableVertexAttribArray(d.a_pos),u.bindBuffer(u.ARRAY_BUFFER,null),nT(u,e,2),u.uniform1i(d.u_screen,2),u.uniform1f(d.u_opacity,r),u.drawArrays(u.TRIANGLES,0,6)}drawParticles(){const e=this.gl,r=this.drawProgram;e.useProgram(r),eM(e,this.particleIndexBuffer,r.a_index,1),nT(e,this.colorRampTexture,2),e.uniform1i(r.u_wind,0),e.uniform1i(r.u_particles,1),e.uniform1i(r.u_color_ramp,2),e.uniform1f(r.u_particles_res,this.particleStateResolution),e.uniform2f(r.u_wind_min,this.windData.uMin,this.windData.vMin),e.uniform2f(r.u_wind_max,this.windData.uMax,this.windData.vMax),e.drawArrays(e.POINTS,0,this.numParticlesSize)}updateParticles(){const e=this.gl;iT(e,this.framebuffer,this.particleStateTexture1),e.viewport(0,0,this.particleStateResolution,this.particleStateResolution);const r=this.updateProgram;e.useProgram(r),eM(e,this.quadBuffer,r.a_pos,2),e.uniform1i(r.u_wind,0),e.uniform1i(r.u_particles,1),e.uniform1f(r.u_rand_seed,Math.random()),e.uniform2f(r.u_wind_res,this.windData.image.width*2,this.windData.image.height*2),e.uniform2f(r.u_wind_min,this.windData.uMin,this.windData.vMin),e.uniform2f(r.u_wind_max,this.windData.uMax,this.windData.vMax),e.uniform1f(r.u_speed_factor,this.speedFactor),e.uniform1f(r.u_drop_rate,this.dropRate),e.uniform1f(r.u_drop_rate_bump,this.dropRateBump),e.drawArrays(e.TRIANGLES,0,6);const u=this.particleStateTexture0;this.particleStateTexture0=this.particleStateTexture1,this.particleStateTexture1=u,iT(e,null,null)}destroy(){this.gl.deleteBuffer(this.quadBuffer),this.gl.deleteBuffer(this.particleIndexBuffer),this.gl.deleteFramebuffer(this.framebuffer),this.gl.deleteShader(this.drawProgram.vertexShader),this.gl.deleteShader(this.drawProgram.fragmentShader),this.gl.deleteProgram(this.drawProgram),this.gl.deleteShader(this.fullScreenProgram.vertexShader),this.gl.deleteShader(this.fullScreenProgram.fragmentShader),this.gl.deleteProgram(this.fullScreenProgram),this.gl.deleteShader(this.updateProgram.vertexShader),this.gl.deleteShader(this.updateProgram.fragmentShader),this.gl.deleteProgram(this.updateProgram),this.gl.deleteTexture(this.colorRampTexture),this.gl.deleteTexture(this.backgroundTexture),this.gl.deleteTexture(this.screenTexture),this.gl.deleteTexture(this.particleStateTexture0),this.gl.deleteTexture(this.particleStateTexture1),this.gl.deleteTexture(this.windTexture)}}const SI=`precision mediump float;
uniform float u_opacity: 1.0;
uniform sampler2D u_texture;
varying vec2 v_texCoord;
void main() {
  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));
  gl_FragColor = color;
  gl_FragColor.a *= u_opacity;
}
`,AI=`precision highp float;
uniform mat4 u_ModelMatrix;

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

varying vec2 v_texCoord;
#pragma include "projection"
void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`,tM={0:"#3288bd",.1:"#66c2a5",.2:"#abdda4",.3:"#e6f598",.4:"#fee08b",.5:"#fdae61",.6:"#f46d43",1:"#d53e4f"};class CI extends Nc{constructor(...e){super(...e),(0,me.Z)(this,"texture",void 0),(0,me.Z)(this,"colorModel",void 0),(0,me.Z)(this,"wind",void 0),(0,me.Z)(this,"imageCoords",void 0),(0,me.Z)(this,"sizeScale",.5),(0,me.Z)(this,"frequency",new ta(7.2)),(0,me.Z)(this,"cacheZoom",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}render(e){this.drawColorMode(e),this.frequency.run(()=>{this.drawWind()})}getUninforms(){throw new Error("Method not implemented.")}initModels(){var e=this;return(0,Ba.Z)(function*(){var r,u;const{uMin:d=-21.32,uMax:h=26.8,vMin:y=-21.57,vMax:M=21.42,fadeOpacity:U=.996,speedFactor:re=.25,dropRate:Ee=.003,dropRateBump:Ae=.01,rampColors:We=tM,sizeScale:Ht=.5}=e.layer.getLayerConfig(),{createTexture2D:Tn}=e.rendererService,Fn=e.layer.getSource();e.texture=Tn({height:0,width:0}),e.cacheZoom=Math.floor(e.mapService.getZoom());const br=e.rendererService.getGLContext();e.imageCoords=(r=Fn.data)===null||r===void 0?void 0:r.dataArray[0].coordinates,(u=Fn.data)===null||u===void 0||(u=u.images)===null||u===void 0||u.then(Jr=>{var zi;e.sizeScale=Ht*e.getZoomScale();const{imageWidth:ca,imageHeight:Da}=e.getWindSize(),Va={glContext:br,imageWidth:ca,imageHeight:Da,fadeOpacity:U,speedFactor:re,dropRate:Ee,dropRateBump:Ae,rampColors:We};e.wind=new TI(Va),e.wind.setWind({uMin:d,uMax:h,vMin:y,vMax:M,image:Jr[0]}),(zi=e.texture)===null||zi===void 0||zi.destroy(),e.texture=Tn({width:ca,height:Da}),e.layerService.reRender()});const ei=yield e.layer.buildLayerModel({moduleName:"wind",vertexShader:AI,fragmentShader:SI,defines:e.getDefines(),triangulation:cx,primitive:kt.TRIANGLES,depth:{enable:!1}});return e.colorModel=ei,[ei]})()}getWindSize(){const e=this.mapService.lngLatToPixel(this.imageCoords[0]),r=this.mapService.lngLatToPixel(this.imageCoords[1]),u=Math.min(Math.floor((r.x-e.x)*this.sizeScale),2048),d=Math.min(Math.floor((e.y-r.y)*this.sizeScale),2048);return{imageWidth:u,imageHeight:d}}buildModels(){var e=this;return(0,Ba.Z)(function*(){return e.initModels()})()}clearModels(){var e,r;(e=this.texture)===null||e===void 0||e.destroy(),(r=this.wind)===null||r===void 0||r.destroy()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Ya.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:kt.DYNAMIC_DRAW,data:[],type:kt.FLOAT},size:2,update:(e,r,u)=>[u[3],u[4]]}})}getZoomScale(){return Math.min((this.cacheZoom+4)/30*2,2)}drawWind(){if(this.wind){const{uMin:e=-21.32,uMax:r=26.8,vMin:u=-21.57,vMax:d=21.42,numParticles:h=65535,fadeOpacity:y=.996,speedFactor:M=.25,dropRate:U=.003,dropRateBump:re=.01,rampColors:Ee=tM,sizeScale:Ae=.5}=this.layer.getLayerConfig();let We=h;const Ht=Math.floor(this.mapService.getZoom());if(typeof Ae=="number"&&Ae!==this.sizeScale||Ht!==this.cacheZoom){const ei=this.getZoomScale();this.sizeScale=Ae,We*=ei;const{imageWidth:Jr,imageHeight:zi}=this.getWindSize();this.wind.reSize(Jr,zi),this.cacheZoom=Ht}this.wind.updateWindDir(e,r,u,d),this.wind.updateParticelNum(We),this.wind.updateColorRampTexture(Ee),this.wind.fadeOpacity=y,this.wind.speedFactor=M,this.wind.dropRate=U,this.wind.dropRateBump=re;const{d:Tn,w:Fn,h:br}=this.wind.draw();this.rendererService.setBaseState(),this.texture.update({data:Tn,width:Fn,height:br})}}drawColorMode(e={}){var r;const{opacity:u}=this.layer.getLayerConfig();this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),this.layerService.renderMask(this.layer.masks),(r=this.colorModel)===null||r===void 0||r.draw({uniforms:{u_opacity:u||1,u_texture:this.texture},blend:this.getBlend(),stencil:this.getStencil(e)}),this.layer.hooks.afterRender.call()}}var VA={wind:CI};class OI extends zp{constructor(...e){super(...e),(0,me.Z)(this,"type","WindLayer")}buildModels(){var e=this;return(0,Ba.Z)(function*(){const r=e.getModelType();e.layerModel=new VA[r](e),yield e.initLayerModels()})()}renderModels(e={}){return this.layerModel&&this.layerModel.render(e),this}getDefaultConfig(){const e=this.getModelType();return{wind:{}}[e]}getModelType(){return"wind"}}class nM extends cg{constructor(...e){super(...e),(0,me.Z)(this,"isMoving",!1),(0,me.Z)(this,"maskLayer",void 0),(0,me.Z)(this,"move",r=>{switch(r.stopPropagation(),r.type){case"touchcancel":case"touchend":case"mouseup":{var u;this.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(d=>{document.removeEventListener(d,this.move)}),(u=this.scene)===null||u===void 0||u.render();break}case"mousedown":case"touchstart":this.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(d=>{document.addEventListener(d,this.move)});case"mousemove":case"touchmove":{if(this.isMoving)if(this.controlOption.orientation==="vertical"){let d;if("pageX"in r?d=r.pageX:r.touches&&r.touches.length&&r.touches[0].pageX?d=r.touches[0].pageX:r.changedTouches&&r.changedTouches.length&&(d=r.changedTouches[0].pageX),!d)break;const h=this.getContainerDOMRect(),y=this.getContainerSize(),M=y[0],U=(h==null?void 0:h.left)||0,re=d-U+window.scrollX-document.documentElement.clientLeft,Ee=M-Math.min(Math.max(0,M-re),M),Ae=Ee/M;this.setOptions({ratio:Ae}),this.emit("moving",{size:[Ee,y[1]],ratio:[Ae,0]})}else{let d;if("pageY"in r?d=r.pageY:r.touches&&r.touches.length&&r.touches[0].pageY?d=r.touches[0].pageY:r.changedTouches&&r.changedTouches.length&&(d=r.changedTouches[0].pageY),!d)break;const h=this.getContainerDOMRect(),y=this.getContainerSize(),M=y[1],U=(h==null?void 0:h.top)||0,re=d-U+window.scrollY-document.documentElement.clientTop,Ee=M-Math.min(Math.max(0,M-re),M),Ae=Ee/M;this.setOptions({ratio:Ae}),this.emit("moving",{size:[y[0],Ee],ratio:[0,Ae]})}break}default:break}}),(0,me.Z)(this,"getMaskLayer",()=>(console.log(this.getMaskGeoData()),new q3({visible:!1}).source(this.getMaskGeoData()).shape("fill").color("red").style({opacity:.1}))),(0,me.Z)(this,"updateMask",()=>{var r;if(!this.mapsService)return;const u=this.getMaskGeoData();(r=this.maskLayer)===null||r===void 0||r.setData(u)})}getDefault(){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault()),{},{layers:[],rightLayers:[],ratio:.5,orientation:"vertical"})}onAdd(){const e=as("div","l7-control-swipe");as("button","l7-control-swipe__button",e);const{orientation:r="vertical",ratio:u=.5}=this.controlOption;return r==="horizontal"?(e.style.top=u*100+"%",e.style.left=""):(e.style.left=u*100+"%",e.style.top=""),e.classList.add(r),e}addTo(e){this.mapsService=e.mapService,this.renderService=e.rendererService,this.layerService=e.layerService,this.controlService=e.controlService,this.configService=e.globalConfigService,this.scene=e.sceneService,this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();const{className:r,style:u,layers:d,rightLayers:h}=this.controlOption;r&&this.setClassName(r),u&&this.setStyle(u),this.mapsService.getMarkerContainer().appendChild(this.container),this.maskLayer=this.getMaskLayer(),this.registerEvent();const y=em(e);return this.maskLayer.setContainer(y),this.scene.addLayer(this.maskLayer),this.addMaskToLayers(d,!1),this.addMaskToLayers(h,!0),this.emit("add",this),this}onRemove(){if(this.maskLayer){var e;const{layers:r,rightLayers:u}=this.controlOption;this.removeMaskFromLayers(r),this.removeMaskFromLayers(u),(e=this.layerService)===null||e===void 0||e.remove(this.maskLayer)}this.unRegisterEvent(),this.removeAllListeners()}show(){var e;const r=this.container;Lu(r,"l7-control-swipe_hide");const{layers:u,rightLayers:d}=this.controlOption;u.forEach(h=>h.enableMask()),d.forEach(h=>h.enableMask()),(e=this.scene)===null||e===void 0||e.render(),this.isShow=!0,this.emit("show",this)}hide(){var e;const r=this.container;Xs(r,"l7-control-swipe_hide");const{layers:u,rightLayers:d}=this.controlOption;u.forEach(h=>h.disableMask()),d.forEach(h=>h.disableMask()),(e=this.scene)===null||e===void 0||e.render(),this.isShow=!1,this.emit("hide",this)}setOptions(e){const r=(0,Ir.Z)((0,Ir.Z)({},this.controlOption),e);if(e.className&&this.setClassName(e.className),e.style&&this.setStyle(e.style),(e.orientation||e.ratio!==void 0)&&this.setOrientationAndRatio(r.orientation,r.ratio),e.layers){const u=e.layers,d=this.controlOption.layers;this.setLayers(u,d,!1)}if(e.rightLayers){const u=e.rightLayers,d=this.controlOption.rightLayers;this.setLayers(u,d,!0)}this.controlOption=r,this.updateMask()}registerEvent(){this.container.addEventListener("mousedown",this.move),this.container.addEventListener("touchstart",this.move),this.mapsService.on("camerachange",this.updateMask)}unRegisterEvent(){var e;this.container.removeEventListener("mousedown",this.move),this.container.removeEventListener("touchstart",this.move),(e=this.mapsService)===null||e===void 0||e.off("camerachange",this.updateMask)}setOrientationAndRatio(e="vertical",r=.5){this.container.classList.remove("horizontal","vertical"),this.container.classList.add(e),e==="horizontal"?(this.container.style.top=r*100+"%",this.container.style.left=""):(this.container.style.left=r*100+"%",this.container.style.top="")}setLayers(e,r,u=!1){const d=e.filter(y=>r.includes(y)===!1),h=r.filter(y=>e.includes(y)===!1);this.addMaskToLayers(d,u),this.removeMaskFromLayers(h)}addMaskToLayers(e,r){e.forEach(u=>{u.updateLayerConfig({maskInside:!r}),u.addMask(this.maskLayer)})}removeMaskFromLayers(e){e.forEach(r=>{r.updateLayerConfig({maskInside:!0}),r.removeMask(this.maskLayer)})}getMaskGeoData(){const{ratio:e=.5,orientation:r="vertical"}=this.controlOption,u=r==="vertical",[d,h]=this.getBounds(),[y,M]=d,[U,re]=h;let Ee;if(u){const We=y+(U-y)*e;Ee=[[y,re],[We,re],[We,M],d,[y,re]]}else{const We=this.getContainerSize(),Tn=this.mapsService.containerToLngLat([We[0],We[1]*e]).lat;Ee=[[y,re],h,[U,Tn],[y,Tn],[y,re]]}return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[Ee]}}]}}getContainerDOMRect(){var e;return(e=this.mapsService.getContainer())===null||e===void 0?void 0:e.getBoundingClientRect()}getContainerSize(){return this.mapsService.getSize()}getBounds(){return this.mapsService.getBounds()}addLayer(e,r=!1){const u=Array.isArray(e)?e:[e];if(r){const d=this.controlOption.rightLayers.concat(...u);this.setOptions({rightLayers:d})}else{const d=this.controlOption.layers.concat(...u);this.setOptions({layers:d})}}removeLayer(e){const r=Array.isArray(e)?e:[e],u=this.controlOption.layers.filter(h=>r.includes(h)),d=this.controlOption.rightLayers.filter(h=>r.includes(h));this.setOptions({layers:u,rightLayers:d})}removeLayers(){this.setOptions({layers:[],rightLayers:[]})}}class wI extends cg{constructor(...e){super(...e),(0,me.Z)(this,"disabled",void 0),(0,me.Z)(this,"zoomInButton",void 0),(0,me.Z)(this,"zoomOutButton",void 0),(0,me.Z)(this,"zoomNumDiv",void 0),(0,me.Z)(this,"zoomIn",()=>{!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}),(0,me.Z)(this,"zoomOut",()=>{!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}),(0,me.Z)(this,"updateDisabled",()=>{const r=this.mapsService;this.zoomInButton.removeAttribute("disabled"),this.zoomOutButton.removeAttribute("disabled"),(this.disabled||r.getZoom()<=r.getMinZoom())&&this.zoomOutButton.setAttribute("disabled","true"),this.controlOption.showZoom&&this.zoomNumDiv&&(this.zoomNumDiv.innerText=String(Math.floor(r.getZoom()))),(this.disabled||r.getZoom()>=r.getMaxZoom())&&this.zoomInButton.setAttribute("disabled","true")})}getDefault(e){return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{position:Bi.BOTTOMRIGHT,name:"zoom",zoomInText:sm("l7-icon-enlarge"),zoomInTitle:"Zoom in",zoomOutText:sm("l7-icon-narrow"),zoomOutTitle:"Zoom out",showZoom:!1})}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","showZoom"])&&this.resetButtonGroup(this.container)}onAdd(){const e=as("div","l7-control-zoom");return this.resetButtonGroup(e),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),e}onRemove(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}disable(){return this.disabled=!0,this.updateDisabled(),this}enable(){return this.disabled=!1,this.updateDisabled(),this}resetButtonGroup(e){Io(e),this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,"l7-button-control",e,this.zoomIn),this.controlOption.showZoom&&(this.zoomNumDiv=this.createButton("0","","l7-button-control l7-control-zoom__number",e)),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,"l7-button-control",e,this.zoomOut),this.updateDisabled()}createButton(e,r,u,d,h){const y=as("button",u,d);return typeof e=="string"?y.innerHTML=e:y.append(e),y.title=r,h&&y.addEventListener("click",h),y}}class aT extends yi.EventEmitter{get lngLat(){var e;return(e=this.popupOption.lngLat)!==null&&e!==void 0?e:{lng:0,lat:0}}set lngLat(e){this.popupOption.lngLat=e}constructor(e){super(),(0,me.Z)(this,"popupOption",void 0),(0,me.Z)(this,"mapsService",void 0),(0,me.Z)(this,"sceneService",void 0),(0,me.Z)(this,"layerService",void 0),(0,me.Z)(this,"scene",void 0),(0,me.Z)(this,"closeButton",void 0),(0,me.Z)(this,"container",void 0),(0,me.Z)(this,"content",void 0),(0,me.Z)(this,"contentTitle",void 0),(0,me.Z)(this,"contentPanel",void 0),(0,me.Z)(this,"tip",void 0),(0,me.Z)(this,"isShow",!0),(0,me.Z)(this,"onMouseMove",u=>{var d;const h=this.mapsService.getMapContainer(),{left:y=0,top:M=0}=(d=h==null?void 0:h.getBoundingClientRect())!==null&&d!==void 0?d:{};this.setPopupPosition(u.clientX-y,u.clientY-M)}),(0,me.Z)(this,"updateLngLatPosition",()=>{if(!this.mapsService||this.popupOption.followCursor)return;const{lng:u,lat:d}=this.lngLat,{x:h,y}=this.mapsService.lngLatToContainer([u,d]);this.setPopupPosition(h,y)}),(0,me.Z)(this,"updateLngLatPositionWhenZoom",u=>{if(!this.mapsService||this.popupOption.followCursor)return;const d=u.map,h=d.getSize();h.x=h.x/2,h.y=h.y/2;const y=u.center,M=u.zoom,U=d.DE(this.lngLat,M,y);U.x=Math.round(U.x),U.y=Math.round(U.y),this.setPopupPosition(U.x,U.y,!0)}),(0,me.Z)(this,"onKeyDown",u=>{u.keyCode===27&&this.remove()}),(0,me.Z)(this,"onCloseButtonClick",u=>{u.stopPropagation&&u.stopPropagation(),this.hide()}),(0,me.Z)(this,"updatePosition",(u,d=!0)=>{const h=!!this.lngLat,{className:y,style:M,maxWidth:U,anchor:re,stopPropagation:Ee}=this.popupOption;if(!this.mapsService||!h||!this.content)return;const Ae=this.mapsService.getMarkerContainer();if(!this.container&&Ae&&(this.container=as("div",`l7-popup ${y!=null?y:""} ${this.isShow?"":"l7-popup-hide"}`,Ae),M&&this.container.setAttribute("style",M),this.tip=as("div","l7-popup-tip",this.container),this.container.appendChild(this.content),Ee&&["mousemove","mousedown","mouseup","click","dblclick"].forEach(We=>{this.container.addEventListener(We,Ht=>{Ht.stopPropagation()})}),this.container.style.whiteSpace="nowrap"),d?this.updateLngLatPositionWhenZoom(u):this.updateLngLatPosition(),_l(this.container,`${fn[re]}`),sn(this.container,re,"popup"),U){const{width:We}=this.container.getBoundingClientRect();We>parseFloat(U)&&(this.container.style.width=U)}else this.container.style.removeProperty("width")}),(0,me.Z)(this,"updateWhenZoom",u=>{this.updatePosition(u,!0)}),(0,me.Z)(this,"update",()=>{this.updatePosition(null,!1)}),this.popupOption=(0,Ir.Z)((0,Ir.Z)({},this.getDefault(e!=null?e:{})),e);const{lngLat:r}=this.popupOption;r&&(this.lngLat=r)}getIsShow(){return this.isShow}addTo(e){this.mapsService=e.mapService,this.sceneService=e.sceneService,this.layerService=e.layerService,this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=e,this.update(),this.updateCloseOnClick(),this.updateCloseOnEsc(),this.updateFollowCursor();const{html:r,text:u,title:d}=this.popupOption;return r?this.setHTML(r):u&&this.setText(u),d&&this.setTitle(d),this.emit("open"),this}remove(){if(this!==null&&this!==void 0&&this.isOpen())return this.content&&$s(this.content),this.container&&($s(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.updateCloseOnClick(!0),this.updateCloseOnEsc(!0),this.updateFollowCursor(!0),delete this.mapsService),this.emit("close"),this}getOptions(){return this.popupOption}setOptions(e){this.show();const{className:r}=this.popupOption;if(this.popupOption=(0,Ir.Z)((0,Ir.Z)({},this.popupOption),e),this.checkUpdateOption(e,["html","text","title","closeButton","closeButtonOffsets","maxWidth","anchor","stopPropagation","lngLat","offsets"])&&(this.container&&($s(this.container),this.container=void 0),this.popupOption.html?this.setHTML(this.popupOption.html):this.popupOption.text&&this.setText(this.popupOption.text),this.popupOption.title&&this.setTitle(this.popupOption.title)),this.checkUpdateOption(e,["closeOnEsc"])&&this.updateCloseOnEsc(),this.checkUpdateOption(e,["closeOnClick"])&&this.updateCloseOnClick(),this.checkUpdateOption(e,["followCursor"])&&this.updateFollowCursor(),this.checkUpdateOption(e,["html"])&&e.html?this.setHTML(e.html):this.checkUpdateOption(e,["text"])&&e.text&&this.setText(e.text),this.checkUpdateOption(e,["className"])){var u;r&&this.container.classList.remove(r!=null?r:""),this.container.classList.add((u=e.className)!==null&&u!==void 0?u:"")}if(this.checkUpdateOption(e,["style"])){var d;li(this.container,(d=e.style)!==null&&d!==void 0?d:"")}return this.checkUpdateOption(e,["lngLat"])&&e.lngLat&&this.setLnglat(e.lngLat),this}open(){return this.addTo(this.scene),this}close(){return this.remove(),this}show(){if(!this.isShow)return this.container&&Lu(this.container,"l7-popup-hide"),this.isShow=!0,this.emit("show"),this}hide(){if(this.isShow)return this.container&&Xs(this.container,"l7-popup-hide"),this.isShow=!1,this.emit("hide"),this}setHTML(e){return this.popupOption.html=e,this.setDOMContent(e)}setText(e){return this.popupOption.text=e,this.setDOMContent(window.document.createTextNode(e))}setTitle(e){this.show(),this.popupOption.title=e,e?(this.contentTitle||(this.contentTitle=as("div","l7-popup-content__title"),this.content.firstChild?this.content.insertBefore(this.contentTitle,this.content.firstChild):this.content.append(this.contentTitle)),Io(this.contentTitle),wo(this.contentTitle,e)):this.contentTitle&&($s(this.contentTitle),this.contentTitle=void 0)}panToPopup(){const{lng:e,lat:r}=this.lngLat;return this.popupOption.autoPan&&this.mapsService.panTo([e,r]),this}setLngLat(e){return this.setLnglat(e)}setLnglat(e){return this.show(),this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this.popupOption.autoPan&&setTimeout(()=>{this.panToPopup()},0),this}getLnglat(){return this.lngLat}setMaxWidth(e){return this.popupOption.maxWidth=e,this.update(),this}isOpen(){return!!this.mapsService}getDefault(e){return{closeButton:!0,closeOnClick:!1,maxWidth:"240px",offsets:[0,0],anchor:En.BOTTOM,stopPropagation:!0,autoPan:!1,autoClose:!0,closeOnEsc:!1,followCursor:!1}}setDOMContent(e){return this.show(),this.createContent(),wo(this.contentPanel,e),this.update(),this}updateCloseOnClick(e){const r=this.mapsService;r&&(r==null||r.off("click",this.onCloseButtonClick),this.popupOption.closeOnClick&&!e&&requestAnimationFrame(()=>{r==null||r.on("click",this.onCloseButtonClick)}))}updateCloseOnEsc(e){window.removeEventListener("keydown",this.onKeyDown),this.popupOption.closeOnEsc&&!e&&window.addEventListener("keydown",this.onKeyDown)}updateFollowCursor(e){var r;const u=(r=this.mapsService)===null||r===void 0?void 0:r.getContainer();u&&(u==null||u.removeEventListener("mousemove",this.onMouseMove),this.popupOption.followCursor&&!e&&(u==null||u.addEventListener("mousemove",this.onMouseMove)))}createContent(){if(this.content&&$s(this.content),this.contentTitle=void 0,this.content=as("div","l7-popup-content",this.container),this.setTitle(this.popupOption.title),this.popupOption.closeButton){const e=sm("l7-icon-guanbi");Xs(e,"l7-popup-close-button"),this.content.appendChild(e),this.popupOption.closeButtonOffsets&&(e.style.right=this.popupOption.closeButtonOffsets[0]+"px",e.style.top=this.popupOption.closeButtonOffsets[1]+"px"),e.setAttribute("aria-label","Close popup"),e.addEventListener("click",()=>{this.hide()}),e.addEventListener("pointerup",r=>{r.stopPropagation()}),e.addEventListener("pointerdown",r=>{r.stopPropagation()}),this.closeButton=e}else this.closeButton=void 0;this.contentPanel=as("div","l7-popup-content__panel",this.content)}setPopupPosition(e,r,u=!1){if(this.container){const{offsets:d}=this.popupOption;this.container.style.left=e+d[0]+"px",this.container.style.top=r-d[1]+"px",u?this.container.style.transition="left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)":this.container.style.transition=""}}checkUpdateOption(e,r){return r.some(u=>u in e)}}const{get:rM}=yo;class MI extends aT{constructor(...e){super(...e),(0,me.Z)(this,"layerClickCountByFrame",0),(0,me.Z)(this,"layerConfigMap",new WeakMap),(0,me.Z)(this,"displayFeatureInfo",void 0),(0,me.Z)(this,"onLayerClick",(r,u)=>{requestAnimationFrame(()=>{if(this.popupOption.closeOnClick&&this.layerClickCountByFrame++,this.isShow&&this.isSameFeature(r,u.featureId))this.hide();else{const{title:d,content:h}=this.getLayerInfoFrag(r,u);this.setDOMContent(h),this.setLnglat(u.lngLat),this.setTitle(d),this.setDisplayFeatureInfo({layer:r,featureId:u.featureId}),this.show()}})}),(0,me.Z)(this,"onSceneClick",()=>{this.layerClickCountByFrame=0,requestAnimationFrame(()=>{this.layerClickCountByFrame||this.hide()})}),(0,me.Z)(this,"onLayerHide",()=>{this.hide(),this.setDisplayFeatureInfo(void 0)}),(0,me.Z)(this,"updateCloseOnClick",()=>{})}get layerConfigItems(){var e;const{config:r,items:u}=this.popupOption;return(e=r!=null?r:u)!==null&&e!==void 0?e:[]}addTo(e){return super.addTo(e),this.bindLayerEvent(),this.hide(),this}remove(){return super.remove(),this.unbindLayerEvent(),this}setOptions(e){this.unbindLayerEvent();const r=(0,Ir.Z)({},e),u=r.trigger||this.popupOption.trigger,d=r.items||this.popupOption.items,h=(d==null?void 0:d.length)===0;r.followCursor=u==="hover"&&!h;const y=this.isShow;return super.setOptions(r),this.bindLayerEvent(),(h||!y)&&this.hide(),this}getDefault(e){const r=e.trigger!=="click";return(0,Ir.Z)((0,Ir.Z)({},super.getDefault(e)),{},{trigger:"hover",followCursor:r,lngLat:{lng:0,lat:0},offsets:[0,10],closeButton:!1,closeOnClick:!0,autoClose:!1,closeOnEsc:!1})}bindLayerEvent(){const{trigger:e,closeOnClick:r}=this.popupOption;this.layerConfigItems.forEach(u=>{var d;const h=this.getLayerByConfig(u);if(!h)return;const y=(0,Ir.Z)({},u);if(e==="hover"){const Ee=this.onLayerMouseMove.bind(this,h),Ae=this.onLayerMouseOut.bind(this,h);y.onMouseMove=Ee,y.onMouseOut=Ae,h==null||h.on("mousemove",Ee),h==null||h.on("mouseout",Ae)}else{var M;const Ee=this.onLayerClick.bind(this,h);y.onClick=Ee,h==null||h.on("click",Ee);const Ae=(M=this.mapsService)===null||M===void 0?void 0:M.getMapContainer();Ae&&r&&Ae.addEventListener("click",this.onSceneClick)}const U=h==null||(d=h.getSource)===null||d===void 0?void 0:d.call(h),re=this.onSourceUpdate.bind(this);U==null||U.on("update",re),y.onSourceUpdate=re,this.layerConfigMap.set(h,y)})}unbindLayerEvent(){this.layerConfigItems.forEach(e=>{var r;const u=this.getLayerByConfig(e),d=u&&this.layerConfigMap.get(u);if(!d)return;const{onMouseMove:h,onMouseOut:y,onClick:M,onSourceUpdate:U}=d;if(h&&u.off("mousemove",h),y&&u.off("mouseout",y),M&&u.off("click",M),U){var re;u==null||(re=u.getSource())===null||re===void 0||re.off("update",U)}const Ee=(r=this.mapsService)===null||r===void 0?void 0:r.getMapContainer();Ee&&Ee.removeEventListener("click",this.onSceneClick)})}onLayerMouseMove(e,r){if(!this.isSameFeature(e,r.featureId)){const{title:u,content:d}=this.getLayerInfoFrag(e,r);this.setDOMContent(d),this.setTitle(u),this.setDisplayFeatureInfo({layer:e,featureId:r.featureId}),this.show()}}onLayerMouseOut(e,r){this.setDisplayFeatureInfo(void 0),this.isShow&&this.hide()}onSourceUpdate(){this.hide(),this.setDisplayFeatureInfo(void 0)}getLayerInfoFrag(e,r){const u=this.layerConfigMap.get(e);let d;const h=document.createDocumentFragment();if(u){let y=r.feature;y.type==="Feature"&&"properties"in y&&"geometry"in y&&(y=y.properties);const{title:M,fields:U,customContent:re}=u;if(M){d=document.createDocumentFragment();const Ee=M instanceof Function?M(y):M;wo(d,Ee)}if(re){const Ee=re instanceof Function?re(y):re;wo(h,Ee)}else U!=null&&U.length&&(U==null||U.forEach(Ee=>{var Ae,We;const{field:Ht,formatField:Tn,formatValue:Fn,getValue:br}=typeof Ee=="string"?{field:Ee}:Ee,ei=as("div","l7-layer-popup__row"),Jr=br?br(r.feature):rM(y,Ht),zi=(Ae=Tn instanceof Function?Tn(Ht,y):Tn)!==null&&Ae!==void 0?Ae:Ht;let ca=(We=Fn instanceof Function?Fn(Jr,y):Fn)!==null&&We!==void 0?We:Jr;const Da=as("span","l7-layer-popup__key",ei);wo(Da,zi),wo(Da,document.createTextNode("\uFF1A"));const Va=as("span","l7-layer-popup__value",ei);Array.isArray(ca)&&ca.every(va=>!(va instanceof Object))&&(ca=ca.map(va=>String(va)).join(",")),wo(Va,ca),h.appendChild(ei)}))}return{title:d,content:h}}getLayerByConfig(e){const r=e.layer;if(r instanceof Object)return r;if(typeof r=="string")return this.layerService.getLayer(r)||this.layerService.getLayerByName(r)}isSameFeature(e,r){const u=this.displayFeatureInfo;return u&&e===u.layer&&r===u.featureId}setDisplayFeatureInfo(e){const r=this.displayFeatureInfo;r&&r.layer.off("hide",this.onLayerHide),e&&e.layer.on("hide",this.onLayerHide),this.displayFeatureInfo=e}}function iM(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}iM(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}
.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgba(181, 226, 140, 0.6);
  background-clip: padding-box;
  border-radius: 20px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font:
    12px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  text-align: center;
  background-color: rgba(110, 204, 57, 0.6);
  border-radius: 15px;
}
.l7-marker-cluster span {
  line-height: 30px;
}
.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgba(0, 0, 0, 0.2);
}
.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}
.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 999;
  box-sizing: border-box;
}
.l7-control-container {
  font:
    12px/1.5 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
}
.l7-control-container .l7-control {
  position: relative;
  z-index: 999;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblePainted;
  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control-container .l7-control.l7-control--hide {
  display: none;
}
.l7-control-container .l7-top {
  top: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}
.l7-control-container .l7-right {
  right: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}
.l7-control-container .l7-bottom {
  bottom: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}
.l7-control-container .l7-left {
  left: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}
.l7-control-container .l7-center {
  position: absolute;
  display: flex;
  justify-content: center;
}
.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}
.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}
.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}
.l7-control-container .l7-row {
  flex-direction: row;
}
.l7-control-container .l7-row.l7-top {
  align-items: flex-start;
}
.l7-control-container .l7-row.l7-bottom {
  align-items: flex-end;
}
.l7-control-container .l7-column {
  flex-direction: column;
}
.l7-control-container .l7-column.l7-left {
  align-items: flex-start;
}
.l7-control-container .l7-column.l7-right {
  align-items: flex-end;
}
.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 6px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  line-height: 16px;
}
.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}
.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}
.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}
.l7-button-control.l7-button-control--column {
  height: 44px;
  flex-direction: column;
}
.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}
.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}
.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}
.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}
.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}
.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}
.l7-button-control:disabled:hover {
  background-color: #fafafa;
}
.l7-button-control:disabled:active {
  background-color: #fafafa;
}
.l7-popper {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  color: #595959;
}
.l7-popper.l7-popper-hide {
  display: none;
}
.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-top-color: transparent;
  border-bottom-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper.l7-popper-left {
  flex-direction: row;
}
.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-right {
  flex-direction: row-reverse;
}
.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-top {
  flex-direction: column;
}
.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-bottom {
  flex-direction: column-reverse;
}
.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-start {
  align-items: flex-start;
}
.l7-popper.l7-popper-end {
  align-items: flex-end;
}
.l7-select-control--normal {
  padding: 4px 0;
}
.l7-select-control--normal .l7-select-control-item {
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
  line-height: 24px;
}
.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}
.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  width: 14px;
  height: 14px;
}
.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}
.l7-select-control--image {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  box-sizing: content-box;
  max-width: 460px;
  max-height: 400px;
  margin: 12px 0 0 12px;
  overflow-x: hidden;
  overflow-y: auto;
}
.l7-select-control--image .l7-select-control-item {
  position: relative;
  display: flex;
  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);
  flex-direction: column;
  justify-content: center;
  box-sizing: content-box;
  margin-right: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  font-size: 12px;
  border: 1px solid #fff;
  border-radius: 2px;
}
.l7-select-control--image .l7-select-control-item img {
  width: 100%;
  height: 80px;
}
.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  top: 0;
  right: 0;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 26px;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}
.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}
.l7-select-control-item {
  cursor: pointer;
}
.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}
.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}
.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.l7-control-logo img {
  height: 100%;
  width: 100%;
}
.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}
.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}
.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  padding: 2px 4px;
  min-width: 130px;
}
.l7-control-zoom {
  overflow: hidden;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-control-zoom .l7-button-control {
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 0;
  box-shadow: 0 0 0;
}
.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}
.l7-control-zoom .l7-button-control:last-child {
  border-bottom: 0;
}
.l7-control-zoom .l7-control-zoom__number {
  color: #595959;
  padding: 0;
}
.l7-control-zoom .l7-control-zoom__number:hover {
  background-color: #fff;
}
.l7-control-scale {
  display: flex;
  flex-direction: column;
}
.l7-control-scale .l7-control-scale-line {
  box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  transition: width 0.1s;
}
.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}
.l7-right .l7-control-scale {
  display: flex;
  align-items: flex-end;
}
.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: flex;
  will-change: transform;
  pointer-events: none;
}
.l7-popup.l7-popup-hide {
  display: none;
}
.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}
.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}
.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}
.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}
.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  flex-direction: column-reverse;
}
.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}
.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  flex-direction: column;
}
.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}
.l7-popup.l7-popup-anchor-left {
  flex-direction: row;
}
.l7-popup.l7-popup-anchor-right {
  flex-direction: row-reverse;
}
.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-tip {
  align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}
.l7-popup-anchor-top-right .l7-popup-tip {
  align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-bottom .l7-popup-tip {
  align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}
.l7-popup-anchor-bottom-left .l7-popup-tip {
  align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}
.l7-popup-anchor-bottom-right .l7-popup-tip {
  align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}
.l7-popup-anchor-left .l7-popup-tip {
  align-self: center;
  border-right-color: #fff;
  border-left: none;
}
.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  align-self: center;
  border-right: none;
  border-left-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}
.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}
.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}
.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}
.l7-popup-track-pointer {
  display: none;
}
.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}
.l7-map:hover .l7-popup-track-pointer {
  display: flex;
}
.l7-map:active .l7-popup-track-pointer {
  display: none;
}
.l7-layer-popup__row {
  font-size: 12px;
}
.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}
.l7-control-swipe {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 6;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  touch-action: none;
}
.l7-control-swipe_hide {
  display: none;
}
.l7-control-swipe:before {
  position: absolute;
  top: -5000px;
  bottom: -5000px;
  left: 50%;
  z-index: -1;
  width: 4px;
  background: #fff;
  -webkit-transform: translate(-2px, 0);
          transform: translate(-2px, 0);
  content: '';
}
.l7-control-swipe.horizontal:before {
  top: 50%;
  right: -5000px;
  bottom: auto;
  left: -5000px;
  width: auto;
  height: 4px;
}
.l7-control-swipe__button {
  display: block;
  width: 28px;
  height: 28px;
  margin: 0;
  padding: 0;
  color: #595959;
  font-weight: bold;
  font-size: inherit;
  text-align: center;
  text-decoration: none;
  background-color: #fff;
  border: none;
  border-radius: 2px;
  outline: none;
}
.l7-control-swipe,
.l7-control-swipe__button {
  cursor: ew-resize;
}
.l7-control-swipe.horizontal,
.l7-control-swipe.horizontal button {
  cursor: ns-resize;
}
.l7-control-swipe:after,
.l7-control-swipe__button:before,
.l7-control-swipe__button:after {
  position: absolute;
  top: 25%;
  bottom: 25%;
  left: 50%;
  width: 2px;
  background: currentColor;
  -webkit-transform: translate(-1px, 0);
          transform: translate(-1px, 0);
  content: '';
}
.l7-control-swipe__button:after {
  -webkit-transform: translateX(4px);
          transform: translateX(4px);
}
.l7-control-swipe__button:before {
  -webkit-transform: translateX(-6px);
          transform: translateX(-6px);
}
`);class vg{constructor(e){(0,me.Z)(this,"configService",void 0),(0,me.Z)(this,"config",void 0),this.config=e}setContainer(e,r){this.configService=e.globalConfigService,e.mapConfig=(0,Ir.Z)((0,Ir.Z)({},this.config),{},{id:r}),e.mapService=new(this.getServiceConstructor())(e)}getServiceConstructor(){throw new Error("Method not implemented.")}}var oT=A(41978),aM=A.n(oT);class GA{constructor(e){(0,me.Z)(this,"size",1e4),this.size=e||1e4}setSize(e){this.size=e}getSize(){return[this.size,this.size]}mercatorXfromLng(e){return(180+e)/360*this.size}mercatorYfromLat(e){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360)*this.size}lngFromMercatorX(e){return e/this.size*360-180}latFromMercatorY(e){const r=180-(1-e/this.size)*360;return 360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}project(e){const r=this.mercatorXfromLng(e[0]),u=this.mercatorYfromLat(e[1]);return[r,u]}unproject(e){const r=this.lngFromMercatorX(e[0]),u=this.latFromMercatorY(e[1]);return[r,u]}}const oM=12;class RI{constructor(e){(0,me.Z)(this,"map",void 0),(0,me.Z)(this,"simpleMapCoord",new GA),(0,me.Z)(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),(0,me.Z)(this,"config",void 0),(0,me.Z)(this,"configService",void 0),(0,me.Z)(this,"coordinateSystemService",void 0),(0,me.Z)(this,"eventEmitter",void 0),(0,me.Z)(this,"markerContainer",void 0),(0,me.Z)(this,"mapContainer",void 0),(0,me.Z)(this,"cameraChangedCallback",void 0),this.config=e.mapConfig,this.configService=e.globalConfigService,this.coordinateSystemService=e.coordinateSystemService,this.eventEmitter=new yi.EventEmitter}onCameraChanged(e){this.cameraChangedCallback=e}updateView(e){var r;this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:e.bearing,center:e.center,viewportHeight:e.viewportHeight,pitch:e.pitch,viewportWidth:e.viewportWidth,zoom:e.zoom}),this.updateCoordinateSystemService(),(r=this.cameraChangedCallback)===null||r===void 0||r.call(this,this.viewport)}updateCoordinateSystemService(){const{offsetCoordinate:e=!0}=this.config;this.viewport.getZoom()>oM&&e?this.coordinateSystemService.setCoordinateSystem(Ki.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(Ki.LNGLAT)}creatMapContainer(e){let r;return typeof e=="string"?r=document.getElementById(e):r=e,r}getMapStyleValue(e){var r;return(r=this.getMapStyleConfig()[e])!==null&&r!==void 0?r:e}setBgColor(e){this.bgColor=e}getMapContainer(){return this.mapContainer}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}emit(e,...r){this.eventEmitter.emit(e,...r)}once(e,r){this.eventEmitter.once(e,r)}meterToCoord(e,r){return 1}destroy(){this.eventEmitter.removeAllListeners()}}var YA=A(73779),$A=A(71374),sM=A(57520),PI=A(52601),II=A(45675),_x=A(46468),yg=A(99459);function bx(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function sT(t,e){var r=ch.fF([],e,t);return ch.bA(r,r,1/r[3]),r}function eD(t,e){var r=t%e;return r<0?e+r:r}function tD(t,e,r){return r*e+(1-r)*t}function iv(t,e){if(!t)throw new Error(e||"viewport-mercator-project: assertion failed.")}var dm=Math.PI,XA=dm/4,qv=dm/180,KA=180/dm,QA=512,d_=4003e4,uM=1.5;function qA(t){return Math.pow(2,t)}function lM(t){return Math.log2(t)}function uT(t,e){var r=(0,yg.Z)(t,2),u=r[0],d=r[1];iv(Number.isFinite(u)&&Number.isFinite(e)),iv(Number.isFinite(d)&&d>=-90&&d<=90,"invalid latitude"),e*=QA;var h=u*qv,y=d*qv,M=e*(h+dm)/(2*dm),U=e*(dm-Math.log(Math.tan(XA+y*.5)))/(2*dm);return[M,U]}function lT(t,e){var r=(0,yg.Z)(t,2),u=r[0],d=r[1];e*=QA;var h=u/e*(2*dm)-dm,y=2*(Math.atan(Math.exp(dm-d/e*(2*dm)))-XA);return[h*KA,y*KA]}function nD(t){var e=t.latitude;assert(Number.isFinite(e));var r=Math.cos(e*qv);return lM(d_*r)-9}function cM(t){var e=t.latitude,r=t.longitude,u=t.zoom,d=t.scale,h=t.highPrecision,y=h===void 0?!1:h;d=d!==void 0?d:qA(u),iv(Number.isFinite(e)&&Number.isFinite(r)&&Number.isFinite(d));var M={},U=QA*d,re=Math.cos(e*qv),Ee=U/360,Ae=Ee/re,We=U/d_/re;if(M.pixelsPerMeter=[We,-We,We],M.metersPerPixel=[1/We,-1/We,1/We],M.pixelsPerDegree=[Ee,-Ae,We],M.degreesPerPixel=[1/Ee,-1/Ae,1/We],y){var Ht=qv*Math.tan(e*qv)/re,Tn=Ee*Ht/2,Fn=U/d_*Ht,br=Fn/Ae*We;M.pixelsPerDegree2=[0,-Tn,Fn],M.pixelsPerMeter2=[br,0,br]}return M}function rD(t,e){var r=_slicedToArray(t,3),u=r[0],d=r[1],h=r[2],y=_slicedToArray(e,3),M=y[0],U=y[1],re=y[2],Ee=1,Ae=cM({longitude:u,latitude:d,scale:Ee,highPrecision:!0}),We=Ae.pixelsPerMeter,Ht=Ae.pixelsPerMeter2,Tn=uT(t,Ee);Tn[0]+=M*(We[0]+Ht[0]*U),Tn[1]+=U*(We[1]+Ht[1]*U);var Fn=lT(Tn,Ee),br=(h||0)+(re||0);return Number.isFinite(h)||Number.isFinite(re)?[Fn[0],Fn[1],br]:Fn}function LI(t){var e=t.height,r=t.pitch,u=t.bearing,d=t.altitude,h=t.center,y=h===void 0?null:h,M=t.flipY,U=M===void 0?!1:M,re=bx();return qo.translate(re,re,[0,0,-d]),qo.scale(re,re,[1,1,1/e]),qo.rotateX(re,re,-r*qv),qo.rotateZ(re,re,u*qv),U&&qo.scale(re,re,[1,-1,1]),y&&qo.translate(re,re,Ju.tk([],y)),re}function cT(t){var e=t.width,r=t.height,u=t.altitude,d=u===void 0?uM:u,h=t.pitch,y=h===void 0?0:h,M=t.nearZMultiplier,U=M===void 0?1:M,re=t.farZMultiplier,Ee=re===void 0?1:re,Ae=y*qv,We=Math.atan(.5/d),Ht=Math.sin(We)*d/Math.sin(Math.PI/2-Ae-We),Tn=Math.cos(Math.PI/2-Ae)*Ht+d;return{fov:2*Math.atan(r/2/d),aspect:e/r,focalDistance:d,near:U,far:Tn*Ee}}function fM(t){var e=t.width,r=t.height,u=t.pitch,d=t.altitude,h=t.nearZMultiplier,y=t.farZMultiplier,M=cT({width:e,height:r,altitude:d,pitch:u,nearZMultiplier:h,farZMultiplier:y}),U=M.fov,re=M.aspect,Ee=M.near,Ae=M.far,We=qo.perspective([],U,re,Ee,Ae);return We}function dM(t,e){var r=(0,yg.Z)(t,3),u=r[0],d=r[1],h=r[2],y=h===void 0?0:h;return iv(Number.isFinite(u)&&Number.isFinite(d)&&Number.isFinite(y)),sT(e,[u,d,y,1])}function JA(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=(0,yg.Z)(t,3),d=u[0],h=u[1],y=u[2];if(iv(Number.isFinite(d)&&Number.isFinite(h),"invalid pixel coordinate"),Number.isFinite(y)){var M=sT(e,[d,h,y,1]);return M}var U=sT(e,[d,h,0,1]),re=sT(e,[d,h,1,1]),Ee=U[2],Ae=re[2],We=Ee===Ae?0:((r||0)-Ee)/(Ae-Ee);return Cc.t7([],U,re,We)}var hM=bx(),NI=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width,u=e.height,d=e.viewMatrix,h=d===void 0?hM:d,y=e.projectionMatrix,M=y===void 0?hM:y;(0,YA.Z)(this,t),this.width=r||1,this.height=u||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=h,this.projectionMatrix=M;var U=bx();qo.multiply(U,U,this.projectionMatrix),qo.multiply(U,U,this.viewMatrix),this.viewProjectionMatrix=U;var re=bx();qo.scale(re,re,[this.width/2,-this.height/2,1]),qo.translate(re,re,[1,-1,0]),qo.multiply(re,re,this.viewProjectionMatrix);var Ee=qo.invert(bx(),re);if(!Ee)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=re,this.pixelUnprojectionMatrix=Ee,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return(0,$A.Z)(t,[{key:"equals",value:function(r){return r instanceof t?r.width===this.width&&r.height===this.height&&qo.equals(r.projectionMatrix,this.projectionMatrix)&&qo.equals(r.viewMatrix,this.viewMatrix):!1}},{key:"project",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=u.topLeft,h=d===void 0?!0:d,y=this.projectPosition(r),M=dM(y,this.pixelProjectionMatrix),U=(0,yg.Z)(M,2),re=U[0],Ee=U[1],Ae=h?Ee:this.height-Ee;return r.length===2?[re,Ae]:[re,Ae,M[2]]}},{key:"unproject",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=u.topLeft,h=d===void 0?!0:d,y=u.targetZ,M=(0,yg.Z)(r,3),U=M[0],re=M[1],Ee=M[2],Ae=h?re:this.height-re,We=y&&y*this.pixelsPerMeter,Ht=JA([U,Ae,Ee],this.pixelUnprojectionMatrix,We),Tn=this.unprojectPosition(Ht),Fn=(0,yg.Z)(Tn,3),br=Fn[0],ei=Fn[1],Jr=Fn[2];return Number.isFinite(Ee)?[br,ei,Jr]:Number.isFinite(y)?[br,ei,y]:[br,ei]}},{key:"projectPosition",value:function(r){var u=this.projectFlat(r),d=(0,yg.Z)(u,2),h=d[0],y=d[1],M=(r[2]||0)*this.pixelsPerMeter;return[h,y,M]}},{key:"unprojectPosition",value:function(r){var u=this.unprojectFlat(r),d=(0,yg.Z)(u,2),h=d[0],y=d[1],M=(r[2]||0)/this.pixelsPerMeter;return[h,y,M]}},{key:"projectFlat",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return r}},{key:"unprojectFlat",value:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return r}}]),t}();function pM(t){var e=t.width,r=t.height,u=t.bounds,d=t.minExtent,h=d===void 0?0:d,y=t.maxZoom,M=y===void 0?24:y,U=t.padding,re=U===void 0?0:U,Ee=t.offset,Ae=Ee===void 0?[0,0]:Ee,We=(0,yg.Z)(u,2),Ht=(0,yg.Z)(We[0],2),Tn=Ht[0],Fn=Ht[1],br=(0,yg.Z)(We[1],2),ei=br[0],Jr=br[1];if(Number.isFinite(re)){var zi=re;re={top:zi,bottom:zi,left:zi,right:zi}}else iv(Number.isFinite(re.top)&&Number.isFinite(re.bottom)&&Number.isFinite(re.left)&&Number.isFinite(re.right));var ca=new eC({width:e,height:r,longitude:0,latitude:0,zoom:0}),Da=ca.project([Tn,Jr]),Va=ca.project([ei,Fn]),va=[Math.max(Math.abs(Va[0]-Da[0]),h),Math.max(Math.abs(Va[1]-Da[1]),h)],io=[e-re.left-re.right-Math.abs(Ae[0])*2,r-re.top-re.bottom-Math.abs(Ae[1])*2];iv(io[0]>0&&io[1]>0);var Os=io[0]/va[0],Hu=io[1]/va[1],Ds=(re.right-re.left)/2/Os,il=(re.bottom-re.top)/2/Hu,jl=[(Va[0]+Da[0])/2+Ds,(Va[1]+Da[1])/2+il],Ch=ca.unproject(jl),f0=ca.zoom+Math.log2(Math.abs(Math.min(Os,Hu)));return{longitude:Ch[0],latitude:Ch[1],zoom:Math.min(f0,M)}}var eC=function(t){(0,II.Z)(e,t);function e(){var r,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=u.width,h=u.height,y=u.latitude,M=y===void 0?0:y,U=u.longitude,re=U===void 0?0:U,Ee=u.zoom,Ae=Ee===void 0?0:Ee,We=u.pitch,Ht=We===void 0?0:We,Tn=u.bearing,Fn=Tn===void 0?0:Tn,br=u.altitude,ei=br===void 0?1.5:br,Jr=u.nearZMultiplier,zi=u.farZMultiplier;(0,YA.Z)(this,e),d=d||1,h=h||1;var ca=qA(Ae);ei=Math.max(.75,ei);var Da=uT([re,M],ca);Da[2]=0;var Va=fM({width:d,height:h,pitch:Ht,bearing:Fn,altitude:ei,nearZMultiplier:Jr||1/h,farZMultiplier:zi||1.01}),va=LI({height:h,center:Da,pitch:Ht,bearing:Fn,altitude:ei,flipY:!0});return r=(0,sM.Z)(this,(0,PI.Z)(e).call(this,{width:d,height:h,viewMatrix:va,projectionMatrix:Va})),r.latitude=M,r.longitude=re,r.zoom=Ae,r.pitch=Ht,r.bearing=Fn,r.altitude=ei,r.scale=ca,r.center=Da,r.pixelsPerMeter=cM((0,_x.Z)((0,_x.Z)(r))).pixelsPerMeter[2],Object.freeze((0,_x.Z)((0,_x.Z)(r))),r}return(0,$A.Z)(e,[{key:"projectFlat",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return uT(u,d)}},{key:"unprojectFlat",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return lT(u,d)}},{key:"getMapCenterByLngLatPosition",value:function(u){var d=u.lngLat,h=u.pos,y=JA(h,this.pixelUnprojectionMatrix),M=uT(d,this.scale),U=Cc.IH([],M,Cc.tk([],y)),re=Cc.IH([],this.center,U);return lT(re,this.scale)}},{key:"getLocationAtPoint",value:function(u){var d=u.lngLat,h=u.pos;return this.getMapCenterByLngLatPosition({lngLat:d,pos:h})}},{key:"fitBounds",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.width,y=this.height,M=pM(Object.assign({width:h,height:y,bounds:u},d)),U=M.longitude,re=M.latitude,Ee=M.zoom;return new e({width:h,height:y,longitude:U,latitude:re,zoom:Ee})}}]),e}(NI);class av{constructor(){(0,me.Z)(this,"viewport",new eC)}syncWithMapCamera(e){const{center:r,zoom:u,pitch:d,bearing:h,viewportHeight:y,viewportWidth:M}=e,U={width:this.viewport.width,height:this.viewport.height,longitude:this.viewport.center[0],latitude:this.viewport.center[1],zoom:this.viewport.zoom,pitch:this.viewport.pitch,bearing:this.viewport.bearing};this.viewport=new eC((0,Ir.Z)((0,Ir.Z)({},U),{},{width:M,height:y,longitude:r&&r[0],latitude:r&&r[1],zoom:u,pitch:d,bearing:h}))}getZoom(){return this.viewport.zoom}getZoomScale(){return Math.pow(2,this.getZoom())}getCenter(){return[this.viewport.longitude,this.viewport.latitude]}getProjectionMatrix(){return this.viewport.projectionMatrix}getModelMatrix(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}getViewMatrix(){return this.viewport.viewMatrix}getViewMatrixUncentered(){return this.viewport.viewMatrixUncentered}getViewProjectionMatrix(){return this.viewport.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewport.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(e,r){return this.viewport.projectFlat(e,r)}}let tC=function(t){return t.GAODE="GAODE",t.MAPBOX="MAPBOX",t.DEFAULT="DEFAUlTMAP",t.SIMPLE="SIMPLE",t.GLOBEL="GLOBEL",t}({});function fT(t={}){const e={top:0,right:0,bottom:0,left:0};if(typeof t=="number")return{top:t,right:t,bottom:t,left:t};if(Array.isArray(t)){if(t.length===4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]}}return(0,Ir.Z)((0,Ir.Z)({},e),t)}const DI={normal:"amap://styles/normal",light:"amap://styles/c422f5c0cfced5be9fe3a83f05f28a68?isPublic=true",dark:"amap://styles/c9f1d10cae34f8ab05e425462c5a58d7?isPublic=true",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true",fresh:"amap://styles/fresh",grey:"amap://styles/grey",graffiti:"amap://styles/graffiti",macaron:"amap://styles/macaron",darkblue:"amap://styles/darkblue",wine:"amap://styles/wine"},gM=["id","style","minZoom","maxZoom","token","mapInstance","plugin"];function kI(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}kI(`.amap-logo {
  display: none !important;
}
.amap-copyright {
  display: none !important;
}
.amap-overlays {
  z-index: 3 !important;
}
`);const BI="2.0",nC="f59bcf249433f8b05caaee19f349b3d7",$1=1,dT={contextmenu:"rightclick",camerachange:"viewchange"};class rC extends RI{constructor(...e){super(...e),(0,me.Z)(this,"viewport",new av),(0,me.Z)(this,"version",tC.GAODE),(0,me.Z)(this,"handleCameraChanged",()=>{const r=this.getViewState();this.updateView(r)})}getType(){return"amap"}init(){var e=this;return(0,Ba.Z)(function*(){const r=e.config,{id:u,style:d="light",minZoom:h=0,maxZoom:y=24,token:M=nC,mapInstance:U,plugin:re=[]}=r,Ee=(0,Xh.Z)(r,gM);if(window.AMap||U||(re.push("Map3D"),yield aM().load({key:M,version:BI,plugins:re})),U)e.map=U,e.mapContainer=e.map.getContainer(),e.map.on("viewchange",e.handleCameraChanged);else{const Ae=(0,Ir.Z)({mapStyle:e.getMapStyleValue(d),zooms:[h,y],viewMode:"3D"},Ee);if(Ae.zoom&&(Ae.zoom+=$1),M===nC&&(window._AMapSecurityConfig={securityJsCode:"2653011adeb04230b3a26cc9a780a800"},console.warn(`%c${e.configService.getSceneWarninfo("MapToken")}!`,"color: #873bf4;font-weigh:900;font-size: 16px;")),!u)throw Error("No container id specified");window.forceWebGL=!0,e.mapContainer=e.creatMapContainer(u);const We=new AMap.Map(e.mapContainer,Ae);e.map=We,We.on("viewchange",e.handleCameraChanged)}e.syncInitViewPort()})()}syncInitViewPort(){const e=this.getViewState();this.updateView(e)}getViewState(){const{center:e,zoom:r}=Ex(this.map);return{center:e,viewportWidth:this.map.getContainer().clientWidth,viewportHeight:this.map.getContainer().clientHeight,bearing:-this.map.getRotation(),pitch:this.map.getPitch(),zoom:r-$1}}creatMapContainer(e){const r=super.creatMapContainer(e),u=document.createElement("div");return u.style.cssText+=`
       position: absolute;
       top: 0;
       height: 100%;
       width: 100%;
     `,u.id=yo.uniqueId("l7_amap_div"),r.appendChild(u),u}getContainer(){return this.map.getContainer()}addMarkerContainer(){if(!this.map)return;const e=this.map.getContainer();if(e!==null){const r=e.getElementsByClassName("amap-maps")[0];r.style.zIndex="auto",this.markerContainer=as("div","l7-marker-container2",r)}}getMarkerContainer(){return this.markerContainer}getCanvasOverlays(){var e;return(e=this.mapContainer)===null||e===void 0?void 0:e.querySelector(".amap-overlays")}on(e,r){Su.indexOf(e)!==-1?this.eventEmitter.on(e,r):this.map.on(dT[e]||e,r)}off(e,r){Su.indexOf(e)!==-1?this.eventEmitter.off(e,r):this.map.off(dT[e]||e,r)}getSize(){const e=this.map.getSize();return[e.getWidth(),e.getHeight()]}getMinZoom(){return this.map.getZooms()[0]-$1}getMaxZoom(){return this.map.getZooms()[1]-$1}getZoom(){return this.map.getZoom()-$1}getCenter(e){if(e!=null&&e.padding){const u=this.getCenter(),d=fT(e.padding),h=this.lngLatToPixel([u.lng,u.lat]),y=[(d.right-d.left)/2,(d.bottom-d.top)/2];return this.pixelToLngLat([h.x-y[0],h.y-y[1]])}const r=this.map.getCenter();return{lng:r.getLng(),lat:r.getLat()}}getPitch(){return this.map.getPitch()}getRotation(){return 360-this.map.getRotation()}getBounds(){const e=this.map.getBounds(),r=e.getNorthEast(),u=e.getSouthWest(),d=this.getCenter(),h=d.lng>r.getLng()||d.lng<u.getLng()?180-r.getLng():r.getLng();return[[d.lng<u.getLng()?u.getLng()-180:u.getLng(),u.getLat()],[h,r.getLat()]]}getMapContainer(){return this.mapContainer}getMapCanvasContainer(){var e;return(e=this.map.getContainer())===null||e===void 0?void 0:e.getElementsByClassName("amap-maps")[0]}getMapStyleConfig(){return DI}getMapStyleValue(e){return this.getMapStyleConfig()[e]||e}getMapStyle(){return this.map.getMapStyle()}setMapStyle(e){this.map.setMapStyle(this.getMapStyleValue(e))}setRotation(e){return this.map.setRotation(e)}zoomIn(){this.map.zoomIn()}zoomOut(){this.map.zoomOut()}panTo(e){this.map.panTo(e)}panBy(e=0,r=0){this.map.panBy(e,r)}fitBounds(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]),!0)}setZoomAndCenter(e,r){this.map.setZoomAndCenter(e+$1,r)}setCenter(e,r){if(r!=null&&r.padding){const u=fT(r.padding),d=this.lngLatToPixel(e),h=[(u.right-u.left)/2,(u.bottom-u.top)/2],y=this.pixelToLngLat([d.x+h[0],d.y+h[1]]);this.map.setCenter([y.lng,y.lat])}else this.map.setCenter(e)}setPitch(e){return this.map.setPitch(e)}setZoom(e){return this.map.setZoom(e+$1)}setMaxZoom(e){throw new Error("Method not implemented.")}setMinZoom(e){throw new Error("Method not implemented.")}setMapStatus(e){this.map.setStatus(e)}meterToCoord(e,r){const u=AMap.GeometryUtil.distance(new AMap.LngLat(...e),new AMap.LngLat(...r)),[d,h]=tc(...e),[y,M]=tc(...r);return Math.sqrt(Math.pow(d-y,2)+Math.pow(h-M,2))/u}pixelToLngLat(e){const r=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:r.getLng(),lat:r.getLat()}}lngLatToPixel(e){const r=this.map.lnglatToPixel(e);return{x:r.getX(),y:r.getY()}}containerToLngLat(e){const r=new AMap.Pixel(e[0],e[1]),u=this.map.containerToLngLat(r);return{lng:u==null?void 0:u.getLng(),lat:u==null?void 0:u.getLat()}}lngLatToContainer(e){const r=this.map.lngLatToContainer(e);return{x:r.getX(),y:r.getY()}}lngLatToMercator([e,r],u){const[d,h]=tc(e,r);return{x:d,y:h,z:u}}getModelMatrix(e,r,u,d=[1,1,1]){const h=this.viewport.projectFlat(e),y=qo.create();return qo.translate(y,y,Ju.al(h[0],h[1],r)),qo.scale(y,y,Ju.al(d[0],d[1],d[2])),qo.rotateX(y,y,u[0]),qo.rotateY(y,y,u[1]),qo.rotateZ(y,y,u[2]),y}exportMap(e){var r;const u=(r=this.getContainer())===null||r===void 0?void 0:r.getElementsByClassName("amap-layer")[0];return e==="jpg"?u==null?void 0:u.toDataURL("image/jpeg"):u==null?void 0:u.toDataURL("image/png")}destroy(){var e;super.destroy(),(e=this.mapContainer)===null||e===void 0||(e=e.parentNode)===null||e===void 0||e.removeChild(this.mapContainer),delete window.initAMap;const r=document.getElementById("amap-script");r&&document.head.removeChild(r),this.map.destroy()}}function Ex(t){const e=t._view.getOptions(),r=e.center,u=e.zoom;return{center:r,zoom:u}}class xx extends vg{getServiceConstructor(){return rC}}const mM={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},vM={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},yM=12;class Hh{constructor(e){(0,me.Z)(this,"version","DEFAUlTMAP"),(0,me.Z)(this,"map",void 0),(0,me.Z)(this,"simpleMapCoord",new GA),(0,me.Z)(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),(0,me.Z)(this,"config",void 0),(0,me.Z)(this,"configService",void 0),(0,me.Z)(this,"coordinateSystemService",void 0),(0,me.Z)(this,"eventEmitter",void 0),(0,me.Z)(this,"markerContainer",void 0),(0,me.Z)(this,"cameraChangedCallback",void 0),(0,me.Z)(this,"$mapContainer",void 0),(0,me.Z)(this,"handleCameraChanged",r=>{const{lat:u,lng:d}=this.map.getCenter();this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:this.map.getBearing(),center:[d,u],viewportHeight:this.map.transform.height,pitch:this.map.getPitch(),viewportWidth:this.map.transform.width,zoom:this.map.getZoom(),cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}),this.config=e.mapConfig,this.configService=e.globalConfigService,this.coordinateSystemService=e.coordinateSystemService,this.eventEmitter=new yi.EventEmitter}setBgColor(e){this.bgColor=e}addMarkerContainer(){const e=this.map.getCanvasContainer();this.markerContainer=as("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}on(e,r){Su.indexOf(e)!==-1?this.eventEmitter.on(e,r):this.map.on(vM[e]||e,r)}off(e,r){this.map.off(vM[e]||e,r),this.eventEmitter.off(e,r)}getContainer(){return this.map.getContainer()}getMapCanvasContainer(){return this.map.getCanvasContainer()}getSize(){if(this.version==="SIMPLE")return this.simpleMapCoord.getSize();const e=this.map.transform;return[e.width,e.height]}getType(){return"default"}getZoom(){return this.map.getZoom()}setZoom(e){return this.map.setZoom(e)}getCenter(){return this.map.getCenter()}setCenter(e){this.map.setCenter(e)}getPitch(){return this.map.getPitch()}getRotation(){return this.map.getBearing()}getBounds(){return this.map.getBounds().toArray()}getMinZoom(){return this.map.getMinZoom()}getMaxZoom(){return this.map.getMaxZoom()}setRotation(e){this.map.setBearing(e)}zoomIn(e,r){this.map.zoomIn(e,r)}zoomOut(e,r){this.map.zoomOut(e,r)}setPitch(e){return this.map.setPitch(e)}panTo(e){this.map.panTo(e)}panBy(e=0,r=0){this.map.panBy([e,r])}fitBounds(e,r){this.map.fitBounds(e,r)}setMaxZoom(e){this.map.setMaxZoom(e)}setMinZoom(e){this.map.setMinZoom(e)}setMapStatus(e){e.doubleClickZoom===!0&&this.map.doubleClickZoom.enable(),e.doubleClickZoom===!1&&this.map.doubleClickZoom.disable(),e.dragEnable===!1&&this.map.dragPan.disable(),e.dragEnable===!0&&this.map.dragPan.enable(),e.rotateEnable===!1&&this.map.dragRotate.disable(),e.dragEnable===!0&&this.map.dragRotate.enable(),e.keyboardEnable===!1&&this.map.keyboard.disable(),e.keyboardEnable===!0&&this.map.keyboard.enable(),e.zoomEnable===!1&&this.map.scrollZoom.disable(),e.zoomEnable===!0&&this.map.scrollZoom.enable()}setZoomAndCenter(e,r){this.map.flyTo({zoom:e,center:r})}setMapStyle(e){var r;(r=this.map)===null||r===void 0||r.setStyle(this.getMapStyleValue(e))}meterToCoord(e,r){return 1}pixelToLngLat(e){return this.map.unproject(e)}lngLatToPixel(e){return this.map.project(e)}containerToLngLat(e){return this.map.unproject(e)}lngLatToContainer(e){return this.map.project(e)}getMapStyle(){try{var e;const r=(e=this.map.getStyle().sprite)!==null&&e!==void 0?e:"";return/^mapbox:\/\/sprites\/zcxduo\/\w+\/\w+$/.test(r)?r==null?void 0:r.replace(/\/\w+$/,"").replace(/sprites/,"styles"):r}catch(r){return""}}getMapStyleConfig(){return mM}getMapStyleValue(e){var r;return(r=this.getMapStyleConfig()[e])!==null&&r!==void 0?r:e}destroy(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...r){this.eventEmitter.emit(e,...r)}once(e,...r){this.eventEmitter.once(e,...r)}getMapContainer(){return this.$mapContainer}exportMap(e){var r;const u=(r=this.map)===null||r===void 0?void 0:r.getCanvas();return e==="jpg"?u==null?void 0:u.toDataURL("image/jpeg"):u==null?void 0:u.toDataURL("image/png")}onCameraChanged(e){this.cameraChangedCallback=e}creatMapContainer(e){let r=e;return typeof e=="string"&&(r=document.getElementById(e)),r}updateView(e){this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:e.bearing,center:e.center,viewportHeight:e.viewportHeight,pitch:e.pitch,viewportWidth:e.viewportWidth,zoom:e.zoom,cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}updateCoordinateSystemService(){const{offsetCoordinate:e=!0}=this.config;this.viewport.getZoom()>yM&&e?this.coordinateSystemService.setCoordinateSystem(Ki.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(Ki.LNGLAT)}}if(!window)throw Error("BMapGL JSAPI can only be used in Browser.");var hm=function(t){return t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed",t}(hm||{});let ov={key:"",BMapGL:{version:"1.0"}},Jv={BMapGL:hm.notload};const iC=[],_M=t=>{if(typeof t=="function"){if(Jv.BMapGL===hm.loaded){t(window.BMapGL);return}iC.push(t)}};var bM={load:t=>new Promise((e,r)=>{if(Jv.BMapGL===hm.failed)r("");else if(Jv.BMapGL===hm.notload){const{key:u,version:d}=t;if(!u){r("\u8BF7\u586B\u5199key");return}ov.key=u,ov.BMapGL.version=d||ov.BMapGL.version,Jv.BMapGL=hm.loading;const h=document.body||document.head;window.___onBMapGLAPILoaded=M=>{if(delete window.___onBMapGLAPILoaded,M)Jv.BMapGL=hm.failed,r(M);else for(Jv.BMapGL=hm.loaded;iC.length;)iC.splice(0,1)[0](window.BMapGL)};const y=document.createElement("script");y.type="text/javascript",y.src=`https://api.map.baidu.com/api?type=webgl&v=${ov.BMapGL.version}&ak=${ov.key}&callback=___onBMapGLAPILoaded`,y.onerror=M=>{Jv.BMapGL=hm.failed,r(M)},h.appendChild(y),_M(e)}else if(Jv.BMapGL===hm.loaded){if(t.key&&t.key!==ov.key){r("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(t.version&&t.version!==ov.BMapGL.version){r("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}e(window.BMapGL)}else{if(t.key&&t.key!==ov.key){r("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(t.version&&t.version!==ov.BMapGL.version){r("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}_M(e)}}),reset:()=>{delete window.BMapGL,ov={key:"",BMapGL:{version:"1.0"}},Jv={BMapGL:hm.notload}}};const UI=["id","center","zoom","token","mapInstance","version","mapSize","minZoom","maxZoom"];function EM(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}EM(`.BMap_cpyCtrl .anchorBL {
  display: none !important;
}

.anchorBL {
  display: none !important;
}
`);const zI={mapmove:"moving",contextmenu:"rightclick",camerachange:"update",zoomchange:"zoomend"},aC="zLhopYPPERGtpGOgimcdKcCimGRyyIsh",xM="1.0";class TM extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"viewport",void 0),(0,me.Z)(this,"styleConfig",{normal:[]}),(0,me.Z)(this,"currentStyle","normal"),(0,me.Z)(this,"evtCbProxyMap",new Map),(0,me.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");const r=this.getMap(),{lng:u,lat:d}=r.getCenter(),h={center:[u,d],viewportHeight:r.getContainer().clientHeight,viewportWidth:r.getContainer().clientWidth,bearing:360-r.getHeading(),pitch:r.getTilt(),zoom:r.getZoom()-1.75};this.viewport.syncWithMapCamera(h),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)})}getMap(){return this.map}setBgColor(e){this.bgColor=e}init(){var e=this;return(0,Ba.Z)(function*(){e.viewport=new av;const r=e.config,{id:u,center:d=[121.30654632240122,31.25744185633306],zoom:h=12,token:y=aC,mapInstance:M,version:U=xM,mapSize:re=1e4,minZoom:Ee=0,maxZoom:Ae=21}=r,We=(0,Xh.Z)(r,UI);if(e.viewport=new av,e.version=U,e.simpleMapCoord.setSize(re),window.BMapGL||M||(yield bM.load({key:y,version:xM})),M){e.map=M,e.$mapContainer=e.map.getContainer();const Ht=new BMapGL.Point(d[0],d[1]);e.map.isLoaded()||e.map.centerAndZoom(Ht,h),e.initMapByConfig(e.config),e.map.on("update",e.handleCameraChanged)}else{const Ht=(0,Ir.Z)({enableWheelZoom:!0,minZoom:Ee,maxZoom:Ae},We);if(y===aC&&console.warn(`%c${e.configService.getSceneWarninfo("MapToken")}!`,"color: #873bf4;font-weigh:900;font-size: 16px;"),!u)throw Error("No container id specified");const Tn=hs(u);let Fn=[...Tn.childNodes];const br=new BMapGL.Map(Tn,Ht);e.$mapContainer=br.getContainer(),Fn.forEach(Jr=>{e.$mapContainer.appendChild(Jr)}),Fn=null,e.map=br;const ei=new BMapGL.Point(d[0],d[1]);e.map.centerAndZoom(ei,h),e.initMapByConfig(e.config),br.on("update",e.handleCameraChanged)}})()}destroy(){this.getMap().destroy()}onCameraChanged(e){this.cameraChangedCallback=e}addMarkerContainer(){}getMarkerContainer(){return this.map.getPanes().markerPane}getCanvasOverlays(){var e;return(e=this.getMap().getContainer().querySelector("#platform"))===null||e===void 0?void 0:e.lastChild}on(e,r){if(Su.indexOf(e)!==-1){this.eventEmitter.on(e,r);return}let u=this.evtCbProxyMap.get(e);if(u||this.evtCbProxyMap.set(e,u=new Map),u.get(r))return;const d=(...h)=>{h[0]&&typeof h[0]=="object"&&!h[0].lngLat&&!h[0].lnglat&&(h[0].lngLat=h[0].latlng||h[0].latLng),r(...h)};u.set(r,d),this.map.on(zI[e]||e,d)}off(e,r){var u,d;if(Su.indexOf(e)!==-1){this.eventEmitter.off(e,r);return}const h=(u=this.evtCbProxyMap.get(e))===null||u===void 0?void 0:u.get(r);h&&((d=this.evtCbProxyMap.get(e))===null||d===void 0||d.delete(r),this.map.off(zI[e]||e,h))}once(e,r){this.eventEmitter.once(e,r)}getContainer(){return this.getMap().getContainer()}getSize(){const e=this.getMap().getSize();return[e.width,e.height]}getMinZoom(){return this.map.getMinZoom()}getMaxZoom(){return this.map.getMaxZoom()}getType(){return"bmap"}getZoom(){return this.getMap().getZoom()}getCenter(e){if(e!=null&&e.padding){const u=this.getCenter(),d=fT(e.padding),h=this.lngLatToPixel([u.lng,u.lat]),y=[(d.right-d.left)/2,(d.bottom-d.top)/2];return this.pixelToLngLat([h.x-y[0],h.y-y[1]])}const r=this.map.getCenter();return{lng:r.lng,lat:r.lat}}getPitch(){return this.getMap().getTilt()}getRotation(){return 360-this.getMap().getHeading()}getBounds(){const e=this.getMap().getBounds(),r=e.getNorthEast(),u=e.getSouthWest();return[[u.lng,u.lat],[r.lng,r.lat]]}getMapContainer(){return this.getMap().getContainer()}getMapCanvasContainer(){return this.getMap().getContainer()}getMapStyleConfig(){return this.styleConfig}getMapStyleValue(e){return this.styleConfig[e]}setMapStyle(e){if(this.currentStyle===e)return;const r=Array.isArray(e)?e:this.styleConfig[e]||e;if(Array.isArray(r)){this.map.setMapStyleV2({styleJson:r}),this.currentStyle=e;return}if(typeof r=="string"){this.map.setMapStyleV2({styleId:r}),this.currentStyle=e;return}}setRotation(e){this.getMap().setHeading(e)}zoomIn(){this.getMap().zoomIn()}zoomOut(){this.getMap().zoomOut()}panTo(e){this.getMap().panTo(new BMapGL.Point(e[0],e[1]))}panBy(e,r){this.getMap().panBy(e,r)}fitBounds(e,r){this.map.setViewport(e.map(u=>new BMapGL.Point(u[0],u[1])),r)}setZoomAndCenter(e,[r,u]){this.getMap().centerAndZoom(new BMapGL.Point(r,u),e+1.75)}setCenter([e,r],u){let d={lng:e,lat:r};if(u!=null&&u.padding){const h=fT(u.padding),y=this.lngLatToPixel([e,r]),M=[(h.right-h.left)/2,(h.bottom-h.top)/2];d=this.pixelToLngLat([y.x+M[0],y.y+M[1]])}this.getMap().setCenter(new BMapGL.Point(d.lng,d.lat))}setPitch(e){this.getMap().setTilt(e)}setZoom(e){this.getMap().setZoom(e)}setMapStatus(e){const r=this.getMap();Object.keys(e).map(u=>{switch(u){case"doubleClickZoom":e.doubleClickZoom?r.enableDoubleClickZoom():r.disableDoubleClickZoom();break;case"dragEnable":e.dragEnable?r.enableDragging():r.disableDragging();break;case"keyboardEnable":e.keyboardEnable?r.enableKeyboard():r.disableKeyboard();break;case"resizeEnable":e.resizeEnable?r.enableAutoResize():r.disableAutoResize();break;case"rotateEnable":e.rotateEnable?(r.enableRotate(),r.enableRotateGestures()):(r.disableRotate(),r.disableRotateGestures());break;case"zoomEnable":e.zoomEnable?(this.map.enableDoubleClickZoom(),this.map.enableScrollWheelZoom(),this.map.enablePinchToZoom()):(this.map.disableDoubleClickZoom(),this.map.disableScrollWheelZoom(),this.map.disablePinchToZoom());break;case"showIndoorMap":r.setDisplayOptions({indoor:!!e.showIndoorMap});break;default:}})}meterToCoord(e,r){const u=this.getMap().getDistance(new BMapGL.Point(...e),new BMapGL.Point(...r)),[d,h]=this.lngLatToCoord(e),[y,M]=this.lngLatToCoord(r);return Math.sqrt(Math.pow(d-y,2)+Math.pow(h-M,2))/u}pixelToLngLat([e,r]){const u=this.getMap().pixelToPoint(new BMapGL.Pixel(e,r));return{lng:u.lng,lat:u.lat}}lngLatToPixel([e,r]){const u=this.getMap().pointToPixel(new BMapGL.Point(e,r));return{x:u.x,y:u.y}}containerToLngLat([e,r]){const u=this.getMap().overlayPixelToPoint(new BMapGL.Pixel(e,r));return{lng:u.lng,lat:u.lat}}lngLatToContainer([e,r]){const u=this.getMap().pointToOverlayPixel(new BMapGL.Point(e,r));return{x:u.x,y:u.y}}lngLatToCoord([e,r]){const{x:u,y:d}=this.getMap().pointToPixel(new BMapGL.Point(e,r));return[u,-d]}lngLatToCoords(e){return e.map(r=>Array.isArray(r[0])?this.lngLatToCoords(r):this.lngLatToCoord(r))}lngLatToMercator([e,r],u){const[d,h]=this.getMap().lnglatToMercator(e,r);return{x:d,y:h,z:u}}getModelMatrix(e,r,u,d=[1,1,1]){const h=this.viewport.projectFlat(e),y=qo.create();return qo.translate(y,y,Ju.al(h[0],h[1],r)),qo.scale(y,y,Ju.al(d[0],d[1],d[2])),qo.rotateX(y,y,u[0]),qo.rotateY(y,y,u[1]),qo.rotateZ(y,y,u[2]),y}getCustomCoordCenter(){throw new Error("Method not implemented.")}exportMap(e){const r=this.getMap()._webglPainter._canvas;return e==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}hideLogo(){const e=this.map.getContainer();e&&Xs(e,"bmap-contianer--hide-logo")}initMapByConfig(e){const{style:r,pitch:u=0,rotation:d=0,logoVisible:h=!0}=e;r&&this.setMapStyle(r),u&&this.setPitch(u),d&&this.setRotation(d),h===!1&&this.hideLogo()}}class ZI extends vg{getServiceConstructor(){return TM}}var SM=A(89504),jI=A.n(SM);const _g={number:function(e,r,u){return e+u*(r-e)}};function sv(t,e,r){return Math.min(r,Math.max(e,t))}function h_(t,e,r){const u=r-e,d=((t-e)%u+u)%u+e;return d===e?r:d}let AM=1;function CM(){return AM++}function gh(t,...e){for(const r of e)for(const u in r)t[u]=r[u];return t}function OM(t,e){const r={};for(let u=0;u<e.length;u++){const d=e[u];d in t&&(r[d]=t[d])}return r}function hT(t,e,r,u){const d=new(jI())(t,e,r,u);return h=>d.solve(h)}const oC=hT(.25,.1,.25,1),wM={};function aD(t){wM[t]||(typeof console!="undefined"&&console.warn(t),wM[t]=!0)}function sC(t){return t*Math.PI/180}const uC=63710088e-1;class Bf{constructor(e,r){if((0,me.Z)(this,"lng",void 0),(0,me.Z)(this,"lat",void 0),isNaN(e)||isNaN(r))throw new Error(`Invalid LngLat object: (${e}, ${r})`);if(this.lng=+e,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Bf(h_(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const r=Math.PI/180,u=this.lat*r,d=e.lat*r,h=Math.sin(u)*Math.sin(d)+Math.cos(u)*Math.cos(d)*Math.cos((e.lng-this.lng)*r);return uC*Math.acos(Math.min(h,1))}static convert(e){if(e instanceof Bf)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new Bf(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new Bf(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const MM=2*Math.PI*uC;function pT(t){return MM*Math.cos(t*Math.PI/180)}function X1(t){return(180+t)/360}function p_(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function RM(t,e){return t/pT(e)}function HI(t){return t*360-180}function gT(t){const e=180-t*360;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}function WI(t,e){return t*pT(gT(e))}function VI(t){return 1/Math.cos(t*Math.PI/180)}class bg{constructor(e,r,u=0){(0,me.Z)(this,"x",void 0),(0,me.Z)(this,"y",void 0),(0,me.Z)(this,"z",void 0),this.x=+e,this.y=+r,this.z=+u}static fromLngLat(e,r=0){const u=Bf.convert(e);return new bg(X1(u.lng),p_(u.lat),RM(r,u.lat))}toLngLat(){return new Bf(HI(this.x),gT(this.y))}toAltitude(){return WI(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/MM*VI(gT(this.y))}}var GI=A(96542),_f=A.n(GI);class pm{constructor(e,r){(0,me.Z)(this,"_ne",void 0),(0,me.Z)(this,"_sw",void 0),e&&(r?this.setSouthWest(e).setNorthEast(r):Array.isArray(e)&&(e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof Bf?new Bf(e.lng,e.lat):Bf.convert(e),this}setSouthWest(e){return this._sw=e instanceof Bf?new Bf(e.lng,e.lat):Bf.convert(e),this}extend(e){const r=this._sw,u=this._ne;let d,h;if(e instanceof Bf)d=e,h=e;else if(e instanceof pm){if(d=e._sw,h=e._ne,!d||!h)return this}else{if(Array.isArray(e))if(e.length===4||e.every(Array.isArray)){const y=e;return this.extend(pm.convert(y))}else{const y=e;return this.extend(Bf.convert(y))}else if(e&&("lng"in e||"lon"in e)&&"lat"in e)return this.extend(Bf.convert(e));return this}return!r&&!u?(this._sw=new Bf(d.lng,d.lat),this._ne=new Bf(h.lng,h.lat)):(r.lng=Math.min(d.lng,r.lng),r.lat=Math.min(d.lat,r.lat),u.lng=Math.max(h.lng,u.lng),u.lat=Math.max(h.lat,u.lat)),this}getCenter(){return new Bf((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Bf(this.getWest(),this.getNorth())}getSouthEast(){return new Bf(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:r,lat:u}=Bf.convert(e),d=this._sw.lat<=u&&u<=this._ne.lat;let h=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(h=this._sw.lng>=r&&r>=this._ne.lng),d&&h}static convert(e){return e instanceof pm?e:new pm(e)}static fromLngLat(e,r=0){const d=360*r/40075017,h=d/Math.cos(Math.PI/180*e.lat);return new pm(new Bf(e.lng-h,e.lat-d),new Bf(e.lng+h,e.lat+d))}}const PM="AbortError";function oD(t){return t.message===PM}function IM(){return new Error(PM)}const YI=typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date);let mT;const zg={now:YI,frameAsync(t){return new Promise((e,r)=>{const u=requestAnimationFrame(e);t.signal.addEventListener("abort",()=>{cancelAnimationFrame(u),r(IM())})})},get prefersReducedMotion(){return window.matchMedia?(mT==null&&(mT=window.matchMedia("(prefers-reduced-motion: reduce)")),mT.matches):!1}};function uv(t,e,r){r[t]&&r[t].indexOf(e)!==-1||(r[t]=r[t]||[],r[t].push(e))}function lC(t,e,r){if(r&&r[t]){const u=r[t].indexOf(e);u!==-1&&r[t].splice(u,1)}}class Oc{constructor(e,r={}){(0,me.Z)(this,"type",void 0),gh(this,r),this.type=e}}class $I extends Oc{constructor(e,r={}){super("error",r),(0,me.Z)(this,"error",void 0),this.error=e}}class XI{constructor(){(0,me.Z)(this,"_listeners",void 0),(0,me.Z)(this,"_oneTimeListeners",void 0),(0,me.Z)(this,"_eventedParent",void 0),(0,me.Z)(this,"_eventedParentData",void 0)}on(e,r){return this._listeners=this._listeners||{},uv(e,r,this._listeners),this}off(e,r){return lC(e,r,this._listeners),lC(e,r,this._oneTimeListeners),this}once(e,r){return r?(this._oneTimeListeners=this._oneTimeListeners||{},uv(e,r,this._oneTimeListeners),this):new Promise(u=>this.once(e,u))}fire(e,r){typeof e=="string"&&(e=new Oc(e,r||{}));const u=e.type;if(this.listens(u)){e.target=this;const d=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const M of d)M.call(this,e);const h=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const M of h)lC(u,M,this._oneTimeListeners),M.call(this,e);const y=this._eventedParent;y&&(gh(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),y.fire(e))}else e instanceof $I&&console.error(e.error);return this}emit(e,r){return this.fire(e,r)}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,r){return e&&(this._eventedParent=e),this._eventedParentData=r,this}}class KI extends XI{constructor(e,r){super(),(0,me.Z)(this,"transform",void 0),(0,me.Z)(this,"handlers",void 0),(0,me.Z)(this,"_moving",void 0),(0,me.Z)(this,"_zooming",void 0),(0,me.Z)(this,"_rotating",void 0),(0,me.Z)(this,"_pitching",void 0),(0,me.Z)(this,"_padding",void 0),(0,me.Z)(this,"_bearingSnap",void 0),(0,me.Z)(this,"_easeStart",void 0),(0,me.Z)(this,"_easeOptions",void 0),(0,me.Z)(this,"_easeId",void 0),(0,me.Z)(this,"_onEaseFrame",void 0),(0,me.Z)(this,"_onEaseEnd",void 0),(0,me.Z)(this,"_easeFrameId",void 0),(0,me.Z)(this,"_requestedCameraState",void 0),(0,me.Z)(this,"transformCameraUpdate",void 0),(0,me.Z)(this,"_renderFrameCallback",()=>{const u=Math.min((zg.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(u)),u<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=r.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new Bf(this.transform.center.lng,this.transform.center.lat)}setCenter(e,r){return this.jumpTo({center:e},r)}panBy(e,r,u){return e=_f().convert(e).mult(-1),this.panTo(this.transform.center,gh({offset:e},r),u)}panTo(e,r,u){return this.easeTo(gh({center:e},r),u)}getZoom(){return this.transform.zoom}setZoom(e,r){return this.jumpTo({zoom:e},r),this}zoomTo(e,r,u){return this.easeTo(gh({zoom:e},r),u)}zoomIn(e,r){return this.zoomTo(this.getZoom()+1,e,r),this}zoomOut(e,r){return this.zoomTo(this.getZoom()-1,e,r),this}getBearing(){return this.transform.bearing}setBearing(e,r){return this.jumpTo({bearing:e},r),this}getPadding(){return this.transform.padding}setPadding(e,r){return this.jumpTo({padding:e},r),this}rotateTo(e,r,u){return this.easeTo(gh({bearing:e},r),u)}resetNorth(e,r){return this.rotateTo(0,gh({duration:1e3},e),r),this}resetNorthPitch(e,r){return this.easeTo(gh({bearing:0,pitch:0,duration:1e3},e),r),this}snapToNorth(e,r){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,r):this}getPitch(){return this.transform.pitch}setPitch(e,r){return this.jumpTo({pitch:e},r),this}cameraForBounds(e,r){e=pm.convert(e);const u=r&&r.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),u,r)}_cameraForBoxAndBearing(e,r,u,d){const h={top:0,bottom:0,right:0,left:0};if(d=gh({padding:h,offset:[0,0],maxZoom:this.transform.maxZoom},d),typeof d.padding=="number"){const yh=d.padding;d.padding={top:yh,bottom:yh,right:yh,left:yh}}d.padding=gh(h,d.padding);const y=this.transform,M=y.padding,U=new pm(e,r),re=y.project(U.getNorthWest()),Ee=y.project(U.getNorthEast()),Ae=y.project(U.getSouthEast()),We=y.project(U.getSouthWest()),Ht=sC(-u),Tn=re.rotate(Ht),Fn=Ee.rotate(Ht),br=Ae.rotate(Ht),ei=We.rotate(Ht),Jr=new(_f())(Math.max(Tn.x,Fn.x,ei.x,br.x),Math.max(Tn.y,Fn.y,ei.y,br.y)),zi=new(_f())(Math.min(Tn.x,Fn.x,ei.x,br.x),Math.min(Tn.y,Fn.y,ei.y,br.y)),ca=Jr.sub(zi),Da=(y.width-(M.left+M.right+d.padding.left+d.padding.right))/ca.x,Va=(y.height-(M.top+M.bottom+d.padding.top+d.padding.bottom))/ca.y;if(Va<0||Da<0){aD("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}const va=Math.min(y.scaleZoom(y.scale*Math.min(Da,Va)),d.maxZoom),io=_f().convert(d.offset),Os=(d.padding.left-d.padding.right)/2,Hu=(d.padding.top-d.padding.bottom)/2,il=new(_f())(Os,Hu).rotate(sC(u)),Ch=io.add(il).mult(y.scale/y.zoomScale(va));return{center:y.unproject(re.add(Ae).div(2).sub(Ch)),zoom:va,bearing:u}}fitBounds(e,r,u){return this._fitInternal(this.cameraForBounds(e,r),r,u)}fitScreenCoordinates(e,r,u,d,h){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(_f().convert(e)),this.transform.pointLocation(_f().convert(r)),u,d),d,h)}_fitInternal(e,r,u){return e?(r=gh(e,r),delete r.padding,r.linear?this.easeTo(r,u):this.flyTo(r,u)):this}jumpTo(e,r){this.stop();const u=this._getTransformForUpdate();let d=!1,h=!1,y=!1;return"zoom"in e&&u.zoom!==+e.zoom&&(d=!0,u.zoom=+e.zoom),e.center!==void 0&&(u.center=Bf.convert(e.center)),"bearing"in e&&u.bearing!==+e.bearing&&(h=!0,u.bearing=+e.bearing),"pitch"in e&&u.pitch!==+e.pitch&&(y=!0,u.pitch=+e.pitch),e.padding!=null&&!u.isPaddingEqual(e.padding)&&(u.padding=e.padding),this._applyUpdatedTransform(u),this.fire(new Oc("movestart",r)).fire(new Oc("move",r)),d&&this.fire(new Oc("zoomstart",r)).fire(new Oc("zoom",r)).fire(new Oc("zoomend",r)),h&&this.fire(new Oc("rotatestart",r)).fire(new Oc("rotate",r)).fire(new Oc("rotateend",r)),y&&this.fire(new Oc("pitchstart",r)).fire(new Oc("pitch",r)).fire(new Oc("pitchend",r)),this.fire(new Oc("moveend",r))}calculateCameraOptionsFromTo(e,r,u,d=0){const h=bg.fromLngLat(e,r),y=bg.fromLngLat(u,d),M=y.x-h.x,U=y.y-h.y,re=y.z-h.z,Ee=Math.hypot(M,U,re);if(Ee===0)throw new Error("Can't calculate camera options with same From and To");const Ae=Math.hypot(M,U),We=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Ee/this.transform.tileSize),Ht=Math.atan2(M,-U)*180/Math.PI;let Tn=Math.acos(Ae/Ee)*180/Math.PI;return Tn=re<0?90-Tn:90+Tn,{center:y.toLngLat(),zoom:We,pitch:Tn,bearing:Ht}}easeTo(e,r){var u;this._stop(!1,e.easeId),e=gh({offset:[0,0],duration:500,easing:oC},e),(e.animate===!1||!e.essential&&zg.prefersReducedMotion)&&(e.duration=0);const d=this._getTransformForUpdate(),h=this.getZoom(),y=this.getBearing(),M=this.getPitch(),U=this.getPadding(),re="bearing"in e?this._normalizeBearing(e.bearing,y):y,Ee="pitch"in e?+e.pitch:M,Ae="padding"in e?e.padding:d.padding,We=_f().convert(e.offset);let Ht=d.centerPoint.add(We);const Tn=d.pointLocation(Ht),{center:Fn,zoom:br}=d.getConstrained(Bf.convert(e.center||Tn),(u=e.zoom)!==null&&u!==void 0?u:h);this._normalizeCenter(Fn);const ei=d.project(Tn),Jr=d.project(Fn).sub(ei),zi=d.zoomScale(br-h);let ca,Da;e.around&&(ca=Bf.convert(e.around),Da=d.locationPoint(ca));const Va={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||br!==h,this._rotating=this._rotating||y!==re,this._pitching=this._pitching||Ee!==M,this._padding=!d.isPaddingEqual(Ae),this._easeId=e.easeId,this._prepareEase(r,e.noMoveStart,Va),this._ease(va=>{if(this._zooming&&(d.zoom=_g.number(h,br,va)),this._rotating&&(d.bearing=_g.number(y,re,va)),this._pitching&&(d.pitch=_g.number(M,Ee,va)),this._padding&&(d.interpolatePadding(U,Ae,va),Ht=d.centerPoint.add(We)),ca)d.setLocationAtPoint(ca,Da);else{const io=d.zoomScale(d.zoom-h),Os=br>h?Math.min(2,zi):Math.max(.5,zi),Hu=Math.pow(Os,1-va),Ds=d.unproject(ei.add(Jr.mult(va*Hu)).mult(io));d.setLocationAtPoint(d.renderWorldCopies?Ds.wrap():Ds,Ht)}this._applyUpdatedTransform(d),this._fireMoveEvents(r)},va=>{this._afterEase(r,va)},e),this}_prepareEase(e,r,u={}){this._moving=!0,!r&&!u.moving&&this.fire(new Oc("movestart",e)),this._zooming&&!u.zooming&&this.fire(new Oc("zoomstart",e)),this._rotating&&!u.rotating&&this.fire(new Oc("rotatestart",e)),this._pitching&&!u.pitching&&this.fire(new Oc("pitchstart",e))}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(e){if(!this.transformCameraUpdate)return;const r=e.clone(),{center:u,zoom:d,pitch:h,bearing:y,elevation:M}=this.transformCameraUpdate(r);u&&(r.center=u),d!==void 0&&(r.zoom=d),h!==void 0&&(r.pitch=h),y!==void 0&&(r.bearing=y),M!==void 0&&(r.elevation=M),this.transform.apply(r)}_fireMoveEvents(e){this.fire(new Oc("move",e)),this._zooming&&this.fire(new Oc("zoom",e)),this._rotating&&this.fire(new Oc("rotate",e)),this._pitching&&this.fire(new Oc("pitch",e))}_afterEase(e,r){if(this._easeId&&r&&this._easeId===r)return;delete this._easeId;const u=this._zooming,d=this._rotating,h=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,u&&this.fire(new Oc("zoomend",e)),d&&this.fire(new Oc("rotateend",e)),h&&this.fire(new Oc("pitchend",e)),this.fire(new Oc("moveend",e))}flyTo(e,r){var u;if(!e.essential&&zg.prefersReducedMotion){const Hl=OM(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Hl,r)}this.stop(),e=gh({offset:[0,0],speed:1.2,curve:1.42,easing:oC},e);const d=this._getTransformForUpdate(),h=this.getZoom(),y=this.getBearing(),M=this.getPitch(),U=this.getPadding(),re="bearing"in e?this._normalizeBearing(e.bearing,y):y,Ee="pitch"in e?+e.pitch:M,Ae="padding"in e?e.padding:d.padding,We=_f().convert(e.offset);let Ht=d.centerPoint.add(We);const Tn=d.pointLocation(Ht),{center:Fn,zoom:br}=d.getConstrained(Bf.convert(e.center||Tn),(u=e.zoom)!==null&&u!==void 0?u:h);this._normalizeCenter(Fn);const ei=d.zoomScale(br-h),Jr=d.project(Tn),zi=d.project(Fn).sub(Jr);let ca=e.curve;const Da=Math.max(d.width,d.height),Va=Da/ei,va=zi.mag();if("minZoom"in e){const Hl=sv(Math.min(e.minZoom,h,br),d.minZoom,d.maxZoom),Vh=Da/d.zoomScale(Hl-h);ca=Math.sqrt(Vh/va*2)}const io=ca*ca;function Os(Hl){const Vh=(Va*Va-Da*Da+(Hl?-1:1)*io*io*va*va)/(2*(Hl?Va:Da)*io*va);return Math.log(Math.sqrt(Vh*Vh+1)-Vh)}function Hu(Hl){return(Math.exp(Hl)-Math.exp(-Hl))/2}function Ds(Hl){return(Math.exp(Hl)+Math.exp(-Hl))/2}function il(Hl){return Hu(Hl)/Ds(Hl)}const jl=Os(!1);let Ch=function(Hl){return Ds(jl)/Ds(jl+ca*Hl)},f0=function(Hl){return Da*((Ds(jl)*il(jl+ca*Hl)-Hu(jl))/io)/va},yh=(Os(!0)-jl)/ca;if(Math.abs(va)<1e-6||!isFinite(yh)){if(Math.abs(Da-Va)<1e-6)return this.easeTo(e,r);const Hl=Va<Da?-1:1;yh=Math.abs(Math.log(Va/Da))/ca,f0=()=>0,Ch=Vh=>Math.exp(Hl*ca*Vh)}if("duration"in e)e.duration=+e.duration;else{const Hl="screenSpeed"in e?+e.screenSpeed/ca:+e.speed;e.duration=1e3*yh/Hl}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=y!==re,this._pitching=Ee!==M,this._padding=!d.isPaddingEqual(Ae),this._prepareEase(r,!1),this._ease(Hl=>{const Vh=Hl*yh,U0=1/Ch(Vh);d.zoom=Hl===1?br:h+d.scaleZoom(U0),this._rotating&&(d.bearing=_g.number(y,re,Hl)),this._pitching&&(d.pitch=_g.number(M,Ee,Hl)),this._padding&&(d.interpolatePadding(U,Ae,Hl),Ht=d.centerPoint.add(We));const yv=Hl===1?Fn:d.unproject(Jr.add(zi.mult(f0(Vh))).mult(U0));d.setLocationAtPoint(d.renderWorldCopies?yv.wrap():yv,Ht),this._applyUpdatedTransform(d),this._fireMoveEvents(r)},()=>{this._afterEase(r)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,r){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const d=this._onEaseEnd;delete this._onEaseEnd,d.call(this,r)}if(!e){var u;(u=this.handlers)===null||u===void 0||u.stop(!1)}return this}_ease(e,r,u){u.animate===!1||u.duration===0?(e(1),r()):(this._easeStart=zg.now(),this._easeOptions=u,this._onEaseFrame=e,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,r){e=h_(e,-180,180);const u=Math.abs(e-r);return Math.abs(e-360-r)<u&&(e-=360),Math.abs(e+360-r)<u&&(e+=360),e}_normalizeCenter(e){const r=this.transform;if(!r.renderWorldCopies||r.lngRange)return;const u=e.lng-r.center.lng;e.lng+=u>180?-360:u<-180?360:0}}var LM=A(31767);function QI(){var t=new LM.WT(4);return LM.WT!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function qI(t){var e=new glMatrix.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function NM(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function JI(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function sD(t,e,r,u){var d=new glMatrix.ARRAY_TYPE(4);return d[0]=t,d[1]=e,d[2]=r,d[3]=u,d}function uD(t,e,r,u,d){return t[0]=e,t[1]=r,t[2]=u,t[3]=d,t}function lD(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function cD(t,e){var r=e[0],u=e[1],d=e[2],h=e[3],y=r*h-d*u;return y?(y=1/y,t[0]=h*y,t[1]=-u*y,t[2]=-d*y,t[3]=r*y,t):null}function cC(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function fD(t){return t[0]*t[3]-t[2]*t[1]}function dD(t,e,r){var u=e[0],d=e[1],h=e[2],y=e[3],M=r[0],U=r[1],re=r[2],Ee=r[3];return t[0]=u*M+h*U,t[1]=d*M+y*U,t[2]=u*re+h*Ee,t[3]=d*re+y*Ee,t}function eL(t,e,r){var u=e[0],d=e[1],h=e[2],y=e[3],M=Math.sin(r),U=Math.cos(r);return t[0]=u*U+h*M,t[1]=d*U+y*M,t[2]=u*-M+h*U,t[3]=d*-M+y*U,t}function hD(t,e,r){var u=e[0],d=e[1],h=e[2],y=e[3],M=r[0],U=r[1];return t[0]=u*M,t[1]=d*M,t[2]=h*U,t[3]=y*U,t}function DM(t,e){var r=Math.sin(e),u=Math.cos(e);return t[0]=u,t[1]=r,t[2]=-r,t[3]=u,t}function tL(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function nL(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function pD(t){return Math.hypot(t[0],t[1],t[2],t[3])}function gD(t,e,r,u){return t[2]=u[2]/u[0],r[0]=u[0],r[1]=u[1],r[3]=u[3]-t[2]*r[1],[t,e,r]}function mD(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function vD(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function yD(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function vT(t,e){var r=t[0],u=t[1],d=t[2],h=t[3],y=e[0],M=e[1],U=e[2],re=e[3];return Math.abs(r-y)<=glMatrix.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(u-M)<=glMatrix.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(d-U)<=glMatrix.EPSILON*Math.max(1,Math.abs(d),Math.abs(U))&&Math.abs(h-re)<=glMatrix.EPSILON*Math.max(1,Math.abs(h),Math.abs(re))}function fC(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function rL(t,e,r,u){return t[0]=e[0]+r[0]*u,t[1]=e[1]+r[1]*u,t[2]=e[2]+r[2]*u,t[3]=e[3]+r[3]*u,t}var iL=null,kM=null;class yT{constructor(e=0,r=0,u=0,d=0){if((0,me.Z)(this,"top",void 0),(0,me.Z)(this,"bottom",void 0),(0,me.Z)(this,"left",void 0),(0,me.Z)(this,"right",void 0),isNaN(e)||e<0||isNaN(r)||r<0||isNaN(u)||u<0||isNaN(d)||d<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=r,this.left=u,this.right=d}interpolate(e,r,u){return r.top!=null&&e.top!=null&&(this.top=_g.number(e.top,r.top,u)),r.bottom!=null&&e.bottom!=null&&(this.bottom=_g.number(e.bottom,r.bottom,u)),r.left!=null&&e.left!=null&&(this.left=_g.number(e.left,r.left,u)),r.right!=null&&e.right!=null&&(this.right=_g.number(e.right,r.right,u)),this}getCenter(e,r){const u=sv((this.left+e-this.right)/2,0,e),d=sv((this.top+r-this.bottom)/2,0,r);return new(_f())(u,d)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new yT(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const e1=85.051129;class gm{constructor(e,r,u,d,h){(0,me.Z)(this,"tileSize",void 0),(0,me.Z)(this,"tileZoom",void 0),(0,me.Z)(this,"lngRange",void 0),(0,me.Z)(this,"latRange",void 0),(0,me.Z)(this,"scale",void 0),(0,me.Z)(this,"width",void 0),(0,me.Z)(this,"height",void 0),(0,me.Z)(this,"angle",void 0),(0,me.Z)(this,"rotationMatrix",void 0),(0,me.Z)(this,"pixelsToGLUnits",void 0),(0,me.Z)(this,"cameraToCenterDistance",void 0),(0,me.Z)(this,"mercatorMatrix",void 0),(0,me.Z)(this,"projMatrix",void 0),(0,me.Z)(this,"invProjMatrix",void 0),(0,me.Z)(this,"alignedProjMatrix",void 0),(0,me.Z)(this,"pixelMatrix",void 0),(0,me.Z)(this,"pixelMatrix3D",void 0),(0,me.Z)(this,"pixelMatrixInverse",void 0),(0,me.Z)(this,"glCoordMatrix",void 0),(0,me.Z)(this,"labelPlaneMatrix",void 0),(0,me.Z)(this,"minElevationForCurrentTile",void 0),(0,me.Z)(this,"_fov",void 0),(0,me.Z)(this,"_pitch",void 0),(0,me.Z)(this,"_zoom",void 0),(0,me.Z)(this,"_unmodified",void 0),(0,me.Z)(this,"_renderWorldCopies",void 0),(0,me.Z)(this,"_minZoom",void 0),(0,me.Z)(this,"_maxZoom",void 0),(0,me.Z)(this,"_minPitch",void 0),(0,me.Z)(this,"_maxPitch",void 0),(0,me.Z)(this,"_center",void 0),(0,me.Z)(this,"_elevation",void 0),(0,me.Z)(this,"_pixelPerMeter",void 0),(0,me.Z)(this,"_edgeInsets",void 0),(0,me.Z)(this,"_constraining",void 0),(0,me.Z)(this,"_posMatrixCache",void 0),(0,me.Z)(this,"_alignedPosMatrixCache",void 0),this.tileSize=512,this._renderWorldCopies=h===void 0?!0:!!h,this._minZoom=e||0,this._maxZoom=r||22,this._minPitch=u==null?0:u,this._maxPitch=d==null?60:d,this.setMaxBounds(),this.width=0,this.height=0,this._center=new Bf(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new yT,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const e=new gm(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.apply(this),e}apply(e){this.tileSize=e.tileSize,this.latRange=e.latRange,this.width=e.width,this.height=e.height,this._center=e._center,this._elevation=e._elevation,this.minElevationForCurrentTile=e.minElevationForCurrentTile,this.zoom=e.zoom,this.angle=e.angle,this._fov=e._fov,this._pitch=e._pitch,this._unmodified=e._unmodified,this._edgeInsets=e._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){e===void 0?e=!0:e===null&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new(_f())(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(e){const r=-h_(e,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=QI(),eL(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const r=sv(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const r=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==r&&(this._unmodified=!1,this._zoom=r,this.tileZoom=Math.max(0,Math.floor(r)),this.scale=this.zoomScale(r),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,r,u){this._unmodified=!1,this._edgeInsets.interpolate(e,r,u),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const r=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,r)}resize(e,r){this.width=e,this.height=r,this.pixelsToGLUnits=[2/e,-2/r],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(e){const r=sv(e.lat,-e1,e1);return new(_f())(X1(e.lng)*this.worldSize,p_(r)*this.worldSize)}unproject(e){return new bg(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){const e=this.pointLocation(this.getCameraPoint()),r=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter;return{lngLat:e,altitude:r+this.elevation}}setLocationAtPoint(e,r){const u=this.pointCoordinate(r),d=this.pointCoordinate(this.centerPoint),h=this.locationCoordinate(e),y=new bg(h.x-(u.x-d.x),h.y-(u.y-d.y));this.center=this.coordinateLocation(y),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e){return this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}locationCoordinate(e){return bg.fromLngLat(e)}coordinateLocation(e){return e&&e.toLngLat()}pointCoordinate(e){const u=[e.x,e.y,0,1],d=[e.x,e.y,1,1];ch.fF(u,u,this.pixelMatrixInverse),ch.fF(d,d,this.pixelMatrixInverse);const h=u[3],y=d[3],M=u[0]/h,U=d[0]/y,re=u[1]/h,Ee=d[1]/y,Ae=u[2]/h,We=d[2]/y,Ht=Ae===We?0:(0-Ae)/(We-Ae);return new bg(_g.number(M,U,Ht)/this.worldSize,_g.number(re,Ee,Ht)/this.worldSize)}coordinatePoint(e,r=0,u=this.pixelMatrix){const d=[e.x*this.worldSize,e.y*this.worldSize,r,1];return ch.fF(d,d,u),new(_f())(d[0]/d[3],d[1]/d[3])}getBounds(){const e=Math.max(0,this.height/2-this.getHorizon());return new pm().extend(this.pointLocation(new(_f())(0,e))).extend(this.pointLocation(new(_f())(this.width,e))).extend(this.pointLocation(new(_f())(this.width,this.height))).extend(this.pointLocation(new(_f())(0,this.height)))}getMaxBounds(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new pm([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-e1,e1])}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(e,r){r=sv(+r,this.minZoom,this.maxZoom);const u={center:new Bf(e.lng,e.lat),zoom:r};let d=this.lngRange;if(!this._renderWorldCopies&&d===null){const Da=179.9999999999;d=[-Da,Da]}const h=this.tileSize*this.zoomScale(u.zoom);let y=0,M=h,U=0,re=h,Ee=0,Ae=0;const{x:We,y:Ht}=this.size;if(this.latRange){const Da=this.latRange;y=p_(Da[1])*h,M=p_(Da[0])*h,M-y<Ht&&(Ee=Ht/(M-y))}d&&(U=h_(X1(d[0])*h,0,h),re=h_(X1(d[1])*h,0,h),re<U&&(re+=h),re-U<We&&(Ae=We/(re-U)));const{x:Tn,y:Fn}=this.project.call({worldSize:h},e);let br,ei;const Jr=Math.max(Ae||0,Ee||0);if(Jr){const Da=new(_f())(Ae?(re+U)/2:Tn,Ee?(M+y)/2:Fn);return u.center=this.unproject.call({worldSize:h},Da).wrap(),u.zoom+=this.scaleZoom(Jr),u}if(this.latRange){const Da=Ht/2;Fn-Da<y&&(ei=y+Da),Fn+Da>M&&(ei=M-Da)}if(d){const Da=(U+re)/2;let Va=Tn;this._renderWorldCopies&&(Va=h_(Tn,Da-h/2,Da+h/2));const va=We/2;Va-va<U&&(br=U+va),Va+va>re&&(br=re-va)}if(br!==void 0||ei!==void 0){var zi,ca;const Da=new(_f())((zi=br)!==null&&zi!==void 0?zi:Tn,(ca=ei)!==null&&ca!==void 0?ca:Fn);u.center=this.unproject.call({worldSize:h},Da).wrap()}return u}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:r,zoom:u}=this.getConstrained(this.center,this.zoom);this.center=r,this.zoom=u,this._unmodified=e,this._constraining=!1}_calcMatrices(){if(!this.height)return;const e=this._fov/2,r=this.centerOffset,u=this.point.x,d=this.point.y;this.cameraToCenterDistance=.5/Math.tan(e)*this.height,this._pixelPerMeter=RM(1,this.center.lat)*this.worldSize;let h=qo.identity(new Float64Array(16));qo.scale(h,h,[this.width/2,-this.height/2,1]),qo.translate(h,h,[1,-1,0]),this.labelPlaneMatrix=h,h=qo.identity(new Float64Array(16)),qo.scale(h,h,[1,-1,1]),qo.translate(h,h,[-1,-1,0]),qo.scale(h,h,[2/this.width,2/this.height,1]),this.glCoordMatrix=h;const y=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),M=Math.min(this.elevation,this.minElevationForCurrentTile),U=y-M*this._pixelPerMeter/Math.cos(this._pitch),re=M<0?U:y,Ee=Math.PI/2+this._pitch,Ae=this._fov*(.5+r.y/this.height),We=Math.sin(Ae)*re/Math.sin(sv(Math.PI-Ee-Ae,.01,Math.PI-.01)),Ht=this.getHorizon(),Fn=2*Math.atan(Ht/this.cameraToCenterDistance)*(.5+r.y/(Ht*2)),br=Math.sin(Fn)*re/Math.sin(sv(Math.PI-Ee-Fn,.01,Math.PI-.01)),ei=Math.min(We,br),Jr=(Math.cos(Math.PI/2-this._pitch)*ei+re)*1.01,zi=this.height/50;h=new Float64Array(16),qo.perspective(h,this._fov,this.width/this.height,zi,Jr),h[8]=-r.x*2/this.width,h[9]=r.y*2/this.height,qo.scale(h,h,[1,-1,1]),qo.translate(h,h,[0,0,-this.cameraToCenterDistance]),qo.rotateX(h,h,this._pitch),qo.rotateZ(h,h,this.angle),qo.translate(h,h,[-u,-d,0]),this.mercatorMatrix=qo.scale([],h,[this.worldSize,this.worldSize,this.worldSize]),qo.scale(h,h,[1,1,this._pixelPerMeter]),this.pixelMatrix=qo.multiply(new Float64Array(16),this.labelPlaneMatrix,h),qo.translate(h,h,[0,0,-this.elevation]),this.projMatrix=h,this.invProjMatrix=qo.invert([],h),this.pixelMatrix3D=qo.multiply(new Float64Array(16),this.labelPlaneMatrix,h);const ca=this.width%2/2,Da=this.height%2/2,Va=Math.cos(this.angle),va=Math.sin(this.angle),io=u-Math.round(u)+Va*ca+va*Da,Os=d-Math.round(d)+Va*Da+va*ca,Hu=new Float64Array(h);if(qo.translate(Hu,Hu,[io>.5?io-1:io,Os>.5?Os-1:Os,0]),this.alignedProjMatrix=Hu,h=qo.invert(new Float64Array(16),this.pixelMatrix),!h)throw new Error("failed to invert matrix");this.pixelMatrixInverse=h,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const e=this.pointCoordinate(new(_f())(0,0)),r=[e.x*this.worldSize,e.y*this.worldSize,0,1];return ch.fF(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const e=this._pitch,r=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new(_f())(0,r))}getCameraQueryGeometry(e){const r=this.getCameraPoint();if(e.length===1)return[e[0],r];{let u=r.x,d=r.y,h=r.x,y=r.y;for(const M of e)u=Math.min(u,M.x),d=Math.min(d,M.y),h=Math.max(h,M.x),y=Math.max(y,M.y);return[new(_f())(u,d),new(_f())(h,d),new(_f())(h,y),new(_f())(u,y),new(_f())(u,d)]}}lngLatToCameraDepth(e,r){const u=this.locationCoordinate(e),d=[u.x*this.worldSize,u.y*this.worldSize,r,1];return ch.fF(d,d,this.projMatrix),d[2]/d[3]}}var BM;class xl{static testProp(e){if(!xl.docStyle)return e[0];for(let r=0;r<e.length;r++)if(e[r]in xl.docStyle)return e[r];return e[0]}static create(e,r,u){const d=window.document.createElement(e);return r!==void 0&&(d.className=r),u&&u.appendChild(d),d}static createNS(e,r){return window.document.createElementNS(e,r)}static disableDrag(){xl.docStyle&&xl.selectProp&&(xl.userSelect=xl.docStyle[xl.selectProp],xl.docStyle[xl.selectProp]="none")}static enableDrag(){xl.docStyle&&xl.selectProp&&(xl.docStyle[xl.selectProp]=xl.userSelect)}static setTransform(e,r){e.style[xl.transformProp]=r}static addEventListener(e,r,u,d={}){"passive"in d?e.addEventListener(r,u,d):e.addEventListener(r,u,d.capture)}static removeEventListener(e,r,u,d={}){"passive"in d?e.removeEventListener(r,u,d):e.removeEventListener(r,u,d.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",xl.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",xl.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",xl.suppressClickInternal,!0)},0)}static getScale(e){const r=e.getBoundingClientRect();return{x:r.width/e.offsetWidth||1,y:r.height/e.offsetHeight||1,boundingClientRect:r}}static getPoint(e,r,u){const d=r.boundingClientRect;return new(_f())((u.clientX-d.left)/r.x-e.clientLeft,(u.clientY-d.top)/r.y-e.clientTop)}static mousePos(e,r){const u=xl.getScale(e);return xl.getPoint(e,u,r)}static touchPos(e,r){const u=[],d=xl.getScale(e);for(let h=0;h<r.length;h++)u.push(xl.getPoint(e,d,r[h]));return u}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}BM=xl,(0,me.Z)(xl,"docStyle",typeof window!="undefined"&&window.document&&window.document.documentElement.style),(0,me.Z)(xl,"userSelect",void 0),(0,me.Z)(xl,"selectProp",BM.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"])),(0,me.Z)(xl,"transformProp",BM.testProp(["transform","WebkitTransform"]));class vl{constructor(e){(0,me.Z)(this,"_map",void 0),this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.pointLocation(_f().convert(e))}}class FM{constructor(e,r){(0,me.Z)(this,"_map",void 0),(0,me.Z)(this,"_tr",void 0),(0,me.Z)(this,"_el",void 0),(0,me.Z)(this,"_container",void 0),(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_startPos",void 0),(0,me.Z)(this,"_lastPos",void 0),(0,me.Z)(this,"_box",void 0),(0,me.Z)(this,"_clickTolerance",void 0),this._map=e,this._tr=new vl(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=r.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,r){this.isEnabled()&&e.shiftKey&&e.button===0&&(xl.disableDrag(),this._startPos=this._lastPos=r,this._active=!0)}mousemoveWindow(e,r){if(!this._active)return;const u=r;if(this._lastPos.equals(u)||!this._box&&u.dist(this._startPos)<this._clickTolerance)return;const d=this._startPos;this._lastPos=u,this._box||(this._box=xl.create("div","l7-boxzoom",this._container),this._container.classList.add("l7-crosshair"),this._fireEvent("boxzoomstart",e));const h=Math.min(d.x,u.x),y=Math.max(d.x,u.x),M=Math.min(d.y,u.y),U=Math.max(d.y,u.y);xl.setTransform(this._box,`translate(${h}px,${M}px)`),this._box.style.width=`${y-h}px`,this._box.style.height=`${U-M}px`}mouseupWindow(e,r){if(!this._active||e.button!==0)return;const u=this._startPos,d=r;if(this.reset(),xl.suppressClick(),u.x===d.x&&u.y===d.y)this._fireEvent("boxzoomcancel",e);else return this._map.fire(new Oc("boxzoomend",{originalEvent:e})),{cameraAnimation:h=>h.fitScreenCoordinates(u,d,this._tr.bearing,{linear:!0})}}keydown(e){this._active&&e.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("l7-crosshair"),this._box&&(xl.remove(this._box),this._box=null),xl.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,r){return this._map.fire(new Oc(e,{originalEvent:r}))}}class Jc{constructor(e){(0,me.Z)(this,"_tr",void 0),(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),this._tr=new vl(e),this.reset()}reset(){this._active=!1}dblclick(e,r){return e.preventDefault(),{cameraAnimation:u=>{u.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(r)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wh{constructor(e,r){(0,me.Z)(this,"_options",void 0),(0,me.Z)(this,"_map",void 0),(0,me.Z)(this,"_container",void 0),(0,me.Z)(this,"_bypassKey",navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey"),(0,me.Z)(this,"_enabled",void 0),this._map=e,this._options=r,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("l7-cooperative-gestures"),this._container=xl.create("div","l7-cooperative-gesture-screen",e);const r=document.createElement("div");r.className="l7-desktop-message",r.textContent="Missing UI string",this._container.appendChild(r);const u=document.createElement("div");u.className="l7-mobile-message",u.textContent="Missing UI string",this._container.appendChild(u),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(xl.remove(this._container),this._map.getCanvasContainer().classList.remove("l7-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(e){this._onCooperativeGesture(e.touches.length===1)}wheel(e){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!e[this._bypassKey])}_onCooperativeGesture(e){!this._enabled||!e||(this._container.classList.add("l7-show"),setTimeout(()=>{this._container.classList.remove("l7-show")},100))}}const UM={panStep:100,bearingStep:15,pitchStep:10};class Eg{constructor(e){(0,me.Z)(this,"_tr",void 0),(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_panStep",void 0),(0,me.Z)(this,"_bearingStep",void 0),(0,me.Z)(this,"_pitchStep",void 0),(0,me.Z)(this,"_rotationDisabled",void 0),this._tr=new vl(e);const r=UM;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let r=0,u=0,d=0,h=0,y=0;switch(e.keyCode){case 61:case 107:case 171:case 187:r=1;break;case 189:case 109:case 173:r=-1;break;case 37:e.shiftKey?u=-1:(e.preventDefault(),h=-1);break;case 39:e.shiftKey?u=1:(e.preventDefault(),h=1);break;case 38:e.shiftKey?d=1:(e.preventDefault(),y=-1);break;case 40:e.shiftKey?d=-1:(e.preventDefault(),y=1);break;default:return}return this._rotationDisabled&&(u=0,d=0),{cameraAnimation:M=>{const U=this._tr;M.easeTo({duration:300,easeId:"keyboardHandler",easing:gp,zoom:r?Math.round(U.zoom)+r*(e.shiftKey?2:1):U.zoom,bearing:U.bearing+u*this._bearingStep,pitch:U.pitch+d*this._pitchStep,offset:[-h*this._panStep,-y*this._panStep],center:U.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function gp(t){return t*(2-t)}class sd extends Oc{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,r,u,d={}){super(e,d),(0,me.Z)(this,"target",void 0),(0,me.Z)(this,"originalEvent",void 0),(0,me.Z)(this,"point",void 0),(0,me.Z)(this,"lngLat",void 0),(0,me.Z)(this,"_defaultPrevented",void 0);const h=xl.mousePos(r.getCanvasContainer(),u),y=r.unproject(h);this.point=h,this.lngLat=y,this.originalEvent=u,this._defaultPrevented=!1,this.target=r}}class Sf extends Oc{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,r,u){super(e),(0,me.Z)(this,"target",void 0),(0,me.Z)(this,"originalEvent",void 0),(0,me.Z)(this,"lngLat",void 0),(0,me.Z)(this,"point",void 0),(0,me.Z)(this,"points",void 0),(0,me.Z)(this,"lngLats",void 0),(0,me.Z)(this,"_defaultPrevented",void 0);const d=e==="touchend"?u.changedTouches:u.touches,h=xl.touchPos(r.getCanvasContainer(),d),y=h.map(re=>r.unproject(re)),M=h.reduce((re,Ee,Ae,We)=>re.add(Ee.div(We.length)),new(_f())(0,0)),U=r.unproject(M);this.target=r,this.points=h,this.point=M,this.lngLats=y,this.lngLat=U,this.originalEvent=u,this._defaultPrevented=!1}}class v2 extends Oc{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,r,u){super(e),(0,me.Z)(this,"target",void 0),(0,me.Z)(this,"originalEvent",void 0),(0,me.Z)(this,"_defaultPrevented",void 0),this.target=r,this._defaultPrevented=!1,this.originalEvent=u}}class t1{constructor(e,r){(0,me.Z)(this,"_mousedownPos",void 0),(0,me.Z)(this,"_clickTolerance",void 0),(0,me.Z)(this,"_map",void 0),this._map=e,this._clickTolerance=r.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new v2(e.type,this._map,e))}mousedown(e,r){return this._mousedownPos=r,this._firePreventable(new sd(e.type,this._map,e))}mouseup(e){this._map.fire(new sd(e.type,this._map,e))}click(e,r){this._mousedownPos&&this._mousedownPos.dist(r)>=this._clickTolerance||this._map.fire(new sd(e.type,this._map,e))}dblclick(e){return this._firePreventable(new sd(e.type,this._map,e))}mouseover(e){this._map.fire(new sd(e.type,this._map,e))}mouseout(e){this._map.fire(new sd(e.type,this._map,e))}touchstart(e){return this._firePreventable(new Sf(e.type,this._map,e))}touchmove(e){this._map.fire(new Sf(e.type,this._map,e))}touchend(e){this._map.fire(new Sf(e.type,this._map,e))}touchcancel(e){this._map.fire(new Sf(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Dc{constructor(e){(0,me.Z)(this,"_map",void 0),(0,me.Z)(this,"_delayContextMenu",void 0),(0,me.Z)(this,"_ignoreContextMenu",void 0),(0,me.Z)(this,"_contextMenuEvent",void 0),this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new sd(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new sd("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new sd(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class y2{constructor(e){(0,me.Z)(this,"contextmenu",void 0),(0,me.Z)(this,"mousedown",void 0),(0,me.Z)(this,"mousemoveWindow",void 0),(0,me.Z)(this,"mouseup",void 0),(0,me.Z)(this,"touchstart",void 0),(0,me.Z)(this,"touchmoveWindow",void 0),(0,me.Z)(this,"touchend",void 0),(0,me.Z)(this,"_clickTolerance",void 0),(0,me.Z)(this,"_moveFunction",void 0),(0,me.Z)(this,"_activateOnStart",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_moved",void 0),(0,me.Z)(this,"_lastPoint",void 0),(0,me.Z)(this,"_moveStateManager",void 0),this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){const r=this._moveFunction(...e);if(r.bearingDelta||r.pitchDelta||r.around||r.panDelta)return this._active=!0,r}dragStart(e,r){!this.isEnabled()||this._lastPoint||this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=r.length?r[0]:r,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,r){if(!this.isEnabled())return;const u=this._lastPoint;if(!u)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e)){this.reset(e);return}const d=r.length?r[0]:r;if(!(!this._moved&&d.dist(u)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(u,d)}dragEnd(e){!this.isEnabled()||!this._lastPoint||this._moveStateManager.isValidEndEvent(e)&&(this._moved&&xl.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const zM=0,_D=2,bD={[zM]:1,[_D]:2};function _T(t,e){const r=bD[e];return t.buttons===void 0||(t.buttons&r)!==r}class Tx{constructor(e){(0,me.Z)(this,"_eventButton",void 0),(0,me.Z)(this,"_correctEvent",void 0),this._correctEvent=e.checkCorrectEvent}startMove(e){const r=xl.mouseButton(e);this._eventButton=r}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!_T(e,this._eventButton)}isValidEndEvent(e){return xl.mouseButton(e)===this._eventButton}}class vc{constructor(){_defineProperty(this,"_firstTouch",void 0),this._firstTouch=void 0}_isOneFingerTouch(e){return e.targetTouches.length===1}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){const r=e.targetTouches[0].identifier;this._firstTouch=r}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}const eg=0,Zp=2,Sx=t=>{t.mousedown=t.dragStart,t.mousemoveWindow=t.dragMove,t.mouseup=t.dragEnd,t.contextmenu=e=>{e.preventDefault()}},ZM=({enable:t,clickTolerance:e})=>{const r=new Tx({checkCorrectEvent:u=>xl.mouseButton(u)===eg&&!u.ctrlKey});return new y2({clickTolerance:e,move:(u,d)=>({around:d,panDelta:d.sub(u)}),activateOnStart:!0,moveStateManager:r,enable:t,assignEvents:Sx})},Zg=({enable:t,clickTolerance:e,bearingDegreesPerPixelMoved:r=.8})=>{const u=new Tx({checkCorrectEvent:d=>xl.mouseButton(d)===eg&&d.ctrlKey||xl.mouseButton(d)===Zp});return new y2({clickTolerance:e,move:(d,h)=>({bearingDelta:(h.x-d.x)*r}),moveStateManager:u,enable:t,assignEvents:Sx})},ED=({enable:t,clickTolerance:e,pitchDegreesPerPixelMoved:r=-.5})=>{const u=new Tx({checkCorrectEvent:d=>xl.mouseButton(d)===eg&&d.ctrlKey||xl.mouseButton(d)===Zp});return new y2({clickTolerance:e,move:(d,h)=>({pitchDelta:(h.y-d.y)*r}),moveStateManager:u,enable:t,assignEvents:Sx})},xg=4.000244140625,dC=1/100,hC=1/450,jM=2;class HM{constructor(e,r){(0,me.Z)(this,"_map",void 0),(0,me.Z)(this,"_tr",void 0),(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_zooming",void 0),(0,me.Z)(this,"_aroundCenter",void 0),(0,me.Z)(this,"_around",void 0),(0,me.Z)(this,"_aroundPoint",void 0),(0,me.Z)(this,"_type",void 0),(0,me.Z)(this,"_lastValue",void 0),(0,me.Z)(this,"_timeout",void 0),(0,me.Z)(this,"_finishTimeout",void 0),(0,me.Z)(this,"_lastWheelEvent",void 0),(0,me.Z)(this,"_lastWheelEventTime",void 0),(0,me.Z)(this,"_startZoom",void 0),(0,me.Z)(this,"_targetZoom",void 0),(0,me.Z)(this,"_delta",void 0),(0,me.Z)(this,"_easing",void 0),(0,me.Z)(this,"_prevEase",void 0),(0,me.Z)(this,"_frameId",void 0),(0,me.Z)(this,"_triggerRenderFrame",void 0),(0,me.Z)(this,"_defaultZoomRate",void 0),(0,me.Z)(this,"_wheelZoomRate",void 0),(0,me.Z)(this,"_onTimeout",u=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)}),this._map=e,this._tr=new vl(e),this._triggerRenderFrame=r,this._delta=0,this._defaultZoomRate=dC,this._wheelZoomRate=hC}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&e.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(e){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!e[this._map.cooperativeGestures._bypassKey])return;let r=e.deltaMode===WheelEvent.DOM_DELTA_LINE?e.deltaY*40:e.deltaY;const u=zg.now(),d=u-(this._lastWheelEventTime||0);this._lastWheelEventTime=u,r!==0&&r%xg===0?this._type="wheel":r!==0&&Math.abs(r)<4?this._type="trackpad":d>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(d*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),e.shiftKey&&r&&(r=r/4),this._type&&(this._lastWheelEvent=e,this._delta-=r,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const r=xl.mousePos(this._map.getCanvasContainer(),e),u=this._tr;r.y>u.transform.height/2-u.transform.getHorizon()?this._around=Bf.convert(this._aroundCenter?u.center:u.unproject(r)):this._around=Bf.convert(u.center),this._aroundPoint=u.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const e=this._tr.transform;if(this._delta!==0){const M=this._type==="wheel"&&Math.abs(this._delta)>xg?this._wheelZoomRate:this._defaultZoomRate;let U=jM/(1+Math.exp(-Math.abs(this._delta*M)));this._delta<0&&U!==0&&(U=1/U);const re=typeof this._targetZoom=="number"?e.zoomScale(this._targetZoom):e.scale;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(re*U))),this._type==="wheel"&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const r=typeof this._targetZoom=="number"?this._targetZoom:e.zoom,u=this._startZoom,d=this._easing;let h=!1,y;if(this._type==="wheel"&&u&&d){const M=Math.min((zg.now()-this._lastWheelEventTime)/200,1),U=d(M);y=_g.number(u,r,U),M<1?this._frameId||(this._frameId=!0):h=!0}else y=r,h=!0;return this._active=!0,h&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!h,zoomDelta:y-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let r=oC;if(this._prevEase){const u=this._prevEase,d=(zg.now()-u.start)/u.duration,h=u.easing(d+.01)-u.easing(d),y=.27/Math.sqrt(h*h+1e-4)*.01,M=Math.sqrt(.27*.27-y*y);r=hT(y,M,.25,1)}return this._prevEase={start:zg.now(),duration:e,easing:r},r}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class pC{constructor(e,r){(0,me.Z)(this,"_clickZoom",void 0),(0,me.Z)(this,"_tapZoom",void 0),this._clickZoom=e,this._tapZoom=r}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class gC{constructor(e,r,u){(0,me.Z)(this,"_el",void 0),(0,me.Z)(this,"_mousePan",void 0),(0,me.Z)(this,"_touchPan",void 0),(0,me.Z)(this,"_inertiaOptions",void 0),this._el=e,this._mousePan=r,this._touchPan=u}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("l7-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("l7-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class K1{constructor(e,r,u){(0,me.Z)(this,"_mouseRotate",void 0),(0,me.Z)(this,"_mousePitch",void 0),(0,me.Z)(this,"_pitchWithRotate",void 0),this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=r,this._mousePitch=u}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class aL{constructor(e,r,u,d){(0,me.Z)(this,"_el",void 0),(0,me.Z)(this,"_touchZoom",void 0),(0,me.Z)(this,"_touchRotate",void 0),(0,me.Z)(this,"_tapDragZoom",void 0),(0,me.Z)(this,"_rotationDisabled",void 0),(0,me.Z)(this,"_enabled",void 0),this._el=e,this._touchZoom=r,this._touchRotate=u,this._tapDragZoom=d,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("l7-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("l7-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}function mC(t,e){if(t.length!==e.length)throw new Error(`The number of touches and points are not equal - touches ${t.length}, points ${e.length}`);const r={};for(let u=0;u<t.length;u++)r[t[u].identifier]=e[u];return r}function WM(t){const e=new(_f())(0,0);for(const r of t)e._add(r);return e.div(t.length)}const VM=500,GM=500,Q1=30;class bT{constructor(e){(0,me.Z)(this,"numTouches",void 0),(0,me.Z)(this,"centroid",void 0),(0,me.Z)(this,"startTime",void 0),(0,me.Z)(this,"aborted",void 0),(0,me.Z)(this,"touches",void 0),this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,r,u){(this.centroid||u.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=e.timeStamp),u.length===this.numTouches&&(this.centroid=WM(r),this.touches=mC(u,r)))}touchmove(e,r,u){if(this.aborted||!this.centroid)return;const d=mC(u,r);for(const h in this.touches){const y=this.touches[h],M=d[h];(!M||M.dist(y)>Q1)&&(this.aborted=!0)}}touchend(e,r,u){if((!this.centroid||e.timeStamp-this.startTime>GM)&&(this.aborted=!0),u.length===0){const d=!this.aborted&&this.centroid;if(this.reset(),d)return d}}}class g_{constructor(e){(0,me.Z)(this,"singleTap",void 0),(0,me.Z)(this,"numTaps",void 0),(0,me.Z)(this,"lastTime",void 0),(0,me.Z)(this,"lastTap",void 0),(0,me.Z)(this,"count",void 0),this.singleTap=new bT(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,r,u){this.singleTap.touchstart(e,r,u)}touchmove(e,r,u){this.singleTap.touchmove(e,r,u)}touchend(e,r,u){const d=this.singleTap.touchend(e,r,u);if(d){const h=e.timeStamp-this.lastTime<VM,y=!this.lastTap||this.lastTap.dist(d)<Q1;if((!h||!y)&&this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=d,this.count===this.numTaps)return this.reset(),d}}}class ET{constructor(){(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_swipePoint",void 0),(0,me.Z)(this,"_swipeTouch",void 0),(0,me.Z)(this,"_tapTime",void 0),(0,me.Z)(this,"_tapPoint",void 0),(0,me.Z)(this,"_tap",void 0),this._tap=new g_({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,r,u){if(!this._swipePoint)if(!this._tapTime)this._tap.touchstart(e,r,u);else{const d=r[0],h=e.timeStamp-this._tapTime<VM,y=this._tapPoint.dist(d)<Q1;!h||!y?this.reset():u.length>0&&(this._swipePoint=d,this._swipeTouch=u[0].identifier)}}touchmove(e,r,u){if(!this._tapTime)this._tap.touchmove(e,r,u);else if(this._swipePoint){if(u[0].identifier!==this._swipeTouch)return;const d=r[0],h=d.y-this._swipePoint.y;return this._swipePoint=d,e.preventDefault(),this._active=!0,{zoomDelta:h/128}}}touchend(e,r,u){if(this._tapTime)this._swipePoint&&u.length===0&&this.reset();else{const d=this._tap.touchend(e,r,u);d&&(this._tapTime=e.timeStamp,this._tapPoint=d)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class oL{constructor(e){(0,me.Z)(this,"_tr",void 0),(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_zoomIn",void 0),(0,me.Z)(this,"_zoomOut",void 0),this._tr=new vl(e),this._zoomIn=new g_({numTouches:1,numTaps:2}),this._zoomOut=new g_({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,r,u){this._zoomIn.touchstart(e,r,u),this._zoomOut.touchstart(e,r,u)}touchmove(e,r,u){this._zoomIn.touchmove(e,r,u),this._zoomOut.touchmove(e,r,u)}touchend(e,r,u){const d=this._zoomIn.touchend(e,r,u),h=this._zoomOut.touchend(e,r,u),y=this._tr;if(d)return this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:y.zoom+1,around:y.unproject(d)},{originalEvent:e})};if(h)return this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:y.zoom-1,around:y.unproject(h)},{originalEvent:e})}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sL{constructor(e,r){(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_touches",void 0),(0,me.Z)(this,"_clickTolerance",void 0),(0,me.Z)(this,"_sum",void 0),(0,me.Z)(this,"_map",void 0),this._clickTolerance=e.clickTolerance||1,this._map=r,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new(_f())(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(e,r,u){return this._calculateTransform(e,r,u)}touchmove(e,r,u){if(!(!this._active||u.length<this.minTouchs()))return e.preventDefault(),this._calculateTransform(e,r,u)}touchend(e,r,u){this._calculateTransform(e,r,u),this._active&&u.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,r,u){u.length>0&&(this._active=!0);const d=mC(u,r),h=new(_f())(0,0),y=new(_f())(0,0);let M=0;for(const Ee in d){const Ae=d[Ee],We=this._touches[Ee];We&&(h._add(Ae),y._add(Ae.sub(We)),M++,d[Ee]=Ae)}if(this._touches=d,M<this.minTouchs()||!y.mag())return;const U=y.div(M);return this._sum._add(U),this._sum.mag()<this._clickTolerance?void 0:{around:h.div(M),panDelta:U}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _2{constructor(){(0,me.Z)(this,"_enabled",void 0),(0,me.Z)(this,"_active",void 0),(0,me.Z)(this,"_firstTwoTouches",void 0),(0,me.Z)(this,"_vector",void 0),(0,me.Z)(this,"_startVector",void 0),(0,me.Z)(this,"_aroundCenter",void 0),this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,r,u){this._firstTwoTouches||u.length<2||(this._firstTwoTouches=[u[0].identifier,u[1].identifier],this._start([r[0],r[1]]))}touchmove(e,r,u){if(!this._firstTwoTouches)return;e.preventDefault();const[d,h]=this._firstTwoTouches,y=b2(u,r,d),M=b2(u,r,h);if(!y||!M)return;const U=this._aroundCenter?null:y.add(M).div(2);return this._move([y,M],U,e)}touchend(e,r,u){if(!this._firstTwoTouches)return;const[d,h]=this._firstTwoTouches,y=b2(u,r,d),M=b2(u,r,h);y&&M||(this._active&&xl.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&e.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function b2(t,e,r){for(let u=0;u<t.length;u++)if(t[u].identifier===r)return e[u]}const vC=.1;function E2(t,e){return Math.log(t/e)/Math.LN2}class xT extends _2{constructor(...e){super(...e),(0,me.Z)(this,"_distance",void 0),(0,me.Z)(this,"_startDistance",void 0)}reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,r){const u=this._distance;if(this._distance=e[0].dist(e[1]),!(!this._active&&Math.abs(E2(this._distance,this._startDistance))<vC))return this._active=!0,{zoomDelta:E2(this._distance,u),pinchAround:r}}}const TT=25;function m_(t,e){return t.angleWith(e)*180/Math.PI}class yC extends _2{constructor(...e){super(...e),(0,me.Z)(this,"_minDiameter",void 0)}reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,r,u){const d=this._vector;if(this._vector=e[0].sub(e[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:m_(this._vector,d),pinchAround:r}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const r=Math.PI*this._minDiameter,u=TT/r*360,d=m_(e,this._startVector);return Math.abs(d)<u}}function Ax(t){return Math.abs(t.y)>Math.abs(t.x)}const Cx=100;class YM extends _2{constructor(e){super(),(0,me.Z)(this,"_valid",void 0),(0,me.Z)(this,"_firstMove",void 0),(0,me.Z)(this,"_lastPoints",void 0),(0,me.Z)(this,"_map",void 0),(0,me.Z)(this,"_currentTouchCount",0),this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,r,u){super.touchstart(e,r,u),this._currentTouchCount=u.length}_start(e){this._lastPoints=e,Ax(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,r,u){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const d=e[0].sub(this._lastPoints[0]),h=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(d,h,u.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(d.y+h.y)/2*-.5}):void 0}gestureBeginsVertically(e,r,u){if(this._valid!==void 0)return this._valid;const d=2,h=e.mag()>=d,y=r.mag()>=d;if(!h&&!y)return;if(!h||!y)return this._firstMove===void 0&&(this._firstMove=u),u-this._firstMove<Cx?void 0:!1;const M=e.y>0==r.y>0;return Ax(e)&&Ax(r)&&M}}const Ox={linearity:.3,easing:hT(0,0,.3,1)},lv=gh({deceleration:2500,maxSpeed:1400},Ox),cv=gh({deceleration:20,maxSpeed:1400},Ox),mm=gh({deceleration:1e3,maxSpeed:360},Ox),v_=gh({deceleration:1e3,maxSpeed:90},Ox);class $M{constructor(e){(0,me.Z)(this,"_map",void 0),(0,me.Z)(this,"_inertiaBuffer",void 0),this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:zg.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,r=zg.now(),u=160;for(;e.length>0&&r-e[0].time>u;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const r={zoom:0,bearing:0,pitch:0,pan:new(_f())(0,0),pinchAround:void 0,around:void 0};for(const{settings:y}of this._inertiaBuffer)r.zoom+=y.zoomDelta||0,r.bearing+=y.bearingDelta||0,r.pitch+=y.pitchDelta||0,y.panDelta&&r.pan._add(y.panDelta),y.around&&(r.around=y.around),y.pinchAround&&(r.pinchAround=y.pinchAround);const d=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,h={};if(r.pan.mag()){const y=AT(r.pan.mag(),d,gh({},lv,e||{}));h.offset=r.pan.mult(y.amount/r.pan.mag()),h.center=this._map.transform.center,ST(h,y)}if(r.zoom){const y=AT(r.zoom,d,cv);h.zoom=this._map.transform.zoom+y.amount,ST(h,y)}if(r.bearing){const y=AT(r.bearing,d,mm);h.bearing=this._map.transform.bearing+sv(y.amount,-179,179),ST(h,y)}if(r.pitch){const y=AT(r.pitch,d,v_);h.pitch=this._map.transform.pitch+y.amount,ST(h,y)}if(h.zoom||h.bearing){const y=r.pinchAround===void 0?r.around:r.pinchAround;h.around=y?this._map.unproject(y):this._map.getCenter()}return this.clear(),gh(h,{noMoveStart:!0})}}function ST(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function AT(t,e,r){const{maxSpeed:u,linearity:d,deceleration:h}=r,y=sv(t*d/(e/1e3),-u,u),M=Math.abs(y)/(h*d);return{easing:r.easing,duration:M*1e3,amount:y*(M/2)}}const Mx=t=>t.zoom||t.drag||t.pitch||t.rotate;class uL extends Oc{constructor(e,r){super(e),(0,me.Z)(this,"type","renderFrame"),(0,me.Z)(this,"timeStamp",void 0),this.timeStamp=r}}function _C(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}class lL{constructor(e,r){(0,me.Z)(this,"_map",void 0),(0,me.Z)(this,"_el",void 0),(0,me.Z)(this,"_handlers",void 0),(0,me.Z)(this,"_eventsInProgress",void 0),(0,me.Z)(this,"_frameId",void 0),(0,me.Z)(this,"_inertia",void 0),(0,me.Z)(this,"_bearingSnap",void 0),(0,me.Z)(this,"_handlersById",void 0),(0,me.Z)(this,"_updatingCamera",void 0),(0,me.Z)(this,"_changes",void 0),(0,me.Z)(this,"_zoom",void 0),(0,me.Z)(this,"_previousActiveHandlers",void 0),(0,me.Z)(this,"_listeners",void 0),(0,me.Z)(this,"handleWindowEvent",d=>{this.handleEvent(d,`${d.type}Window`)}),(0,me.Z)(this,"handleEvent",(d,h)=>{if(d.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;const y=d.type==="renderFrame"?void 0:d,M={needsRenderFrame:!1},U={},re={},Ee=d.touches,Ae=Ee?this._getMapTouches(Ee):void 0,We=Ae?xl.touchPos(this._map.getCanvasContainer(),Ae):xl.mousePos(this._map.getCanvasContainer(),d);for(const{handlerName:Fn,handler:br,allowed:ei}of this._handlers){if(!br.isEnabled())continue;let Jr;this._blockedByActive(re,ei,Fn)?br.reset():br[h||d.type]&&(Jr=br[h||d.type](d,We,Ae),this.mergeHandlerResult(M,U,Jr,Fn,y),Jr&&Jr.needsRenderFrame&&this._triggerRenderFrame()),(Jr||br.isActive())&&(re[Fn]=br)}const Ht={};for(const Fn in this._previousActiveHandlers)re[Fn]||(Ht[Fn]=y);this._previousActiveHandlers=re,(Object.keys(Ht).length||_C(M))&&(this._changes.push([M,U,Ht]),this._triggerRenderFrame()),(Object.keys(re).length||_C(M))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Tn}=M;Tn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Tn(this._map))}),this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new $M(e),this._bearingSnap=r.bearingSnap||7,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r);const u=this._el;this._listeners=[[u,"touchstart",{passive:!0}],[u,"touchmove",{passive:!1}],[u,"touchend",void 0],[u,"touchcancel",void 0],[u,"mousedown",void 0],[u,"mousemove",void 0],[u,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[u,"mouseover",void 0],[u,"mouseout",void 0],[u,"dblclick",void 0],[u,"click",void 0],[u,"keydown",{capture:!1}],[u,"keyup",void 0],[u,"wheel",{passive:!1}],[u,"contextmenu",void 0],[window,"blur",void 0]];for(const[d,h,y]of this._listeners)xl.addEventListener(d,h,d===document?this.handleWindowEvent:this.handleEvent,y)}destroy(){for(const[e,r,u]of this._listeners)xl.removeEventListener(e,r,e===document?this.handleWindowEvent:this.handleEvent,u)}_addDefaultHandlers(e){const r=this._map,u=r.getCanvasContainer();this._add("mapEvent",new t1(r,e));const d=r.boxZoom=new FM(r,e);this._add("boxZoom",d),e.interactive&&e.boxZoom&&d.enable();const h=r.cooperativeGestures=new Wh(r,e.cooperativeGestures);this._add("cooperativeGestures",h),e.cooperativeGestures&&h.enable();const y=new oL(r),M=new Jc(r);r.doubleClickZoom=new pC(M,y),this._add("tapZoom",y),this._add("clickZoom",M),e.interactive&&e.doubleClickZoom&&r.doubleClickZoom.enable();const U=new ET;this._add("tapDragZoom",U);const re=r.touchPitch=new YM(r);this._add("touchPitch",re),e.interactive&&e.touchPitch&&r.touchPitch.enable(e.touchPitch);const Ee=Zg(e),Ae=ED(e);r.dragRotate=new K1(e,Ee,Ae),this._add("mouseRotate",Ee,["mousePitch"]),this._add("mousePitch",Ae,["mouseRotate"]),e.interactive&&e.dragRotate&&r.dragRotate.enable();const We=ZM(e),Ht=new sL(e,r);r.dragPan=new gC(u,We,Ht),this._add("mousePan",We),this._add("touchPan",Ht,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&r.dragPan.enable(e.dragPan);const Tn=new yC,Fn=new xT;r.touchZoomRotate=new aL(u,Fn,Tn,U),this._add("touchRotate",Tn,["touchPan","touchZoom"]),this._add("touchZoom",Fn,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&r.touchZoomRotate.enable(e.touchZoomRotate);const br=r.scrollZoom=new HM(r,()=>this._triggerRenderFrame());this._add("scrollZoom",br,["mousePan"]),e.interactive&&e.scrollZoom&&r.scrollZoom.enable(e.scrollZoom);const ei=r.keyboard=new Eg(r);this._add("keyboard",ei),e.interactive&&e.keyboard&&r.keyboard.enable(),this._add("blockableMapEvent",new Dc(r))}_add(e,r,u){this._handlers.push({handlerName:e,handler:r,allowed:u}),this._handlersById[e]=r}stop(e){if(!this._updatingCamera){for(const{handler:r}of this._handlers)r.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Mx(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,r,u){for(const d in e)if(d!==u&&(!r||r.indexOf(d)<0))return!0;return!1}_getMapTouches(e){const r=[];for(const u of e){const d=u.target;this._el.contains(d)&&r.push(u)}return r}mergeHandlerResult(e,r,u,d,h){if(!u)return;gh(e,u);const y={handlerName:d,originalEvent:u.originalEvent||h};u.zoomDelta!==void 0&&(r.zoom=y),u.panDelta!==void 0&&(r.drag=y),u.pitchDelta!==void 0&&(r.pitch=y),u.bearingDelta!==void 0&&(r.rotate=y)}_applyChanges(){const e={},r={},u={};for(const[d,h,y]of this._changes)d.panDelta&&(e.panDelta=(e.panDelta||new(_f())(0,0))._add(d.panDelta)),d.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+d.zoomDelta),d.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+d.bearingDelta),d.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+d.pitchDelta),d.around!==void 0&&(e.around=d.around),d.pinchAround!==void 0&&(e.pinchAround=d.pinchAround),d.noInertia&&(e.noInertia=d.noInertia),gh(r,h),gh(u,y);this._updateMapTransform(e,r,u),this._changes=[]}_updateMapTransform(e,r,u){const d=this._map,h=d._getTransformForUpdate();if(!_C(e))return this._fireEvents(r,u,!0);const{panDelta:y,zoomDelta:M,bearingDelta:U,pitchDelta:re,pinchAround:Ee}=e;let{around:Ae}=e;Ee!==void 0&&(Ae=Ee),d._stop(!0),Ae=Ae||d.transform.centerPoint;const We=h.pointLocation(y?Ae.sub(y):Ae);U&&(h.bearing+=U),re&&(h.pitch+=re),M&&(h.zoom+=M),h.setLocationAtPoint(We,Ae),d._applyUpdatedTransform(h),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(r,u,!0)}_fireEvents(e,r,u){const d=Mx(this._eventsInProgress),h=Mx(e),y={};for(const Ae in e){const{originalEvent:We}=e[Ae];this._eventsInProgress[Ae]||(y[`${Ae}start`]=We),this._eventsInProgress[Ae]=e[Ae]}!d&&h&&this._fireEvent("movestart",h.originalEvent);for(const Ae in y)this._fireEvent(Ae,y[Ae]);h&&this._fireEvent("move",h.originalEvent);for(const Ae in e){const{originalEvent:We}=e[Ae];this._fireEvent(Ae,We)}const M={};let U;for(const Ae in this._eventsInProgress){const{handlerName:We,originalEvent:Ht}=this._eventsInProgress[Ae];this._handlersById[We].isActive()||(delete this._eventsInProgress[Ae],U=r[We]||Ht,M[`${Ae}end`]=U)}for(const Ae in M)this._fireEvent(Ae,M[Ae]);const re=Mx(this._eventsInProgress);if(u&&((d||h)&&!re)){this._updatingCamera=!0;const Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),We=Ht=>Ht!==0&&-this._bearingSnap<Ht&&Ht<this._bearingSnap;Ae&&(Ae.essential||!zg.prefersReducedMotion)?(We(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),Ae.freezeElevation=!0,this._map.easeTo(Ae,{originalEvent:U})):(this._map.fire(new Oc("moveend",{originalEvent:U})),We(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(e,r){this._map.fire(new Oc(e,r?{originalEvent:r}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new uL("renderFrame",e)),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class XM{constructor(){(0,me.Z)(this,"_queue",void 0),(0,me.Z)(this,"_id",void 0),(0,me.Z)(this,"_cleared",void 0),(0,me.Z)(this,"_currentlyRunning",void 0),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const r=++this._id;return this._queue.push({callback:e,id:r,cancelled:!1}),r}remove(e){const r=this._currentlyRunning,u=r?this._queue.concat(r):this._queue;for(const d of u)if(d.id===e){d.cancelled=!0;return}}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const r=this._currentlyRunning=this._queue;this._queue=[];for(const u of r)if(!u.cancelled&&(u.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function KM(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}KM(`.l7-map {
  font:
    12px/20px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  overflow: hidden;
  position: relative;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.l7-canvas {
  position: absolute;
  left: 0;
  top: 0;
}

.l7-map:-webkit-full-screen {
  width: 100%;
  height: 100%;
}

.l7-canary {
  background-color: salmon;
}

.l7-canvas-container.l7-interactive,
.l7-ctrl-group button.l7-ctrl-compass {
  cursor: grab;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-canvas-container.l7-interactive.l7-track-pointer {
  cursor: pointer;
}

.l7-canvas-container.l7-interactive:active,
.l7-ctrl-group button.l7-ctrl-compass:active {
  cursor: grabbing;
}

.l7-canvas-container.l7-touch-zoom-rotate,
.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {
  touch-action: pan-x pan-y;
}

.l7-canvas-container.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-drag-pan .l7-canvas {
  touch-action: pinch-zoom;
}

.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {
  touch-action: none;
}

.l7-canvas-container.l7-touch-drag-pan.l7-cooperative-gestures,
.l7-canvas-container.l7-touch-drag-pan.l7-cooperative-gestures .l7-canvas {
  touch-action: pan-x pan-y;
}

.l7-cooperative-gesture-screen {
  background: rgba(0 0 0 / 40%);
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  padding: 1rem;
  font-size: 1.4em;
  line-height: 1.2;
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease 1s;
  z-index: 99999;
}

.l7-cooperative-gesture-screen.l7-show {
  opacity: 1;
  transition: opacity 0.05s;
}

.l7-cooperative-gesture-screen .l7-mobile-message {
  display: none;
}

@media (hover: none), (width <= 480px) {
  .l7-cooperative-gesture-screen .l7-desktop-message {
    display: none;
  }

  .l7-cooperative-gesture-screen .l7-mobile-message {
    display: block;
  }
}

.l7-ctrl-top-left,
.l7-ctrl-top-right,
.l7-ctrl-bottom-left,
.l7-ctrl-bottom-right {
  position: absolute;
  pointer-events: none;
  z-index: 2;
}
.l7-ctrl-top-left {
  top: 0;
  left: 0;
}
.l7-ctrl-top-right {
  top: 0;
  right: 0;
}
.l7-ctrl-bottom-left {
  bottom: 0;
  left: 0;
}
.l7-ctrl-bottom-right {
  right: 0;
  bottom: 0;
}

.l7-ctrl {
  clear: both;
  pointer-events: auto;

  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */
  -webkit-transform: translate(0, 0);
          transform: translate(0, 0);
}
.l7-ctrl-top-left .l7-ctrl {
  margin: 10px 0 0 10px;
  float: left;
}
.l7-ctrl-top-right .l7-ctrl {
  margin: 10px 10px 0 0;
  float: right;
}
.l7-ctrl-bottom-left .l7-ctrl {
  margin: 0 0 10px 10px;
  float: left;
}
.l7-ctrl-bottom-right .l7-ctrl {
  margin: 0 10px 10px 0;
  float: right;
}

.l7-crosshair,
.l7-crosshair .l7-interactive,
.l7-crosshair .l7-interactive:active {
  cursor: crosshair;
}

.l7-boxzoom {
  position: absolute;
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  background: #fff;
  border: 2px dotted #202020;
  opacity: 0.5;
  z-index: 10;
}
`);const Rx=-2,CT=22,fv=0,bC=60,Px=85,Ix={interactive:!0,bearingSnap:7,scrollZoom:!0,minZoom:Rx,maxZoom:CT,minPitch:fv,maxPitch:bC,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,fadeDuration:300,clickTolerance:3,pitchWithRotate:!0};class x2 extends KI{constructor(e){const r=(0,Ir.Z)((0,Ir.Z)({},Ix),e);if(r.minZoom!=null&&r.maxZoom!=null&&r.minZoom>r.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(r.minPitch!=null&&r.maxPitch!=null&&r.minPitch>r.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(r.minPitch!=null&&r.minPitch<fv)throw new Error(`minPitch must be greater than or equal to ${fv}`);if(r.maxPitch!=null&&r.maxPitch>Px)throw new Error(`maxPitch must be less than or equal to ${Px}`);const u=new gm(r.minZoom,r.maxZoom,r.minPitch,r.maxPitch,r.renderWorldCopies);if(super(u,{bearingSnap:r.bearingSnap}),(0,me.Z)(this,"_container",void 0),(0,me.Z)(this,"_canvasContainer",void 0),(0,me.Z)(this,"_interactive",void 0),(0,me.Z)(this,"_frameRequest",void 0),(0,me.Z)(this,"_loaded",void 0),(0,me.Z)(this,"_idleTriggered",!1),(0,me.Z)(this,"_fullyLoaded",void 0),(0,me.Z)(this,"_trackResize",void 0),(0,me.Z)(this,"_resizeObserver",void 0),(0,me.Z)(this,"_preserveDrawingBuffer",void 0),(0,me.Z)(this,"_failIfMajorPerformanceCaveat",void 0),(0,me.Z)(this,"_fadeDuration",void 0),(0,me.Z)(this,"_crossSourceCollisions",void 0),(0,me.Z)(this,"_crossFadingFactor",1),(0,me.Z)(this,"_collectResourceTiming",void 0),(0,me.Z)(this,"_renderTaskQueue",new XM),(0,me.Z)(this,"_mapId",CM()),(0,me.Z)(this,"_removed",void 0),(0,me.Z)(this,"_clickTolerance",void 0),(0,me.Z)(this,"scrollZoom",void 0),(0,me.Z)(this,"boxZoom",void 0),(0,me.Z)(this,"dragRotate",void 0),(0,me.Z)(this,"dragPan",void 0),(0,me.Z)(this,"keyboard",void 0),(0,me.Z)(this,"doubleClickZoom",void 0),(0,me.Z)(this,"touchZoomRotate",void 0),(0,me.Z)(this,"touchPitch",void 0),(0,me.Z)(this,"cooperativeGestures",void 0),(0,me.Z)(this,"_onMapScroll",d=>{if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}),this._interactive=r.interactive,this._trackResize=r.trackResize===!0,this._bearingSnap=r.bearingSnap,this._fadeDuration=r.fadeDuration,this._clickTolerance=r.clickTolerance,typeof r.container=="string"){if(this._container=document.getElementById(r.container),!this._container)throw new Error(`Container '${r.container}' not found.`)}else if(r.container instanceof HTMLElement)this._container=r.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(r.maxBounds&&this.setMaxBounds(r.maxBounds),this._setupContainer(),this.on("move",()=>this._update()).on("moveend",()=>this._update()).on("zoom",()=>this._update()).once("idle",()=>{this._idleTriggered=!0}),typeof window!="undefined"){let d=!1;const h=yo.throttle(y=>{this._trackResize&&!this._removed&&this.resize(y)._update()},50);this._resizeObserver=new ResizeObserver(y=>{if(!d){d=!0;return}h(y)}),this._resizeObserver.observe(this._container)}this.handlers=new lL(this,r),this.jumpTo({center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch}),r.bounds&&(this.resize(),this.fitBounds(r.bounds,gh({},r.fitBoundsOptions,{duration:0}))),this.resize()}_getMapId(){return this._mapId}calculateCameraOptionsFromTo(e,r,u,d){return super.calculateCameraOptionsFromTo(e,r,u,d)}resize(e){var r;const u=this._containerDimensions(),d=u[0],h=u[1];this.transform.resize(d,h),(r=this._requestedCameraState)===null||r===void 0||r.resize(d,h);const y=!this._moving;return y&&(this.stop(),this.fire(new Oc("movestart",e)).fire(new Oc("move",e))),this.fire(new Oc("resize",e)),y&&this.fire(new Oc("moveend",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(e&&pm.convert(e)),this._update()}setMinZoom(e){if(e=e==null?Rx:e,e>=Rx&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error(`minZoom must be between ${Rx} and the current maxZoom, inclusive`)}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if(e=e==null?CT:e,e>=this.transform.minZoom)return this.transform.maxZoom=e,this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if(e=e==null?fv:e,e<fv)throw new Error(`minPitch must be greater than or equal to ${fv}`);if(e>=fv&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this.getPitch()<e&&this.setPitch(e),this;throw new Error(`minPitch must be between ${fv} and the current maxPitch, inclusive`)}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if(e=e==null?bC:e,e>Px)throw new Error(`maxPitch must be less than or equal to ${Px}`);if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){this.transform.renderWorldCopies=e}project(e){return this.transform.locationPoint(Bf.convert(e))}unproject(e){return this.transform.pointLocation(_f().convert(e))}isMoving(){var e;return this._moving||((e=this.handlers)===null||e===void 0?void 0:e.isMoving())}isZooming(){var e;return this._zooming||((e=this.handlers)===null||e===void 0?void 0:e.isZooming())}isRotating(){var e;return this._rotating||((e=this.handlers)===null||e===void 0?void 0:e.isRotating())}on(e,r){return super.on(e,r)}once(e,r){return super.once(e,r)}off(e,r){return super.off(e,r)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}_containerDimensions(){let e=0,r=0;return this._container&&(e=this._container.clientWidth||400,r=this._container.clientHeight||300),[e,r]}_setupContainer(){const e=this._container;e.classList.add("l7-map");const r=this._canvasContainer=xl.create("div","l7-canvas-container",e);this._interactive&&r.classList.add("l7-interactive"),this._container.addEventListener("scroll",this._onMapScroll,!1)}_update(){return this.triggerRepaint(),this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(e){if(this._renderTaskQueue.run(e),!this._removed)return this.fire(new Oc("render")),this.isMoving()||this.fire(new Oc("idle")),this}remove(){var e;this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.handlers.destroy(),delete this.handlers,(e=this._resizeObserver)===null||e===void 0||e.disconnect(),xl.remove(this._canvasContainer),this._container.classList.remove("l7-map"),this._removed=!0,this.fire(new Oc("remove"))}triggerRepaint(){this._frameRequest||(this._frameRequest=new AbortController,zg.frameAsync(this._frameRequest).then(e=>{this._frameRequest=null,this._render(e)}).catch(()=>{}))}getCameraTargetElevation(){return this.transform.elevation}}class OT{constructor(){(0,me.Z)(this,"xzReg",-Math.PI*.6),(0,me.Z)(this,"yReg",Math.PI*.2),(0,me.Z)(this,"earthCameraRadius",200),(0,me.Z)(this,"earthCameraZoom",1),(0,me.Z)(this,"cameraPosition",Ju.Ue()),(0,me.Z)(this,"viewport",void 0),(0,me.Z)(this,"projectionMatrix",qo.create()),(0,me.Z)(this,"modelMatrix",qo.create()),(0,me.Z)(this,"viewMatrix",qo.create()),(0,me.Z)(this,"viewProjectionMatrix",qo.create()),(0,me.Z)(this,"ViewProjectionMatrixUncentered",qo.create()),(0,me.Z)(this,"viewUncenteredMatrix",qo.create())}syncWithMapCamera(e){const{viewportHeight:r=1,viewportWidth:u=1}=e,d=u/r;qo.perspective(this.projectionMatrix,20,d,.1,1e4);const U=this.earthCameraRadius*Math.cos(this.xzReg),re=this.earthCameraRadius*Math.sin(this.xzReg),Ee=this.earthCameraRadius*Math.sin(this.yReg);this.cameraPosition=Ju.al(U,Ee,re),Ju.Fv(this.cameraPosition,this.cameraPosition),Ju.Jp(this.cameraPosition,this.cameraPosition,Ju.al(this.earthCameraRadius,this.earthCameraRadius,this.earthCameraRadius)),Ju.bA(this.cameraPosition,this.cameraPosition,this.earthCameraZoom);const Ae=Ju.Ue();Ju.kC(Ae,this.cameraPosition,Ju.al(0,1,0));const We=Ju.al(0,1,0);Ju.kC(We,Ae,this.cameraPosition);const Ht=Ju.al(0,0,0);qo.lookAt(this.viewMatrix,this.cameraPosition,Ht,We),this.viewUncenteredMatrix=qo.clone(this.viewMatrix),qo.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),qo.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}rotateY(e){this.xzReg+=e*Math.min(this.earthCameraZoom*this.earthCameraZoom,1)}rotateX(e){this.yReg+=e*Math.min(this.earthCameraZoom*this.earthCameraZoom,1)}scaleZoom(e){this.earthCameraZoom+=e,this.earthCameraZoom=Math.max(this.earthCameraZoom,.6)}getZoom(){return 4}getZoomScale(){return Math.pow(2,this.getZoom())}getCenter(){return[0,0]}getProjectionMatrix(){return this.projectionMatrix}getModelMatrix(){return this.modelMatrix}getViewMatrix(){return this.viewMatrix}getViewMatrixUncentered(){return this.viewMatrix}getViewProjectionMatrix(){return this.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(e,r){return this.viewport.projectFlat(e,r)}}const cL=["id","style","rotation"],EC={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},QM=12;class qM extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"version","GLOBEL"),(0,me.Z)(this,"dragging",!1),(0,me.Z)(this,"viewport",void 0),(0,me.Z)(this,"handleCameraChanging",void 0),(0,me.Z)(this,"handleCameraTimer",void 0),(0,me.Z)(this,"handleCameraChanged",r=>{this.emit("mapchange");const u=2e3;this.handleCameraChanging=!0,this.handleCameraTimer&&clearTimeout(this.handleCameraTimer),this.handleCameraTimer=setTimeout(()=>{this.handleCameraChanging=!1},u);const d=.02;r.type&&r.originalEvent&&(r.originalEvent.type==="wheel"&&this.viewport.scaleZoom(.01*Math.sign(r.originalEvent.wheelDelta)*-1),Math.abs(r.originalEvent.movementX)>Math.abs(r.originalEvent.movementY)?r.originalEvent.movementX>0?this.viewport.rotateY(d):r.originalEvent.movementX<0&&this.viewport.rotateY(-d):r.originalEvent.movementY>0?this.viewport.rotateX(d):r.originalEvent.movementY<0&&this.viewport.rotateX(-d));const{offsetCoordinate:h=!0}=this.config;this.viewport.syncWithMapCamera({viewportHeight:this.map.transform.height,viewportWidth:this.map.transform.width}),this.viewport.getZoom()>QM&&h?this.coordinateSystemService.setCoordinateSystem(Ki.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(Ki.LNGLAT),this.cameraChangedCallback(this.viewport)})}lngLatToMercator(e,r){throw new Error("Method not implemented.")}getModelMatrix(e,r,u,d,h){throw new Error("Method not implemented.")}on(e,r){Su.indexOf(e)!==-1?this.eventEmitter.on(e,r):this.map.on(EC[e]||e,r)}off(e,r){this.map.off(EC[e]||e,r),this.eventEmitter.off(e,r)}getMapCanvasContainer(){return this.map.getCanvasContainer()}getSize(){const e=this.map.transform;return[e.width,e.height]}getType(){return"earth"}init(){var e=this;return(0,Ba.Z)(function*(){const r=e.config,{id:u="map",style:d="light",rotation:h=0}=r,y=(0,Xh.Z)(r,cL);e.viewport=new OT,e.$mapContainer=e.creatMapContainer(u),e.map=new x2((0,Ir.Z)({container:e.$mapContainer,bearing:h},y)),e.map.on("load",e.handleCameraChanged),e.map.on("move",e.handleCameraChanged),e.handleCameraChanged({})})()}destroy(){var e;(e=this.$mapContainer)===null||e===void 0||(e=e.parentNode)===null||e===void 0||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...r){this.eventEmitter.emit(e,...r)}once(e,...r){this.eventEmitter.once(e,...r)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){}onCameraChanged(e){this.cameraChangedCallback=e}rotateY(e){const{force:r=!1,reg:u=.01}=e||{};this.handleCameraChanging&&!r||this.viewport&&(this.viewport.rotateY(u),this.viewport.syncWithMapCamera({viewportHeight:this.map.transform.height,viewportWidth:this.map.transform.width}),this.cameraChangedCallback(this.viewport))}}class wT extends vg{getServiceConstructor(){return qM}}if(!window)throw Error("Google Map JSAPI can only be used in Browser.");var jg=function(t){return t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed",t}(jg||{});const MT={key:""};let dv={GMap:jg.notload};const RT=[],JM=t=>{if(typeof t=="function"){if(dv.GMap===jg.loaded){t(window.google.maps.Map);return}RT.push(t)}};var eR={load:t=>new Promise((e,r)=>{if(dv.GMap===jg.failed)r("");else if(dv.GMap===jg.notload){const{key:u}=t;if(!u){r("\u8BF7\u586B\u5199key");return}MT.key=u,dv.GMap=jg.loading,window.initMap=y=>{if(delete window.initMap,y)dv.GMap=jg.failed,r(y);else for(dv.GMap=jg.loaded;RT.length;)RT.splice(0,1)[0](window.google.maps.Map)};const d=document.createElement("script");d.type="text/javascript",d.async=!1,d.src=`https://maps.googleapis.com/maps/api/js?key=${MT.key}&callback=initMap`,d.onerror=y=>{dv.GMap=jg.failed,r(y)},(document.body||document.head).appendChild(d),JM(e)}else if(dv.GMap===jg.loaded){if(t.key&&t.key!==MT.key){r("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}JM(e)}}),reset:()=>{delete window.google,dv={GMap:jg.notload}}};const tR=["id","mapInstance","center","token","minZoom","maxZoom","logoVisible"];function dL(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}dL(`img[src*='//mapapi.qq.com/web/jsapi/logo/logo_def.png'],.logo-text
{
  display: none !important;
}
`);const hL="AIzaSyDBDCfl4pvuDtaazdCog3LmhA7CQLhmcRE",y_={mapmove:"center_changed",camerachange:["drag","pan","rotate","tilt","zoom_changed"],zoomchange:"zoom_changed",dragging:"drag"};class PT extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"viewport",null),(0,me.Z)(this,"evtCbProxyMap",new Map),(0,me.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");const r=this.map,{lng:u,lat:d}=r.getCenter(),h={center:[u(),d()],viewportHeight:r.getDiv().clientHeight,viewportWidth:r.getDiv().clientWidth,bearing:r.getHeading(),pitch:r.getTilt(),zoom:r.getZoom()-1};this.viewport.syncWithMapCamera(h),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)})}init(){var e=this;return(0,Ba.Z)(function*(){var r;e.viewport=new av;const u=e.config,{id:d,mapInstance:h,center:y=[121.30654632240122,31.25744185633306],token:M=hL,minZoom:U=3,maxZoom:re=18,logoVisible:Ee=!0}=u,Ae=(0,Xh.Z)(u,tR);if((r=window.google)!==null&&r!==void 0&&(r=r.maps)!==null&&r!==void 0&&r.Map||h||(yield eR.load({key:M})),h)e.map=h,e.$mapContainer=e.map.getDiv(),Ee===!1&&e.hideLogo();else{if(!d)throw Error("No container id specified");const We=hs(d),Ht=new google.maps.Map(We,(0,Ir.Z)({maxZoom:re,minZoom:U,zoomControl:!1,fullscreenControl:!1,center:new google.maps.LatLng(y[1],y[0])},Ae));e.map=Ht,e.$mapContainer=Ht.getDiv(),Ee===!1&&e.hideLogo()}google.maps.event.addListener(e.map,"drag",e.handleCameraChanged),google.maps.event.addListener(e.map,"pan",e.handleCameraChanged),google.maps.event.addListener(e.map,"rotate",e.handleCameraChanged),google.maps.event.addListener(e.map,"idle",e.handleCameraChanged),google.maps.event.addListener(e.map,"zoom_changed",e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){this.map.setMap(null)}onCameraChanged(e){this.cameraChangedCallback=e}addMarkerContainer(){}getMarkerContainer(){return this.markerContainer}getCanvasOverlays(){return this.map.getDiv()}on(e,r){if(Su.indexOf(e)!==-1)this.eventEmitter.on(e,r);else{const u=d=>{let h=this.evtCbProxyMap.get(d);if(h||this.evtCbProxyMap.set(d,h=new Map),h.get(r))return;const y=(...M)=>{M[0]&&typeof M[0]=="object"&&!M[0].lngLat&&!M[0].lnglat&&(M[0].lngLat=M[0].latlng||M[0].latLng),r(...M)};h.set(r,y),this.map.on(d,y)};Array.isArray(y_[e])?y_[e].forEach(d=>{u(d||e)}):u(y_[e]||e)}}off(e,r){if(Su.indexOf(e)!==-1){this.eventEmitter.off(e,r);return}const u=d=>{var h,y;const M=(h=this.evtCbProxyMap.get(e))===null||h===void 0?void 0:h.get(r);M&&((y=this.evtCbProxyMap.get(d))===null||y===void 0||y.delete(r),this.map.off(d,M))};Array.isArray(y_[e])?y_[e].forEach(d=>{u(d||e)}):u(y_[e]||e)}once(){throw new Error("Method not implemented.")}getContainer(){return this.map.getDiv()}getSize(){return[this.map.width,this.map.height]}getMinZoom(){return this.map.transform._minZoom}getMaxZoom(){return this.map.transform._maxZoom}getType(){return"googlemap"}getZoom(){return this.map.getZoom()}getCenter(){const{lng:e,lat:r}=this.map.getCenter();return{lng:e(),lat:r()}}getPitch(){return this.map.getTilt()}getRotation(){return this.map.getHeading()}getBounds(){const e=this.map.getBounds(),r=e==null?void 0:e.getNorthEast(),u=e==null?void 0:e.getSouthWest();return[[u.lng(),u.lat()],[r.lng(),r.lat()]]}getMapContainer(){return this.map.getDiv()}getMapCanvasContainer(){var e;return(e=this.map.getDiv())===null||e===void 0?void 0:e.getElementsByTagName("canvas")[0]}getMapStyleConfig(){throw new Error("Method not implemented.")}setBgColor(e){this.bgColor=e}setMapStyle(e){this.map.setMapStyleId(e)}setRotation(e){this.map.setHeading(e)}zoomIn(){const e=this.map.getZoom();this.map.setZoom(e+1)}zoomOut(){const e=this.map.getZoom();this.map.setZoom(e-1)}panTo([e,r]){this.map.panTo({lat:r,lng:e})}panBy(e,r){this.map.panBy(e,r)}fitBounds(e,r){const[u,d]=e,h=new google.maps.LatLngBounds({lat:u[1],lng:u[0]},{lat:d[1],lng:d[0]});this.map.fitBounds(h,r)}setZoomAndCenter(e,[r,u]){this.map.setZoom(e),this.map.setCenter({lat:u,lng:r})}setCenter([e,r]){this.map.setCenter({lat:r,lng:e})}setPitch(e){this.map.setTilt(e)}setZoom(e){this.map.setZoom(e)}setMapStatus(e){Object.keys(e).map(r=>{switch(r){case"doubleClickZoom":this.map.setOptions({gestureHandling:e.doubleClickZoom?"auto":"none"});break;case"dragEnable":this.map.setOptions({draggable:e.dragEnable});break;case"rotateEnable":break;case"zoomEnable":this.map.setOptions({zoomControl:e.zoomEnable});break;case"keyboardEnable":case"resizeEnable":case"showIndoorMap":throw Error("Options may not be supported");default:}})}meterToCoord([e,r],[u,d]){const h=google.maps.geometry.spherical.computeDistanceBetween([new google.maps.LatLng(r,e),new google.maps.LatLng(d,u)]),[y,M]=this.lngLatToCoord([e,r]),[U,re]=this.lngLatToCoord([u,d]);return Math.sqrt(Math.pow(y-U,2)+Math.pow(M-re,2))/h}pixelToLngLat([e,r]){const{lng:u,lat:d}=this.map.getCenter(),{x:h,y}=this.lngLatToPixel([u(),d()]),{x:M,y:U}=this.lngLatToContainer([u(),d()]),{lng:re,lat:Ee}=this.map.unprojectFromContainer(new google.maps.Point(M+(e-h),U+(r-y)));return this.containerToLngLat([re,Ee])}lngLatToPixel([e,r]){const u=new google.maps.LatLng(r,e),d=this.map.getProjection().fromLatLngToPoint(u);return{x:d.x,y:d.y}}containerToLngLat([e,r]){var u;const d=new google.maps.Point(e,r),h=(u=this.map.getProjection())===null||u===void 0?void 0:u.fromPointToLatLng(d);return{lng:h.lng(),lat:h.lat()}}lngLatToContainer([e,r]){var u,d;const h=new google.maps.LatLng(r,e),y=(u=this.map.getProjection())===null||u===void 0||(d=u.fromLatLngToContainerPixel)===null||d===void 0?void 0:d.call(u,h);return{x:y.x,y:y.y}}lngLatToCoord([e,r]){const{x:u,y:d}=this.lngLatToPixel([e,r]);return[u,-d]}lngLatToCoords(e){return e.map(r=>Array.isArray(r[0])?this.lngLatToCoords(r):this.lngLatToCoord(r))}lngLatToMercator(e,r){const{x:u=0,y:d=0,z:h=0}=bg.fromLngLat(e,r);return{x:u,y:d,z:h}}getModelMatrix(e,r,u,d=[1,1,1]){const h=this.viewport.projectFlat(e),y=qo.create();return qo.translate(y,y,Ju.al(h[0],h[1],r)),qo.scale(y,y,Ju.al(d[0],d[1],d[2])),qo.rotateX(y,y,u[0]),qo.rotateY(y,y,u[1]),qo.rotateZ(y,y,u[2]),y}getCustomCoordCenter(){throw new Error("Method not implemented.")}exportMap(e){const r=this.getMapCanvasContainer();return e==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}rotateY(){throw new Error("Method not implemented.")}hideLogo(){const e=this.map.getDiv();e&&Xs(e,"tmap-contianer--hide-logo")}}class IT extends vg{getServiceConstructor(){return PT}}const nR=["id","style","rotation","mapInstance","version","mapSize","interactive"];class rR extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"version",tC.DEFAULT),(0,me.Z)(this,"viewport",void 0)}lngLatToCoord(e,r={x:0,y:0,z:0}){const{x:u,y:d}=this.lngLatToMercator(e,0);return[u-r.x,d-r.y]}lngLatToMercator(e,r){const{x:u=0,y:d=0,z:h=0}=bg.fromLngLat(e,r);return{x:u,y:d,z:h}}getModelMatrix(e,r,u,d=[1,1,1],h={x:0,y:0,z:0}){const y=bg.fromLngLat(e,r),M=y.meterInMercatorCoordinateUnits(),U=qo.create();return qo.translate(U,U,Ju.al(y.x-h.x,y.y-h.y,y.z||0-h.z)),qo.scale(U,U,Ju.al(M*d[0],-M*d[1],M*d[2])),qo.rotateX(U,U,u[0]),qo.rotateY(U,U,u[1]),qo.rotateZ(U,U,u[2]),U}init(){var e=this;return(0,Ba.Z)(function*(){const r=e.config,{id:u="map",style:d="light",rotation:h=0,mapInstance:y,version:M="DEFAULTMAP",mapSize:U=1e4,interactive:re=!0}=r,Ee=(0,Xh.Z)(r,nR);e.viewport=new av,e.version=M,e.simpleMapCoord.setSize(U),M==="SIMPLE"&&Ee.center&&(Ee.center=e.simpleMapCoord.unproject(Ee.center)),y?(e.map=y,e.$mapContainer=e.map.getContainer()):(e.$mapContainer=e.creatMapContainer(u),e.map=new x2((0,Ir.Z)({container:e.$mapContainer,bearing:h},Ee))),e.map.on("load",()=>{e.handleCameraChanged()}),re&&e.map.on("move",e.handleCameraChanged),setTimeout(()=>{e.handleCameraChanged()},100),e.handleCameraChanged()})()}creatMapContainer(e){let r=e;typeof e=="string"&&(r=document.getElementById(e));const u=document.createElement("div");return u.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,r.appendChild(u),u}exportMap(e){return""}setMapStyle(e){}getCanvasOverlays(){return this.getContainer()}}class xC extends vg{getServiceConstructor(){return rR}}var T2=A(43026),q1=A.n(T2);const LT=["id","attributionControl","style","token","rotation","mapInstance"];function TC(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}TC(`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`),window.mapboxgl=q1();let NT=0;const DT="101MlGsZ2AmmA&access_token=pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg";class SC extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"version","MAPBOX"),(0,me.Z)(this,"viewport",void 0)}getType(){return"mapbox"}lngLatToCoord(e,r={x:0,y:0,z:0}){const{x:u,y:d}=this.lngLatToMercator(e,0);return[u-r.x,d-r.y]}lngLatToMercator(e,r){const{x:u=0,y:d=0,z:h=0}=window.mapboxgl.MercatorCoordinate.fromLngLat(e,r);return{x:u,y:d,z:h}}getModelMatrix(e,r,u,d=[1,1,1],h={x:0,y:0,z:0}){const y=window.mapboxgl.MercatorCoordinate.fromLngLat(e,r),M=y.meterInMercatorCoordinateUnits(),U=qo.create();return qo.translate(U,U,Ju.al(y.x-h.x,y.y-h.y,y.z||0-h.z)),qo.scale(U,U,Ju.al(M*d[0],-M*d[1],M*d[2])),qo.rotateX(U,U,u[0]),qo.rotateY(U,U,u[1]),qo.rotateZ(U,U,u[2]),U}init(){var e=this;return(0,Ba.Z)(function*(){const r=e.config,{id:u="map",attributionControl:d=!1,style:h="light",token:y=DT,rotation:M=0,mapInstance:U}=r,re=(0,Xh.Z)(r,LT);e.viewport=new av,!U&&!window.mapboxgl&&console.error(e.configService.getSceneWarninfo("SDK")),y===DT&&h!=="blank"&&!window.mapboxgl.accessToken&&!U&&console.warn(e.configService.getSceneWarninfo("MapToken")),!U&&!window.mapboxgl.accessToken&&(window.mapboxgl.accessToken=y),U?(e.map=U,e.$mapContainer=e.map.getContainer()):(e.$mapContainer=e.creatMapContainer(u),e.map=new window.mapboxgl.Map((0,Ir.Z)({container:e.$mapContainer,style:e.getMapStyleValue(h),attributionControl:d,bearing:M},re))),e.map.on("load",()=>{e.handleCameraChanged()}),e.map.on("move",e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){var e;(e=this.$mapContainer)===null||e===void 0||(e=e.parentNode)===null||e===void 0||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...r){this.eventEmitter.emit(e,...r)}once(e,...r){this.eventEmitter.once(e,...r)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){var e;return(e=this.getMapContainer())===null||e===void 0?void 0:e.querySelector(".mapboxgl-canvas-container")}meterToCoord(e,r){const u=new(q1()).LngLat(e[0],e[1]),d=new(q1()).LngLat(r[0],r[1]),h=u.distanceTo(d),y=q1().MercatorCoordinate.fromLngLat({lng:e[0],lat:e[1]}),M=q1().MercatorCoordinate.fromLngLat({lng:r[0],lat:r[1]}),{x:U,y:re}=y,{x:Ee,y:Ae}=M;return Math.sqrt(Math.pow(U-Ee,2)+Math.pow(re-Ae,2))*4194304*2/h}exportMap(e){const r=this.map.getCanvas();return e==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}creatMapContainer(e){let r=e;typeof e=="string"&&(r=document.getElementById(e));const u=document.createElement("div");return u.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,u.id="l7_mapbox_div"+NT++,r.appendChild(u),u}}function pL(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}pL(`.mapboxgl-ctrl-logo {
  display: none !important;
}
`);class gL extends vg{getServiceConstructor(){return SC}}var iR=A(53156),S2=A.n(iR);const mL=["id","attributionControl","style","rotation","mapInstance"];function vL(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}vL(`.maplibregl-map{-webkit-tap-highlight-color:rgb(0 0 0/0);font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:-moz-full-screen{height:100%;width:100%}.maplibregl-map:-ms-fullscreen{height:100%;width:100%}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (-ms-high-contrast:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8h-8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8h-8z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8h-8z'/%3E%3Cpath fill='%23999' d='m10.5 16 4 8 4-8h-8z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8h-8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8h-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1 9-9z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{-webkit-animation:maplibregl-spin 2s linear infinite;animation:maplibregl-spin 2s linear infinite}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1 9-9z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1 9-9z'/%3E%3C/svg%3E")}}@-webkit-keyframes maplibregl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes maplibregl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.255 1.255 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.255 1.255 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5.11 5.11 0 0 1 .314-.787l.009-.016a4.623 4.623 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.548 4.548 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4.314.319.566.676.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.416 2.416 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.448 2.448 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675c.211.2.381.43.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.76 4.76 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.407 3.407 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.255 1.255 0 0 1 .689 1.004 4.73 4.73 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528 0 .343-.02.694-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.815 5.815 0 0 1-.548-2.512c0-.286.017-.567.053-.843a1.255 1.255 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.778 4.778 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.47 4.47 0 0 1-1.935-.424 1.252 1.252 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.402 2.402 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.703 4.703 0 0 1-1.782 1.884 4.767 4.767 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.47 4.47 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a4.983 4.983 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.255 1.255 0 0 1-1.115.676h-.098a1.255 1.255 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15c.329-.237.574-.499.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267c-.088-.22-.264-.438-.526-.658l-.032-.028a3.16 3.16 0 0 0-.668-.428l-.27-.12a3.293 3.293 0 0 0-1.235-.23c-.757 0-1.415.163-1.974.493a3.36 3.36 0 0 0-1.3 1.382c-.297.593-.444 1.284-.444 2.074 0 .8.17 1.503.51 2.107a3.795 3.795 0 0 0 1.382 1.381 3.883 3.883 0 0 0 1.893.477c.53 0 1.015-.11 1.455-.33zm-2.789-5.38c-.384.45-.575 1.038-.575 1.762 0 .735.186 1.332.559 1.794.384.45.933.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.17 2.17 0 0 0 .468-.29l.178-.161a2.163 2.163 0 0 0 .397-.561c.163-.333.244-.717.244-1.15v-.115c0-.472-.098-.894-.296-1.267l-.043-.077a2.211 2.211 0 0 0-.633-.709l-.13-.086-.047-.028a2.099 2.099 0 0 0-1.073-.285c-.702 0-1.244.231-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.958.958 0 0 0-.353-.389.851.851 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.626 2.626 0 0 0 .331.423c.213.22.464.402.755.548l.173.074c.433.17.93.255 1.49.255.68 0 1.295-.165 1.844-.493a3.447 3.447 0 0 0 1.316-1.4c.329-.603.493-1.299.493-2.089 0-1.273-.33-2.243-.988-2.913-.658-.68-1.52-1.02-2.584-1.02-.598 0-1.124.115-1.575.347a2.807 2.807 0 0 0-.415.262l-.199.166a3.35 3.35 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138c.137.193.297.36.48.5l.155.11.053.034c.34.197.713.297 1.119.297.714 0 1.262-.225 1.645-.675.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.29 0-.569.053-.835.16a2.366 2.366 0 0 0-.284.136 1.99 1.99 0 0 0-.363.254 2.237 2.237 0 0 0-.46.569l-.082.162a2.56 2.56 0 0 0-.213 1.072v.115c0 .471.098.894.296 1.267l.135.211zm.964-.818a1.11 1.11 0 0 0 .367.385.937.937 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a.995.995 0 0 0-.503.135l-.012.007a.859.859 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.43 1.43 0 0 0 .14.66zm15.7-6.222c.232-.23.346-.516.346-.856a1.053 1.053 0 0 0-.345-.79 1.175 1.175 0 0 0-.84-.329c-.34 0-.625.11-.855.33a1.053 1.053 0 0 0-.346.79c0 .34.115.625.346.855.23.23.516.346.856.346.34 0 .62-.115.839-.346zm4.337 9.314.033-1.332c.128.269.324.518.59.747l.098.081a3.727 3.727 0 0 0 .316.224l.223.122a3.21 3.21 0 0 0 1.44.322 3.785 3.785 0 0 0 1.875-.477 3.52 3.52 0 0 0 1.382-1.366c.352-.593.526-1.29.526-2.09 0-.79-.147-1.48-.444-2.073a3.235 3.235 0 0 0-1.283-1.399c-.549-.34-1.195-.51-1.942-.51a3.476 3.476 0 0 0-1.527.344l-.086.043-.165.09a3.412 3.412 0 0 0-.33.214c-.288.21-.507.446-.656.707a1.893 1.893 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.482 2.482 0 0 0 .566.7c.078.065.159.125.245.18l.144.08a2.105 2.105 0 0 0 .975.232c.713 0 1.262-.225 1.645-.675.384-.46.576-1.053.576-1.778 0-.734-.192-1.327-.576-1.777-.373-.46-.921-.692-1.645-.692a2.18 2.18 0 0 0-1.015.235c-.147.075-.285.17-.415.282l-.15.142a2.086 2.086 0 0 0-.42.594c-.149.32-.223.685-.223 1.1v.115c0 .47.097.89.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.868.868 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.13 1.13 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013c.23-.087.472-.134.724-.14l.069-.002c.329 0 .542.033.642.099l.247-1.794c-.13-.066-.37-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2.086 2.086 0 0 0-.411.148 2.18 2.18 0 0 0-.4.249 2.482 2.482 0 0 0-.485.499 2.659 2.659 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884c0-.364.053-.678.159-.943a1.49 1.49 0 0 1 .466-.636 2.52 2.52 0 0 1 .399-.253 2.19 2.19 0 0 1 .224-.099zm9.784 2.656.05-.922c0-1.162-.285-2.062-.856-2.698-.559-.647-1.42-.97-2.584-.97-.746 0-1.415.163-2.007.493a3.462 3.462 0 0 0-1.4 1.382c-.329.604-.493 1.306-.493 2.106 0 .714.143 1.371.428 1.975.285.593.73 1.07 1.332 1.432.604.351 1.355.526 2.255.526.649 0 1.204-.062 1.668-.185l.044-.012.135-.04c.409-.122.736-.263.984-.421l-.542-1.267c-.2.108-.415.199-.642.274l-.297.087c-.34.088-.773.131-1.3.131-.636 0-1.135-.147-1.497-.444a1.573 1.573 0 0 1-.192-.193c-.244-.294-.415-.705-.512-1.234l-.004-.021h5.43zm-5.427-1.256-.003.022h3.752v-.138c-.007-.485-.104-.857-.288-1.118a1.056 1.056 0 0 0-.156-.176c-.307-.285-.746-.428-1.316-.428-.657 0-1.155.202-1.494.604-.253.3-.417.712-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81c-.68 0-1.311-.16-1.893-.478a3.795 3.795 0 0 1-1.381-1.382c-.34-.604-.51-1.306-.51-2.106 0-.79.147-1.482.444-2.074a3.364 3.364 0 0 1 1.3-1.382c.559-.33 1.217-.494 1.974-.494a3.293 3.293 0 0 1 1.234.231 3.341 3.341 0 0 1 .97.575c.264.22.44.439.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332c-.186.395-.526.746-1.02 1.053a3.167 3.167 0 0 1-1.662.444zm.296-1.482c.626 0 1.152-.214 1.58-.642.428-.44.642-1.01.642-1.711v-.115c0-.472-.098-.894-.296-1.267a2.211 2.211 0 0 0-.807-.872 2.098 2.098 0 0 0-1.119-.313c-.702 0-1.245.231-1.629.692-.384.45-.575 1.037-.575 1.76 0 .736.186 1.333.559 1.795.384.45.933.675 1.645.675zm6.521-6.237h1.711v1.4c.604-1.065 1.547-1.597 2.83-1.597 1.064 0 1.926.34 2.584 1.02.659.67.988 1.641.988 2.914 0 .79-.164 1.487-.493 2.09a3.456 3.456 0 0 1-1.316 1.399 3.51 3.51 0 0 1-1.844.493c-.636 0-1.19-.11-1.662-.329a2.665 2.665 0 0 1-1.086-.97l.017 5.134h-1.728V9.242zm4.048 6.22c.714 0 1.262-.224 1.645-.674.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.395 0-.768.098-1.12.296-.34.187-.613.46-.822.823-.197.351-.296.763-.296 1.234v.115c0 .472.098.894.296 1.267.209.362.483.647.823.855.34.197.713.297 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.159 1.159 0 0 1-.856-.346 1.165 1.165 0 0 1-.346-.856 1.053 1.053 0 0 1 .346-.79c.23-.219.516-.329.856-.329.329 0 .609.11.839.33a1.053 1.053 0 0 1 .345.79 1.159 1.159 0 0 1-.345.855c-.22.23-.5.346-.84.346zm7.875 9.133a3.167 3.167 0 0 1-1.662-.444c-.482-.307-.817-.658-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283c.186-.438.548-.812 1.086-1.119a3.486 3.486 0 0 1 1.778-.477c.746 0 1.393.17 1.942.51a3.235 3.235 0 0 1 1.283 1.4c.297.592.444 1.282.444 2.072 0 .8-.175 1.498-.526 2.09a3.52 3.52 0 0 1-1.382 1.366 3.785 3.785 0 0 1-1.876.477zm-.296-1.481c.713 0 1.26-.225 1.645-.675.384-.46.577-1.053.577-1.778 0-.734-.193-1.327-.577-1.776-.373-.46-.921-.692-1.645-.692a2.115 2.115 0 0 0-1.58.659c-.428.428-.642.992-.642 1.694v.115c0 .473.098.895.296 1.267a2.385 2.385 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481c.176-.505.46-.91.856-1.217a2.14 2.14 0 0 1 1.349-.46c.351 0 .593.032.724.098l-.247 1.794c-.099-.066-.313-.099-.642-.099-.516 0-.988.164-1.416.494-.417.329-.626.855-.626 1.58v3.883h-1.777V9.242zm9.534 7.718c-.9 0-1.651-.175-2.255-.526-.603-.362-1.047-.84-1.332-1.432a4.567 4.567 0 0 1-.428-1.975c0-.8.164-1.502.493-2.106a3.462 3.462 0 0 1 1.4-1.382c.592-.33 1.262-.494 2.007-.494 1.163 0 2.024.324 2.584.97.57.637.856 1.537.856 2.7 0 .296-.017.603-.05.92h-5.43c.12.67.356 1.153.708 1.45.362.296.86.443 1.497.443.526 0 .96-.044 1.3-.131a4.123 4.123 0 0 0 .938-.362l.542 1.267c-.274.175-.647.329-1.119.46-.472.132-1.042.197-1.711.197zm1.596-4.558c.01-.68-.137-1.158-.444-1.432-.307-.285-.746-.428-1.316-.428-1.152 0-1.815.62-1.991 1.86h3.752z'/%3E%3Cg fill-rule='evenodd' stroke-width='1.036'%3E%3Cpath fill='%23000' fill-opacity='.4' d='m8.166 16.146-.002.002a1.54 1.54 0 0 1-2.009 0l-.002-.002-.043-.034-.002-.002-.199-.162H4.377a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659H8.411l-.202.164zm-1.121-.905a.29.29 0 0 0 .113.023.286.286 0 0 0 .189-.07l.077-.063c.634-.508 4.672-3.743 4.672-7.575 0-2.55-2.215-4.625-4.938-4.625S2.221 5.006 2.221 7.556c0 3.225 2.86 6.027 4.144 7.137h.004l.04.038.484.4.077.063a.628.628 0 0 0 .074.047zm-2.52-.548a16.898 16.898 0 0 1-1.183-1.315C2.187 11.942.967 9.897.967 7.555c0-3.319 2.855-5.88 6.192-5.88 3.338 0 6.193 2.561 6.193 5.881 0 2.34-1.22 4.387-2.376 5.822a16.898 16.898 0 0 1-1.182 1.315h.15a1.912 1.912 0 0 1 1.914 1.914v1.84a1.912 1.912 0 0 1-1.914 1.914H4.377a1.912 1.912 0 0 1-1.914-1.914v-1.84a1.912 1.912 0 0 1 1.914-1.914zm3.82-6.935c0 .692-.55 1.222-1.187 1.222s-1.185-.529-1.185-1.222.548-1.222 1.185-1.222c.638 0 1.186.529 1.186 1.222zm-1.186 2.477c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477zm2.048 7.71H5.114v-.838h4.093z'/%3E%3Cpath fill='%23e1e3e9' d='M2.222 7.555c0-2.55 2.214-4.625 4.937-4.625 2.723 0 4.938 2.075 4.938 4.625 0 3.832-4.038 7.068-4.672 7.575l-.077.063a.286.286 0 0 1-.189.07.286.286 0 0 1-.188-.07l-.077-.063c-.634-.507-4.672-3.743-4.672-7.575zm4.937 2.68c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477z'/%3E%3Cpath fill='%23fff' d='M4.377 15.948a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659zm4.83 1.16H5.114v.838h4.093z'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (-ms-high-contrast:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.255 1.255 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.255 1.255 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5.11 5.11 0 0 1 .314-.787l.009-.016a4.623 4.623 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.548 4.548 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4.314.319.566.676.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.416 2.416 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.448 2.448 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675c.211.2.381.43.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.76 4.76 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.407 3.407 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.255 1.255 0 0 1 .689 1.004 4.73 4.73 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528 0 .343-.02.694-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.815 5.815 0 0 1-.548-2.512c0-.286.017-.567.053-.843a1.255 1.255 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.778 4.778 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.47 4.47 0 0 1-1.935-.424 1.252 1.252 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.402 2.402 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.703 4.703 0 0 1-1.782 1.884 4.767 4.767 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.47 4.47 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a4.983 4.983 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.255 1.255 0 0 1-1.115.676h-.098a1.255 1.255 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15c.329-.237.574-.499.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267c-.088-.22-.264-.438-.526-.658l-.032-.028a3.16 3.16 0 0 0-.668-.428l-.27-.12a3.293 3.293 0 0 0-1.235-.23c-.757 0-1.415.163-1.974.493a3.36 3.36 0 0 0-1.3 1.382c-.297.593-.444 1.284-.444 2.074 0 .8.17 1.503.51 2.107a3.795 3.795 0 0 0 1.382 1.381 3.883 3.883 0 0 0 1.893.477c.53 0 1.015-.11 1.455-.33zm-2.789-5.38c-.384.45-.575 1.038-.575 1.762 0 .735.186 1.332.559 1.794.384.45.933.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.17 2.17 0 0 0 .468-.29l.178-.161a2.163 2.163 0 0 0 .397-.561c.163-.333.244-.717.244-1.15v-.115c0-.472-.098-.894-.296-1.267l-.043-.077a2.211 2.211 0 0 0-.633-.709l-.13-.086-.047-.028a2.099 2.099 0 0 0-1.073-.285c-.702 0-1.244.231-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.958.958 0 0 0-.353-.389.851.851 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.626 2.626 0 0 0 .331.423c.213.22.464.402.755.548l.173.074c.433.17.93.255 1.49.255.68 0 1.295-.165 1.844-.493a3.447 3.447 0 0 0 1.316-1.4c.329-.603.493-1.299.493-2.089 0-1.273-.33-2.243-.988-2.913-.658-.68-1.52-1.02-2.584-1.02-.598 0-1.124.115-1.575.347a2.807 2.807 0 0 0-.415.262l-.199.166a3.35 3.35 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138c.137.193.297.36.48.5l.155.11.053.034c.34.197.713.297 1.119.297.714 0 1.262-.225 1.645-.675.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.29 0-.569.053-.835.16a2.366 2.366 0 0 0-.284.136 1.99 1.99 0 0 0-.363.254 2.237 2.237 0 0 0-.46.569l-.082.162a2.56 2.56 0 0 0-.213 1.072v.115c0 .471.098.894.296 1.267l.135.211zm.964-.818a1.11 1.11 0 0 0 .367.385.937.937 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a.995.995 0 0 0-.503.135l-.012.007a.859.859 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.43 1.43 0 0 0 .14.66zm15.7-6.222c.232-.23.346-.516.346-.856a1.053 1.053 0 0 0-.345-.79 1.175 1.175 0 0 0-.84-.329c-.34 0-.625.11-.855.33a1.053 1.053 0 0 0-.346.79c0 .34.115.625.346.855.23.23.516.346.856.346.34 0 .62-.115.839-.346zm4.337 9.314.033-1.332c.128.269.324.518.59.747l.098.081a3.727 3.727 0 0 0 .316.224l.223.122a3.21 3.21 0 0 0 1.44.322 3.785 3.785 0 0 0 1.875-.477 3.52 3.52 0 0 0 1.382-1.366c.352-.593.526-1.29.526-2.09 0-.79-.147-1.48-.444-2.073a3.235 3.235 0 0 0-1.283-1.399c-.549-.34-1.195-.51-1.942-.51a3.476 3.476 0 0 0-1.527.344l-.086.043-.165.09a3.412 3.412 0 0 0-.33.214c-.288.21-.507.446-.656.707a1.893 1.893 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.482 2.482 0 0 0 .566.7c.078.065.159.125.245.18l.144.08a2.105 2.105 0 0 0 .975.232c.713 0 1.262-.225 1.645-.675.384-.46.576-1.053.576-1.778 0-.734-.192-1.327-.576-1.777-.373-.46-.921-.692-1.645-.692a2.18 2.18 0 0 0-1.015.235c-.147.075-.285.17-.415.282l-.15.142a2.086 2.086 0 0 0-.42.594c-.149.32-.223.685-.223 1.1v.115c0 .47.097.89.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.868.868 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.13 1.13 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013c.23-.087.472-.134.724-.14l.069-.002c.329 0 .542.033.642.099l.247-1.794c-.13-.066-.37-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2.086 2.086 0 0 0-.411.148 2.18 2.18 0 0 0-.4.249 2.482 2.482 0 0 0-.485.499 2.659 2.659 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884c0-.364.053-.678.159-.943a1.49 1.49 0 0 1 .466-.636 2.52 2.52 0 0 1 .399-.253 2.19 2.19 0 0 1 .224-.099zm9.784 2.656.05-.922c0-1.162-.285-2.062-.856-2.698-.559-.647-1.42-.97-2.584-.97-.746 0-1.415.163-2.007.493a3.462 3.462 0 0 0-1.4 1.382c-.329.604-.493 1.306-.493 2.106 0 .714.143 1.371.428 1.975.285.593.73 1.07 1.332 1.432.604.351 1.355.526 2.255.526.649 0 1.204-.062 1.668-.185l.044-.012.135-.04c.409-.122.736-.263.984-.421l-.542-1.267c-.2.108-.415.199-.642.274l-.297.087c-.34.088-.773.131-1.3.131-.636 0-1.135-.147-1.497-.444a1.573 1.573 0 0 1-.192-.193c-.244-.294-.415-.705-.512-1.234l-.004-.021h5.43zm-5.427-1.256-.003.022h3.752v-.138c-.007-.485-.104-.857-.288-1.118a1.056 1.056 0 0 0-.156-.176c-.307-.285-.746-.428-1.316-.428-.657 0-1.155.202-1.494.604-.253.3-.417.712-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81c-.68 0-1.311-.16-1.893-.478a3.795 3.795 0 0 1-1.381-1.382c-.34-.604-.51-1.306-.51-2.106 0-.79.147-1.482.444-2.074a3.364 3.364 0 0 1 1.3-1.382c.559-.33 1.217-.494 1.974-.494a3.293 3.293 0 0 1 1.234.231 3.341 3.341 0 0 1 .97.575c.264.22.44.439.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332c-.186.395-.526.746-1.02 1.053a3.167 3.167 0 0 1-1.662.444zm.296-1.482c.626 0 1.152-.214 1.58-.642.428-.44.642-1.01.642-1.711v-.115c0-.472-.098-.894-.296-1.267a2.211 2.211 0 0 0-.807-.872 2.098 2.098 0 0 0-1.119-.313c-.702 0-1.245.231-1.629.692-.384.45-.575 1.037-.575 1.76 0 .736.186 1.333.559 1.795.384.45.933.675 1.645.675zm6.521-6.237h1.711v1.4c.604-1.065 1.547-1.597 2.83-1.597 1.064 0 1.926.34 2.584 1.02.659.67.988 1.641.988 2.914 0 .79-.164 1.487-.493 2.09a3.456 3.456 0 0 1-1.316 1.399 3.51 3.51 0 0 1-1.844.493c-.636 0-1.19-.11-1.662-.329a2.665 2.665 0 0 1-1.086-.97l.017 5.134h-1.728V9.242zm4.048 6.22c.714 0 1.262-.224 1.645-.674.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.395 0-.768.098-1.12.296-.34.187-.613.46-.822.823-.197.351-.296.763-.296 1.234v.115c0 .472.098.894.296 1.267.209.362.483.647.823.855.34.197.713.297 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.159 1.159 0 0 1-.856-.346 1.165 1.165 0 0 1-.346-.856 1.053 1.053 0 0 1 .346-.79c.23-.219.516-.329.856-.329.329 0 .609.11.839.33a1.053 1.053 0 0 1 .345.79 1.159 1.159 0 0 1-.345.855c-.22.23-.5.346-.84.346zm7.875 9.133a3.167 3.167 0 0 1-1.662-.444c-.482-.307-.817-.658-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283c.186-.438.548-.812 1.086-1.119a3.486 3.486 0 0 1 1.778-.477c.746 0 1.393.17 1.942.51a3.235 3.235 0 0 1 1.283 1.4c.297.592.444 1.282.444 2.072 0 .8-.175 1.498-.526 2.09a3.52 3.52 0 0 1-1.382 1.366 3.785 3.785 0 0 1-1.876.477zm-.296-1.481c.713 0 1.26-.225 1.645-.675.384-.46.577-1.053.577-1.778 0-.734-.193-1.327-.577-1.776-.373-.46-.921-.692-1.645-.692a2.115 2.115 0 0 0-1.58.659c-.428.428-.642.992-.642 1.694v.115c0 .473.098.895.296 1.267a2.385 2.385 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481c.176-.505.46-.91.856-1.217a2.14 2.14 0 0 1 1.349-.46c.351 0 .593.032.724.098l-.247 1.794c-.099-.066-.313-.099-.642-.099-.516 0-.988.164-1.416.494-.417.329-.626.855-.626 1.58v3.883h-1.777V9.242zm9.534 7.718c-.9 0-1.651-.175-2.255-.526-.603-.362-1.047-.84-1.332-1.432a4.567 4.567 0 0 1-.428-1.975c0-.8.164-1.502.493-2.106a3.462 3.462 0 0 1 1.4-1.382c.592-.33 1.262-.494 2.007-.494 1.163 0 2.024.324 2.584.97.57.637.856 1.537.856 2.7 0 .296-.017.603-.05.92h-5.43c.12.67.356 1.153.708 1.45.362.296.86.443 1.497.443.526 0 .96-.044 1.3-.131a4.123 4.123 0 0 0 .938-.362l.542 1.267c-.274.175-.647.329-1.119.46-.472.132-1.042.197-1.711.197zm1.596-4.558c.01-.68-.137-1.158-.444-1.432-.307-.285-.746-.428-1.316-.428-1.152 0-1.815.62-1.991 1.86h3.752z'/%3E%3Cg fill-rule='evenodd' stroke-width='1.036'%3E%3Cpath fill='%23000' fill-opacity='.4' d='m8.166 16.146-.002.002a1.54 1.54 0 0 1-2.009 0l-.002-.002-.043-.034-.002-.002-.199-.162H4.377a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659H8.411l-.202.164zm-1.121-.905a.29.29 0 0 0 .113.023.286.286 0 0 0 .189-.07l.077-.063c.634-.508 4.672-3.743 4.672-7.575 0-2.55-2.215-4.625-4.938-4.625S2.221 5.006 2.221 7.556c0 3.225 2.86 6.027 4.144 7.137h.004l.04.038.484.4.077.063a.628.628 0 0 0 .074.047zm-2.52-.548a16.898 16.898 0 0 1-1.183-1.315C2.187 11.942.967 9.897.967 7.555c0-3.319 2.855-5.88 6.192-5.88 3.338 0 6.193 2.561 6.193 5.881 0 2.34-1.22 4.387-2.376 5.822a16.898 16.898 0 0 1-1.182 1.315h.15a1.912 1.912 0 0 1 1.914 1.914v1.84a1.912 1.912 0 0 1-1.914 1.914H4.377a1.912 1.912 0 0 1-1.914-1.914v-1.84a1.912 1.912 0 0 1 1.914-1.914zm3.82-6.935c0 .692-.55 1.222-1.187 1.222s-1.185-.529-1.185-1.222.548-1.222 1.185-1.222c.638 0 1.186.529 1.186 1.222zm-1.186 2.477c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477zm2.048 7.71H5.114v-.838h4.093z'/%3E%3Cpath fill='%23e1e3e9' d='M2.222 7.555c0-2.55 2.214-4.625 4.937-4.625 2.723 0 4.938 2.075 4.938 4.625 0 3.832-4.038 7.068-4.672 7.575l-.077.063a.286.286 0 0 1-.189.07.286.286 0 0 1-.188-.07l-.077-.063c-.634-.507-4.672-3.743-4.672-7.575zm4.937 2.68c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477z'/%3E%3Cpath fill='%23fff' d='M4.377 15.948a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659zm4.83 1.16H5.114v.838h4.093z'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.255 1.255 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.255 1.255 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5.11 5.11 0 0 1 .314-.787l.009-.016a4.623 4.623 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.548 4.548 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4.314.319.566.676.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.416 2.416 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.448 2.448 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675c.211.2.381.43.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.76 4.76 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.407 3.407 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.255 1.255 0 0 1 .689 1.004 4.73 4.73 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528 0 .343-.02.694-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.815 5.815 0 0 1-.548-2.512c0-.286.017-.567.053-.843a1.255 1.255 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.778 4.778 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.47 4.47 0 0 1-1.935-.424 1.252 1.252 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.402 2.402 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.703 4.703 0 0 1-1.782 1.884 4.767 4.767 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.47 4.47 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a4.983 4.983 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.255 1.255 0 0 1-1.115.676h-.098a1.255 1.255 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15c.329-.237.574-.499.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267c-.088-.22-.264-.438-.526-.658l-.032-.028a3.16 3.16 0 0 0-.668-.428l-.27-.12a3.293 3.293 0 0 0-1.235-.23c-.757 0-1.415.163-1.974.493a3.36 3.36 0 0 0-1.3 1.382c-.297.593-.444 1.284-.444 2.074 0 .8.17 1.503.51 2.107a3.795 3.795 0 0 0 1.382 1.381 3.883 3.883 0 0 0 1.893.477c.53 0 1.015-.11 1.455-.33zm-2.789-5.38c-.384.45-.575 1.038-.575 1.762 0 .735.186 1.332.559 1.794.384.45.933.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.17 2.17 0 0 0 .468-.29l.178-.161a2.163 2.163 0 0 0 .397-.561c.163-.333.244-.717.244-1.15v-.115c0-.472-.098-.894-.296-1.267l-.043-.077a2.211 2.211 0 0 0-.633-.709l-.13-.086-.047-.028a2.099 2.099 0 0 0-1.073-.285c-.702 0-1.244.231-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.958.958 0 0 0-.353-.389.851.851 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.626 2.626 0 0 0 .331.423c.213.22.464.402.755.548l.173.074c.433.17.93.255 1.49.255.68 0 1.295-.165 1.844-.493a3.447 3.447 0 0 0 1.316-1.4c.329-.603.493-1.299.493-2.089 0-1.273-.33-2.243-.988-2.913-.658-.68-1.52-1.02-2.584-1.02-.598 0-1.124.115-1.575.347a2.807 2.807 0 0 0-.415.262l-.199.166a3.35 3.35 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138c.137.193.297.36.48.5l.155.11.053.034c.34.197.713.297 1.119.297.714 0 1.262-.225 1.645-.675.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.29 0-.569.053-.835.16a2.366 2.366 0 0 0-.284.136 1.99 1.99 0 0 0-.363.254 2.237 2.237 0 0 0-.46.569l-.082.162a2.56 2.56 0 0 0-.213 1.072v.115c0 .471.098.894.296 1.267l.135.211zm.964-.818a1.11 1.11 0 0 0 .367.385.937.937 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a.995.995 0 0 0-.503.135l-.012.007a.859.859 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.43 1.43 0 0 0 .14.66zm15.7-6.222c.232-.23.346-.516.346-.856a1.053 1.053 0 0 0-.345-.79 1.175 1.175 0 0 0-.84-.329c-.34 0-.625.11-.855.33a1.053 1.053 0 0 0-.346.79c0 .34.115.625.346.855.23.23.516.346.856.346.34 0 .62-.115.839-.346zm4.337 9.314.033-1.332c.128.269.324.518.59.747l.098.081a3.727 3.727 0 0 0 .316.224l.223.122a3.21 3.21 0 0 0 1.44.322 3.785 3.785 0 0 0 1.875-.477 3.52 3.52 0 0 0 1.382-1.366c.352-.593.526-1.29.526-2.09 0-.79-.147-1.48-.444-2.073a3.235 3.235 0 0 0-1.283-1.399c-.549-.34-1.195-.51-1.942-.51a3.476 3.476 0 0 0-1.527.344l-.086.043-.165.09a3.412 3.412 0 0 0-.33.214c-.288.21-.507.446-.656.707a1.893 1.893 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.482 2.482 0 0 0 .566.7c.078.065.159.125.245.18l.144.08a2.105 2.105 0 0 0 .975.232c.713 0 1.262-.225 1.645-.675.384-.46.576-1.053.576-1.778 0-.734-.192-1.327-.576-1.777-.373-.46-.921-.692-1.645-.692a2.18 2.18 0 0 0-1.015.235c-.147.075-.285.17-.415.282l-.15.142a2.086 2.086 0 0 0-.42.594c-.149.32-.223.685-.223 1.1v.115c0 .47.097.89.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.868.868 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.13 1.13 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013c.23-.087.472-.134.724-.14l.069-.002c.329 0 .542.033.642.099l.247-1.794c-.13-.066-.37-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2.086 2.086 0 0 0-.411.148 2.18 2.18 0 0 0-.4.249 2.482 2.482 0 0 0-.485.499 2.659 2.659 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884c0-.364.053-.678.159-.943a1.49 1.49 0 0 1 .466-.636 2.52 2.52 0 0 1 .399-.253 2.19 2.19 0 0 1 .224-.099zm9.784 2.656.05-.922c0-1.162-.285-2.062-.856-2.698-.559-.647-1.42-.97-2.584-.97-.746 0-1.415.163-2.007.493a3.462 3.462 0 0 0-1.4 1.382c-.329.604-.493 1.306-.493 2.106 0 .714.143 1.371.428 1.975.285.593.73 1.07 1.332 1.432.604.351 1.355.526 2.255.526.649 0 1.204-.062 1.668-.185l.044-.012.135-.04c.409-.122.736-.263.984-.421l-.542-1.267c-.2.108-.415.199-.642.274l-.297.087c-.34.088-.773.131-1.3.131-.636 0-1.135-.147-1.497-.444a1.573 1.573 0 0 1-.192-.193c-.244-.294-.415-.705-.512-1.234l-.004-.021h5.43zm-5.427-1.256-.003.022h3.752v-.138c-.007-.485-.104-.857-.288-1.118a1.056 1.056 0 0 0-.156-.176c-.307-.285-.746-.428-1.316-.428-.657 0-1.155.202-1.494.604-.253.3-.417.712-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81c-.68 0-1.311-.16-1.893-.478a3.795 3.795 0 0 1-1.381-1.382c-.34-.604-.51-1.306-.51-2.106 0-.79.147-1.482.444-2.074a3.364 3.364 0 0 1 1.3-1.382c.559-.33 1.217-.494 1.974-.494a3.293 3.293 0 0 1 1.234.231 3.341 3.341 0 0 1 .97.575c.264.22.44.439.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332c-.186.395-.526.746-1.02 1.053a3.167 3.167 0 0 1-1.662.444zm.296-1.482c.626 0 1.152-.214 1.58-.642.428-.44.642-1.01.642-1.711v-.115c0-.472-.098-.894-.296-1.267a2.211 2.211 0 0 0-.807-.872 2.098 2.098 0 0 0-1.119-.313c-.702 0-1.245.231-1.629.692-.384.45-.575 1.037-.575 1.76 0 .736.186 1.333.559 1.795.384.45.933.675 1.645.675zm6.521-6.237h1.711v1.4c.604-1.065 1.547-1.597 2.83-1.597 1.064 0 1.926.34 2.584 1.02.659.67.988 1.641.988 2.914 0 .79-.164 1.487-.493 2.09a3.456 3.456 0 0 1-1.316 1.399 3.51 3.51 0 0 1-1.844.493c-.636 0-1.19-.11-1.662-.329a2.665 2.665 0 0 1-1.086-.97l.017 5.134h-1.728V9.242zm4.048 6.22c.714 0 1.262-.224 1.645-.674.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.395 0-.768.098-1.12.296-.34.187-.613.46-.822.823-.197.351-.296.763-.296 1.234v.115c0 .472.098.894.296 1.267.209.362.483.647.823.855.34.197.713.297 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.159 1.159 0 0 1-.856-.346 1.165 1.165 0 0 1-.346-.856 1.053 1.053 0 0 1 .346-.79c.23-.219.516-.329.856-.329.329 0 .609.11.839.33a1.053 1.053 0 0 1 .345.79 1.159 1.159 0 0 1-.345.855c-.22.23-.5.346-.84.346zm7.875 9.133a3.167 3.167 0 0 1-1.662-.444c-.482-.307-.817-.658-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283c.186-.438.548-.812 1.086-1.119a3.486 3.486 0 0 1 1.778-.477c.746 0 1.393.17 1.942.51a3.235 3.235 0 0 1 1.283 1.4c.297.592.444 1.282.444 2.072 0 .8-.175 1.498-.526 2.09a3.52 3.52 0 0 1-1.382 1.366 3.785 3.785 0 0 1-1.876.477zm-.296-1.481c.713 0 1.26-.225 1.645-.675.384-.46.577-1.053.577-1.778 0-.734-.193-1.327-.577-1.776-.373-.46-.921-.692-1.645-.692a2.115 2.115 0 0 0-1.58.659c-.428.428-.642.992-.642 1.694v.115c0 .473.098.895.296 1.267a2.385 2.385 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481c.176-.505.46-.91.856-1.217a2.14 2.14 0 0 1 1.349-.46c.351 0 .593.032.724.098l-.247 1.794c-.099-.066-.313-.099-.642-.099-.516 0-.988.164-1.416.494-.417.329-.626.855-.626 1.58v3.883h-1.777V9.242zm9.534 7.718c-.9 0-1.651-.175-2.255-.526-.603-.362-1.047-.84-1.332-1.432a4.567 4.567 0 0 1-.428-1.975c0-.8.164-1.502.493-2.106a3.462 3.462 0 0 1 1.4-1.382c.592-.33 1.262-.494 2.007-.494 1.163 0 2.024.324 2.584.97.57.637.856 1.537.856 2.7 0 .296-.017.603-.05.92h-5.43c.12.67.356 1.153.708 1.45.362.296.86.443 1.497.443.526 0 .96-.044 1.3-.131a4.123 4.123 0 0 0 .938-.362l.542 1.267c-.274.175-.647.329-1.119.46-.472.132-1.042.197-1.711.197zm1.596-4.558c.01-.68-.137-1.158-.444-1.432-.307-.285-.746-.428-1.316-.428-1.152 0-1.815.62-1.991 1.86h3.752z'/%3E%3Cg fill-rule='evenodd' stroke-width='1.036'%3E%3Cpath fill='%23000' fill-opacity='.4' d='m8.166 16.146-.002.002a1.54 1.54 0 0 1-2.009 0l-.002-.002-.043-.034-.002-.002-.199-.162H4.377a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659H8.411l-.202.164zm-1.121-.905a.29.29 0 0 0 .113.023.286.286 0 0 0 .189-.07l.077-.063c.634-.508 4.672-3.743 4.672-7.575 0-2.55-2.215-4.625-4.938-4.625S2.221 5.006 2.221 7.556c0 3.225 2.86 6.027 4.144 7.137h.004l.04.038.484.4.077.063a.628.628 0 0 0 .074.047zm-2.52-.548a16.898 16.898 0 0 1-1.183-1.315C2.187 11.942.967 9.897.967 7.555c0-3.319 2.855-5.88 6.192-5.88 3.338 0 6.193 2.561 6.193 5.881 0 2.34-1.22 4.387-2.376 5.822a16.898 16.898 0 0 1-1.182 1.315h.15a1.912 1.912 0 0 1 1.914 1.914v1.84a1.912 1.912 0 0 1-1.914 1.914H4.377a1.912 1.912 0 0 1-1.914-1.914v-1.84a1.912 1.912 0 0 1 1.914-1.914zm3.82-6.935c0 .692-.55 1.222-1.187 1.222s-1.185-.529-1.185-1.222.548-1.222 1.185-1.222c.638 0 1.186.529 1.186 1.222zm-1.186 2.477c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477zm2.048 7.71H5.114v-.838h4.093z'/%3E%3Cpath fill='%23e1e3e9' d='M2.222 7.555c0-2.55 2.214-4.625 4.937-4.625 2.723 0 4.938 2.075 4.938 4.625 0 3.832-4.038 7.068-4.672 7.575l-.077.063a.286.286 0 0 1-.189.07.286.286 0 0 1-.188-.07l-.077-.063c-.634-.507-4.672-3.743-4.672-7.575zm4.937 2.68c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477z'/%3E%3Cpath fill='%23fff' d='M4.377 15.948a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659zm4.83 1.16H5.114v.838h4.093z'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{-webkit-animation:maplibregl-user-location-dot-pulse 2s infinite;animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@-webkit-keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}70%{opacity:0;-webkit-transform:scale(3);transform:scale(3)}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}70%{opacity:0;-webkit-transform:scale(3);transform:scale(3)}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`),window.maplibregl=S2();let aR=0;class yL extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"version",tC.MAPBOX),(0,me.Z)(this,"viewport",void 0)}getType(){return"mapbox"}lngLatToCoord(e,r={x:0,y:0,z:0}){const{x:u,y:d}=this.lngLatToMercator(e,0);return[u-r.x,d-r.y]}lngLatToMercator(e,r){const{x:u=0,y:d=0,z:h=0}=window.maplibregl.MercatorCoordinate.fromLngLat(e,r);return{x:u,y:d,z:h}}getModelMatrix(e,r,u,d=[1,1,1],h={x:0,y:0,z:0}){const y=window.maplibregl.MercatorCoordinate.fromLngLat(e,r),M=y.meterInMercatorCoordinateUnits(),U=qo.create();return qo.translate(U,U,Ju.al(y.x-h.x,y.y-h.y,y.z||0-h.z)),qo.scale(U,U,Ju.al(M*d[0],-M*d[1],M*d[2])),qo.rotateX(U,U,u[0]),qo.rotateY(U,U,u[1]),qo.rotateZ(U,U,u[2]),U}init(){var e=this;return(0,Ba.Z)(function*(){const r=e.config,{id:u="map",attributionControl:d=!1,style:h="light",rotation:y=0,mapInstance:M}=r,U=(0,Xh.Z)(r,mL);e.viewport=new av,!M&&!window.maplibregl&&console.error(e.configService.getSceneWarninfo("SDK")),M?(e.map=M,e.$mapContainer=e.map.getContainer()):(e.$mapContainer=e.creatMapContainer(u),e.map=new window.maplibregl.Map((0,Ir.Z)({container:e.$mapContainer,style:e.getMapStyleValue(h),attributionControl:d,bearing:y},U))),e.map.on("load",()=>{e.handleCameraChanged()}),e.map.on("move",e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){var e;(e=this.$mapContainer)===null||e===void 0||(e=e.parentNode)===null||e===void 0||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...r){this.eventEmitter.emit(e,...r)}once(e,...r){this.eventEmitter.once(e,...r)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){var e;return(e=this.getMapContainer())===null||e===void 0?void 0:e.querySelector(".maplibregl-canvas-container")}meterToCoord(e,r){const u=new(S2()).LngLat(e[0],e[1]),d=new(S2()).LngLat(r[0],r[1]),h=u.distanceTo(d),y=S2().MercatorCoordinate.fromLngLat({lng:e[0],lat:e[1]}),M=S2().MercatorCoordinate.fromLngLat({lng:r[0],lat:r[1]}),{x:U,y:re}=y,{x:Ee,y:Ae}=M;return Math.sqrt(Math.pow(U-Ee,2)+Math.pow(re-Ae,2))*4194304*2/h}exportMap(e){const r=this.map.getCanvas();return e==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}creatMapContainer(e){let r=e;typeof e=="string"&&(r=document.getElementById(e));const u=document.createElement("div");return u.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,u.id="l7_mapbox_div"+aR++,r.appendChild(u),u}}class _L extends vg{getServiceConstructor(){return yL}}const bL=t=>{const{tk:e}=t;return new Promise(r=>{const u=document.createElement("script");u.type="text/javascript",u.src=`https://api.tianditu.gov.cn/api?v=4.0&tk=${e}`,u.onload=function(){console.log("TianDiTu API script loaded."),r(!0)},u.onerror=function(){console.error("Failed to load TianDiTu API script."),r(!1)},document.head.appendChild(u)})},EL=()=>{};let oR=0;const Nx={zoomchange:["Ge"]};class xL extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"viewport",null),(0,me.Z)(this,"evtCbProxyMap",new Map),(0,me.Z)(this,"sceneContainer",void 0),(0,me.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");const r=this.map,{lng:u,lat:d}=this.map.getCenter(),h={center:[u,d],viewportHeight:r.getContainer().clientHeight,viewportWidth:r.getContainer().clientWidth,bearing:360,pitch:0,zoom:r.getZoom()-1};this.viewport&&(this.viewport.syncWithMapCamera(h),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport))})}addMarkerContainer(){const e=this.map.getContainer(),r=this.markerContainer=document.createElement("div");e.appendChild(r),r.setAttribute("tabindex","-1"),r.id="tdt-L7-marker",r.style.position="absolute",r.style.left="",r.style.top="",r.style.zIndex="600",r.style.width="0px",r.style.height="0px",r.style.overflow="visible"}getMarkerContainer(){return this.markerContainer}onCameraChanged(e){this.cameraChangedCallback=e}resize(e){this.sceneContainer.style.width=e.newSize.x+"px",this.sceneContainer.style.height=e.newSize.y+"px"}update(){const e=this.map.getBounds(),{x:r,y:u}=this.map.lngLatToLayerPoint({lng:e.getSouthWest().lng,lat:e.getNorthEast().lat});this.sceneContainer.style.transition="",this.sceneContainer.style.transformOrigin="center",this.sceneContainer.style.transform=`translate3d(${r}px, ${u}px, 0px) scale(1)`,this.markerContainer.style.transition="",this.markerContainer.style.transformOrigin="center",this.markerContainer.style.transform=`translate3d(${-r}px, ${-u}px, 0px) scale(1)`,this.sceneContainer._tdt_pos=new T.Point(r,u),this.handleCameraChanged()}getZoomScale(e,r){const u=this.map.options.IW;return r=r===void 0?this.map.getZoom():r,u.scale(e)/u.scale(r)}zoomStartUpdate(e){const r=e.center,u=e.zoom,d=this.getZoomScale(u,this.map.getZoom()),h=T._Q.getPosition(this.sceneContainer),y=this.map.getSize().GQ(.5),M=this.map.options.IW.qW(this.map.getCenter(),u),re=this.map.options.IW.qW(r,u).DQ(M),Ee=new T.Point(y.x,y.y).GQ(-d);Ee.aQ(h),Ee.aQ(y),Ee.DQ(re),this.sceneContainer.style.transform=`translate3d(${Ee.x}px,${Ee.y}px,0px) scale(${d})`,this.sceneContainer.style.transformOrigin="0 0",this.sceneContainer.style.transition="transform 0.25s cubic-bezier(0,0,0.25,1)",this.handleCameraChanged()}getOverlayContainer(){var e;const r=(e=this.map.getPanes())===null||e===void 0?void 0:e.overlayPane,u=document.createElement("div");r.parentElement.appendChild(u),u.id="tdt-L7";const d=this.map.getSize();return u.style.zIndex="200",u.style.width=`${d.x}px`,u.style.height=`${d.y}px`,this.sceneContainer=u,u}init(){var e=this;return(0,Ba.Z)(function*(){e.viewport=new av;const{id:r,mapInstance:u,center:d=[121.30654632240122,31.25744185633306],token:h="b15e548080c79819617367d3f6095c69",minZoom:y=1,maxZoom:M=18,zoom:U=3}=e.config;if(window.T||(yield bL({tk:h})),u){e.map=u,e.map.centerAndZoom(new window.T.LngLat(d[0],d[1]),U),e.$mapContainer=e.map.getContainer();const Ae=new window.T.LngLat(d[0],d[1]);e.map.centerAndZoom(Ae,U),e.setMinZoom(y),e.setMaxZoom(M)}else{if(!r)throw Error("No container id specified");e.$mapContainer=e.creatMapContainer(r);const Ae=new T.Map(e.$mapContainer,{center:window.T.LngLat(d[0],d[1]),minZoom:y,maxZoom:M,zoom:U,projection:"EPSG:900913"});e.map=Ae;const We=new window.T.Control.Zoom;Ae.addControl(We)}const Ee=e.map.getContainer().querySelector(".tdt-pane");Ee.style.zIndex=1,e.handleCameraChanged(),e.map.on("move",e.update,e),e.map.on("Ge",e.zoomStartUpdate,e),e.map.on("resize",e.resize,e)})()}destroy(){}on(e,r){if(Su.indexOf(e)!==-1)this.eventEmitter.on(e,r);else{const u=d=>{let h=this.evtCbProxyMap.get(d);if(h||this.evtCbProxyMap.set(d,h=new Map),h.get(r))return;const y=(...M)=>{M[0]&&typeof M[0]=="object"&&!M[0].lngLat&&!M[0].lnglat&&(M[0].lngLat=M[0].latlng||M[0].latLng,M[0].map=this.map),r(...M)};h.set(r,y),this.map.on(d,y)};Array.isArray(Nx[e])?Nx[e].forEach(d=>{u(d||e)}):u(Nx[e]||e)}}off(e,r){if(Su.indexOf(e)!==-1){this.eventEmitter.off(e,r);return}const u=d=>{var h,y;const M=(h=this.evtCbProxyMap.get(e))===null||h===void 0?void 0:h.get(r);M&&((y=this.evtCbProxyMap.get(d))===null||y===void 0||y.delete(r),this.map.off(d,M))};Array.isArray(Nx[e])?Nx[e].forEach(d=>{u(d||e)}):u(Nx[e]||e)}once(e,r){throw new Error("Method not implemented.")}getMapContainer(){return this.map.getContainer()}getType(){return"tdtmap"}getMapCanvasContainer(){var e;return(e=this.map.getContainer())===null||e===void 0?void 0:e.getElementsByClassName("tdt-container")[0]}getSize(){const e=this.map.getSize();return[e.x,e.y]}getZoom(){return this.map.getZoom()}setZoom(e){return this.map.setZoom(e)}getCenter(){return this.map.getCenter()}setCenter(e){const r=window.T.LngLat(e[0],e[1]);this.map.centerAndZoom(r,this.map.getZoom())}setZoomAndCenter(e,r){const u=window.T.LngLat(r[0],r[1]);this.map.centerAndZoom(u,e)}getPitch(){return 0}getRotation(){return 0}setRotation(e){this.map.setBearing(e)}zoomIn(e,r){this.map.zoomIn(e,r)}zoomOut(e,r){this.map.zoomOut(e,r)}panTo(e){this.map.panTo(e)}panBy(e=0,r=0){this.map.panBy([e,r])}fitBounds(e){const[r,u]=e;this.map.setViewport([new window.T.LngLat(r[0],r[1]),new window.T.LngLat(u[0],u[1])])}setMaxZoom(e){this.map.setMaxZoom(e)}setMinZoom(e){this.map.setMinZoom(e)}setMapStatus(e){e.doubleClickZoom===!0&&this.map.enableDoubleClickZoom(),e.doubleClickZoom===!1&&this.map.disableDoubleClickZoom(),e.dragEnable===!1&&this.map.disableDrag(),e.dragEnable===!0&&this.map.enableDrag(),e.keyboardEnable===!1&&this.map.disableKeyboard(),e.keyboardEnable===!0&&this.map.enableKeyboard(),e.zoomEnable===!1&&this.map.disableScrollWheelZoom(),e.zoomEnable===!0&&this.map.enableScrollWheelZoom()}getModelMatrix(){throw new Error("Method not implemented.")}pixelToLngLat([e,r]){const u=this.map.layerPointToLngLat({x:e,y:r});return{lng:u.lng,lat:u.lat}}lngLatToPixel([e,r]){const u=this.map.lngLatToLayerPoint({lng:e,lat:r});return{x:u.x,y:u.y}}containerToLngLat([e,r]){const u=this.map.containerPointToLngLat({x:e,y:r});return{lng:u.lng,lat:u.lat}}lngLatToContainer([e,r]){const u=this.map.lngLatToContainerPoint({lat:r,lng:e});return{x:u.x,y:u.y}}lngLatToCoord([e,r]){const u=this.lngLatToPixel([e,r]);return[u.x,u.y]}lngLatToCoords(e){return e.map(r=>Array.isArray(r[0])?this.lngLatToCoords(r):this.lngLatToCoord(r))}getBounds(){const e=this.map.getBounds(),r=e.getSouthWest(),u=e.getNorthEast();return[[r.lng,r.lat],[u.lng,u.lat]]}lngLatToMercator(e,r){const{x:u=0,y:d=0,z:h=0}=bg.fromLngLat(e,r);return{x:u,y:d,z:h}}getCustomCoordCenter(){throw new Error("Method not implemented.")}creatMapContainer(e){let r=e;typeof e=="string"&&(r=document.getElementById(e));const u=document.createElement("div");return u.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,u.id="l7_tdt_div"+oR++,r.appendChild(u),u}}class TL extends vg{getServiceConstructor(){return xL}}if(!window)throw Error("TMap JSAPI can only be used in Browser.");var jp=function(t){return t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed",t}(jp||{});const Hg={key:"",version:"1.exp",libraries:[]};let hv={TMap:jp.notload};const Dx=[],kT=t=>{if(typeof t=="function"){if(hv.TMap===jp.loaded){t(window.TMap);return}Dx.push(t)}};var sR={load:t=>new Promise((e,r)=>{if(hv.TMap===jp.failed)r("");else if(hv.TMap===jp.notload){const{key:u,version:d,libraries:h}=t;if(!u){r("\u8BF7\u586B\u5199key");return}Hg.key=u,Hg.version=d||Hg.version,Hg.libraries=h||Hg.libraries,hv.TMap=jp.loading,window._onTMapAPILoaded=U=>{if(delete window._onTMapAPILoaded,U)hv.TMap=jp.failed,r(U);else for(hv.TMap=jp.loaded;Dx.length;)Dx.splice(0,1)[0](window.TMap)};const y=document.createElement("script");y.type="text/javascript",y.async=!1,y.src="https://map.qq.com/api/gljs?callback=_onTMapAPILoaded&v="+Hg.version+"&key="+u+"&plugin="+Hg.libraries.join(","),y.onerror=U=>{hv.TMap=jp.failed,r(U)},(document.body||document.head).appendChild(y),kT(e)}else if(hv.TMap===jp.loaded){if(t.key&&t.key!==Hg.key){r("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(t.version&&t.version!==Hg.version){r("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}kT(e)}}),reset:()=>{delete window.TMap,hv={TMap:jp.notload}}};const uR=["id","mapInstance","center","token","version","libraries","minZoom","maxZoom","rotation","pitch","mapSize","logoVisible"];function CL(t,e){var r=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,u=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(r||u)&&(e||(e=document),!!e)){var d=e.head||e.getElementsByTagName("head")[0];if(!d){d=e.createElement("head");var h=e.body||e.getElementsByTagName("body")[0];h?h.parentNode.insertBefore(d,h):e.documentElement.appendChild(d)}var y=e.createElement("style");return y.type="text/css",y.styleSheet?y.styleSheet.cssText=t:y.appendChild(e.createTextNode(t)),d.appendChild(y),y}}CL(`img[src*='//mapapi.qq.com/web/jsapi/logo/logo_def.png'],.logo-text
{
  display: none !important;
}

.tencent-map > canvas + div {
  z-index: 3 !important;
}
`);const xD="OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77",kx="1.exp",J1={mapmove:"center_changed",camerachange:["drag","pan","rotate","pitch","zoom"],zoomchange:"zoom",dragging:"drag"};class AC extends Hh{constructor(...e){super(...e),(0,me.Z)(this,"viewport",null),(0,me.Z)(this,"evtCbProxyMap",new Map),(0,me.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");const r=this.map,{lng:u,lat:d}=r.getCenter(),h={center:[u,d],viewportHeight:r.getContainer().clientHeight,viewportWidth:r.getContainer().clientWidth,bearing:r.getHeading(),pitch:r.getPitch(),zoom:r.getZoom()-1};this.viewport.syncWithMapCamera(h),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)})}init(){var e=this;return(0,Ba.Z)(function*(){var r;e.viewport=new av;const u=e.config,{id:d,mapInstance:h,center:y=[121.30654632240122,31.25744185633306],token:M=xD,version:U=kx,libraries:re=[],minZoom:Ee=3,maxZoom:Ae=18,rotation:We=0,pitch:Ht=0,mapSize:Tn=1e4,logoVisible:Fn=!0}=u,br=(0,Xh.Z)(u,uR);if(window.TMap||h||(yield sR.load({key:M,version:U,libraries:re})),h)e.map=h,e.$mapContainer=e.map.getContainer(),Fn===!1&&e.hideLogo();else{if(!d)throw Error("No container id specified");const Jr=hs(d),zi=new TMap.Map(Jr,(0,Ir.Z)({maxZoom:Ae,minZoom:Ee,rotation:We,pitch:Ht,showControl:!1,center:new TMap.LatLng(y[1],y[0])},br));e.map=zi,e.$mapContainer=zi.getContainer(),Fn===!1&&e.hideLogo()}e.map.canvasContainer.style.position="absolute",e.map.drawContainer.classList.add("tencent-map");const ei=(r=e.map.controlManager.controlContainer)===null||r===void 0?void 0:r.parentNode;ei&&(ei.style.zIndex=2),e.simpleMapCoord.setSize(Tn),e.map.on("drag",e.handleCameraChanged),e.map.on("pan",e.handleCameraChanged),e.map.on("rotate",e.handleCameraChanged),e.map.on("pitch",e.handleCameraChanged),e.map.on("zoom",e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){this.map.destroy()}onCameraChanged(e){this.cameraChangedCallback=e}addMarkerContainer(){const e=this.map.getContainer();this.markerContainer=as("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1"),this.markerContainer.style.zIndex="2"}getMarkerContainer(){return this.markerContainer}on(e,r){if(Su.indexOf(e)!==-1)this.eventEmitter.on(e,r);else{const u=d=>{let h=this.evtCbProxyMap.get(d);if(h||this.evtCbProxyMap.set(d,h=new Map),h.get(r))return;const y=(...M)=>{M[0]&&typeof M[0]=="object"&&!M[0].lngLat&&!M[0].lnglat&&(M[0].lngLat=M[0].latlng||M[0].latLng),r(...M)};h.set(r,y),this.map.on(d,y)};Array.isArray(J1[e])?J1[e].forEach(d=>{u(d||e)}):u(J1[e]||e)}}off(e,r){if(Su.indexOf(e)!==-1){this.eventEmitter.off(e,r);return}const u=d=>{var h,y;const M=(h=this.evtCbProxyMap.get(e))===null||h===void 0?void 0:h.get(r);M&&((y=this.evtCbProxyMap.get(d))===null||y===void 0||y.delete(r),this.map.off(d,M))};Array.isArray(J1[e])?J1[e].forEach(d=>{u(d||e)}):u(J1[e]||e)}once(){throw new Error("Method not implemented.")}getContainer(){return this.map.getContainer()}getSize(){return[this.map.width,this.map.height]}getMinZoom(){return this.map.transform._minZoom}getMaxZoom(){return this.map.transform._maxZoom}getType(){return"tmap"}getZoom(){return this.map.getZoom()}getCenter(){const{lng:e,lat:r}=this.map.getCenter();return{lng:e,lat:r}}getPitch(){return this.map.getPitch()}getRotation(){return this.map.getRotation()}getBounds(){const e=this.map.getBounds().getNorthEast(),r=this.map.getBounds().getSouthWest();return[[r.lng,r.lat],[e.lng,e.lat]]}getMapContainer(){return this.map.getContainer()}getMapCanvasContainer(){var e;return(e=this.map.getContainer())===null||e===void 0?void 0:e.getElementsByTagName("canvas")[0]}getCanvasOverlays(){var e;return(e=this.getMapCanvasContainer())===null||e===void 0||(e=e.nextSibling)===null||e===void 0?void 0:e.firstChild}getMapStyleConfig(){throw new Error("Method not implemented.")}setBgColor(e){this.bgColor=e}setMapStyle(e){this.map.setMapStyleId(e)}setRotation(e){this.map.setRotation(e)}zoomIn(){this.map.setZoom(this.getZoom()+1)}zoomOut(){this.map.setZoom(this.getZoom()-1)}panTo([e,r]){this.map.panTo(new TMap.LatLng(r,e))}panBy(e,r){this.map.panBy([e,r])}fitBounds(e,r){const[u,d]=e,h=new TMap.LatLng(u[1],u[0]),y=new TMap.LatLng(d[1],d[0]),M=new TMap.LatLngBounds(h,y);this.map.fitBounds(M,r)}setZoomAndCenter(e,[r,u]){this.map.setCenter(new TMap.LatLng(u,r)),this.map.setZoom(e)}setCenter([e,r]){this.map.setCenter(new TMap.LatLng(r,e))}setPitch(e){this.map.setPitch(e)}setZoom(e){this.map.setZoom(e)}setMapStatus(e){Object.keys(e).map(r=>{switch(r){case"doubleClickZoom":this.map.setDoubleClickZoom(!!e.doubleClickZoom);break;case"dragEnable":this.map.setDraggable(!!e.dragEnable);break;case"rotateEnable":this.map.setRotatable(!!e.rotateEnable);break;case"zoomEnable":this.map.setDoubleClickZoom(!!e.zoomEnable),this.map.setScrollable(!!e.zoomEnable);break;case"keyboardEnable":case"resizeEnable":case"showIndoorMap":throw Error("Options may bot be supported");default:}})}meterToCoord([e,r],[u,d]){const h=TMap.geometry.computeDistance([new TMap.LatLng(r,e),new TMap.LatLng(d,u)]),[y,M]=this.lngLatToCoord([e,r]),[U,re]=this.lngLatToCoord([u,d]);return Math.sqrt(Math.pow(y-U,2)+Math.pow(M-re,2))/h}pixelToLngLat([e,r]){const{lng:u,lat:d}=this.map.getCenter(),{x:h,y}=this.lngLatToPixel([u,d]),{x:M,y:U}=this.lngLatToContainer([u,d]),{lng:re,lat:Ee}=this.map.unprojectFromContainer(new TMap.Point(M+(e-h),U+(r-y)));return this.containerToLngLat([re,Ee])}lngLatToPixel([e,r]){const{x:u,y:d}=this.map.projectToWorldPlane(new TMap.LatLng(r,e));return{x:u,y:d}}containerToLngLat([e,r]){const{lng:u,lat:d}=this.map.unprojectFromContainer(new TMap.Point(e,r));return{lng:u,lat:d}}lngLatToContainer([e,r]){const{x:u,y:d}=this.map.projectToContainer(new TMap.LatLng(r,e));return{x:u,y:d}}lngLatToCoord([e,r]){const{x:u,y:d}=this.lngLatToPixel([e,r]);return[u,-d]}lngLatToCoords(e){return e.map(r=>Array.isArray(r[0])?this.lngLatToCoords(r):this.lngLatToCoord(r))}lngLatToMercator(e,r){const{x:u=0,y:d=0,z:h=0}=bg.fromLngLat(e,r);return{x:u,y:d,z:h}}getModelMatrix(e,r,u,d=[1,1,1]){const h=this.viewport.projectFlat(e),y=qo.create();return qo.translate(y,y,Ju.al(h[0],h[1],r)),qo.scale(y,y,Ju.al(d[0],d[1],d[2])),qo.rotateX(y,y,u[0]),qo.rotateY(y,y,u[1]),qo.rotateZ(y,y,u[2]),y}getCustomCoordCenter(){throw new Error("Method not implemented.")}exportMap(e){const r=this.getMapCanvasContainer();return e==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}rotateY(){throw new Error("Method not implemented.")}hideLogo(){const e=this.map.getContainer();e&&Xs(e,"tmap-contianer--hide-logo")}}class BT extends vg{getServiceConstructor(){return AC}}const CC=xx,OC=xx,wC=xx;var lR=A(79801),OL=A.n(lR),cR=class{constructor(t,e){const{buffer:r,offset:u,stride:d,normalized:h,size:y,divisor:M}=e;this.buffer=r,this.attribute={buffer:r.get(),offset:u||0,stride:d||0,normalized:h||!1,divisor:M||0},y&&(this.attribute.size=y)}get(){return this.attribute}updateBuffer(t){this.buffer.subData(t)}destroy(){this.buffer.destroy()}},wL={[kt.POINTS]:"points",[kt.LINES]:"lines",[kt.LINE_LOOP]:"line loop",[kt.LINE_STRIP]:"line strip",[kt.TRIANGLES]:"triangles",[kt.TRIANGLE_FAN]:"triangle fan",[kt.TRIANGLE_STRIP]:"triangle strip"},fR={[kt.STATIC_DRAW]:"static",[kt.DYNAMIC_DRAW]:"dynamic",[kt.STREAM_DRAW]:"stream"},MC={[kt.BYTE]:"int8",[kt.INT]:"int32",[kt.UNSIGNED_BYTE]:"uint8",[kt.UNSIGNED_SHORT]:"uint16",[kt.UNSIGNED_INT]:"uint32",[kt.FLOAT]:"float"},ML={[kt.ALPHA]:"alpha",[kt.LUMINANCE]:"luminance",[kt.LUMINANCE_ALPHA]:"luminance alpha",[kt.RGB]:"rgb",[kt.RGBA]:"rgba",[kt.RGBA4]:"rgba4",[kt.RGB5_A1]:"rgb5 a1",[kt.RGB565]:"rgb565",[kt.DEPTH_COMPONENT]:"depth",[kt.DEPTH_STENCIL]:"depth stencil"},RL={[kt.DONT_CARE]:"dont care",[kt.NICEST]:"nice",[kt.FASTEST]:"fast"},RC={[kt.NEAREST]:"nearest",[kt.LINEAR]:"linear",[kt.LINEAR_MIPMAP_LINEAR]:"mipmap",[kt.NEAREST_MIPMAP_LINEAR]:"nearest mipmap linear",[kt.LINEAR_MIPMAP_NEAREST]:"linear mipmap nearest",[kt.NEAREST_MIPMAP_NEAREST]:"nearest mipmap nearest"},vm={[kt.REPEAT]:"repeat",[kt.CLAMP_TO_EDGE]:"clamp",[kt.MIRRORED_REPEAT]:"mirror"},PC={[kt.NONE]:"none",[kt.BROWSER_DEFAULT_WEBGL]:"browser"},IC={[kt.NEVER]:"never",[kt.ALWAYS]:"always",[kt.LESS]:"less",[kt.LEQUAL]:"lequal",[kt.GREATER]:"greater",[kt.GEQUAL]:"gequal",[kt.EQUAL]:"equal",[kt.NOTEQUAL]:"notequal"},dR={[kt.FUNC_ADD]:"add",[kt.MIN_EXT]:"min",[kt.MAX_EXT]:"max",[kt.FUNC_SUBTRACT]:"subtract",[kt.FUNC_REVERSE_SUBTRACT]:"reverse subtract"},Bx={[kt.ZERO]:"zero",[kt.ONE]:"one",[kt.SRC_COLOR]:"src color",[kt.ONE_MINUS_SRC_COLOR]:"one minus src color",[kt.SRC_ALPHA]:"src alpha",[kt.ONE_MINUS_SRC_ALPHA]:"one minus src alpha",[kt.DST_COLOR]:"dst color",[kt.ONE_MINUS_DST_COLOR]:"one minus dst color",[kt.DST_ALPHA]:"dst alpha",[kt.ONE_MINUS_DST_ALPHA]:"one minus dst alpha",[kt.CONSTANT_COLOR]:"constant color",[kt.ONE_MINUS_CONSTANT_COLOR]:"one minus constant color",[kt.CONSTANT_ALPHA]:"constant alpha",[kt.ONE_MINUS_CONSTANT_ALPHA]:"one minus constant alpha",[kt.SRC_ALPHA_SATURATE]:"src alpha saturate"},FT={[kt.NEVER]:"never",[kt.ALWAYS]:"always",[kt.LESS]:"less",[kt.LEQUAL]:"lequal",[kt.GREATER]:"greater",[kt.GEQUAL]:"gequal",[kt.EQUAL]:"equal",[kt.NOTEQUAL]:"notequal"},__={[kt.ZERO]:"zero",[kt.KEEP]:"keep",[kt.REPLACE]:"replace",[kt.INVERT]:"invert",[kt.INCR]:"increment",[kt.DECR]:"decrement",[kt.INCR_WRAP]:"increment wrap",[kt.DECR_WRAP]:"decrement wrap"},PL={[kt.FRONT]:"front",[kt.BACK]:"back"},IL=class{constructor(t,e){this.isDestroyed=!1;const{data:r,usage:u,type:d}=e;this.buffer=t.buffer({data:r,usage:fR[u||kt.STATIC_DRAW],type:MC[d||kt.UNSIGNED_BYTE]})}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:t,offset:e}){this.buffer.subdata(t,e)}},hR=class{constructor(t,e){const{data:r,usage:u,type:d,count:h}=e;this.elements=t.elements({data:r,usage:fR[u||kt.STATIC_DRAW],type:MC[d||kt.UNSIGNED_BYTE],count:h})}get(){return this.elements}subData({data:t}){this.elements.subdata(t)}destroy(){}},Fx=class{constructor(t,e){const{width:r,height:u,color:d,colors:h}=e,y={width:r,height:u};Array.isArray(h)&&(y.colors=h.map(M=>M.get())),d&&typeof d!="boolean"&&(y.color=d.get()),this.framebuffer=t.framebuffer(y)}get(){return this.framebuffer}destroy(){this.framebuffer.destroy()}resize({width:t,height:e}){this.framebuffer.resize(t,e)}},tg=A(54663),A2=A(22355),LC=A(63777),Ns=A(15767),C2=A(73983),ci;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",t[t.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.CULL_FACE=2884]="CULL_FACE",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.BLEND=3042]="BLEND",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DITHER=3024]="DITHER",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DOUBLE=5130]="DOUBLE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.ALWAYS=519]="ALWAYS",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.GEQUAL=518]="GEQUAL",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",t[t.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.READ_BUFFER=3074]="READ_BUFFER",t[t.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",t[t.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",t[t.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",t[t.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",t[t.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",t[t.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",t[t.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",t[t.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",t[t.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",t[t.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",t[t.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",t[t.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",t[t.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",t[t.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",t[t.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",t[t.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",t[t.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",t[t.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",t[t.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",t[t.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",t[t.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",t[t.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",t[t.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",t[t.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",t[t.RED=6403]="RED",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB10_A2=32857]="RGB10_A2",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",t[t.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",t[t.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",t[t.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",t[t.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",t[t.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",t[t.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",t[t.SRGB=35904]="SRGB",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",t[t.RGBA32F=34836]="RGBA32F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.RGB16F=34843]="RGB16F",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R16F=33325]="R16F",t[t.R32F=33326]="R32F",t[t.RG16F=33327]="RG16F",t[t.RG32F=33328]="RG32F",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2UI=36975]="RGB10_A2UI",t[t.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",t[t.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.RG=33319]="RG",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",t[t.CURRENT_QUERY=34917]="CURRENT_QUERY",t[t.QUERY_RESULT=34918]="QUERY_RESULT",t[t.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",t[t.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",t[t.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",t[t.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",t[t.DRAW_BUFFER0=34853]="DRAW_BUFFER0",t[t.DRAW_BUFFER1=34854]="DRAW_BUFFER1",t[t.DRAW_BUFFER2=34855]="DRAW_BUFFER2",t[t.DRAW_BUFFER3=34856]="DRAW_BUFFER3",t[t.DRAW_BUFFER4=34857]="DRAW_BUFFER4",t[t.DRAW_BUFFER5=34858]="DRAW_BUFFER5",t[t.DRAW_BUFFER6=34859]="DRAW_BUFFER6",t[t.DRAW_BUFFER7=34860]="DRAW_BUFFER7",t[t.DRAW_BUFFER8=34861]="DRAW_BUFFER8",t[t.DRAW_BUFFER9=34862]="DRAW_BUFFER9",t[t.DRAW_BUFFER10=34863]="DRAW_BUFFER10",t[t.DRAW_BUFFER11=34864]="DRAW_BUFFER11",t[t.DRAW_BUFFER12=34865]="DRAW_BUFFER12",t[t.DRAW_BUFFER13=34866]="DRAW_BUFFER13",t[t.DRAW_BUFFER14=34867]="DRAW_BUFFER14",t[t.DRAW_BUFFER15=34868]="DRAW_BUFFER15",t[t.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",t[t.MAX_SAMPLES=36183]="MAX_SAMPLES",t[t.SAMPLER_BINDING=35097]="SAMPLER_BINDING",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",t[t.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",t[t.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",t[t.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",t[t.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",t[t.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",t[t.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",t[t.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",t[t.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",t[t.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",t[t.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",t[t.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",t[t.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",t[t.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",t[t.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",t[t.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",t[t.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",t[t.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",t[t.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",t[t.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",t[t.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",t[t.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",t[t.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",t[t.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",t[t.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",t[t.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",t[t.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",t[t.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",t[t.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",t[t.UNIFORM_TYPE=35383]="UNIFORM_TYPE",t[t.UNIFORM_SIZE=35384]="UNIFORM_SIZE",t[t.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",t[t.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",t[t.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",t[t.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",t[t.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",t[t.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",t[t.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",t[t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",t[t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS",t[t.SYNC_FENCE=37142]="SYNC_FENCE",t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED",t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED",t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STREAM_COPY=35042]="STREAM_COPY",t[t.STATIC_READ=35045]="STATIC_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",t[t.INVALID_INDEX=4294967295]="INVALID_INDEX",t[t.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",t[t.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",t[t.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",t[t.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",t[t.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",t[t.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.UNSIGNED_INT_24_8_WEBGL=34042]="UNSIGNED_INT_24_8_WEBGL",t[t.HALF_FLOAT_OES=36193]="HALF_FLOAT_OES",t[t.RGBA32F_EXT=34836]="RGBA32F_EXT",t[t.RGB32F_EXT=34837]="RGB32F_EXT",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",t[t.UNSIGNED_NORMALIZED_EXT=35863]="UNSIGNED_NORMALIZED_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.SRGB_EXT=35904]="SRGB_EXT",t[t.SRGB_ALPHA_EXT=35906]="SRGB_ALPHA_EXT",t[t.SRGB8_ALPHA8_EXT=35907]="SRGB8_ALPHA8_EXT",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT_OES",t[t.COLOR_ATTACHMENT0_WEBGL=36064]="COLOR_ATTACHMENT0_WEBGL",t[t.COLOR_ATTACHMENT1_WEBGL=36065]="COLOR_ATTACHMENT1_WEBGL",t[t.COLOR_ATTACHMENT2_WEBGL=36066]="COLOR_ATTACHMENT2_WEBGL",t[t.COLOR_ATTACHMENT3_WEBGL=36067]="COLOR_ATTACHMENT3_WEBGL",t[t.COLOR_ATTACHMENT4_WEBGL=36068]="COLOR_ATTACHMENT4_WEBGL",t[t.COLOR_ATTACHMENT5_WEBGL=36069]="COLOR_ATTACHMENT5_WEBGL",t[t.COLOR_ATTACHMENT6_WEBGL=36070]="COLOR_ATTACHMENT6_WEBGL",t[t.COLOR_ATTACHMENT7_WEBGL=36071]="COLOR_ATTACHMENT7_WEBGL",t[t.COLOR_ATTACHMENT8_WEBGL=36072]="COLOR_ATTACHMENT8_WEBGL",t[t.COLOR_ATTACHMENT9_WEBGL=36073]="COLOR_ATTACHMENT9_WEBGL",t[t.COLOR_ATTACHMENT10_WEBGL=36074]="COLOR_ATTACHMENT10_WEBGL",t[t.COLOR_ATTACHMENT11_WEBGL=36075]="COLOR_ATTACHMENT11_WEBGL",t[t.COLOR_ATTACHMENT12_WEBGL=36076]="COLOR_ATTACHMENT12_WEBGL",t[t.COLOR_ATTACHMENT13_WEBGL=36077]="COLOR_ATTACHMENT13_WEBGL",t[t.COLOR_ATTACHMENT14_WEBGL=36078]="COLOR_ATTACHMENT14_WEBGL",t[t.COLOR_ATTACHMENT15_WEBGL=36079]="COLOR_ATTACHMENT15_WEBGL",t[t.DRAW_BUFFER0_WEBGL=34853]="DRAW_BUFFER0_WEBGL",t[t.DRAW_BUFFER1_WEBGL=34854]="DRAW_BUFFER1_WEBGL",t[t.DRAW_BUFFER2_WEBGL=34855]="DRAW_BUFFER2_WEBGL",t[t.DRAW_BUFFER3_WEBGL=34856]="DRAW_BUFFER3_WEBGL",t[t.DRAW_BUFFER4_WEBGL=34857]="DRAW_BUFFER4_WEBGL",t[t.DRAW_BUFFER5_WEBGL=34858]="DRAW_BUFFER5_WEBGL",t[t.DRAW_BUFFER6_WEBGL=34859]="DRAW_BUFFER6_WEBGL",t[t.DRAW_BUFFER7_WEBGL=34860]="DRAW_BUFFER7_WEBGL",t[t.DRAW_BUFFER8_WEBGL=34861]="DRAW_BUFFER8_WEBGL",t[t.DRAW_BUFFER9_WEBGL=34862]="DRAW_BUFFER9_WEBGL",t[t.DRAW_BUFFER10_WEBGL=34863]="DRAW_BUFFER10_WEBGL",t[t.DRAW_BUFFER11_WEBGL=34864]="DRAW_BUFFER11_WEBGL",t[t.DRAW_BUFFER12_WEBGL=34865]="DRAW_BUFFER12_WEBGL",t[t.DRAW_BUFFER13_WEBGL=34866]="DRAW_BUFFER13_WEBGL",t[t.DRAW_BUFFER14_WEBGL=34867]="DRAW_BUFFER14_WEBGL",t[t.DRAW_BUFFER15_WEBGL=34868]="DRAW_BUFFER15_WEBGL",t[t.MAX_COLOR_ATTACHMENTS_WEBGL=36063]="MAX_COLOR_ATTACHMENTS_WEBGL",t[t.MAX_DRAW_BUFFERS_WEBGL=34852]="MAX_DRAW_BUFFERS_WEBGL",t[t.VERTEX_ARRAY_BINDING_OES=34229]="VERTEX_ARRAY_BINDING_OES",t[t.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",t[t.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",t[t.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",t[t.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",t[t.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",t[t.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",t[t.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT"})(ci||(ci={}));var Hc;(function(t){t[t.Buffer=0]="Buffer",t[t.Texture=1]="Texture",t[t.RenderTarget=2]="RenderTarget",t[t.Sampler=3]="Sampler",t[t.Program=4]="Program",t[t.Bindings=5]="Bindings",t[t.InputLayout=6]="InputLayout",t[t.RenderPipeline=7]="RenderPipeline",t[t.ComputePipeline=8]="ComputePipeline",t[t.Readback=9]="Readback",t[t.QueryPool=10]="QueryPool",t[t.RenderBundle=11]="RenderBundle"})(Hc||(Hc={}));var Il;(function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"})(Il||(Il={}));var O2;(function(t){t[t.CCW=2305]="CCW",t[t.CW=2304]="CW"})(O2||(O2={}));var ng;(function(t){t[t.NONE=0]="NONE",t[t.FRONT=1]="FRONT",t[t.BACK=2]="BACK",t[t.FRONT_AND_BACK=3]="FRONT_AND_BACK"})(ng||(ng={}));var Xl;(function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC=768]="SRC",t[t.ONE_MINUS_SRC=769]="ONE_MINUS_SRC",t[t.DST=774]="DST",t[t.ONE_MINUS_DST=775]="ONE_MINUS_DST",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.CONST=32769]="CONST",t[t.ONE_MINUS_CONSTANT=32770]="ONE_MINUS_CONSTANT",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"})(Xl||(Xl={}));var w0;(function(t){t[t.ADD=32774]="ADD",t[t.SUBSTRACT=32778]="SUBSTRACT",t[t.REVERSE_SUBSTRACT=32779]="REVERSE_SUBSTRACT",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX"})(w0||(w0={}));var mp;(function(t){t[t.CLAMP_TO_EDGE=0]="CLAMP_TO_EDGE",t[t.REPEAT=1]="REPEAT",t[t.MIRRORED_REPEAT=2]="MIRRORED_REPEAT"})(mp||(mp={}));var mh;(function(t){t[t.POINT=0]="POINT",t[t.BILINEAR=1]="BILINEAR"})(mh||(mh={}));var vh;(function(t){t[t.NO_MIP=0]="NO_MIP",t[t.NEAREST=1]="NEAREST",t[t.LINEAR=2]="LINEAR"})(vh||(vh={}));var Vd;(function(t){t[t.POINTS=0]="POINTS",t[t.TRIANGLES=1]="TRIANGLES",t[t.TRIANGLE_STRIP=2]="TRIANGLE_STRIP",t[t.LINES=3]="LINES",t[t.LINE_STRIP=4]="LINE_STRIP"})(Vd||(Vd={}));var Af;(function(t){t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE"})(Af||(Af={}));var Hp;(function(t){t[t.STATIC=1]="STATIC",t[t.DYNAMIC=2]="DYNAMIC"})(Hp||(Hp={}));var pv;(function(t){t[t.VERTEX=1]="VERTEX",t[t.INSTANCE=2]="INSTANCE"})(pv||(pv={}));var pR;(function(t){t.LOADED="loaded"})(pR||(pR={}));var Ql;(function(t){t[t.TEXTURE_2D=0]="TEXTURE_2D",t[t.TEXTURE_2D_ARRAY=1]="TEXTURE_2D_ARRAY",t[t.TEXTURE_3D=2]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP=3]="TEXTURE_CUBE_MAP"})(Ql||(Ql={}));var Q0;(function(t){t[t.SAMPLED=1]="SAMPLED",t[t.RENDER_TARGET=2]="RENDER_TARGET",t[t.STORAGE=4]="STORAGE"})(Q0||(Q0={}));var t0;(function(t){t[t.NONE=0]="NONE",t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t[t.RGB=7]="RGB",t[t.ALL=15]="ALL"})(t0||(t0={}));var Jd;(function(t){t[t.KEEP=7680]="KEEP",t[t.ZERO=0]="ZERO",t[t.REPLACE=7681]="REPLACE",t[t.INVERT=5386]="INVERT",t[t.INCREMENT_CLAMP=7682]="INCREMENT_CLAMP",t[t.DECREMENT_CLAMP=7683]="DECREMENT_CLAMP",t[t.INCREMENT_WRAP=34055]="INCREMENT_WRAP",t[t.DECREMENT_WRAP=34056]="DECREMENT_WRAP"})(Jd||(Jd={}));function TD(t,e,r,u){var d=Ql.TEXTURE_2D,h=1,y=Q0.SAMPLED;return{dimension:d,format:t,width:e,height:r,depthOrArrayLayers:h,mipLevelCount:u,usage:y}}var Bd;(function(t){t[t.Float=0]="Float",t[t.UnfilterableFloat=1]="UnfilterableFloat",t[t.Uint=2]="Uint",t[t.Sint=3]="Sint",t[t.Depth=4]="Depth"})(Bd||(Bd={}));var ym;(function(t){t[t.LOWER_LEFT=0]="LOWER_LEFT",t[t.UPPER_LEFT=1]="UPPER_LEFT"})(ym||(ym={}));var ey;(function(t){t[t.NEGATIVE_ONE=0]="NEGATIVE_ONE",t[t.ZERO=1]="ZERO"})(ey||(ey={}));var UT;(function(t){t[t.OcclusionConservative=0]="OcclusionConservative"})(UT||(UT={}));var xo;(function(t){t[t.U8=1]="U8",t[t.U16=2]="U16",t[t.U32=3]="U32",t[t.S8=4]="S8",t[t.S16=5]="S16",t[t.S32=6]="S32",t[t.F16=7]="F16",t[t.F32=8]="F32",t[t.BC1=65]="BC1",t[t.BC2=66]="BC2",t[t.BC3=67]="BC3",t[t.BC4_UNORM=68]="BC4_UNORM",t[t.BC4_SNORM=69]="BC4_SNORM",t[t.BC5_UNORM=70]="BC5_UNORM",t[t.BC5_SNORM=71]="BC5_SNORM",t[t.U16_PACKED_5551=97]="U16_PACKED_5551",t[t.U16_PACKED_565=98]="U16_PACKED_565",t[t.D24=129]="D24",t[t.D32F=130]="D32F",t[t.D24S8=131]="D24S8",t[t.D32FS8=132]="D32FS8"})(xo||(xo={}));var eu;(function(t){t[t.R=1]="R",t[t.RG=2]="RG",t[t.RGB=3]="RGB",t[t.RGBA=4]="RGBA",t[t.A=5]="A"})(eu||(eu={}));function gR(t){return t}var Es;(function(t){t[t.None=0]="None",t[t.Normalized=1]="Normalized",t[t.sRGB=2]="sRGB",t[t.Depth=4]="Depth",t[t.Stencil=8]="Stencil",t[t.RenderTarget=16]="RenderTarget",t[t.Luminance=32]="Luminance"})(Es||(Es={}));function Iu(t,e,r){return t<<16|e<<8|r}var oa;(function(t){t[t.ALPHA=Iu(xo.U8,eu.A,Es.None)]="ALPHA",t[t.U8_LUMINANCE=Iu(xo.U8,eu.A,Es.Luminance)]="U8_LUMINANCE",t[t.F16_LUMINANCE=Iu(xo.F16,eu.A,Es.Luminance)]="F16_LUMINANCE",t[t.F32_LUMINANCE=Iu(xo.F32,eu.A,Es.Luminance)]="F32_LUMINANCE",t[t.F16_R=Iu(xo.F16,eu.R,Es.None)]="F16_R",t[t.F16_RG=Iu(xo.F16,eu.RG,Es.None)]="F16_RG",t[t.F16_RGB=Iu(xo.F16,eu.RGB,Es.None)]="F16_RGB",t[t.F16_RGBA=Iu(xo.F16,eu.RGBA,Es.None)]="F16_RGBA",t[t.F32_R=Iu(xo.F32,eu.R,Es.None)]="F32_R",t[t.F32_RG=Iu(xo.F32,eu.RG,Es.None)]="F32_RG",t[t.F32_RGB=Iu(xo.F32,eu.RGB,Es.None)]="F32_RGB",t[t.F32_RGBA=Iu(xo.F32,eu.RGBA,Es.None)]="F32_RGBA",t[t.U8_R=Iu(xo.U8,eu.R,Es.None)]="U8_R",t[t.U8_R_NORM=Iu(xo.U8,eu.R,Es.Normalized)]="U8_R_NORM",t[t.U8_RG=Iu(xo.U8,eu.RG,Es.None)]="U8_RG",t[t.U8_RG_NORM=Iu(xo.U8,eu.RG,Es.Normalized)]="U8_RG_NORM",t[t.U8_RGB=Iu(xo.U8,eu.RGB,Es.None)]="U8_RGB",t[t.U8_RGB_NORM=Iu(xo.U8,eu.RGB,Es.Normalized)]="U8_RGB_NORM",t[t.U8_RGB_SRGB=Iu(xo.U8,eu.RGB,Es.sRGB|Es.Normalized)]="U8_RGB_SRGB",t[t.U8_RGBA=Iu(xo.U8,eu.RGBA,Es.None)]="U8_RGBA",t[t.U8_RGBA_NORM=Iu(xo.U8,eu.RGBA,Es.Normalized)]="U8_RGBA_NORM",t[t.U8_RGBA_SRGB=Iu(xo.U8,eu.RGBA,Es.sRGB|Es.Normalized)]="U8_RGBA_SRGB",t[t.U16_R=Iu(xo.U16,eu.R,Es.None)]="U16_R",t[t.U16_R_NORM=Iu(xo.U16,eu.R,Es.Normalized)]="U16_R_NORM",t[t.U16_RG_NORM=Iu(xo.U16,eu.RG,Es.Normalized)]="U16_RG_NORM",t[t.U16_RGBA_NORM=Iu(xo.U16,eu.RGBA,Es.Normalized)]="U16_RGBA_NORM",t[t.U16_RGBA=Iu(xo.U16,eu.RGBA,Es.None)]="U16_RGBA",t[t.U16_RGB=Iu(xo.U16,eu.RGB,Es.None)]="U16_RGB",t[t.U16_RG=Iu(xo.U16,eu.RG,Es.None)]="U16_RG",t[t.U32_R=Iu(xo.U32,eu.R,Es.None)]="U32_R",t[t.U32_RG=Iu(xo.U32,eu.RG,Es.None)]="U32_RG",t[t.U32_RGB=Iu(xo.U32,eu.RGB,Es.None)]="U32_RGB",t[t.U32_RGBA=Iu(xo.U32,eu.RGBA,Es.None)]="U32_RGBA",t[t.S8_R=Iu(xo.S8,eu.R,Es.None)]="S8_R",t[t.S8_R_NORM=Iu(xo.S8,eu.R,Es.Normalized)]="S8_R_NORM",t[t.S8_RG_NORM=Iu(xo.S8,eu.RG,Es.Normalized)]="S8_RG_NORM",t[t.S8_RGB_NORM=Iu(xo.S8,eu.RGB,Es.Normalized)]="S8_RGB_NORM",t[t.S8_RGBA_NORM=Iu(xo.S8,eu.RGBA,Es.Normalized)]="S8_RGBA_NORM",t[t.S16_R=Iu(xo.S16,eu.R,Es.None)]="S16_R",t[t.S16_RG=Iu(xo.S16,eu.RG,Es.None)]="S16_RG",t[t.S16_RG_NORM=Iu(xo.S16,eu.RG,Es.Normalized)]="S16_RG_NORM",t[t.S16_RGB_NORM=Iu(xo.S16,eu.RGB,Es.Normalized)]="S16_RGB_NORM",t[t.S16_RGBA=Iu(xo.S16,eu.RGBA,Es.None)]="S16_RGBA",t[t.S16_RGBA_NORM=Iu(xo.S16,eu.RGBA,Es.Normalized)]="S16_RGBA_NORM",t[t.S32_R=Iu(xo.S32,eu.R,Es.None)]="S32_R",t[t.S32_RG=Iu(xo.S32,eu.RG,Es.None)]="S32_RG",t[t.S32_RGB=Iu(xo.S32,eu.RGB,Es.None)]="S32_RGB",t[t.S32_RGBA=Iu(xo.S32,eu.RGBA,Es.None)]="S32_RGBA",t[t.U16_RGBA_5551=Iu(xo.U16_PACKED_5551,eu.RGBA,Es.Normalized)]="U16_RGBA_5551",t[t.U16_RGB_565=Iu(xo.U16_PACKED_565,eu.RGB,Es.Normalized)]="U16_RGB_565",t[t.BC1=Iu(xo.BC1,eu.RGBA,Es.Normalized)]="BC1",t[t.BC1_SRGB=Iu(xo.BC1,eu.RGBA,Es.Normalized|Es.sRGB)]="BC1_SRGB",t[t.BC2=Iu(xo.BC2,eu.RGBA,Es.Normalized)]="BC2",t[t.BC2_SRGB=Iu(xo.BC2,eu.RGBA,Es.Normalized|Es.sRGB)]="BC2_SRGB",t[t.BC3=Iu(xo.BC3,eu.RGBA,Es.Normalized)]="BC3",t[t.BC3_SRGB=Iu(xo.BC3,eu.RGBA,Es.Normalized|Es.sRGB)]="BC3_SRGB",t[t.BC4_UNORM=Iu(xo.BC4_UNORM,eu.R,Es.Normalized)]="BC4_UNORM",t[t.BC4_SNORM=Iu(xo.BC4_SNORM,eu.R,Es.Normalized)]="BC4_SNORM",t[t.BC5_UNORM=Iu(xo.BC5_UNORM,eu.RG,Es.Normalized)]="BC5_UNORM",t[t.BC5_SNORM=Iu(xo.BC5_SNORM,eu.RG,Es.Normalized)]="BC5_SNORM",t[t.D24=Iu(xo.D24,eu.R,Es.Depth)]="D24",t[t.D24_S8=Iu(xo.D24S8,eu.RG,Es.Depth|Es.Stencil)]="D24_S8",t[t.D32F=Iu(xo.D32F,eu.R,Es.Depth)]="D32F",t[t.D32F_S8=Iu(xo.D32FS8,eu.RG,Es.Depth|Es.Stencil)]="D32F_S8",t[t.U8_RGB_RT=Iu(xo.U8,eu.RGB,Es.RenderTarget|Es.Normalized)]="U8_RGB_RT",t[t.U8_RGBA_RT=Iu(xo.U8,eu.RGBA,Es.RenderTarget|Es.Normalized)]="U8_RGBA_RT",t[t.U8_RGBA_RT_SRGB=Iu(xo.U8,eu.RGBA,Es.RenderTarget|Es.Normalized|Es.sRGB)]="U8_RGBA_RT_SRGB"})(oa||(oa={}));function zT(t){return t>>>8&255}function gv(t){return t>>>16&255}function w2(t){return t&255}function mR(t){switch(t){case xo.F32:case xo.U32:case xo.S32:return 4;case xo.U16:case xo.S16:case xo.F16:return 2;case xo.U8:case xo.S8:return 1;default:throw new Error("whoops")}}function vR(t){return mR(gv(t))}function SD(t){return zT(t)}function LL(t){var e=mR(gv(t)),r=zT(t);return e*r}function NL(t,e){return t&4294967040|e}function DL(t,e){return t&4294902015|e<<8}function yR(t){var e=w2(t);if(e&Es.Depth)return Bd.Depth;if(e&Es.Normalized)return Bd.Float;var r=gv(t);if(r===xo.F16||r===xo.F32)return Bd.Float;if(r===xo.U8||r===xo.U16||r===xo.U32)return Bd.Uint;if(r===xo.S8||r===xo.S16||r===xo.S32)return Bd.Sint;throw new Error("whoops")}function Cl(t,e){if(e===void 0&&(e=""),!t)throw new Error("Assert fail: ".concat(e))}function b_(t){if(t!=null)return t;throw new Error("Missing object")}function _R(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}function bR(t,e){t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a}function ER(t){var e=t.r,r=t.g,u=t.b,d=t.a;return{r:e,g:r,b:u,a:d}}function Ux(t,e,r,u){return u===void 0&&(u=1),{r:t,g:e,b:r,a:u}}var ZT=Ux(0,0,0,0),AD=Ux(0,0,0,1),kL=Ux(1,1,1,0),CD=Ux(1,1,1,1),M2=!0;function OD(t,e){e===void 0&&(e=M2),e&&(t[10]=-t[10],t[14]=-t[14])}function wD(t,e){e===void 0&&(e=M2),e&&(t[10]=-t[10],t[14]=-t[14]+1)}function BL(t,e){if(e===void 0&&(e=M2),e)switch(t){case Il.LESS:return Il.GREATER;case Il.LEQUAL:return Il.GEQUAL;case Il.GEQUAL:return Il.LEQUAL;case Il.GREATER:return Il.LESS;default:return t}else return t}function FL(t,e){return e===void 0&&(e=M2),e?1-t:t}function MD(t,e){return e===void 0&&(e=M2),e?-t:t}function xR(t,e,r,u){if(u===void 0&&(u=M2),r=BL(r,u),r===Il.LESS)return t<e;if(r===Il.LEQUAL)return t<=e;if(r===Il.GREATER)return t>e;if(r===Il.GEQUAL)return t>=e;throw new Error("whoops")}function R2(t){return!!(t&&!(t&t-1))}function ty(t,e){return t!=null?t:e}function UL(t){return t===void 0?null:t}function RD(t,e,r){t.length=e,t.fill(r)}function E_(t,e){var r=e-1;return t+r&~r}function PD(t,e){return((t+e-1)/e|0)*e}function zL(t,e,r){for(var u=0,d=t.length;u<d;){var h=u+(d-u>>>1),y=r(e,t[h]);y<0?d=h:u=h+1}return u}function ID(t,e,r){var u=zL(t,e,r);t.splice(u,0,e)}function LD(t,e,r){return r?t|=e:t&=~e,t}function ZL(t,e){for(var r=new Array(t),u=0;u<t;u++)r[u]=e();return r}function jL(t,e){e===void 0&&(e=1);var r=t.split(`
`);return r.map(function(u,d){return"".concat(HL(""+(e+d),4," "),"  ").concat(u)}).join(`
`)}function HL(t,e,r){for(r===void 0&&(r="0");t.length<e;)t="".concat(r).concat(t);return t}function ND(t,e){for(var r=[],u=t;u<t+e;u++)r.push(u);return r}function TR(t,e){t.blendDstFactor=e.blendDstFactor,t.blendSrcFactor=e.blendSrcFactor,t.blendMode=e.blendMode}function jT(t,e){return t===void 0&&(t={}),t.compare=e.compare,t.depthFailOp=e.depthFailOp,t.passOp=e.passOp,t.failOp=e.failOp,t.mask=e.mask,t}function NC(t,e){return t===void 0&&(t={rgbBlendState:{},alphaBlendState:{},channelWriteMask:0}),TR(t.rgbBlendState,e.rgbBlendState),TR(t.alphaBlendState,e.alphaBlendState),t.channelWriteMask=e.channelWriteMask,t}function HT(t,e){t.length!==e.length&&(t.length=e.length);for(var r=0;r<e.length;r++)t[r]=NC(t[r],e[r])}function SR(t,e){e.attachmentsState!==void 0&&HT(t.attachmentsState,e.attachmentsState),t.blendConstant&&e.blendConstant&&bR(t.blendConstant,e.blendConstant),t.depthCompare=ty(e.depthCompare,t.depthCompare),t.depthWrite=ty(e.depthWrite,t.depthWrite),t.stencilWrite=ty(e.stencilWrite,t.stencilWrite),t.stencilFront&&e.stencilFront&&jT(t.stencilFront,e.stencilFront),t.stencilBack&&e.stencilBack&&jT(t.stencilBack,e.stencilBack),t.cullMode=ty(e.cullMode,t.cullMode),t.frontFace=ty(e.frontFace,t.frontFace),t.polygonOffset=ty(e.polygonOffset,t.polygonOffset),t.polygonOffsetFactor=ty(e.polygonOffsetFactor,t.polygonOffsetFactor),t.polygonOffsetUnits=ty(e.polygonOffsetUnits,t.polygonOffsetUnits)}function P2(t){var e=Object.assign({},t);return e.attachmentsState=[],HT(e.attachmentsState,t.attachmentsState),e.blendConstant=e.blendConstant&&ER(e.blendConstant),e.stencilFront=jT(void 0,t.stencilFront),e.stencilBack=jT(void 0,t.stencilBack),e}function WL(t,e){e.channelWriteMask!==void 0&&(t.channelWriteMask=e.channelWriteMask),e.rgbBlendMode!==void 0&&(t.rgbBlendState.blendMode=e.rgbBlendMode),e.alphaBlendMode!==void 0&&(t.alphaBlendState.blendMode=e.alphaBlendMode),e.rgbBlendSrcFactor!==void 0&&(t.rgbBlendState.blendSrcFactor=e.rgbBlendSrcFactor),e.alphaBlendSrcFactor!==void 0&&(t.alphaBlendState.blendSrcFactor=e.alphaBlendSrcFactor),e.rgbBlendDstFactor!==void 0&&(t.rgbBlendState.blendDstFactor=e.rgbBlendDstFactor),e.alphaBlendDstFactor!==void 0&&(t.alphaBlendState.blendDstFactor=e.alphaBlendDstFactor)}var AR={blendMode:w0.ADD,blendSrcFactor:Xl.ONE,blendDstFactor:Xl.ZERO},x_={attachmentsState:[{channelWriteMask:t0.ALL,rgbBlendState:AR,alphaBlendState:AR}],blendConstant:ER(ZT),depthWrite:!0,depthCompare:Il.LEQUAL,stencilWrite:!1,stencilFront:{compare:Il.ALWAYS,passOp:Jd.KEEP,depthFailOp:Jd.KEEP,failOp:Jd.KEEP},stencilBack:{compare:Il.ALWAYS,passOp:Jd.KEEP,depthFailOp:Jd.KEEP,failOp:Jd.KEEP},cullMode:ng.NONE,frontFace:O2.CCW,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0};function CR(t,e){t===void 0&&(t=null),e===void 0&&(e=x_);var r=P2(e);return t!==null&&SR(r,t),r}var DD=CR({depthCompare:Il.ALWAYS,depthWrite:!1},x_);function kD(t,e){return t.attachmentsState===void 0&&(t.attachmentsState=[],HT(t.attachmentsState,x_.attachmentsState)),WL(t.attachmentsState[0],e),t}var DC={texture:null,sampler:null,formatKind:Bd.Float,dimension:Ql.TEXTURE_2D};function ny(t,e,r){if(t.length!==e.length)return!1;for(var u=0;u<t.length;u++)if(!r(t[u],e[u]))return!1;return!0}function I2(t,e){for(var r=Array(t.length),u=0;u<t.length;u++)r[u]=e(t[u]);return r}function VL(t,e){return t.texture===e.texture&&t.binding===e.binding}function OR(t,e){return t.buffer===e.buffer&&t.size===e.size&&t.binding===e.binding&&t.offset===e.offset}function BD(t,e){return t===null?e===null:e===null?!1:t.sampler===e.sampler&&t.texture===e.texture&&t.dimension===e.dimension&&t.formatKind===e.formatKind&&t.comparison===e.comparison}function wR(t,e){return t.samplerBindings=t.samplerBindings||[],t.uniformBufferBindings=t.uniformBufferBindings||[],t.storageBufferBindings=t.storageBufferBindings||[],t.storageTextureBindings=t.storageTextureBindings||[],e.samplerBindings=e.samplerBindings||[],e.uniformBufferBindings=e.uniformBufferBindings||[],e.storageBufferBindings=e.storageBufferBindings||[],e.storageTextureBindings=e.storageTextureBindings||[],!(t.samplerBindings.length!==e.samplerBindings.length||!ny(t.samplerBindings,e.samplerBindings,BD)||!ny(t.uniformBufferBindings,e.uniformBufferBindings,OR)||!ny(t.storageBufferBindings,e.storageBufferBindings,OR)||!ny(t.storageTextureBindings,e.storageTextureBindings,VL))}function MR(t,e){return t.blendMode==e.blendMode&&t.blendSrcFactor===e.blendSrcFactor&&t.blendDstFactor===e.blendDstFactor}function WT(t,e){return!(!MR(t.rgbBlendState,e.rgbBlendState)||!MR(t.alphaBlendState,e.alphaBlendState)||t.channelWriteMask!==e.channelWriteMask)}function zx(t,e){return t.compare==e.compare&&t.depthFailOp===e.depthFailOp&&t.failOp===e.failOp&&t.passOp===e.passOp&&t.mask===e.mask}function kC(t,e){return!ny(t.attachmentsState,e.attachmentsState,WT)||t.blendConstant&&e.blendConstant&&!_R(t.blendConstant,e.blendConstant)||t.stencilFront&&e.stencilFront&&!zx(t.stencilFront,e.stencilFront)||t.stencilBack&&e.stencilBack&&!zx(t.stencilBack,e.stencilBack)?!1:t.depthCompare===e.depthCompare&&t.depthWrite===e.depthWrite&&t.stencilWrite===e.stencilWrite&&t.cullMode===e.cullMode&&t.frontFace===e.frontFace&&t.polygonOffset===e.polygonOffset&&t.polygonOffsetFactor===e.polygonOffsetFactor&&t.polygonOffsetUnits===e.polygonOffsetUnits}function RR(t,e){return t.id===e.id}function GL(t,e){return t===e}function Zx(t,e){return!(t.topology!==e.topology||t.inputLayout!==e.inputLayout||t.sampleCount!==e.sampleCount||t.megaStateDescriptor&&e.megaStateDescriptor&&!kC(t.megaStateDescriptor,e.megaStateDescriptor)||!RR(t.program,e.program)||!ny(t.colorAttachmentFormats,e.colorAttachmentFormats,GL)||t.depthStencilAttachmentFormat!==e.depthStencilAttachmentFormat)}function PR(t,e){return t.offset===e.offset&&t.shaderLocation===e.shaderLocation&&t.format===e.format&&t.divisor===e.divisor}function IR(t,e){return(0,tg.Z)(t)?(0,tg.Z)(e):(0,tg.Z)(e)?!1:t.arrayStride===e.arrayStride&&t.stepMode===e.stepMode&&ny(t.attributes,e.attributes,PR)}function LR(t,e){return!(t.indexBufferFormat!==e.indexBufferFormat||!ny(t.vertexBufferDescriptors,e.vertexBufferDescriptors,IR)||!RR(t.program,e.program))}function YL(t,e){return t.addressModeU===e.addressModeU&&t.addressModeV===e.addressModeV&&t.minFilter===e.minFilter&&t.magFilter===e.magFilter&&t.mipmapFilter===e.mipmapFilter&&t.lodMinClamp===e.lodMinClamp&&t.lodMaxClamp===e.lodMaxClamp&&t.maxAnisotropy===e.maxAnisotropy&&t.compareFunction===e.compareFunction}function VT(t){var e=t.sampler,r=t.texture,u=t.dimension,d=t.formatKind,h=t.comparison;return{sampler:e,texture:r,dimension:u,formatKind:d,comparison:h}}function BC(t){var e=t.buffer,r=t.size,u=t.binding,d=t.offset;return{binding:u,buffer:e,offset:d,size:r}}function FD(t){var e=t.binding,r=t.texture;return{binding:e,texture:r}}function $L(t){var e=t.samplerBindings&&I2(t.samplerBindings,VT),r=t.uniformBufferBindings&&I2(t.uniformBufferBindings,BC),u=t.storageBufferBindings&&I2(t.storageBufferBindings,BC),d=t.storageTextureBindings&&I2(t.storageTextureBindings,FD);return{samplerBindings:e,uniformBufferBindings:r,storageBufferBindings:u,storageTextureBindings:d,pipeline:t.pipeline}}function XL(t){var e=t.inputLayout,r=t.program,u=t.topology,d=t.megaStateDescriptor&&P2(t.megaStateDescriptor),h=t.colorAttachmentFormats.slice(),y=t.depthStencilAttachmentFormat,M=t.sampleCount;return{inputLayout:e,megaStateDescriptor:d,program:r,topology:u,colorAttachmentFormats:h,depthStencilAttachmentFormat:y,sampleCount:M}}function NR(t){var e=t.shaderLocation,r=t.format,u=t.offset,d=t.divisor;return{shaderLocation:e,format:r,offset:u,divisor:d}}function FC(t){if((0,tg.Z)(t))return t;var e=t.arrayStride,r=t.stepMode,u=I2(t.attributes,NR);return{arrayStride:e,stepMode:r,attributes:u}}function DR(t){var e=I2(t.vertexBufferDescriptors,FC),r=t.indexBufferFormat,u=t.program;return{vertexBufferDescriptors:e,indexBufferFormat:r,program:u}}var _c,KL=/([^[]*)(\[[0-9]+\])?/;function QL(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};var e=t.match(KL);if(!e||e.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(t));return{name:e[1],length:Number(e[2])||1,isArray:!!e[2]}}function Wp(){var t=null;return function(e,r,u){var d=t!==u;return d&&(e.uniform1i(r,u),t=u),d}}function eh(t,e,r,u){var d=null,h=null;return function(y,M,U){var re=e(U,r),Ee=re.length,Ae=!1;if(d===null)d=new Float32Array(Ee),h=Ee,Ae=!0;else{Cl(h===Ee,"Uniform length cannot change.");for(var We=0;We<Ee;++We)if(re[We]!==d[We]){Ae=!0;break}}return Ae&&(u(y,t,M,re),d.set(re)),Ae}}function vp(t,e,r,u){t[e](r,u)}function mv(t,e,r,u){t[e](r,!1,u)}var qL={},JL={},e8={},jx=[0];function UC(t,e,r,u){e===1&&typeof t=="boolean"&&(t=t?1:0),Number.isFinite(t)&&(jx[0]=t,t=jx);var d=t.length;if(t instanceof r)return t;var h=u[d];h||(h=new r(d),u[d]=h);for(var y=0;y<d;y++)h[y]=t[y];return h}function yp(t,e){return UC(t,e,Float32Array,qL)}function n1(t,e){return UC(t,e,Int32Array,JL)}function Hx(t,e){return UC(t,e,Uint32Array,e8)}var GT=(_c={},_c[ci.FLOAT]=eh.bind(null,"uniform1fv",yp,1,vp),_c[ci.FLOAT_VEC2]=eh.bind(null,"uniform2fv",yp,2,vp),_c[ci.FLOAT_VEC3]=eh.bind(null,"uniform3fv",yp,3,vp),_c[ci.FLOAT_VEC4]=eh.bind(null,"uniform4fv",yp,4,vp),_c[ci.INT]=eh.bind(null,"uniform1iv",n1,1,vp),_c[ci.INT_VEC2]=eh.bind(null,"uniform2iv",n1,2,vp),_c[ci.INT_VEC3]=eh.bind(null,"uniform3iv",n1,3,vp),_c[ci.INT_VEC4]=eh.bind(null,"uniform4iv",n1,4,vp),_c[ci.BOOL]=eh.bind(null,"uniform1iv",n1,1,vp),_c[ci.BOOL_VEC2]=eh.bind(null,"uniform2iv",n1,2,vp),_c[ci.BOOL_VEC3]=eh.bind(null,"uniform3iv",n1,3,vp),_c[ci.BOOL_VEC4]=eh.bind(null,"uniform4iv",n1,4,vp),_c[ci.FLOAT_MAT2]=eh.bind(null,"uniformMatrix2fv",yp,4,mv),_c[ci.FLOAT_MAT3]=eh.bind(null,"uniformMatrix3fv",yp,9,mv),_c[ci.FLOAT_MAT4]=eh.bind(null,"uniformMatrix4fv",yp,16,mv),_c[ci.UNSIGNED_INT]=eh.bind(null,"uniform1uiv",Hx,1,vp),_c[ci.UNSIGNED_INT_VEC2]=eh.bind(null,"uniform2uiv",Hx,2,vp),_c[ci.UNSIGNED_INT_VEC3]=eh.bind(null,"uniform3uiv",Hx,3,vp),_c[ci.UNSIGNED_INT_VEC4]=eh.bind(null,"uniform4uiv",Hx,4,vp),_c[ci.FLOAT_MAT2x3]=eh.bind(null,"uniformMatrix2x3fv",yp,6,mv),_c[ci.FLOAT_MAT2x4]=eh.bind(null,"uniformMatrix2x4fv",yp,8,mv),_c[ci.FLOAT_MAT3x2]=eh.bind(null,"uniformMatrix3x2fv",yp,6,mv),_c[ci.FLOAT_MAT3x4]=eh.bind(null,"uniformMatrix3x4fv",yp,12,mv),_c[ci.FLOAT_MAT4x2]=eh.bind(null,"uniformMatrix4x2fv",yp,8,mv),_c[ci.FLOAT_MAT4x3]=eh.bind(null,"uniformMatrix4x3fv",yp,12,mv),_c[ci.SAMPLER_2D]=Wp,_c[ci.SAMPLER_CUBE]=Wp,_c[ci.SAMPLER_3D]=Wp,_c[ci.SAMPLER_2D_SHADOW]=Wp,_c[ci.SAMPLER_2D_ARRAY]=Wp,_c[ci.SAMPLER_2D_ARRAY_SHADOW]=Wp,_c[ci.SAMPLER_CUBE_SHADOW]=Wp,_c[ci.INT_SAMPLER_2D]=Wp,_c[ci.INT_SAMPLER_3D]=Wp,_c[ci.INT_SAMPLER_CUBE]=Wp,_c[ci.INT_SAMPLER_2D_ARRAY]=Wp,_c[ci.UNSIGNED_INT_SAMPLER_2D]=Wp,_c[ci.UNSIGNED_INT_SAMPLER_3D]=Wp,_c[ci.UNSIGNED_INT_SAMPLER_CUBE]=Wp,_c[ci.UNSIGNED_INT_SAMPLER_2D_ARRAY]=Wp,_c);function YT(t,e,r){var u=GT[r.type];if(!u)throw new Error("Unknown GLSL uniform type ".concat(r.type));return u().bind(null,t,e)}var t8={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function n8(t){return Object.prototype.toString.call(t)in t8}function Wx(t,e){return"#define ".concat(t," ").concat(e)}function kR(t){var e={};return t.replace(/^\s*#define\s*(\S*)\s*(\S*)\s*$/gm,function(r,u,d){var h=Number(d);return e[u]=isNaN(h)?d:h,""}),e}function BR(t,e){var r=[];return t.replace(/^\s*layout\(location\s*=\s*(\S*)\)\s*in\s+\S+\s*(.*);$/gm,function(u,d,h){var y=Number(d);return r.push({location:isNaN(y)?e[d]:y,name:h}),""}),r}function UD(t){var e=[],r=[];return t.replace(/\s*struct\s*(.*)\s*{((?:\s*.*\s*)*?)};/g,function(u,d,h){var y=[];return h.trim().replace(`\r
`,`
`).split(`
`).forEach(function(M){var U=__read(M.trim().split(/\s+/),2),re=U[0],Ee=U[1];y.push({type:re.trim(),name:Ee.replace(";","").trim()})}),r.push({type:d.trim(),uniforms:y}),""}),t.replace(/\s*uniform(?:\s+)(?:\w+)(?:\s?){([^]*?)};?/g,function(u,d){return d.trim().replace(`\r
`,`
`).split(`
`).forEach(function(h){var y=h.trim().split(" "),M=y[0]||"",U=y[1]||"",re=U.indexOf("[")>-1;if(U=U.replace(";","").replace("[","").trim(),!M.startsWith("#")){if(M){var Ee=r.find(function(Ht){return M===Ht.type});if(Ee)if(re)for(var Ae=function(Ht){Ee.uniforms.forEach(function(Tn){e.push("".concat(U,"[").concat(Ht,"].").concat(Tn.name))})},We=0;We<5;We++)Ae(We);else Ee.uniforms.forEach(function(Ht){e.push("".concat(U,".").concat(Ht.name))})}U&&e.push(U)}}),""}),e}function FR(t){if(t===void 0)return null;var e=/binding\s*=\s*(\d+)/.exec(t);if(e!==null){var r=parseInt(e[1],10);if(!Number.isNaN(r))return r}return null}function UR(t){var e="",r=t;return[r,e]}function ry(t,e,r,u,d){var h;u===void 0&&(u=null),d===void 0&&(d=!0);var y=t.glslVersion==="#version 100",M=e==="frag"&&((h=r.match(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm))===null||h===void 0?void 0:h.length)>1,U=r.replace(`\r
`,`
`).split(`
`).map(function(Va){return Va.replace(/[/][/].*$/,"")}).filter(function(Va){var va=!Va||/^\s+$/.test(Va);return!va}),re="";u!==null&&(re=Object.keys(u).map(function(Va){return Wx(Va,u[Va])}).join(`
`));var Ee=U.find(function(Va){return Va.startsWith("precision")})||"precision mediump float;",Ae=d?U.filter(function(Va){return!Va.startsWith("precision")}).join(`
`):U.join(`
`),We="";if(t.viewportOrigin===ym.UPPER_LEFT&&(We+="".concat(Wx("VIEWPORT_ORIGIN_TL","1"),`
`)),t.clipSpaceNearZ===ey.ZERO&&(We+="".concat(Wx("CLIPSPACE_NEAR_ZERO","1"),`
`)),t.explicitBindingLocations){var Ht=0,Tn=0,Fn=0;Ae=Ae.replace(/^\s*(layout\((.*)\))?\s*uniform(.+{)$/gm,function(Va,va,io,Os){var Hu=io?"".concat(io,", "):"";return"layout(".concat(Hu,"set = ").concat(Ht,", binding = ").concat(Tn++,") uniform ").concat(Os)}),Ht++,Tn=0,Cl(t.separateSamplerTextures),Ae=Ae.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(Va,va,io,Os,Hu){var Ds=FR(io);Ds===null&&(Ds=Tn++);var il=(0,Ns.CR)(UR(Os),2),jl=il[0],Ch=il[1];return e==="frag"?`
layout(set = `.concat(Ht,", binding = ").concat(Ds*2+0,") uniform texture").concat(jl," T_").concat(Hu,`;
layout(set = `).concat(Ht,", binding = ").concat(Ds*2+1,") uniform sampler").concat(Ch," S_").concat(Hu,";").trim():""}),Ae=Ae.replace(e==="frag"?/^\s*\b(varying|in)\b/gm:/^\s*\b(varying|out)\b/gm,function(Va,va){return"layout(location = ".concat(Fn++,") ").concat(va)}),We+="".concat(Wx("gl_VertexID","gl_VertexIndex"),`
`),We+="".concat(Wx("gl_InstanceID","gl_InstanceIndex"),`
`),Ee=Ee.replace(/^precision (.*) sampler(.*);$/gm,"")}else{var br=0;Ae=Ae.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(Va,va,io,Os,Hu){var Ds=FR(io);return Ds===null&&(Ds=br++),"uniform sampler".concat(Os," ").concat(Hu,"; // BINDING=").concat(Ds)})}if(Ae=Ae.replace(/\bPU_SAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){return"SAMPLER_".concat(va,"(P_").concat(io,")")}),Ae=Ae.replace(/\bPF_SAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){return"PP_SAMPLER_".concat(va,"(P_").concat(io,")")}),Ae=Ae.replace(/\bPU_TEXTURE\((.*?)\)/g,function(Va,va){return"TEXTURE(P_".concat(va,")")}),t.separateSamplerTextures)Ae=Ae.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){var Os=(0,Ns.CR)(UR(va),2),Hu=Os[0],Ds=Os[1];return"texture".concat(Hu," T_P_").concat(io,", sampler").concat(Ds," S_P_").concat(io)}),Ae=Ae.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){return"T_".concat(io,", S_").concat(io)}),Ae=Ae.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){return"sampler".concat(va,"(T_").concat(io,", S_").concat(io,")")}),Ae=Ae.replace(/\bTEXTURE\((.*?)\)/g,function(Va,va){return"T_".concat(va)});else{var ei=[];Ae=Ae.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){return"sampler".concat(va," P_").concat(io)}),Ae=Ae.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){return io}),Ae=Ae.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(Va,va,io){return ei.push([io,va]),io}),y&&ei.forEach(function(Va){var va=(0,Ns.CR)(Va,2),io=va[0],Os=va[1];Ae=Ae.replace(new RegExp("texture\\(".concat(io),"g"),function(){return"texture".concat(Os,"(").concat(io)})}),Ae=Ae.replace(/\bTEXTURE\((.*?)\)/g,function(Va,va){return va})}var Jr="".concat(y?"":t.glslVersion,`
`).concat(y&&M?`#extension GL_EXT_draw_buffers : require
`:"",`
`).concat(y&&e==="frag"?`#extension GL_OES_standard_derivatives : enable
`:"").concat(d?Ee:"",`
`).concat(We||"").concat(re?re+`
`:"",`
`).concat(Ae,`
`).trim();if(t.explicitBindingLocations&&e==="frag"&&(Jr=Jr.replace(/^\b(out)\b/g,function(Va,va){return"layout(location = 0) ".concat(va)})),y){if(e==="frag"&&(Jr=Jr.replace(/^\s*in\s+(\S+)\s*(.*);$/gm,function(Va,va,io){return"varying ".concat(va," ").concat(io,`;
`)})),e==="vert"&&(Jr=Jr.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(Va,va,io){return"varying ".concat(va," ").concat(io,`;
`)}),Jr=Jr.replace(/^\s*layout\(location\s*=\s*\S*\)\s*in\s+(\S+)\s*(.*);$/gm,function(Va,va,io){return"attribute ".concat(va," ").concat(io,`;
`)})),Jr=Jr.replace(/\s*uniform\s*.*\s*{((?:\s*.*\s*)*?)};/g,function(Va,va){return va.trim().replace(/^.*$/gm,function(io){var Os=io.trim();return Os.startsWith("#")?Os:io?"uniform ".concat(Os):""})}),e==="frag")if(M){var zi=[];Jr=Jr.replace(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm,function(Va,va){return zi.push(va),"vec4 ".concat(va,`;
`)});var ca=Jr.lastIndexOf("}");Jr=Jr.substring(0,ca)+`
    `.concat(zi.map(function(Va,va){return"gl_FragData[".concat(va,"] = ").concat(Va,`;
    `)}).join(`
`))+Jr.substring(ca)}else{var Da;if(Jr=Jr.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(Va,va,io){return Da=io,"".concat(va," ").concat(io,`;
`)}),Da){var ca=Jr.lastIndexOf("}");Jr=Jr.substring(0,ca)+`
  gl_FragColor = vec4(`.concat(Da,`);
`)+Jr.substring(ca)}}Jr=Jr.replace(/^\s*layout\((.*)\)/gm,"")}return Jr}function r8(t,e,r,u){u===void 0&&(u=null);var d=ry(t,"vert",e,u),h=ry(t,"frag",r,u);return{vert:e,frag:r,preprocessedVert:d,preprocessedFrag:h}}var Wg=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=t.call(this)||this;return h.id=u,h.device=d,h.device.resourceCreationTracker!==null&&h.device.resourceCreationTracker.trackResourceCreated(h),h}return e.prototype.destroy=function(){this.device.resourceCreationTracker!==null&&this.device.resourceCreationTracker.trackResourceDestroyed(this)},e}(C2.Z),i8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;y.type=Hc.Bindings;var M=h.uniformBufferBindings,U=h.samplerBindings;return y.uniformBufferBindings=M||[],y.samplerBindings=U||[],y.bindingLayouts=y.createBindingLayouts(),y}return e.prototype.createBindingLayouts=function(){var r=0,u=0,d=[],h=this.uniformBufferBindings.length,y=this.samplerBindings.length;return d.push({firstUniformBuffer:r,numUniformBuffers:h,firstSampler:u,numSamplers:y}),r+=h,u+=y,{numUniformBuffers:r,numSamplers:u,bindingLayoutTables:d}},e}(Wg),Vx;function du(t){return Vx!==void 0?Vx:typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext?(Vx=!0,!0):(Vx=!!(t&&t._version===2),Vx)}function zR(t){var e=gv(t);switch(e){case xo.BC1:case xo.BC2:case xo.BC3:case xo.BC4_UNORM:case xo.BC4_SNORM:case xo.BC5_UNORM:case xo.BC5_SNORM:return!0;default:return!1}}function zC(t){var e=w2(t);if(e&Es.Normalized)return!1;var r=gv(t);return r===xo.S8||r===xo.S16||r===xo.S32||r===xo.U8||r===xo.U16||r===xo.U32}function a8(t){switch(t){case Hp.STATIC:return ci.STATIC_DRAW;case Hp.DYNAMIC:return ci.DYNAMIC_DRAW}}function ZR(t){if(t&Af.INDEX)return ci.ELEMENT_ARRAY_BUFFER;if(t&Af.VERTEX)return ci.ARRAY_BUFFER;if(t&Af.UNIFORM)return ci.UNIFORM_BUFFER}function o8(t){switch(t){case Vd.TRIANGLES:return ci.TRIANGLES;case Vd.POINTS:return ci.POINTS;case Vd.TRIANGLE_STRIP:return ci.TRIANGLE_STRIP;case Vd.LINES:return ci.LINES;case Vd.LINE_STRIP:return ci.LINE_STRIP;default:throw new Error("Unknown primitive topology mode")}}function s8(t){switch(t){case xo.U8:return ci.UNSIGNED_BYTE;case xo.U16:return ci.UNSIGNED_SHORT;case xo.U32:return ci.UNSIGNED_INT;case xo.S8:return ci.BYTE;case xo.S16:return ci.SHORT;case xo.S32:return ci.INT;case xo.F16:return ci.HALF_FLOAT;case xo.F32:return ci.FLOAT;default:throw new Error("whoops")}}function u8(t){switch(t){case eu.R:return 1;case eu.RG:return 2;case eu.RGB:return 3;case eu.RGBA:return 4;default:return 1}}function l8(t){var e=gv(t),r=zT(t),u=w2(t),d=s8(e),h=u8(r),y=!!(u&Es.Normalized);return{size:h,type:d,normalized:y}}function ZC(t){switch(t){case oa.U8_R:return ci.UNSIGNED_BYTE;case oa.U16_R:return ci.UNSIGNED_SHORT;case oa.U32_R:return ci.UNSIGNED_INT;default:throw new Error("whoops")}}function L2(t){switch(t){case mp.CLAMP_TO_EDGE:return ci.CLAMP_TO_EDGE;case mp.REPEAT:return ci.REPEAT;case mp.MIRRORED_REPEAT:return ci.MIRRORED_REPEAT;default:throw new Error("whoops")}}function N2(t,e){if(e===vh.LINEAR&&t===mh.BILINEAR)return ci.LINEAR_MIPMAP_LINEAR;if(e===vh.LINEAR&&t===mh.POINT)return ci.NEAREST_MIPMAP_LINEAR;if(e===vh.NEAREST&&t===mh.BILINEAR)return ci.LINEAR_MIPMAP_NEAREST;if(e===vh.NEAREST&&t===mh.POINT)return ci.NEAREST_MIPMAP_NEAREST;if(e===vh.NO_MIP&&t===mh.BILINEAR)return ci.LINEAR;if(e===vh.NO_MIP&&t===mh.POINT)return ci.NEAREST;throw new Error("Unknown texture filter mode")}function D2(t,e){e===void 0&&(e=0);var r=t;return r.gl_buffer_pages[e/r.pageByteSize|0]}function k2(t){var e=t;return e.gl_texture}function jC(t){var e=t;return e.gl_sampler}function B2(t,e){t.name=e,t.__SPECTOR_Metadata={name:e}}function jR(t,e){for(var r=[];;){var u=e.exec(t);if(!u)break;r.push(u)}return r}function iy(t){return t.blendMode==w0.ADD&&t.blendSrcFactor==Xl.ONE&&t.blendDstFactor===Xl.ZERO}function c8(t){switch(t){case UT.OcclusionConservative:return ci.ANY_SAMPLES_PASSED_CONSERVATIVE;default:throw new Error("whoops")}}function f8(t){if(t===Ql.TEXTURE_2D)return ci.TEXTURE_2D;if(t===Ql.TEXTURE_2D_ARRAY)return ci.TEXTURE_2D_ARRAY;if(t===Ql.TEXTURE_CUBE_MAP)return ci.TEXTURE_CUBE_MAP;if(t===Ql.TEXTURE_3D)return ci.TEXTURE_3D;throw new Error("whoops")}function HC(t,e,r,u){return!(t%r!==0||e%u!==0)}var d8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;y.type=Hc.Buffer;var M=h.viewOrSize,U=h.usage,re=h.hint,Ee=re===void 0?Hp.STATIC:re,Ae=d.uniformBufferMaxPageByteSize,We=d.gl,Ht=U&Af.UNIFORM;Ht||(du(We)?We.bindVertexArray(null):d.OES_vertex_array_object.bindVertexArrayOES(null));var Tn=(0,A2.Z)(M)?E_(M,4):E_(M.byteLength,4);y.gl_buffer_pages=[];var Fn;if(Ht){for(var br=Tn;br>0;)y.gl_buffer_pages.push(y.createBufferPage(Math.min(br,Ae),U,Ee)),br-=Ae;Fn=Ae}else y.gl_buffer_pages.push(y.createBufferPage(Tn,U,Ee)),Fn=Tn;return y.pageByteSize=Fn,y.byteSize=Tn,y.usage=U,y.gl_target=ZR(U),(0,A2.Z)(M)||y.setSubData(0,new Uint8Array(M.buffer)),Ht||(du(We)?We.bindVertexArray(y.device.currentBoundVAO):d.OES_vertex_array_object.bindVertexArrayOES(y.device.currentBoundVAO)),y}return e.prototype.setSubData=function(r,u,d,h){d===void 0&&(d=0),h===void 0&&(h=u.byteLength-d);for(var y=this.device.gl,M=this.pageByteSize,U=r+h,re=r,Ee=r%M;re<U;){var Ae=du(y)?y.COPY_WRITE_BUFFER:this.gl_target,We=D2(this,re);if(We.ubo)return;y.bindBuffer(Ae,We),du(y)?y.bufferSubData(Ae,Ee,u,d,Math.min(U-re,M)):y.bufferSubData(Ae,Ee,u),re+=M,Ee=0,d+=M,this.device.debugGroupStatisticsBufferUpload()}},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.gl_buffer_pages.length;r++)this.gl_buffer_pages[r].ubo||this.device.gl.deleteBuffer(this.gl_buffer_pages[r]);this.gl_buffer_pages=[]},e.prototype.createBufferPage=function(r,u,d){var h=this.device.gl,y=u&Af.UNIFORM;if(!du(h)&&y)return{ubo:!0};var M=this.device.ensureResourceExists(h.createBuffer()),U=ZR(u),re=a8(d);return h.bindBuffer(U,M),h.bufferData(U,r,re),M},e}(Wg),HR=function(t){(0,Ns.ZT)(e,t);function e(r){var u,d,h,y,M=r.id,U=r.device,re=r.descriptor,Ee,Ae=t.call(this,{id:M,device:U})||this;Ae.type=Hc.InputLayout;var We=re.vertexBufferDescriptors,Ht=re.indexBufferFormat,Tn=re.program;Cl(Ht===oa.U16_R||Ht===oa.U32_R||Ht===null);var Fn=Ht!==null?ZC(Ht):null,br=Ht!==null?vR(Ht):null,ei=Ae.device.gl,Jr=Ae.device.ensureResourceExists(du(ei)?ei.createVertexArray():U.OES_vertex_array_object.createVertexArrayOES());du(ei)?ei.bindVertexArray(Jr):U.OES_vertex_array_object.bindVertexArrayOES(Jr),ei.bindBuffer(ei.ARRAY_BUFFER,D2(Ae.device.fallbackVertexBuffer));try{for(var zi=(0,Ns.XA)(re.vertexBufferDescriptors),ca=zi.next();!ca.done;ca=zi.next()){var Da=ca.value,Va=Da.stepMode,va=Da.attributes;try{for(var io=(h=void 0,(0,Ns.XA)(va)),Os=io.next();!Os.done;Os=io.next()){var Hu=Os.value,Ds=Hu.shaderLocation,il=Hu.format,jl=Hu.divisor,Ch=jl===void 0?1:jl,f0=du(ei)?Ds:(Ee=Tn.attributes[Ds])===null||Ee===void 0?void 0:Ee.location,yh=l8(il);if(Hu.vertexFormat=yh,!(0,tg.Z)(f0)){zC(il);var Hl=yh.size,Vh=yh.type,U0=yh.normalized;ei.vertexAttribPointer(f0,Hl,Vh,U0,0,0),Va===pv.INSTANCE&&(du(ei)?ei.vertexAttribDivisor(f0,Ch):U.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(f0,Ch)),ei.enableVertexAttribArray(f0)}}}catch(yv){h={error:yv}}finally{try{Os&&!Os.done&&(y=io.return)&&y.call(io)}finally{if(h)throw h.error}}}}catch(yv){u={error:yv}}finally{try{ca&&!ca.done&&(d=zi.return)&&d.call(zi)}finally{if(u)throw u.error}}return du(ei)?ei.bindVertexArray(null):U.OES_vertex_array_object.bindVertexArrayOES(null),Ae.vertexBufferDescriptors=We,Ae.vao=Jr,Ae.indexBufferFormat=Ht,Ae.indexBufferType=Fn,Ae.indexBufferCompByteSize=br,Ae.program=Tn,Ae}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.device.currentBoundVAO===this.vao&&(du(this.device.gl)?(this.device.gl.bindVertexArray(null),this.device.gl.deleteVertexArray(this.vao)):(this.device.OES_vertex_array_object.bindVertexArrayOES(null),this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao)),this.device.currentBoundVAO=null)},e}(Wg),WC=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=r.fake,M=t.call(this,{id:u,device:d})||this;M.type=Hc.Texture,h=(0,Ns.pi)({dimension:Ql.TEXTURE_2D,depthOrArrayLayers:1,mipLevelCount:1},h);var U=M.device.gl,re,Ee,Ae=M.clampmipLevelCount(h);if(M.immutable=h.usage===Q0.RENDER_TARGET,M.pixelStore=h.pixelStore,M.format=h.format,M.dimension=h.dimension,M.formatKind=yR(h.format),M.width=h.width,M.height=h.height,M.depthOrArrayLayers=h.depthOrArrayLayers,M.mipmaps=Ae>=1,!y){Ee=M.device.ensureResourceExists(U.createTexture());var We=M.device.translateTextureType(h.format),Ht=M.device.translateTextureInternalFormat(h.format);if(M.device.setActiveTexture(U.TEXTURE0),M.device.currentTextures[0]=null,M.preprocessImage(),h.dimension===Ql.TEXTURE_2D){if(re=ci.TEXTURE_2D,U.bindTexture(re,Ee),M.immutable)if(du(U))U.texStorage2D(re,Ae,Ht,h.width,h.height);else{var Tn=(Ht===ci.DEPTH_COMPONENT||M.isNPOT(),0);(M.format===oa.D32F||M.format===oa.D24_S8)&&!du(U)&&!d.WEBGL_depth_texture||(U.texImage2D(re,Tn,Ht,h.width,h.height,0,Ht,We,null),M.mipmaps&&(M.mipmaps=!1,U.texParameteri(ci.TEXTURE_2D,ci.TEXTURE_MIN_FILTER,ci.LINEAR),U.texParameteri(ci.TEXTURE_2D,ci.TEXTURE_WRAP_S,ci.CLAMP_TO_EDGE),U.texParameteri(ci.TEXTURE_2D,ci.TEXTURE_WRAP_T,ci.CLAMP_TO_EDGE)))}Cl(h.depthOrArrayLayers===1)}else if(h.dimension===Ql.TEXTURE_2D_ARRAY)re=ci.TEXTURE_2D_ARRAY,U.bindTexture(re,Ee),M.immutable&&du(U)&&U.texStorage3D(re,Ae,Ht,h.width,h.height,h.depthOrArrayLayers);else if(h.dimension===Ql.TEXTURE_3D)re=ci.TEXTURE_3D,U.bindTexture(re,Ee),M.immutable&&du(U)&&U.texStorage3D(re,Ae,Ht,h.width,h.height,h.depthOrArrayLayers);else if(h.dimension===Ql.TEXTURE_CUBE_MAP)re=ci.TEXTURE_CUBE_MAP,U.bindTexture(re,Ee),M.immutable&&du(U)&&U.texStorage2D(re,Ae,Ht,h.width,h.height),Cl(h.depthOrArrayLayers===6);else throw new Error("whoops")}return M.gl_texture=Ee,M.gl_target=re,M.mipLevelCount=Ae,M}return e.prototype.setImageData=function(r,u){u===void 0&&(u=0);var d=this.device.gl;zR(this.format);var h=this.gl_target===ci.TEXTURE_3D||this.gl_target===ci.TEXTURE_2D_ARRAY,y=this.gl_target===ci.TEXTURE_CUBE_MAP,M=n8(r[0]);this.device.setActiveTexture(d.TEXTURE0),this.device.currentTextures[0]=null;var U=r[0],re,Ee;M?(re=this.width,Ee=this.height):(re=U.width,Ee=U.height,this.width=re,this.height=Ee),d.bindTexture(this.gl_target,this.gl_texture);var Ae=this.device.translateTextureFormat(this.format),We=du(d)?this.device.translateInternalTextureFormat(this.format):Ae,Ht=this.device.translateTextureType(this.format);this.preprocessImage();for(var Tn=0;Tn<this.depthOrArrayLayers;Tn++){var Fn=r[Tn],br=this.gl_target;y&&(br=ci.TEXTURE_CUBE_MAP_POSITIVE_X+Tn%6),this.immutable?d.texSubImage2D(br,u,0,0,re,Ee,Ae,Ht,Fn):du(d)?h?d.texImage3D(br,u,We,re,Ee,this.depthOrArrayLayers,0,Ae,Ht,Fn):d.texImage2D(br,u,We,re,Ee,0,Ae,Ht,Fn):M?d.texImage2D(br,u,Ae,re,Ee,0,Ae,Ht,Fn):d.texImage2D(br,u,Ae,Ae,Ht,Fn)}this.mipmaps&&this.generateMipmap(h)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.device.gl.deleteTexture(k2(this))},e.prototype.clampmipLevelCount=function(r){if(r.dimension===Ql.TEXTURE_2D_ARRAY&&r.depthOrArrayLayers>1){var u=gv(r.format);if(u===xo.BC1)for(var d=r.width,h=r.height,y=0;y<r.mipLevelCount;y++){if(d<=2||h<=2)return y-1;d=Math.max(d/2|0,1),h=Math.max(h/2|0,1)}}return r.mipLevelCount},e.prototype.preprocessImage=function(){var r=this.device.gl;this.pixelStore&&(this.pixelStore.unpackFlipY&&r.pixelStorei(ci.UNPACK_FLIP_Y_WEBGL,!0),this.pixelStore.packAlignment&&r.pixelStorei(ci.PACK_ALIGNMENT,this.pixelStore.packAlignment),this.pixelStore.unpackAlignment&&r.pixelStorei(ci.UNPACK_ALIGNMENT,this.pixelStore.unpackAlignment))},e.prototype.generateMipmap=function(r){r===void 0&&(r=!1);var u=this.device.gl;return!du(u)&&this.isNPOT()?this:(this.gl_texture&&this.gl_target&&(u.bindTexture(this.gl_target,this.gl_texture),r?(u.texParameteri(this.gl_target,ci.TEXTURE_BASE_LEVEL,0),u.texParameteri(this.gl_target,ci.TEXTURE_MAX_LEVEL,Math.log2(this.width)),u.texParameteri(this.gl_target,ci.TEXTURE_MIN_FILTER,ci.LINEAR_MIPMAP_LINEAR),u.texParameteri(this.gl_target,ci.TEXTURE_MAG_FILTER,ci.LINEAR)):u.texParameteri(ci.TEXTURE_2D,ci.TEXTURE_MIN_FILTER,ci.NEAREST_MIPMAP_LINEAR),u.generateMipmap(this.gl_target),u.bindTexture(this.gl_target,null)),this)},e.prototype.isNPOT=function(){var r=this.device.gl;return du(r)?!1:!R2(this.width)||!R2(this.height)},e}(Wg),WR=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;y.type=Hc.RenderTarget,y.gl_renderbuffer=null,y.texture=null;var M=y.device.gl,U=h.format,re=h.width,Ee=h.height,Ae=h.sampleCount,We=Ae===void 0?1:Ae,Ht=h.texture,Tn=!1;if((U===oa.D32F||U===oa.D24_S8)&&Ht&&!du(M)&&!d.WEBGL_depth_texture&&(Ht.destroy(),y.texture=null,Tn=!0),!Tn&&Ht)y.texture=Ht;else{y.gl_renderbuffer=y.device.ensureResourceExists(M.createRenderbuffer()),M.bindRenderbuffer(M.RENDERBUFFER,y.gl_renderbuffer);var Fn=y.device.translateTextureInternalFormat(U,!0);du(M)&&We>1?M.renderbufferStorageMultisample(ci.RENDERBUFFER,We,Fn,re,Ee):M.renderbufferStorage(ci.RENDERBUFFER,Fn,re,Ee)}return y.format=U,y.width=re,y.height=Ee,y.sampleCount=We,y}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gl_renderbuffer!==null&&this.device.gl.deleteRenderbuffer(this.gl_renderbuffer),this.texture&&this.texture.destroy()},e}(Wg),rg;(function(t){t[t.NeedsCompile=0]="NeedsCompile",t[t.Compiling=1]="Compiling",t[t.NeedsBind=2]="NeedsBind",t[t.ReadyToUse=3]="ReadyToUse"})(rg||(rg={}));var h8=function(t){(0,Ns.ZT)(e,t);function e(r,u){var d=r.id,h=r.device,y=r.descriptor,M=t.call(this,{id:d,device:h})||this;M.rawVertexGLSL=u,M.type=Hc.Program,M.uniformSetters={},M.attributes=[];var U=M.device.gl;return M.descriptor=y,M.gl_program=M.device.ensureResourceExists(U.createProgram()),M.gl_shader_vert=null,M.gl_shader_frag=null,M.compileState=rg.NeedsCompile,M.tryCompileProgram(),M}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.device.gl.deleteProgram(this.gl_program),this.device.gl.deleteShader(this.gl_shader_vert),this.device.gl.deleteShader(this.gl_shader_frag)},e.prototype.tryCompileProgram=function(){Cl(this.compileState===rg.NeedsCompile);var r=this.descriptor,u=r.vertex,d=r.fragment,h=this.device.gl;u!=null&&u.glsl&&(d!=null&&d.glsl)&&(this.gl_shader_vert=this.compileShader(u.postprocess?u.postprocess(u.glsl):u.glsl,h.VERTEX_SHADER),this.gl_shader_frag=this.compileShader(d.postprocess?d.postprocess(d.glsl):d.glsl,h.FRAGMENT_SHADER),h.attachShader(this.gl_program,this.gl_shader_vert),h.attachShader(this.gl_program,this.gl_shader_frag),h.linkProgram(this.gl_program),this.compileState=rg.Compiling,du(h)||(this.readUniformLocationsFromLinkedProgram(),this.readAttributesFromLinkedProgram()))},e.prototype.readAttributesFromLinkedProgram=function(){for(var r,u=this.device.gl,d=u.getProgramParameter(this.gl_program,u.ACTIVE_ATTRIBUTES),h=kR(this.descriptor.vertex.glsl),y=BR(this.rawVertexGLSL,h),M=function(Ee){var Ae=u.getActiveAttrib(U.gl_program,Ee),We=Ae.name,Ht=Ae.type,Tn=Ae.size,Fn=u.getAttribLocation(U.gl_program,We),br=(r=y.find(function(ei){return ei.name===We}))===null||r===void 0?void 0:r.location;Fn>=0&&!(0,tg.Z)(br)&&(U.attributes[br]={name:We,location:Fn,type:Ht,size:Tn})},U=this,re=0;re<d;re++)M(re)},e.prototype.readUniformLocationsFromLinkedProgram=function(){for(var r=this.device.gl,u=r.getProgramParameter(this.gl_program,r.ACTIVE_UNIFORMS),d=0;d<u;d++){var h=r.getActiveUniform(this.gl_program,d),y=QL(h.name).name,M=r.getUniformLocation(this.gl_program,y);if(this.uniformSetters[y]=YT(r,M,h),h&&h.size>1)for(var U=0;U<h.size;U++)M=r.getUniformLocation(this.gl_program,"".concat(y,"[").concat(U,"]")),this.uniformSetters["".concat(y,"[").concat(U,"]")]=YT(r,M,h)}},e.prototype.compileShader=function(r,u){var d=this.device.gl,h=this.device.ensureResourceExists(d.createShader(u));return d.shaderSource(h,r),d.compileShader(h),h},e.prototype.setUniformsLegacy=function(r){r===void 0&&(r={});var u=this.device.gl;if(!du(u)){var d=!1;for(var h in r){d||(u.useProgram(this.gl_program),d=!0);var y=r[h],M=this.uniformSetters[h];if(M){var U=y;U instanceof WC&&(U=U.textureIndex),M(U)}}}return this},e}(Wg),VR=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;y.type=Hc.QueryPool;var M=y.device.gl;if(du(M)){var U=h.elemCount,re=h.type;y.gl_query=ZL(U,function(){return y.device.ensureResourceExists(M.createQuery())}),y.gl_query_type=c8(re)}return y}return e.prototype.queryResultOcclusion=function(r){var u=this.device.gl;if(du(u)){var d=this.gl_query[r];return u.getQueryParameter(d,u.QUERY_RESULT_AVAILABLE)?!!u.getQueryParameter(d,u.QUERY_RESULT):null}return null},e.prototype.destroy=function(){t.prototype.destroy.call(this);var r=this.device.gl;if(du(r))for(var u=0;u<this.gl_query.length;u++)r.deleteQuery(this.gl_query[u])},e}(Wg),VC=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=t.call(this,{id:u,device:d})||this;return h.type=Hc.Readback,h.gl_pbo=null,h.gl_sync=null,h}return e.prototype.clientWaitAsync=function(r,u,d){u===void 0&&(u=0),d===void 0&&(d=10);var h=this.device.gl;return new Promise(function(y,M){function U(){var re=h.clientWaitSync(r,u,0);if(re==h.WAIT_FAILED){M();return}if(re==h.TIMEOUT_EXPIRED){setTimeout(U,(0,LC.Z)(d,0,h.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));return}y()}U()})},e.prototype.getBufferSubDataAsync=function(r,u,d,h,y,M){return(0,Ns.mG)(this,void 0,void 0,function(){var U;return(0,Ns.Jh)(this,function(re){switch(re.label){case 0:return U=this.device.gl,du(U)?(this.gl_sync=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0),U.flush(),[4,this.clientWaitAsync(this.gl_sync,0,10)]):[3,2];case 1:return re.sent(),U.bindBuffer(r,u),U.getBufferSubData(r,d,h,y,M),U.bindBuffer(r,null),[2,h];case 2:return[2]}})})},e.prototype.readTexture=function(r,u,d,h,y,M,U,re){return U===void 0&&(U=0),re===void 0&&(re=M.byteLength||0),(0,Ns.mG)(this,void 0,void 0,function(){var Ee,Ae,We,Ht,Tn;return(0,Ns.Jh)(this,function(Fn){return Ee=this.device.gl,Ae=r,We=this.device.translateTextureFormat(Ae.format),Ht=this.device.translateTextureType(Ae.format),Tn=LL(Ae.format),du(Ee)?(this.gl_pbo=this.device.ensureResourceExists(Ee.createBuffer()),Ee.bindBuffer(Ee.PIXEL_PACK_BUFFER,this.gl_pbo),Ee.bufferData(Ee.PIXEL_PACK_BUFFER,re,Ee.STREAM_READ),Ee.bindBuffer(Ee.PIXEL_PACK_BUFFER,null),Ee.bindFramebuffer(ci.READ_FRAMEBUFFER,this.device.readbackFramebuffer),Ee.framebufferTexture2D(ci.READ_FRAMEBUFFER,ci.COLOR_ATTACHMENT0,ci.TEXTURE_2D,Ae.gl_texture,0),Ee.bindBuffer(Ee.PIXEL_PACK_BUFFER,this.gl_pbo),Ee.readPixels(u,d,h,y,We,Ht,U*Tn),Ee.bindBuffer(Ee.PIXEL_PACK_BUFFER,null),[2,this.getBufferSubDataAsync(Ee.PIXEL_PACK_BUFFER,this.gl_pbo,0,M,U,0)]):[2,this.readTextureSync(r,u,d,h,y,M,U,re)]})})},e.prototype.readTextureSync=function(r,u,d,h,y,M,U,re){re===void 0&&(re=M.byteLength||0);var Ee=this.device.gl,Ae=r,We=this.device.translateTextureType(Ae.format);return Ee.bindFramebuffer(ci.FRAMEBUFFER,this.device.readbackFramebuffer),Ee.framebufferTexture2D(ci.FRAMEBUFFER,ci.COLOR_ATTACHMENT0,ci.TEXTURE_2D,Ae.gl_texture,0),Ee.pixelStorei(Ee.PACK_ALIGNMENT,4),Ee.readPixels(u,d,h,y,Ee.RGBA,We,M),M},e.prototype.readBuffer=function(r,u,d,h,y){return(0,Ns.mG)(this,void 0,void 0,function(){var M;return(0,Ns.Jh)(this,function(U){return M=this.device.gl,du(M)?[2,this.getBufferSubDataAsync(M.ARRAY_BUFFER,D2(r,u),u,d,h,y)]:[2,Promise.reject()]})})},e.prototype.destroy=function(){t.prototype.destroy.call(this),du(this.device.gl)&&(this.gl_sync!==null&&this.device.gl.deleteSync(this.gl_sync),this.gl_pbo!==null&&this.device.gl.deleteBuffer(this.gl_pbo))},e}(Wg),p8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y,M,U=t.call(this,{id:u,device:d})||this;return U.type=Hc.RenderPipeline,U.drawMode=o8((y=h.topology)!==null&&y!==void 0?y:Vd.TRIANGLES),U.program=h.program,U.inputLayout=h.inputLayout,U.megaState=(0,Ns.pi)((0,Ns.pi)({},P2(x_)),h.megaStateDescriptor),U.colorAttachmentFormats=h.colorAttachmentFormats.slice(),U.depthStencilAttachmentFormat=h.depthStencilAttachmentFormat,U.sampleCount=(M=h.sampleCount)!==null&&M!==void 0?M:1,U}return e}(Wg),GC=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;return y.type=Hc.ComputePipeline,y.descriptor=h,y}return e}(Wg),GR=function(){function t(){this.liveObjects=new Set,this.creationStacks=new Map,this.deletionStacks=new Map}return t.prototype.trackResourceCreated=function(e){this.creationStacks.set(e,new Error().stack),this.liveObjects.add(e)},t.prototype.trackResourceDestroyed=function(e){this.deletionStacks.has(e)&&console.warn("Object double freed:",e,`

Creation stack: `,this.creationStacks.get(e),`

Deletion stack: `,this.deletionStacks.get(e),`

This stack: `,new Error().stack),this.deletionStacks.set(e,new Error().stack),this.liveObjects.delete(e)},t.prototype.checkForLeaks=function(){var e,r;try{for(var u=(0,Ns.XA)(this.liveObjects.values()),d=u.next();!d.done;d=u.next()){var h=d.value;console.warn("Object leaked:",h,"Creation stack:",this.creationStacks.get(h))}}catch(y){e={error:y}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}},t.prototype.setResourceLeakCheck=function(e,r){r?this.liveObjects.add(e):this.liveObjects.delete(e)},t}(),g8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y,M,U=t.call(this,{id:u,device:d})||this;U.type=Hc.Sampler;var re=U.device.gl;if(du(re)){var Ee=U.device.ensureResourceExists(re.createSampler());re.samplerParameteri(Ee,ci.TEXTURE_WRAP_S,L2(h.addressModeU)),re.samplerParameteri(Ee,ci.TEXTURE_WRAP_T,L2(h.addressModeV)),re.samplerParameteri(Ee,ci.TEXTURE_WRAP_R,L2((y=h.addressModeW)!==null&&y!==void 0?y:h.addressModeU)),re.samplerParameteri(Ee,ci.TEXTURE_MIN_FILTER,N2(h.minFilter,h.mipmapFilter)),re.samplerParameteri(Ee,ci.TEXTURE_MAG_FILTER,N2(h.magFilter,vh.NO_MIP)),h.lodMinClamp!==void 0&&re.samplerParameterf(Ee,ci.TEXTURE_MIN_LOD,h.lodMinClamp),h.lodMaxClamp!==void 0&&re.samplerParameterf(Ee,ci.TEXTURE_MAX_LOD,h.lodMaxClamp),h.compareFunction!==void 0&&(re.samplerParameteri(Ee,re.TEXTURE_COMPARE_MODE,re.COMPARE_REF_TO_TEXTURE),re.samplerParameteri(Ee,re.TEXTURE_COMPARE_FUNC,h.compareFunction));var Ae=(M=h.maxAnisotropy)!==null&&M!==void 0?M:1;Ae>1&&U.device.EXT_texture_filter_anisotropic!==null&&(Cl(h.minFilter===mh.BILINEAR&&h.magFilter===mh.BILINEAR&&h.mipmapFilter===vh.LINEAR),re.samplerParameterf(Ee,U.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ae)),U.gl_sampler=Ee}else U.descriptor=h;return U}return e.prototype.setTextureParameters=function(r,u,d){var h,y=this.device.gl,M=this.descriptor;this.isNPOT(u,d)?y.texParameteri(ci.TEXTURE_2D,ci.TEXTURE_MIN_FILTER,ci.LINEAR):y.texParameteri(r,ci.TEXTURE_MIN_FILTER,N2(M.minFilter,M.mipmapFilter)),y.texParameteri(ci.TEXTURE_2D,ci.TEXTURE_WRAP_S,L2(M.addressModeU)),y.texParameteri(ci.TEXTURE_2D,ci.TEXTURE_WRAP_T,L2(M.addressModeV)),y.texParameteri(r,ci.TEXTURE_MAG_FILTER,N2(M.magFilter,vh.NO_MIP));var U=(h=M.maxAnisotropy)!==null&&h!==void 0?h:1;U>1&&this.device.EXT_texture_filter_anisotropic!==null&&(Cl(M.minFilter===mh.BILINEAR&&M.magFilter===mh.BILINEAR&&M.mipmapFilter===vh.LINEAR),y.texParameteri(r,this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,U))},e.prototype.destroy=function(){t.prototype.destroy.call(this),du(this.device.gl)&&this.device.gl.deleteSampler(jC(this))},e.prototype.isNPOT=function(r,u){return!R2(r)||!R2(u)},e}(Wg),YR=function(){function t(){}return t.prototype.dispatchWorkgroups=function(e,r,u){},t.prototype.dispatchWorkgroupsIndirect=function(e,r){},t.prototype.setPipeline=function(e){},t.prototype.setBindings=function(e){},t.prototype.pushDebugGroup=function(e){},t.prototype.popDebugGroup=function(){},t.prototype.insertDebugMarker=function(e){},t}(),$R=function(t){(0,Ns.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Hc.RenderBundle,r.commands=[],r}return e.prototype.push=function(r){this.commands.push(r)},e.prototype.replay=function(){this.commands.forEach(function(r){return r()})},e}(Wg),XR=65536,$T=/uniform(?:\s+)(\w+)(?:\s?){([^]*?)}/g,m8=function(){function t(e,r){r===void 0&&(r={}),this.shaderDebug=!1,this.OES_vertex_array_object=null,this.ANGLE_instanced_arrays=null,this.OES_texture_float=null,this.OES_draw_buffers_indexed=null,this.WEBGL_draw_buffers=null,this.WEBGL_depth_texture=null,this.WEBGL_color_buffer_float=null,this.EXT_color_buffer_half_float=null,this.WEBGL_compressed_texture_s3tc=null,this.WEBGL_compressed_texture_s3tc_srgb=null,this.EXT_texture_compression_rgtc=null,this.EXT_texture_filter_anisotropic=null,this.KHR_parallel_shader_compile=null,this.EXT_texture_norm16=null,this.EXT_color_buffer_float=null,this.OES_texture_float_linear=null,this.OES_texture_half_float_linear=null,this.scTexture=null,this.scPlatformFramebuffer=null,this.currentActiveTexture=null,this.currentBoundVAO=null,this.currentProgram=null,this.resourceCreationTracker=null,this.resourceUniqueId=0,this.currentColorAttachments=[],this.currentColorAttachmentLevels=[],this.currentColorResolveTos=[],this.currentColorResolveToLevels=[],this.currentSampleCount=-1,this.currentIndexBufferByteOffset=null,this.currentMegaState=P2(x_),this.currentSamplers=[],this.currentTextures=[],this.currentUniformBuffers=[],this.currentUniformBufferByteOffsets=[],this.currentUniformBufferByteSizes=[],this.currentScissorEnabled=!1,this.currentStencilRef=null,this.currentRenderPassDescriptor=null,this.currentRenderPassDescriptorStack=[],this.debugGroupStack=[],this.resolveColorAttachmentsChanged=!1,this.resolveDepthStencilAttachmentsChanged=!1,this.explicitBindingLocations=!1,this.separateSamplerTextures=!1,this.viewportOrigin=ym.LOWER_LEFT,this.clipSpaceNearZ=ey.NEGATIVE_ONE,this.supportMRT=!1,this.inBlitRenderPass=!1,this.supportedSampleCounts=[],this.occlusionQueriesRecommended=!1,this.computeShadersSupported=!1,this.gl=e,this.contextAttributes=b_(e.getContextAttributes()),du(e)?(this.EXT_texture_norm16=e.getExtension("EXT_texture_norm16"),this.EXT_color_buffer_float=e.getExtension("EXT_color_buffer_float")):(this.OES_vertex_array_object=e.getExtension("OES_vertex_array_object"),this.ANGLE_instanced_arrays=e.getExtension("ANGLE_instanced_arrays"),this.OES_texture_float=e.getExtension("OES_texture_float"),this.WEBGL_draw_buffers=e.getExtension("WEBGL_draw_buffers"),this.WEBGL_depth_texture=e.getExtension("WEBGL_depth_texture"),this.WEBGL_color_buffer_float=e.getExtension("WEBGL_color_buffer_float"),this.EXT_color_buffer_half_float=e.getExtension("EXT_color_buffer_half_float"),e.getExtension("EXT_frag_depth"),e.getExtension("OES_element_index_uint"),e.getExtension("OES_standard_derivatives")),this.WEBGL_compressed_texture_s3tc=e.getExtension("WEBGL_compressed_texture_s3tc"),this.WEBGL_compressed_texture_s3tc_srgb=e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),this.EXT_texture_compression_rgtc=e.getExtension("EXT_texture_compression_rgtc"),this.EXT_texture_filter_anisotropic=e.getExtension("EXT_texture_filter_anisotropic"),this.EXT_texture_norm16=e.getExtension("EXT_texture_norm16"),this.OES_texture_float_linear=e.getExtension("OES_texture_float_linear"),this.OES_texture_half_float_linear=e.getExtension("OES_texture_half_float_linear"),this.KHR_parallel_shader_compile=e.getExtension("KHR_parallel_shader_compile"),du(e)?(this.platformString="WebGL2",this.glslVersion="#version 300 es"):(this.platformString="WebGL1",this.glslVersion="#version 100"),this.scTexture=new WC({id:this.getNextUniqueId(),device:this,descriptor:{width:0,height:0,depthOrArrayLayers:1,dimension:Ql.TEXTURE_2D,mipLevelCount:1,usage:Q0.RENDER_TARGET,format:this.contextAttributes.alpha===!1?oa.U8_RGB_RT:oa.U8_RGBA_RT},fake:!0}),this.scTexture.formatKind=Bd.Float,this.scTexture.gl_target=null,this.scTexture.gl_texture=null,this.resolveColorReadFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveColorDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveDepthStencilReadFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveDepthStencilDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.renderPassDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.readbackFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.fallbackTexture2D=this.createFallbackTexture(Ql.TEXTURE_2D,Bd.Float),this.fallbackTexture2DDepth=this.createFallbackTexture(Ql.TEXTURE_2D,Bd.Depth),this.fallbackVertexBuffer=this.createBuffer({viewOrSize:1,usage:Af.VERTEX,hint:Hp.STATIC}),du(e)&&(this.fallbackTexture2DArray=this.createFallbackTexture(Ql.TEXTURE_2D_ARRAY,Bd.Float),this.fallbackTexture3D=this.createFallbackTexture(Ql.TEXTURE_3D,Bd.Float),this.fallbackTextureCube=this.createFallbackTexture(Ql.TEXTURE_CUBE_MAP,Bd.Float)),this.currentMegaState.depthCompare=Il.LESS,this.currentMegaState.depthWrite=!1,this.currentMegaState.attachmentsState[0].channelWriteMask=t0.ALL,e.enable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),this.checkLimits(),r.shaderDebug&&(this.shaderDebug=!0),r.trackResources&&(this.resourceCreationTracker=new GR)}return t.prototype.destroy=function(){this.blitBindings&&this.blitBindings.destroy(),this.blitInputLayout&&this.blitInputLayout.destroy(),this.blitRenderPipeline&&this.blitRenderPipeline.destroy(),this.blitVertexBuffer&&this.blitVertexBuffer.destroy(),this.blitProgram&&this.blitProgram.destroy()},t.prototype.createFallbackTexture=function(e,r){var u=e===Ql.TEXTURE_CUBE_MAP?6:1,d=r===Bd.Depth?oa.D32F:oa.U8_RGBA_NORM,h=this.createTexture({dimension:e,format:d,usage:Q0.SAMPLED,width:1,height:1,depthOrArrayLayers:u,mipLevelCount:1});return r===Bd.Float&&h.setImageData([new Uint8Array(4*u)]),k2(h)},t.prototype.getNextUniqueId=function(){return++this.resourceUniqueId},t.prototype.checkLimits=function(){var e=this.gl;if(this.maxVertexAttribs=e.getParameter(ci.MAX_VERTEX_ATTRIBS),du(e)){this.uniformBufferMaxPageByteSize=Math.min(e.getParameter(ci.MAX_UNIFORM_BLOCK_SIZE),XR),this.uniformBufferWordAlignment=e.getParameter(e.UNIFORM_BUFFER_OFFSET_ALIGNMENT)/4;var r=e.getInternalformatParameter(e.RENDERBUFFER,e.DEPTH32F_STENCIL8,e.SAMPLES);this.supportedSampleCounts=r?(0,Ns.ev)([],(0,Ns.CR)(r),!1):[],this.occlusionQueriesRecommended=!0}else this.uniformBufferWordAlignment=64,this.uniformBufferMaxPageByteSize=XR;this.uniformBufferMaxPageWordSize=this.uniformBufferMaxPageByteSize/4,this.supportedSampleCounts.includes(1)||this.supportedSampleCounts.push(1),this.supportedSampleCounts.sort(function(u,d){return u-d})},t.prototype.configureSwapChain=function(e,r,u){var d=this.scTexture;d.width=e,d.height=r,this.scPlatformFramebuffer=UL(u)},t.prototype.getDevice=function(){return this},t.prototype.getCanvas=function(){return this.gl.canvas},t.prototype.getOnscreenTexture=function(){return this.scTexture},t.prototype.beginFrame=function(){},t.prototype.endFrame=function(){},t.prototype.translateTextureInternalFormat=function(e,r){switch(r===void 0&&(r=!1),e){case oa.ALPHA:return ci.ALPHA;case oa.U8_LUMINANCE:case oa.F16_LUMINANCE:case oa.F32_LUMINANCE:return ci.LUMINANCE;case oa.F16_R:return ci.R16F;case oa.F16_RG:return ci.RG16F;case oa.F16_RGB:return ci.RGB16F;case oa.F16_RGBA:return ci.RGBA16F;case oa.F32_R:return ci.R32F;case oa.F32_RG:return ci.RG32F;case oa.F32_RGB:return ci.RGB32F;case oa.F32_RGBA:return du(this.gl)?ci.RGBA32F:r?this.WEBGL_color_buffer_float.RGBA32F_EXT:ci.RGBA;case oa.U8_R_NORM:return ci.R8;case oa.U8_RG_NORM:return ci.RG8;case oa.U8_RGB_NORM:case oa.U8_RGB_RT:return ci.RGB8;case oa.U8_RGB_SRGB:return ci.SRGB8;case oa.U8_RGBA_NORM:case oa.U8_RGBA_RT:return du(this.gl)?ci.RGBA8:r?ci.RGBA4:ci.RGBA;case oa.U8_RGBA:return ci.RGBA;case oa.U8_RGBA_SRGB:case oa.U8_RGBA_RT_SRGB:return ci.SRGB8_ALPHA8;case oa.U16_R:return ci.R16UI;case oa.U16_R_NORM:return this.EXT_texture_norm16.R16_EXT;case oa.U16_RG_NORM:return this.EXT_texture_norm16.RG16_EXT;case oa.U16_RGBA_NORM:return this.EXT_texture_norm16.RGBA16_EXT;case oa.U16_RGBA_5551:return ci.RGB5_A1;case oa.U16_RGB_565:return ci.RGB565;case oa.U32_R:return ci.R32UI;case oa.S8_RGBA_NORM:return ci.RGBA8_SNORM;case oa.S8_RG_NORM:return ci.RG8_SNORM;case oa.BC1:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;case oa.BC1_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;case oa.BC2:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;case oa.BC2_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;case oa.BC3:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;case oa.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;case oa.BC4_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;case oa.BC4_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT;case oa.BC5_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;case oa.BC5_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;case oa.D32F_S8:return du(this.gl)?ci.DEPTH32F_STENCIL8:this.WEBGL_depth_texture?ci.DEPTH_STENCIL:ci.DEPTH_COMPONENT16;case oa.D24_S8:return du(this.gl)?ci.DEPTH24_STENCIL8:this.WEBGL_depth_texture?ci.DEPTH_STENCIL:ci.DEPTH_COMPONENT16;case oa.D32F:return du(this.gl)?ci.DEPTH_COMPONENT32F:this.WEBGL_depth_texture?ci.DEPTH_COMPONENT:ci.DEPTH_COMPONENT16;case oa.D24:return du(this.gl)?ci.DEPTH_COMPONENT24:this.WEBGL_depth_texture?ci.DEPTH_COMPONENT:ci.DEPTH_COMPONENT16;default:throw new Error("whoops")}},t.prototype.translateTextureType=function(e){var r=gv(e);switch(r){case xo.U8:return ci.UNSIGNED_BYTE;case xo.U16:return ci.UNSIGNED_SHORT;case xo.U32:return ci.UNSIGNED_INT;case xo.S8:return ci.BYTE;case xo.F16:return ci.HALF_FLOAT;case xo.F32:return ci.FLOAT;case xo.U16_PACKED_5551:return ci.UNSIGNED_SHORT_5_5_5_1;case xo.D32F:return du(this.gl)?ci.FLOAT:this.WEBGL_depth_texture?ci.UNSIGNED_INT:ci.UNSIGNED_BYTE;case xo.D24:return du(this.gl)?ci.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?ci.UNSIGNED_SHORT:ci.UNSIGNED_BYTE;case xo.D24S8:return du(this.gl)?ci.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?ci.UNSIGNED_INT_24_8_WEBGL:ci.UNSIGNED_BYTE;case xo.D32FS8:return ci.FLOAT_32_UNSIGNED_INT_24_8_REV;default:throw new Error("whoops")}},t.prototype.translateInternalTextureFormat=function(e){switch(e){case oa.F32_R:return ci.R32F;case oa.F32_RG:return ci.RG32F;case oa.F32_RGB:return ci.RGB32F;case oa.F32_RGBA:return ci.RGBA32F;case oa.F16_R:return ci.R16F;case oa.F16_RG:return ci.RG16F;case oa.F16_RGB:return ci.RGB16F;case oa.F16_RGBA:return ci.RGBA16F}return this.translateTextureFormat(e)},t.prototype.translateTextureFormat=function(e){if(zR(e)||e===oa.F32_LUMINANCE||e===oa.U8_LUMINANCE)return this.translateTextureInternalFormat(e);var r=du(this.gl)||!du(this.gl)&&!!this.WEBGL_depth_texture;switch(e){case oa.D24_S8:case oa.D32F_S8:return r?ci.DEPTH_STENCIL:ci.RGBA;case oa.D24:case oa.D32F:return r?ci.DEPTH_COMPONENT:ci.RGBA}var u=zC(e),d=zT(e);switch(d){case eu.A:return ci.ALPHA;case eu.R:return u?ci.RED_INTEGER:ci.RED;case eu.RG:return u?ci.RG_INTEGER:ci.RG;case eu.RGB:return u?ci.RGB_INTEGER:ci.RGB;case eu.RGBA:return ci.RGBA}},t.prototype.setActiveTexture=function(e){this.currentActiveTexture!==e&&(this.gl.activeTexture(e),this.currentActiveTexture=e)},t.prototype.bindVAO=function(e){this.currentBoundVAO!==e&&(du(this.gl)?this.gl.bindVertexArray(e):this.OES_vertex_array_object.bindVertexArrayOES(e),this.currentBoundVAO=e)},t.prototype.programCompiled=function(e){Cl(e.compileState!==rg.NeedsCompile),e.compileState===rg.Compiling&&(e.compileState=rg.NeedsBind,this.shaderDebug&&this.checkProgramCompilationForErrors(e))},t.prototype.useProgram=function(e){this.currentProgram!==e&&(this.programCompiled(e),this.gl.useProgram(e.gl_program),this.currentProgram=e)},t.prototype.ensureResourceExists=function(e){if(e===null){var r=this.gl.getError();throw new Error("Created resource is null; GL error encountered: ".concat(r))}else return e},t.prototype.createBuffer=function(e){return new d8({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createTexture=function(e){return new WC({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createSampler=function(e){return new g8({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createRenderTarget=function(e){return new WR({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createRenderTargetFromTexture=function(e){var r=e,u=r.format,d=r.width,h=r.height,y=r.mipLevelCount;return Cl(y===1),this.createRenderTarget({format:u,width:d,height:h,sampleCount:1,texture:e})},t.prototype.createProgram=function(e){var r,u,d,h=(r=e.vertex)===null||r===void 0?void 0:r.glsl;return!((u=e.vertex)===null||u===void 0)&&u.glsl&&(e.vertex.glsl=ry(this.queryVendorInfo(),"vert",e.vertex.glsl)),!((d=e.fragment)===null||d===void 0)&&d.glsl&&(e.fragment.glsl=ry(this.queryVendorInfo(),"frag",e.fragment.glsl)),this.createProgramSimple(e,h)},t.prototype.createProgramSimple=function(e,r){var u=new h8({id:this.getNextUniqueId(),device:this,descriptor:e},r);return u},t.prototype.createBindings=function(e){return new i8({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createInputLayout=function(e){return new HR({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createRenderPipeline=function(e){return new p8({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createComputePass=function(){return new YR},t.prototype.createComputePipeline=function(e){return new GC({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createReadback=function(){return new VC({id:this.getNextUniqueId(),device:this})},t.prototype.createQueryPool=function(e,r){return new VR({id:this.getNextUniqueId(),device:this,descriptor:{type:e,elemCount:r}})},t.prototype.formatRenderPassDescriptor=function(e){var r,u,d,h,y,M,U=e.colorAttachment;e.depthClearValue=(r=e.depthClearValue)!==null&&r!==void 0?r:"load",e.stencilClearValue=(u=e.stencilClearValue)!==null&&u!==void 0?u:"load";for(var re=0;re<U.length;re++)e.colorAttachmentLevel||(e.colorAttachmentLevel=[]),e.colorAttachmentLevel[re]=(d=e.colorAttachmentLevel[re])!==null&&d!==void 0?d:0,e.colorResolveToLevel||(e.colorResolveToLevel=[]),e.colorResolveToLevel[re]=(h=e.colorResolveToLevel[re])!==null&&h!==void 0?h:0,e.colorClearColor||(e.colorClearColor=[]),e.colorClearColor[re]=(y=e.colorClearColor[re])!==null&&y!==void 0?y:"load",e.colorStore||(e.colorStore=[]),e.colorStore[re]=(M=e.colorStore[re])!==null&&M!==void 0?M:!1},t.prototype.createRenderBundle=function(){return new $R({id:this.getNextUniqueId(),device:this})},t.prototype.beginBundle=function(e){this.renderBundle=e},t.prototype.endBundle=function(){this.renderBundle=void 0},t.prototype.executeBundles=function(e){e.forEach(function(r){r.replay()})},t.prototype.createRenderPass=function(e){this.currentRenderPassDescriptor!==null&&this.currentRenderPassDescriptorStack.push(this.currentRenderPassDescriptor),this.currentRenderPassDescriptor=e,this.formatRenderPassDescriptor(e);var r=e.colorAttachment,u=e.colorAttachmentLevel,d=e.colorClearColor,h=e.colorResolveTo,y=e.colorResolveToLevel,M=e.depthStencilAttachment,U=e.depthClearValue,re=e.stencilClearValue,Ee=e.depthStencilResolveTo,Ae=h&&h.length===1&&h[0]===this.scTexture;this.setRenderPassParametersBegin(r.length,Ae);for(var We=0;We<r.length;We++)this.setRenderPassParametersColor(We,r[We],u[We],h[We],y[We],Ae);this.setRenderPassParametersDepthStencil(M,Ee,Ae),this.validateCurrentAttachments();for(var We=0;We<r.length;We++){var Ht=d[We];Ht!=="load"&&this.setRenderPassParametersClearColor(We,Ht.r,Ht.g,Ht.b,Ht.a)}return this.setRenderPassParametersClearDepthStencil(U,re),this},t.prototype.submitPass=function(e){Cl(this.currentRenderPassDescriptor!==null),this.endPass(),this.currentRenderPassDescriptorStack.length?this.currentRenderPassDescriptor=this.currentRenderPassDescriptorStack.pop():this.currentRenderPassDescriptor=null},t.prototype.copySubTexture2D=function(e,r,u,d,h,y){var M=this.gl,U=e,re=d;if(Cl(re.mipLevelCount===1),Cl(U.mipLevelCount===1),du(M))U===this.scTexture?M.bindFramebuffer(M.DRAW_FRAMEBUFFER,this.scPlatformFramebuffer):(M.bindFramebuffer(M.DRAW_FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.bindFramebufferAttachment(M.DRAW_FRAMEBUFFER,M.COLOR_ATTACHMENT0,U,0)),M.bindFramebuffer(M.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.bindFramebufferAttachment(M.READ_FRAMEBUFFER,M.COLOR_ATTACHMENT0,re,0),M.blitFramebuffer(h,y,h+re.width,y+re.height,r,u,r+re.width,u+re.height,M.COLOR_BUFFER_BIT,M.LINEAR),M.bindFramebuffer(M.READ_FRAMEBUFFER,null),M.bindFramebuffer(M.DRAW_FRAMEBUFFER,null);else if(U===this.scTexture){var Ee=this.createRenderTargetFromTexture(d);this.submitBlitRenderPass(Ee,U)}},t.prototype.queryLimits=function(){return this},t.prototype.queryTextureFormatSupported=function(e,r,u){switch(e){case oa.BC1_SRGB:case oa.BC2_SRGB:case oa.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb!==null?HC(r,u,4,4):!1;case oa.BC1:case oa.BC2:case oa.BC3:return this.WEBGL_compressed_texture_s3tc!==null?HC(r,u,4,4):!1;case oa.BC4_UNORM:case oa.BC4_SNORM:case oa.BC5_UNORM:case oa.BC5_SNORM:return this.EXT_texture_compression_rgtc!==null?HC(r,u,4,4):!1;case oa.U16_R_NORM:case oa.U16_RG_NORM:case oa.U16_RGBA_NORM:return this.EXT_texture_norm16!==null;case oa.F32_R:case oa.F32_RG:case oa.F32_RGB:case oa.F32_RGBA:return this.OES_texture_float_linear!==null;case oa.F16_R:case oa.F16_RG:case oa.F16_RGB:case oa.F16_RGBA:return this.OES_texture_half_float_linear!==null;default:return!0}},t.prototype.queryProgramReady=function(e){var r=this.gl;if(e.compileState===rg.NeedsCompile)throw new Error("whoops");if(e.compileState===rg.Compiling){var u=void 0;return this.KHR_parallel_shader_compile!==null?u=r.getProgramParameter(e.gl_program,this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR):u=!0,u&&this.programCompiled(e),u}return e.compileState===rg.NeedsBind||e.compileState===rg.ReadyToUse},t.prototype.queryPlatformAvailable=function(){return this.gl.isContextLost()},t.prototype.queryVendorInfo=function(){return this},t.prototype.queryRenderPass=function(e){return this.currentRenderPassDescriptor},t.prototype.queryRenderTarget=function(e){var r=e;return r},t.prototype.setResourceName=function(e,r){if(e.name=r,e.type===Hc.Buffer)for(var u=e.gl_buffer_pages,d=0;d<u.length;d++)B2(u[d],"".concat(r," Page ").concat(d));else if(e.type===Hc.Texture)B2(k2(e),r);else if(e.type===Hc.Sampler)B2(jC(e),r);else if(e.type===Hc.RenderTarget){var h=e.gl_renderbuffer;h!==null&&B2(h,r)}else e.type===Hc.InputLayout&&B2(e.vao,r)},t.prototype.setResourceLeakCheck=function(e,r){this.resourceCreationTracker!==null&&this.resourceCreationTracker.setResourceLeakCheck(e,r)},t.prototype.checkForLeaks=function(){this.resourceCreationTracker!==null&&this.resourceCreationTracker.checkForLeaks()},t.prototype.pushDebugGroup=function(e){},t.prototype.popDebugGroup=function(){},t.prototype.insertDebugMarker=function(e){},t.prototype.programPatched=function(e,r){Cl(this.shaderDebug)},t.prototype.getBufferData=function(e,r,u){u===void 0&&(u=0);var d=this.gl;du(d)&&(d.bindBuffer(d.COPY_READ_BUFFER,D2(e,u*4)),d.getBufferSubData(d.COPY_READ_BUFFER,u*4,r))},t.prototype.debugGroupStatisticsDrawCall=function(e){e===void 0&&(e=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].drawCallCount+=e},t.prototype.debugGroupStatisticsBufferUpload=function(e){e===void 0&&(e=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].bufferUploadCount+=e},t.prototype.debugGroupStatisticsTextureBind=function(e){e===void 0&&(e=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].textureBindCount+=e},t.prototype.debugGroupStatisticsTriangles=function(e){for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].triangleCount+=e},t.prototype.reportShaderError=function(e,r){var u=this.gl,d=u.getShaderParameter(e,u.COMPILE_STATUS);if(!d){console.error(jL(r));var h=u.getExtension("WEBGL_debug_shaders");h&&console.error(h.getTranslatedShaderSource(e)),console.error(u.getShaderInfoLog(e))}return d},t.prototype.checkProgramCompilationForErrors=function(e){var r=this.gl,u=e.gl_program;if(!r.getProgramParameter(u,r.LINK_STATUS)){var d=e.descriptor;if(!this.reportShaderError(e.gl_shader_vert,d.vertex.glsl)||!this.reportShaderError(e.gl_shader_frag,d.fragment.glsl))return;console.error(r.getProgramInfoLog(e.gl_program))}},t.prototype.bindFramebufferAttachment=function(e,r,u,d){var h=this.gl;if((0,tg.Z)(u))h.framebufferRenderbuffer(e,r,h.RENDERBUFFER,null);else if(u.type===Hc.RenderTarget)u.gl_renderbuffer!==null?h.framebufferRenderbuffer(e,r,h.RENDERBUFFER,u.gl_renderbuffer):u.texture!==null&&h.framebufferTexture2D(e,r,ci.TEXTURE_2D,k2(u.texture),d);else if(u.type===Hc.Texture){var y=k2(u);u.dimension===Ql.TEXTURE_2D?h.framebufferTexture2D(e,r,ci.TEXTURE_2D,y,d):du(h)&&(u.dimension,Ql.TEXTURE_2D_ARRAY)}},t.prototype.bindFramebufferDepthStencilAttachment=function(e,r){var u=this.gl,d=(0,tg.Z)(r)?Es.Depth|Es.Stencil:w2(r.format),h=!!(d&Es.Depth),y=!!(d&Es.Stencil);if(h&&y){var M=du(this.gl)||!du(this.gl)&&!!this.WEBGL_depth_texture;M?this.bindFramebufferAttachment(e,u.DEPTH_STENCIL_ATTACHMENT,r,0):this.bindFramebufferAttachment(e,u.DEPTH_ATTACHMENT,r,0)}else h?(this.bindFramebufferAttachment(e,u.DEPTH_ATTACHMENT,r,0),this.bindFramebufferAttachment(e,u.STENCIL_ATTACHMENT,null,0)):y&&(this.bindFramebufferAttachment(e,u.STENCIL_ATTACHMENT,r,0),this.bindFramebufferAttachment(e,u.DEPTH_ATTACHMENT,null,0))},t.prototype.validateCurrentAttachments=function(){for(var e=-1,r=-1,u=-1,d=0;d<this.currentColorAttachments.length;d++){var h=this.currentColorAttachments[d];h!==null&&(e===-1?(e=h.sampleCount,r=h.width,u=h.height):(Cl(e===h.sampleCount),Cl(r===h.width),Cl(u===h.height)))}this.currentDepthStencilAttachment&&(e===-1?e=this.currentDepthStencilAttachment.sampleCount:(Cl(e===this.currentDepthStencilAttachment.sampleCount),Cl(r===this.currentDepthStencilAttachment.width),Cl(u===this.currentDepthStencilAttachment.height))),this.currentSampleCount=e},t.prototype.setRenderPassParametersBegin=function(e,r){r===void 0&&(r=!1);var u=this.gl;if(r)u.bindFramebuffer(ci.FRAMEBUFFER,null);else if(du(u)?u.bindFramebuffer(ci.DRAW_FRAMEBUFFER,this.renderPassDrawFramebuffer):this.inBlitRenderPass||u.bindFramebuffer(ci.FRAMEBUFFER,this.renderPassDrawFramebuffer),du(u)?u.drawBuffers([ci.COLOR_ATTACHMENT0,ci.COLOR_ATTACHMENT1,ci.COLOR_ATTACHMENT2,ci.COLOR_ATTACHMENT3]):!this.inBlitRenderPass&&this.WEBGL_draw_buffers&&this.WEBGL_draw_buffers.drawBuffersWEBGL([ci.COLOR_ATTACHMENT0_WEBGL,ci.COLOR_ATTACHMENT1_WEBGL,ci.COLOR_ATTACHMENT2_WEBGL,ci.COLOR_ATTACHMENT3_WEBGL]),!this.inBlitRenderPass)for(var d=e;d<this.currentColorAttachments.length;d++){var h=du(u)?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,y=du(u)?ci.COLOR_ATTACHMENT0:ci.COLOR_ATTACHMENT0_WEBGL;u.framebufferRenderbuffer(h,y+d,ci.RENDERBUFFER,null),u.framebufferTexture2D(h,y+d,ci.TEXTURE_2D,null,0)}this.currentColorAttachments.length=e},t.prototype.setRenderPassParametersColor=function(e,r,u,d,h,y){y===void 0&&(y=!1);var M=this.gl,U=du(M);(this.currentColorAttachments[e]!==r||this.currentColorAttachmentLevels[e]!==u)&&(this.currentColorAttachments[e]=r,this.currentColorAttachmentLevels[e]=u,!y&&(U||!U&&this.WEBGL_draw_buffers)&&this.bindFramebufferAttachment(U?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,(U?ci.COLOR_ATTACHMENT0:ci.COLOR_ATTACHMENT0_WEBGL)+e,r,u),this.resolveColorAttachmentsChanged=!0),(this.currentColorResolveTos[e]!==d||this.currentColorResolveToLevels[e]!==h)&&(this.currentColorResolveTos[e]=d,this.currentColorResolveToLevels[e]=h,d!==null&&(this.resolveColorAttachmentsChanged=!0))},t.prototype.setRenderPassParametersDepthStencil=function(e,r,u){u===void 0&&(u=!1);var d=this.gl;this.currentDepthStencilAttachment!==e&&(this.currentDepthStencilAttachment=e,!u&&!this.inBlitRenderPass&&this.bindFramebufferDepthStencilAttachment(du(d)?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,this.currentDepthStencilAttachment),this.resolveDepthStencilAttachmentsChanged=!0),this.currentDepthStencilResolveTo!==r&&(this.currentDepthStencilResolveTo=r,r&&(this.resolveDepthStencilAttachmentsChanged=!0))},t.prototype.setRenderPassParametersClearColor=function(e,r,u,d,h){var y=this.gl;if(this.OES_draw_buffers_indexed!==null){var M=this.currentMegaState.attachmentsState[e];M&&M.channelWriteMask!==t0.ALL&&(this.OES_draw_buffers_indexed.colorMaskiOES(e,!0,!0,!0,!0),M.channelWriteMask=t0.ALL)}else{var M=this.currentMegaState.attachmentsState[0];M&&M.channelWriteMask!==t0.ALL&&(y.colorMask(!0,!0,!0,!0),M.channelWriteMask=t0.ALL)}this.setScissorRectEnabled(!1),du(y)?y.clearBufferfv(y.COLOR,e,[r,u,d,h]):(y.clearColor(r,u,d,h),y.clear(y.COLOR_BUFFER_BIT))},t.prototype.setRenderPassParametersClearDepthStencil=function(e,r){e===void 0&&(e="load"),r===void 0&&(r="load");var u=this.gl;e!=="load"&&(Cl(!!this.currentDepthStencilAttachment),this.currentMegaState.depthWrite||(u.depthMask(!0),this.currentMegaState.depthWrite=!0),du(u)?u.clearBufferfv(u.DEPTH,0,[e]):(u.clearDepth(e),u.clear(u.DEPTH_BUFFER_BIT))),r!=="load"&&(Cl(!!this.currentDepthStencilAttachment),this.currentMegaState.stencilWrite||(u.enable(u.STENCIL_TEST),u.stencilMask(255),this.currentMegaState.stencilWrite=!0),du(u)?u.clearBufferiv(u.STENCIL,0,[r]):(u.clearStencil(r),u.clear(u.STENCIL_BUFFER_BIT)))},t.prototype.setBindings=function(e){var r=this,u;if(this.renderBundle){this.renderBundle.push(function(){return r.setBindings(e)});return}var d=this.gl,h=e,y=h.uniformBufferBindings,M=h.samplerBindings,U=h.bindingLayouts;Cl(0<U.bindingLayoutTables.length);var re=U.bindingLayoutTables[0];Cl(y.length>=re.numUniformBuffers),Cl(M.length>=re.numSamplers);for(var Ee=0;Ee<y.length;Ee++){var Ae=y[Ee];if(Ae.size!==0){var We=re.firstUniformBuffer+Ee,Ht=Ae.buffer,Tn=Ae.offset||0,Fn=Ae.size||Ht.byteSize;if(Ht!==this.currentUniformBuffers[We]||Tn!==this.currentUniformBufferByteOffsets[We]||Fn!==this.currentUniformBufferByteSizes[We]){var br=Tn%Ht.pageByteSize,ei=Ht.gl_buffer_pages[Tn/Ht.pageByteSize|0];Cl(br+Fn<=Ht.pageByteSize),du(d)&&d.bindBufferRange(d.UNIFORM_BUFFER,We,ei,br,Fn),this.currentUniformBuffers[We]=Ht,this.currentUniformBufferByteOffsets[We]=Tn,this.currentUniformBufferByteSizes[We]=Fn}}}for(var Ee=0;Ee<re.numSamplers;Ee++){var Ae=M[Ee],Jr=re.firstSampler+Ee,zi=Ae!==null&&Ae.sampler!==null?jC(Ae.sampler):null,ca=Ae!==null&&Ae.texture!==null?k2(Ae.texture):null;if(this.currentSamplers[Jr]!==zi&&(du(d)&&d.bindSampler(Jr,zi),this.currentSamplers[Jr]=zi),this.currentTextures[Jr]!==ca){if(this.setActiveTexture(d.TEXTURE0+Jr),ca!==null){var Da=b_(Ae).texture,Va=Da.gl_target,va=Da.width,io=Da.height;Ae.texture.textureIndex=Jr,d.bindTexture(Va,ca),du(d)||(u=Ae.sampler)===null||u===void 0||u.setTextureParameters(Va,va,io),this.debugGroupStatisticsTextureBind()}else{var Os=(0,Ns.pi)((0,Ns.pi)({},Ae),DC),Hu=Os.dimension,Ds=Os.formatKind,Va=f8(Hu);d.bindTexture(Va,this.getFallbackTexture((0,Ns.pi)({gl_target:Va,formatKind:Ds},Os)))}this.currentTextures[Jr]=ca}}},t.prototype.setViewport=function(e,r,u,d){var h=this.gl;h.viewport(e,r,u,d)},t.prototype.setScissorRect=function(e,r,u,d){var h=this.gl;this.setScissorRectEnabled(!0),h.scissor(e,r,u,d)},t.prototype.applyAttachmentStateIndexed=function(e,r,u){var d=this.gl,h=this.OES_draw_buffers_indexed;r.channelWriteMask!==u.channelWriteMask&&(h.colorMaskiOES(e,!!(u.channelWriteMask&t0.RED),!!(u.channelWriteMask&t0.GREEN),!!(u.channelWriteMask&t0.BLUE),!!(u.channelWriteMask&t0.ALPHA)),r.channelWriteMask=u.channelWriteMask);var y=r.rgbBlendState.blendMode!==u.rgbBlendState.blendMode||r.alphaBlendState.blendMode!==u.alphaBlendState.blendMode,M=r.rgbBlendState.blendSrcFactor!==u.rgbBlendState.blendSrcFactor||r.alphaBlendState.blendSrcFactor!==u.alphaBlendState.blendSrcFactor||r.rgbBlendState.blendDstFactor!==u.rgbBlendState.blendDstFactor||r.alphaBlendState.blendDstFactor!==u.alphaBlendState.blendDstFactor;(M||y)&&(iy(r.rgbBlendState)&&iy(r.alphaBlendState)?h.enableiOES(e,d.BLEND):iy(u.rgbBlendState)&&iy(u.alphaBlendState)&&h.disableiOES(e,d.BLEND)),y&&(h.blendEquationSeparateiOES(e,u.rgbBlendState.blendMode,u.alphaBlendState.blendMode),r.rgbBlendState.blendMode=u.rgbBlendState.blendMode,r.alphaBlendState.blendMode=u.alphaBlendState.blendMode),M&&(h.blendFuncSeparateiOES(e,u.rgbBlendState.blendSrcFactor,u.rgbBlendState.blendDstFactor,u.alphaBlendState.blendSrcFactor,u.alphaBlendState.blendDstFactor),r.rgbBlendState.blendSrcFactor=u.rgbBlendState.blendSrcFactor,r.alphaBlendState.blendSrcFactor=u.alphaBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor=u.rgbBlendState.blendDstFactor,r.alphaBlendState.blendDstFactor=u.alphaBlendState.blendDstFactor)},t.prototype.applyAttachmentState=function(e,r){var u=this.gl;e.channelWriteMask!==r.channelWriteMask&&(u.colorMask(!!(r.channelWriteMask&t0.RED),!!(r.channelWriteMask&t0.GREEN),!!(r.channelWriteMask&t0.BLUE),!!(r.channelWriteMask&t0.ALPHA)),e.channelWriteMask=r.channelWriteMask);var d=e.rgbBlendState.blendMode!==r.rgbBlendState.blendMode||e.alphaBlendState.blendMode!==r.alphaBlendState.blendMode,h=e.rgbBlendState.blendSrcFactor!==r.rgbBlendState.blendSrcFactor||e.alphaBlendState.blendSrcFactor!==r.alphaBlendState.blendSrcFactor||e.rgbBlendState.blendDstFactor!==r.rgbBlendState.blendDstFactor||e.alphaBlendState.blendDstFactor!==r.alphaBlendState.blendDstFactor;(h||d)&&(iy(e.rgbBlendState)&&iy(e.alphaBlendState)?u.enable(u.BLEND):iy(r.rgbBlendState)&&iy(r.alphaBlendState)&&u.disable(u.BLEND)),d&&(u.blendEquationSeparate(r.rgbBlendState.blendMode,r.alphaBlendState.blendMode),e.rgbBlendState.blendMode=r.rgbBlendState.blendMode,e.alphaBlendState.blendMode=r.alphaBlendState.blendMode),h&&(u.blendFuncSeparate(r.rgbBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor,r.alphaBlendState.blendSrcFactor,r.alphaBlendState.blendDstFactor),e.rgbBlendState.blendSrcFactor=r.rgbBlendState.blendSrcFactor,e.alphaBlendState.blendSrcFactor=r.alphaBlendState.blendSrcFactor,e.rgbBlendState.blendDstFactor=r.rgbBlendState.blendDstFactor,e.alphaBlendState.blendDstFactor=r.alphaBlendState.blendDstFactor)},t.prototype.setMegaState=function(e){var r=this.gl,u=this.currentMegaState;if(this.OES_draw_buffers_indexed!==null)for(var d=0;d<e.attachmentsState.length;d++)this.applyAttachmentStateIndexed(d,u.attachmentsState[0],e.attachmentsState[0]);else Cl(e.attachmentsState.length===1),this.applyAttachmentState(u.attachmentsState[0],e.attachmentsState[0]);_R(u.blendConstant,e.blendConstant)||(r.blendColor(e.blendConstant.r,e.blendConstant.g,e.blendConstant.b,e.blendConstant.a),bR(u.blendConstant,e.blendConstant)),u.depthCompare!==e.depthCompare&&(r.depthFunc(e.depthCompare),u.depthCompare=e.depthCompare),!!u.depthWrite!=!!e.depthWrite&&(r.depthMask(e.depthWrite),u.depthWrite=e.depthWrite),!!u.stencilWrite!=!!e.stencilWrite&&(r.stencilMask(e.stencilWrite?255:0),u.stencilWrite=e.stencilWrite);var h=!1;if(!zx(u.stencilFront,e.stencilFront)){h=!0;var y=e.stencilFront,M=y.passOp,U=y.failOp,re=y.depthFailOp,Ee=y.compare;(u.stencilFront.passOp!==M||u.stencilFront.failOp!==U||u.stencilFront.depthFailOp!==re)&&(r.stencilOpSeparate(r.FRONT,U,re,M),u.stencilFront.passOp=M,u.stencilFront.failOp=U,u.stencilFront.depthFailOp=re),u.stencilFront.compare!==Ee&&(this.setStencilReference(0),u.stencilFront.compare=Ee)}if(!zx(u.stencilBack,e.stencilBack)){h=!0;var Ae=e.stencilBack,M=Ae.passOp,U=Ae.failOp,re=Ae.depthFailOp,Ee=Ae.compare;(u.stencilBack.passOp!==M||u.stencilBack.failOp!==U||u.stencilBack.depthFailOp!==re)&&(r.stencilOpSeparate(r.BACK,U,re,M),u.stencilBack.passOp=M,u.stencilBack.failOp=U,u.stencilBack.depthFailOp=re),u.stencilBack.compare!==Ee&&(this.setStencilReference(0),u.stencilBack.compare=Ee)}(u.stencilFront.mask!==e.stencilFront.mask||u.stencilBack.mask!==e.stencilBack.mask)&&(h=!0,u.stencilFront.mask=e.stencilFront.mask,u.stencilBack.mask=e.stencilBack.mask),h&&this.applyStencil(),u.cullMode!==e.cullMode&&(u.cullMode===ng.NONE?r.enable(r.CULL_FACE):e.cullMode===ng.NONE&&r.disable(r.CULL_FACE),e.cullMode===ng.BACK?r.cullFace(r.BACK):e.cullMode===ng.FRONT?r.cullFace(r.FRONT):e.cullMode===ng.FRONT_AND_BACK&&r.cullFace(r.FRONT_AND_BACK),u.cullMode=e.cullMode),u.frontFace!==e.frontFace&&(r.frontFace(e.frontFace),u.frontFace=e.frontFace),u.polygonOffset!==e.polygonOffset&&(e.polygonOffset?r.enable(r.POLYGON_OFFSET_FILL):r.disable(r.POLYGON_OFFSET_FILL),u.polygonOffset=e.polygonOffset),(u.polygonOffsetFactor!==e.polygonOffsetFactor||u.polygonOffsetUnits!==e.polygonOffsetUnits)&&(r.polygonOffset(e.polygonOffsetFactor,e.polygonOffsetUnits),u.polygonOffsetFactor=e.polygonOffsetFactor,u.polygonOffsetUnits=e.polygonOffsetUnits)},t.prototype.validatePipelineFormats=function(e){for(var r=0;r<this.currentColorAttachments.length;r++)var u=this.currentColorAttachments[r];this.currentDepthStencilAttachment&&Cl(this.currentDepthStencilAttachment.format===e.depthStencilAttachmentFormat),this.currentSampleCount!==-1&&Cl(this.currentSampleCount===e.sampleCount)},t.prototype.setPipeline=function(e){var r=this;if(this.renderBundle){this.renderBundle.push(function(){return r.setPipeline(e)});return}this.currentPipeline=e,this.validatePipelineFormats(this.currentPipeline),this.setMegaState(this.currentPipeline.megaState);var u=this.currentPipeline.program;if(this.useProgram(u),u.compileState===rg.NeedsBind){var d=this.gl,h=u.gl_program,y=u.descriptor,M=jR(y.vertex.glsl,$T);if(du(d))for(var U=0;U<M.length;U++){var re=(0,Ns.CR)(M[U],2),Ee=re[1],Ae=d.getUniformBlockIndex(h,Ee);Ae!==-1&&Ae!==4294967295&&d.uniformBlockBinding(h,Ae,U)}for(var We=jR(y.fragment.glsl,/^uniform .*sampler\S+ (\w+);\s* \/\/ BINDING=(\d+)$/gm),U=0;U<We.length;U++){var Ht=(0,Ns.CR)(We[U],3),Tn=Ht[1],Fn=Ht[2],br=d.getUniformLocation(h,Tn);d.uniform1i(br,parseInt(Fn))}u.compileState=rg.ReadyToUse}},t.prototype.setVertexInput=function(e,r,u){var d,h,y=this,M;if(this.renderBundle){this.renderBundle.push(function(){return y.setVertexInput(e,r,u)});return}if(e!==null){Cl(this.currentPipeline.inputLayout===e);var U=e;this.bindVAO(U.vao);for(var re=this.gl,Ee=0;Ee<U.vertexBufferDescriptors.length;Ee++){var Ae=U.vertexBufferDescriptors[Ee],We=Ae.arrayStride,Ht=Ae.attributes;try{for(var Tn=(d=void 0,(0,Ns.XA)(Ht)),Fn=Tn.next();!Fn.done;Fn=Tn.next()){var br=Fn.value,ei=br.shaderLocation,Jr=br.offset,zi=du(re)?ei:(M=U.program.attributes[ei])===null||M===void 0?void 0:M.location;if(!(0,tg.Z)(zi)){var ca=r[Ee];if(ca===null)continue;var Da=br.vertexFormat;re.bindBuffer(re.ARRAY_BUFFER,D2(ca.buffer));var Va=(ca.offset||0)+Jr;re.vertexAttribPointer(zi,Da.size,Da.type,Da.normalized,We,Va)}}}catch(io){d={error:io}}finally{try{Fn&&!Fn.done&&(h=Tn.return)&&h.call(Tn)}finally{if(d)throw d.error}}}if(Cl(u!==null==(U.indexBufferFormat!==null)),u!==null){var va=u.buffer;Cl(va.usage===Af.INDEX),re.bindBuffer(re.ELEMENT_ARRAY_BUFFER,D2(va)),this.currentIndexBufferByteOffset=u.offset||0}else this.currentIndexBufferByteOffset=null}else Cl(this.currentPipeline.inputLayout===null),Cl(u===null),this.bindVAO(null),this.currentIndexBufferByteOffset=0},t.prototype.setStencilReference=function(e){this.currentStencilRef!==e&&(this.currentStencilRef=e,this.applyStencil())},t.prototype.draw=function(e,r,u,d){var h,y=this;if(this.renderBundle){this.renderBundle.push(function(){return y.draw(e,r,u,d)});return}var M=this.gl,U=this.currentPipeline;if(r){var re=[U.drawMode,u||0,e,r];du(M)?M.drawArraysInstanced.apply(M,(0,Ns.ev)([],(0,Ns.CR)(re),!1)):(h=this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(h,(0,Ns.ev)([],(0,Ns.CR)(re),!1))}else M.drawArrays(U.drawMode,u,e);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(e/3*Math.max(r,1))},t.prototype.drawIndexed=function(e,r,u,d,h){var y,M=this;if(this.renderBundle){this.renderBundle.push(function(){return M.drawIndexed(e,r,u,d,h)});return}var U=this.gl,re=this.currentPipeline,Ee=b_(re.inputLayout),Ae=b_(this.currentIndexBufferByteOffset)+u*Ee.indexBufferCompByteSize;if(r){var We=[re.drawMode,e,Ee.indexBufferType,Ae,r];du(U)?U.drawElementsInstanced.apply(U,(0,Ns.ev)([],(0,Ns.CR)(We),!1)):(y=this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(y,(0,Ns.ev)([],(0,Ns.CR)(We),!1))}else U.drawElements(re.drawMode,e,Ee.indexBufferType,Ae);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(e/3*Math.max(r,1))},t.prototype.drawIndirect=function(e,r){},t.prototype.drawIndexedIndirect=function(e,r){},t.prototype.beginOcclusionQuery=function(e){var r=this.gl;if(du(r)){var u=this.currentRenderPassDescriptor.occlusionQueryPool;r.beginQuery(u.gl_query_type,u.gl_query[e])}},t.prototype.endOcclusionQuery=function(){var e=this.gl;if(du(e)){var r=this.currentRenderPassDescriptor.occlusionQueryPool;e.endQuery(r.gl_query_type)}},t.prototype.pipelineQueryReady=function(e){var r=e;return this.queryProgramReady(r.program)},t.prototype.pipelineForceReady=function(e){},t.prototype.endPass=function(){for(var e=this.gl,r=du(e),u=this.currentColorResolveTos.length===1&&this.currentColorResolveTos[0]===this.scTexture,d=!1,h=0;h<this.currentColorAttachments.length;h++){var y=this.currentColorAttachments[h];if(y!==null){var M=this.currentColorResolveTos[h],U=!1;M!==null&&(Cl(y.width===M.width&&y.height===M.height),this.setScissorRectEnabled(!1),u||(r&&e.bindFramebuffer(e.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&r&&this.bindFramebufferAttachment(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,y,this.currentColorAttachmentLevels[h])),U=!0,u||(M===this.scTexture?e.bindFramebuffer(r?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,this.scPlatformFramebuffer):(e.bindFramebuffer(r?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.resolveColorAttachmentsChanged&&e.framebufferTexture2D(r?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,M.gl_texture,this.currentColorResolveToLevels[h]))),u||(r?(e.blitFramebuffer(0,0,y.width,y.height,0,0,M.width,M.height,e.COLOR_BUFFER_BIT,e.LINEAR),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null)):this.submitBlitRenderPass(y,M)),d=!0),this.currentRenderPassDescriptor.colorStore[h]||!u&&!U&&(e.bindFramebuffer(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&this.bindFramebufferAttachment(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,e.COLOR_ATTACHMENT0,y,this.currentColorAttachmentLevels[h])),u||e.bindFramebuffer(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,null)}}this.resolveColorAttachmentsChanged=!1;var re=this.currentDepthStencilAttachment;if(re){var Ee=this.currentDepthStencilResolveTo,U=!1;Ee&&(Cl(re.width===Ee.width&&re.height===Ee.height),this.setScissorRectEnabled(!1),u||(e.bindFramebuffer(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),e.bindFramebuffer(r?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,this.resolveDepthStencilDrawFramebuffer),this.resolveDepthStencilAttachmentsChanged&&(this.bindFramebufferDepthStencilAttachment(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,re),this.bindFramebufferDepthStencilAttachment(r?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,Ee))),U=!0,u||(r&&e.blitFramebuffer(0,0,re.width,re.height,0,0,Ee.width,Ee.height,e.DEPTH_BUFFER_BIT,e.NEAREST),e.bindFramebuffer(r?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,null)),d=!0),!u&&!this.currentRenderPassDescriptor.depthStencilStore&&(U||(e.bindFramebuffer(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),this.resolveDepthStencilAttachmentsChanged&&this.bindFramebufferDepthStencilAttachment(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,re),U=!0),r&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[e.DEPTH_STENCIL_ATTACHMENT])),!u&&U&&e.bindFramebuffer(r?ci.READ_FRAMEBUFFER:ci.FRAMEBUFFER,null),this.resolveDepthStencilAttachmentsChanged=!1}!u&&!d&&e.bindFramebuffer(r?ci.DRAW_FRAMEBUFFER:ci.FRAMEBUFFER,null)},t.prototype.setScissorRectEnabled=function(e){if(this.currentScissorEnabled!==e){var r=this.gl;e?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST),this.currentScissorEnabled=e}},t.prototype.applyStencil=function(){(0,tg.Z)(this.currentStencilRef)||(this.gl.stencilFuncSeparate(ci.FRONT,this.currentMegaState.stencilFront.compare,this.currentStencilRef,this.currentMegaState.stencilFront.mask||255),this.gl.stencilFuncSeparate(ci.BACK,this.currentMegaState.stencilBack.compare,this.currentStencilRef,this.currentMegaState.stencilBack.mask||255))},t.prototype.getFallbackTexture=function(e){var r=e.gl_target,u=e.formatKind;if(r===ci.TEXTURE_2D)return u===Bd.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(r===ci.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(r===ci.TEXTURE_3D)return this.fallbackTexture3D;if(r===ci.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},t.prototype.submitBlitRenderPass=function(e,r){this.blitRenderPipeline||(this.blitProgram=this.createProgram({vertex:{glsl:`layout(location = 0) in vec2 a_Position;
out vec2 v_TexCoord;
void main() {
  v_TexCoord = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);

  #ifdef VIEWPORT_ORIGIN_TL
    v_TexCoord.y = 1.0 - v_TexCoord.y;
  #endif
}`},fragment:{glsl:`uniform sampler2D u_Texture;
in vec2 v_TexCoord;
out vec4 outputColor;
void main() {
  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);
}`}}),this.blitVertexBuffer=this.createBuffer({usage:Af.VERTEX|Af.COPY_DST,viewOrSize:new Float32Array([-4,-4,4,-4,0,4])}),this.blitInputLayout=this.createInputLayout({vertexBufferDescriptors:[{arrayStride:4*2,stepMode:pv.VERTEX,attributes:[{format:oa.F32_RG,offset:4*0,shaderLocation:0}]}],indexBufferFormat:null,program:this.blitProgram}),this.blitRenderPipeline=this.createRenderPipeline({topology:Vd.TRIANGLES,sampleCount:1,program:this.blitProgram,colorAttachmentFormats:[oa.U8_RGBA_RT],depthStencilAttachmentFormat:null,inputLayout:this.blitInputLayout,megaStateDescriptor:P2(x_)}),this.blitBindings=this.createBindings({samplerBindings:[{sampler:null,texture:e.texture}],uniformBufferBindings:[]}),this.blitProgram.setUniformsLegacy({u_Texture:e}));var u=this.currentRenderPassDescriptor;this.currentRenderPassDescriptor=null,this.inBlitRenderPass=!0;var d=this.createRenderPass({colorAttachment:[e],colorResolveTo:[r],colorClearColor:[kL]}),h=this.getCanvas(),y=h.width,M=h.height;d.setPipeline(this.blitRenderPipeline),d.setBindings(this.blitBindings),d.setVertexInput(this.blitInputLayout,[{buffer:this.blitVertexBuffer}],null),d.setViewport(0,0,y,M),this.gl.disable(this.gl.BLEND),d.draw(3,0),this.gl.enable(this.gl.BLEND),this.currentRenderPassDescriptor=u,this.inBlitRenderPass=!1},t}(),KR=function(){function t(e){this.pluginOptions=e}return t.prototype.createSwapChain=function(e){return(0,Ns.mG)(this,void 0,void 0,function(){var r,u,d,h,y,M,U,re,Ee,Ae,We,Ht,Tn;return(0,Ns.Jh)(this,function(Fn){return r=this.pluginOptions,u=r.targets,d=r.xrCompatible,h=r.antialias,y=h===void 0?!1:h,M=r.preserveDrawingBuffer,U=M===void 0?!1:M,re=r.premultipliedAlpha,Ee=re===void 0?!0:re,Ae=r.shaderDebug,We=r.trackResources,Ht={antialias:y,preserveDrawingBuffer:U,stencil:!0,premultipliedAlpha:Ee,xrCompatible:d},this.handleContextEvents(e),u.includes("webgl2")&&(Tn=e.getContext("webgl2",Ht)||e.getContext("experimental-webgl2",Ht)),!Tn&&u.includes("webgl1")&&(Tn=e.getContext("webgl",Ht)||e.getContext("experimental-webgl",Ht)),[2,new m8(Tn,{shaderDebug:Ae,trackResources:We})]})})},t.prototype.handleContextEvents=function(e){var r=this.pluginOptions,u=r.onContextLost,d=r.onContextRestored,h=r.onContextCreationError;h&&e.addEventListener("webglcontextcreationerror",h,!1),u&&e.addEventListener("webglcontextlost",u,!1),d&&e.addEventListener("webglcontextrestored",d,!1)},t}();let th;const QR=typeof TextDecoder!="undefined"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder!="undefined"&&QR.decode();let Gx=null;function XT(){return(Gx===null||Gx.byteLength===0)&&(Gx=new Uint8Array(th.memory.buffer)),Gx}function KT(t,e){return t=t>>>0,QR.decode(XT().subarray(t,t+e))}const vv=new Array(128).fill(void 0);vv.push(void 0,null,!0,!1);let F2=vv.length;function qR(t){F2===vv.length&&vv.push(vv.length+1);const e=F2;return F2=vv[e],vv[e]=t,e}function QT(t){return vv[t]}function v8(t){t<132||(vv[t]=F2,F2=t)}function y8(t){const e=QT(t);return v8(t),e}let U2=0;const qT=typeof TextEncoder!="undefined"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},_8=typeof qT.encodeInto=="function"?function(t,e){return qT.encodeInto(t,e)}:function(t,e){const r=qT.encode(t);return e.set(r),{read:t.length,written:r.length}};function JT(t,e,r){if(r===void 0){const M=qT.encode(t),U=e(M.length,1)>>>0;return XT().subarray(U,U+M.length).set(M),U2=M.length,U}let u=t.length,d=e(u,1)>>>0;const h=XT();let y=0;for(;y<u;y++){const M=t.charCodeAt(y);if(M>127)break;h[d+y]=M}if(y!==u){y!==0&&(t=t.slice(y)),d=r(d,u,u=y+t.length*3,1)>>>0;const M=XT().subarray(d+y,d+u),U=_8(t,M);y+=U.written}return U2=y,d}let Yx=null;function $x(){return(Yx===null||Yx.byteLength===0)&&(Yx=new Int32Array(th.memory.buffer)),Yx}function JR(t,e,r){let u,d;try{const M=th.__wbindgen_add_to_stack_pointer(-16),U=JT(t,th.__wbindgen_malloc,th.__wbindgen_realloc),re=U2,Ee=JT(e,th.__wbindgen_malloc,th.__wbindgen_realloc),Ae=U2;th.glsl_compile(M,U,re,Ee,Ae,r);var h=$x()[M/4+0],y=$x()[M/4+1];return u=h,d=y,KT(h,y)}finally{th.__wbindgen_add_to_stack_pointer(16),th.__wbindgen_free(u,d,1)}}class Xx{static __wrap(e){e=e>>>0;const r=Object.create(Xx.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();th.__wbg_wgslcomposer_free(e)}constructor(){const e=th.wgslcomposer_new();return Xx.__wrap(e)}load_composable(e){const r=JT(e,th.__wbindgen_malloc,th.__wbindgen_realloc),u=U2;th.wgslcomposer_load_composable(this.__wbg_ptr,r,u)}wgsl_compile(e){let r,u;try{const y=th.__wbindgen_add_to_stack_pointer(-16),M=JT(e,th.__wbindgen_malloc,th.__wbindgen_realloc),U=U2;th.wgslcomposer_wgsl_compile(y,this.__wbg_ptr,M,U);var d=$x()[y/4+0],h=$x()[y/4+1];return r=d,u=h,KT(d,h)}finally{th.__wbindgen_add_to_stack_pointer(16),th.__wbindgen_free(r,u,1)}}}function e4(t,e){return t3(this,null,function*(){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return yield WebAssembly.instantiateStreaming(t,e)}catch(u){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",u);else throw u}const r=yield t.arrayBuffer();return yield WebAssembly.instantiate(r,e)}else{const r=yield WebAssembly.instantiate(t,e);return r instanceof WebAssembly.Instance?{instance:r,module:t}:r}})}function b8(){const t={};return t.wbg={},t.wbg.__wbindgen_string_new=function(e,r){const u=KT(e,r);return qR(u)},t.wbg.__wbindgen_object_drop_ref=function(e){y8(e)},t.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(QT(e))},t.wbg.__wbg_log_576ca876af0d4a77=function(e,r){console.log(QT(e),QT(r))},t.wbg.__wbindgen_throw=function(e,r){throw new Error(KT(e,r))},t}function E8(t,e){return th=t.exports,t4.__wbindgen_wasm_module=e,Yx=null,Gx=null,th}function t4(t){return t3(this,null,function*(){if(th!==void 0)return th;const e=b8();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:u}=yield e4(yield t,e);return E8(r,u)})}var n0;(function(t){t[t.COPY_SRC=1]="COPY_SRC",t[t.COPY_DST=2]="COPY_DST",t[t.TEXTURE_BINDING=4]="TEXTURE_BINDING",t[t.STORAGE_BINDING=8]="STORAGE_BINDING",t[t.STORAGE=8]="STORAGE",t[t.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(n0||(n0={}));var _m;(function(t){t[t.READ=1]="READ",t[t.WRITE=2]="WRITE"})(_m||(_m={}));function n4(t){var e=0;return t&Q0.SAMPLED&&(e|=n0.TEXTURE_BINDING|n0.COPY_DST|n0.COPY_SRC),t&Q0.STORAGE&&(e|=n0.TEXTURE_BINDING|n0.STORAGE_BINDING|n0.COPY_SRC|n0.COPY_DST),t&Q0.RENDER_TARGET&&(e|=n0.RENDER_ATTACHMENT|n0.TEXTURE_BINDING|n0.COPY_SRC|n0.COPY_DST),e}function eS(t){if(t===oa.U8_R_NORM)return"r8unorm";if(t===oa.S8_R_NORM)return"r8snorm";if(t===oa.U8_RG_NORM)return"rg8unorm";if(t===oa.S8_RG_NORM)return"rg8snorm";if(t===oa.U32_R)return"r32uint";if(t===oa.S32_R)return"r32sint";if(t===oa.F32_R)return"r32float";if(t===oa.U16_RG)return"rg16uint";if(t===oa.S16_RG)return"rg16sint";if(t===oa.F16_RG)return"rg16float";if(t===oa.U8_RGBA_RT)return"bgra8unorm";if(t===oa.U8_RGBA_RT_SRGB)return"bgra8unorm-srgb";if(t===oa.U8_RGBA_NORM)return"rgba8unorm";if(t===oa.U8_RGBA_SRGB)return"rgba8unorm-srgb";if(t===oa.S8_RGBA_NORM)return"rgba8snorm";if(t===oa.U32_RG)return"rg32uint";if(t===oa.S32_RG)return"rg32sint";if(t===oa.F32_RG)return"rg32float";if(t===oa.U16_RGBA)return"rgba16uint";if(t===oa.S16_RGBA)return"rgba16sint";if(t===oa.F16_RGBA)return"rgba16float";if(t===oa.F32_RGBA)return"rgba32float";if(t===oa.U32_RGBA)return"rgba32uint";if(t===oa.S32_RGBA)return"rgba32sint";if(t===oa.D24)return"depth24plus";if(t===oa.D24_S8)return"depth24plus-stencil8";if(t===oa.D32F)return"depth32float";if(t===oa.D32F_S8)return"depth32float-stencil8";if(t===oa.BC1)return"bc1-rgba-unorm";if(t===oa.BC1_SRGB)return"bc1-rgba-unorm-srgb";if(t===oa.BC2)return"bc2-rgba-unorm";if(t===oa.BC2_SRGB)return"bc2-rgba-unorm-srgb";if(t===oa.BC3)return"bc3-rgba-unorm";if(t===oa.BC3_SRGB)return"bc3-rgba-unorm-srgb";if(t===oa.BC4_SNORM)return"bc4-r-snorm";if(t===oa.BC4_UNORM)return"bc4-r-unorm";if(t===oa.BC5_SNORM)return"bc5-rg-snorm";if(t===oa.BC5_UNORM)return"bc5-rg-unorm";throw"whoops"}function x8(t){if(t===Ql.TEXTURE_2D)return"2d";if(t===Ql.TEXTURE_CUBE_MAP)return"2d";if(t===Ql.TEXTURE_2D_ARRAY)return"2d";if(t===Ql.TEXTURE_3D)return"3d";throw new Error("whoops")}function T8(t){if(t===Ql.TEXTURE_2D)return"2d";if(t===Ql.TEXTURE_CUBE_MAP)return"cube";if(t===Ql.TEXTURE_2D_ARRAY)return"2d-array";if(t===Ql.TEXTURE_3D)return"3d";throw new Error("whoops")}function YC(t){var e=0;return t&Af.INDEX&&(e|=GPUBufferUsage.INDEX),t&Af.VERTEX&&(e|=GPUBufferUsage.VERTEX),t&Af.UNIFORM&&(e|=GPUBufferUsage.UNIFORM),t&Af.STORAGE&&(e|=GPUBufferUsage.STORAGE),t&Af.COPY_SRC&&(e|=GPUBufferUsage.COPY_SRC),t&Af.INDIRECT&&(e|=GPUBufferUsage.INDIRECT),e|=GPUBufferUsage.COPY_DST,e}function T_(t){if(t===mp.CLAMP_TO_EDGE)return"clamp-to-edge";if(t===mp.REPEAT)return"repeat";if(t===mp.MIRRORED_REPEAT)return"mirror-repeat";throw new Error("whoops")}function $C(t){if(t===mh.BILINEAR)return"linear";if(t===mh.POINT)return"nearest";throw new Error("whoops")}function r4(t){if(t===vh.LINEAR)return"linear";if(t===vh.NEAREST)return"nearest";if(t===vh.NO_MIP)return"nearest";throw new Error("whoops")}function z2(t){var e=t;return e.gpuBuffer}function S8(t){var e=t;return e.gpuSampler}function i4(t){var e=t;return e.querySet}function XC(t){if(t===UT.OcclusionConservative)return"occlusion";throw new Error("whoops")}function A8(t){switch(t){case Vd.TRIANGLES:return"triangle-list";case Vd.POINTS:return"point-list";case Vd.TRIANGLE_STRIP:return"triangle-strip";case Vd.LINES:return"line-list";case Vd.LINE_STRIP:return"line-strip";default:throw new Error("Unknown primitive topology mode")}}function C8(t){if(t===ng.NONE)return"none";if(t===ng.FRONT)return"front";if(t===ng.BACK)return"back";throw new Error("whoops")}function O8(t){if(t===O2.CCW)return"ccw";if(t===O2.CW)return"cw";throw new Error("whoops")}function w8(t,e){return{topology:A8(t),cullMode:C8(e.cullMode),frontFace:O8(e.frontFace)}}function a4(t){if(t===Xl.ZERO)return"zero";if(t===Xl.ONE)return"one";if(t===Xl.SRC)return"src";if(t===Xl.ONE_MINUS_SRC)return"one-minus-src";if(t===Xl.DST)return"dst";if(t===Xl.ONE_MINUS_DST)return"one-minus-dst";if(t===Xl.SRC_ALPHA)return"src-alpha";if(t===Xl.ONE_MINUS_SRC_ALPHA)return"one-minus-src-alpha";if(t===Xl.DST_ALPHA)return"dst-alpha";if(t===Xl.ONE_MINUS_DST_ALPHA)return"one-minus-dst-alpha";if(t===Xl.CONST)return"constant";if(t===Xl.ONE_MINUS_CONSTANT)return"one-minus-constant";if(t===Xl.SRC_ALPHA_SATURATE)return"src-alpha-saturated";throw new Error("whoops")}function M8(t){if(t===w0.ADD)return"add";if(t===w0.SUBSTRACT)return"subtract";if(t===w0.REVERSE_SUBSTRACT)return"reverse-subtract";if(t===w0.MIN)return"min";if(t===w0.MAX)return"max";throw new Error("whoops")}function tS(t){return{operation:M8(t.blendMode),srcFactor:a4(t.blendSrcFactor),dstFactor:a4(t.blendDstFactor)}}function o4(t){return t.blendMode===w0.ADD&&t.blendSrcFactor===Xl.ONE&&t.blendDstFactor===Xl.ZERO}function R8(t){if(!(o4(t.rgbBlendState)&&o4(t.alphaBlendState)))return{color:tS(t.rgbBlendState),alpha:tS(t.alphaBlendState)}}function KC(t,e){return{format:eS(e),blend:R8(t),writeMask:t.channelWriteMask}}function zD(t,e){return e.attachmentsState.map(function(r,u){return KC(r,t[u])})}function nS(t){if(t===Il.NEVER)return"never";if(t===Il.LESS)return"less";if(t===Il.EQUAL)return"equal";if(t===Il.LEQUAL)return"less-equal";if(t===Il.GREATER)return"greater";if(t===Il.NOTEQUAL)return"not-equal";if(t===Il.GEQUAL)return"greater-equal";if(t===Il.ALWAYS)return"always";throw new Error("whoops")}function Z2(t){if(t===Jd.KEEP)return"keep";if(t===Jd.REPLACE)return"replace";if(t===Jd.ZERO)return"zero";if(t===Jd.DECREMENT_CLAMP)return"decrement-clamp";if(t===Jd.DECREMENT_WRAP)return"decrement-wrap";if(t===Jd.INCREMENT_CLAMP)return"increment-clamp";if(t===Jd.INCREMENT_WRAP)return"increment-wrap";if(t===Jd.INVERT)return"invert";throw new Error("whoops")}function P8(t,e){if(!(0,tg.Z)(t))return{format:eS(t),depthWriteEnabled:!!e.depthWrite,depthCompare:nS(e.depthCompare),depthBias:e.polygonOffset?e.polygonOffsetUnits:0,depthBiasSlopeScale:e.polygonOffset?e.polygonOffsetFactor:0,stencilFront:{compare:nS(e.stencilFront.compare),passOp:Z2(e.stencilFront.passOp),failOp:Z2(e.stencilFront.failOp),depthFailOp:Z2(e.stencilFront.depthFailOp)},stencilBack:{compare:nS(e.stencilBack.compare),passOp:Z2(e.stencilBack.passOp),failOp:Z2(e.stencilBack.failOp),depthFailOp:Z2(e.stencilBack.depthFailOp)},stencilReadMask:4294967295,stencilWriteMask:4294967295}}function s4(t){if(t!==null){if(t===oa.U16_R)return"uint16";if(t===oa.U32_R)return"uint32";throw new Error("whoops")}}function I8(t){if(t===pv.VERTEX)return"vertex";if(t===pv.INSTANCE)return"instance";throw new Error("whoops")}function L8(t){if(t===oa.U8_R)return"uint8x2";if(t===oa.U8_RG)return"uint8x2";if(t===oa.U8_RGB)return"uint8x4";if(t===oa.U8_RGBA)return"uint8x4";if(t===oa.U8_RG_NORM)return"unorm8x2";if(t===oa.U8_RGBA_NORM)return"unorm8x4";if(t===oa.S8_RGB_NORM)return"snorm8x4";if(t===oa.S8_RGBA_NORM)return"snorm8x4";if(t===oa.U16_RG_NORM)return"unorm16x2";if(t===oa.U16_RGBA_NORM)return"unorm16x4";if(t===oa.S16_RG_NORM)return"snorm16x2";if(t===oa.S16_RGBA_NORM)return"snorm16x4";if(t===oa.S16_RG)return"uint16x2";if(t===oa.F16_RG)return"float16x2";if(t===oa.F16_RGBA)return"float16x4";if(t===oa.F32_R)return"float32";if(t===oa.F32_RG)return"float32x2";if(t===oa.F32_RGB)return"float32x3";if(t===oa.F32_RGBA)return"float32x4";throw"whoops"}function rS(t){var e=gv(t);switch(e){case xo.BC1:case xo.BC2:case xo.BC3:case xo.BC4_SNORM:case xo.BC4_UNORM:case xo.BC5_SNORM:case xo.BC5_UNORM:return!0;default:return!1}}function N8(t){var e=gv(t);switch(e){case xo.BC1:case xo.BC2:case xo.BC3:case xo.BC4_SNORM:case xo.BC4_UNORM:case xo.BC5_SNORM:case xo.BC5_UNORM:return 4;default:return 1}}function j2(t,e,r,u){switch(r===void 0&&(r=!1),t){case oa.S8_R:case oa.S8_R_NORM:case oa.S8_RG_NORM:case oa.S8_RGB_NORM:case oa.S8_RGBA_NORM:{var d=e instanceof ArrayBuffer?new Int8Array(e):new Int8Array(e);return u&&d.set(new Int8Array(u)),d}case oa.U8_R:case oa.U8_R_NORM:case oa.U8_RG:case oa.U8_RG_NORM:case oa.U8_RGB:case oa.U8_RGB_NORM:case oa.U8_RGB_SRGB:case oa.U8_RGBA:case oa.U8_RGBA_NORM:case oa.U8_RGBA_SRGB:{var h=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e);return u&&h.set(new Uint8Array(u)),h}case oa.S16_R:case oa.S16_RG:case oa.S16_RG_NORM:case oa.S16_RGB_NORM:case oa.S16_RGBA:case oa.S16_RGBA_NORM:{var y=e instanceof ArrayBuffer?new Int16Array(e):new Int16Array(r?e/2:e);return u&&y.set(new Int16Array(u)),y}case oa.U16_R:case oa.U16_RGB:case oa.U16_RGBA_5551:case oa.U16_RGBA_NORM:case oa.U16_RG_NORM:case oa.U16_R_NORM:{var M=e instanceof ArrayBuffer?new Uint16Array(e):new Uint16Array(r?e/2:e);return u&&M.set(new Uint16Array(u)),M}case oa.S32_R:{var U=e instanceof ArrayBuffer?new Int32Array(e):new Int32Array(r?e/4:e);return u&&U.set(new Int32Array(u)),U}case oa.U32_R:case oa.U32_RG:{var re=e instanceof ArrayBuffer?new Uint32Array(e):new Uint32Array(r?e/4:e);return u&&re.set(new Uint32Array(u)),re}case oa.F32_R:case oa.F32_RG:case oa.F32_RGB:case oa.F32_RGBA:{var Ee=e instanceof ArrayBuffer?new Float32Array(e):new Float32Array(r?e/4:e);return u&&Ee.set(new Float32Array(u)),Ee}}var Ae=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e);return u&&Ae.set(new Uint8Array(u)),Ae}function D8(t){var e=(t&32768)>>15,r=(t&31744)>>10,u=t&1023;return r===0?(e?-1:1)*Math.pow(2,-14)*(u/Math.pow(2,10)):r==31?u?NaN:(e?-1:1)*(1/0):(e?-1:1)*Math.pow(2,r-15)*(1+u/Math.pow(2,10))}function u4(t){switch(t){case"r8unorm":case"r8snorm":case"r8uint":case"r8sint":return{width:1,height:1,length:1};case"r16uint":case"r16sint":case"r16float":case"rg8unorm":case"rg8snorm":case"rg8uint":case"rg8sint":return{width:1,height:1,length:2};case"r32uint":case"r32sint":case"r32float":case"rg16uint":case"rg16sint":case"rg16float":case"rgba8unorm":case"rgba8unorm-srgb":case"rgba8snorm":case"rgba8uint":case"rgba8sint":case"bgra8unorm":case"bgra8unorm-srgb":case"rgb9e5ufloat":case"rgb10a2unorm":case"rg11b10ufloat":return{width:1,height:1,length:4};case"rg32uint":case"rg32sint":case"rg32float":case"rgba16uint":case"rgba16sint":case"rgba16float":return{width:1,height:1,length:8};case"rgba32uint":case"rgba32sint":case"rgba32float":return{width:1,height:1,length:16};case"stencil8":throw new Error("No fixed size for Stencil8 format!");case"depth16unorm":return{width:1,height:1,length:2};case"depth24plus":throw new Error("No fixed size for Depth24Plus format!");case"depth24plus-stencil8":throw new Error("No fixed size for Depth24PlusStencil8 format!");case"depth32float":return{width:1,height:1,length:4};case"depth32float-stencil8":return{width:1,height:1,length:5};case"bc7-rgba-unorm":case"bc7-rgba-unorm-srgb":case"bc6h-rgb-ufloat":case"bc6h-rgb-float":case"bc2-rgba-unorm":case"bc2-rgba-unorm-srgb":case"bc3-rgba-unorm":case"bc3-rgba-unorm-srgb":case"bc5-rg-unorm":case"bc5-rg-snorm":return{width:4,height:4,length:16};case"bc4-r-unorm":case"bc4-r-snorm":case"bc1-rgba-unorm":case"bc1-rgba-unorm-srgb":return{width:4,height:4,length:8};default:return{width:1,height:1,length:4}}}var Vg=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=t.call(this)||this;return h.id=u,h.device=d,h}return e.prototype.destroy=function(){},e}(C2.Z),QC=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y,M,U=t.call(this,{id:u,device:d})||this;U.type=Hc.Bindings;var re=h.pipeline;Cl(!!re);var Ee=h.uniformBufferBindings,Ae=h.storageBufferBindings,We=h.samplerBindings,Ht=h.storageTextureBindings;U.numUniformBuffers=(Ee==null?void 0:Ee.length)||0;var Tn=[[],[],[],[]],Fn=0;if(Ee&&Ee.length)for(var br=0;br<Ee.length;br++){var ei=h.uniformBufferBindings[br],Jr=ei.binding,zi=ei.size,ca=ei.offset,Da=ei.buffer,Va={buffer:z2(Da),offset:ca!=null?ca:0,size:zi};Tn[0].push({binding:Jr!=null?Jr:Fn++,resource:Va})}if(We&&We.length){Fn=0;for(var br=0;br<We.length;br++){var va=(0,Ns.pi)((0,Ns.pi)({},We[br]),DC),Jr=h.samplerBindings[br],io=Jr.texture!==null?Jr.texture:U.device.getFallbackTexture(va);va.dimension=io.dimension,va.formatKind=yR(io.format);var Os=io.gpuTextureView;if(Tn[1].push({binding:(y=Jr.textureBinding)!==null&&y!==void 0?y:Fn++,resource:Os}),Jr.samplerBinding!==-1){var Hu=Jr.sampler!==null?Jr.sampler:U.device.getFallbackSampler(va),Ds=S8(Hu);Tn[1].push({binding:(M=Jr.samplerBinding)!==null&&M!==void 0?M:Fn++,resource:Ds})}}}if(Ae&&Ae.length){Fn=0;for(var br=0;br<Ae.length;br++){var il=h.storageBufferBindings[br],Jr=il.binding,zi=il.size,ca=il.offset,Da=il.buffer,Va={buffer:z2(Da),offset:ca!=null?ca:0,size:zi};Tn[2].push({binding:Jr!=null?Jr:Fn++,resource:Va})}}if(Ht&&Ht.length){Fn=0;for(var br=0;br<Ht.length;br++){var jl=h.storageTextureBindings[br],Jr=jl.binding,io=jl.texture,Os=io.gpuTextureView;Tn[3].push({binding:Jr!=null?Jr:Fn++,resource:Os})}}var Ch=Tn.findLastIndex(function(f0){return!!f0.length});return U.gpuBindGroup=Tn.map(function(f0,yh){return yh<=Ch&&U.device.device.createBindGroup({layout:re.getBindGroupLayout(yh),entries:f0})}),U}return e}(Vg),k8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;y.type=Hc.Buffer;var M=h.usage,U=h.viewOrSize,re=!!(M&Af.MAP_READ);y.usage=YC(M),re&&(y.usage=Af.MAP_READ|Af.COPY_DST);var Ee=!(0,A2.Z)(U);if(y.view=(0,A2.Z)(U)?null:U,y.size=(0,A2.Z)(U)?E_(U,4):E_(U.byteLength,4),(0,A2.Z)(U))y.gpuBuffer=y.device.device.createBuffer({usage:y.usage,size:y.size,mappedAtCreation:re?Ee:!1});else{y.gpuBuffer=y.device.device.createBuffer({usage:y.usage,size:y.size,mappedAtCreation:!0});var Ae=U&&U.constructor||Float32Array;new Ae(y.gpuBuffer.getMappedRange()).set(U),y.gpuBuffer.unmap()}return y}return e.prototype.setSubData=function(r,u,d,h){d===void 0&&(d=0),h===void 0&&(h=0);var y=this.gpuBuffer;h=h||u.byteLength,h=Math.min(h,this.size-r);var M=u.byteOffset+d,U=M+h,re=h+3&-4;if(re!==h){var Ee=new Uint8Array(u.buffer.slice(M,U));u=new Uint8Array(re),u.set(Ee),d=0,M=0,U=re,h=re}for(var Ae=1024*1024*15,We=0;U-(M+We)>Ae;)this.device.device.queue.writeBuffer(y,r+We,u.buffer,M+We,Ae),We+=Ae;this.device.device.queue.writeBuffer(y,r+We,u.buffer,M+We,h-We)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gpuBuffer.destroy()},e}(Vg),ay=function(){function t(){this.gpuComputePassEncoder=null}return t.prototype.dispatchWorkgroups=function(e,r,u){this.gpuComputePassEncoder.dispatchWorkgroups(e,r,u)},t.prototype.dispatchWorkgroupsIndirect=function(e,r){this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(e.gpuBuffer,r)},t.prototype.finish=function(){this.gpuComputePassEncoder.end(),this.gpuComputePassEncoder=null,this.frameCommandEncoder=null},t.prototype.beginComputePass=function(e){Cl(this.gpuComputePassEncoder===null),this.frameCommandEncoder=e,this.gpuComputePassEncoder=this.frameCommandEncoder.beginComputePass(this.gpuComputePassDescriptor)},t.prototype.setPipeline=function(e){var r=e,u=b_(r.gpuComputePipeline);this.gpuComputePassEncoder.setPipeline(u)},t.prototype.setBindings=function(e){var r=this,u=e;u.gpuBindGroup.forEach(function(d,h){d&&r.gpuComputePassEncoder.setBindGroup(h,u.gpuBindGroup[h])})},t.prototype.pushDebugGroup=function(e){this.gpuComputePassEncoder.pushDebugGroup(e)},t.prototype.popDebugGroup=function(){this.gpuComputePassEncoder.popDebugGroup()},t.prototype.insertDebugMarker=function(e){this.gpuComputePassEncoder.insertDebugMarker(e)},t}(),qC=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;y.type=Hc.ComputePipeline,y.gpuComputePipeline=null,y.descriptor=h;var M=h.program,U=M.computeStage;if(U===null)return y;var re={layout:"auto",compute:(0,Ns.pi)({},U)};return y.gpuComputePipeline=y.device.device.createComputePipeline(re),y.name!==void 0&&(y.gpuComputePipeline.label=y.name),y}return e.prototype.getBindGroupLayout=function(r){return this.gpuComputePipeline.getBindGroupLayout(r)},e}(Vg),JC=function(t){(0,Ns.ZT)(e,t);function e(r){var u,d,h,y,M=r.id,U=r.device,re=r.descriptor,Ee=t.call(this,{id:M,device:U})||this;Ee.type=Hc.InputLayout;var Ae=[];try{for(var We=(0,Ns.XA)(re.vertexBufferDescriptors),Ht=We.next();!Ht.done;Ht=We.next()){var Tn=Ht.value,Fn=Tn.arrayStride,br=Tn.stepMode,ei=Tn.attributes;Ae.push({arrayStride:Fn,stepMode:I8(br),attributes:[]});try{for(var Jr=(h=void 0,(0,Ns.XA)(ei)),zi=Jr.next();!zi.done;zi=Jr.next()){var ca=zi.value,Da=ca.shaderLocation,Va=ca.format,va=ca.offset;Ae[Ae.length-1].attributes.push({shaderLocation:Da,format:L8(Va),offset:va})}}catch(io){h={error:io}}finally{try{zi&&!zi.done&&(y=Jr.return)&&y.call(Jr)}finally{if(h)throw h.error}}}}catch(io){u={error:io}}finally{try{Ht&&!Ht.done&&(d=We.return)&&d.call(We)}finally{if(u)throw u.error}}return Ee.indexFormat=s4(re.indexBufferFormat),Ee.buffers=Ae,Ee}return e}(Vg),Kx=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;return y.type=Hc.Program,y.vertexStage=null,y.fragmentStage=null,y.computeStage=null,y.descriptor=h,h.vertex&&(y.vertexStage=y.createShaderStage(h.vertex,"vertex")),h.fragment&&(y.fragmentStage=y.createShaderStage(h.fragment,"fragment")),h.compute&&(y.computeStage=y.createShaderStage(h.compute,"compute")),y}return e.prototype.setUniformsLegacy=function(r){},e.prototype.createShaderStage=function(r,u){var d,h,y=r.glsl,M=r.wgsl,U=r.entryPoint,re=r.postprocess,Ee=!1,Ae=M;if(!Ae)try{Ae=this.device.glsl_compile(y,u,Ee)}catch(ei){throw console.error(ei,y),new Error("whoops")}var We=function(ei){if(!Ae.includes(ei))return"continue";Ae=Ae.replace("var T_".concat(ei,": texture_2d<f32>;"),"var T_".concat(ei,": texture_depth_2d;")),Ae=Ae.replace(new RegExp("textureSample\\(T_".concat(ei,"(.*)\\);$"),"gm"),function(Jr,zi){return"vec4<f32>(textureSample(T_".concat(ei).concat(zi,"), 0.0, 0.0, 0.0);")})};try{for(var Ht=(0,Ns.XA)(["u_TextureFramebufferDepth"]),Tn=Ht.next();!Tn.done;Tn=Ht.next()){var Fn=Tn.value;We(Fn)}}catch(ei){d={error:ei}}finally{try{Tn&&!Tn.done&&(h=Ht.return)&&h.call(Ht)}finally{if(d)throw d.error}}re&&(Ae=re(Ae));var br=this.device.device.createShaderModule({code:Ae});return{module:br,entryPoint:U||"main"}},e}(Vg),B8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;y.type=Hc.QueryPool;var M=h.elemCount,U=h.type;return y.querySet=y.device.device.createQuerySet({type:XC(U),count:M}),y.resolveBuffer=y.device.device.createBuffer({size:M*8,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),y.cpuBuffer=y.device.device.createBuffer({size:M*8,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),y.results=null,y}return e.prototype.queryResultOcclusion=function(r){return this.results===null?null:this.results[r]!==BigInt(0)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.querySet.destroy(),this.resolveBuffer.destroy(),this.cpuBuffer.destroy()},e}(Vg),eO=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=t.call(this,{id:u,device:d})||this;return h.type=Hc.Readback,h}return e.prototype.readTexture=function(r,u,d,h,y,M,U,re){return U===void 0&&(U=0),(0,Ns.mG)(this,void 0,void 0,function(){var Ee,Ae,We,Ht,Tn,Fn,br,ei;return(0,Ns.Jh)(this,function(Jr){return Ee=r,Ae=0,We=u4(Ee.gpuTextureformat),Ht=Math.ceil(h/We.width)*We.length,Tn=Math.ceil(Ht/256)*256,Fn=Tn*y,br=this.device.createBuffer({usage:Af.STORAGE|Af.MAP_READ|Af.COPY_DST,hint:Hp.STATIC,viewOrSize:Fn}),ei=this.device.device.createCommandEncoder(),ei.copyTextureToBuffer({texture:Ee.gpuTexture,mipLevel:0,origin:{x:u,y:d,z:Math.max(Ae,0)}},{buffer:br.gpuBuffer,offset:0,bytesPerRow:Tn},{width:h,height:y,depthOrArrayLayers:1}),this.device.device.queue.submit([ei.finish()]),[2,this.readBuffer(br,0,M.byteLength===Fn?M:null,U,Fn,Ee.format,!0,!1,Ht,Tn,y)]})})},e.prototype.readTextureSync=function(r,u,d,h,y,M,U,re){throw new Error("ERROR_MSG_METHOD_NOT_IMPLEMENTED")},e.prototype.readBuffer=function(r,u,d,h,y,M,U,re,Ee,Ae,We){var Ht=this;u===void 0&&(u=0),d===void 0&&(d=null),y===void 0&&(y=0),M===void 0&&(M=oa.U8_RGB),U===void 0&&(U=!1),Ee===void 0&&(Ee=0),Ae===void 0&&(Ae=0),We===void 0&&(We=0);var Tn=r,Fn=y||Tn.size,br=d||Tn.view,ei=br&&br.constructor&&br.constructor.BYTES_PER_ELEMENT||vR(M),Jr=Tn;if(!(Tn.usage&Af.MAP_READ&&Tn.usage&Af.COPY_DST)){var zi=this.device.device.createCommandEncoder();Jr=this.device.createBuffer({usage:Af.STORAGE|Af.MAP_READ|Af.COPY_DST,hint:Hp.STATIC,viewOrSize:Fn}),zi.copyBufferToBuffer(Tn.gpuBuffer,u,Jr.gpuBuffer,0,Fn),this.device.device.queue.submit([zi.finish()])}return new Promise(function(ca,Da){Jr.gpuBuffer.mapAsync(_m.READ,u,Fn).then(function(){var Va=Jr.gpuBuffer.getMappedRange(u,Fn),va=br;if(U)va===null?va=j2(M,Fn,!0,Va):va=j2(M,va.buffer,void 0,Va);else if(va===null)switch(ei){case 1:va=new Uint8Array(Fn),va.set(new Uint8Array(Va));break;case 2:va=Ht.getHalfFloatAsFloatRGBAArrayBuffer(Fn/2,Va);break;case 4:va=new Float32Array(Fn/4),va.set(new Float32Array(Va));break}else switch(ei){case 1:va=new Uint8Array(va.buffer),va.set(new Uint8Array(Va));break;case 2:va=Ht.getHalfFloatAsFloatRGBAArrayBuffer(Fn/2,Va,br);break;case 4:var io=br&&br.constructor||Float32Array;va=new io(va.buffer),va.set(new io(Va));break}if(Ee!==Ae){ei===1&&!U&&(Ee*=2,Ae*=2);for(var Os=new Uint8Array(va.buffer),Hu=Ee,Ds=0,il=1;il<We;++il){Ds=il*Ae;for(var jl=0;jl<Ee;++jl)Os[Hu++]=Os[Ds++]}ei!==0&&!U?va=new Float32Array(Os.buffer,0,Hu/4):va=new Uint8Array(Os.buffer,0,Hu)}Jr.gpuBuffer.unmap(),ca(va)},function(Va){return Da(Va)})})},e.prototype.getHalfFloatAsFloatRGBAArrayBuffer=function(r,u,d){d||(d=new Float32Array(r));for(var h=new Uint16Array(u);r--;)d[r]=D8(h[r]);return d},e}(Vg),l4=function(){function t(e){this.device=e,this.gpuRenderPassEncoder=null,this.gfxColorAttachment=[],this.gfxColorAttachmentLevel=[],this.gfxColorResolveTo=[],this.gfxColorResolveToLevel=[],this.gfxDepthStencilAttachment=null,this.gfxDepthStencilResolveTo=null,this.gpuColorAttachments=[],this.gpuDepthStencilAttachment={view:null,depthLoadOp:"load",depthStoreOp:"store",stencilLoadOp:"load",stencilStoreOp:"store"},this.gpuRenderPassDescriptor={colorAttachments:this.gpuColorAttachments,depthStencilAttachment:this.gpuDepthStencilAttachment}}return t.prototype.getEncoder=function(){var e;return((e=this.renderBundle)===null||e===void 0?void 0:e.renderBundleEncoder)||this.gpuRenderPassEncoder},t.prototype.getTextureView=function(e,r){return Cl(r<e.mipLevelCount),e.mipLevelCount===1?e.gpuTextureView:e.gpuTexture.createView({baseMipLevel:r,mipLevelCount:1})},t.prototype.setRenderPassDescriptor=function(e){var r,u,d,h,y,M;this.descriptor=e,this.gpuRenderPassDescriptor.colorAttachments=this.gpuColorAttachments;var U=e.colorAttachment.length;this.gfxColorAttachment.length=U,this.gfxColorResolveTo.length=U;for(var re=0;re<e.colorAttachment.length;re++){var Ee=e.colorAttachment[re],Ae=e.colorResolveTo[re];if(Ee===null&&Ae!==null&&(Ee=Ae,Ae=null),this.gfxColorAttachment[re]=Ee,this.gfxColorResolveTo[re]=Ae,this.gfxColorAttachmentLevel[re]=((r=e.colorAttachmentLevel)===null||r===void 0?void 0:r[re])||0,this.gfxColorResolveToLevel[re]=((u=e.colorResolveToLevel)===null||u===void 0?void 0:u[re])||0,Ee!==null){this.gpuColorAttachments[re]===void 0&&(this.gpuColorAttachments[re]={});var We=this.gpuColorAttachments[re];We.view=this.getTextureView(Ee,((d=this.gfxColorAttachmentLevel)===null||d===void 0?void 0:d[re])||0);var Ht=(y=(h=e.colorClearColor)===null||h===void 0?void 0:h[re])!==null&&y!==void 0?y:"load";Ht==="load"?We.loadOp="load":(We.loadOp="clear",We.clearValue=Ht),We.storeOp=!((M=e.colorStore)===null||M===void 0)&&M[re]?"store":"discard",We.resolveTarget=void 0,Ae!==null&&(Ee.sampleCount>1?We.resolveTarget=this.getTextureView(Ae,this.gfxColorResolveToLevel[re]):We.storeOp="store")}else{this.gpuColorAttachments.length=re,this.gfxColorAttachment.length=re,this.gfxColorResolveTo.length=re;break}}if(this.gfxDepthStencilAttachment=e.depthStencilAttachment,this.gfxDepthStencilResolveTo=e.depthStencilResolveTo,e.depthStencilAttachment){var Tn=e.depthStencilAttachment,We=this.gpuDepthStencilAttachment;We.view=Tn.gpuTextureView;var Fn=!!(w2(Tn.format)&Es.Depth);Fn?(e.depthClearValue==="load"?We.depthLoadOp="load":(We.depthLoadOp="clear",We.depthClearValue=e.depthClearValue),e.depthStencilStore||this.gfxDepthStencilResolveTo!==null?We.depthStoreOp="store":We.depthStoreOp="discard"):(We.depthLoadOp=void 0,We.depthStoreOp=void 0);var br=!!(w2(Tn.format)&Es.Stencil);br?(e.stencilClearValue==="load"?We.stencilLoadOp="load":(We.stencilLoadOp="clear",We.stencilClearValue=e.stencilClearValue),e.depthStencilStore||this.gfxDepthStencilResolveTo!==null?We.stencilStoreOp="store":We.stencilStoreOp="discard"):(We.stencilLoadOp=void 0,We.stencilStoreOp=void 0),this.gpuRenderPassDescriptor.depthStencilAttachment=this.gpuDepthStencilAttachment}else this.gpuRenderPassDescriptor.depthStencilAttachment=void 0;this.gpuRenderPassDescriptor.occlusionQuerySet=(0,tg.Z)(e.occlusionQueryPool)?void 0:i4(e.occlusionQueryPool)},t.prototype.beginRenderPass=function(e,r){Cl(this.gpuRenderPassEncoder===null),this.setRenderPassDescriptor(r),this.frameCommandEncoder=e,this.gpuRenderPassEncoder=this.frameCommandEncoder.beginRenderPass(this.gpuRenderPassDescriptor)},t.prototype.flipY=function(e,r){var u=this.device.swapChainHeight;return u-e-r},t.prototype.setViewport=function(e,r,u,d,h,y){h===void 0&&(h=0),y===void 0&&(y=1),this.gpuRenderPassEncoder.setViewport(e,this.flipY(r,d),u,d,h,y)},t.prototype.setScissorRect=function(e,r,u,d){this.gpuRenderPassEncoder.setScissorRect(e,this.flipY(r,d),u,d)},t.prototype.setPipeline=function(e){var r=e,u=b_(r.gpuRenderPipeline);this.getEncoder().setPipeline(u)},t.prototype.setVertexInput=function(e,r,u){if(e!==null){var d=this.getEncoder(),h=e;u!==null&&d.setIndexBuffer(z2(u.buffer),b_(h.indexFormat),u.offset);for(var y=0;y<r.length;y++){var M=r[y];M!==null&&d.setVertexBuffer(y,z2(M.buffer),M.offset)}}},t.prototype.setBindings=function(e){var r=e,u=this.getEncoder();r.gpuBindGroup.forEach(function(d,h){d&&u.setBindGroup(h,r.gpuBindGroup[h])})},t.prototype.setStencilReference=function(e){this.gpuRenderPassEncoder.setStencilReference(e)},t.prototype.draw=function(e,r,u,d){this.getEncoder().draw(e,r,u,d)},t.prototype.drawIndexed=function(e,r,u,d,h){this.getEncoder().drawIndexed(e,r,u,d,h)},t.prototype.drawIndirect=function(e,r){this.getEncoder().drawIndirect(z2(e),r)},t.prototype.drawIndexedIndirect=function(e,r){this.getEncoder().drawIndexedIndirect(z2(e),r)},t.prototype.beginOcclusionQuery=function(e){this.gpuRenderPassEncoder.beginOcclusionQuery(e)},t.prototype.endOcclusionQuery=function(){this.gpuRenderPassEncoder.endOcclusionQuery()},t.prototype.pushDebugGroup=function(e){this.gpuRenderPassEncoder.pushDebugGroup(e)},t.prototype.popDebugGroup=function(){this.gpuRenderPassEncoder.popDebugGroup()},t.prototype.insertDebugMarker=function(e){this.gpuRenderPassEncoder.insertDebugMarker(e)},t.prototype.beginBundle=function(e){this.renderBundle=e},t.prototype.endBundle=function(){this.renderBundle.finish()},t.prototype.executeBundles=function(e){this.gpuRenderPassEncoder.executeBundles(e.map(function(r){return r.renderBundle}))},t.prototype.finish=function(){var e;(e=this.gpuRenderPassEncoder)===null||e===void 0||e.end(),this.gpuRenderPassEncoder=null;for(var r=0;r<this.gfxColorAttachment.length;r++){var u=this.gfxColorAttachment[r],d=this.gfxColorResolveTo[r];u!==null&&d!==null&&u.sampleCount===1&&this.copyAttachment(d,this.gfxColorAttachmentLevel[r],u,this.gfxColorResolveToLevel[r])}this.gfxDepthStencilAttachment&&this.gfxDepthStencilResolveTo&&(this.gfxDepthStencilAttachment.sampleCount>1||this.copyAttachment(this.gfxDepthStencilResolveTo,0,this.gfxDepthStencilAttachment,0)),this.frameCommandEncoder=null},t.prototype.copyAttachment=function(e,r,u,d){Cl(u.sampleCount===1);var h={texture:u.gpuTexture,mipLevel:d},y={texture:e.gpuTexture,mipLevel:r};Cl(u.width>>>d===e.width>>>r),Cl(u.height>>>d===e.height>>>r),Cl(!!(u.usage&n0.COPY_SRC)),Cl(!!(e.usage&n0.COPY_DST)),this.frameCommandEncoder.copyTextureToTexture(h,y,[e.width,e.height,1])},t}(),iS=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=t.call(this,{id:u,device:d})||this;return y.type=Hc.RenderPipeline,y.isCreatingAsync=!1,y.gpuRenderPipeline=null,y.descriptor=h,y.device.createRenderPipelineInternal(y,!1),y}return e.prototype.getBindGroupLayout=function(r){return this.gpuRenderPipeline.getBindGroupLayout(r)},e}(Vg),F8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y,M,U=t.call(this,{id:u,device:d})||this;U.type=Hc.Sampler;var re=h.lodMinClamp,Ee=h.mipmapFilter===vh.NO_MIP?h.lodMinClamp:h.lodMaxClamp,Ae=(y=h.maxAnisotropy)!==null&&y!==void 0?y:1;return Ae>1&&Cl(h.minFilter===mh.BILINEAR&&h.magFilter===mh.BILINEAR&&h.mipmapFilter===vh.LINEAR),U.gpuSampler=U.device.device.createSampler({addressModeU:T_(h.addressModeU),addressModeV:T_(h.addressModeV),addressModeW:T_((M=h.addressModeW)!==null&&M!==void 0?M:h.addressModeU),lodMinClamp:re,lodMaxClamp:Ee,minFilter:$C(h.minFilter),magFilter:$C(h.magFilter),mipmapFilter:r4(h.mipmapFilter),compare:h.compareFunction!==void 0?nS(h.compareFunction):void 0,maxAnisotropy:Ae}),U}return e}(Vg),aS=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=r.descriptor,y=r.skipCreate,M=r.sampleCount,U=t.call(this,{id:u,device:d})||this;U.type=Hc.Texture,U.flipY=!1;var re=h.format,Ee=h.dimension,Ae=h.width,We=h.height,Ht=h.depthOrArrayLayers,Tn=h.mipLevelCount,Fn=h.usage,br=h.pixelStore;return U.flipY=!!(br!=null&&br.unpackFlipY),U.device.createTextureShared({format:re,dimension:Ee!=null?Ee:Ql.TEXTURE_2D,width:Ae,height:We,depthOrArrayLayers:Ht!=null?Ht:1,mipLevelCount:Tn!=null?Tn:1,usage:Fn,sampleCount:M!=null?M:1},U,y),U}return e.prototype.textureFromImageBitmapOrCanvas=function(r,u,d){for(var h=u[0].width,y=u[0].height,M={size:{width:h,height:y,depthOrArrayLayers:d},format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT},U=r.createTexture(M),re=0;re<u.length;re++)r.queue.copyExternalImageToTexture({source:u[re],flipY:this.flipY},{texture:U,origin:[0,0,re]},[h,y]);return[U,h,y]},e.prototype.isImageBitmapOrCanvases=function(r){var u=r[0];return u instanceof ImageBitmap||u instanceof HTMLCanvasElement||u instanceof OffscreenCanvas},e.prototype.isVideo=function(r){var u=r[0];return u instanceof HTMLVideoElement},e.prototype.setImageData=function(r,u){var d,h=this,y=this.device.device,M,U,re;if(this.isImageBitmapOrCanvases(r))d=(0,Ns.CR)(this.textureFromImageBitmapOrCanvas(y,r,this.depthOrArrayLayers),3),M=d[0],U=d[1],re=d[2];else if(this.isVideo(r))M=y.importExternalTexture({source:r[0]});else{var Ee=u4(this.gpuTextureformat),Ae=Math.ceil(this.width/Ee.width)*Ee.length;r.forEach(function(We){y.queue.writeTexture({texture:h.gpuTexture},We,{bytesPerRow:Ae},{width:h.width,height:h.height})})}this.width=U,this.height=re,M&&(this.gpuTexture=M),this.gpuTextureView=this.gpuTexture.createView({dimension:T8(this.dimension)})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gpuTexture.destroy()},e}(Vg),U8=function(t){(0,Ns.ZT)(e,t);function e(r){var u=r.id,d=r.device,h=t.call(this,{id:u,device:d})||this;return h.type=Hc.RenderBundle,h.renderBundleEncoder=h.device.device.createRenderBundleEncoder({colorFormats:[h.device.swapChainFormat]}),h}return e.prototype.finish=function(){this.renderBundle=this.renderBundleEncoder.finish()},e}(Vg),oS=function(){function t(e,r,u,d,h,y){this.swapChainWidth=0,this.swapChainHeight=0,this.swapChainTextureUsage=n0.RENDER_ATTACHMENT|n0.COPY_DST,this._resourceUniqueId=0,this.renderPassPool=[],this.computePassPool=[],this.frameCommandEncoderPool=[],this.featureTextureCompressionBC=!1,this.platformString="WebGPU",this.glslVersion="#version 440",this.explicitBindingLocations=!0,this.separateSamplerTextures=!0,this.viewportOrigin=ym.UPPER_LEFT,this.clipSpaceNearZ=ey.ZERO,this.supportsSyncPipelineCompilation=!1,this.supportMRT=!0,this.device=r,this.canvas=u,this.canvasContext=d,this.glsl_compile=h,this.WGSLComposer=y,this.fallbackTexture2D=this.createFallbackTexture(Ql.TEXTURE_2D,Bd.Float),this.setResourceName(this.fallbackTexture2D,"Fallback Texture2D"),this.fallbackTexture2DDepth=this.createFallbackTexture(Ql.TEXTURE_2D,Bd.Depth),this.setResourceName(this.fallbackTexture2DDepth,"Fallback Depth Texture2D"),this.fallbackTexture2DArray=this.createFallbackTexture(Ql.TEXTURE_2D_ARRAY,Bd.Float),this.setResourceName(this.fallbackTexture2DArray,"Fallback Texture2DArray"),this.fallbackTexture3D=this.createFallbackTexture(Ql.TEXTURE_3D,Bd.Float),this.setResourceName(this.fallbackTexture3D,"Fallback Texture3D"),this.fallbackTextureCube=this.createFallbackTexture(Ql.TEXTURE_CUBE_MAP,Bd.Float),this.setResourceName(this.fallbackTextureCube,"Fallback TextureCube"),this.fallbackSamplerFiltering=this.createSampler({addressModeU:mp.REPEAT,addressModeV:mp.REPEAT,minFilter:mh.POINT,magFilter:mh.POINT,mipmapFilter:vh.NEAREST}),this.setResourceName(this.fallbackSamplerFiltering,"Fallback Sampler Filtering"),this.fallbackSamplerComparison=this.createSampler({addressModeU:mp.REPEAT,addressModeV:mp.REPEAT,minFilter:mh.POINT,magFilter:mh.POINT,mipmapFilter:vh.NEAREST,compareFunction:Il.ALWAYS}),this.setResourceName(this.fallbackSamplerComparison,"Fallback Sampler Comparison Filtering"),this.device.features&&(this.featureTextureCompressionBC=this.device.features.has("texture-compression-bc")),this.device.onuncapturederror=function(M){console.error(M.error)},this.swapChainFormat=navigator.gpu.getPreferredCanvasFormat(),this.canvasContext.configure({device:this.device,format:this.swapChainFormat,usage:this.swapChainTextureUsage,alphaMode:"premultiplied"})}return t.prototype.destroy=function(){},t.prototype.configureSwapChain=function(e,r){this.swapChainWidth===e&&this.swapChainHeight===r||(this.swapChainWidth=e,this.swapChainHeight=r)},t.prototype.getOnscreenTexture=function(){var e=this.canvasContext.getCurrentTexture(),r=e.createView(),u=new aS({id:0,device:this,descriptor:{format:oa.U8_RGBA_RT,width:this.swapChainWidth,height:this.swapChainHeight,depthOrArrayLayers:0,dimension:Ql.TEXTURE_2D,mipLevelCount:1,usage:this.swapChainTextureUsage},skipCreate:!0});return u.depthOrArrayLayers=1,u.sampleCount=1,u.gpuTexture=e,u.gpuTextureView=r,u.name="Onscreen",this.setResourceName(u,"Onscreen Texture"),u},t.prototype.getDevice=function(){return this},t.prototype.getCanvas=function(){return this.canvas},t.prototype.beginFrame=function(){Cl(this.frameCommandEncoderPool.length===0)},t.prototype.endFrame=function(){Cl(this.frameCommandEncoderPool.every(function(e){return e!==null})),this.device.queue.submit(this.frameCommandEncoderPool.map(function(e){return e.finish()})),this.frameCommandEncoderPool=[]},t.prototype.getNextUniqueId=function(){return++this._resourceUniqueId},t.prototype.createBuffer=function(e){return new k8({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createTexture=function(e){return new aS({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createSampler=function(e){return new F8({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createRenderTarget=function(e){var r=new aS({id:this.getNextUniqueId(),device:this,descriptor:(0,Ns.pi)((0,Ns.pi)({},e),{dimension:Ql.TEXTURE_2D,mipLevelCount:1,depthOrArrayLayers:1,usage:Q0.RENDER_TARGET}),sampleCount:e.sampleCount});return r.depthOrArrayLayers=1,r.type=Hc.RenderTarget,r},t.prototype.createRenderTargetFromTexture=function(e){var r=e,u=r.format,d=r.width,h=r.height,y=r.depthOrArrayLayers,M=r.sampleCount,U=r.mipLevelCount,re=r.gpuTexture,Ee=r.gpuTextureView,Ae=r.usage;Cl(!!(Ae&n0.RENDER_ATTACHMENT));var We=new aS({id:this.getNextUniqueId(),device:this,descriptor:{format:u,width:d,height:h,depthOrArrayLayers:y,dimension:Ql.TEXTURE_2D,mipLevelCount:U,usage:Ae},skipCreate:!0});return We.depthOrArrayLayers=y,We.sampleCount=M,We.gpuTexture=re,We.gpuTextureView=Ee,We},t.prototype.createProgram=function(e){var r,u;return!((r=e.vertex)===null||r===void 0)&&r.glsl&&(e.vertex.glsl=ry(this.queryVendorInfo(),"vert",e.vertex.glsl)),!((u=e.fragment)===null||u===void 0)&&u.glsl&&(e.fragment.glsl=ry(this.queryVendorInfo(),"frag",e.fragment.glsl)),new Kx({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createProgramSimple=function(e){return new Kx({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createTextureShared=function(e,r,u){var d={width:e.width,height:e.height,depthOrArrayLayers:e.depthOrArrayLayers},h=e.mipLevelCount,y=eS(e.format),M=x8(e.dimension),U=n4(e.usage);if(r.gpuTextureformat=y,r.dimension=e.dimension,r.format=e.format,r.width=e.width,r.height=e.height,r.depthOrArrayLayers=e.depthOrArrayLayers,r.mipLevelCount=h,r.usage=U,r.sampleCount=e.sampleCount,!u){var re=this.device.createTexture({size:d,mipLevelCount:h,format:y,dimension:M,sampleCount:e.sampleCount,usage:U}),Ee=re.createView();r.gpuTexture=re,r.gpuTextureView=Ee}},t.prototype.getFallbackSampler=function(e){var r=e.formatKind;return r===Bd.Depth&&e.comparison?this.fallbackSamplerComparison:this.fallbackSamplerFiltering},t.prototype.getFallbackTexture=function(e){var r=e.dimension,u=e.formatKind;if(r===Ql.TEXTURE_2D)return u===Bd.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(r===Ql.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(r===Ql.TEXTURE_3D)return this.fallbackTexture3D;if(r===Ql.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},t.prototype.createFallbackTexture=function(e,r){var u=e===Ql.TEXTURE_CUBE_MAP?6:1,d=r===Bd.Float?oa.U8_RGBA_NORM:oa.D24;return this.createTexture({dimension:e,format:d,usage:Q0.SAMPLED,width:1,height:1,depthOrArrayLayers:u,mipLevelCount:1})},t.prototype.createBindings=function(e){return new QC({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createInputLayout=function(e){return new JC({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createComputePipeline=function(e){return new qC({id:this.getNextUniqueId(),device:this,descriptor:e})},t.prototype.createRenderPipeline=function(e){return new iS({id:this.getNextUniqueId(),device:this,descriptor:(0,Ns.pi)({},e)})},t.prototype.createQueryPool=function(e,r){return new B8({id:this.getNextUniqueId(),device:this,descriptor:{type:e,elemCount:r}})},t.prototype.createRenderPipelineInternal=function(e,r){var u;if(e.gpuRenderPipeline===null){var d=e.descriptor,h=d.program,y=h.vertexStage,M=h.fragmentStage;if(!(y===null||M===null)){var U=d.megaStateDescriptor||{},re=U.stencilBack,Ee=U.stencilFront,Ae=(0,Ns._T)(U,["stencilBack","stencilFront"]),We=P2(x_);d.megaStateDescriptor=(0,Ns.pi)((0,Ns.pi)((0,Ns.pi)({},We),{stencilBack:(0,Ns.pi)((0,Ns.pi)({},We.stencilBack),re),stencilFront:(0,Ns.pi)((0,Ns.pi)({},We.stencilFront),Ee)}),Ae);var Ht=d.megaStateDescriptor.attachmentsState[0];d.colorAttachmentFormats.forEach(function(ca,Da){d.megaStateDescriptor.attachmentsState[Da]||(d.megaStateDescriptor.attachmentsState[Da]=NC(void 0,Ht))});var Tn=w8((u=d.topology)!==null&&u!==void 0?u:Vd.TRIANGLES,d.megaStateDescriptor),Fn=zD(d.colorAttachmentFormats,d.megaStateDescriptor),br=P8(d.depthStencilAttachmentFormat,d.megaStateDescriptor),ei=void 0;d.inputLayout!==null&&(ei=d.inputLayout.buffers);var Jr=d.sampleCount,zi={layout:"auto",vertex:(0,Ns.pi)((0,Ns.pi)({},y),{buffers:ei}),primitive:Tn,depthStencil:br,multisample:{count:Jr},fragment:(0,Ns.pi)((0,Ns.pi)({},M),{targets:Fn})};e.gpuRenderPipeline=this.device.createRenderPipeline(zi)}}},t.prototype.createReadback=function(){return new eO({id:this.getNextUniqueId(),device:this})},t.prototype.createRenderBundle=function(){return new U8({id:this.getNextUniqueId(),device:this})},t.prototype.createRenderPass=function(e){var r=this.renderPassPool.pop();r===void 0&&(r=new l4(this));var u=this.frameCommandEncoderPool.pop();return u===void 0&&(u=this.device.createCommandEncoder()),r.beginRenderPass(u,e),r},t.prototype.createComputePass=function(){var e=this.computePassPool.pop();e===void 0&&(e=new ay);var r=this.frameCommandEncoderPool.pop();return r===void 0&&(r=this.device.createCommandEncoder()),e.beginComputePass(r),e},t.prototype.submitPass=function(e){var r=e;r instanceof l4?(this.frameCommandEncoderPool.push(r.frameCommandEncoder),r.finish(),this.renderPassPool.push(r)):r instanceof ay&&(this.frameCommandEncoderPool.push(r.frameCommandEncoder),r.finish(),this.computePassPool.push(r))},t.prototype.copySubTexture2D=function(e,r,u,d,h,y,M){var U=this.device.createCommandEncoder(),re=e,Ee=d,Ae={texture:Ee.gpuTexture,origin:[h,y,0],mipLevel:0,aspect:"all"},We={texture:re.gpuTexture,origin:[r,u,0],mipLevel:0,aspect:"all"};Cl(!!(Ee.usage&n0.COPY_SRC)),Cl(!!(re.usage&n0.COPY_DST)),U.copyTextureToTexture(Ae,We,[Ee.width,Ee.height,M||1]),this.device.queue.submit([U.finish()])},t.prototype.queryLimits=function(){return{uniformBufferMaxPageWordSize:this.device.limits.maxUniformBufferBindingSize>>>2,uniformBufferWordAlignment:this.device.limits.minUniformBufferOffsetAlignment>>>2,supportedSampleCounts:[1],occlusionQueriesRecommended:!0,computeShadersSupported:!0}},t.prototype.queryTextureFormatSupported=function(e,r,u){if(rS(e)){if(!this.featureTextureCompressionBC)return!1;var d=N8(e);return r%d!==0||u%d!==0?!1:this.featureTextureCompressionBC}switch(e){case oa.U16_RGBA_NORM:return!1;case oa.F32_RGBA:return!1}return!0},t.prototype.queryPlatformAvailable=function(){return!0},t.prototype.queryVendorInfo=function(){return this},t.prototype.queryRenderPass=function(e){var r=e;return r.descriptor},t.prototype.queryRenderTarget=function(e){var r=e;return r},t.prototype.setResourceName=function(e,r){if(e.name=r,e.type===Hc.Buffer){var u=e;u.gpuBuffer.label=r}else if(e.type===Hc.Texture){var u=e;u.gpuTexture.label=r,u.gpuTextureView.label=r}else if(e.type===Hc.RenderTarget){var u=e;u.gpuTexture.label=r,u.gpuTextureView.label=r}else if(e.type===Hc.Sampler){var u=e;u.gpuSampler.label=r}else if(e.type===Hc.RenderPipeline){var u=e;u.gpuRenderPipeline!==null&&(u.gpuRenderPipeline.label=r)}},t.prototype.setResourceLeakCheck=function(e,r){},t.prototype.checkForLeaks=function(){},t.prototype.programPatched=function(e){},t.prototype.pipelineQueryReady=function(e){var r=e;return r.gpuRenderPipeline!==null},t.prototype.pipelineForceReady=function(e){var r=e;this.createRenderPipelineInternal(r,!1)},t}(),z8=function(){function t(e){this.pluginOptions=e}return t.prototype.createSwapChain=function(e){return(0,Ns.mG)(this,void 0,void 0,function(){var r,u,d,h,y,M,U,re;return(0,Ns.Jh)(this,function(Ee){switch(Ee.label){case 0:if(globalThis.navigator.gpu===void 0)return[2,null];r=null,Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),u=this.pluginOptions.xrCompatible,[4,globalThis.navigator.gpu.requestAdapter({xrCompatible:u})];case 2:return r=Ee.sent(),[3,4];case 3:return d=Ee.sent(),console.log(d),[3,4];case 4:return r===null?[2,null]:(h=["depth32float-stencil8","texture-compression-bc","float32-filterable"],y=h.filter(function(Ae){return r.features.has(Ae)}),[4,r.requestDevice({requiredFeatures:y})]);case 5:if(M=Ee.sent(),M&&(U=this.pluginOptions.onContextLost,M.lost.then(function(){U&&U()})),M===null)return[2,null];if(re=e.getContext("webgpu"),!re)return[2,null];Ee.label=6;case 6:return Ee.trys.push([6,8,,9]),[4,t4(this.pluginOptions.shaderCompilerPath)];case 7:return Ee.sent(),[3,9];case 8:return Ee.sent(),[3,9];case 9:return[2,new oS(r,M,e,re,JR,Xx&&new Xx)]}})})},t}(),c4=Object.defineProperty,f4=Object.defineProperties,Z8=Object.getOwnPropertyDescriptors,r1=Object.getOwnPropertySymbols,j8=Object.prototype.hasOwnProperty,d4=Object.prototype.propertyIsEnumerable,h4=(t,e,r)=>e in t?c4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oy=(t,e)=>{for(var r in e||(e={}))j8.call(e,r)&&h4(t,r,e[r]);if(r1)for(var r of r1(e))d4.call(e,r)&&h4(t,r,e[r]);return t},H8=(t,e)=>f4(t,Z8(e)),{isPlainObject:tO,isTypedArray:p4}=yo,g4=class{constructor(t,e){this.destroyed=!1,this.uniforms={},this.reGl=t;const{vs:r,fs:u,attributes:d,uniforms:h,primitive:y,count:M,elements:U,depth:re,cull:Ee,instances:Ae}=e,We={platformString:"WebGL1",glslVersion:"#version 100",explicitBindingLocations:!1,separateSamplerTextures:!1,viewportOrigin:ym.LOWER_LEFT,clipSpaceNearZ:ey.NEGATIVE_ONE,supportMRT:!1},Ht={};this.options=e,h&&(this.uniforms=this.extractUniforms(h),Object.keys(h).forEach(Jr=>{Ht[Jr]=t.prop(Jr)}));const Tn={};Object.keys(d).forEach(Jr=>{Tn[Jr]=d[Jr].get()});const Fn=sl(ry(We,"frag",u,null,!1)),br=sl(ry(We,"vert",r,null,!1)),ei={attributes:Tn,frag:Fn,uniforms:Ht,vert:br,colorMask:t.prop("colorMask"),lineWidth:1,blend:{enable:t.prop("blend.enable"),func:t.prop("blend.func"),equation:t.prop("blend.equation"),color:t.prop("blend.color")},stencil:{enable:t.prop("stencil.enable"),mask:t.prop("stencil.mask"),func:t.prop("stencil.func"),opFront:t.prop("stencil.opFront"),opBack:t.prop("stencil.opBack")},primitive:wL[y===void 0?kt.TRIANGLES:y]};Ae&&(ei.instances=Ae),M?ei.count=M:U&&(ei.elements=U.get()),this.initDepthDrawParams({depth:re},ei),this.initCullDrawParams({cull:Ee},ei),this.drawCommand=t(ei),this.drawParams=ei}updateAttributesAndElements(t,e){const r={};Object.keys(t).forEach(u=>{r[u]=t[u].get()}),this.drawParams.attributes=r,this.drawParams.elements=e.get(),this.drawCommand=this.reGl(this.drawParams)}updateAttributes(t){const e={};Object.keys(t).forEach(r=>{e[r]=t[r].get()}),this.drawParams.attributes=e,this.drawCommand=this.reGl(this.drawParams)}addUniforms(t){this.uniforms=oy(oy({},this.uniforms),this.extractUniforms(t))}draw(t,e){if(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)return;const r=oy(oy({},this.uniforms),this.extractUniforms(t.uniforms||{})),u={};Object.keys(r).forEach(d=>{const h=typeof r[d];h==="boolean"||h==="number"||Array.isArray(r[d])||r[d].BYTES_PER_ELEMENT?u[d]=r[d]:u[d]=r[d].get()}),u.blend=e?this.getBlendDrawParams({blend:{enable:!1}}):this.getBlendDrawParams(t),u.stencil=this.getStencilDrawParams(t),u.colorMask=this.getColorMaskDrawParams(t,e),this.drawCommand(u)}destroy(){var t,e;(e=(t=this.drawParams)==null?void 0:t.elements)==null||e.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(r=>{r==null||r.destroy()}),this.destroyed=!0}initDepthDrawParams({depth:t},e){t&&(e.depth={enable:t.enable===void 0?!0:!!t.enable,mask:t.mask===void 0?!0:!!t.mask,func:IC[t.func||kt.LESS],range:t.range||[0,1]})}getBlendDrawParams({blend:t}){const{enable:e,func:r,equation:u,color:d=[0,0,0,0]}=t||{};return{enable:!!e,func:{srcRGB:Bx[r&&r.srcRGB||kt.SRC_ALPHA],srcAlpha:Bx[r&&r.srcAlpha||kt.SRC_ALPHA],dstRGB:Bx[r&&r.dstRGB||kt.ONE_MINUS_SRC_ALPHA],dstAlpha:Bx[r&&r.dstAlpha||kt.ONE_MINUS_SRC_ALPHA]},equation:{rgb:dR[u&&u.rgb||kt.FUNC_ADD],alpha:dR[u&&u.alpha||kt.FUNC_ADD]},color:d}}getStencilDrawParams({stencil:t}){const{enable:e,mask:r=-1,func:u={cmp:kt.ALWAYS,ref:0,mask:-1},opFront:d={fail:kt.KEEP,zfail:kt.KEEP,zpass:kt.KEEP},opBack:h={fail:kt.KEEP,zfail:kt.KEEP,zpass:kt.KEEP}}=t||{};return{enable:!!e,mask:r,func:H8(oy({},u),{cmp:FT[u.cmp]}),opFront:{fail:__[d.fail],zfail:__[d.zfail],zpass:__[d.zpass]},opBack:{fail:__[h.fail],zfail:__[h.zfail],zpass:__[h.zpass]}}}getColorMaskDrawParams({stencil:t},e){return t!=null&&t.enable&&t.opFront&&!e?[!1,!1,!1,!1]:[!0,!0,!0,!0]}initCullDrawParams({cull:t},e){if(t){const{enable:r,face:u=kt.BACK}=t;e.cull={enable:!!r,face:PL[u]}}}extractUniforms(t){const e={};return Object.keys(t).forEach(r=>{this.extractUniformsRecursively(r,t[r],e,"")}),e}extractUniformsRecursively(t,e,r,u){if(e===null||typeof e=="number"||typeof e=="boolean"||Array.isArray(e)&&typeof e[0]=="number"||p4(e)||e===""||"resize"in e){r[`${u&&u+"."}${t}`]=e;return}tO(e)&&Object.keys(e).forEach(d=>{this.extractUniformsRecursively(d,e[d],r,`${u&&u+"."}${t}`)}),Array.isArray(e)&&e.forEach((d,h)=>{Object.keys(d).forEach(y=>{this.extractUniformsRecursively(y,d[y],r,`${u&&u+"."}${t}[${h}]`)})})}},W8=class{constructor(t,e){this.isDestroy=!1;const{data:r,type:u=kt.UNSIGNED_BYTE,width:d,height:h,flipY:y=!1,format:M=kt.RGBA,mipmap:U=!1,wrapS:re=kt.CLAMP_TO_EDGE,wrapT:Ee=kt.CLAMP_TO_EDGE,aniso:Ae=0,alignment:We=1,premultiplyAlpha:Ht=!1,mag:Tn=kt.NEAREST,min:Fn=kt.NEAREST,colorSpace:br=kt.BROWSER_DEFAULT_WEBGL,x:ei=0,y:Jr=0,copy:zi=!1}=e;this.width=d,this.height=h;const ca={width:d,height:h,type:MC[u],format:ML[M],wrapS:vm[re],wrapT:vm[Ee],mag:RC[Tn],min:RC[Fn],alignment:We,flipY:y,colorSpace:PC[br],premultiplyAlpha:Ht,aniso:Ae,x:ei,y:Jr,copy:zi};r&&(ca.data=r),typeof U=="number"?ca.mipmap=RL[U]:typeof U=="boolean"&&(ca.mipmap=U),this.texture=t.texture(ca)}get(){return this.texture}update(t={}){this.texture(t)}bind(){this.texture._texture.bind()}resize({width:t,height:e}){this.texture.resize(t,e),this.width=t,this.height=e}getSize(){return[this.width,this.height]}destroy(){var t;this.isDestroy||(t=this.texture)==null||t.destroy(),this.isDestroy=!0}},S_=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),V8=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>"WebGL1",this.createModel=t=>new g4(this.gl,t),this.createAttribute=t=>new cR(this.gl,t),this.createBuffer=t=>new IL(this.gl,t),this.createElements=t=>new hR(this.gl,t),this.createTexture2D=t=>new W8(this.gl,t),this.createFramebuffer=t=>new Fx(this.gl,t),this.useFramebuffer=(t,e)=>{this.gl({framebuffer:t?t.get():null})(e)},this.useFramebufferAsync=(t,e)=>S_(this,null,function*(){this.gl({framebuffer:t?t.get():null})(e)}),this.clear=t=>{var e;const{color:r,depth:u,stencil:d,framebuffer:h=null}=t,y={color:r,depth:u,stencil:d};y.framebuffer=h===null?h:h.get(),(e=this.gl)==null||e.clear(y)},this.viewport=({x:t,y:e,width:r,height:u})=>{this.gl._gl.viewport(t,e,r,u),this.width=r,this.height=u,this.gl._refresh()},this.readPixels=t=>{const{framebuffer:e,x:r,y:u,width:d,height:h}=t,y={x:r,y:u,width:d,height:h};return e&&(y.framebuffer=e.get()),this.gl.read(y)},this.readPixelsAsync=t=>S_(this,null,function*(){return this.readPixels(t)}),this.getViewportSize=()=>({width:this.gl._gl.drawingBufferWidth,height:this.gl._gl.drawingBufferHeight}),this.getContainer=()=>{var t;return(t=this.canvas)==null?void 0:t.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.gl._gl,this.destroy=()=>{var t,e,r;this.canvas=null,(r=(e=(t=this.gl)==null?void 0:t._gl)==null?void 0:e.getExtension("WEBGL_lose_context"))==null||r.loseContext(),this.gl.destroy(),this.gl=null}}init(t,e,r){return S_(this,null,function*(){this.canvas=t,r?this.gl=r:this.gl=yield new Promise((u,d)=>{OL()({canvas:this.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,stencil:e.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture","WEBGL_lose_context"],profile:!0,onDone:(h,y)=>{(h||!y)&&d(h),u(y)}})}),this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")}})}getPointSizeRange(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}testExtension(t){return!!this.getGLContext().getExtension(t)}setState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}setBaseState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}setCustomLayerDefaults(){const t=this.getGLContext();t.disable(t.CULL_FACE)}setDirty(t){this.isDirty=t}getDirty(){return this.isDirty}beginFrame(){}endFrame(){}},G8=class{constructor(t,e){const{buffer:r,offset:u,stride:d,normalized:h,size:y,divisor:M,shaderLocation:U}=e;this.buffer=r,this.attribute={shaderLocation:U,buffer:r.get(),offset:u||0,stride:d||0,normalized:h||!1,divisor:M||0},y&&(this.attribute.size=y)}get(){return this.buffer}updateBuffer(t){this.buffer.subData(t)}destroy(){this.buffer.destroy()}},sS={[kt.FLOAT]:Float32Array,[kt.UNSIGNED_BYTE]:Uint8Array,[kt.SHORT]:Int16Array,[kt.UNSIGNED_SHORT]:Uint16Array,[kt.INT]:Int32Array,[kt.UNSIGNED_INT]:Uint32Array},Y8={[kt.POINTS]:Vd.POINTS,[kt.LINES]:Vd.LINES,[kt.LINE_LOOP]:Vd.LINES,[kt.LINE_STRIP]:Vd.LINE_STRIP,[kt.TRIANGLES]:Vd.TRIANGLES,[kt.TRIANGLE_FAN]:Vd.TRIANGLES,[kt.TRIANGLE_STRIP]:Vd.TRIANGLE_STRIP},$8={1:oa.F32_R,2:oa.F32_RG,3:oa.F32_RGB,4:oa.F32_RGBA},H2={[kt.STATIC_DRAW]:Hp.STATIC,[kt.DYNAMIC_DRAW]:Hp.DYNAMIC,[kt.STREAM_DRAW]:Hp.DYNAMIC},nO={[kt.REPEAT]:mp.REPEAT,[kt.CLAMP_TO_EDGE]:mp.CLAMP_TO_EDGE,[kt.MIRRORED_REPEAT]:mp.MIRRORED_REPEAT},Gf={[kt.NEVER]:Il.NEVER,[kt.ALWAYS]:Il.ALWAYS,[kt.LESS]:Il.LESS,[kt.LEQUAL]:Il.LEQUAL,[kt.GREATER]:Il.GREATER,[kt.GEQUAL]:Il.GEQUAL,[kt.EQUAL]:Il.EQUAL,[kt.NOTEQUAL]:Il.NOTEQUAL},X8={[kt.FRONT]:ng.FRONT,[kt.BACK]:ng.BACK},m4={[kt.FUNC_ADD]:w0.ADD,[kt.MIN_EXT]:w0.MIN,[kt.MAX_EXT]:w0.MAX,[kt.FUNC_SUBTRACT]:w0.SUBSTRACT,[kt.FUNC_REVERSE_SUBTRACT]:w0.REVERSE_SUBSTRACT},uS={[kt.ZERO]:Xl.ZERO,[kt.ONE]:Xl.ONE,[kt.SRC_COLOR]:Xl.SRC,[kt.ONE_MINUS_SRC_COLOR]:Xl.ONE_MINUS_SRC,[kt.SRC_ALPHA]:Xl.SRC_ALPHA,[kt.ONE_MINUS_SRC_ALPHA]:Xl.ONE_MINUS_SRC_ALPHA,[kt.DST_COLOR]:Xl.DST,[kt.ONE_MINUS_DST_COLOR]:Xl.ONE_MINUS_DST,[kt.DST_ALPHA]:Xl.DST_ALPHA,[kt.ONE_MINUS_DST_ALPHA]:Xl.ONE_MINUS_DST_ALPHA,[kt.CONSTANT_COLOR]:Xl.CONST,[kt.ONE_MINUS_CONSTANT_COLOR]:Xl.ONE_MINUS_CONSTANT,[kt.CONSTANT_ALPHA]:Xl.CONST,[kt.ONE_MINUS_CONSTANT_ALPHA]:Xl.ONE_MINUS_CONSTANT,[kt.SRC_ALPHA_SATURATE]:Xl.SRC_ALPHA_SATURATE},A_={[kt.REPLACE]:Jd.REPLACE,[kt.KEEP]:Jd.KEEP,[kt.ZERO]:Jd.ZERO,[kt.INVERT]:Jd.INVERT,[kt.INCR]:Jd.INCREMENT_CLAMP,[kt.DECR]:Jd.DECREMENT_CLAMP,[kt.INCR_WRAP]:Jd.INCREMENT_WRAP,[kt.DECR_WRAP]:Jd.DECREMENT_WRAP},K8={[kt.ALWAYS]:Il.ALWAYS,[kt.EQUAL]:Il.EQUAL,[kt.GEQUAL]:Il.GEQUAL,[kt.GREATER]:Il.GREATER,[kt.LEQUAL]:Il.LEQUAL,[kt.LESS]:Il.LESS,[kt.NEVER]:Il.NEVER,[kt.NOTEQUAL]:Il.NOTEQUAL},ud={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function W2(t){return Object.prototype.toString.call(t)in ud}function Q8(t,e){const r=t.length,u=Math.ceil(r/3),d=r+u,h=new Float32Array(d);for(let y=0;y<d;y+=4)h[y]=t[y/4*3],h[y+1]=t[y/4*3+1],h[y+2]=t[y/4*3+2],h[y+3]=e;return h}var Ah=class{constructor(t,e){this.isDestroyed=!1;const{data:r,usage:u,type:d,isUBO:h,label:y}=e;let M;W2(r)?M=r:M=new sS[this.type||kt.FLOAT](r),this.type=d,this.size=M.byteLength,this.buffer=t.createBuffer({viewOrSize:M,usage:h?Af.UNIFORM:Af.VERTEX,hint:H2[u||kt.STATIC_DRAW]}),y&&t.setResourceName(this.buffer,y)}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:t,offset:e}){let r;W2(t)?r=t:r=new sS[this.type||kt.FLOAT](t),this.buffer.setSubData(e,new Uint8Array(r.buffer))}};function Ff(t,e=0){return t+=e,t+=t<<10,t+=t>>>6,t>>>0}function v4(t){return t+=t<<3,t^=t>>>11,t+=t<<15,t>>>0}function y4(){return 0}var V2=class{constructor(){this.keys=[],this.values=[]}},Qx=class{constructor(t,e){this.keyEqualFunc=t,this.keyHashFunc=e,this.buckets=new Map}findBucketIndex(t,e){for(let r=0;r<t.keys.length;r++)if(this.keyEqualFunc(e,t.keys[r]))return r;return-1}findBucket(t){const e=this.keyHashFunc(t);return this.buckets.get(e)}get(t){const e=this.findBucket(t);if(e===void 0)return null;const r=this.findBucketIndex(e,t);return r<0?null:e.values[r]}add(t,e){const r=this.keyHashFunc(t);this.buckets.get(r)===void 0&&this.buckets.set(r,new V2);const u=this.buckets.get(r);u.keys.push(t),u.values.push(e)}delete(t){const e=this.findBucket(t);if(e===void 0)return;const r=this.findBucketIndex(e,t);r!==-1&&(e.keys.splice(r,1),e.values.splice(r,1))}clear(){this.buckets.clear()}size(){let t=0;for(const e of this.buckets.values())t+=e.values.length;return t}*values(){for(const t of this.buckets.values())for(let e=t.values.length-1;e>=0;e--)yield t.values[e]}};function _4(t,e){return t=Ff(t,e.blendMode),t=Ff(t,e.blendSrcFactor),t=Ff(t,e.blendDstFactor),t}function q8(t,e){return t=_4(t,e.rgbBlendState),t=_4(t,e.alphaBlendState),t=Ff(t,e.channelWriteMask),t}function J8(t,e){return t=Ff(t,e.r<<24|e.g<<16|e.b<<8|e.a),t}function eN(t,e){var r,u,d,h,y,M,U,re;for(let Ee=0;Ee<e.attachmentsState.length;Ee++)t=q8(t,e.attachmentsState[Ee]);return t=J8(t,e.blendConstant||ZT),t=Ff(t,e.depthCompare),t=Ff(t,e.depthWrite?1:0),t=Ff(t,(r=e.stencilFront)==null?void 0:r.compare),t=Ff(t,(u=e.stencilFront)==null?void 0:u.passOp),t=Ff(t,(d=e.stencilFront)==null?void 0:d.failOp),t=Ff(t,(h=e.stencilFront)==null?void 0:h.depthFailOp),t=Ff(t,(y=e.stencilBack)==null?void 0:y.compare),t=Ff(t,(M=e.stencilBack)==null?void 0:M.passOp),t=Ff(t,(U=e.stencilBack)==null?void 0:U.failOp),t=Ff(t,(re=e.stencilBack)==null?void 0:re.depthFailOp),t=Ff(t,e.stencilWrite?1:0),t=Ff(t,e.cullMode),t=Ff(t,e.frontFace?1:0),t=Ff(t,e.polygonOffset?1:0),t}function tN(t){let e=0;e=Ff(e,t.program.id),t.inputLayout!==null&&(e=Ff(e,t.inputLayout.id)),e=eN(e,t.megaStateDescriptor);for(let r=0;r<t.colorAttachmentFormats.length;r++)e=Ff(e,t.colorAttachmentFormats[r]||0);return e=Ff(e,t.depthStencilAttachmentFormat||0),v4(e)}function nN(t){let e=0;if(t.samplerBindings)for(let r=0;r<t.samplerBindings.length;r++){const u=t.samplerBindings[r];u!==null&&u.texture!==null&&(e=Ff(e,u.texture.id))}if(t.uniformBufferBindings)for(let r=0;r<t.uniformBufferBindings.length;r++){const u=t.uniformBufferBindings[r];u!==null&&u.buffer!==null&&(e=Ff(e,u.buffer.id),e=Ff(e,u.binding),e=Ff(e,u.offset),e=Ff(e,u.size))}if(t.storageBufferBindings)for(let r=0;r<t.storageBufferBindings.length;r++){const u=t.storageBufferBindings[r];u!==null&&u.buffer!==null&&(e=Ff(e,u.buffer.id),e=Ff(e,u.binding),e=Ff(e,u.offset),e=Ff(e,u.size))}if(t.storageTextureBindings)for(let r=0;r<t.storageTextureBindings.length;r++){const u=t.storageTextureBindings[r];u!==null&&u.texture!==null&&(e=Ff(e,u.texture.id),e=Ff(e,u.binding))}return v4(e)}function rN(t,e){var r,u,d,h;return((r=t.vertex)==null?void 0:r.glsl)===((u=e.vertex)==null?void 0:u.glsl)&&((d=t.fragment)==null?void 0:d.glsl)===((h=e.fragment)==null?void 0:h.glsl)}function iN(t){var e,r;return{vertex:{glsl:(e=t.vertex)==null?void 0:e.glsl},fragment:{glsl:(r=t.fragment)==null?void 0:r.glsl}}}var b4=class{constructor(t){this.device=t,this.bindingsCache=new Qx(wR,nN),this.renderPipelinesCache=new Qx(Zx,tN),this.inputLayoutsCache=new Qx(LR,y4),this.programCache=new Qx(rN,y4)}createBindings(t){var e;let r=this.bindingsCache.get(t);if(r===null){const u=$L(t);u.uniformBufferBindings=(e=u.uniformBufferBindings)==null?void 0:e.filter(({size:d})=>d&&d>0),r=this.device.createBindings(u),this.bindingsCache.add(u,r)}return r}createRenderPipeline(t){let e=this.renderPipelinesCache.get(t);if(e===null){const r=XL(t);r.colorAttachmentFormats=r.colorAttachmentFormats.filter(u=>u),e=this.device.createRenderPipeline(r),this.renderPipelinesCache.add(r,e)}return e}createInputLayout(t){t.vertexBufferDescriptors=t.vertexBufferDescriptors.filter(r=>!!r);let e=this.inputLayoutsCache.get(t);if(e===null){const r=DR(t);e=this.device.createInputLayout(r),this.inputLayoutsCache.add(r,e)}return e}createProgram(t){let e=this.programCache.get(t);if(e===null){const r=iN(t);e=this.device.createProgram(t),this.programCache.add(r,e)}return e}destroy(){for(const t of this.bindingsCache.values())t.destroy();for(const t of this.renderPipelinesCache.values())t.destroy();for(const t of this.inputLayoutsCache.values())t.destroy();for(const t of this.programCache.values())t.destroy();this.bindingsCache.clear(),this.renderPipelinesCache.clear(),this.inputLayoutsCache.clear(),this.programCache.clear()}},aN=class{constructor(t,e){const{data:r,type:u,count:d=0}=e;let h;W2(r)?h=r:h=new sS[this.type||kt.UNSIGNED_INT](r),this.type=u,this.count=d,this.indexBuffer=t.createBuffer({viewOrSize:h,usage:Af.INDEX})}get(){return this.indexBuffer}subData({data:t}){let e;W2(t)?e=t:e=new sS[this.type||kt.UNSIGNED_INT](t),this.indexBuffer.setSubData(0,new Uint8Array(e.buffer))}destroy(){this.indexBuffer.destroy()}};function E4(t){return!!(t&&t.texture)}var x4=class{constructor(t,e){this.device=t,this.options=e,this.isDestroy=!1;const{wrapS:r=kt.CLAMP_TO_EDGE,wrapT:u=kt.CLAMP_TO_EDGE,aniso:d,mag:h=kt.NEAREST,min:y=kt.NEAREST}=e;this.createTexture(e),this.sampler=t.createSampler({addressModeU:nO[r],addressModeV:nO[u],minFilter:y===kt.NEAREST?mh.POINT:mh.BILINEAR,magFilter:h===kt.NEAREST?mh.POINT:mh.BILINEAR,mipmapFilter:vh.NO_MIP,maxAnisotropy:d})}createTexture(t){const{type:e=kt.UNSIGNED_BYTE,width:r,height:u,flipY:d=!1,format:h=kt.RGBA,alignment:y=1,usage:M=H0.SAMPLED,unorm:U=!1,label:re}=t;let{data:Ee}=t;this.width=r,this.height=u;let Ae=oa.U8_RGBA_RT;if(e===kt.UNSIGNED_BYTE&&h===kt.RGBA)Ae=U?oa.U8_RGBA_NORM:oa.U8_RGBA_RT;else if(e===kt.UNSIGNED_BYTE&&h===kt.LUMINANCE)Ae=oa.U8_LUMINANCE;else if(e===kt.FLOAT&&h===kt.LUMINANCE)Ae=oa.F32_LUMINANCE;else if(e===kt.FLOAT&&h===kt.RGB)this.device.queryVendorInfo().platformString==="WebGPU"?(Ee&&(Ee=Q8(Ee,0)),Ae=oa.F32_RGBA):Ae=oa.F32_RGB;else if(e===kt.FLOAT&&h===kt.RGBA)Ae=oa.F32_RGBA;else if(e===kt.FLOAT&&h===kt.RED)Ae=oa.F32_R;else throw new Error(`create texture error, type: ${e}, format: ${h}`);this.texture=this.device.createTexture({format:Ae,width:r,height:u,usage:M===H0.SAMPLED?Q0.SAMPLED:Q0.RENDER_TARGET,pixelStore:{unpackFlipY:d,packAlignment:y},mipLevelCount:1}),re&&this.device.setResourceName(this.texture,re),Ee&&this.texture.setImageData([Ee])}get(){return this.texture}update(t){const{data:e}=t;this.texture.setImageData([e])}bind(){}resize({width:t,height:e}){(this.width!==t||this.height!==e)&&this.destroy(),this.options.width=t,this.options.height=e,this.createTexture(this.options),this.isDestroy=!1}getSize(){return[this.width,this.height]}destroy(){var t;!this.isDestroy&&!this.texture.destroyed&&((t=this.texture)==null||t.destroy()),this.isDestroy=!0}},T4=class{constructor(t,e){this.device=t,this.options=e,this.createColorRenderTarget(),this.createDepthRenderTarget()}createColorRenderTarget(t=!1){const{width:e,height:r,color:u}=this.options;u&&(E4(u)?(t&&u.resize({width:e,height:r}),this.colorTexture=u.get(),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=u.width,this.height=u.height):e&&r&&(this.colorTexture=this.device.createTexture({format:oa.U8_RGBA_RT,usage:Q0.RENDER_TARGET,width:e,height:r}),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=e,this.height=r))}createDepthRenderTarget(t=!1){const{width:e,height:r,depth:u}=this.options;u&&(E4(u)?(t&&u.resize({width:e,height:r}),this.depthTexture=u.get(),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=u.width,this.height=u.height):e&&r&&(this.depthTexture=this.device.createTexture({format:oa.D24_S8,usage:Q0.RENDER_TARGET,width:e,height:r}),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=e,this.height=r))}get(){return this.colorRenderTarget}destroy(){var t,e;(t=this.colorRenderTarget)==null||t.destroy(),(e=this.depthRenderTarget)==null||e.destroy()}resize({width:t,height:e}){(this.width!==t||this.height!==e)&&(this.destroy(),this.colorTexture.destroyed=!0,this.depthTexture.destroyed=!0,this.options.width=t,this.options.height=e,this.createColorRenderTarget(!0),this.createDepthRenderTarget(!0))}},oN=Object.defineProperty,sN=Object.defineProperties,qx=Object.getOwnPropertyDescriptors,Tg=Object.getOwnPropertySymbols,uN=Object.prototype.hasOwnProperty,lN=Object.prototype.propertyIsEnumerable,S4=(t,e,r)=>e in t?oN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C_=(t,e)=>{for(var r in e||(e={}))uN.call(e,r)&&S4(t,r,e[r]);if(Tg)for(var r of Tg(e))lN.call(e,r)&&S4(t,r,e[r]);return t},cN=(t,e)=>sN(t,qx(e)),{isPlainObject:fN,isTypedArray:dN,isNil:A4}=yo,hN=class{constructor(t,e,r){this.device=t,this.options=e,this.service=r,this.destroyed=!1,this.uniforms={},this.vertexBuffers=[];const{vs:u,fs:d,attributes:h,uniforms:y,count:M,elements:U,diagnosticDerivativeUniformityEnabled:re}=e;this.options=e;const Ee=re?"":this.service.viewportOrigin===ym.UPPER_LEFT?"diagnostic(off,derivative_uniformity);":"";this.program=r.renderCache.createProgram({vertex:{glsl:u},fragment:{glsl:d,postprocess:Tn=>Ee+Tn}}),y&&(this.uniforms=this.extractUniforms(y));const Ae=[];let We=0;Object.keys(h).forEach(Tn=>{const Fn=h[Tn],br=Fn.get();this.vertexBuffers.push(br.get());const{offset:ei=0,stride:Jr=0,size:zi=1,divisor:ca=0,shaderLocation:Da=0}=Fn.attribute;Ae.push({arrayStride:Jr||zi*4,stepMode:pv.VERTEX,attributes:[{format:$8[zi],shaderLocation:Da,offset:ei,divisor:ca}]}),We=br.size/zi}),M||(this.options.count=We),U&&(this.indexBuffer=U.get());const Ht=r.renderCache.createInputLayout({vertexBufferDescriptors:Ae,indexBufferFormat:U?oa.U32_R:null,program:this.program});this.inputLayout=Ht,this.pipeline=this.createPipeline(e)}createPipeline(t,e){var r;const{primitive:u=kt.TRIANGLES,depth:d,cull:h,blend:y,stencil:M}=t,U=this.initDepthDrawParams({depth:d}),re=!!(U&&U.enable),Ee=this.initCullDrawParams({cull:h}),Ae=!!(Ee&&Ee.enable),We=this.getBlendDrawParams({blend:y}),Ht=!!(We&&We.enable),Tn=this.getStencilDrawParams({stencil:M}),Fn=!!(Tn&&Tn.enable),br=this.device.createRenderPipeline({inputLayout:this.inputLayout,program:this.program,topology:Y8[u],colorAttachmentFormats:[oa.U8_RGBA_RT],depthStencilAttachmentFormat:oa.D24_S8,megaStateDescriptor:{attachmentsState:[e?{channelWriteMask:t0.ALL,rgbBlendState:{blendMode:w0.ADD,blendSrcFactor:Xl.ONE,blendDstFactor:Xl.ZERO},alphaBlendState:{blendMode:w0.ADD,blendSrcFactor:Xl.ONE,blendDstFactor:Xl.ZERO}}:{channelWriteMask:Fn&&Tn.opFront.zpass===Jd.REPLACE?t0.NONE:t0.ALL,rgbBlendState:{blendMode:Ht&&We.equation.rgb||w0.ADD,blendSrcFactor:Ht&&We.func.srcRGB||Xl.SRC_ALPHA,blendDstFactor:Ht&&We.func.dstRGB||Xl.ONE_MINUS_SRC_ALPHA},alphaBlendState:{blendMode:Ht&&We.equation.alpha||w0.ADD,blendSrcFactor:Ht&&We.func.srcAlpha||Xl.ONE,blendDstFactor:Ht&&We.func.dstAlpha||Xl.ONE}}],blendConstant:Ht?ZT:void 0,depthWrite:re,depthCompare:re&&U.func||Il.LESS,cullMode:Ae&&Ee.face||ng.NONE,stencilWrite:Fn,stencilFront:{compare:Fn?Tn.func.cmp:Il.ALWAYS,passOp:Tn.opFront.zpass,failOp:Tn.opFront.fail,depthFailOp:Tn.opFront.zfail,mask:Tn.opFront.mask},stencilBack:{compare:Fn?Tn.func.cmp:Il.ALWAYS,passOp:Tn.opBack.zpass,failOp:Tn.opBack.fail,depthFailOp:Tn.opBack.zfail,mask:Tn.opBack.mask}}});return Fn&&!A4((r=M==null?void 0:M.func)==null?void 0:r.ref)&&(br.stencilFuncReference=M.func.ref),br}updateAttributesAndElements(){}updateAttributes(){}addUniforms(t){this.uniforms=C_(C_({},this.uniforms),this.extractUniforms(t))}draw(t,e){const r=C_(C_({},this.options),t),{count:u=0,instances:d,elements:h,uniforms:y={},uniformBuffers:M,textures:U}=r;this.uniforms=C_(C_({},this.uniforms),this.extractUniforms(y));const{renderPass:re,currentFramebuffer:Ee,width:Ae,height:We}=this.service;this.pipeline=this.createPipeline(r,e);const Ht=this.service.device,Tn=Ht.swapChainHeight;if(Ht.swapChainHeight=(Ee==null?void 0:Ee.height)||We,re.setViewport(0,0,(Ee==null?void 0:Ee.width)||Ae,(Ee==null?void 0:Ee.height)||We),Ht.swapChainHeight=Tn,re.setPipeline(this.pipeline),A4(this.pipeline.stencilFuncReference)||re.setStencilReference(this.pipeline.stencilFuncReference),re.setVertexInput(this.inputLayout,this.vertexBuffers.map(Fn=>({buffer:Fn})),h?{buffer:this.indexBuffer,offset:0}:null),M&&(this.bindings=Ht.createBindings({pipeline:this.pipeline,uniformBufferBindings:M.map((Fn,br)=>{const ei=Fn;return{binding:br,buffer:ei.get(),size:ei.size}}),samplerBindings:U==null?void 0:U.map(Fn=>({texture:Fn.texture,sampler:Fn.sampler}))})),this.bindings&&(re.setBindings(this.bindings),Object.keys(this.uniforms).forEach(Fn=>{const br=this.uniforms[Fn];br instanceof x4?this.uniforms[Fn]=br.get():br instanceof T4&&(this.uniforms[Fn]=br.get().texture)}),this.program.setUniformsLegacy(this.uniforms)),h){const Fn=h.count;Fn===0?re.draw(u,d):re.drawIndexed(Fn,d)}else re.draw(u,d)}destroy(){var t,e,r;(t=this.vertexBuffers)==null||t.forEach(u=>u.destroy()),(e=this.indexBuffer)==null||e.destroy(),(r=this.bindings)==null||r.destroy(),this.pipeline.destroy(),this.destroyed=!0}initDepthDrawParams({depth:t}){if(t)return{enable:t.enable===void 0?!0:!!t.enable,mask:t.mask===void 0?!0:!!t.mask,func:Gf[t.func||kt.LESS],range:t.range||[0,1]}}getBlendDrawParams({blend:t}){const{enable:e,func:r,equation:u,color:d=[0,0,0,0]}=t||{};return{enable:!!e,func:{srcRGB:uS[r&&r.srcRGB||kt.SRC_ALPHA],srcAlpha:uS[r&&r.srcAlpha||kt.SRC_ALPHA],dstRGB:uS[r&&r.dstRGB||kt.ONE_MINUS_SRC_ALPHA],dstAlpha:uS[r&&r.dstAlpha||kt.ONE_MINUS_SRC_ALPHA]},equation:{rgb:m4[u&&u.rgb||kt.FUNC_ADD],alpha:m4[u&&u.alpha||kt.FUNC_ADD]},color:d}}getStencilDrawParams({stencil:t}){const{enable:e,mask:r=4294967295,func:u={cmp:kt.ALWAYS,ref:0,mask:4294967295},opFront:d={fail:kt.KEEP,zfail:kt.KEEP,zpass:kt.KEEP},opBack:h={fail:kt.KEEP,zfail:kt.KEEP,zpass:kt.KEEP}}=t||{};return{enable:!!e,mask:r,func:cN(C_({},u),{cmp:K8[u.cmp]}),opFront:{fail:A_[d.fail],zfail:A_[d.zfail],zpass:A_[d.zpass],mask:u.mask},opBack:{fail:A_[h.fail],zfail:A_[h.zfail],zpass:A_[h.zpass],mask:u.mask}}}initCullDrawParams({cull:t}){if(t){const{enable:e,face:r=kt.BACK}=t;return{enable:!!e,face:X8[r]}}}extractUniforms(t){const e={};return Object.keys(t).forEach(r=>{this.extractUniformsRecursively(r,t[r],e,"")}),e}extractUniformsRecursively(t,e,r,u){if(e===null||typeof e=="number"||typeof e=="boolean"||Array.isArray(e)&&typeof e[0]=="number"||dN(e)||e===""||"resize"in e){r[`${u&&u+"."}${t}`]=e;return}fN(e)&&Object.keys(e).forEach(d=>{this.extractUniformsRecursively(d,e[d],r,`${u&&u+"."}${t}`)}),Array.isArray(e)&&e.forEach((d,h)=>{Object.keys(d).forEach(y=>{this.extractUniformsRecursively(y,d[y],r,`${u&&u+"."}${t}[${h}]`)})})}};function i1(t){return typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext?!0:!!(t&&t._version===2)}var rO=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),{isUndefined:lS}=yo,pN=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>this.device.queryVendorInfo().platformString,this.createModel=t=>new hN(this.device,t,this),this.createAttribute=t=>new G8(this.device,t),this.createBuffer=t=>new Ah(this.device,t),this.createElements=t=>new aN(this.device,t),this.createTexture2D=t=>new x4(this.device,t),this.createFramebuffer=t=>new T4(this.device,t),this.useFramebuffer=(t,e)=>{this.currentFramebuffer=t,this.beginFrame(),e(),this.endFrame(),this.currentFramebuffer=null},this.useFramebufferAsync=(t,e)=>rO(this,null,function*(){this.currentFramebuffer=t,this.preRenderPass=this.renderPass,this.beginFrame(),yield e(),this.endFrame(),this.currentFramebuffer=null,this.renderPass=this.preRenderPass}),this.clear=t=>{const{color:e,depth:r,stencil:u,framebuffer:d=null}=t;if(d)d.clearOptions={color:e,depth:r,stencil:u};else{const h=this.queryVerdorInfo();if(h==="WebGL1"){const y=this.getGLContext();lS(u)?lS(r)||(y.clearDepth(r),y.clear(y.DEPTH_BUFFER_BIT)):(y.clearStencil(u),y.clear(y.STENCIL_BUFFER_BIT))}else if(h==="WebGL2"){const y=this.getGLContext();lS(u)?lS(r)||y.clearBufferfv(y.DEPTH,0,[r]):y.clearBufferiv(y.STENCIL,0,[u])}}},this.viewport=({width:t,height:e})=>{this.swapChain.configureSwapChain(t,e),this.createMainColorDepthRT(t,e),this.width=t,this.height=e},this.readPixels=t=>{const{framebuffer:e,x:r,y:u,width:d,height:h}=t,y=this.device.createReadback(),M=e.colorTexture,U=y.readTextureSync(M,r,this.viewportOrigin===ym.LOWER_LEFT?u:this.height-u,d,h,new Uint8Array(d*h*4));if(this.viewportOrigin!==ym.LOWER_LEFT)for(let re=0;re<U.length;re+=4){const Ee=U[re];U[re]=U[re+2],U[re+2]=Ee}return y.destroy(),U},this.readPixelsAsync=t=>rO(this,null,function*(){const{framebuffer:e,x:r,y:u,width:d,height:h}=t,y=this.device.createReadback(),M=e.colorTexture,U=yield y.readTexture(M,r,this.viewportOrigin===ym.LOWER_LEFT?u:this.height-u,d,h,new Uint8Array(d*h*4));if(this.viewportOrigin!==ym.LOWER_LEFT)for(let re=0;re<U.length;re+=4){const Ee=U[re];U[re]=U[re+2],U[re+2]=Ee}return y.destroy(),U}),this.getViewportSize=()=>({width:this.width,height:this.height}),this.getContainer=()=>{var t;return(t=this.canvas)==null?void 0:t.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.device.gl,this.destroy=()=>{var t;this.canvas=null,(t=this.uniformBuffers)==null||t.forEach(e=>{e.destroy()}),this.device.destroy(),this.renderCache.destroy()}}init(t,e){return rO(this,null,function*(){const{enableWebGPU:r,shaderCompilerPath:u,antialias:d}=e;this.canvas=t;const y=yield(r?new z8({shaderCompilerPath:u}):new KR({targets:["webgl2","webgl1"],antialias:d,onContextLost(U){console.warn("context lost",U)},onContextCreationError(U){console.warn("context creation error",U)},onContextRestored(U){console.warn("context restored",U)}})).createSwapChain(t);y.configureSwapChain(t.width,t.height),this.device=y.getDevice(),this.swapChain=y,this.renderCache=new b4(this.device),this.currentFramebuffer=null,this.viewportOrigin=this.device.queryVendorInfo().viewportOrigin;const M=this.device.gl;this.extensionObject={OES_texture_float:!i1(M)&&this.device.OES_texture_float},this.createMainColorDepthRT(t.width,t.height)})}createMainColorDepthRT(t,e){this.mainColorRT&&this.mainColorRT.destroy(),this.mainDepthRT&&this.mainDepthRT.destroy(),this.mainColorRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:oa.U8_RGBA_RT,width:t,height:e,usage:Q0.RENDER_TARGET})),this.mainDepthRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:oa.D24_S8,width:t,height:e,usage:Q0.RENDER_TARGET}))}beginFrame(){this.device.beginFrame();const{currentFramebuffer:t,swapChain:e,mainColorRT:r,mainDepthRT:u}=this,d=t?t.colorRenderTarget:r,h=t?null:e.getOnscreenTexture(),y=t?t.depthRenderTarget:u,{color:M=[0,0,0,0],depth:U=1,stencil:re=0}=(t==null?void 0:t.clearOptions)||{},Ee=d?Ux(M[0]*255,M[1]*255,M[2]*255,M[3]):ZT,Ae=y?U:void 0,We=y?re:void 0,Ht=this.device.createRenderPass({colorAttachment:[d],colorResolveTo:[h],colorClearColor:[Ee],colorStore:[!0],depthStencilAttachment:y,depthClearValue:Ae,stencilClearValue:We});this.renderPass=Ht}endFrame(){this.device.submitPass(this.renderPass),this.device.endFrame()}getPointSizeRange(){const t=this.device.gl;return t.getParameter(t.ALIASED_POINT_SIZE_RANGE)}testExtension(t){return!!this.getGLContext().getExtension(t)}setState(){}setBaseState(){}setCustomLayerDefaults(){}setDirty(t){this.isDirty=t}getDirty(){return this.isDirty}},iO=["selectstart","selecting","selectend"],gN=class extends yi.EventEmitter{constructor(t,e={}){super(),this.isEnable=!1,this.onDragStart=r=>{this.box.style.display="block",this.startEvent=this.endEvent=r,this.syncBoxBound(),this.emit("selectstart",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragging=r=>{this.endEvent=r,this.syncBoxBound(),this.emit("selecting",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragEnd=r=>{this.endEvent=r,this.box.style.display="none",this.emit("selectend",this.getLngLatBox(),this.startEvent,this.endEvent)},this.scene=t,this.options=e}get container(){return this.scene.getMapService().getMarkerContainer()}enable(){if(this.isEnable)return;const{className:t}=this.options;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor="crosshair",!this.box){const e=as("div",void 0,this.container);e.classList.add("l7-select-box"),t&&e.classList.add(t),e.style.display="none",this.box=e}this.scene.on("dragstart",this.onDragStart),this.scene.on("dragging",this.onDragging),this.scene.on("dragend",this.onDragEnd),this.isEnable=!0}disable(){this.isEnable&&(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor="auto",this.scene.off("dragstart",this.onDragStart),this.scene.off("dragging",this.onDragging),this.scene.off("dragend",this.onDragEnd),this.isEnable=!1)}syncBoxBound(){const{x:t,y:e}=this.startEvent,{x:r,y:u}=this.endEvent,d=Math.min(t,r),h=Math.min(e,u),y=Math.abs(t-r),M=Math.abs(e-u);this.box.style.top=`${h}px`,this.box.style.left=`${d}px`,this.box.style.width=`${y}px`,this.box.style.height=`${M}px`}getLngLatBox(){const{lngLat:{lng:t,lat:e}}=this.startEvent,{lngLat:{lng:r,lat:u}}=this.endEvent;return md([[t,e],[r,u]])}},mN=Object.defineProperty,vN=Object.defineProperties,yN=Object.getOwnPropertyDescriptors,C4=Object.getOwnPropertySymbols,_N=Object.prototype.hasOwnProperty,bN=Object.prototype.propertyIsEnumerable,O4=(t,e,r)=>e in t?mN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EN=(t,e)=>{for(var r in e||(e={}))_N.call(e,r)&&O4(t,r,e[r]);if(C4)for(var r of C4(e))bN.call(e,r)&&O4(t,r,e[r]);return t},xN=(t,e)=>vN(t,yN(e)),Jx=(t,e,r)=>new Promise((u,d)=>{var h=U=>{try{M(r.next(U))}catch(re){d(re)}},y=U=>{try{M(r.throw(U))}catch(re){d(re)}},M=U=>U.done?u(U.value):Promise.resolve(U.value).then(h,y);M((r=r.apply(t,e)).next())}),TN=class{constructor(t){const{id:e,map:r,renderer:u="device"}=t,d=Uh();this.container=d,r.setContainer(d,e),u==="regl"?d.rendererService=new V8:d.rendererService=new pN,this.sceneService=d.sceneService,this.mapService=d.mapService,this.iconService=d.iconService,this.fontService=d.fontService,this.controlService=d.controlService,this.layerService=d.layerService,this.debugService=d.debugService,this.debugService.setEnable(t.debug),this.markerService=d.markerService,this.interactionService=d.interactionService,this.popupService=d.popupService,this.boxSelect=new gN(this,{}),this.initComponent(e),this.sceneService.init(t),this.initControl()}get map(){return this.mapService.map}get loaded(){return this.sceneService.loaded}getServiceContainer(){return this.container}getSize(){return this.mapService.getSize()}getMinZoom(){return this.mapService.getMinZoom()}getMaxZoom(){return this.mapService.getMaxZoom()}getType(){return this.mapService.getType()}getMapContainer(){return this.mapService.getMapContainer()}getMapCanvasContainer(){return this.mapService.getMapCanvasContainer()}getMapService(){return this.mapService}getDebugService(){return this.debugService}exportPng(t){return Jx(this,null,function*(){return this.sceneService.exportPng(t)})}exportMap(t){return Jx(this,null,function*(){return this.sceneService.exportPng(t)})}registerRenderService(t){this.sceneService.loaded?new t(this).init():this.on("loaded",()=>{new t(this).init()})}setBgColor(t){this.mapService.setBgColor(t)}addLayer(t){this.loaded?this.preAddLayer(t):this.once("loaded",()=>{this.preAddLayer(t)})}preAddLayer(t){const e=em(this.container);if(t.setContainer(e),this.sceneService.addLayer(t),t.inited){this.initTileLayer(t);const r=this.initMask(t);this.addMask(r,t.id)}else t.on("inited",()=>{this.initTileLayer(t);const r=this.initMask(t);this.addMask(r,t.id)})}initMask(t){const{mask:e,maskfence:r,maskColor:u="#000",maskOpacity:d=0}=t.getLayerConfig();return!e||!r?void 0:new zA().source(r).shape("fill").style({color:u,opacity:d})}addMask(t,e){if(!t)return;const r=this.getLayer(e);if(r){const u=em(this.container);t.setContainer(u),r.addMaskLayer(t),this.sceneService.addMask(t)}else console.warn("parent layer not find!")}getPickedLayer(){return this.layerService.pickedLayerId}getLayers(){return this.layerService.getLayers()}getLayer(t){return this.layerService.getLayer(t)}getLayerByName(t){return this.layerService.getLayerByName(t)}removeLayer(t,e){return Jx(this,null,function*(){yield this.layerService.remove(t,e)})}removeAllLayer(){return Jx(this,null,function*(){yield this.layerService.removeAllLayers()})}render(){this.sceneService.render()}setEnableRender(t){this.layerService.setEnableRender(t)}addIconFont(t,e){this.fontService.addIconFont(t,e)}addIconFonts(t){t.forEach(([e,r])=>{this.fontService.addIconFont(e,r)})}addFontFace(t,e){this.fontService.once("fontloaded",r=>{this.emit("fontloaded",r)}),this.fontService.addFontFace(t,e)}addImage(t,e){return Jx(this,null,function*(){yield this.iconService.addImage(t,e)})}hasImage(t){return this.iconService.hasImage(t)}removeImage(t){this.iconService.removeImage(t)}addIconFontGlyphs(t,e){this.fontService.addIconGlyphs(e)}addControl(t){this.controlService.addControl(t,this.container)}removeControl(t){this.controlService.removeControl(t)}getControlByName(t){return this.controlService.getControlByName(t)}addMarker(t){this.markerService.addMarker(t)}addMarkerLayer(t){this.markerService.addMarkerLayer(t)}removeMarkerLayer(t){this.markerService.removeMarkerLayer(t)}removeAllMarkers(){this.markerService.removeAllMarkers()}removeAllMakers(){console.warn("removeAllMakers \u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 removeAllMarkers"),this.markerService.removeAllMarkers()}addPopup(t){this.popupService.addPopup(t)}removePopup(t){this.popupService.removePopup(t)}on(t,e){var r;iO.includes(t)?(r=this.boxSelect)==null||r.on(t,e):Lm.includes(t)?this.sceneService.on(t,e):this.mapService.on(t,e)}once(t,e){var r;iO.includes(t)?(r=this.boxSelect)==null||r.once(t,e):Lm.includes(t)?this.sceneService.once(t,e):this.mapService.once(t,e)}emit(t,e){Lm.indexOf(t)===-1?this.mapService.on(t,e):this.sceneService.emit(t,e)}off(t,e){var r;iO.includes(t)?(r=this.boxSelect)==null||r.off(t,e):Lm.includes(t)?this.sceneService.off(t,e):this.mapService.off(t,e)}getZoom(){return this.mapService.getZoom()}getCenter(t){return this.mapService.getCenter(t)}setCenter(t,e){return this.mapService.setCenter(t,e)}getPitch(){return this.mapService.getPitch()}setPitch(t){return this.mapService.setPitch(t)}getRotation(){return this.mapService.getRotation()}getBounds(){return this.mapService.getBounds()}setRotation(t){this.mapService.setRotation(t)}zoomIn(){this.mapService.zoomIn()}zoomOut(){this.mapService.zoomOut()}panTo(t){this.mapService.panTo(t)}panBy(t,e){this.mapService.panBy(t,e)}getContainer(){return this.mapService.getContainer()}setZoom(t){this.mapService.setZoom(t)}fitBounds(t,e){const{fitBoundsOptions:r,animate:u}=this.sceneService.getSceneConfig();this.mapService.fitBounds(t,e||xN(EN({},r),{animate:u}))}setZoomAndCenter(t,e){this.mapService.setZoomAndCenter(t,e)}setMapStyle(t){this.mapService.setMapStyle(t)}setMapStatus(t){this.mapService.setMapStatus(t)}pixelToLngLat(t){return this.mapService.pixelToLngLat(t)}lngLatToPixel(t){return this.mapService.lngLatToPixel(t)}containerToLngLat(t){return this.mapService.containerToLngLat(t)}lngLatToContainer(t){return this.mapService.lngLatToContainer(t)}destroy(){this.sceneService.destroy()}registerPostProcessingPass(t){this.container.postProcessingPass.name=new t}enableShaderPick(){this.layerService.enableShaderPick()}diasbleShaderPick(){this.layerService.disableShaderPick()}enableBoxSelect(t=!0){this.boxSelect.enable(),t&&this.boxSelect.once("selectend",()=>{this.disableBoxSelect()})}disableBoxSelect(){this.boxSelect.disable()}static addProtocol(t,e){za.REGISTERED_PROTOCOLS[t]=e}static removeProtocol(t){delete za.REGISTERED_PROTOCOLS[t]}getProtocol(t){return za.REGISTERED_PROTOCOLS[t]}startAnimate(){this.layerService.startAnimate()}stopAnimate(){this.layerService.stopAnimate()}getPointSizeRange(){return this.sceneService.getPointSizeRange()}initComponent(t){this.controlService.init({container:hs(t)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}initControl(){const{logoVisible:t,logoPosition:e}=this.sceneService.getSceneConfig();t&&this.addControl(new PE({position:e}))}initTileLayer(t){t.getSource().isTile&&(t.tileLayer=new G5(t))}},SN="2.22.3"},70162:function(cn,Ne,A){"use strict";A.d(Ne,{$:function(){return gn},G:function(){return $t}});var w=A(88666),B=A(75271),ne=A(15154),ue=A.n(ne),j=function(at,an){return at===void 0&&(at=[]),an===void 0&&(an=[]),ue()(at,an)},q=function(at){return function(an,hn){var pr=(0,B.useRef)(),ur=(0,B.useRef)(0);(hn===void 0||!j(hn,pr.current))&&(ur.current+=1),pr.current=hn,at(an,[ur.current])}},Y=q(B.useEffect),K=A(82187),H=A.n(K);function ae(at){return at===void 0}var ie=ae;function le(at){return at===null}var se=le,ge=A(33918),ye=A(13795),ve="[object Number]";function fe(at){return typeof at=="number"||(0,ye.Z)(at)&&(0,ge.Z)(at)==ve}var Fe=fe,yt=A(80216);function gt(at){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(an){return typeof an}:function(an){return an&&typeof Symbol=="function"&&an.constructor===Symbol&&an!==Symbol.prototype?"symbol":typeof an},gt(at)}function pt(at,an){var hn=typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(!hn){if(Array.isArray(at)||(hn=lt(at))||an&&at&&typeof at.length=="number"){hn&&(at=hn);var pr=0,ur=function(){};return{s:ur,n:function(){return pr>=at.length?{done:!0}:{done:!1,value:at[pr++]}},e:function(xa){throw xa},f:ur}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pi=!0,ar=!1,di;return{s:function(){hn=hn.call(at)},n:function(){var xa=hn.next();return pi=xa.done,xa},e:function(xa){ar=!0,di=xa},f:function(){try{!pi&&hn.return!=null&&hn.return()}finally{if(ar)throw di}}}}function lt(at,an){if(at){if(typeof at=="string")return Ke(at,an);var hn=Object.prototype.toString.call(at).slice(8,-1);if(hn==="Object"&&at.constructor&&(hn=at.constructor.name),hn==="Map"||hn==="Set")return Array.from(at);if(hn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(hn))return Ke(at,an)}}function Ke(at,an){(an==null||an>at.length)&&(an=at.length);for(var hn=0,pr=new Array(an);hn<an;hn++)pr[hn]=at[hn];return pr}function Ue(at,an){if(!(at instanceof an))throw new TypeError("Cannot call a class as a function")}function Pt(at,an){for(var hn=0;hn<an.length;hn++){var pr=an[hn];pr.enumerable=pr.enumerable||!1,pr.configurable=!0,"value"in pr&&(pr.writable=!0),Object.defineProperty(at,Qe(pr.key),pr)}}function Gt(at,an,hn){return an&&Pt(at.prototype,an),hn&&Pt(at,hn),Object.defineProperty(at,"prototype",{writable:!1}),at}function rn(at,an){if(typeof an!="function"&&an!==null)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(an&&an.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),an&&_n(at,an)}function _n(at,an){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pr,ur){return pr.__proto__=ur,pr},_n(at,an)}function qe(at){var an=ln();return function(){var pr=tt(at),ur;if(an){var pi=tt(this).constructor;ur=Reflect.construct(pr,arguments,pi)}else ur=pr.apply(this,arguments);return Nt(this,ur)}}function Nt(at,an){if(an&&(gt(an)==="object"||typeof an=="function"))return an;if(an!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ft(at)}function ft(at){if(at===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at}function ln(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(at){return!1}}function tt(at){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(hn){return hn.__proto__||Object.getPrototypeOf(hn)},tt(at)}function Pe(at,an,hn){return an=Qe(an),an in at?Object.defineProperty(at,an,{value:hn,enumerable:!0,configurable:!0,writable:!0}):at[an]=hn,at}function Qe(at){var an=He(at,"string");return gt(an)=="symbol"?an:String(an)}function He(at,an){if(gt(at)!="object"||!at)return at;var hn=at[Symbol.toPrimitive];if(hn!==void 0){var pr=hn.call(at,an||"default");if(gt(pr)!="object")return pr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(an==="string"?String:Number)(at)}var _t=0,Bt=function(at){rn(hn,at);var an=qe(hn);function hn(pr){var ur;return Ue(this,hn),ur=an.call(this),Pe(ft(ur),"scene",void 0),Pe(ft(ur),"options",void 0),Pe(ft(ur),"layerMap",new Map),ur.scene=pr.scene,ur.options=pr,ur}return Gt(hn,[{key:"hasLayer",value:function(ur){return this.layerMap.has(ur)}},{key:"addLayer",value:function(ur){var pi=this.getLayerId(ur);this.layerMap.set(pi,ur),ur.addTo(this.scene),this.emit("add",ur)}},{key:"addLayers",value:function(ur){var pi=this;ur.forEach(function(ar){pi.addLayer(ar)})}},{key:"removeLayer",value:function(ur){var pi=typeof ur=="string"?ur:this.getLayerId(ur),ar=this.layerMap.get(pi);return ar?(this.layerMap.delete(pi),ar.remove(),this.emit("remove",pi),!0):!1}},{key:"getLayers",value:function(){return Array.from(this.layerMap.values())}},{key:"getLayerById",value:function(ur){return this.layerMap.get(ur)}},{key:"getLayer",value:function(ur){return this.getLayerById(ur)}},{key:"removeAllLayer",value:function(){var ur=pt(this.layerMap.values()),pi;try{for(ur.s();!(pi=ur.n()).done;){var ar=pi.value;ar.remove()}}catch(di){ur.e(di)}finally{ur.f()}this.layerMap.clear()}},{key:"isEmpty",value:function(){return this.layerMap.size===0}},{key:"getLayerId",value:function(ur){return"id"in ur?ur.id:"".concat(_t++)}},{key:"destroy",value:function(){this.removeAllLayer()}}]),hn}(yt.Z);function At(at){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(an){return typeof an}:function(an){return an&&typeof Symbol=="function"&&an.constructor===Symbol&&an!==Symbol.prototype?"symbol":typeof an},At(at)}function Je(){"use strict";Je=function(){return an};var at,an={},hn=Object.prototype,pr=hn.hasOwnProperty,ur=Object.defineProperty||function(je,st,St){je[st]=St.value},pi=typeof Symbol=="function"?Symbol:{},ar=pi.iterator||"@@iterator",di=pi.asyncIterator||"@@asyncIterator",sa=pi.toStringTag||"@@toStringTag";function xa(je,st,St){return Object.defineProperty(je,st,{value:St,enumerable:!0,configurable:!0,writable:!0}),je[st]}try{xa({},"")}catch(je){xa=function(St,En,fn){return St[En]=fn}}function za(je,st,St,En){var fn=st&&st.prototype instanceof xi?st:xi,sn=Object.create(fn.prototype),Pn=new or(En||[]);return ur(sn,"_invoke",{value:Zt(je,St,Pn)}),sn}function Ui(je,st,St){try{return{type:"normal",arg:je.call(st,St)}}catch(En){return{type:"throw",arg:En}}}an.wrap=za;var Ao="suspendedStart",fs="suspendedYield",cs="executing",ra="completed",ms={};function xi(){}function Gn(){}function _e(){}var oi={};xa(oi,ar,function(){return this});var Ka=Object.getPrototypeOf,Cn=Ka&&Ka(Ka(Ze([])));Cn&&Cn!==hn&&pr.call(Cn,ar)&&(oi=Cn);var Un=_e.prototype=xi.prototype=Object.create(oi);function tn(je){["next","throw","return"].forEach(function(st){xa(je,st,function(St){return this._invoke(st,St)})})}function It(je,st){function St(fn,sn,Pn,Hn){var Ut=Ui(je[fn],je,sn);if(Ut.type!=="throw"){var Yt=Ut.arg,Xt=Yt.value;return Xt&&At(Xt)=="object"&&pr.call(Xt,"__await")?st.resolve(Xt.__await).then(function(jt){St("next",jt,Pn,Hn)},function(jt){St("throw",jt,Pn,Hn)}):st.resolve(Xt).then(function(jt){Yt.value=jt,Pn(Yt)},function(jt){return St("throw",jt,Pn,Hn)})}Hn(Ut.arg)}var En;ur(this,"_invoke",{value:function(sn,Pn){function Hn(){return new st(function(Ut,Yt){St(sn,Pn,Ut,Yt)})}return En=En?En.then(Hn,Hn):Hn()}})}function Zt(je,st,St){var En=Ao;return function(fn,sn){if(En===cs)throw new Error("Generator is already running");if(En===ra){if(fn==="throw")throw sn;return{value:at,done:!0}}for(St.method=fn,St.arg=sn;;){var Pn=St.delegate;if(Pn){var Hn=$e(Pn,St);if(Hn){if(Hn===ms)continue;return Hn}}if(St.method==="next")St.sent=St._sent=St.arg;else if(St.method==="throw"){if(En===Ao)throw En=ra,St.arg;St.dispatchException(St.arg)}else St.method==="return"&&St.abrupt("return",St.arg);En=cs;var Ut=Ui(je,st,St);if(Ut.type==="normal"){if(En=St.done?ra:fs,Ut.arg===ms)continue;return{value:Ut.arg,done:St.done}}Ut.type==="throw"&&(En=ra,St.method="throw",St.arg=Ut.arg)}}}function $e(je,st){var St=st.method,En=je.iterator[St];if(En===at)return st.delegate=null,St==="throw"&&je.iterator.return&&(st.method="return",st.arg=at,$e(je,st),st.method==="throw")||St!=="return"&&(st.method="throw",st.arg=new TypeError("The iterator does not provide a '"+St+"' method")),ms;var fn=Ui(En,je.iterator,st.arg);if(fn.type==="throw")return st.method="throw",st.arg=fn.arg,st.delegate=null,ms;var sn=fn.arg;return sn?sn.done?(st[je.resultName]=sn.value,st.next=je.nextLoc,st.method!=="return"&&(st.method="next",st.arg=at),st.delegate=null,ms):sn:(st.method="throw",st.arg=new TypeError("iterator result is not an object"),st.delegate=null,ms)}function Bn(je){var st={tryLoc:je[0]};1 in je&&(st.catchLoc=je[1]),2 in je&&(st.finallyLoc=je[2],st.afterLoc=je[3]),this.tryEntries.push(st)}function Yn(je){var st=je.completion||{};st.type="normal",delete st.arg,je.completion=st}function or(je){this.tryEntries=[{tryLoc:"root"}],je.forEach(Bn,this),this.reset(!0)}function Ze(je){if(je||je===""){var st=je[ar];if(st)return st.call(je);if(typeof je.next=="function")return je;if(!isNaN(je.length)){var St=-1,En=function fn(){for(;++St<je.length;)if(pr.call(je,St))return fn.value=je[St],fn.done=!1,fn;return fn.value=at,fn.done=!0,fn};return En.next=En}}throw new TypeError(At(je)+" is not iterable")}return Gn.prototype=_e,ur(Un,"constructor",{value:_e,configurable:!0}),ur(_e,"constructor",{value:Gn,configurable:!0}),Gn.displayName=xa(_e,sa,"GeneratorFunction"),an.isGeneratorFunction=function(je){var st=typeof je=="function"&&je.constructor;return!!st&&(st===Gn||(st.displayName||st.name)==="GeneratorFunction")},an.mark=function(je){return Object.setPrototypeOf?Object.setPrototypeOf(je,_e):(je.__proto__=_e,xa(je,sa,"GeneratorFunction")),je.prototype=Object.create(Un),je},an.awrap=function(je){return{__await:je}},tn(It.prototype),xa(It.prototype,di,function(){return this}),an.AsyncIterator=It,an.async=function(je,st,St,En,fn){fn===void 0&&(fn=Promise);var sn=new It(za(je,st,St,En),fn);return an.isGeneratorFunction(st)?sn:sn.next().then(function(Pn){return Pn.done?Pn.value:sn.next()})},tn(Un),xa(Un,sa,"Generator"),xa(Un,ar,function(){return this}),xa(Un,"toString",function(){return"[object Generator]"}),an.keys=function(je){var st=Object(je),St=[];for(var En in st)St.push(En);return St.reverse(),function fn(){for(;St.length;){var sn=St.pop();if(sn in st)return fn.value=sn,fn.done=!1,fn}return fn.done=!0,fn}},an.values=Ze,or.prototype={constructor:or,reset:function(st){if(this.prev=0,this.next=0,this.sent=this._sent=at,this.done=!1,this.delegate=null,this.method="next",this.arg=at,this.tryEntries.forEach(Yn),!st)for(var St in this)St.charAt(0)==="t"&&pr.call(this,St)&&!isNaN(+St.slice(1))&&(this[St]=at)},stop:function(){this.done=!0;var st=this.tryEntries[0].completion;if(st.type==="throw")throw st.arg;return this.rval},dispatchException:function(st){if(this.done)throw st;var St=this;function En(Yt,Xt){return Pn.type="throw",Pn.arg=st,St.next=Yt,Xt&&(St.method="next",St.arg=at),!!Xt}for(var fn=this.tryEntries.length-1;fn>=0;--fn){var sn=this.tryEntries[fn],Pn=sn.completion;if(sn.tryLoc==="root")return En("end");if(sn.tryLoc<=this.prev){var Hn=pr.call(sn,"catchLoc"),Ut=pr.call(sn,"finallyLoc");if(Hn&&Ut){if(this.prev<sn.catchLoc)return En(sn.catchLoc,!0);if(this.prev<sn.finallyLoc)return En(sn.finallyLoc)}else if(Hn){if(this.prev<sn.catchLoc)return En(sn.catchLoc,!0)}else{if(!Ut)throw new Error("try statement without catch or finally");if(this.prev<sn.finallyLoc)return En(sn.finallyLoc)}}}},abrupt:function(st,St){for(var En=this.tryEntries.length-1;En>=0;--En){var fn=this.tryEntries[En];if(fn.tryLoc<=this.prev&&pr.call(fn,"finallyLoc")&&this.prev<fn.finallyLoc){var sn=fn;break}}sn&&(st==="break"||st==="continue")&&sn.tryLoc<=St&&St<=sn.finallyLoc&&(sn=null);var Pn=sn?sn.completion:{};return Pn.type=st,Pn.arg=St,sn?(this.method="next",this.next=sn.finallyLoc,ms):this.complete(Pn)},complete:function(st,St){if(st.type==="throw")throw st.arg;return st.type==="break"||st.type==="continue"?this.next=st.arg:st.type==="return"?(this.rval=this.arg=st.arg,this.method="return",this.next="end"):st.type==="normal"&&St&&(this.next=St),ms},finish:function(st){for(var St=this.tryEntries.length-1;St>=0;--St){var En=this.tryEntries[St];if(En.finallyLoc===st)return this.complete(En.completion,En.afterLoc),Yn(En),ms}},catch:function(st){for(var St=this.tryEntries.length-1;St>=0;--St){var En=this.tryEntries[St];if(En.tryLoc===st){var fn=En.completion;if(fn.type==="throw"){var sn=fn.arg;Yn(En)}return sn}}throw new Error("illegal catch attempt")},delegateYield:function(st,St,En){return this.delegate={iterator:Ze(st),resultName:St,nextLoc:En},this.method==="next"&&(this.arg=at),ms}},an}function zt(at,an,hn,pr,ur,pi,ar){try{var di=at[pi](ar),sa=di.value}catch(xa){hn(xa);return}di.done?an(sa):Promise.resolve(sa).then(pr,ur)}function mn(at){return function(){var an=this,hn=arguments;return new Promise(function(pr,ur){var pi=at.apply(an,hn);function ar(sa){zt(pi,pr,ur,ar,di,"next",sa)}function di(sa){zt(pi,pr,ur,ar,di,"throw",sa)}ar(void 0)})}}var Ot=function(){var at=mn(Je().mark(function an(hn,pr){return Je().wrap(function(pi){for(;;)switch(pi.prev=pi.next){case 0:if(hn!=="Map"){pi.next=2;break}return pi.abrupt("return",new w.Map(pr));case 2:if(hn!=="Gaode"){pi.next=6;break}return pi.abrupt("return",new w.GaodeMap(pr));case 6:if(hn!=="GaodeV1"){pi.next=10;break}return pi.abrupt("return",new w.GaodeMapV1(pr));case 10:if(hn!=="GaodeV2"){pi.next=12;break}return pi.abrupt("return",new w.GaodeMapV2(pr));case 12:if(hn!=="Tencent"){pi.next=14;break}return pi.abrupt("return",new w.TencentMap(pr));case 14:if(hn!=="Baidu"){pi.next=16;break}return pi.abrupt("return",new w.BaiduMap(pr));case 16:return pi.abrupt("return",Promise.resolve(Promise.resolve().then(A.bind(A,88666))).then(function(ar){var di=ar.Mapbox;return new di(pr)}));case 17:case"end":return pi.stop()}},an)}));return function(hn,pr){return at.apply(this,arguments)}}(),Xe=function(at,an){return at?at.map(function(hn,pr){return Object.is(at[pr],an==null?void 0:an[pr])?-1:pr}).filter(function(hn){return hn>=0}):an?an.map(function(hn,pr){return pr}):[]},ct=function(at,an){var hn=(0,B.useRef)();(0,B.useEffect)(function(){var pr=Xe(hn.current,an),ur=hn.current;return hn.current=an,at(pr,ur,an)},an)},Rt=ct,Oe=A(92367),Ge={onLoaded:"loaded",onDestroy:"destroy",onResize:"resize",onMapMove:"mapmove",onMoveStart:"movestart",onMoveEnd:"moveend",onZoomChange:"zoomchange",onZoomStart:"zoomstart",onZoomEnd:"zoomend",onClick:"click",onDblclick:"dblclick",onContextMenu:"contextmenu",onMouseMove:"mousemove",onMouseWheel:"mousewheel",onMouseDown:"mousedown",onMouseOver:"mouseover",onMouseOut:"mouseout",onMouseUp:"mouseup",onDragStart:"dragstart",onDragging:"dragging",onDragEnd:"dragend"},Vt=Object.keys(Ge);function De(at){return Le(at)||J(at)||Ce(at)||et()}function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(at,an){if(at){if(typeof at=="string")return Jt(at,an);var hn=Object.prototype.toString.call(at).slice(8,-1);if(hn==="Object"&&at.constructor&&(hn=at.constructor.name),hn==="Map"||hn==="Set")return Array.from(at);if(hn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(hn))return Jt(at,an)}}function J(at){if(typeof Symbol!="undefined"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function Le(at){if(Array.isArray(at))return Jt(at)}function Jt(at,an){(an==null||an>at.length)&&(an=at.length);for(var hn=0,pr=new Array(an);hn<an;hn++)pr[hn]=at[hn];return pr}var Be=function(an,hn){Rt(function(pr,ur,pi){if(an){var ar=pr.filter(function(di){return!!di}).map(function(di){return di-1});pr.includes(0)&&(ar=Vt.map(function(di,sa){return sa})),ar.forEach(function(di){var sa=Ge[Vt[di]],xa=ur[di+1],za=pi[di+1];xa&&an.off(sa,xa),za&&an.on(sa,za)})}},[an].concat(De(Vt.map(function(pr){return hn[pr]})))),(0,Oe.Z)(function(){an&&Vt.forEach(function(pr){var ur=Ge[pr],pi=hn[pr];ur&&pi&&an.off(ur,pi)})})};function In(at){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(an){return typeof an}:function(an){return an&&typeof Symbol=="function"&&an.constructor===Symbol&&an!==Symbol.prototype?"symbol":typeof an},In(at)}var cr=["id","style","className","map","mapType","mapOptions","onLayerManagerCreated","onSceneLoaded","children"];function bn(at,an){var hn=Object.keys(at);if(Object.getOwnPropertySymbols){var pr=Object.getOwnPropertySymbols(at);an&&(pr=pr.filter(function(ur){return Object.getOwnPropertyDescriptor(at,ur).enumerable})),hn.push.apply(hn,pr)}return hn}function ir(at){for(var an=1;an<arguments.length;an++){var hn=arguments[an]!=null?arguments[an]:{};an%2?bn(Object(hn),!0).forEach(function(pr){Nr(at,pr,hn[pr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(hn)):bn(Object(hn)).forEach(function(pr){Object.defineProperty(at,pr,Object.getOwnPropertyDescriptor(hn,pr))})}return at}function Nr(at,an,hn){return an=Ar(an),an in at?Object.defineProperty(at,an,{value:hn,enumerable:!0,configurable:!0,writable:!0}):at[an]=hn,at}function Ar(at){var an=Zr(at,"string");return In(an)=="symbol"?an:String(an)}function Zr(at,an){if(In(at)!="object"||!at)return at;var hn=at[Symbol.toPrimitive];if(hn!==void 0){var pr=hn.call(at,an||"default");if(In(pr)!="object")return pr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(an==="string"?String:Number)(at)}function wi(at,an){return nt(at)||wn(at,an)||Nn(at,an)||Ln()}function Ln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(at,an){if(at){if(typeof at=="string")return $n(at,an);var hn=Object.prototype.toString.call(at).slice(8,-1);if(hn==="Object"&&at.constructor&&(hn=at.constructor.name),hn==="Map"||hn==="Set")return Array.from(at);if(hn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(hn))return $n(at,an)}}function $n(at,an){(an==null||an>at.length)&&(an=at.length);for(var hn=0,pr=new Array(an);hn<an;hn++)pr[hn]=at[hn];return pr}function wn(at,an){var hn=at==null?null:typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(hn!=null){var pr,ur,pi,ar,di=[],sa=!0,xa=!1;try{if(pi=(hn=hn.call(at)).next,an===0){if(Object(hn)!==hn)return;sa=!1}else for(;!(sa=(pr=pi.call(hn)).done)&&(di.push(pr.value),di.length!==an);sa=!0);}catch(za){xa=!0,ur=za}finally{try{if(!sa&&hn.return!=null&&(ar=hn.return(),Object(ar)!==ar))return}finally{if(xa)throw ur}}return di}}function nt(at){if(Array.isArray(at))return at}function ze(at,an){if(at==null)return{};var hn=vt(at,an),pr,ur;if(Object.getOwnPropertySymbols){var pi=Object.getOwnPropertySymbols(at);for(ur=0;ur<pi.length;ur++)pr=pi[ur],!(an.indexOf(pr)>=0)&&Object.prototype.propertyIsEnumerable.call(at,pr)&&(hn[pr]=at[pr])}return hn}function vt(at,an){if(at==null)return{};var hn={},pr=Object.keys(at),ur,pi;for(pi=0;pi<pr.length;pi++)ur=pr[pi],!(an.indexOf(ur)>=0)&&(hn[ur]=at[ur]);return hn}var $t=B.createContext(null),gn=(0,B.memo)((0,B.forwardRef)(function(an,hn){var pr=an.id,ur=an.style,pi=an.className,ar=an.map,di=an.mapType,sa=di===void 0?"Gaode":di,xa=an.mapOptions,za=xa===void 0?{}:xa,Ui=an.onLayerManagerCreated,Ao=an.onSceneLoaded,fs=an.children,cs=ze(an,cr),ra=(0,B.useRef)(),ms=(0,B.useState)(null),xi=wi(ms,2),Gn=xi[0],_e=xi[1],oi=(0,B.useRef)({scene:null,layerManager:null}),Ka=oi.current;(0,B.useEffect)(function(){var Un,tn=!0,It=ie(ar)?Ot(sa,za):typeof ar=="function"?ar():ar;return Promise.resolve(It).then(function(Zt){if(tn){Un=new w.Scene(ir(ir({},cs),{},{id:ra.current,map:Zt}));var $e=new Bt({scene:Un});Ka.scene=Un,Ka.layerManager=$e,Un.once("loaded",function(){Ao&&Ao(Un),Ui&&Ui($e),_e(Un)})}}).catch(function(Zt){console.error(Zt)}),function(){tn=!1,Un&&(Ka.scene=null,Ka.layerManager=null,Un.destroy())}},[]),Be(Gn,an),(0,B.useImperativeHandle)(hn,function(){return{getScene:function(){return Gn},getMap:function(){return Gn.map}}},[Gn]),(0,B.useEffect)(function(){Gn&&za.style&&Gn.setMapStyle(za.style)},[za.style]),Y(function(){se(Gn)||(za.center&&Fe(za.zoom)?Gn.setZoomAndCenter(za.zoom,za.center):Fe(za.zoom)?Gn.setZoom(za.zoom):za.center&&Gn.setCenter(za.center))},[za.zoom,za.center]),(0,B.useEffect)(function(){Gn&&Fe(za.pitch)&&Gn.setPitch(za.pitch)},[za.pitch]),(0,B.useEffect)(function(){Gn&&Fe(za.rotation)&&Gn.setRotation(za.rotation)},[za.rotation]);var Cn=(0,B.useMemo)(function(){return ir({position:"relative"},ur)},[ur]);return B.createElement("div",{id:pr,ref:ra,style:Cn,className:H()("larkmap",pi)},Gn&&B.createElement($t.Provider,{value:Ka},fs))}))},21175:function(cn,Ne,A){"use strict";A.d(Ne,{z:function(){return wp}});var w=A(88666),B=A(99938),ne=A(80216),ue=A(69499);function j(un,Mn){return(...kr)=>{const Yi={};return un.forEach((Zo,os)=>{Yi[Zo]=kr[os]}),delete Yi.undefined,Mn(Yi)}}class q{static shape(Mn,kr){if((0,ue.HD)(kr))Mn.shape(kr);else if((0,ue.mf)(kr)){const Yi=[];Mn.shape(Yi.join("*"),j(Yi,kr))}else if((0,ue.Kn)(kr)){const Yi=kr.field?kr.field:"";if((0,ue.mf)(kr.value)){const Zo=(0,ue.kJ)(Yi)?Yi:Yi.split("*");Mn.shape(Yi,j(Zo,kr.value))}else Mn.shape(Yi,kr.value);(0,ue.HD)(Yi)&&kr.scale&&q.scale(Mn,Yi,kr.scale)}}static size(Mn,kr){if((0,ue.hj)(kr))Mn.size(kr);else if((0,ue.kJ)(kr))Mn.size(kr);else if((0,ue.mf)(kr)){const Yi=[];Mn.size(Yi.join("*"),j(Yi,kr))}else if((0,ue.Kn)(kr)){const Yi=kr.field?kr.field:"";if((0,ue.mf)(kr.value)){const Zo=(0,ue.kJ)(Yi)?Yi:Yi.split("*");Mn.size(Yi,j(Zo,kr.value))}else Mn.size(Yi,kr.value);(0,ue.HD)(Yi)&&kr.scale&&q.scale(Mn,Yi,kr.scale)}}static color(Mn,kr){if((0,ue.HD)(kr))Mn.color(kr);else if((0,ue.mf)(kr)){const Yi=[];Mn.color(Yi.join("*"),j(Yi,kr))}else if((0,ue.Kn)(kr)){const Yi=kr.field?kr.field:"";if((0,ue.mf)(kr.value)){const Zo=(0,ue.kJ)(Yi)?Yi:Yi.split("*");Mn.color(Yi,j(Zo,kr.value))}else Mn.color(Yi,kr.value);(0,ue.HD)(Yi)&&kr.scale&&q.scale(Mn,Yi,kr.scale)}}static scale(Mn,kr,Yi){Mn.scale(kr,Yi)}static rotate(Mn,kr){(0,ue.HD)(kr)||(0,ue.mf)(kr)||(0,ue.Kn)(kr)}static texture(Mn,kr){(0,ue.HD)(kr)&&Mn.texture(kr)}static animate(Mn,kr){((0,ue.jn)(kr)||(0,ue.Kn)(kr))&&Mn.animate(kr)}static filter(Mn,kr){const Yi=kr.field?kr.field:"",Zo=(0,ue.kJ)(Yi)?Yi:Yi.split("*");Mn.filter(Zo.join("*"),j(Zo,kr.value))}static style(Mn,kr){kr&&Mn.style(kr)}static state(Mn,kr){const{active:Yi,select:Zo}=kr;Yi&&Mn.active(Yi),Zo&&Mn.select(Zo)}}function Y(un,Mn,kr=0,Yi=5){for(const Zo in Mn)if(Object.prototype.hasOwnProperty.call(Mn,Zo)){const os=Mn[Zo];os!==null&&(0,ue.PO)(os)?((0,ue.PO)(un[Zo])||(un[Zo]={}),kr<Yi?Y(un[Zo],os,kr+1,Yi):un[Zo]=Mn[Zo]):Array.isArray(os)?(un[Zo]=[],un[Zo]=un[Zo].concat(os)):os!==void 0&&(un[Zo]=os)}}const K=(un,...Mn)=>{for(let kr=0;kr<Mn.length;kr+=1)Y(un,Mn[kr],0,1);return un},H=(un,Mn)=>{const{source:kr}=un,Yi=(0,B._T)(un,["source"]),{source:Zo}=Mn,os=(0,B._T)(Mn,["source"]),yu=K({},Yi,os);return Zo instanceof w.Source?yu.source=Zo:kr instanceof w.Source?yu.source=kr:yu.source=Object.assign(Object.assign({},kr),Zo),yu},ae=(un,Mn)=>{if(un instanceof w.Source&&Mn instanceof w.Source)return un!==Mn;const{data:kr}=un,Yi=(0,B._T)(un,["data"]),{data:Zo}=Mn,os=(0,B._T)(Mn,["data"]);return kr!==Zo||!(0,ue.Xy)(Yi,os)},le=["show","hide","dataUpdate","destroy","legend","legend:color","legend:size",...["click","dblclick","unclick","undblclick","contextmenu","uncontextmenu","mouseenter","unmouseenter","mousemove","unmousemove","mouseout","mouseup","unmouseup","mousedown","unpick"]];var se;(function(un){un.CREATED="created",un.INITED="inited",un.ADD="add",un.REMOVE="remove"})(se||(se={}));var ge;(function(un){un.CREATED="created",un.INITED="inited",un.ADD="add",un.REMOVE="remove"})(ge||(ge={}));var ye;(function(un){un.INITED_LAYER="inited-layer",un.INITED_LAYERS="inited-layers"})(ye||(ye={}));class ve extends ne.Z{get inited(){return this.layer.inited}get source(){return this.layer.getSource()}constructor(Mn){super(),this.isComposite=!1;const{id:kr,name:Yi,source:Zo,interaction:os=!1}=Mn;this.id=kr||(0,ue.EL)("core-layer"),this.name=Yi||this.id,this.interaction=os,this.options=H(this.getDefaultOptions(),Mn),this.lastOptions=this.options,this.layer=this.createLayer(),this.adaptorLayerAttr(!1),this.setSource(Zo),this.emit(se.CREATED,this)}getDefaultOptions(){return ve.DefaultOptions}getLayerConfig(){return(0,ue.CE)(this.options,["source","shape","color","size","scale","texture","style","animate","state"])}adaptorAttrOptions(Mn){return Mn}adaptorLayerAttr(Mn=!0){const kr=["shape","color","size","scale","texture","filter","style","animate","state"],Yi=this.adaptorAttrOptions(this.options),Zo=this.adaptorAttrOptions(this.lastOptions);for(let os=0;os<kr.length;os++){const yu=kr[os],Pu=Yi[yu],tl=Zo[yu];!(0,ue.o8)(Pu)&&(!Mn||!(0,ue.Xy)(Pu,tl))&&q[yu](this.layer,Pu)}}setSource(Mn){if(Mn instanceof w.Source)this.layer.setSource(Mn);else{const{data:kr}=Mn,Yi=(0,B._T)(Mn,["data"]);this.layer.getSource()?this.layer.setData(kr,Yi):this.layer.source(kr,Yi)}}getSource(){return this.source}addTo(Mn){this.scene=Mn,this.layer.once(se.INITED,()=>{this.emit(se.INITED,this)}),this.layer.once(se.ADD,()=>{this.emit(se.ADD,this)}),Mn.addLayer(this.layer)}remove(){this.scene&&(this.scene.removeLayer(this.layer),this.emit(se.REMOVE))}update(Mn,kr=!0){var Yi,Zo;this.updateOption(Mn),this.updateConfig(Mn),kr&&((Yi=this.scene)===null||Yi===void 0||Yi.setEnableRender(!1)),((0,ue.o8)(this.options.visible)||this.options.visible)&&this.adaptorLayerAttr(),Mn.source&&ae(Mn.source,this.lastOptions.source)&&this.changeData(Mn.source),kr&&((Zo=this.scene)===null||Zo===void 0||Zo.setEnableRender(!0),this.render())}updateOption(Mn){this.lastOptions=this.options,this.options=H(this.options,Mn)}updateConfig(Mn){!(0,ue.o8)(Mn.zIndex)&&!(0,ue.Xy)(this.lastOptions.zIndex,this.options.zIndex)&&this.setIndex(Mn.zIndex),!(0,ue.o8)(Mn.blend)&&!(0,ue.Xy)(this.lastOptions.blend,this.options.blend)&&this.setBlend(Mn.blend),!(0,ue.o8)(Mn.minZoom)&&!(0,ue.Xy)(this.lastOptions.minZoom,this.options.minZoom)&&this.setMinZoom(Mn.minZoom),!(0,ue.o8)(Mn.maxZoom)&&!(0,ue.Xy)(this.lastOptions.maxZoom,this.options.maxZoom)&&this.setMaxZoom(Mn.maxZoom),!(0,ue.o8)(Mn.visible)&&!(0,ue.Xy)(this.lastOptions.visible,this.options.visible)&&(Mn.visible?this.show():this.hide())}render(){this.scene&&this.scene.render()}changeData(Mn){this.setSource(Mn)}setIndex(Mn){this.layer.setIndex(Mn)}setBlend(Mn){this.layer.setBlend(Mn)}setMinZoom(Mn){this.layer.setMinZoom(Mn)}setMaxZoom(Mn){this.layer.setMaxZoom(Mn)}show(){this.layer.inited&&this.layer.show()}hide(){this.layer.inited&&this.layer.hide()}toggleVisible(){this.isVisible()?this.hide():this.show()}isVisible(){return this.layer.inited?this.layer.isVisible():(0,ue.o8)(this.options.visible)?!0:this.options.visible}boxSelect(Mn,kr){this.layer.boxSelect(Mn,kr)}fitBounds(Mn){this.layer.fitBounds(Mn)}getLegend(Mn){return this.layer.getLegend(Mn)}getLegendItems(Mn){return this.layer.getLegendItems(Mn)}on(Mn,kr,Yi){return le.indexOf(Mn)!==-1?this.layer.on(Mn,kr):super.on(Mn,kr,Yi),this}once(Mn,kr){return le.indexOf(Mn)!==-1?this.layer.once(Mn,kr):super.once(Mn,kr),this}off(Mn,kr){return le.indexOf(Mn)!==-1?this.layer.off(Mn,kr):super.off(Mn,kr),this}destroy(){this.layer.destroy()}}ve.DefaultOptions={};class fe extends ve{constructor(){super(...arguments),this.type="heatmapLayer"}createLayer(){const Mn=this.getLayerConfig();return new w.HeatmapLayer(Mn)}}var Fe=A(75271),yt=function(un){return function(Mn,kr){var Yi=(0,Fe.useRef)(!1);un(function(){return function(){Yi.current=!1}},[]),un(function(){if(!Yi.current)Yi.current=!0;else return Mn()},kr)}},gt=null,pt=yt(Fe.useEffect);function lt(){this.__data__=[],this.size=0}var Ke=lt;function Ue(un,Mn){return un===Mn||un!==un&&Mn!==Mn}var Pt=Ue;function Gt(un,Mn){for(var kr=un.length;kr--;)if(Pt(un[kr][0],Mn))return kr;return-1}var rn=Gt,_n=Array.prototype,qe=_n.splice;function Nt(un){var Mn=this.__data__,kr=rn(Mn,un);if(kr<0)return!1;var Yi=Mn.length-1;return kr==Yi?Mn.pop():qe.call(Mn,kr,1),--this.size,!0}var ft=Nt;function ln(un){var Mn=this.__data__,kr=rn(Mn,un);return kr<0?void 0:Mn[kr][1]}var tt=ln;function Pe(un){return rn(this.__data__,un)>-1}var Qe=Pe;function He(un,Mn){var kr=this.__data__,Yi=rn(kr,un);return Yi<0?(++this.size,kr.push([un,Mn])):kr[Yi][1]=Mn,this}var _t=He;function Bt(un){var Mn=-1,kr=un==null?0:un.length;for(this.clear();++Mn<kr;){var Yi=un[Mn];this.set(Yi[0],Yi[1])}}Bt.prototype.clear=Ke,Bt.prototype.delete=ft,Bt.prototype.get=tt,Bt.prototype.has=Qe,Bt.prototype.set=_t;var At=Bt;function Je(){this.__data__=new At,this.size=0}var zt=Je;function mn(un){var Mn=this.__data__,kr=Mn.delete(un);return this.size=Mn.size,kr}var Ot=mn;function Xe(un){return this.__data__.get(un)}var ct=Xe;function Rt(un){return this.__data__.has(un)}var Oe=Rt,Ge=A(33918);function Vt(un){var Mn=typeof un;return un!=null&&(Mn=="object"||Mn=="function")}var De=Vt,et="[object AsyncFunction]",Ce="[object Function]",J="[object GeneratorFunction]",Le="[object Proxy]";function Jt(un){if(!De(un))return!1;var Mn=(0,Ge.Z)(un);return Mn==Ce||Mn==J||Mn==et||Mn==Le}var Be=Jt,In=A(99615),cr=In.Z["__core-js_shared__"],bn=cr,ir=function(){var un=/[^.]+$/.exec(bn&&bn.keys&&bn.keys.IE_PROTO||"");return un?"Symbol(src)_1."+un:""}();function Nr(un){return!!ir&&ir in un}var Ar=Nr,Zr=Function.prototype,wi=Zr.toString;function Ln(un){if(un!=null){try{return wi.call(un)}catch(Mn){}try{return un+""}catch(Mn){}}return""}var Nn=Ln,$n=/[\\^$.*+?()[\]{}|]/g,wn=/^\[object .+?Constructor\]$/,nt=Function.prototype,ze=Object.prototype,vt=nt.toString,$t=ze.hasOwnProperty,gn=RegExp("^"+vt.call($t).replace($n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function at(un){if(!De(un)||Ar(un))return!1;var Mn=Be(un)?gn:wn;return Mn.test(Nn(un))}var an=at;function hn(un,Mn){return un==null?void 0:un[Mn]}var pr=hn;function ur(un,Mn){var kr=pr(un,Mn);return an(kr)?kr:void 0}var pi=ur,ar=pi(In.Z,"Map"),di=ar,sa=pi(Object,"create"),xa=sa;function za(){this.__data__=xa?xa(null):{},this.size=0}var Ui=za;function Ao(un){var Mn=this.has(un)&&delete this.__data__[un];return this.size-=Mn?1:0,Mn}var fs=Ao,cs="__lodash_hash_undefined__",ra=Object.prototype,ms=ra.hasOwnProperty;function xi(un){var Mn=this.__data__;if(xa){var kr=Mn[un];return kr===cs?void 0:kr}return ms.call(Mn,un)?Mn[un]:void 0}var Gn=xi,_e=Object.prototype,oi=_e.hasOwnProperty;function Ka(un){var Mn=this.__data__;return xa?Mn[un]!==void 0:oi.call(Mn,un)}var Cn=Ka,Un="__lodash_hash_undefined__";function tn(un,Mn){var kr=this.__data__;return this.size+=this.has(un)?0:1,kr[un]=xa&&Mn===void 0?Un:Mn,this}var It=tn;function Zt(un){var Mn=-1,kr=un==null?0:un.length;for(this.clear();++Mn<kr;){var Yi=un[Mn];this.set(Yi[0],Yi[1])}}Zt.prototype.clear=Ui,Zt.prototype.delete=fs,Zt.prototype.get=Gn,Zt.prototype.has=Cn,Zt.prototype.set=It;var $e=Zt;function Bn(){this.size=0,this.__data__={hash:new $e,map:new(di||At),string:new $e}}var Yn=Bn;function or(un){var Mn=typeof un;return Mn=="string"||Mn=="number"||Mn=="symbol"||Mn=="boolean"?un!=="__proto__":un===null}var Ze=or;function je(un,Mn){var kr=un.__data__;return Ze(Mn)?kr[typeof Mn=="string"?"string":"hash"]:kr.map}var st=je;function St(un){var Mn=st(this,un).delete(un);return this.size-=Mn?1:0,Mn}var En=St;function fn(un){return st(this,un).get(un)}var sn=fn;function Pn(un){return st(this,un).has(un)}var Hn=Pn;function Ut(un,Mn){var kr=st(this,un),Yi=kr.size;return kr.set(un,Mn),this.size+=kr.size==Yi?0:1,this}var Yt=Ut;function Xt(un){var Mn=-1,kr=un==null?0:un.length;for(this.clear();++Mn<kr;){var Yi=un[Mn];this.set(Yi[0],Yi[1])}}Xt.prototype.clear=Yn,Xt.prototype.delete=En,Xt.prototype.get=sn,Xt.prototype.has=Hn,Xt.prototype.set=Yt;var jt=Xt,fr=200;function vr(un,Mn){var kr=this.__data__;if(kr instanceof At){var Yi=kr.__data__;if(!di||Yi.length<fr-1)return Yi.push([un,Mn]),this.size=++kr.size,this;kr=this.__data__=new jt(Yi)}return kr.set(un,Mn),this.size=kr.size,this}var yr=vr;function Br(un){var Mn=this.__data__=new At(un);this.size=Mn.size}Br.prototype.clear=zt,Br.prototype.delete=Ot,Br.prototype.get=ct,Br.prototype.has=Oe,Br.prototype.set=yr;var Gi=Br,qi="__lodash_hash_undefined__";function $i(un){return this.__data__.set(un,qi),this}var Wi=$i;function Ii(un){return this.__data__.has(un)}var Qa=Ii;function on(un){var Mn=-1,kr=un==null?0:un.length;for(this.__data__=new jt;++Mn<kr;)this.add(un[Mn])}on.prototype.add=on.prototype.push=Wi,on.prototype.has=Qa;var dn=on;function jn(un,Mn){for(var kr=-1,Yi=un==null?0:un.length;++kr<Yi;)if(Mn(un[kr],kr,un))return!0;return!1}var Ur=jn;function Yr(un,Mn){return un.has(Mn)}var Et=Yr,Ct=1,xn=2;function Xn(un,Mn,kr,Yi,Zo,os){var yu=kr&Ct,Pu=un.length,tl=Mn.length;if(Pu!=tl&&!(yu&&tl>Pu))return!1;var rl=os.get(un),Mf=os.get(Mn);if(rl&&Mf)return rl==Mn&&Mf==un;var lc=-1,ic=!0,W=kr&xn?new dn:void 0;for(os.set(un,Mn),os.set(Mn,un);++lc<Pu;){var X=un[lc],E=Mn[lc];if(Yi)var x=yu?Yi(E,X,lc,Mn,un,os):Yi(X,E,lc,un,Mn,os);if(x!==void 0){if(x)continue;ic=!1;break}if(W){if(!Ur(Mn,function(V,pe){if(!Et(W,pe)&&(X===V||Zo(X,V,kr,Yi,os)))return W.push(pe)})){ic=!1;break}}else if(!(X===E||Zo(X,E,kr,Yi,os))){ic=!1;break}}return os.delete(un),os.delete(Mn),ic}var mt=Xn,vn=A(66711),tr=In.Z.Uint8Array,Mr=tr;function ui(un){var Mn=-1,kr=Array(un.size);return un.forEach(function(Yi,Zo){kr[++Mn]=[Zo,Yi]}),kr}var Ri=ui;function Aa(un){var Mn=-1,kr=Array(un.size);return un.forEach(function(Yi){kr[++Mn]=Yi}),kr}var Ga=Aa,vo=1,To=2,Po="[object Boolean]",ds="[object Date]",Za="[object Error]",ks="[object Map]",oo="[object Number]",nu="[object RegExp]",wu="[object Set]",Ll="[object String]",Si="[object Symbol]",Sn="[object ArrayBuffer]",Qt="[object DataView]",rr=vn.Z?vn.Z.prototype:void 0,rt=rr?rr.valueOf:void 0;function ai(un,Mn,kr,Yi,Zo,os,yu){switch(kr){case Qt:if(un.byteLength!=Mn.byteLength||un.byteOffset!=Mn.byteOffset)return!1;un=un.buffer,Mn=Mn.buffer;case Sn:return!(un.byteLength!=Mn.byteLength||!os(new Mr(un),new Mr(Mn)));case Po:case ds:case oo:return Pt(+un,+Mn);case Za:return un.name==Mn.name&&un.message==Mn.message;case nu:case Ll:return un==Mn+"";case ks:var Pu=Ri;case wu:var tl=Yi&vo;if(Pu||(Pu=Ga),un.size!=Mn.size&&!tl)return!1;var rl=yu.get(un);if(rl)return rl==Mn;Yi|=To,yu.set(un,Mn);var Mf=mt(Pu(un),Pu(Mn),Yi,Zo,os,yu);return yu.delete(un),Mf;case Si:if(rt)return rt.call(un)==rt.call(Mn)}return!1}var mi=ai;function _a(un,Mn){for(var kr=-1,Yi=Mn.length,Zo=un.length;++kr<Yi;)un[Zo+kr]=Mn[kr];return un}var Xi=_a,ia=Array.isArray,ua=ia;function co(un,Mn,kr){var Yi=Mn(un);return ua(un)?Yi:Xi(Yi,kr(un))}var Ro=co;function As(un,Mn){for(var kr=-1,Yi=un==null?0:un.length,Zo=0,os=[];++kr<Yi;){var yu=un[kr];Mn(yu,kr,un)&&(os[Zo++]=yu)}return os}var So=As;function ao(){return[]}var Wa=ao,ns=Object.prototype,Do=ns.propertyIsEnumerable,ls=Object.getOwnPropertySymbols,Bs=ls?function(un){return un==null?[]:(un=Object(un),So(ls(un),function(Mn){return Do.call(un,Mn)}))}:Wa,Xo=Bs;function wt(un,Mn){for(var kr=-1,Yi=Array(un);++kr<un;)Yi[kr]=Mn(kr);return Yi}var er=wt,nn=A(13795),wr="[object Arguments]";function hi(un){return(0,nn.Z)(un)&&(0,Ge.Z)(un)==wr}var gi=hi,xr=Object.prototype,Ji=xr.hasOwnProperty,Ai=xr.propertyIsEnumerable,Mi=gi(function(){return arguments}())?gi:function(un){return(0,nn.Z)(un)&&Ji.call(un,"callee")&&!Ai.call(un,"callee")},po=Mi;function ha(){return!1}var Qo=ha,Cs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oo=Cs&&typeof module=="object"&&module&&!module.nodeType&&module,su=Oo&&Oo.exports===Cs,ru=su?In.Z.Buffer:void 0,xt=ru?ru.isBuffer:void 0,Zn=xt||Qo,Cr=Zn,Di=9007199254740991,wa=/^(?:0|[1-9]\d*)$/;function Eo(un,Mn){var kr=typeof un;return Mn=Mn==null?Di:Mn,!!Mn&&(kr=="number"||kr!="symbol"&&wa.test(un))&&un>-1&&un%1==0&&un<Mn}var yo=Eo,Wr=9007199254740991;function hs(un){return typeof un=="number"&&un>-1&&un%1==0&&un<=Wr}var Ma=hs,iu="[object Arguments]",au="[object Array]",as="[object Boolean]",$s="[object Date]",Xs="[object Error]",Lu="[object Function]",Mu="[object Map]",Nl="[object Number]",Ks="[object Object]",nl="[object RegExp]",hu="[object Set]",oc="[object String]",_l="[object WeakMap]",Ku="[object ArrayBuffer]",Cf="[object DataView]",bc="[object Float32Array]",Sr="[object Float64Array]",li="[object Int8Array]",Ci="[object Int16Array]",ti="[object Int32Array]",ea="[object Uint8Array]",mo="[object Uint8ClampedArray]",so="[object Uint16Array]",Io="[object Uint32Array]",Ha={};Ha[bc]=Ha[Sr]=Ha[li]=Ha[Ci]=Ha[ti]=Ha[ea]=Ha[mo]=Ha[so]=Ha[Io]=!0,Ha[iu]=Ha[au]=Ha[Ku]=Ha[as]=Ha[Cf]=Ha[$s]=Ha[Xs]=Ha[Lu]=Ha[Mu]=Ha[Nl]=Ha[Ks]=Ha[nl]=Ha[hu]=Ha[oc]=Ha[_l]=!1;function wo(un){return(0,nn.Z)(un)&&Ma(un.length)&&!!Ha[(0,Ge.Z)(un)]}var zo=wo;function rs(un){return function(Mn){return un(Mn)}}var Vo=rs,Fs=A(97889),_u=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bs=_u&&typeof module=="object"&&module&&!module.nodeType&&module,Vs=bs&&bs.exports===_u,vi=Vs&&Fs.Z.process,fa=function(){try{var un=bs&&bs.require&&bs.require("util").types;return un||vi&&vi.binding&&vi.binding("util")}catch(Mn){}}(),ta=fa,fo=ta&&ta.isTypedArray,Ko=fo?Vo(fo):zo,es=Ko,Mo=Object.prototype,ys=Mo.hasOwnProperty;function Bc(un,Mn){var kr=ua(un),Yi=!kr&&po(un),Zo=!kr&&!Yi&&Cr(un),os=!kr&&!Yi&&!Zo&&es(un),yu=kr||Yi||Zo||os,Pu=yu?er(un.length,String):[],tl=Pu.length;for(var rl in un)(Mn||ys.call(un,rl))&&!(yu&&(rl=="length"||Zo&&(rl=="offset"||rl=="parent")||os&&(rl=="buffer"||rl=="byteLength"||rl=="byteOffset")||yo(rl,tl)))&&Pu.push(rl);return Pu}var ec=Bc,ff=Object.prototype;function ld(un){var Mn=un&&un.constructor,kr=typeof Mn=="function"&&Mn.prototype||ff;return un===kr}var Ol=ld;function al(un,Mn){return function(kr){return un(Mn(kr))}}var Dl=al,Vc=Dl(Object.keys,Object),Qs=Vc,$u=Object.prototype,Ru=$u.hasOwnProperty;function Wl(un){if(!Ol(un))return Qs(un);var Mn=[];for(var kr in Object(un))Ru.call(un,kr)&&kr!="constructor"&&Mn.push(kr);return Mn}var tc=Wl;function Ec(un){return un!=null&&Ma(un.length)&&!Be(un)}var cd=Ec;function wc(un){return cd(un)?ec(un):tc(un)}var Tl=wc;function ed(un){return Ro(un,Tl,Xo)}var Fc=ed,hc=1,Sd=Object.prototype,Oh=Sd.hasOwnProperty;function Fd(un,Mn,kr,Yi,Zo,os){var yu=kr&hc,Pu=Fc(un),tl=Pu.length,rl=Fc(Mn),Mf=rl.length;if(tl!=Mf&&!yu)return!1;for(var lc=tl;lc--;){var ic=Pu[lc];if(!(yu?ic in Mn:Oh.call(Mn,ic)))return!1}var W=os.get(un),X=os.get(Mn);if(W&&X)return W==Mn&&X==un;var E=!0;os.set(un,Mn),os.set(Mn,un);for(var x=yu;++lc<tl;){ic=Pu[lc];var V=un[ic],pe=Mn[ic];if(Yi)var he=yu?Yi(pe,V,ic,Mn,un,os):Yi(V,pe,ic,un,Mn,os);if(!(he===void 0?V===pe||Zo(V,pe,kr,Yi,os):he)){E=!1;break}x||(x=ic=="constructor")}if(E&&!x){var ke=un.constructor,bt=Mn.constructor;ke!=bt&&"constructor"in un&&"constructor"in Mn&&!(typeof ke=="function"&&ke instanceof ke&&typeof bt=="function"&&bt instanceof bt)&&(E=!1)}return os.delete(un),os.delete(Mn),E}var $d=Fd,Xd=pi(In.Z,"DataView"),fd=Xd,Mc=pi(In.Z,"Promise"),Uc=Mc,md=pi(In.Z,"Set"),vd=md,yd=pi(In.Z,"WeakMap"),df=yd,Ef="[object Map]",Yf="[object Object]",$f="[object Promise]",td="[object Set]",Ad="[object WeakMap]",kl="[object DataView]",Bl=Nn(fd),_d=Nn(di),Of=Nn(Uc),hf=Nn(vd),Ud=Nn(df),dd=Ge.Z;(fd&&dd(new fd(new ArrayBuffer(1)))!=kl||di&&dd(new di)!=Ef||Uc&&dd(Uc.resolve())!=$f||vd&&dd(new vd)!=td||df&&dd(new df)!=Ad)&&(dd=function(un){var Mn=(0,Ge.Z)(un),kr=Mn==Yf?un.constructor:void 0,Yi=kr?Nn(kr):"";if(Yi)switch(Yi){case Bl:return kl;case _d:return Ef;case Of:return $f;case hf:return td;case Ud:return Ad}return Mn});var pf=dd,nd=1,Kd="[object Arguments]",sc="[object Array]",Gc="[object Object]",ee=Object.prototype,Me=ee.hasOwnProperty;function Ve(un,Mn,kr,Yi,Zo,os){var yu=ua(un),Pu=ua(Mn),tl=yu?sc:pf(un),rl=Pu?sc:pf(Mn);tl=tl==Kd?Gc:tl,rl=rl==Kd?Gc:rl;var Mf=tl==Gc,lc=rl==Gc,ic=tl==rl;if(ic&&Cr(un)){if(!Cr(Mn))return!1;yu=!0,Mf=!1}if(ic&&!Mf)return os||(os=new Gi),yu||es(un)?mt(un,Mn,kr,Yi,Zo,os):mi(un,Mn,tl,kr,Yi,Zo,os);if(!(kr&nd)){var W=Mf&&Me.call(un,"__wrapped__"),X=lc&&Me.call(Mn,"__wrapped__");if(W||X){var E=W?un.value():un,x=X?Mn.value():Mn;return os||(os=new Gi),Zo(E,x,kr,Yi,os)}}return ic?(os||(os=new Gi),$d(un,Mn,kr,Yi,Zo,os)):!1}var Tt=Ve;function pn(un,Mn,kr,Yi,Zo){return un===Mn?!0:un==null||Mn==null||!(0,nn.Z)(un)&&!(0,nn.Z)(Mn)?un!==un&&Mn!==Mn:Tt(un,Mn,kr,Yi,pn,Zo)}var yn=pn;function Vn(un,Mn){return yn(un,Mn)}var Pr=Vn;function Zi(un,Mn){for(var kr=-1,Yi=un==null?0:un.length;++kr<Yi&&Mn(un[kr],kr,un)!==!1;);return un}var ji=Zi,Dt=function(){try{var un=pi(Object,"defineProperty");return un({},"",{}),un}catch(Mn){}}(),Ta=Dt;function ba(un,Mn,kr){Mn=="__proto__"&&Ta?Ta(un,Mn,{configurable:!0,enumerable:!0,value:kr,writable:!0}):un[Mn]=kr}var yi=ba,ko=Object.prototype,pu=ko.hasOwnProperty;function gu(un,Mn,kr){var Yi=un[Mn];(!(pu.call(un,Mn)&&Pt(Yi,kr))||kr===void 0&&!(Mn in un))&&yi(un,Mn,kr)}var ps=gu;function Zs(un,Mn,kr,Yi){var Zo=!kr;kr||(kr={});for(var os=-1,yu=Mn.length;++os<yu;){var Pu=Mn[os],tl=Yi?Yi(kr[Pu],un[Pu],Pu,kr,un):void 0;tl===void 0&&(tl=un[Pu]),Zo?yi(kr,Pu,tl):ps(kr,Pu,tl)}return kr}var ss=Zs;function wl(un,Mn){return un&&ss(Mn,Tl(Mn),un)}var ol=wl;function Lo(un){var Mn=[];if(un!=null)for(var kr in Object(un))Mn.push(kr);return Mn}var Fl=Lo,Rl=Object.prototype,Kl=Rl.hasOwnProperty;function xu(un){if(!De(un))return Fl(un);var Mn=Ol(un),kr=[];for(var Yi in un)Yi=="constructor"&&(Mn||!Kl.call(un,Yi))||kr.push(Yi);return kr}var xc=xu;function Vl(un){return cd(un)?ec(un,!0):xc(un)}var Js=Vl;function mu(un,Mn){return un&&ss(Mn,Js(Mn),un)}var Nu=mu,vu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yc=vu&&typeof module=="object"&&module&&!module.nodeType&&module,bl=yc&&yc.exports===vu,pc=bl?In.Z.Buffer:void 0,Hi=pc?pc.allocUnsafe:void 0;function Yc(un,Mn){if(Mn)return un.slice();var kr=un.length,Yi=Hi?Hi(kr):new un.constructor(kr);return un.copy(Yi),Yi}var js=Yc;function Li(un,Mn){var kr=-1,Yi=un.length;for(Mn||(Mn=Array(Yi));++kr<Yi;)Mn[kr]=un[kr];return Mn}var $o=Li;function $c(un,Mn){return ss(un,Xo(un),Mn)}var nc=$c,rd=Dl(Object.getPrototypeOf,Object),qu=rd,b=Object.getOwnPropertySymbols,L=b?function(un){for(var Mn=[];un;)Xi(Mn,Xo(un)),un=qu(un);return Mn}:Wa,we=L;function On(un,Mn){return ss(un,we(un),Mn)}var _i=On;function Oa(un){return Ro(un,Js,we)}var Xa=Oa,ts=Object.prototype,is=ts.hasOwnProperty;function Co(un){var Mn=un.length,kr=new un.constructor(Mn);return Mn&&typeof un[0]=="string"&&is.call(un,"index")&&(kr.index=un.index,kr.input=un.input),kr}var Vu=Co;function ul(un){var Mn=new un.constructor(un.byteLength);return new Mr(Mn).set(new Mr(un)),Mn}var ef=ul;function Tc(un,Mn){var kr=Mn?ef(un.buffer):un.buffer;return new un.constructor(kr,un.byteOffset,un.byteLength)}var _h=Tc,bh=/\w*$/;function rh(un){var Mn=new un.constructor(un.source,bh.exec(un));return Mn.lastIndex=un.lastIndex,Mn}var ho=rh,Yo=vn.Z?vn.Z.prototype:void 0,cu=Yo?Yo.valueOf:void 0;function el(un){return cu?Object(cu.call(un)):{}}var Hs=el;function Xf(un,Mn){var kr=Mn?ef(un.buffer):un.buffer;return new un.constructor(kr,un.byteOffset,un.length)}var tf=Xf,Gl="[object Boolean]",Uf="[object Date]",rc="[object Map]",Du="[object Number]",zc="[object RegExp]",zf="[object Set]",Qu="[object String]",xp="[object Symbol]",Zf="[object ArrayBuffer]",Gh="[object DataView]",ih="[object Float32Array]",Tp="[object Float64Array]",Z0="[object Int8Array]",wh="[object Int16Array]",Sc="[object Int32Array]",xf="[object Uint8Array]",m0="[object Uint8ClampedArray]",ah="[object Uint16Array]",gf="[object Uint32Array]";function Xc(un,Mn,kr){var Yi=un.constructor;switch(Mn){case Zf:return ef(un);case Gl:case Uf:return new Yi(+un);case Gh:return _h(un,kr);case ih:case Tp:case Z0:case wh:case Sc:case xf:case m0:case ah:case gf:return tf(un,kr);case rc:return new Yi;case Du:case Qu:return new Yi(un);case zc:return ho(un);case zf:return new Yi;case xp:return Hs(un)}}var P0=Xc,Rd=Object.create,oh=function(){function un(){}return function(Mn){if(!De(Mn))return{};if(Rd)return Rd(Mn);un.prototype=Mn;var kr=new un;return un.prototype=void 0,kr}}(),nf=oh;function zd(un){return typeof un.constructor=="function"&&!Ol(un)?nf(qu(un)):{}}var Sl=zd,Zd="[object Map]";function hd(un){return(0,nn.Z)(un)&&pf(un)==Zd}var Mh=hd,Pd=ta&&ta.isMap,bd=Pd?Vo(Pd):Mh,Kc=bd,Sp="[object Set]";function i0(un){return(0,nn.Z)(un)&&pf(un)==Sp}var sh=i0,Rh=ta&&ta.isSet,v0=Rh?Vo(Rh):sh,Ph=v0,Ih=1,Ap=2,j0=4,a0="[object Arguments]",y0="[object Array]",Cd="[object Boolean]",Lh="[object Date]",Cp="[object Error]",Zu="[object Function]",ep="[object GeneratorFunction]",_0="[object Map]",Nh="[object Number]",Ho="[object Object]",Op="[object RegExp]",o0="[object Set]",wf="[object String]",Od="[object Symbol]",Ed="[object WeakMap]",id="[object ArrayBuffer]",uh="[object DataView]",N="[object Float32Array]",F="[object Float64Array]",ce="[object Int8Array]",ht="[object Int16Array]",Ft="[object Int32Array]",kn="[object Uint8Array]",si="[object Uint8ClampedArray]",ki="[object Uint16Array]",ro="[object Uint32Array]",bo={};bo[a0]=bo[y0]=bo[id]=bo[uh]=bo[Cd]=bo[Lh]=bo[N]=bo[F]=bo[ce]=bo[ht]=bo[Ft]=bo[_0]=bo[Nh]=bo[Ho]=bo[Op]=bo[o0]=bo[wf]=bo[Od]=bo[kn]=bo[si]=bo[ki]=bo[ro]=!0,bo[Cp]=bo[Zu]=bo[Ed]=!1;function Gs(un,Mn,kr,Yi,Zo,os){var yu,Pu=Mn&Ih,tl=Mn&Ap,rl=Mn&j0;if(kr&&(yu=Zo?kr(un,Yi,Zo,os):kr(un)),yu!==void 0)return yu;if(!De(un))return un;var Mf=ua(un);if(Mf){if(yu=Vu(un),!Pu)return $o(un,yu)}else{var lc=pf(un),ic=lc==Zu||lc==ep;if(Cr(un))return js(un,Pu);if(lc==Ho||lc==a0||ic&&!Zo){if(yu=tl||ic?{}:Sl(un),!Pu)return tl?_i(un,Nu(yu,un)):nc(un,ol(yu,un))}else{if(!bo[lc])return Zo?un:{};yu=P0(un,lc,Pu)}}os||(os=new Gi);var W=os.get(un);if(W)return W;os.set(un,yu),Ph(un)?un.forEach(function(x){yu.add(Gs(x,Mn,kr,x,un,os))}):Kc(un)&&un.forEach(function(x,V){yu.set(V,Gs(x,Mn,kr,V,un,os))});var X=rl?tl?Xa:Fc:tl?Js:Tl,E=Mf?void 0:X(un);return ji(E||un,function(x,V){E&&(V=x,x=un[V]),ps(yu,V,Gs(x,Mn,kr,V,un,os))}),yu}var lu=Gs,Us=1,pl=4;function Ul(un){return lu(un,Us|pl)}var ad=Ul,ja=A(70162),Sa=function(){var Mn=(0,Fe.useContext)(ja.G);if(!Mn)throw new Error("The useLayerManager must be used in the LarkMap container");var kr=Mn.layerManager;return kr};function uo(un){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mn){return typeof Mn}:function(Mn){return Mn&&typeof Symbol=="function"&&Mn.constructor===Symbol&&Mn!==Symbol.prototype?"symbol":typeof Mn},uo(un)}var Is=["onCreated","source"],tu=["data"],uc=["data"];function Tu(un,Mn){var kr=Object.keys(un);if(Object.getOwnPropertySymbols){var Yi=Object.getOwnPropertySymbols(un);Mn&&(Yi=Yi.filter(function(Zo){return Object.getOwnPropertyDescriptor(un,Zo).enumerable})),kr.push.apply(kr,Yi)}return kr}function zl(un){for(var Mn=1;Mn<arguments.length;Mn++){var kr=arguments[Mn]!=null?arguments[Mn]:{};Mn%2?Tu(Object(kr),!0).forEach(function(Yi){rf(un,Yi,kr[Yi])}):Object.getOwnPropertyDescriptors?Object.defineProperties(un,Object.getOwnPropertyDescriptors(kr)):Tu(Object(kr)).forEach(function(Yi){Object.defineProperty(un,Yi,Object.getOwnPropertyDescriptor(kr,Yi))})}return un}function rf(un,Mn,kr){return Mn=fu(Mn),Mn in un?Object.defineProperty(un,Mn,{value:kr,enumerable:!0,configurable:!0,writable:!0}):un[Mn]=kr,un}function fu(un){var Mn=xd(un,"string");return uo(Mn)=="symbol"?Mn:String(Mn)}function xd(un,Mn){if(uo(un)!="object"||!un)return un;var kr=un[Symbol.toPrimitive];if(kr!==void 0){var Yi=kr.call(un,Mn||"default");if(uo(Yi)!="object")return Yi;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Mn==="string"?String:Number)(un)}function Td(un,Mn){if(un==null)return{};var kr=Gp(un,Mn),Yi,Zo;if(Object.getOwnPropertySymbols){var os=Object.getOwnPropertySymbols(un);for(Zo=0;Zo<os.length;Zo++)Yi=os[Zo],!(Mn.indexOf(Yi)>=0)&&Object.prototype.propertyIsEnumerable.call(un,Yi)&&(kr[Yi]=un[Yi])}return kr}function Gp(un,Mn){if(un==null)return{};var kr={},Yi=Object.keys(un),Zo,os;for(os=0;os<Yi.length;os++)Zo=Yi[os],!(Mn.indexOf(Zo)>=0)&&(kr[Zo]=un[Zo]);return kr}var Dh=function(Mn,kr){var Yi=kr.onCreated,Zo=kr.source,os=Td(kr,Is),yu=Sa(),Pu=(0,Fe.useRef)(),tl=(0,Fe.useRef)(os),rl=(0,Fe.useRef)(Zo);return Pu.current||(Pu.current=new Mn(kr),Yi&&Pu.current.once("inited",function(){return Yi(Pu.current)}),yu.addLayer(Pu.current)),pt(function(){if(Pu.current){var Mf=!Pr(tl.current,os);Mf&&(Pu.current.update(os),tl.current=ad(os))}},[os]),pt(function(){if(Pu.current){var Mf=Zo.data,lc=Td(Zo,tu),ic=rl.current,W=ic.data,X=Td(ic,uc),E=Mf!==W||!Pr(lc,X);E&&(Pu.current.changeData(Zo),rl.current=zl({},Zo))}},[Zo]),(0,Fe.useEffect)(function(){return function(){Pu.current&&(yu.removeLayer(Pu.current),Pu.current=null)}},[]),Pu},Kf=A(92367),Yh={onRemove:"remove",onShow:"show",onHide:"hide",onDataUpdate:"dataUpdate",onLegend:"legend",onLegendColor:"legend:color",onLegendSize:"legend:size",onClick:"click",onUnClick:"unclick",onDblClick:"dblclick",onUndblclick:"undblclick",onContextMenu:"contextmenu",onUnContextMenu:"uncontextmenu",onMouseEnter:"mouseenter",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseUp:"mouseup",onMouseDown:"mousedown",onUnMousemove:"unmousemove",onUnMouseup:"unmouseup",onUnMousedown:"unmousedown",onUnPick:"unpick"},lh=function(Mn,kr){var Yi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yh,Zo=(0,Fe.useMemo)(function(){return Object.keys(Yi)},[Yi]),os=function(Mf){Zo.forEach(function(lc){var ic=Yi[lc],W=kr[lc];lc&&W&&Mn[Mf](ic,W)})},yu=function(){return os("on")},Pu=function(){return os("off")},tl=(0,Fe.useRef)(!0);tl.current&&yu(),(0,Fe.useEffect)(function(){return tl.current?tl.current=!1:yu(),function(){Pu()}},Zo.map(function(rl){return kr[rl]})),(0,Kf.Z)(function(){Pu()})},wp=(0,Fe.memo)((0,Fe.forwardRef)(function(Mn,kr){var Yi=Dh(fe,Mn);return lh(Yi.current,Mn),(0,Fe.useImperativeHandle)(kr,function(){return Yi.current}),null}))},42109:function(cn,Ne,A){"use strict";A.d(Ne,{t:function(){return le}});function w({map:se,initKey:ge},ye){const ve=ge(ye);return se.has(ve)?se.get(ve):ye}function B({map:se,initKey:ge},ye){const ve=ge(ye);return se.has(ve)?se.get(ve):(se.set(ve,ye),ye)}function ne({map:se,initKey:ge},ye){const ve=ge(ye);return se.has(ve)&&(ye=se.get(ve),se.delete(ve)),ye}function ue(se){return typeof se=="object"?se.valueOf():se}class j extends Map{constructor(ge){if(super(),this.map=new Map,this.initKey=ue,ge!==null)for(const[ye,ve]of ge)this.set(ye,ve)}get(ge){return super.get(w({map:this.map,initKey:this.initKey},ge))}has(ge){return super.has(w({map:this.map,initKey:this.initKey},ge))}set(ge,ye){return super.set(B({map:this.map,initKey:this.initKey},ge),ye)}delete(ge){return super.delete(ne({map:this.map,initKey:this.initKey},ge))}}var q=A(5733);function Y(se){const ge=Math.min(...se);return se.map(ye=>ye/ge)}function K(se,ge){const ye=se.length,ve=ge-ye;return ve>0?[...se,...new Array(ve).fill(1)]:ve<0?se.slice(0,ge):se}function H(se){return Math.round(se*1e12)/1e12}function ae(se){const{domain:ge,range:ye,paddingOuter:ve,paddingInner:fe,flex:Fe,round:yt,align:gt}=se,pt=ge.length,lt=K(Fe,pt),[Ke,Ue]=ye,Pt=Ue-Ke,Gt=2/pt*ve+1-1/pt*fe,rn=Pt/Gt,_n=rn*fe/pt,qe=rn-pt*_n,Nt=Y(lt),ft=Nt.reduce((zt,mn)=>zt+mn),ln=qe/ft,tt=new j(ge.map((zt,mn)=>{const Ot=Nt[mn]*ln;return[zt,yt?Math.floor(Ot):Ot]})),Pe=new j(ge.map((zt,mn)=>{const Xe=Nt[mn]*ln+_n;return[zt,yt?Math.floor(Xe):Xe]})),Qe=Array.from(Pe.values()).reduce((zt,mn)=>zt+mn),_t=(Pt-(Qe-Qe/pt*fe))*gt,Bt=Ke+_t;let At=yt?Math.round(Bt):Bt;const Je=new Array(pt);for(let zt=0;zt<pt;zt+=1){Je[zt]=H(At);const mn=ge[zt];At+=Pe.get(mn)}return{valueBandWidth:tt,valueStep:Pe,adjustedRange:Je}}function ie(se){var ge;const{domain:ye}=se,ve=ye.length;if(ve===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((ge=se.flex)===null||ge===void 0)&&ge.length))return ae(se);const{range:Fe,paddingOuter:yt,paddingInner:gt,round:pt,align:lt}=se;let Ke,Ue,Pt=Fe[0];const rn=Fe[1]-Pt,_n=yt*2,qe=ve-gt;Ke=rn/Math.max(1,_n+qe),pt&&(Ke=Math.floor(Ke)),Pt+=(rn-Ke*(ve-gt))*lt,Ue=Ke*(1-gt),pt&&(Pt=Math.round(Pt),Ue=Math.round(Ue));const Nt=new Array(ve).fill(0).map((ft,ln)=>Pt+ln*Ke);return{valueStep:Ke,valueBandWidth:Ue,adjustedRange:Nt}}class le extends q.r{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:q.z,flex:[]}}constructor(ge){super(ge)}clone(){return new le(this.options)}getStep(ge){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:ge===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(ge)}getBandWidth(ge){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:ge===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(ge)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:ge,paddingInner:ye}=this.options;return ge>0?ge:ye}getPaddingOuter(){const{padding:ge,paddingOuter:ye}=this.options;return ge>0?ge:ye}rescale(){super.rescale();const{align:ge,domain:ye,range:ve,round:fe,flex:Fe}=this.options,{adjustedRange:yt,valueBandWidth:gt,valueStep:pt}=ie({align:ge,range:ve,round:fe,flex:Fe,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:ye});this.valueStep=pt,this.valueBandWidth=gt,this.adjustedRange=yt}}},39429:function(cn,Ne,A){"use strict";A.d(Ne,{X:function(){return B}});var w=A(11051);class B{constructor(ue){this.options=(0,w.Z)({},this.getDefaultOptions()),this.update(ue)}getOptions(){return this.options}update(ue={}){this.options=(0,w.Z)({},this.options,ue),this.rescale(ue)}rescale(ue){}}},29785:function(cn,Ne,A){"use strict";A.d(Ne,{V:function(){return se}});var w=A(96673),B=A(39429),ne=A(79572),ue=A(98882),j=A(88784),q=A(43552),Y=A(48478),K=A(91915);function H(ge,ye){const ve=ye<ge?ye:ge,fe=ge>ye?ge:ye;return Fe=>Math.min(Math.max(ve,Fe),fe)}const ae=(ge,ye,ve)=>{const[fe,Fe]=ge,[yt,gt]=ye;let pt,lt;return fe<Fe?(pt=(0,ne.I)(fe,Fe),lt=ve(yt,gt)):(pt=(0,ne.I)(Fe,fe),lt=ve(gt,yt)),(0,ue.q)(lt,pt)},ie=(ge,ye,ve)=>{const fe=Math.min(ge.length,ye.length)-1,Fe=new Array(fe),yt=new Array(fe),gt=ge[0]>ge[fe],pt=gt?[...ge].reverse():ge,lt=gt?[...ye].reverse():ye;for(let Ke=0;Ke<fe;Ke+=1)Fe[Ke]=(0,ne.I)(pt[Ke],pt[Ke+1]),yt[Ke]=ve(lt[Ke],lt[Ke+1]);return Ke=>{const Ue=(0,j.b)(ge,Ke,1,fe)-1,Pt=Fe[Ue],Gt=yt[Ue];return(0,ue.q)(Gt,Pt)(Ke)}},le=(ge,ye,ve,fe)=>{const yt=Math.min(ge.length,ye.length)>2?ie:ae,gt=fe?q.lk:ve;return yt(ge,ye,gt)};class se extends B.X{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:q.fv,tickCount:5}}map(ye){return(0,Y.J)(ye)?this.output(ye):this.options.unknown}invert(ye){return(0,Y.J)(ye)?this.input(ye):this.options.unknown}nice(){if(!this.options.nice)return;const[ye,ve,fe,...Fe]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(ye,ve,fe,...Fe)}getTicks(){const{tickMethod:ye}=this.options,[ve,fe,Fe,...yt]=this.getTickMethodOptions();return ye(ve,fe,Fe,...yt)}getTickMethodOptions(){const{domain:ye,tickCount:ve}=this.options,fe=ye[0],Fe=ye[ye.length-1];return[fe,Fe,ve]}chooseNice(){return K.n}rescale(){this.nice();const[ye,ve]=this.chooseTransforms();this.composeOutput(ye,this.chooseClamp(ye)),this.composeInput(ye,ve,this.chooseClamp(ve))}chooseClamp(ye){const{clamp:ve,range:fe}=this.options,Fe=this.options.domain.map(ye),yt=Math.min(Fe.length,fe.length);return ve?H(Fe[0],Fe[yt-1]):w.Z}composeOutput(ye,ve){const{domain:fe,range:Fe,round:yt,interpolate:gt}=this.options,pt=le(fe.map(ye),Fe,gt,yt);this.output=(0,ue.q)(pt,ve,ye)}composeInput(ye,ve,fe){const{domain:Fe,range:yt}=this.options,gt=le(yt,Fe.map(ye),q.fv);this.input=(0,ue.q)(ve,fe,gt)}}},88409:function(cn,Ne,A){"use strict";A.d(Ne,{b:function(){return j}});var w=A(96673),B=A(29785),ne=A(43552),ue=A(77341);class j extends B.V{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:ne.wp,tickMethod:ue.Z,tickCount:5}}chooseTransforms(){return[w.Z,w.Z]}clone(){return new j(this.options)}}},5733:function(cn,Ne,A){"use strict";A.d(Ne,{r:function(){return q},z:function(){return B}});var w=A(39429);const B=Symbol("defaultUnknown");function ne(Y,K,H){for(let ae=0;ae<K.length;ae+=1)Y.has(K[ae])||Y.set(H(K[ae]),ae)}function ue(Y){const{value:K,from:H,to:ae,mapper:ie,notFoundReturn:le}=Y;let se=ie.get(K);if(se===void 0){if(le!==B)return le;se=H.push(K)-1,ie.set(K,se)}return ae[se%ae.length]}function j(Y){return Y instanceof Date?K=>`${K}`:typeof Y=="object"?K=>JSON.stringify(K):K=>K}class q extends w.X{getDefaultOptions(){return{domain:[],range:[],unknown:B}}constructor(K){super(K)}map(K){return this.domainIndexMap.size===0&&ne(this.domainIndexMap,this.getDomain(),this.domainKey),ue({value:this.domainKey(K),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(K){return this.rangeIndexMap.size===0&&ne(this.rangeIndexMap,this.getRange(),this.rangeKey),ue({value:this.rangeKey(K),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(K){const[H]=this.options.domain,[ae]=this.options.range;if(this.domainKey=j(H),this.rangeKey=j(ae),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!K||K.range)&&this.rangeIndexMap.clear(),(!K||K.domain||K.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new q(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:K,compare:H}=this.options;return this.sortedDomain=H?[...K].sort(H):K,this.sortedDomain}}},77341:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});var w=A(5097);const B=(ne,ue,j)=>{let q,Y,K=ne,H=ue;if(K===H&&j>0)return[K];let ae=(0,w.G)(K,H,j);if(ae===0||!Number.isFinite(ae))return[];if(ae>0){K=Math.ceil(K/ae),H=Math.floor(H/ae),Y=new Array(q=Math.ceil(H-K+1));for(let ie=0;ie<q;ie+=1)Y[ie]=(K+ie)*ae}else{ae=-ae,K=Math.ceil(K*ae),H=Math.floor(H*ae),Y=new Array(q=Math.ceil(H-K+1));for(let ie=0;ie<q;ie+=1)Y[ie]=(K+ie)/ae}return Y}},88784:function(cn,Ne,A){"use strict";A.d(Ne,{b:function(){return w}});function w(B,ne,ue,j,q){let Y=ue||0,K=j||B.length;const H=q||(ae=>ae);for(;Y<K;){const ae=Math.floor((Y+K)/2);H(B[ae])>ne?K=ae:Y=ae+1}return Y}},98882:function(cn,Ne,A){"use strict";A.d(Ne,{q:function(){return w}});function w(B,...ne){return ne.reduce((ue,j)=>q=>ue(j(q)),B)}},91915:function(cn,Ne,A){"use strict";A.d(Ne,{n:function(){return B}});var w=A(5097);const B=(ne,ue,j=5)=>{const q=[ne,ue];let Y=0,K=q.length-1,H=q[Y],ae=q[K],ie;return ae<H&&([H,ae]=[ae,H],[Y,K]=[K,Y]),ie=(0,w.G)(H,ae,j),ie>0?(H=Math.floor(H/ie)*ie,ae=Math.ceil(ae/ie)*ie,ie=(0,w.G)(H,ae,j)):ie<0&&(H=Math.ceil(H*ie)/ie,ae=Math.floor(ae*ie)/ie,ie=(0,w.G)(H,ae,j)),ie>0?(q[Y]=Math.floor(H/ie)*ie,q[K]=Math.ceil(ae/ie)*ie):ie<0&&(q[Y]=Math.ceil(H*ie)/ie,q[K]=Math.floor(ae*ie)/ie),q}},43552:function(cn,Ne,A){"use strict";A.d(Ne,{fv:function(){return q},lk:function(){return H},wp:function(){return K}});var w=A(2489),B=A.n(w);function ne(ae,ie,le){let se=le;return se<0&&(se+=1),se>1&&(se-=1),se<1/6?ae+(ie-ae)*6*se:se<1/2?ie:se<2/3?ae+(ie-ae)*(2/3-se)*6:ae}function ue(ae){const ie=ae[0]/360,le=ae[1]/100,se=ae[2]/100,ge=ae[3];if(le===0)return[se*255,se*255,se*255,ge];const ye=se<.5?se*(1+le):se+le-se*le,ve=2*se-ye,fe=ne(ve,ye,ie+1/3),Fe=ne(ve,ye,ie),yt=ne(ve,ye,ie-1/3);return[fe*255,Fe*255,yt*255,ge]}function j(ae){const ie=B().get(ae);if(!ie)return null;const{model:le,value:se}=ie;return le==="rgb"?se:le==="hsl"?ue(se):null}const q=(ae,ie)=>le=>ae*(1-le)+ie*le,Y=(ae,ie)=>{const le=j(ae),se=j(ie);return le===null||se===null?le?()=>ae:()=>ie:ge=>{const ye=new Array(4);for(let gt=0;gt<4;gt+=1){const pt=le[gt],lt=se[gt];ye[gt]=pt*(1-ge)+lt*ge}const[ve,fe,Fe,yt]=ye;return`rgba(${Math.round(ve)}, ${Math.round(fe)}, ${Math.round(Fe)}, ${yt})`}},K=(ae,ie)=>typeof ae=="number"&&typeof ie=="number"?q(ae,ie):typeof ae=="string"&&typeof ie=="string"?Y(ae,ie):()=>ae,H=(ae,ie)=>{const le=q(ae,ie);return se=>Math.round(le(se))}},48478:function(cn,Ne,A){"use strict";A.d(Ne,{J:function(){return ne}});var w=A(49025);function B(ue){return ue===null}function ne(ue){return!(0,w.Z)(ue)&&!B(ue)&&!Number.isNaN(ue)}},79572:function(cn,Ne,A){"use strict";A.d(Ne,{I:function(){return w}});function w(B,ne){return ne-B?ue=>(ue-B)/(ne-B):ue=>.5}},5097:function(cn,Ne,A){"use strict";A.d(Ne,{G:function(){return ue},l:function(){return j}});const w=Math.sqrt(50),B=Math.sqrt(10),ne=Math.sqrt(2);function ue(q,Y,K){const H=(Y-q)/Math.max(0,K),ae=Math.floor(Math.log(H)/Math.LN10),ie=H/p0(10,ae);return ae>=0?(ie>=w?10:ie>=B?5:ie>=ne?2:1)*p0(10,ae):-p0(10,-ae)/(ie>=w?10:ie>=B?5:ie>=ne?2:1)}function j(q,Y,K){const H=Math.abs(Y-q)/Math.max(0,K);let ae=p0(10,Math.floor(Math.log(H)/Math.LN10));const ie=H/ae;return ie>=w?ae*=10:ie>=B?ae*=5:ie>=ne&&(ae*=2),Y<q?-ae:ae}},69499:function(cn,Ne,A){"use strict";A.d(Ne,{d9:function(){return St},kJ:function(){return j},jn:function(){return Gn},Xy:function(){return Gi},mf:function(){return ue},hj:function(){return Nr},Kn:function(){return q},PO:function(){return ve},HD:function(){return zt},o8:function(){return or},CE:function(){return on},jj:function(){return Xe},EL:function(){return jn}});var w={}.toString,B=function(mt,vn){return w.call(mt)==="[object "+vn+"]"},ne=B,ue=function(mt){return ne(mt,"Function")},j=function(mt){return Array.isArray?Array.isArray(mt):ne(mt,"Array")},q=function(mt){var vn=typeof mt;return mt!==null&&vn==="object"||vn==="function"};function Y(mt,vn){if(mt){var tr;if(j(mt))for(var Mr=0,ui=mt.length;Mr<ui&&(tr=vn(mt[Mr],Mr),tr!==!1);Mr++);else if(q(mt)){for(var Ri in mt)if(mt.hasOwnProperty(Ri)&&(tr=vn(mt[Ri],Ri),tr===!1))break}}}var K=Y,H=Object.keys?function(mt){return Object.keys(mt)}:function(mt){var vn=[];return K(mt,function(tr,Mr){ue(mt)&&Mr==="prototype"||vn.push(Mr)}),vn},ae=null;function ie(mt,vn){var tr=keys(vn),Mr=tr.length;if(isNil(mt))return!Mr;for(var ui=0;ui<Mr;ui+=1){var Ri=tr[ui];if(vn[Ri]!==mt[Ri]||!(Ri in mt))return!1}return!0}var le=null,se=function(mt){return typeof mt=="object"&&mt!==null},ge=se,ye=function(mt){if(!ge(mt)||!ne(mt,"Object"))return!1;if(Object.getPrototypeOf(mt)===null)return!0;for(var vn=mt;Object.getPrototypeOf(vn)!==null;)vn=Object.getPrototypeOf(vn);return Object.getPrototypeOf(mt)===vn},ve=ye;function fe(mt,vn){if(!isArray(mt))return null;var tr;if(isFunction(vn)&&(tr=vn),isPlainObject(vn)&&(tr=function(ui){return isMatch(ui,vn)}),tr){for(var Mr=0;Mr<mt.length;Mr+=1)if(tr(mt[Mr]))return mt[Mr]}return null}var Fe=null,yt=function(mt,vn){for(var tr=null,Mr=0;Mr<mt.length;Mr++){var ui=mt[Mr],Ri=ui[vn];if(!isNil(Ri)){isArray(Ri)?tr=Ri[0]:tr=Ri;break}}return tr},gt=null,pt=function(mt){if(!isArray(mt))return[];for(var vn=[],tr=0;tr<mt.length;tr++)vn=vn.concat(mt[tr]);return vn},lt=null,Ke=function(mt,vn){if(vn===void 0&&(vn=[]),!isArray(mt))vn.push(mt);else for(var tr=0;tr<mt.length;tr+=1)Ke(mt[tr],vn);return vn},Ue=null,Pt=function(mt){if(isArray(mt))return mt.reduce(function(vn,tr){return Math.max(vn,tr)},mt[0])},Gt=function(mt){if(isArray(mt))return mt.reduce(function(vn,tr){return Math.min(vn,tr)},mt[0])},rn=function(mt){var vn=mt.filter(function(Aa){return!isNaN(Aa)});if(!vn.length)return{min:0,max:0};if(isArray(mt[0])){for(var tr=[],Mr=0;Mr<mt.length;Mr++)tr=tr.concat(mt[Mr]);vn=tr}var ui=getMax(vn),Ri=getMin(vn);return{min:Ri,max:ui}},_n=null,qe=Array.prototype,Nt=qe.splice,ft=qe.indexOf,ln=function(mt){for(var vn=[],tr=1;tr<arguments.length;tr++)vn[tr-1]=arguments[tr];for(var Mr=0;Mr<vn.length;Mr++)for(var ui=vn[Mr],Ri=-1;(Ri=ft.call(mt,ui))>-1;)Nt.call(mt,Ri,1);return mt},tt=null,Pe=Array.prototype.splice,Qe=function(vn,tr){if(!isArrayLike(vn))return[];for(var Mr=vn?tr.length:0,ui=Mr-1;Mr--;){var Ri=void 0,Aa=tr[Mr];(Mr===ui||Aa!==Ri)&&(Ri=Aa,Pe.call(vn,Aa,1))}return vn},He=null,_t=function(mt,vn,tr){if(!j(mt)&&!ve(mt))return mt;var Mr=tr;return K(mt,function(ui,Ri){Mr=vn(Mr,ui,Ri)}),Mr},Bt=_t,At=function(mt,vn){var tr=[];if(!isArrayLike(mt))return tr;for(var Mr=-1,ui=[],Ri=mt.length;++Mr<Ri;){var Aa=mt[Mr];vn(Aa,Mr,mt)&&(tr.push(Aa),ui.push(Mr))}return pullAt(mt,ui),tr},Je=null,zt=function(mt){return ne(mt,"String")};function mn(mt,vn){var tr;if(isFunction(vn))tr=function(ui,Ri){return vn(ui)-vn(Ri)};else{var Mr=[];isString(vn)?Mr.push(vn):isArray(vn)&&(Mr=vn),tr=function(ui,Ri){for(var Aa=0;Aa<Mr.length;Aa+=1){var Ga=Mr[Aa];if(ui[Ga]>Ri[Ga])return 1;if(ui[Ga]<Ri[Ga])return-1}return 0}}return mt.sort(tr),mt}var Ot=null;function Xe(mt,vn){vn===void 0&&(vn=new Map);var tr=[];if(Array.isArray(mt))for(var Mr=0,ui=mt.length;Mr<ui;Mr++){var Ri=mt[Mr];vn.has(Ri)||(tr.push(Ri),vn.set(Ri,!0))}return tr}var ct=function(mt,vn){for(var tr=[],Mr={},ui=0;ui<mt.length;ui++){var Ri=mt[ui],Aa=Ri[vn];if(!isNil(Aa)){isArray(Aa)||(Aa=[Aa]);for(var Ga=0;Ga<Aa.length;Ga++){var vo=Aa[Ga];Mr[vo]||(tr.push(vo),Mr[vo]=!0)}}}return tr};function Rt(mt,vn){return isArray(mt)||isString(mt)?mt[0]===vn:!1}var Oe=null;function Ge(mt,vn){return isArray(mt)||isString(mt)?mt[mt.length-1]===vn:!1}var Vt=null,De=Object.prototype.hasOwnProperty;function et(mt,vn){if(!vn||!isArray(mt))return{};for(var tr={},Mr=isFunction(vn)?vn:function(Ga){return Ga[vn]},ui,Ri=0;Ri<mt.length;Ri++){var Aa=mt[Ri];ui=Mr(Aa),De.call(tr,ui)?tr[ui].push(Aa):tr[ui]=[Aa]}return tr}var Ce=null;function J(mt,vn){if(!vn)return{0:mt};if(!isFunction(vn)){var tr=isArray(vn)?vn:vn.replace(/\s+/g,"").split("*");vn=function(Mr){for(var ui="_",Ri=0,Aa=tr.length;Ri<Aa;Ri++)ui+=Mr[tr[Ri]]&&Mr[tr[Ri]].toString();return ui}}return groupBy(mt,vn)}var Le=function(mt,vn){if(!vn)return[mt];var tr=groupToMap(mt,vn),Mr=[];for(var ui in tr)Mr.push(tr[ui]);return Mr},Jt={};function Be(mt){var vn=Jt[mt];if(!vn){for(var tr=mt.toString(16),Mr=tr.length;Mr<6;Mr++)tr="0"+tr;vn="#"+tr,Jt[mt]=vn}return vn}var In=null;function cr(mt){var vn=0,tr=0,Mr=0,ui=0;return isArray(mt)?mt.length===1?vn=tr=Mr=ui=mt[0]:mt.length===2?(vn=Mr=mt[0],tr=ui=mt[1]):mt.length===3?(vn=mt[0],tr=ui=mt[1],Mr=mt[2]):(vn=mt[0],tr=mt[1],Mr=mt[2],ui=mt[3]):vn=tr=Mr=ui=mt,{r1:vn,r2:tr,r3:Mr,r4:ui}}var bn=null,ir=function(mt){return ne(mt,"Number")},Nr=ir,Ar=function(mt){return isNumber(mt)&&mt%1!==0},Zr=null,wi=function(mt){return isNumber(mt)&&mt%2===0},Ln=null,Nn=Number.isInteger?Number.isInteger:function(mt){return Nr(mt)&&mt%1===0},$n=null,wn=function(mt){return isNumber(mt)&&mt<0},nt=null,ze=function(mt){return isNumber(mt)&&mt%2!==0},vt=null,$t=function(mt){return isNumber(mt)&&mt>0},gn=null,at=function(mt,vn){if(isArray(mt)){for(var tr,Mr=-1/0,ui=0;ui<mt.length;ui++){var Ri=mt[ui],Aa=isFunction(vn)?vn(Ri):Ri[vn];Aa>Mr&&(tr=Ri,Mr=Aa)}return tr}},an=function(mt,vn){if(isArray(mt)){for(var tr,Mr=1/0,ui=0;ui<mt.length;ui++){var Ri=mt[ui],Aa=isFunction(vn)?vn(Ri):Ri[vn];Aa<Mr&&(tr=Ri,Mr=Aa)}return tr}},hn=180/Math.PI,pr=function(mt){return hn*mt},ur=null,pi=Math.PI/180,ar=function(mt){return pi*mt},di=null,sa=null,xa=Object.values?function(mt){return Object.values(mt)}:function(mt){var vn=[];return K(mt,function(tr,Mr){ue(mt)&&Mr==="prototype"||vn.push(tr)}),vn},za=xa,Ui=function(mt,vn){return contains(values(mt),vn)},Ao={}.toString,fs=function(mt){return Ao.call(mt).replace(/^\[object /,"").replace(/]$/,"")},cs=null,ra=function(mt){return isType(mt,"Arguments")},ms=null,xi=function(mt){return ne(mt,"Boolean")},Gn=xi,_e=function(mt){return isType(mt,"Date")},oi=null,Ka=function(mt){return isType(mt,"Error")},Cn=null;function Un(mt){return isNumber(mt)&&isFinite(mt)}var tn=Object.prototype,It=function(mt){var vn=mt&&mt.constructor,tr=typeof vn=="function"&&vn.prototype||tn;return mt===tr},Zt=null,$e=function(mt){return isType(mt,"RegExp")},Bn=null,Yn=function(mt){return mt===void 0},or=Yn,Ze=function(){for(var mt=[],vn=0;vn<arguments.length;vn++)mt[vn]=arguments[vn];for(var tr=mt[0],Mr=1;Mr<mt.length;Mr++){var ui=mt[Mr];isFunction(ui)&&(ui=ui.prototype),mix(tr.prototype,ui)}},je=null,st=function(mt){if(typeof mt!="object"||mt===null)return mt;var vn;if(j(mt)){vn=[];for(var tr=0,Mr=mt.length;tr<Mr;tr++)typeof mt[tr]=="object"&&mt[tr]!=null?vn[tr]=st(mt[tr]):vn[tr]=mt[tr]}else{vn={};for(var ui in mt)typeof mt[ui]=="object"&&mt[ui]!=null?vn[ui]=st(mt[ui]):vn[ui]=mt[ui]}return vn},St=st,En=function(mt,vn){if(!ue(mt))throw new TypeError("Expected a function");var tr=function(){for(var Mr=[],ui=0;ui<arguments.length;ui++)Mr[ui]=arguments[ui];var Ri=vn?vn.apply(this,Mr):Mr[0],Aa=tr.cache;if(Aa.has(Ri))return Aa.get(Ri);var Ga=mt.apply(this,Mr);return Aa.set(Ri,Ga),Ga};return tr.cache=new Map,tr},fn=5;function sn(mt,vn,tr,Mr){tr=tr||0,Mr=Mr||fn;for(var ui in vn)if(vn.hasOwnProperty(ui)){var Ri=vn[ui];Ri!==null&&isPlainObject(Ri)?(isPlainObject(mt[ui])||(mt[ui]={}),tr<Mr?sn(mt[ui],Ri,tr+1,Mr):mt[ui]=vn[ui]):isArray(Ri)?(mt[ui]=[],mt[ui]=mt[ui].concat(Ri)):Ri!==void 0&&(mt[ui]=Ri)}}var Pn=function(mt){for(var vn=[],tr=1;tr<arguments.length;tr++)vn[tr-1]=arguments[tr];for(var Mr=0;Mr<vn.length;Mr+=1)sn(mt,vn[Mr]);return mt},Hn=null,Ut=function(mt,vn,tr,Mr){isFunction(vn)||(tr=vn,vn=mt,mt=function(){});var ui=Object.create?function(Aa,Ga){return Object.create(Aa,{constructor:{value:Ga}})}:function(Aa,Ga){function vo(){}vo.prototype=Aa;var To=new vo;return To.constructor=Ga,To},Ri=ui(vn.prototype,mt);return mt.prototype=mix(Ri,mt.prototype),mt.superclass=ui(vn.prototype,vn),mix(Ri,tr),mix(mt,Mr),mt},Yt=null,Xt=Object.prototype.hasOwnProperty;function jt(mt){if(isNil(mt))return!0;if(isArrayLike(mt))return!mt.length;var vn=getType(mt);if(vn==="Map"||vn==="Set")return!mt.size;if(isPrototype(mt))return!Object.keys(mt).length;for(var tr in mt)if(Xt.call(mt,tr))return!1;return!0}var fr=null,vr=function(mt){return mt!==null&&typeof mt!="function"&&isFinite(mt.length)},yr=vr,Br=function(mt,vn){if(mt===vn)return!0;if(!mt||!vn||zt(mt)||zt(vn))return!1;if(yr(mt)||yr(vn)){if(mt.length!==vn.length)return!1;for(var tr=!0,Mr=0;Mr<mt.length&&(tr=Br(mt[Mr],vn[Mr]),!!tr);Mr++);return tr}if(ge(mt)||ge(vn)){var ui=Object.keys(mt),Ri=Object.keys(vn);if(ui.length!==Ri.length)return!1;for(var tr=!0,Mr=0;Mr<ui.length&&(tr=Br(mt[ui[Mr]],vn[ui[Mr]]),!!tr);Mr++);return tr}return!1},Gi=Br,qi=function(mt,vn,tr){return isFunction(tr)?!!tr(mt,vn):isEqual(mt,vn)},$i=function(mt,vn,tr){for(var Mr=0,ui=isString(vn)?vn.split("."):vn;mt&&Mr<ui.length;)mt=mt[ui[Mr++]];return mt===void 0||Mr<ui.length?tr:mt},Wi=function(mt,vn,tr){var Mr=mt,ui=isString(vn)?vn.split("."):vn;return ui.forEach(function(Ri,Aa){Aa<ui.length-1?(isObject(Mr[Ri])||(Mr[Ri]=isNumber(ui[Aa+1])?[]:{}),Mr=Mr[Ri]):Mr[Ri]=tr}),mt},Ii=Object.prototype.hasOwnProperty,Qa=function(mt,vn){if(mt===null||!isPlainObject(mt))return{};var tr={};return each(vn,function(Mr){Ii.call(mt,Mr)&&(tr[Mr]=mt[Mr])}),tr},on=function(mt,vn){return Bt(mt,function(tr,Mr,ui){return vn.includes(ui)||(tr[ui]=Mr),tr},{})},dn={},jn=function(mt){return mt=mt||"g",dn[mt]?dn[mt]+=1:dn[mt]=1,mt+dn[mt]},Ur=A(15767),Yr,Et=En(function(mt,vn){vn===void 0&&(vn={});var tr=vn.fontSize,Mr=vn.fontFamily,ui=vn.fontWeight,Ri=vn.fontStyle,Aa=vn.fontVariant;return Yr||(Yr=document.createElement("canvas").getContext("2d")),Yr.font=[Ri,Aa,ui,tr+"px",Mr].join(" "),Yr.measureText(zt(mt)?mt:"").width},function(mt,vn){return vn===void 0&&(vn={}),(0,Ur.pr)([mt],za(vn)).join("")}),Ct=function(mt,vn,tr,Mr){Mr===void 0&&(Mr="...");var ui=16,Ri=measureTextWidth(Mr,tr),Aa=isString(mt)?mt:toString(mt),Ga=vn,vo=[],To,Po;if(measureTextWidth(mt,tr)<=vn)return mt;for(;To=Aa.substr(0,ui),Po=measureTextWidth(To,tr),!(Po+Ri>Ga&&Po>Ga);)if(vo.push(To),Ga-=Po,Aa=Aa.substr(ui),!Aa)return vo.join("");for(;To=Aa.substr(0,1),Po=measureTextWidth(To,tr),!(Po+Ri>Ga);)if(vo.push(To),Ga-=Po,Aa=Aa.substr(1),!Aa)return vo.join("");return""+vo.join("")+Mr},xn=function(){function mt(){this.map={}}return mt.prototype.has=function(vn){return this.map[vn]!==void 0},mt.prototype.get=function(vn,tr){var Mr=this.map[vn];return Mr===void 0?tr:Mr},mt.prototype.set=function(vn,tr){this.map[vn]=tr},mt.prototype.clear=function(){this.map={}},mt.prototype.delete=function(vn){delete this.map[vn]},mt.prototype.size=function(){return Object.keys(this.map).length},mt}(),Xn=null},30853:function(cn,Ne,A){"use strict";A.d(Ne,{L:function(){return w}});function w(B){var ne=document.createElement("div");ne.innerHTML=B;var ue=ne.childNodes[0];return ue&&ne.contains(ue)&&ne.removeChild(ue),ue}},63777:function(cn,Ne){"use strict";var A=function(w,B,ne){return w<B?B:w>ne?ne:w};Ne.Z=A},99860:function(cn,Ne){"use strict";function A(w,B,ne){var ue;return function(){var j=this,q=arguments,Y=function(){ue=null,ne||w.apply(j,q)},K=ne&&!ue;clearTimeout(ue),ue=setTimeout(Y,B),K&&w.apply(j,q)}}Ne.Z=A},13639:function(cn,Ne,A){"use strict";var w=A(65443),B=function(ne,ue){if(!(0,w.Z)(ne))return ne;for(var j=[],q=0;q<ne.length;q++){var Y=ne[q];ue(Y,q)&&j.push(Y)}return j};Ne.Z=B},85695:function(cn,Ne,A){"use strict";var w=A(43706);Ne.Z=function(B,ne,ue){for(var j=0,q=(0,w.Z)(ne)?ne.split("."):ne;B&&j<q.length;)B=B[q[j++]];return B===void 0||j<q.length?ue:B}},96673:function(cn,Ne){"use strict";Ne.Z=function(A){return A}},65443:function(cn,Ne){"use strict";var A=function(w){return w!==null&&typeof w!="function"&&isFinite(w.length)};Ne.Z=A},29348:function(cn,Ne,A){"use strict";var w=A(16700),B=function(ne){return(0,w.Z)(ne,"Boolean")};Ne.Z=B},87314:function(cn,Ne,A){"use strict";var w=A(6358),B=A(65443),ne=A(43706),ue=function(j,q){if(j===q)return!0;if(!j||!q||(0,ne.Z)(j)||(0,ne.Z)(q))return!1;if((0,B.Z)(j)||(0,B.Z)(q)){if(j.length!==q.length)return!1;for(var Y=!0,K=0;K<j.length&&(Y=ue(j[K],q[K]),!!Y);K++);return Y}if((0,w.Z)(j)||(0,w.Z)(q)){var H=Object.keys(j),ae=Object.keys(q);if(H.length!==ae.length)return!1;for(var Y=!0,K=0;K<H.length&&(Y=ue(j[H[K]],q[H[K]]),!!Y);K++);return Y}return!1};Ne.Z=ue},95177:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});var w=1e-5;function B(ne,ue,j){return j===void 0&&(j=w),ne===ue||Math.abs(ne-ue)<j}},49025:function(cn,Ne){"use strict";var A=function(w){return w===void 0};Ne.Z=A},76109:function(cn,Ne,A){"use strict";var w=A(94785),B=function(ne){var ue=(0,w.Z)(ne);return ue.charAt(0).toLowerCase()+ue.substring(1)};Ne.Z=B},16510:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return w}});function w(B){if(!Array.isArray(B))return-1/0;var ne=B.length;if(!ne)return-1/0;for(var ue=B[0],j=1;j<ne;j++)ue=Math.max(ue,B[j]);return ue}},91391:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return ne}});function w(ue){var j,q,Y,K=ue||1;function H(ie,le){++j>K&&(Y=q,ae(1),++j),q[ie]=le}function ae(ie){j=0,q=Object.create(null),ie||(Y=Object.create(null))}return ae(),{clear:ae,has:function(ie){return q[ie]!==void 0||Y[ie]!==void 0},get:function(ie){var le=q[ie];if(le!==void 0)return le;if((le=Y[ie])!==void 0)return H(ie,le),le},set:function(ie,le){q[ie]!==void 0?q[ie]=le:H(ie,le)}}}var B=new Map;function ne(ue,j,q){q===void 0&&(q=128);var Y=function(){for(var K=[],H=0;H<arguments.length;H++)K[H]=arguments[H];var ae=j?j.apply(this,K):K[0];B.has(ue)||B.set(ue,w(q));var ie=B.get(ue);if(ie.has(ae))return ie.get(ae);var le=ue.apply(this,K);return ie.set(ae,le),le};return Y}},45481:function(cn,Ne,A){"use strict";var w=A(18814);Ne.Z=function(B){if((0,w.Z)(B))return B.reduce(function(ne,ue){return Math.min(ne,ue)},B[0])}},73959:function(cn,Ne,A){"use strict";var w=A(44591);Ne.Z=function(B,ne){return(0,w.Z)(B,function(ue,j,q){return ne.includes(q)||(ue[q]=j),ue},{})}},44591:function(cn,Ne,A){"use strict";var w=A(80821),B=A(18814),ne=A(37090),ue=function(j,q,Y){if(!(0,B.Z)(j)&&!(0,ne.Z)(j))return j;var K=Y;return(0,w.Z)(j,function(H,ae){K=q(K,H,ae)}),K};Ne.Z=ue},58871:function(cn,Ne,A){"use strict";var w=A(48758),B=A(43706),ne=A(22355);Ne.Z=function(ue,j,q){var Y=ue,K=(0,B.Z)(j)?j.split("."):j;return K.forEach(function(H,ae){ae<K.length-1?((0,w.Z)(Y[H])||(Y[H]=(0,ne.Z)(K[ae+1])?[]:{}),Y=Y[H]):Y[H]=q}),ue}},2170:function(cn,Ne){"use strict";Ne.Z=function(A,w,B){var ne,ue,j,q,Y=0;B||(B={});var K=function(){Y=B.leading===!1?0:Date.now(),ne=null,q=A.apply(ue,j),ne||(ue=j=null)},H=function(){var ae=Date.now();!Y&&B.leading===!1&&(Y=ae);var ie=w-(ae-Y);return ue=this,j=arguments,ie<=0||ie>w?(ne&&(clearTimeout(ne),ne=null),Y=ae,q=A.apply(ue,j),ne||(ue=j=null)):!ne&&B.trailing!==!1&&(ne=setTimeout(K,ie)),q};return H.cancel=function(){clearTimeout(ne),Y=0,ne=ue=j=null},H}},94785:function(cn,Ne,A){"use strict";var w=A(54663);Ne.Z=function(B){return(0,w.Z)(B)?"":B.toString()}},70373:function(cn,Ne,A){"use strict";var w=A(94785),B=function(ne){var ue=(0,w.Z)(ne);return ue.charAt(0).toUpperCase()+ue.substring(1)};Ne.Z=B},40044:function(cn,Ne,A){"use strict";A.d(Ne,{W:function(){return B}});function w(ne,ue,j){var q=ne*Math.cos(j)-ue*Math.sin(j),Y=ne*Math.sin(j)+ue*Math.cos(j);return{x:q,y:Y}}function B(ne,ue,j,q,Y,K,H,ae,ie,le){var se=ne,ge=ue,ye=j,ve=q,fe=ae,Fe=ie,yt=Math.PI*120/180,gt=Math.PI/180*(+Y||0),pt=[],lt,Ke,Ue,Pt,Gt;if(le)Ke=le[0],Ue=le[1],Pt=le[2],Gt=le[3];else{lt=w(se,ge,-gt),se=lt.x,ge=lt.y,lt=w(fe,Fe,-gt),fe=lt.x,Fe=lt.y;var rn=(se-fe)/2,_n=(ge-Fe)/2,qe=rn*rn/(ye*ye)+_n*_n/(ve*ve);qe>1&&(qe=Math.sqrt(qe),ye*=qe,ve*=qe);var Nt=ye*ye,ft=ve*ve,ln=(K===H?-1:1)*Math.sqrt(Math.abs((Nt*ft-Nt*_n*_n-ft*rn*rn)/(Nt*_n*_n+ft*rn*rn)));Pt=ln*ye*_n/ve+(se+fe)/2,Gt=ln*-ve*rn/ye+(ge+Fe)/2,Ke=Math.asin(((ge-Gt)/ve*Math.pow(10,9)>>0)/Math.pow(10,9)),Ue=Math.asin(((Fe-Gt)/ve*Math.pow(10,9)>>0)/Math.pow(10,9)),Ke=se<Pt?Math.PI-Ke:Ke,Ue=fe<Pt?Math.PI-Ue:Ue,Ke<0&&(Ke=Math.PI*2+Ke),Ue<0&&(Ue=Math.PI*2+Ue),H&&Ke>Ue&&(Ke-=Math.PI*2),!H&&Ue>Ke&&(Ue-=Math.PI*2)}var tt=Ue-Ke;if(Math.abs(tt)>yt){var Pe=Ue,Qe=fe,He=Fe;Ue=Ke+yt*(H&&Ue>Ke?1:-1),fe=Pt+ye*Math.cos(Ue),Fe=Gt+ve*Math.sin(Ue),pt=B(fe,Fe,ye,ve,Y,0,H,Qe,He,[Ue,Pe,Pt,Gt])}tt=Ue-Ke;var _t=Math.cos(Ke),Bt=Math.sin(Ke),At=Math.cos(Ue),Je=Math.sin(Ue),zt=Math.tan(tt/4),mn=4/3*ye*zt,Ot=4/3*ve*zt,Xe=[se,ge],ct=[se+mn*Bt,ge-Ot*_t],Rt=[fe+mn*Je,Fe-Ot*At],Oe=[fe,Fe];if(ct[0]=2*Xe[0]-ct[0],ct[1]=2*Xe[1]-ct[1],le)return ct.concat(Rt,Oe,pt);pt=ct.concat(Rt,Oe,pt);for(var Ge=[],Vt=0,De=pt.length;Vt<De;Vt+=1)Ge[Vt]=Vt%2?w(pt[Vt-1],pt[Vt],gt).y:w(pt[Vt],pt[Vt+1],gt).x;return Ge}},73218:function(cn,Ne,A){"use strict";A.d(Ne,{y:function(){return w}});function w(B,ne){return Math.sqrt((B[0]-ne[0])*(B[0]-ne[0])+(B[1]-ne[1])*(B[1]-ne[1]))}},96299:function(cn,Ne,A){"use strict";A.d(Ne,{T6:function(){return le},VD:function(){return se},WE:function(){return Y},Yt:function(){return ge},lC:function(){return ne},py:function(){return q},rW:function(){return B},s:function(){return H},ve:function(){return j},vq:function(){return K}});var w=A(23881);function B(ye,ve,fe){return{r:(0,w.sh)(ye,255)*255,g:(0,w.sh)(ve,255)*255,b:(0,w.sh)(fe,255)*255}}function ne(ye,ve,fe){ye=(0,w.sh)(ye,255),ve=(0,w.sh)(ve,255),fe=(0,w.sh)(fe,255);var Fe=Math.max(ye,ve,fe),yt=Math.min(ye,ve,fe),gt=0,pt=0,lt=(Fe+yt)/2;if(Fe===yt)pt=0,gt=0;else{var Ke=Fe-yt;switch(pt=lt>.5?Ke/(2-Fe-yt):Ke/(Fe+yt),Fe){case ye:gt=(ve-fe)/Ke+(ve<fe?6:0);break;case ve:gt=(fe-ye)/Ke+2;break;case fe:gt=(ye-ve)/Ke+4;break;default:break}gt/=6}return{h:gt,s:pt,l:lt}}function ue(ye,ve,fe){return fe<0&&(fe+=1),fe>1&&(fe-=1),fe<1/6?ye+(ve-ye)*(6*fe):fe<1/2?ve:fe<2/3?ye+(ve-ye)*(2/3-fe)*6:ye}function j(ye,ve,fe){var Fe,yt,gt;if(ye=(0,w.sh)(ye,360),ve=(0,w.sh)(ve,100),fe=(0,w.sh)(fe,100),ve===0)yt=fe,gt=fe,Fe=fe;else{var pt=fe<.5?fe*(1+ve):fe+ve-fe*ve,lt=2*fe-pt;Fe=ue(lt,pt,ye+1/3),yt=ue(lt,pt,ye),gt=ue(lt,pt,ye-1/3)}return{r:Fe*255,g:yt*255,b:gt*255}}function q(ye,ve,fe){ye=(0,w.sh)(ye,255),ve=(0,w.sh)(ve,255),fe=(0,w.sh)(fe,255);var Fe=Math.max(ye,ve,fe),yt=Math.min(ye,ve,fe),gt=0,pt=Fe,lt=Fe-yt,Ke=Fe===0?0:lt/Fe;if(Fe===yt)gt=0;else{switch(Fe){case ye:gt=(ve-fe)/lt+(ve<fe?6:0);break;case ve:gt=(fe-ye)/lt+2;break;case fe:gt=(ye-ve)/lt+4;break;default:break}gt/=6}return{h:gt,s:Ke,v:pt}}function Y(ye,ve,fe){ye=(0,w.sh)(ye,360)*6,ve=(0,w.sh)(ve,100),fe=(0,w.sh)(fe,100);var Fe=Math.floor(ye),yt=ye-Fe,gt=fe*(1-ve),pt=fe*(1-yt*ve),lt=fe*(1-(1-yt)*ve),Ke=Fe%6,Ue=[fe,pt,gt,gt,lt,fe][Ke],Pt=[lt,fe,fe,pt,gt,gt][Ke],Gt=[gt,gt,lt,fe,fe,pt][Ke];return{r:Ue*255,g:Pt*255,b:Gt*255}}function K(ye,ve,fe,Fe){var yt=[(0,w.FZ)(Math.round(ye).toString(16)),(0,w.FZ)(Math.round(ve).toString(16)),(0,w.FZ)(Math.round(fe).toString(16))];return Fe&&yt[0].startsWith(yt[0].charAt(1))&&yt[1].startsWith(yt[1].charAt(1))&&yt[2].startsWith(yt[2].charAt(1))?yt[0].charAt(0)+yt[1].charAt(0)+yt[2].charAt(0):yt.join("")}function H(ye,ve,fe,Fe,yt){var gt=[(0,w.FZ)(Math.round(ye).toString(16)),(0,w.FZ)(Math.round(ve).toString(16)),(0,w.FZ)(Math.round(fe).toString(16)),(0,w.FZ)(ie(Fe))];return yt&&gt[0].startsWith(gt[0].charAt(1))&&gt[1].startsWith(gt[1].charAt(1))&&gt[2].startsWith(gt[2].charAt(1))&&gt[3].startsWith(gt[3].charAt(1))?gt[0].charAt(0)+gt[1].charAt(0)+gt[2].charAt(0)+gt[3].charAt(0):gt.join("")}function ae(ye,ve,fe,Fe){var yt=[pad2(ie(Fe)),pad2(Math.round(ye).toString(16)),pad2(Math.round(ve).toString(16)),pad2(Math.round(fe).toString(16))];return yt.join("")}function ie(ye){return Math.round(parseFloat(ye)*255).toString(16)}function le(ye){return se(ye)/255}function se(ye){return parseInt(ye,16)}function ge(ye){return{r:ye>>16,g:(ye&65280)>>8,b:ye&255}}},76367:function(cn,Ne,A){"use strict";A.d(Ne,{R:function(){return w}});var w={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},28556:function(cn,Ne,A){"use strict";A.d(Ne,{uA:function(){return ue}});var w=A(96299),B=A(76367),ne=A(23881);function ue(se){var ge={r:0,g:0,b:0},ye=1,ve=null,fe=null,Fe=null,yt=!1,gt=!1;return typeof se=="string"&&(se=ie(se)),typeof se=="object"&&(le(se.r)&&le(se.g)&&le(se.b)?(ge=(0,w.rW)(se.r,se.g,se.b),yt=!0,gt=String(se.r).substr(-1)==="%"?"prgb":"rgb"):le(se.h)&&le(se.s)&&le(se.v)?(ve=(0,ne.JX)(se.s),fe=(0,ne.JX)(se.v),ge=(0,w.WE)(se.h,ve,fe),yt=!0,gt="hsv"):le(se.h)&&le(se.s)&&le(se.l)&&(ve=(0,ne.JX)(se.s),Fe=(0,ne.JX)(se.l),ge=(0,w.ve)(se.h,ve,Fe),yt=!0,gt="hsl"),Object.prototype.hasOwnProperty.call(se,"a")&&(ye=se.a)),ye=(0,ne.Yq)(ye),{ok:yt,format:se.format||gt,r:Math.min(255,Math.max(ge.r,0)),g:Math.min(255,Math.max(ge.g,0)),b:Math.min(255,Math.max(ge.b,0)),a:ye}}var j="[-\\+]?\\d+%?",q="[-\\+]?\\d*\\.\\d+%?",Y="(?:".concat(q,")|(?:").concat(j,")"),K="[\\s|\\(]+(".concat(Y,")[,|\\s]+(").concat(Y,")[,|\\s]+(").concat(Y,")\\s*\\)?"),H="[\\s|\\(]+(".concat(Y,")[,|\\s]+(").concat(Y,")[,|\\s]+(").concat(Y,")[,|\\s]+(").concat(Y,")\\s*\\)?"),ae={CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+K),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+K),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+K),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ie(se){if(se=se.trim().toLowerCase(),se.length===0)return!1;var ge=!1;if(B.R[se])se=B.R[se],ge=!0;else if(se==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ye=ae.rgb.exec(se);return ye?{r:ye[1],g:ye[2],b:ye[3]}:(ye=ae.rgba.exec(se),ye?{r:ye[1],g:ye[2],b:ye[3],a:ye[4]}:(ye=ae.hsl.exec(se),ye?{h:ye[1],s:ye[2],l:ye[3]}:(ye=ae.hsla.exec(se),ye?{h:ye[1],s:ye[2],l:ye[3],a:ye[4]}:(ye=ae.hsv.exec(se),ye?{h:ye[1],s:ye[2],v:ye[3]}:(ye=ae.hsva.exec(se),ye?{h:ye[1],s:ye[2],v:ye[3],a:ye[4]}:(ye=ae.hex8.exec(se),ye?{r:(0,w.VD)(ye[1]),g:(0,w.VD)(ye[2]),b:(0,w.VD)(ye[3]),a:(0,w.T6)(ye[4]),format:ge?"name":"hex8"}:(ye=ae.hex6.exec(se),ye?{r:(0,w.VD)(ye[1]),g:(0,w.VD)(ye[2]),b:(0,w.VD)(ye[3]),format:ge?"name":"hex"}:(ye=ae.hex4.exec(se),ye?{r:(0,w.VD)(ye[1]+ye[1]),g:(0,w.VD)(ye[2]+ye[2]),b:(0,w.VD)(ye[3]+ye[3]),a:(0,w.T6)(ye[4]+ye[4]),format:ge?"name":"hex8"}:(ye=ae.hex3.exec(se),ye?{r:(0,w.VD)(ye[1]+ye[1]),g:(0,w.VD)(ye[2]+ye[2]),b:(0,w.VD)(ye[3]+ye[3]),format:ge?"name":"hex"}:!1)))))))))}function le(se){return!!ae.CSS_UNIT.exec(String(se))}},99978:function(cn,Ne,A){"use strict";A.d(Ne,{C:function(){return j}});var w=A(96299),B=A(76367),ne=A(28556),ue=A(23881),j=function(){function Y(K,H){K===void 0&&(K=""),H===void 0&&(H={});var ae;if(K instanceof Y)return K;typeof K=="number"&&(K=(0,w.Yt)(K)),this.originalInput=K;var ie=(0,ne.uA)(K);this.originalInput=K,this.r=ie.r,this.g=ie.g,this.b=ie.b,this.a=ie.a,this.roundA=Math.round(100*this.a)/100,this.format=(ae=H.format)!==null&&ae!==void 0?ae:ie.format,this.gradientType=H.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=ie.ok}return Y.prototype.isDark=function(){return this.getBrightness()<128},Y.prototype.isLight=function(){return!this.isDark()},Y.prototype.getBrightness=function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},Y.prototype.getLuminance=function(){var K=this.toRgb(),H,ae,ie,le=K.r/255,se=K.g/255,ge=K.b/255;return le<=.03928?H=le/12.92:H=Math.pow((le+.055)/1.055,2.4),se<=.03928?ae=se/12.92:ae=Math.pow((se+.055)/1.055,2.4),ge<=.03928?ie=ge/12.92:ie=Math.pow((ge+.055)/1.055,2.4),.2126*H+.7152*ae+.0722*ie},Y.prototype.getAlpha=function(){return this.a},Y.prototype.setAlpha=function(K){return this.a=(0,ue.Yq)(K),this.roundA=Math.round(100*this.a)/100,this},Y.prototype.isMonochrome=function(){var K=this.toHsl().s;return K===0},Y.prototype.toHsv=function(){var K=(0,w.py)(this.r,this.g,this.b);return{h:K.h*360,s:K.s,v:K.v,a:this.a}},Y.prototype.toHsvString=function(){var K=(0,w.py)(this.r,this.g,this.b),H=Math.round(K.h*360),ae=Math.round(K.s*100),ie=Math.round(K.v*100);return this.a===1?"hsv(".concat(H,", ").concat(ae,"%, ").concat(ie,"%)"):"hsva(".concat(H,", ").concat(ae,"%, ").concat(ie,"%, ").concat(this.roundA,")")},Y.prototype.toHsl=function(){var K=(0,w.lC)(this.r,this.g,this.b);return{h:K.h*360,s:K.s,l:K.l,a:this.a}},Y.prototype.toHslString=function(){var K=(0,w.lC)(this.r,this.g,this.b),H=Math.round(K.h*360),ae=Math.round(K.s*100),ie=Math.round(K.l*100);return this.a===1?"hsl(".concat(H,", ").concat(ae,"%, ").concat(ie,"%)"):"hsla(".concat(H,", ").concat(ae,"%, ").concat(ie,"%, ").concat(this.roundA,")")},Y.prototype.toHex=function(K){return K===void 0&&(K=!1),(0,w.vq)(this.r,this.g,this.b,K)},Y.prototype.toHexString=function(K){return K===void 0&&(K=!1),"#"+this.toHex(K)},Y.prototype.toHex8=function(K){return K===void 0&&(K=!1),(0,w.s)(this.r,this.g,this.b,this.a,K)},Y.prototype.toHex8String=function(K){return K===void 0&&(K=!1),"#"+this.toHex8(K)},Y.prototype.toHexShortString=function(K){return K===void 0&&(K=!1),this.a===1?this.toHexString(K):this.toHex8String(K)},Y.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},Y.prototype.toRgbString=function(){var K=Math.round(this.r),H=Math.round(this.g),ae=Math.round(this.b);return this.a===1?"rgb(".concat(K,", ").concat(H,", ").concat(ae,")"):"rgba(".concat(K,", ").concat(H,", ").concat(ae,", ").concat(this.roundA,")")},Y.prototype.toPercentageRgb=function(){var K=function(H){return"".concat(Math.round((0,ue.sh)(H,255)*100),"%")};return{r:K(this.r),g:K(this.g),b:K(this.b),a:this.a}},Y.prototype.toPercentageRgbString=function(){var K=function(H){return Math.round((0,ue.sh)(H,255)*100)};return this.a===1?"rgb(".concat(K(this.r),"%, ").concat(K(this.g),"%, ").concat(K(this.b),"%)"):"rgba(".concat(K(this.r),"%, ").concat(K(this.g),"%, ").concat(K(this.b),"%, ").concat(this.roundA,")")},Y.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var K="#"+(0,w.vq)(this.r,this.g,this.b,!1),H=0,ae=Object.entries(B.R);H<ae.length;H++){var ie=ae[H],le=ie[0],se=ie[1];if(K===se)return le}return!1},Y.prototype.toString=function(K){var H=!!K;K=K!=null?K:this.format;var ae=!1,ie=this.a<1&&this.a>=0,le=!H&&ie&&(K.startsWith("hex")||K==="name");return le?K==="name"&&this.a===0?this.toName():this.toRgbString():(K==="rgb"&&(ae=this.toRgbString()),K==="prgb"&&(ae=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(ae=this.toHexString()),K==="hex3"&&(ae=this.toHexString(!0)),K==="hex4"&&(ae=this.toHex8String(!0)),K==="hex8"&&(ae=this.toHex8String()),K==="name"&&(ae=this.toName()),K==="hsl"&&(ae=this.toHslString()),K==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString())},Y.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},Y.prototype.clone=function(){return new Y(this.toString())},Y.prototype.lighten=function(K){K===void 0&&(K=10);var H=this.toHsl();return H.l+=K/100,H.l=(0,ue.V2)(H.l),new Y(H)},Y.prototype.brighten=function(K){K===void 0&&(K=10);var H=this.toRgb();return H.r=Math.max(0,Math.min(255,H.r-Math.round(255*-(K/100)))),H.g=Math.max(0,Math.min(255,H.g-Math.round(255*-(K/100)))),H.b=Math.max(0,Math.min(255,H.b-Math.round(255*-(K/100)))),new Y(H)},Y.prototype.darken=function(K){K===void 0&&(K=10);var H=this.toHsl();return H.l-=K/100,H.l=(0,ue.V2)(H.l),new Y(H)},Y.prototype.tint=function(K){return K===void 0&&(K=10),this.mix("white",K)},Y.prototype.shade=function(K){return K===void 0&&(K=10),this.mix("black",K)},Y.prototype.desaturate=function(K){K===void 0&&(K=10);var H=this.toHsl();return H.s-=K/100,H.s=(0,ue.V2)(H.s),new Y(H)},Y.prototype.saturate=function(K){K===void 0&&(K=10);var H=this.toHsl();return H.s+=K/100,H.s=(0,ue.V2)(H.s),new Y(H)},Y.prototype.greyscale=function(){return this.desaturate(100)},Y.prototype.spin=function(K){var H=this.toHsl(),ae=(H.h+K)%360;return H.h=ae<0?360+ae:ae,new Y(H)},Y.prototype.mix=function(K,H){H===void 0&&(H=50);var ae=this.toRgb(),ie=new Y(K).toRgb(),le=H/100,se={r:(ie.r-ae.r)*le+ae.r,g:(ie.g-ae.g)*le+ae.g,b:(ie.b-ae.b)*le+ae.b,a:(ie.a-ae.a)*le+ae.a};return new Y(se)},Y.prototype.analogous=function(K,H){K===void 0&&(K=6),H===void 0&&(H=30);var ae=this.toHsl(),ie=360/H,le=[this];for(ae.h=(ae.h-(ie*K>>1)+720)%360;--K;)ae.h=(ae.h+ie)%360,le.push(new Y(ae));return le},Y.prototype.complement=function(){var K=this.toHsl();return K.h=(K.h+180)%360,new Y(K)},Y.prototype.monochromatic=function(K){K===void 0&&(K=6);for(var H=this.toHsv(),ae=H.h,ie=H.s,le=H.v,se=[],ge=1/K;K--;)se.push(new Y({h:ae,s:ie,v:le})),le=(le+ge)%1;return se},Y.prototype.splitcomplement=function(){var K=this.toHsl(),H=K.h;return[this,new Y({h:(H+72)%360,s:K.s,l:K.l}),new Y({h:(H+216)%360,s:K.s,l:K.l})]},Y.prototype.onBackground=function(K){var H=this.toRgb(),ae=new Y(K).toRgb(),ie=H.a+ae.a*(1-H.a);return new Y({r:(H.r*H.a+ae.r*ae.a*(1-H.a))/ie,g:(H.g*H.a+ae.g*ae.a*(1-H.a))/ie,b:(H.b*H.a+ae.b*ae.a*(1-H.a))/ie,a:ie})},Y.prototype.triad=function(){return this.polyad(3)},Y.prototype.tetrad=function(){return this.polyad(4)},Y.prototype.polyad=function(K){for(var H=this.toHsl(),ae=H.h,ie=[this],le=360/K,se=1;se<K;se++)ie.push(new Y({h:(ae+se*le)%360,s:H.s,l:H.l}));return ie},Y.prototype.equals=function(K){return this.toRgbString()===new Y(K).toRgbString()},Y}();function q(Y,K){return Y===void 0&&(Y=""),K===void 0&&(K={}),new j(Y,K)}},23881:function(cn,Ne,A){"use strict";A.d(Ne,{FZ:function(){return Y},JX:function(){return q},V2:function(){return B},Yq:function(){return j},sh:function(){return w}});function w(K,H){ne(K)&&(K="100%");var ae=ue(K);return K=H===360?K:Math.min(H,Math.max(0,parseFloat(K))),ae&&(K=parseInt(String(K*H),10)/100),Math.abs(K-H)<1e-6?1:(H===360?K=(K<0?K%H+H:K%H)/parseFloat(String(H)):K=K%H/parseFloat(String(H)),K)}function B(K){return Math.min(1,Math.max(0,K))}function ne(K){return typeof K=="string"&&K.indexOf(".")!==-1&&parseFloat(K)===1}function ue(K){return typeof K=="string"&&K.indexOf("%")!==-1}function j(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function q(K){return K<=1?"".concat(Number(K)*100,"%"):K}function Y(K){return K.length===1?"0"+K:String(K)}},47903:function(cn){cn.exports=Ne;function Ne(B,ne){var ue=B&&B.type,j;if(ue==="FeatureCollection")for(j=0;j<B.features.length;j++)Ne(B.features[j],ne);else if(ue==="GeometryCollection")for(j=0;j<B.geometries.length;j++)Ne(B.geometries[j],ne);else if(ue==="Feature")Ne(B.geometry,ne);else if(ue==="Polygon")A(B.coordinates,ne);else if(ue==="MultiPolygon")for(j=0;j<B.coordinates.length;j++)A(B.coordinates[j],ne);return B}function A(B,ne){if(B.length!==0){w(B[0],ne);for(var ue=1;ue<B.length;ue++)w(B[ue],!ne)}}function w(B,ne){for(var ue=0,j=0,q=0,Y=B.length,K=Y-1;q<Y;K=q++){var H=(B[q][0]-B[K][0])*(B[K][1]+B[q][1]),ae=ue+H;j+=Math.abs(ue)>=Math.abs(H)?ue-ae+H:H-ae+ue,ue=ae}ue+j>=0!=!!ne&&B.reverse()}},96542:function(cn){"use strict";cn.exports=Ne;function Ne(A,w){this.x=A,this.y=w}Ne.prototype={clone:function(){return new Ne(this.x,this.y)},add:function(A){return this.clone()._add(A)},sub:function(A){return this.clone()._sub(A)},multByPoint:function(A){return this.clone()._multByPoint(A)},divByPoint:function(A){return this.clone()._divByPoint(A)},mult:function(A){return this.clone()._mult(A)},div:function(A){return this.clone()._div(A)},rotate:function(A){return this.clone()._rotate(A)},rotateAround:function(A,w){return this.clone()._rotateAround(A,w)},matMult:function(A){return this.clone()._matMult(A)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(A){return this.x===A.x&&this.y===A.y},dist:function(A){return Math.sqrt(this.distSqr(A))},distSqr:function(A){var w=A.x-this.x,B=A.y-this.y;return w*w+B*B},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(A){return Math.atan2(this.y-A.y,this.x-A.x)},angleWith:function(A){return this.angleWithSep(A.x,A.y)},angleWithSep:function(A,w){return Math.atan2(this.x*w-this.y*A,this.x*A+this.y*w)},_matMult:function(A){var w=A[0]*this.x+A[1]*this.y,B=A[2]*this.x+A[3]*this.y;return this.x=w,this.y=B,this},_add:function(A){return this.x+=A.x,this.y+=A.y,this},_sub:function(A){return this.x-=A.x,this.y-=A.y,this},_mult:function(A){return this.x*=A,this.y*=A,this},_div:function(A){return this.x/=A,this.y/=A,this},_multByPoint:function(A){return this.x*=A.x,this.y*=A.y,this},_divByPoint:function(A){return this.x/=A.x,this.y/=A.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var A=this.y;return this.y=this.x,this.x=-A,this},_rotate:function(A){var w=Math.cos(A),B=Math.sin(A),ne=w*this.x-B*this.y,ue=B*this.x+w*this.y;return this.x=ne,this.y=ue,this},_rotateAround:function(A,w){var B=Math.cos(A),ne=Math.sin(A),ue=w.x+B*(this.x-w.x)-ne*(this.y-w.y),j=w.y+ne*(this.x-w.x)+B*(this.y-w.y);return this.x=ue,this.y=j,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ne.convert=function(A){return A instanceof Ne?A:Array.isArray(A)?new Ne(A[0],A[1]):A}},25865:function(cn){"use strict";cn.exports=A,cn.exports.default=A;var Ne=1e20;function A(j,q,Y,K,H,ae){this.fontSize=j||24,this.buffer=q===void 0?3:q,this.cutoff=K||.25,this.fontFamily=H||"sans-serif",this.fontWeight=ae||"normal",this.radius=Y||8;var ie=this.size=this.fontSize+this.buffer*2,le=ie+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ie,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(le*le),this.gridInner=new Float64Array(le*le),this.f=new Float64Array(le),this.z=new Float64Array(le+1),this.v=new Uint16Array(le),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(ie/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function w(j,q,Y,K,H,ae,ie){ae.fill(Ne,0,q*Y),ie.fill(0,0,q*Y);for(var le=(q-K)/2,se=0;se<H;se++)for(var ge=0;ge<K;ge++){var ye=(se+le)*q+ge+le,ve=j.data[4*(se*K+ge)+3]/255;if(ve===1)ae[ye]=0,ie[ye]=Ne;else if(ve===0)ae[ye]=Ne,ie[ye]=0;else{var fe=Math.max(0,.5-ve),Fe=Math.max(0,ve-.5);ae[ye]=fe*fe,ie[ye]=Fe*Fe}}}function B(j,q,Y,K,H,ae,ie){for(var le=0;le<q*Y;le++){var se=Math.sqrt(K[le])-Math.sqrt(H[le]);j[le]=Math.round(255-255*(se/ae+ie))}}A.prototype._draw=function(j,q){var Y=this.ctx.measureText(j),K=Y.width,H=2*this.buffer,ae,ie,le,se,ge,ye,ve,fe;q&&this.useMetrics?(ge=Math.floor(Y.actualBoundingBoxAscent),fe=this.buffer+Math.ceil(Y.actualBoundingBoxAscent),ye=this.buffer,ve=this.buffer,ie=Math.min(this.size,Math.ceil(Y.actualBoundingBoxRight-Y.actualBoundingBoxLeft)),se=Math.min(this.size-ye,Math.ceil(Y.actualBoundingBoxAscent+Y.actualBoundingBoxDescent)),ae=ie+H,le=se+H,this.ctx.textBaseline="alphabetic"):(ae=ie=this.size,le=se=this.size,ge=19*this.fontSize/24,ye=ve=0,fe=this.middle,this.ctx.textBaseline="middle");var Fe;ie&&se&&(this.ctx.clearRect(ve,ye,ie,se),this.ctx.fillText(j,this.buffer,fe),Fe=this.ctx.getImageData(ve,ye,ie,se));var yt=new Uint8ClampedArray(ae*le);return w(Fe,ae,le,ie,se,this.gridOuter,this.gridInner),ne(this.gridOuter,ae,le,this.f,this.v,this.z),ne(this.gridInner,ae,le,this.f,this.v,this.z),B(yt,ae,le,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:yt,metrics:{width:ie,height:se,sdfWidth:ae,sdfHeight:le,top:ge,left:0,advance:K}}},A.prototype.draw=function(j){return this._draw(j,!1).data},A.prototype.drawWithMetrics=function(j){return this._draw(j,!0)};function ne(j,q,Y,K,H,ae){for(var ie=0;ie<q;ie++)ue(j,ie,q,Y,K,H,ae);for(var le=0;le<Y;le++)ue(j,le*q,1,q,K,H,ae)}function ue(j,q,Y,K,H,ae,ie){var le,se,ge,ye;for(ae[0]=0,ie[0]=-Ne,ie[1]=Ne,le=0;le<K;le++)H[le]=j[q+le*Y];for(le=1,se=0,ge=0;le<K;le++){do ye=ae[se],ge=(H[le]-H[ye]+le*le-ye*ye)/(le-ye)/2;while(ge<=ie[se]&&--se>-1);se++,ae[se]=le,ie[se]=ge,ie[se+1]=Ne}for(le=0,se=0;le<K;le++){for(;ie[se+1]<le;)se++;ye=ae[se],j[q+le*Y]=H[ye]+(le-ye)*(le-ye)}}},89504:function(cn){"use strict";cn.exports=Ne;function Ne(A,w,B,ne){this.cx=3*A,this.bx=3*(B-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*w,this.by=3*(ne-w)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=w,this.p2x=B,this.p2y=ne}Ne.prototype={sampleCurveX:function(A){return((this.ax*A+this.bx)*A+this.cx)*A},sampleCurveY:function(A){return((this.ay*A+this.by)*A+this.cy)*A},sampleCurveDerivativeX:function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},solveCurveX:function(A,w){if(w===void 0&&(w=1e-6),A<0)return 0;if(A>1)return 1;for(var B=A,ne=0;ne<8;ne++){var ue=this.sampleCurveX(B)-A;if(Math.abs(ue)<w)return B;var j=this.sampleCurveDerivativeX(B);if(Math.abs(j)<1e-6)break;B=B-ue/j}var q=0,Y=1;for(B=A,ne=0;ne<20&&(ue=this.sampleCurveX(B),!(Math.abs(ue-A)<w));ne++)A>ue?q=B:Y=B,B=(Y-q)*.5+q;return B},solve:function(A,w){return this.sampleCurveY(this.solveCurveX(A,w))}}},99996:function(cn,Ne,A){cn.exports.VectorTile=A(14253),A(35752),A(143)},14253:function(cn,Ne,A){"use strict";var w=A(143);cn.exports=B;function B(ue,j){this.layers=ue.readFields(ne,{},j)}function ne(ue,j,q){if(ue===3){var Y=new w(q,q.readVarint()+q.pos);Y.length&&(j[Y.name]=Y)}}},35752:function(cn,Ne,A){"use strict";var w=A(96542);cn.exports=B;function B(Y,K,H,ae,ie){this.properties={},this.extent=H,this.type=0,this._pbf=Y,this._geometry=-1,this._keys=ae,this._values=ie,Y.readFields(ne,this,K)}function ne(Y,K,H){Y==1?K.id=H.readVarint():Y==2?ue(H,K):Y==3?K.type=H.readVarint():Y==4&&(K._geometry=H.pos)}function ue(Y,K){for(var H=Y.readVarint()+Y.pos;Y.pos<H;){var ae=K._keys[Y.readVarint()],ie=K._values[Y.readVarint()];K.properties[ae]=ie}}B.types=["Unknown","Point","LineString","Polygon"],B.prototype.loadGeometry=function(){var Y=this._pbf;Y.pos=this._geometry;for(var K=Y.readVarint()+Y.pos,H=1,ae=0,ie=0,le=0,se=[],ge;Y.pos<K;){if(ae<=0){var ye=Y.readVarint();H=ye&7,ae=ye>>3}if(ae--,H===1||H===2)ie+=Y.readSVarint(),le+=Y.readSVarint(),H===1&&(ge&&se.push(ge),ge=[]),ge.push(new w(ie,le));else if(H===7)ge&&ge.push(ge[0].clone());else throw new Error("unknown command "+H)}return ge&&se.push(ge),se},B.prototype.bbox=function(){var Y=this._pbf;Y.pos=this._geometry;for(var K=Y.readVarint()+Y.pos,H=1,ae=0,ie=0,le=0,se=1/0,ge=-1/0,ye=1/0,ve=-1/0;Y.pos<K;){if(ae<=0){var fe=Y.readVarint();H=fe&7,ae=fe>>3}if(ae--,H===1||H===2)ie+=Y.readSVarint(),le+=Y.readSVarint(),ie<se&&(se=ie),ie>ge&&(ge=ie),le<ye&&(ye=le),le>ve&&(ve=le);else if(H!==7)throw new Error("unknown command "+H)}return[se,ye,ge,ve]},B.prototype.toGeoJSON=function(Y,K,H){var ae=this.extent*Math.pow(2,H),ie=this.extent*Y,le=this.extent*K,se=this.loadGeometry(),ge=B.types[this.type],ye,ve;function fe(gt){for(var pt=0;pt<gt.length;pt++){var lt=gt[pt],Ke=180-(lt.y+le)*360/ae;gt[pt]=[(lt.x+ie)*360/ae-180,360/Math.PI*Math.atan(Math.exp(Ke*Math.PI/180))-90]}}switch(this.type){case 1:var Fe=[];for(ye=0;ye<se.length;ye++)Fe[ye]=se[ye][0];se=Fe,fe(se);break;case 2:for(ye=0;ye<se.length;ye++)fe(se[ye]);break;case 3:for(se=j(se),ye=0;ye<se.length;ye++)for(ve=0;ve<se[ye].length;ve++)fe(se[ye][ve]);break}se.length===1?se=se[0]:ge="Multi"+ge;var yt={type:"Feature",geometry:{type:ge,coordinates:se},properties:this.properties};return"id"in this&&(yt.id=this.id),yt};function j(Y){var K=Y.length;if(K<=1)return[Y];for(var H=[],ae,ie,le=0;le<K;le++){var se=q(Y[le]);se!==0&&(ie===void 0&&(ie=se<0),ie===se<0?(ae&&H.push(ae),ae=[Y[le]]):ae.push(Y[le]))}return ae&&H.push(ae),H}function q(Y){for(var K=0,H=0,ae=Y.length,ie=ae-1,le,se;H<ae;ie=H++)le=Y[H],se=Y[ie],K+=(se.x-le.x)*(le.y+se.y);return K}},143:function(cn,Ne,A){"use strict";var w=A(35752);cn.exports=B;function B(j,q){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=j,this._keys=[],this._values=[],this._features=[],j.readFields(ne,this,q),this.length=this._features.length}function ne(j,q,Y){j===15?q.version=Y.readVarint():j===1?q.name=Y.readString():j===5?q.extent=Y.readVarint():j===2?q._features.push(Y.pos):j===3?q._keys.push(Y.readString()):j===4&&q._values.push(ue(Y))}function ue(j){for(var q=null,Y=j.readVarint()+j.pos;j.pos<Y;){var K=j.readVarint()>>3;q=K===1?j.readString():K===2?j.readFloat():K===3?j.readDouble():K===4?j.readVarint64():K===5?j.readVarint():K===6?j.readSVarint():K===7?j.readBoolean():null}return q}B.prototype.feature=function(j){if(j<0||j>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[j];var q=this._pbf.readVarint()+this._pbf.pos;return new w(this._pbf,q,this.extent,this._keys,this._values)}},92367:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return se}});var w=A(75271);function B(ge){var ye=(0,w.useRef)(ge);return ye.current=ge,ye}var ne=B,ue=function(ge){return ge!==null&&typeof ge=="object"},j=function(ge){return typeof ge=="function"},q=function(ge){return typeof ge=="string"},Y=function(ge){return typeof ge=="boolean"},K=function(ge){return typeof ge=="number"},H=function(ge){return typeof ge=="undefined"},ae=!1,ie=ae,le=function(ge){ie&&(j(ge)||console.error("useUnmount expected parameter is a function, got ".concat(typeof ge)));var ye=ne(ge);(0,w.useEffect)(function(){return function(){ye.current()}},[])},se=le},73148:function(cn,Ne,A){"use strict";var w=A(75271),B=A(89700),ne=A(75477);const ue=j=>{const{space:q,form:Y,children:K}=j;if(K==null)return null;let H=K;return Y&&(H=w.createElement(B.Ux,{override:!0,status:!0},H)),q&&(H=w.createElement(ne.BR,null,H)),H};Ne.Z=ue},71645:function(cn,Ne,A){"use strict";A.d(Ne,{o2:function(){return j},yT:function(){return q}});var w=A(35047),B=A(15669);const ne=B.i.map(Y=>`${Y}-inverse`),ue=["success","processing","error","default","warning"];function j(Y){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,w.Z)(ne),(0,w.Z)(B.i)).includes(Y):B.i.includes(Y)}function q(Y){return ue.includes(Y)}},23696:function(cn,Ne,A){"use strict";var w=A(75271),B=A(16449);const ne=ue=>{let j;return typeof ue=="object"&&(ue!=null&&ue.clearIcon)?j=ue:ue&&(j={clearIcon:w.createElement(B.Z,null)}),j};Ne.Z=ne},97218:function(cn,Ne,A){"use strict";A.d(Ne,{Cn:function(){return ie},u6:function(){return q}});var w=A(75271),B=A(35270),ne=A(94445);const ue=100,q=ue*10,Y=q+ue,K={Modal:ue,Drawer:ue,Popover:ue,Popconfirm:ue,Tooltip:ue,Tour:ue,FloatButton:ue},H={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function ae(le){return le in K}const ie=(le,se)=>{const[,ge]=(0,B.ZP)(),ye=w.useContext(ne.Z),ve=ae(le);let fe;if(se!==void 0)fe=[se,se];else{let Fe=ye!=null?ye:0;ve?Fe+=(ye?0:ge.zIndexPopupBase)+K[le]:Fe+=H[le],fe=[ye===void 0?se:Fe,Fe]}return fe}},11813:function(cn,Ne,A){"use strict";A.d(Ne,{m:function(){return K}});var w=A(72158);const B=()=>({height:0,opacity:0}),ne=H=>{const{scrollHeight:ae}=H;return{height:ae,opacity:1}},ue=H=>({height:H?H.offsetHeight:0}),j=(H,ae)=>(ae==null?void 0:ae.deadline)===!0||ae.propertyName==="height",q=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Rf}-motion-collapse`,onAppearStart:B,onEnterStart:B,onAppearActive:ne,onEnterActive:ne,onLeaveStart:ue,onLeaveActive:B,onAppearEnd:j,onEnterEnd:j,onLeaveEnd:j,motionDeadline:500}},Y=null,K=(H,ae,ie)=>ie!==void 0?ie:`${H}-${ae}`;Ne.Z=q},66696:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return q}});var w=A(91316);function B(Y,K,H,ae){if(ae===!1)return{adjustX:!1,adjustY:!1};const ie=ae&&typeof ae=="object"?ae:{},le={};switch(Y){case"top":case"bottom":le.shiftX=K.arrowOffsetHorizontal*2+H,le.shiftY=!0,le.adjustY=!0;break;case"left":case"right":le.shiftY=K.arrowOffsetVertical*2+H,le.shiftX=!0,le.adjustX=!0;break}const se=Object.assign(Object.assign({},le),ie);return se.shiftX||(se.adjustX=!0),se.shiftY||(se.adjustY=!0),se}const ne={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},ue={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},j=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function q(Y){const{arrowWidth:K,autoAdjustOverflow:H,arrowPointAtCenter:ae,offset:ie,borderRadius:le,visibleFirst:se}=Y,ge=K/2,ye={};return Object.keys(ne).forEach(ve=>{const fe=ae&&ue[ve]||ne[ve],Fe=Object.assign(Object.assign({},fe),{offset:[0,0],dynamicInset:!0});switch(ye[ve]=Fe,j.has(ve)&&(Fe.autoArrow=!1),ve){case"top":case"topLeft":case"topRight":Fe.offset[1]=-ge-ie;break;case"bottom":case"bottomLeft":case"bottomRight":Fe.offset[1]=ge+ie;break;case"left":case"leftTop":case"leftBottom":Fe.offset[0]=-ge-ie;break;case"right":case"rightTop":case"rightBottom":Fe.offset[0]=ge+ie;break}const yt=(0,w.wZ)({contentRadius:le,limitVerticalRadius:!0});if(ae)switch(ve){case"topLeft":case"bottomLeft":Fe.offset[0]=-yt.arrowOffsetHorizontal-ge;break;case"topRight":case"bottomRight":Fe.offset[0]=yt.arrowOffsetHorizontal+ge;break;case"leftTop":case"rightTop":Fe.offset[1]=-yt.arrowOffsetHorizontal*2+ge;break;case"leftBottom":case"rightBottom":Fe.offset[1]=yt.arrowOffsetHorizontal*2-ge;break}Fe.overflow=B(ve,yt,K,H),se&&(Fe.htmlRegion="visibleFirst")}),ye}},40366:function(cn,Ne,A){"use strict";A.d(Ne,{M2:function(){return B},Tm:function(){return ue},wm:function(){return ne}});var w=A(75271);function B(j){return j&&w.isValidElement(j)&&j.type===w.Fragment}const ne=(j,q,Y)=>w.isValidElement(j)?w.cloneElement(j,typeof Y=="function"?Y(j.props||{}):Y):q;function ue(j,q){return ne(j,j,q)}},57364:function(cn,Ne,A){"use strict";A.d(Ne,{F:function(){return j},Z:function(){return ue}});var w=A(82187),B=A.n(w);const ne=null;function ue(q,Y,K){return B()({[`${q}-status-success`]:Y==="success",[`${q}-status-warning`]:Y==="warning",[`${q}-status-error`]:Y==="error",[`${q}-status-validating`]:Y==="validating",[`${q}-has-feedback`]:K})}const j=(q,Y)=>Y||q},93789:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return w}});function w(B){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&B==null?[]:Array.isArray(B)?B:[B]}},20126:function(cn,Ne,A){"use strict";A.d(Ne,{G8:function(){return Y},ln:function(){return K}});var w=A(75271),B=A(7302);function ne(){}let ue=null;function j(){ue=null,rcResetWarned()}let q=null;const Y=w.createContext({}),K=()=>{const ae=()=>{};return ae.deprecated=ne,ae};var H=null},94445:function(cn,Ne,A){"use strict";var w=A(75271);const B=w.createContext(void 0);Ne.Z=B},94210:function(cn,Ne,A){"use strict";var w=A(50780);Ne.Z=w.Z},3161:function(cn,Ne,A){"use strict";A.d(Ne,{n:function(){return ne}});var w=A(75271);const B=w.createContext(!1),ne=ue=>{let{children:j,disabled:q}=ue;const Y=w.useContext(B);return w.createElement(B.Provider,{value:q!=null?q:Y},j)};Ne.Z=B},81485:function(cn,Ne,A){"use strict";A.d(Ne,{q:function(){return ne}});var w=A(75271);const B=w.createContext(void 0),ne=ue=>{let{children:j,size:q}=ue;const Y=w.useContext(B);return w.createElement(B.Provider,{value:q||Y},j)};Ne.Z=B},72158:function(cn,Ne,A){"use strict";A.d(Ne,{E_:function(){return q},Rf:function(){return B},oR:function(){return ne},tr:function(){return ue}});var w=A(75271);const B="ant",ne="anticon",ue=["outlined","borderless","filled"],j=(K,H)=>H||(K?`${B}-${K}`:B),q=w.createContext({getPrefixCls:j,iconPrefixCls:ne}),{Consumer:Y}=q},88952:function(cn,Ne,A){"use strict";var w=A(35270);const B=ne=>{const[,,,,ue]=(0,w.ZP)();return ue?`${ne}-css-var`:""};Ne.Z=B},79946:function(cn,Ne,A){"use strict";var w=A(75271),B=A(81485);const ne=ue=>{const j=w.useContext(B.Z);return w.useMemo(()=>ue?typeof ue=="string"?ue!=null?ue:j:ue instanceof Function?ue(j):j:j,[ue,j])};Ne.Z=ne},3632:function(cn,Ne,A){"use strict";A.d(Ne,{ZP:function(){return cr},w6:function(){return Jt}});var w=A(75271),B=A.t(w,2),ne=A(60595),ue=A(57495),j=A(9839),q=A(26209),Y=A(20126),K=A(45189),H=A(77704),ae=A(84656);const ie="internalMark";var se=bn=>{const{locale:ir={},children:Nr,_ANT_MARK__:Ar}=bn;w.useEffect(()=>(0,H.f)(ir==null?void 0:ir.Modal),[ir]);const Zr=w.useMemo(()=>Object.assign(Object.assign({},ir),{exist:!0}),[ir]);return w.createElement(ae.Z.Provider,{value:Zr},Nr)},ge=A(86438),ye=A(67701),ve=A(53569),fe=A(72158),Fe=A(75875),yt=A(99978),gt=A(67042),pt=A(93722);const lt=`-ant-${Date.now()}-${Math.random()}`;function Ke(bn,ir){const Nr={},Ar=(Ln,Nn)=>{let $n=Ln.clone();return $n=(Nn==null?void 0:Nn($n))||$n,$n.toRgbString()},Zr=(Ln,Nn)=>{const $n=new yt.C(Ln),wn=(0,Fe.R_)($n.toRgbString());Nr[`${Nn}-color`]=Ar($n),Nr[`${Nn}-color-disabled`]=wn[1],Nr[`${Nn}-color-hover`]=wn[4],Nr[`${Nn}-color-active`]=wn[6],Nr[`${Nn}-color-outline`]=$n.clone().setAlpha(.2).toRgbString(),Nr[`${Nn}-color-deprecated-bg`]=wn[0],Nr[`${Nn}-color-deprecated-border`]=wn[2]};if(ir.primaryColor){Zr(ir.primaryColor,"primary");const Ln=new yt.C(ir.primaryColor),Nn=(0,Fe.R_)(Ln.toRgbString());Nn.forEach((wn,nt)=>{Nr[`primary-${nt+1}`]=wn}),Nr["primary-color-deprecated-l-35"]=Ar(Ln,wn=>wn.lighten(35)),Nr["primary-color-deprecated-l-20"]=Ar(Ln,wn=>wn.lighten(20)),Nr["primary-color-deprecated-t-20"]=Ar(Ln,wn=>wn.tint(20)),Nr["primary-color-deprecated-t-50"]=Ar(Ln,wn=>wn.tint(50)),Nr["primary-color-deprecated-f-12"]=Ar(Ln,wn=>wn.setAlpha(wn.getAlpha()*.12));const $n=new yt.C(Nn[0]);Nr["primary-color-active-deprecated-f-30"]=Ar($n,wn=>wn.setAlpha(wn.getAlpha()*.3)),Nr["primary-color-active-deprecated-d-02"]=Ar($n,wn=>wn.darken(2))}return ir.successColor&&Zr(ir.successColor,"success"),ir.warningColor&&Zr(ir.warningColor,"warning"),ir.errorColor&&Zr(ir.errorColor,"error"),ir.infoColor&&Zr(ir.infoColor,"info"),`
  :root {
    ${Object.keys(Nr).map(Ln=>`--${bn}-${Ln}: ${Nr[Ln]};`).join(`
`)}
  }
  `.trim()}function Ue(bn,ir){const Nr=Ke(bn,ir);(0,gt.Z)()&&(0,pt.hq)(Nr,`${lt}-dynamic-theme`)}var Pt=A(3161),Gt=A(81485);function rn(){const bn=(0,w.useContext)(Pt.Z),ir=(0,w.useContext)(Gt.Z);return{componentDisabled:bn,componentSize:ir}}var _n=rn,qe=A(26920);const Nt=Object.assign({},B),{useId:ft}=Nt;var Pe=typeof ft=="undefined"?()=>"":ft;function Qe(bn,ir,Nr){var Ar,Zr;const wi=(0,Y.ln)("ConfigProvider"),Ln=bn||{},Nn=Ln.inherit===!1||!ir?Object.assign(Object.assign({},ye.u_),{hashed:(Ar=ir==null?void 0:ir.hashed)!==null&&Ar!==void 0?Ar:ye.u_.hashed,cssVar:ir==null?void 0:ir.cssVar}):ir,$n=Pe();return(0,j.Z)(()=>{var wn,nt;if(!bn)return ir;const ze=Object.assign({},Nn.components);Object.keys(bn.components||{}).forEach(gn=>{ze[gn]=Object.assign(Object.assign({},ze[gn]),bn.components[gn])});const vt=`css-var-${$n.replace(/:/g,"")}`,$t=((wn=Ln.cssVar)!==null&&wn!==void 0?wn:Nn.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:Nr==null?void 0:Nr.prefixCls},typeof Nn.cssVar=="object"?Nn.cssVar:{}),typeof Ln.cssVar=="object"?Ln.cssVar:{}),{key:typeof Ln.cssVar=="object"&&((nt=Ln.cssVar)===null||nt===void 0?void 0:nt.key)||vt});return Object.assign(Object.assign(Object.assign({},Nn),Ln),{token:Object.assign(Object.assign({},Nn.token),Ln.token),components:ze,cssVar:$t})},[Ln,Nn],(wn,nt)=>wn.some((ze,vt)=>{const $t=nt[vt];return!(0,qe.Z)(ze,$t,!0)}))}var He=A(78878),_t=A(35270);function Bt(bn){const{children:ir}=bn,[,Nr]=(0,_t.ZP)(),{motion:Ar}=Nr,Zr=w.useRef(!1);return Zr.current=Zr.current||Ar===!1,Zr.current?w.createElement(He.zt,{motion:Ar},ir):ir}const At=null;var Je=()=>null,zt=A(90844),mn=function(bn,ir){var Nr={};for(var Ar in bn)Object.prototype.hasOwnProperty.call(bn,Ar)&&ir.indexOf(Ar)<0&&(Nr[Ar]=bn[Ar]);if(bn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zr=0,Ar=Object.getOwnPropertySymbols(bn);Zr<Ar.length;Zr++)ir.indexOf(Ar[Zr])<0&&Object.prototype.propertyIsEnumerable.call(bn,Ar[Zr])&&(Nr[Ar[Zr]]=bn[Ar[Zr]]);return Nr};let Ot=!1;const Xe=null,ct=null,Rt=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Oe,Ge,Vt,De;function et(){return Oe||fe.Rf}function Ce(){return Ge||fe.oR}function J(bn){return Object.keys(bn).some(ir=>ir.endsWith("Color"))}const Le=bn=>{const{prefixCls:ir,iconPrefixCls:Nr,theme:Ar,holderRender:Zr}=bn;ir!==void 0&&(Oe=ir),Nr!==void 0&&(Ge=Nr),"holderRender"in bn&&(De=Zr),Ar&&(J(Ar)?Ue(et(),Ar):Vt=Ar)},Jt=()=>({getPrefixCls:(bn,ir)=>ir||(bn?`${et()}-${bn}`:et()),getIconPrefixCls:Ce,getRootPrefixCls:()=>Oe||et(),getTheme:()=>Vt,holderRender:De}),Be=bn=>{const{children:ir,csp:Nr,autoInsertSpaceInButton:Ar,alert:Zr,anchor:wi,form:Ln,locale:Nn,componentSize:$n,direction:wn,space:nt,splitter:ze,virtual:vt,dropdownMatchSelectWidth:$t,popupMatchSelectWidth:gn,popupOverflow:at,legacyLocale:an,parentContext:hn,iconPrefixCls:pr,theme:ur,componentDisabled:pi,segmented:ar,statistic:di,spin:sa,calendar:xa,carousel:za,cascader:Ui,collapse:Ao,typography:fs,checkbox:cs,descriptions:ra,divider:ms,drawer:xi,skeleton:Gn,steps:_e,image:oi,layout:Ka,list:Cn,mentions:Un,modal:tn,progress:It,result:Zt,slider:$e,breadcrumb:Bn,menu:Yn,pagination:or,input:Ze,textArea:je,empty:st,badge:St,radio:En,rate:fn,switch:sn,transfer:Pn,avatar:Hn,message:Ut,tag:Yt,table:Xt,card:jt,tabs:fr,timeline:vr,timePicker:yr,upload:Br,notification:Gi,tree:qi,colorPicker:$i,datePicker:Wi,rangePicker:Ii,flex:Qa,wave:on,dropdown:dn,warning:jn,tour:Ur,floatButtonGroup:Yr,variant:Et,inputNumber:Ct,treeSelect:xn}=bn,Xn=w.useCallback((Po,ds)=>{const{prefixCls:Za}=bn;if(ds)return ds;const ks=Za||hn.getPrefixCls("");return Po?`${ks}-${Po}`:ks},[hn.getPrefixCls,bn.prefixCls]),mt=pr||hn.iconPrefixCls||fe.oR,vn=Nr||hn.csp;(0,zt.Z)(mt,vn);const tr=Qe(ur,hn.theme,{prefixCls:Xn("")}),Mr={csp:vn,autoInsertSpaceInButton:Ar,alert:Zr,anchor:wi,locale:Nn||an,direction:wn,space:nt,splitter:ze,virtual:vt,popupMatchSelectWidth:gn!=null?gn:$t,popupOverflow:at,getPrefixCls:Xn,iconPrefixCls:mt,theme:tr,segmented:ar,statistic:di,spin:sa,calendar:xa,carousel:za,cascader:Ui,collapse:Ao,typography:fs,checkbox:cs,descriptions:ra,divider:ms,drawer:xi,skeleton:Gn,steps:_e,image:oi,input:Ze,textArea:je,layout:Ka,list:Cn,mentions:Un,modal:tn,progress:It,result:Zt,slider:$e,breadcrumb:Bn,menu:Yn,pagination:or,empty:st,badge:St,radio:En,rate:fn,switch:sn,transfer:Pn,avatar:Hn,message:Ut,tag:Yt,table:Xt,card:jt,tabs:fr,timeline:vr,timePicker:yr,upload:Br,notification:Gi,tree:qi,colorPicker:$i,datePicker:Wi,rangePicker:Ii,flex:Qa,wave:on,dropdown:dn,warning:jn,tour:Ur,floatButtonGroup:Yr,variant:Et,inputNumber:Ct,treeSelect:xn},ui=Object.assign({},hn);Object.keys(Mr).forEach(Po=>{Mr[Po]!==void 0&&(ui[Po]=Mr[Po])}),Rt.forEach(Po=>{const ds=bn[Po];ds&&(ui[Po]=ds)}),typeof Ar!="undefined"&&(ui.button=Object.assign({autoInsertSpace:Ar},ui.button));const Ri=(0,j.Z)(()=>ui,ui,(Po,ds)=>{const Za=Object.keys(Po),ks=Object.keys(ds);return Za.length!==ks.length||Za.some(oo=>Po[oo]!==ds[oo])}),Aa=w.useMemo(()=>({prefixCls:mt,csp:vn}),[mt,vn]);let Ga=w.createElement(w.Fragment,null,w.createElement(Je,{dropdownMatchSelectWidth:$t}),ir);const vo=w.useMemo(()=>{var Po,ds,Za,ks;return(0,q.T)(((Po=ge.Z.Form)===null||Po===void 0?void 0:Po.defaultValidateMessages)||{},((Za=(ds=Ri.locale)===null||ds===void 0?void 0:ds.Form)===null||Za===void 0?void 0:Za.defaultValidateMessages)||{},((ks=Ri.form)===null||ks===void 0?void 0:ks.validateMessages)||{},(Ln==null?void 0:Ln.validateMessages)||{})},[Ri,Ln==null?void 0:Ln.validateMessages]);Object.keys(vo).length>0&&(Ga=w.createElement(K.Z.Provider,{value:vo},Ga)),Nn&&(Ga=w.createElement(se,{locale:Nn,_ANT_MARK__:ie},Ga)),(mt||vn)&&(Ga=w.createElement(ue.Z.Provider,{value:Aa},Ga)),$n&&(Ga=w.createElement(Gt.q,{size:$n},Ga)),Ga=w.createElement(Bt,null,Ga);const To=w.useMemo(()=>{const Po=tr||{},{algorithm:ds,token:Za,components:ks,cssVar:oo}=Po,nu=mn(Po,["algorithm","token","components","cssVar"]),wu=ds&&(!Array.isArray(ds)||ds.length>0)?(0,ne.jG)(ds):ye.uH,Ll={};Object.entries(ks||{}).forEach(Sn=>{let[Qt,rr]=Sn;const rt=Object.assign({},rr);"algorithm"in rt&&(rt.algorithm===!0?rt.theme=wu:(Array.isArray(rt.algorithm)||typeof rt.algorithm=="function")&&(rt.theme=(0,ne.jG)(rt.algorithm)),delete rt.algorithm),Ll[Qt]=rt});const Si=Object.assign(Object.assign({},ve.Z),Za);return Object.assign(Object.assign({},nu),{theme:wu,token:Si,components:Ll,override:Object.assign({override:Si},Ll),cssVar:oo})},[tr]);return ur&&(Ga=w.createElement(ye.Mj.Provider,{value:To},Ga)),Ri.warning&&(Ga=w.createElement(Y.G8.Provider,{value:Ri.warning},Ga)),pi!==void 0&&(Ga=w.createElement(Pt.n,{disabled:pi},Ga)),w.createElement(fe.E_.Provider,{value:Ri},Ga)},In=bn=>{const ir=w.useContext(fe.E_),Nr=w.useContext(ae.Z);return w.createElement(Be,Object.assign({parentContext:ir,legacyLocale:Nr},bn))};In.ConfigContext=fe.E_,In.SizeContext=Gt.Z,In.config=Le,In.useConfig=_n,Object.defineProperty(In,"SizeContext",{get:()=>Gt.Z});var cr=In},50780:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return Y}});var w=A(98037),B={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},ne=(0,w.Z)((0,w.Z)({},B),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),ue=ne,j=A(76852),Y={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},ue),timePickerLocale:Object.assign({},j.Z)}},89700:function(cn,Ne,A){"use strict";A.d(Ne,{RV:function(){return q},Rk:function(){return Y},Ux:function(){return H},aM:function(){return K},pg:function(){return ae},q3:function(){return ue},qI:function(){return j}});var w=A(75271),B=A(24777),ne=A(30454);const ue=w.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),j=w.createContext(null),q=ie=>{const le=(0,ne.Z)(ie,["prefixCls"]);return w.createElement(B.RV,Object.assign({},le))},Y=w.createContext({prefixCls:""}),K=w.createContext({}),H=ie=>{let{children:le,status:se,override:ge}=ie;const ye=(0,w.useContext)(K),ve=(0,w.useMemo)(()=>{const fe=Object.assign({},ye);return ge&&delete fe.isFormItemInput,se&&(delete fe.status,delete fe.hasFeedback,delete fe.feedbackIcon),fe},[se,ge,ye]);return w.createElement(K.Provider,{value:ve},le)},ae=(0,w.createContext)(void 0)},42578:function(cn,Ne,A){"use strict";var w=A(75271),B=A(89700),ne=A(72158);const ue=function(j,q){let Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var K,H;const{variant:ae,[j]:ie}=(0,w.useContext)(ne.E_),le=(0,w.useContext)(B.pg),se=ie==null?void 0:ie.variant;let ge;typeof q!="undefined"?ge=q:Y===!1?ge="borderless":ge=(H=(K=le!=null?le:se)!==null&&K!==void 0?K:ae)!==null&&H!==void 0?H:"outlined";const ye=ne.tr.includes(ge);return[ge,ye]};Ne.Z=ue},45189:function(cn,Ne,A){"use strict";var w=A(75271);Ne.Z=(0,w.createContext)(void 0)},17840:function(cn,Ne,A){"use strict";var w=A(75271),B=A(82187),ne=A.n(B),ue=A(70220),j=A(23696),q=A(57364),Y=A(72158),K=A(3161),H=A(88952),ae=A(79946),ie=A(89700),le=A(42578),se=A(9997),ge=A(46581),ye=function(fe,Fe){var yt={};for(var gt in fe)Object.prototype.hasOwnProperty.call(fe,gt)&&Fe.indexOf(gt)<0&&(yt[gt]=fe[gt]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,gt=Object.getOwnPropertySymbols(fe);pt<gt.length;pt++)Fe.indexOf(gt[pt])<0&&Object.prototype.propertyIsEnumerable.call(fe,gt[pt])&&(yt[gt[pt]]=fe[gt[pt]]);return yt};const ve=(0,w.forwardRef)((fe,Fe)=>{var yt,gt;const{prefixCls:pt,bordered:lt=!0,size:Ke,disabled:Ue,status:Pt,allowClear:Gt,classNames:rn,rootClassName:_n,className:qe,style:Nt,styles:ft,variant:ln}=fe,tt=ye(fe,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:Pe,direction:Qe,textArea:He}=w.useContext(Y.E_),_t=(0,ae.Z)(Ke),Bt=w.useContext(K.Z),At=Ue!=null?Ue:Bt,{status:Je,hasFeedback:zt,feedbackIcon:mn}=w.useContext(ie.aM),Ot=(0,q.F)(Je,Pt),Xe=w.useRef(null);w.useImperativeHandle(Fe,()=>{var J;return{resizableTextArea:(J=Xe.current)===null||J===void 0?void 0:J.resizableTextArea,focus:Le=>{var Jt,Be;(0,se.nH)((Be=(Jt=Xe.current)===null||Jt===void 0?void 0:Jt.resizableTextArea)===null||Be===void 0?void 0:Be.textArea,Le)},blur:()=>{var Le;return(Le=Xe.current)===null||Le===void 0?void 0:Le.blur()}}});const ct=Pe("input",pt),Rt=(0,H.Z)(ct),[Oe,Ge,Vt]=(0,ge.ZP)(ct,Rt),[De,et]=(0,le.Z)("textArea",ln,lt),Ce=(0,j.Z)(Gt!=null?Gt:He==null?void 0:He.allowClear);return Oe(w.createElement(ue.Z,Object.assign({autoComplete:He==null?void 0:He.autoComplete},tt,{style:Object.assign(Object.assign({},He==null?void 0:He.style),Nt),styles:Object.assign(Object.assign({},He==null?void 0:He.styles),ft),disabled:At,allowClear:Ce,className:ne()(Vt,Rt,qe,_n,He==null?void 0:He.className),classNames:Object.assign(Object.assign(Object.assign({},rn),He==null?void 0:He.classNames),{textarea:ne()({[`${ct}-sm`]:_t==="small",[`${ct}-lg`]:_t==="large"},Ge,rn==null?void 0:rn.textarea,(yt=He==null?void 0:He.classNames)===null||yt===void 0?void 0:yt.textarea),variant:ne()({[`${ct}-${De}`]:et},(0,q.Z)(ct,Ot)),affixWrapper:ne()(`${ct}-textarea-affix-wrapper`,{[`${ct}-affix-wrapper-rtl`]:Qe==="rtl",[`${ct}-affix-wrapper-sm`]:_t==="small",[`${ct}-affix-wrapper-lg`]:_t==="large",[`${ct}-textarea-show-count`]:fe.showCount||((gt=fe.count)===null||gt===void 0?void 0:gt.show)},Ge)}),prefixCls:ct,suffix:zt&&w.createElement("span",{className:`${ct}-textarea-suffix`},mn),ref:Xe})))});Ne.Z=ve},46581:function(cn,Ne,A){"use strict";A.d(Ne,{ik:function(){return le},nz:function(){return K},s7:function(){return se},x0:function(){return ie}});var w=A(60595),B=A(49660),ne=A(62168),ue=A(61261),j=A(53557),q=A(76238),Y=A(63717);const K=pt=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:pt,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),H=pt=>({borderColor:pt.activeBorderColor,boxShadow:pt.activeShadow,outline:0,backgroundColor:pt.activeBg}),ae=pt=>{const{paddingBlockLG:lt,lineHeightLG:Ke,borderRadiusLG:Ue,paddingInlineLG:Pt}=pt;return{padding:`${(0,w.bf)(lt)} ${(0,w.bf)(Pt)}`,fontSize:pt.inputFontSizeLG,lineHeight:Ke,borderRadius:Ue}},ie=pt=>({padding:`${(0,w.bf)(pt.paddingBlockSM)} ${(0,w.bf)(pt.paddingInlineSM)}`,fontSize:pt.inputFontSizeSM,borderRadius:pt.borderRadiusSM}),le=pt=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,w.bf)(pt.paddingBlock)} ${(0,w.bf)(pt.paddingInline)}`,color:pt.colorText,fontSize:pt.inputFontSize,lineHeight:pt.lineHeight,borderRadius:pt.borderRadius,transition:`all ${pt.motionDurationMid}`},K(pt.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:pt.controlHeight,lineHeight:pt.lineHeight,verticalAlign:"bottom",transition:`all ${pt.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},ae(pt)),"&-sm":Object.assign({},ie(pt)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),se=pt=>{const{componentCls:lt,antCls:Ke}=pt;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:pt.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${lt}, &-lg > ${lt}-group-addon`]:Object.assign({},ae(pt)),[`&-sm ${lt}, &-sm > ${lt}-group-addon`]:Object.assign({},ie(pt)),[`&-lg ${Ke}-select-single ${Ke}-select-selector`]:{height:pt.controlHeightLG},[`&-sm ${Ke}-select-single ${Ke}-select-selector`]:{height:pt.controlHeightSM},[`> ${lt}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${lt}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,w.bf)(pt.paddingInline)}`,color:pt.colorText,fontWeight:"normal",fontSize:pt.inputFontSize,textAlign:"center",borderRadius:pt.borderRadius,transition:`all ${pt.motionDurationSlow}`,lineHeight:1,[`${Ke}-select`]:{margin:`${(0,w.bf)(pt.calc(pt.paddingBlock).add(1).mul(-1).equal())} ${(0,w.bf)(pt.calc(pt.paddingInline).mul(-1).equal())}`,[`&${Ke}-select-single:not(${Ke}-select-customize-input):not(${Ke}-pagination-size-changer)`]:{[`${Ke}-select-selector`]:{backgroundColor:"inherit",border:`${(0,w.bf)(pt.lineWidth)} ${pt.lineType} transparent`,boxShadow:"none"}}},[`${Ke}-cascader-picker`]:{margin:`-9px ${(0,w.bf)(pt.calc(pt.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${Ke}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[lt]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${lt}-search-with-button &`]:{zIndex:0}}},[`> ${lt}:first-child, ${lt}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${Ke}-select ${Ke}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${lt}-affix-wrapper`]:{[`&:not(:first-child) ${lt}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${lt}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${lt}:last-child, ${lt}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${Ke}-select ${Ke}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${lt}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${lt}-search &`]:{borderStartStartRadius:pt.borderRadius,borderEndStartRadius:pt.borderRadius}},[`&:not(:first-child), ${lt}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${lt}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,B.dF)()),{[`${lt}-group-addon, ${lt}-group-wrap, > ${lt}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:pt.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${lt}-affix-wrapper,
        & > ${lt}-number-affix-wrapper,
        & > ${Ke}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:pt.calc(pt.lineWidth).mul(-1).equal(),borderInlineEndWidth:pt.lineWidth},[lt]:{float:"none"},[`& > ${Ke}-select > ${Ke}-select-selector,
      & > ${Ke}-select-auto-complete ${lt},
      & > ${Ke}-cascader-picker ${lt},
      & > ${lt}-group-wrapper ${lt}`]:{borderInlineEndWidth:pt.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${Ke}-select-focused`]:{zIndex:1},[`& > ${Ke}-select > ${Ke}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${Ke}-select:first-child > ${Ke}-select-selector,
      & > ${Ke}-select-auto-complete:first-child ${lt},
      & > ${Ke}-cascader-picker:first-child ${lt}`]:{borderStartStartRadius:pt.borderRadius,borderEndStartRadius:pt.borderRadius},[`& > *:last-child,
      & > ${Ke}-select:last-child > ${Ke}-select-selector,
      & > ${Ke}-cascader-picker:last-child ${lt},
      & > ${Ke}-cascader-picker-focused:last-child ${lt}`]:{borderInlineEndWidth:pt.lineWidth,borderStartEndRadius:pt.borderRadius,borderEndEndRadius:pt.borderRadius},[`& > ${Ke}-select-auto-complete ${lt}`]:{verticalAlign:"top"},[`${lt}-group-wrapper + ${lt}-group-wrapper`]:{marginInlineStart:pt.calc(pt.lineWidth).mul(-1).equal(),[`${lt}-affix-wrapper`]:{borderRadius:0}},[`${lt}-group-wrapper:not(:last-child)`]:{[`&${lt}-search > ${lt}-group`]:{[`& > ${lt}-group-addon > ${lt}-search-button`]:{borderRadius:0},[`& > ${lt}`]:{borderStartStartRadius:pt.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:pt.borderRadius}}}})}},ge=pt=>{const{componentCls:lt,controlHeightSM:Ke,lineWidth:Ue,calc:Pt}=pt,rn=Pt(Ke).sub(Pt(Ue).mul(2)).sub(16).div(2).equal();return{[lt]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,B.Wf)(pt)),le(pt)),(0,Y.qG)(pt)),(0,Y.H8)(pt)),(0,Y.Mu)(pt)),{'&[type="color"]':{height:pt.controlHeight,[`&${lt}-lg`]:{height:pt.controlHeightLG},[`&${lt}-sm`]:{height:Ke,paddingTop:rn,paddingBottom:rn}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},ye=pt=>{const{componentCls:lt}=pt;return{[`${lt}-clear-icon`]:{margin:0,lineHeight:0,color:pt.colorTextQuaternary,fontSize:pt.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${pt.motionDurationSlow}`,"&:hover":{color:pt.colorTextTertiary},"&:active":{color:pt.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,w.bf)(pt.inputAffixPadding)}`}}}},ve=pt=>{const{componentCls:lt,inputAffixPadding:Ke,colorTextDescription:Ue,motionDurationSlow:Pt,colorIcon:Gt,colorIconHover:rn,iconCls:_n}=pt,qe=`${lt}-affix-wrapper`,Nt=`${lt}-affix-wrapper-disabled`;return{[qe]:Object.assign(Object.assign(Object.assign(Object.assign({},le(pt)),{display:"inline-flex",[`&:not(${lt}-disabled):hover`]:{zIndex:1,[`${lt}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${lt}`]:{padding:0},[`> input${lt}, > textarea${lt}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[lt]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:pt.paddingXS}},"&-show-count-suffix":{color:Ue},"&-show-count-has-suffix":{marginInlineEnd:pt.paddingXXS},"&-prefix":{marginInlineEnd:Ke},"&-suffix":{marginInlineStart:Ke}}}),ye(pt)),{[`${_n}${lt}-password-icon`]:{color:Gt,cursor:"pointer",transition:`all ${Pt}`,"&:hover":{color:rn}}}),[Nt]:{[`${_n}${lt}-password-icon`]:{color:Gt,cursor:"not-allowed","&:hover":{color:Gt}}}}},fe=pt=>{const{componentCls:lt,borderRadiusLG:Ke,borderRadiusSM:Ue}=pt;return{[`${lt}-group`]:Object.assign(Object.assign(Object.assign({},(0,B.Wf)(pt)),se(pt)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${lt}-group-addon`]:{borderRadius:Ke,fontSize:pt.inputFontSizeLG}},"&-sm":{[`${lt}-group-addon`]:{borderRadius:Ue}}},(0,Y.ir)(pt)),(0,Y.S5)(pt)),{[`&:not(${lt}-compact-first-item):not(${lt}-compact-last-item)${lt}-compact-item`]:{[`${lt}, ${lt}-group-addon`]:{borderRadius:0}},[`&:not(${lt}-compact-last-item)${lt}-compact-first-item`]:{[`${lt}, ${lt}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${lt}-compact-first-item)${lt}-compact-last-item`]:{[`${lt}, ${lt}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${lt}-compact-last-item)${lt}-compact-item`]:{[`${lt}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},Fe=pt=>{const{componentCls:lt,antCls:Ke}=pt,Ue=`${lt}-search`;return{[Ue]:{[lt]:{"&:hover, &:focus":{[`+ ${lt}-group-addon ${Ue}-button:not(${Ke}-btn-primary)`]:{borderInlineStartColor:pt.colorPrimaryHover}}},[`${lt}-affix-wrapper`]:{height:pt.controlHeight,borderRadius:0},[`${lt}-lg`]:{lineHeight:pt.calc(pt.lineHeightLG).sub(2e-4).equal()},[`> ${lt}-group`]:{[`> ${lt}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${Ue}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${Ue}-button:not(${Ke}-btn-primary)`]:{color:pt.colorTextDescription,"&:hover":{color:pt.colorPrimaryHover},"&:active":{color:pt.colorPrimaryActive},[`&${Ke}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${Ue}-button`]:{height:pt.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${lt}-affix-wrapper, ${Ue}-button`]:{height:pt.controlHeightLG}},"&-small":{[`${lt}-affix-wrapper, ${Ue}-button`]:{height:pt.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${lt}-compact-item`]:{[`&:not(${lt}-compact-last-item)`]:{[`${lt}-group-addon`]:{[`${lt}-search-button`]:{marginInlineEnd:pt.calc(pt.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${lt}-compact-first-item)`]:{[`${lt},${lt}-affix-wrapper`]:{borderRadius:0}},[`> ${lt}-group-addon ${lt}-search-button,
        > ${lt},
        ${lt}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${lt}-affix-wrapper-focused`]:{zIndex:2}}}}},yt=pt=>{const{componentCls:lt,paddingLG:Ke}=pt,Ue=`${lt}-textarea`;return{[Ue]:{position:"relative","&-show-count":{[`> ${lt}`]:{height:"100%"},[`${lt}-data-count`]:{position:"absolute",bottom:pt.calc(pt.fontSize).mul(pt.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:pt.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${lt},
        &-affix-wrapper${Ue}-has-feedback ${lt}
      `]:{paddingInlineEnd:Ke},[`&-affix-wrapper${lt}-affix-wrapper`]:{padding:0,[`> textarea${lt}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${lt}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${lt}-clear-icon`]:{position:"absolute",insetInlineEnd:pt.paddingInline,insetBlockStart:pt.paddingXS},[`${Ue}-suffix`]:{position:"absolute",top:0,insetInlineEnd:pt.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${lt}-affix-wrapper-sm`]:{[`${lt}-suffix`]:{[`${lt}-clear-icon`]:{insetInlineEnd:pt.paddingInlineSM}}}}}},gt=pt=>{const{componentCls:lt}=pt;return{[`${lt}-out-of-range`]:{[`&, & input, & textarea, ${lt}-show-count-suffix, ${lt}-data-count`]:{color:pt.colorError}}}};Ne.ZP=(0,ue.I$)("Input",pt=>{const lt=(0,j.IX)(pt,(0,q.e)(pt));return[ge(lt),yt(lt),ve(lt),fe(lt),Fe(lt),gt(lt),(0,ne.c)(lt)]},q.T,{resetFont:!1})},76238:function(cn,Ne,A){"use strict";A.d(Ne,{T:function(){return ne},e:function(){return B}});var w=A(53557);function B(ue){return(0,w.IX)(ue,{inputAffixPadding:ue.paddingXXS})}const ne=ue=>{const{controlHeight:j,fontSize:q,lineHeight:Y,lineWidth:K,controlHeightSM:H,controlHeightLG:ae,fontSizeLG:ie,lineHeightLG:le,paddingSM:se,controlPaddingHorizontalSM:ge,controlPaddingHorizontal:ye,colorFillAlter:ve,colorPrimaryHover:fe,colorPrimary:Fe,controlOutlineWidth:yt,controlOutline:gt,colorErrorOutline:pt,colorWarningOutline:lt,colorBgContainer:Ke}=ue;return{paddingBlock:Math.max(Math.round((j-q*Y)/2*10)/10-K,0),paddingBlockSM:Math.max(Math.round((H-q*Y)/2*10)/10-K,0),paddingBlockLG:Math.ceil((ae-ie*le)/2*10)/10-K,paddingInline:se-K,paddingInlineSM:ge-K,paddingInlineLG:ye-K,addonBg:ve,activeBorderColor:Fe,hoverBorderColor:fe,activeShadow:`0 0 0 ${yt}px ${gt}`,errorActiveShadow:`0 0 0 ${yt}px ${pt}`,warningActiveShadow:`0 0 0 ${yt}px ${lt}`,hoverBg:Ke,activeBg:Ke,inputFontSize:q,inputFontSizeLG:ie,inputFontSizeSM:q}}},63717:function(cn,Ne,A){"use strict";A.d(Ne,{$U:function(){return j},H8:function(){return se},Mu:function(){return ae},S5:function(){return ye},Xy:function(){return ue},ir:function(){return H},qG:function(){return Y}});var w=A(60595),B=A(53557);const ne=ve=>({borderColor:ve.hoverBorderColor,backgroundColor:ve.hoverBg}),ue=ve=>({color:ve.colorTextDisabled,backgroundColor:ve.colorBgContainerDisabled,borderColor:ve.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},ne((0,B.IX)(ve,{hoverBorderColor:ve.colorBorder,hoverBg:ve.colorBgContainerDisabled})))}),j=(ve,fe)=>({background:ve.colorBgContainer,borderWidth:ve.lineWidth,borderStyle:ve.lineType,borderColor:fe.borderColor,"&:hover":{borderColor:fe.hoverBorderColor,backgroundColor:ve.hoverBg},"&:focus, &:focus-within":{borderColor:fe.activeBorderColor,boxShadow:fe.activeShadow,outline:0,backgroundColor:ve.activeBg}}),q=(ve,fe)=>({[`&${ve.componentCls}-status-${fe.status}:not(${ve.componentCls}-disabled)`]:Object.assign(Object.assign({},j(ve,fe)),{[`${ve.componentCls}-prefix, ${ve.componentCls}-suffix`]:{color:fe.affixColor}}),[`&${ve.componentCls}-status-${fe.status}${ve.componentCls}-disabled`]:{borderColor:fe.borderColor}}),Y=(ve,fe)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},j(ve,{borderColor:ve.colorBorder,hoverBorderColor:ve.hoverBorderColor,activeBorderColor:ve.activeBorderColor,activeShadow:ve.activeShadow})),{[`&${ve.componentCls}-disabled, &[disabled]`]:Object.assign({},ue(ve))}),q(ve,{status:"error",borderColor:ve.colorError,hoverBorderColor:ve.colorErrorBorderHover,activeBorderColor:ve.colorError,activeShadow:ve.errorActiveShadow,affixColor:ve.colorError})),q(ve,{status:"warning",borderColor:ve.colorWarning,hoverBorderColor:ve.colorWarningBorderHover,activeBorderColor:ve.colorWarning,activeShadow:ve.warningActiveShadow,affixColor:ve.colorWarning})),fe)}),K=(ve,fe)=>({[`&${ve.componentCls}-group-wrapper-status-${fe.status}`]:{[`${ve.componentCls}-group-addon`]:{borderColor:fe.addonBorderColor,color:fe.addonColor}}}),H=ve=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${ve.componentCls}-group`]:{"&-addon":{background:ve.addonBg,border:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},K(ve,{status:"error",addonBorderColor:ve.colorError,addonColor:ve.colorErrorText})),K(ve,{status:"warning",addonBorderColor:ve.colorWarning,addonColor:ve.colorWarningText})),{[`&${ve.componentCls}-group-wrapper-disabled`]:{[`${ve.componentCls}-group-addon`]:Object.assign({},ue(ve))}})}),ae=(ve,fe)=>{const{componentCls:Fe}=ve;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${Fe}-disabled, &[disabled]`]:{color:ve.colorTextDisabled,cursor:"not-allowed"},[`&${Fe}-status-error`]:{"&, & input, & textarea":{color:ve.colorError}},[`&${Fe}-status-warning`]:{"&, & input, & textarea":{color:ve.colorWarning}}},fe)}},ie=(ve,fe)=>({background:fe.bg,borderWidth:ve.lineWidth,borderStyle:ve.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:fe==null?void 0:fe.inputColor},"&:hover":{background:fe.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:fe.activeBorderColor,backgroundColor:ve.activeBg}}),le=(ve,fe)=>({[`&${ve.componentCls}-status-${fe.status}:not(${ve.componentCls}-disabled)`]:Object.assign(Object.assign({},ie(ve,fe)),{[`${ve.componentCls}-prefix, ${ve.componentCls}-suffix`]:{color:fe.affixColor}})}),se=(ve,fe)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ie(ve,{bg:ve.colorFillTertiary,hoverBg:ve.colorFillSecondary,activeBorderColor:ve.activeBorderColor})),{[`&${ve.componentCls}-disabled, &[disabled]`]:Object.assign({},ue(ve))}),le(ve,{status:"error",bg:ve.colorErrorBg,hoverBg:ve.colorErrorBgHover,activeBorderColor:ve.colorError,inputColor:ve.colorErrorText,affixColor:ve.colorError})),le(ve,{status:"warning",bg:ve.colorWarningBg,hoverBg:ve.colorWarningBgHover,activeBorderColor:ve.colorWarning,inputColor:ve.colorWarningText,affixColor:ve.colorWarning})),fe)}),ge=(ve,fe)=>({[`&${ve.componentCls}-group-wrapper-status-${fe.status}`]:{[`${ve.componentCls}-group-addon`]:{background:fe.addonBg,color:fe.addonColor}}}),ye=ve=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${ve.componentCls}-group`]:{"&-addon":{background:ve.colorFillTertiary},[`${ve.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorSplit}`}}}},ge(ve,{status:"error",addonBg:ve.colorErrorBg,addonColor:ve.colorErrorText})),ge(ve,{status:"warning",addonBg:ve.colorWarningBg,addonColor:ve.colorWarningText})),{[`&${ve.componentCls}-group-wrapper-disabled`]:{[`${ve.componentCls}-group`]:{"&-addon":{background:ve.colorFillTertiary,color:ve.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorBorder}`,borderTop:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorBorder}`,borderBottom:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorBorder}`,borderTop:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorBorder}`,borderBottom:`${(0,w.bf)(ve.lineWidth)} ${ve.lineType} ${ve.colorBorder}`}}}})})},84656:function(cn,Ne,A){"use strict";var w=A(75271);const B=(0,w.createContext)(void 0);Ne.Z=B},86438:function(cn,Ne,A){"use strict";var w=A(4327),B=A(94210),ne=A(50780),ue=A(76852);const j="${label} is not a valid ${type}",q={locale:"en",Pagination:w.Z,DatePicker:ne.Z,TimePicker:ue.Z,Calendar:B.Z,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:j,method:j,array:j,object:j,number:j,date:j,boolean:j,integer:j,float:j,regexp:j,email:j,url:j,hex:j},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Ne.Z=q},88658:function(cn,Ne,A){"use strict";var w=A(75271),B=A(84656),ne=A(86438);const ue=(j,q)=>{const Y=w.useContext(B.Z),K=w.useMemo(()=>{var ae;const ie=q||ne.Z[j],le=(ae=Y==null?void 0:Y[j])!==null&&ae!==void 0?ae:{};return Object.assign(Object.assign({},typeof ie=="function"?ie():ie),le||{})},[j,q,Y]),H=w.useMemo(()=>{const ae=Y==null?void 0:Y.locale;return Y!=null&&Y.exist&&!ae?ne.Z.locale:ae},[Y]);return[K,H]};Ne.Z=ue},77704:function(cn,Ne,A){"use strict";A.d(Ne,{A:function(){return q},f:function(){return j}});var w=A(86438);let B=Object.assign({},w.Z.Modal),ne=[];const ue=()=>ne.reduce((Y,K)=>Object.assign(Object.assign({},Y),K),w.Z.Modal);function j(Y){if(Y){const K=Object.assign({},Y);return ne.push(K),B=ue(),()=>{ne=ne.filter(H=>H!==K),B=ue()}}B=Object.assign({},w.Z.Modal)}function q(){return B}},75477:function(cn,Ne,A){"use strict";A.d(Ne,{BR:function(){return ie},ri:function(){return ae}});var w=A(75271),B=A(82187),ne=A.n(B),ue=A(48894),j=A(72158),q=A(79946),Y=A(8394),K=function(ge,ye){var ve={};for(var fe in ge)Object.prototype.hasOwnProperty.call(ge,fe)&&ye.indexOf(fe)<0&&(ve[fe]=ge[fe]);if(ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,fe=Object.getOwnPropertySymbols(ge);Fe<fe.length;Fe++)ye.indexOf(fe[Fe])<0&&Object.prototype.propertyIsEnumerable.call(ge,fe[Fe])&&(ve[fe[Fe]]=ge[fe[Fe]]);return ve};const H=w.createContext(null),ae=(ge,ye)=>{const ve=w.useContext(H),fe=w.useMemo(()=>{if(!ve)return"";const{compactDirection:Fe,isFirstItem:yt,isLastItem:gt}=ve,pt=Fe==="vertical"?"-vertical-":"-";return ne()(`${ge}-compact${pt}item`,{[`${ge}-compact${pt}first-item`]:yt,[`${ge}-compact${pt}last-item`]:gt,[`${ge}-compact${pt}item-rtl`]:ye==="rtl"})},[ge,ye,ve]);return{compactSize:ve==null?void 0:ve.compactSize,compactDirection:ve==null?void 0:ve.compactDirection,compactItemClassnames:fe}},ie=ge=>{let{children:ye}=ge;return w.createElement(H.Provider,{value:null},ye)},le=ge=>{var{children:ye}=ge,ve=K(ge,["children"]);return w.createElement(H.Provider,{value:ve},ye)},se=ge=>{const{getPrefixCls:ye,direction:ve}=w.useContext(j.E_),{size:fe,direction:Fe,block:yt,prefixCls:gt,className:pt,rootClassName:lt,children:Ke}=ge,Ue=K(ge,["size","direction","block","prefixCls","className","rootClassName","children"]),Pt=(0,q.Z)(tt=>fe!=null?fe:tt),Gt=ye("space-compact",gt),[rn,_n]=(0,Y.Z)(Gt),qe=ne()(Gt,_n,{[`${Gt}-rtl`]:ve==="rtl",[`${Gt}-block`]:yt,[`${Gt}-vertical`]:Fe==="vertical"},pt,lt),Nt=w.useContext(H),ft=(0,ue.Z)(Ke),ln=w.useMemo(()=>ft.map((tt,Pe)=>{const Qe=(tt==null?void 0:tt.key)||`${Gt}-item-${Pe}`;return w.createElement(le,{key:Qe,compactSize:Pt,compactDirection:Fe,isFirstItem:Pe===0&&(!Nt||(Nt==null?void 0:Nt.isFirstItem)),isLastItem:Pe===ft.length-1&&(!Nt||(Nt==null?void 0:Nt.isLastItem))},tt)}),[fe,ft,Nt]);return ft.length===0?null:rn(w.createElement("div",Object.assign({className:qe},Ue),ln))};Ne.ZP=se},8394:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return K}});var w=A(61261),B=A(53557),ue=H=>{const{componentCls:ae}=H;return{[ae]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const j=H=>{const{componentCls:ae,antCls:ie}=H;return{[ae]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${ae}-item:empty`]:{display:"none"},[`${ae}-item > ${ie}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},q=H=>{const{componentCls:ae}=H;return{[ae]:{"&-gap-row-small":{rowGap:H.spaceGapSmallSize},"&-gap-row-middle":{rowGap:H.spaceGapMiddleSize},"&-gap-row-large":{rowGap:H.spaceGapLargeSize},"&-gap-col-small":{columnGap:H.spaceGapSmallSize},"&-gap-col-middle":{columnGap:H.spaceGapMiddleSize},"&-gap-col-large":{columnGap:H.spaceGapLargeSize}}}},Y=()=>({});var K=(0,w.I$)("Space",H=>{const ae=(0,B.IX)(H,{spaceGapSmallSize:H.paddingXS,spaceGapMiddleSize:H.padding,spaceGapLargeSize:H.paddingLG});return[j(ae),q(ae),ue(ae)]},()=>({}),{resetStyle:!1})},62168:function(cn,Ne,A){"use strict";A.d(Ne,{c:function(){return ne}});function w(ue,j,q){const{focusElCls:Y,focus:K,borderElCls:H}=q,ae=H?"> *":"",ie=["hover",K?"focus":null,"active"].filter(Boolean).map(le=>`&:${le} ${ae}`).join(",");return{[`&-item:not(${j}-last-item)`]:{marginInlineEnd:ue.calc(ue.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[ie]:{zIndex:2}},Y?{[`&${Y}`]:{zIndex:2}}:{}),{[`&[disabled] ${ae}`]:{zIndex:0}})}}function B(ue,j,q){const{borderElCls:Y}=q,K=Y?`> ${Y}`:"";return{[`&-item:not(${j}-first-item):not(${j}-last-item) ${K}`]:{borderRadius:0},[`&-item:not(${j}-last-item)${j}-first-item`]:{[`& ${K}, &${ue}-sm ${K}, &${ue}-lg ${K}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${j}-first-item)${j}-last-item`]:{[`& ${K}, &${ue}-sm ${K}, &${ue}-lg ${K}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function ne(ue){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:q}=ue,Y=`${q}-compact`;return{[Y]:Object.assign(Object.assign({},w(ue,Y,j)),B(q,Y,j))}}},49660:function(cn,Ne,A){"use strict";A.d(Ne,{Lx:function(){return q},Nd:function(){return ae},Qy:function(){return H},Ro:function(){return ue},Wf:function(){return ne},dF:function(){return j},du:function(){return Y},oN:function(){return K},vS:function(){return B}});var w=A(60595);const B={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ne=function(ie){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:ie.colorText,fontSize:ie.fontSize,lineHeight:ie.lineHeight,listStyle:"none",fontFamily:le?"inherit":ie.fontFamily}},ue=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),j=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),q=ie=>({a:{color:ie.colorLink,textDecoration:ie.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${ie.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:ie.colorLinkHover},"&:active":{color:ie.colorLinkActive},"&:active, &:hover":{textDecoration:ie.linkHoverDecoration,outline:0},"&:focus":{textDecoration:ie.linkFocusDecoration,outline:0},"&[disabled]":{color:ie.colorTextDisabled,cursor:"not-allowed"}}}),Y=(ie,le,se,ge)=>{const ye=`[class^="${le}"], [class*=" ${le}"]`,ve=se?`.${se}`:ye,fe={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let Fe={};return ge!==!1&&(Fe={fontFamily:ie.fontFamily,fontSize:ie.fontSize}),{[ve]:Object.assign(Object.assign(Object.assign({},Fe),fe),{[ye]:fe})}},K=ie=>({outline:`${(0,w.bf)(ie.lineWidthFocus)} solid ${ie.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),H=ie=>({"&:focus-visible":Object.assign({},K(ie))}),ae=ie=>Object.assign(Object.assign({color:ie.colorLink,textDecoration:ie.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${ie.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},H(ie)),{"&:focus, &:hover":{color:ie.colorLinkHover},"&:active":{color:ie.colorLinkActive}})},57014:function(cn,Ne,A){"use strict";A.d(Ne,{R:function(){return ne}});const w=ue=>({animationDuration:ue,animationFillMode:"both"}),B=ue=>({animationDuration:ue,animationFillMode:"both"}),ne=function(ue,j,q,Y){const H=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${H}${ue}-enter,
      ${H}${ue}-appear
    `]:Object.assign(Object.assign({},w(Y)),{animationPlayState:"paused"}),[`${H}${ue}-leave`]:Object.assign(Object.assign({},B(Y)),{animationPlayState:"paused"}),[`
      ${H}${ue}-enter${ue}-enter-active,
      ${H}${ue}-appear${ue}-appear-active
    `]:{animationName:j,animationPlayState:"running"},[`${H}${ue}-leave${ue}-leave-active`]:{animationName:q,animationPlayState:"running",pointerEvents:"none"}}}},93795:function(cn,Ne,A){"use strict";A.d(Ne,{_y:function(){return ve},kr:function(){return ne}});var w=A(60595),B=A(57014);const ne=new w.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ue=new w.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),j=new w.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),q=new w.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Y=new w.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),K=new w.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),H=new w.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),ae=new w.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),ie=new w.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),le=new w.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),se=new w.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),ge=new w.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),ye={zoom:{inKeyframes:ne,outKeyframes:ue},"zoom-big":{inKeyframes:j,outKeyframes:q},"zoom-big-fast":{inKeyframes:j,outKeyframes:q},"zoom-left":{inKeyframes:H,outKeyframes:ae},"zoom-right":{inKeyframes:ie,outKeyframes:le},"zoom-up":{inKeyframes:Y,outKeyframes:K},"zoom-down":{inKeyframes:se,outKeyframes:ge}},ve=(fe,Fe)=>{const{antCls:yt}=fe,gt=`${yt}-${Fe}`,{inKeyframes:pt,outKeyframes:lt}=ye[Fe];return[(0,B.R)(gt,pt,lt,Fe==="zoom-big-fast"?fe.motionDurationFast:fe.motionDurationMid),{[`
        ${gt}-enter,
        ${gt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:fe.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${gt}-leave`]:{animationTimingFunction:fe.motionEaseInOutCirc}}]}},91316:function(cn,Ne,A){"use strict";A.d(Ne,{ZP:function(){return q},qN:function(){return ne},wZ:function(){return ue}});var w=A(60595),B=A(74527);const ne=8;function ue(Y){const{contentRadius:K,limitVerticalRadius:H}=Y,ae=K>12?K+2:12;return{arrowOffsetHorizontal:ae,arrowOffsetVertical:H?ne:ae}}function j(Y,K){return Y?K:{}}function q(Y,K,H){const{componentCls:ae,boxShadowPopoverArrow:ie,arrowOffsetVertical:le,arrowOffsetHorizontal:se}=Y,{arrowDistance:ge=0,arrowPlacement:ye={left:!0,right:!0,top:!0,bottom:!0}}=H||{};return{[ae]:Object.assign(Object.assign(Object.assign(Object.assign({[`${ae}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,B.W)(Y,K,ie)),{"&:before":{background:K}})]},j(!!ye.top,{[[`&-placement-top > ${ae}-arrow`,`&-placement-topLeft > ${ae}-arrow`,`&-placement-topRight > ${ae}-arrow`].join(",")]:{bottom:ge,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${ae}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":se,[`> ${ae}-arrow`]:{left:{_skip_check_:!0,value:se}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,w.bf)(se)})`,[`> ${ae}-arrow`]:{right:{_skip_check_:!0,value:se}}}})),j(!!ye.bottom,{[[`&-placement-bottom > ${ae}-arrow`,`&-placement-bottomLeft > ${ae}-arrow`,`&-placement-bottomRight > ${ae}-arrow`].join(",")]:{top:ge,transform:"translateY(-100%)"},[`&-placement-bottom > ${ae}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":se,[`> ${ae}-arrow`]:{left:{_skip_check_:!0,value:se}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,w.bf)(se)})`,[`> ${ae}-arrow`]:{right:{_skip_check_:!0,value:se}}}})),j(!!ye.left,{[[`&-placement-left > ${ae}-arrow`,`&-placement-leftTop > ${ae}-arrow`,`&-placement-leftBottom > ${ae}-arrow`].join(",")]:{right:{_skip_check_:!0,value:ge},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${ae}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${ae}-arrow`]:{top:le},[`&-placement-leftBottom > ${ae}-arrow`]:{bottom:le}})),j(!!ye.right,{[[`&-placement-right > ${ae}-arrow`,`&-placement-rightTop > ${ae}-arrow`,`&-placement-rightBottom > ${ae}-arrow`].join(",")]:{left:{_skip_check_:!0,value:ge},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${ae}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${ae}-arrow`]:{top:le},[`&-placement-rightBottom > ${ae}-arrow`]:{bottom:le}}))}}},74527:function(cn,Ne,A){"use strict";A.d(Ne,{W:function(){return ne},w:function(){return B}});var w=A(60595);function B(ue){const{sizePopupArrow:j,borderRadiusXS:q,borderRadiusOuter:Y}=ue,K=j/2,H=0,ae=K,ie=Y*1/Math.sqrt(2),le=K-Y*(1-1/Math.sqrt(2)),se=K-q*(1/Math.sqrt(2)),ge=Y*(Math.sqrt(2)-1)+q*(1/Math.sqrt(2)),ye=2*K-se,ve=ge,fe=2*K-ie,Fe=le,yt=2*K-H,gt=ae,pt=K*Math.sqrt(2)+Y*(Math.sqrt(2)-2),lt=Y*(Math.sqrt(2)-1),Ke=`polygon(${lt}px 100%, 50% ${lt}px, ${2*K-lt}px 100%, ${lt}px 100%)`,Ue=`path('M ${H} ${ae} A ${Y} ${Y} 0 0 0 ${ie} ${le} L ${se} ${ge} A ${q} ${q} 0 0 1 ${ye} ${ve} L ${fe} ${Fe} A ${Y} ${Y} 0 0 0 ${yt} ${gt} Z')`;return{arrowShadowWidth:pt,arrowPath:Ue,arrowPolygon:Ke}}const ne=(ue,j,q)=>{const{sizePopupArrow:Y,arrowPolygon:K,arrowPath:H,arrowShadowWidth:ae,borderRadiusXS:ie,calc:le}=ue;return{pointerEvents:"none",width:Y,height:Y,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:Y,height:le(Y).div(2).equal(),background:j,clipPath:{_multi_value_:!0,value:[K,H]},content:'""'},"&::after":{content:'""',position:"absolute",width:ae,height:ae,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,w.bf)(ie)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:q,zIndex:0,background:"transparent"}}}},67701:function(cn,Ne,A){"use strict";A.d(Ne,{Mj:function(){return Y},uH:function(){return j},u_:function(){return q}});var w=A(75271),B=A(60595),ne=A(10433),ue=A(53569);const j=(0,B.jG)(ne.Z),q={token:ue.Z,override:{override:ue.Z},hashed:!0},Y=w.createContext(q)},68855:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return Ue}});var w=A(60595),B=A(10433),ne=A(53569),ue=A(73778),q=Pt=>{const Gt=Pt!=null&&Pt.algorithm?(0,w.jG)(Pt.algorithm):(0,w.jG)(B.Z),rn=Object.assign(Object.assign({},ne.Z),Pt==null?void 0:Pt.token);return(0,w.t2)(rn,{override:Pt==null?void 0:Pt.token},Gt,ue.Z)},Y=A(35270),K=A(67701),H=A(50565),ae=A(4865);function ie(Pt){const{sizeUnit:Gt,sizeStep:rn}=Pt,_n=rn-2;return{sizeXXL:Gt*(_n+10),sizeXL:Gt*(_n+6),sizeLG:Gt*(_n+2),sizeMD:Gt*(_n+2),sizeMS:Gt*(_n+1),size:Gt*_n,sizeSM:Gt*_n,sizeXS:Gt*(_n-1),sizeXXS:Gt*(_n-1)}}var se=(Pt,Gt)=>{const rn=Gt!=null?Gt:(0,B.Z)(Pt),_n=rn.fontSizeSM,qe=rn.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rn),ie(Gt!=null?Gt:Pt)),(0,ae.Z)(_n)),{controlHeight:qe}),(0,H.Z)(Object.assign(Object.assign({},rn),{controlHeight:qe})))},ge=A(75875),ye=A(82480),ve=A(99978);const fe=(Pt,Gt)=>new ve.C(Pt).setAlpha(Gt).toRgbString(),Fe=(Pt,Gt)=>new ve.C(Pt).lighten(Gt).toHexString(),yt=Pt=>{const Gt=(0,ge.R_)(Pt,{theme:"dark"});return{1:Gt[0],2:Gt[1],3:Gt[2],4:Gt[3],5:Gt[6],6:Gt[5],7:Gt[4],8:Gt[6],9:Gt[5],10:Gt[4]}},gt=(Pt,Gt)=>{const rn=Pt||"#000",_n=Gt||"#fff";return{colorBgBase:rn,colorTextBase:_n,colorText:fe(_n,.85),colorTextSecondary:fe(_n,.65),colorTextTertiary:fe(_n,.45),colorTextQuaternary:fe(_n,.25),colorFill:fe(_n,.18),colorFillSecondary:fe(_n,.12),colorFillTertiary:fe(_n,.08),colorFillQuaternary:fe(_n,.04),colorBgSolid:fe(_n,.95),colorBgSolidHover:fe(_n,1),colorBgSolidActive:fe(_n,.9),colorBgElevated:Fe(rn,12),colorBgContainer:Fe(rn,8),colorBgLayout:Fe(rn,0),colorBgSpotlight:Fe(rn,26),colorBgBlur:fe(_n,.04),colorBorder:Fe(rn,26),colorBorderSecondary:Fe(rn,19)}};var lt=(Pt,Gt)=>{const rn=Object.keys(ne.M).map(qe=>{const Nt=(0,ge.R_)(Pt[qe],{theme:"dark"});return new Array(10).fill(1).reduce((ft,ln,tt)=>(ft[`${qe}-${tt+1}`]=Nt[tt],ft[`${qe}${tt+1}`]=Nt[tt],ft),{})}).reduce((qe,Nt)=>(qe=Object.assign(Object.assign({},qe),Nt),qe),{}),_n=Gt!=null?Gt:(0,B.Z)(Pt);return Object.assign(Object.assign(Object.assign({},_n),rn),(0,ye.Z)(Pt,{generateColorPalettes:yt,generateNeutralColorPalettes:gt}))};function Ke(){const[Pt,Gt,rn]=(0,Y.ZP)();return{theme:Pt,token:Gt,hashId:rn}}var Ue={defaultSeed:K.u_.token,useToken:Ke,defaultAlgorithm:B.Z,darkAlgorithm:lt,compactAlgorithm:se,getDesignToken:q,defaultConfig:K.u_,_internalContext:K.Mj}},15669:function(cn,Ne,A){"use strict";A.d(Ne,{i:function(){return w}});const w=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},10433:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return ye}});var w=A(75875),B=A(53569),ne=A(82480),j=ve=>{let fe=ve,Fe=ve,yt=ve,gt=ve;return ve<6&&ve>=5?fe=ve+1:ve<16&&ve>=6?fe=ve+2:ve>=16&&(fe=16),ve<7&&ve>=5?Fe=4:ve<8&&ve>=7?Fe=5:ve<14&&ve>=8?Fe=6:ve<16&&ve>=14?Fe=7:ve>=16&&(Fe=8),ve<6&&ve>=2?yt=1:ve>=6&&(yt=2),ve>4&&ve<8?gt=4:ve>=8&&(gt=6),{borderRadius:ve,borderRadiusXS:yt,borderRadiusSM:Fe,borderRadiusLG:fe,borderRadiusOuter:gt}};function q(ve){const{motionUnit:fe,motionBase:Fe,borderRadius:yt,lineWidth:gt}=ve;return Object.assign({motionDurationFast:`${(Fe+fe).toFixed(1)}s`,motionDurationMid:`${(Fe+fe*2).toFixed(1)}s`,motionDurationSlow:`${(Fe+fe*3).toFixed(1)}s`,lineWidthBold:gt+1},j(yt))}var Y=A(50565),K=A(4865);function H(ve){const{sizeUnit:fe,sizeStep:Fe}=ve;return{sizeXXL:fe*(Fe+8),sizeXL:fe*(Fe+4),sizeLG:fe*(Fe+2),sizeMD:fe*(Fe+1),sizeMS:fe*Fe,size:fe*Fe,sizeSM:fe*(Fe-1),sizeXS:fe*(Fe-2),sizeXXS:fe*(Fe-3)}}var ae=A(99978);const ie=(ve,fe)=>new ae.C(ve).setAlpha(fe).toRgbString(),le=(ve,fe)=>new ae.C(ve).darken(fe).toHexString(),se=ve=>{const fe=(0,w.R_)(ve);return{1:fe[0],2:fe[1],3:fe[2],4:fe[3],5:fe[4],6:fe[5],7:fe[6],8:fe[4],9:fe[5],10:fe[6]}},ge=(ve,fe)=>{const Fe=ve||"#fff",yt=fe||"#000";return{colorBgBase:Fe,colorTextBase:yt,colorText:ie(yt,.88),colorTextSecondary:ie(yt,.65),colorTextTertiary:ie(yt,.45),colorTextQuaternary:ie(yt,.25),colorFill:ie(yt,.15),colorFillSecondary:ie(yt,.06),colorFillTertiary:ie(yt,.04),colorFillQuaternary:ie(yt,.02),colorBgSolid:ie(yt,1),colorBgSolidHover:ie(yt,.75),colorBgSolidActive:ie(yt,.95),colorBgLayout:le(Fe,4),colorBgContainer:le(Fe,0),colorBgElevated:le(Fe,0),colorBgSpotlight:ie(yt,.85),colorBgBlur:"transparent",colorBorder:le(Fe,15),colorBorderSecondary:le(Fe,6)}};function ye(ve){w.ez.pink=w.ez.magenta,w.Ti.pink=w.Ti.magenta;const fe=Object.keys(B.M).map(Fe=>{const yt=ve[Fe]===w.ez[Fe]?w.Ti[Fe]:(0,w.R_)(ve[Fe]);return new Array(10).fill(1).reduce((gt,pt,lt)=>(gt[`${Fe}-${lt+1}`]=yt[lt],gt[`${Fe}${lt+1}`]=yt[lt],gt),{})}).reduce((Fe,yt)=>(Fe=Object.assign(Object.assign({},Fe),yt),Fe),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ve),fe),(0,ne.Z)(ve,{generateColorPalettes:se,generateNeutralColorPalettes:ge})),(0,K.Z)(ve.fontSize)),H(ve)),(0,Y.Z)(ve)),q(ve))}},53569:function(cn,Ne,A){"use strict";A.d(Ne,{M:function(){return w}});const w={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},B=Object.assign(Object.assign({},w),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});Ne.Z=B},82480:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});var w=A(99978);function B(ne,ue){let{generateColorPalettes:j,generateNeutralColorPalettes:q}=ue;const{colorSuccess:Y,colorWarning:K,colorError:H,colorInfo:ae,colorPrimary:ie,colorBgBase:le,colorTextBase:se}=ne,ge=j(ie),ye=j(Y),ve=j(K),fe=j(H),Fe=j(ae),yt=q(le,se),gt=ne.colorLink||ne.colorInfo,pt=j(gt),lt=new w.C(fe[1]).mix(new w.C(fe[3]),50).toHexString();return Object.assign(Object.assign({},yt),{colorPrimaryBg:ge[1],colorPrimaryBgHover:ge[2],colorPrimaryBorder:ge[3],colorPrimaryBorderHover:ge[4],colorPrimaryHover:ge[5],colorPrimary:ge[6],colorPrimaryActive:ge[7],colorPrimaryTextHover:ge[8],colorPrimaryText:ge[9],colorPrimaryTextActive:ge[10],colorSuccessBg:ye[1],colorSuccessBgHover:ye[2],colorSuccessBorder:ye[3],colorSuccessBorderHover:ye[4],colorSuccessHover:ye[4],colorSuccess:ye[6],colorSuccessActive:ye[7],colorSuccessTextHover:ye[8],colorSuccessText:ye[9],colorSuccessTextActive:ye[10],colorErrorBg:fe[1],colorErrorBgHover:fe[2],colorErrorBgFilledHover:lt,colorErrorBgActive:fe[3],colorErrorBorder:fe[3],colorErrorBorderHover:fe[4],colorErrorHover:fe[5],colorError:fe[6],colorErrorActive:fe[7],colorErrorTextHover:fe[8],colorErrorText:fe[9],colorErrorTextActive:fe[10],colorWarningBg:ve[1],colorWarningBgHover:ve[2],colorWarningBorder:ve[3],colorWarningBorderHover:ve[4],colorWarningHover:ve[4],colorWarning:ve[6],colorWarningActive:ve[7],colorWarningTextHover:ve[8],colorWarningText:ve[9],colorWarningTextActive:ve[10],colorInfoBg:Fe[1],colorInfoBgHover:Fe[2],colorInfoBorder:Fe[3],colorInfoBorderHover:Fe[4],colorInfoHover:Fe[4],colorInfo:Fe[6],colorInfoActive:Fe[7],colorInfoTextHover:Fe[8],colorInfoText:Fe[9],colorInfoTextActive:Fe[10],colorLinkHover:pt[4],colorLink:pt[6],colorLinkActive:pt[7],colorBgMask:new w.C("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}},50565:function(cn,Ne){"use strict";const A=w=>{const{controlHeight:B}=w;return{controlHeightSM:B*.75,controlHeightXS:B*.5,controlHeightLG:B*1.25}};Ne.Z=A},4865:function(cn,Ne,A){"use strict";var w=A(91653);const B=ne=>{const ue=(0,w.Z)(ne),j=ue.map(se=>se.size),q=ue.map(se=>se.lineHeight),Y=j[1],K=j[0],H=j[2],ae=q[1],ie=q[0],le=q[2];return{fontSizeSM:K,fontSize:Y,fontSizeLG:H,fontSizeXL:j[3],fontSizeHeading1:j[6],fontSizeHeading2:j[5],fontSizeHeading3:j[4],fontSizeHeading4:j[3],fontSizeHeading5:j[2],lineHeight:ae,lineHeightLG:le,lineHeightSM:ie,fontHeight:Math.round(ae*Y),fontHeightLG:Math.round(le*H),fontHeightSM:Math.round(ie*K),lineHeightHeading1:q[6],lineHeightHeading2:q[5],lineHeightHeading3:q[4],lineHeightHeading4:q[3],lineHeightHeading5:q[2]}};Ne.Z=B},91653:function(cn,Ne,A){"use strict";A.d(Ne,{D:function(){return w},Z:function(){return B}});function w(ne){return(ne+8)/ne}function B(ne){const ue=new Array(10).fill(null).map((j,q)=>{const Y=q-1,K=ne*Math.pow(Math.E,Y/5),H=q>1?Math.floor(K):Math.ceil(K);return Math.floor(H/2)*2});return ue[1]=ne,ue.map(j=>({size:j,lineHeight:w(j)}))}},35270:function(cn,Ne,A){"use strict";A.d(Ne,{ID:function(){return H},NJ:function(){return K},ZP:function(){return le}});var w=A(75271),B=A(60595),ne=A(2448),ue=A(67701),j=A(53569),q=A(73778),Y=function(se,ge){var ye={};for(var ve in se)Object.prototype.hasOwnProperty.call(se,ve)&&ge.indexOf(ve)<0&&(ye[ve]=se[ve]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var fe=0,ve=Object.getOwnPropertySymbols(se);fe<ve.length;fe++)ge.indexOf(ve[fe])<0&&Object.prototype.propertyIsEnumerable.call(se,ve[fe])&&(ye[ve[fe]]=se[ve[fe]]);return ye};const K={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},H={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},ae={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},ie=(se,ge,ye)=>{const ve=ye.getDerivativeToken(se),{override:fe}=ge,Fe=Y(ge,["override"]);let yt=Object.assign(Object.assign({},ve),{override:fe});return yt=(0,q.Z)(yt),Fe&&Object.entries(Fe).forEach(gt=>{let[pt,lt]=gt;const{theme:Ke}=lt,Ue=Y(lt,["theme"]);let Pt=Ue;Ke&&(Pt=ie(Object.assign(Object.assign({},yt),Ue),{override:Ue},Ke)),yt[pt]=Pt}),yt};function le(){const{token:se,hashed:ge,theme:ye,override:ve,cssVar:fe}=w.useContext(ue.Mj),Fe=`${ne.Z}-${ge||""}`,yt=ye||ue.uH,[gt,pt,lt]=(0,B.fp)(yt,[j.Z,se],{salt:Fe,override:ve,getComputedToken:ie,formatToken:q.Z,cssVar:fe&&{prefix:fe.prefix,key:fe.key,unitless:K,ignore:H,preserve:ae}});return[yt,lt,ge?pt:"",gt,fe]}},73778:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return Y}});var w=A(99978),B=A(53569);function ne(K){return K>=0&&K<=255}function ue(K,H){const{r:ae,g:ie,b:le,a:se}=new w.C(K).toRgb();if(se<1)return K;const{r:ge,g:ye,b:ve}=new w.C(H).toRgb();for(let fe=.01;fe<=1;fe+=.01){const Fe=Math.round((ae-ge*(1-fe))/fe),yt=Math.round((ie-ye*(1-fe))/fe),gt=Math.round((le-ve*(1-fe))/fe);if(ne(Fe)&&ne(yt)&&ne(gt))return new w.C({r:Fe,g:yt,b:gt,a:Math.round(fe*100)/100}).toRgbString()}return new w.C({r:ae,g:ie,b:le,a:1}).toRgbString()}var j=ue,q=function(K,H){var ae={};for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&H.indexOf(ie)<0&&(ae[ie]=K[ie]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var le=0,ie=Object.getOwnPropertySymbols(K);le<ie.length;le++)H.indexOf(ie[le])<0&&Object.prototype.propertyIsEnumerable.call(K,ie[le])&&(ae[ie[le]]=K[ie[le]]);return ae};function Y(K){const{override:H}=K,ae=q(K,["override"]),ie=Object.assign({},H);Object.keys(B.Z).forEach(gt=>{delete ie[gt]});const le=Object.assign(Object.assign({},ae),ie),se=480,ge=576,ye=768,ve=992,fe=1200,Fe=1600;if(le.motion===!1){const gt="0s";le.motionDurationFast=gt,le.motionDurationMid=gt,le.motionDurationSlow=gt}return Object.assign(Object.assign(Object.assign({},le),{colorFillContent:le.colorFillSecondary,colorFillContentHover:le.colorFill,colorFillAlter:le.colorFillQuaternary,colorBgContainerDisabled:le.colorFillTertiary,colorBorderBg:le.colorBgContainer,colorSplit:j(le.colorBorderSecondary,le.colorBgContainer),colorTextPlaceholder:le.colorTextQuaternary,colorTextDisabled:le.colorTextQuaternary,colorTextHeading:le.colorText,colorTextLabel:le.colorTextSecondary,colorTextDescription:le.colorTextTertiary,colorTextLightSolid:le.colorWhite,colorHighlight:le.colorError,colorBgTextHover:le.colorFillSecondary,colorBgTextActive:le.colorFill,colorIcon:le.colorTextTertiary,colorIconHover:le.colorText,colorErrorOutline:j(le.colorErrorBg,le.colorBgContainer),colorWarningOutline:j(le.colorWarningBg,le.colorBgContainer),fontSizeIcon:le.fontSizeSM,lineWidthFocus:le.lineWidth*3,lineWidth:le.lineWidth,controlOutlineWidth:le.lineWidth*2,controlInteractiveSize:le.controlHeight/2,controlItemBgHover:le.colorFillTertiary,controlItemBgActive:le.colorPrimaryBg,controlItemBgActiveHover:le.colorPrimaryBgHover,controlItemBgActiveDisabled:le.colorFill,controlTmpOutline:le.colorFillQuaternary,controlOutline:j(le.colorPrimaryBg,le.colorBgContainer),lineType:le.lineType,borderRadius:le.borderRadius,borderRadiusXS:le.borderRadiusXS,borderRadiusSM:le.borderRadiusSM,borderRadiusLG:le.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:le.sizeXXS,paddingXS:le.sizeXS,paddingSM:le.sizeSM,padding:le.size,paddingMD:le.sizeMD,paddingLG:le.sizeLG,paddingXL:le.sizeXL,paddingContentHorizontalLG:le.sizeLG,paddingContentVerticalLG:le.sizeMS,paddingContentHorizontal:le.sizeMS,paddingContentVertical:le.sizeSM,paddingContentHorizontalSM:le.size,paddingContentVerticalSM:le.sizeXS,marginXXS:le.sizeXXS,marginXS:le.sizeXS,marginSM:le.sizeSM,margin:le.size,marginMD:le.sizeMD,marginLG:le.sizeLG,marginXL:le.sizeXL,marginXXL:le.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:se,screenXSMin:se,screenXSMax:ge-1,screenSM:ge,screenSMMin:ge,screenSMMax:ye-1,screenMD:ye,screenMDMin:ye,screenMDMax:ve-1,screenLG:ve,screenLGMin:ve,screenLGMax:fe-1,screenXL:fe,screenXLMin:fe,screenXLMax:Fe-1,screenXXL:Fe,screenXXLMin:Fe,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new w.C("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new w.C("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new w.C("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),ie)}},24916:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});var w=A(15669);function B(ne,ue){return w.i.reduce((j,q)=>{const Y=ne[`${q}1`],K=ne[`${q}3`],H=ne[`${q}6`],ae=ne[`${q}7`];return Object.assign(Object.assign({},j),ue(q,{lightColor:Y,lightBorderColor:K,darkColor:H,textColor:ae}))},{})}},61261:function(cn,Ne,A){"use strict";A.d(Ne,{A1:function(){return K},I$:function(){return Y},bk:function(){return H}});var w=A(75271),B=A(53557),ne=A(72158),ue=A(49660),j=A(35270),q=A(90844);const{genStyleHooks:Y,genComponentStyleHook:K,genSubStyleComponent:H}=(0,B.rb)({usePrefix:()=>{const{getPrefixCls:ae,iconPrefixCls:ie}=(0,w.useContext)(ne.E_);return{rootPrefixCls:ae(),iconPrefixCls:ie}},useToken:()=>{const[ae,ie,le,se,ge]=(0,j.ZP)();return{theme:ae,realToken:ie,hashId:le,token:se,cssVar:ge}},useCSP:()=>{const{csp:ae,iconPrefixCls:ie}=(0,w.useContext)(ne.E_);return(0,q.Z)(ie,ae),ae!=null?ae:{}},getResetStyles:ae=>[{"&":(0,ue.Lx)(ae)}],getCommonStyle:ue.du,getCompUnitless:()=>j.NJ})},90844:function(cn,Ne,A){"use strict";var w=A(60595),B=A(49660),ne=A(35270);const ue=(j,q)=>{const[Y,K]=(0,ne.ZP)();return(0,w.xy)({theme:Y,token:K,hashId:"",path:["ant-design-icons",j],nonce:()=>q==null?void 0:q.nonce,layer:{name:"antd"}},()=>[{[`.${j}`]:Object.assign(Object.assign({},(0,B.Ro)()),{[`.${j} .${j}-icon`]:{display:"block"}})}])};Ne.Z=ue},76852:function(cn,Ne){"use strict";const A={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};Ne.Z=A},11282:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return tt}});var w=A(75271),B=A(82187),ne=A.n(B),ue=A(39543),j=A(31998),q=A(73148),Y=A(97218),K=A(11813),H=A(66696),ae=A(40366),ie=A(20126),le=A(94445),se=A(72158),ge=A(35270),ye=A(60595),ve=A(49660),fe=A(93795),Fe=A(91316),yt=A(74527),gt=A(24916),pt=A(53557),lt=A(61261);const Ke=Pe=>{const{componentCls:Qe,tooltipMaxWidth:He,tooltipColor:_t,tooltipBg:Bt,tooltipBorderRadius:At,zIndexPopup:Je,controlHeight:zt,boxShadowSecondary:mn,paddingSM:Ot,paddingXS:Xe}=Pe;return[{[Qe]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,ve.Wf)(Pe)),{position:"absolute",zIndex:Je,display:"block",width:"max-content",maxWidth:He,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":Bt,[`${Qe}-inner`]:{minWidth:"1em",minHeight:zt,padding:`${(0,ye.bf)(Pe.calc(Ot).div(2).equal())} ${(0,ye.bf)(Xe)}`,color:_t,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:Bt,borderRadius:At,boxShadow:mn,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${Qe}-inner`]:{borderRadius:Pe.min(At,Fe.qN)}},[`${Qe}-content`]:{position:"relative"}}),(0,gt.Z)(Pe,(ct,Rt)=>{let{darkColor:Oe}=Rt;return{[`&${Qe}-${ct}`]:{[`${Qe}-inner`]:{backgroundColor:Oe},[`${Qe}-arrow`]:{"--antd-arrow-background-color":Oe}}}})),{"&-rtl":{direction:"rtl"}})},(0,Fe.ZP)(Pe,"var(--antd-arrow-background-color)"),{[`${Qe}-pure`]:{position:"relative",maxWidth:"none",margin:Pe.sizePopupArrow}}]},Ue=Pe=>Object.assign(Object.assign({zIndexPopup:Pe.zIndexPopupBase+70},(0,Fe.wZ)({contentRadius:Pe.borderRadius,limitVerticalRadius:!0})),(0,yt.w)((0,pt.IX)(Pe,{borderRadiusOuter:Math.min(Pe.borderRadiusOuter,4)})));var Pt=function(Pe){let Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,lt.I$)("Tooltip",_t=>{const{borderRadius:Bt,colorTextLightSolid:At,colorBgSpotlight:Je}=_t,zt=(0,pt.IX)(_t,{tooltipMaxWidth:250,tooltipColor:At,tooltipBorderRadius:Bt,tooltipBg:Je});return[Ke(zt),(0,fe._y)(_t,"zoom-big-fast")]},Ue,{resetStyle:!1,injectStyle:Qe})(Pe)},Gt=A(71645);function rn(Pe,Qe){const He=(0,Gt.o2)(Qe),_t=ne()({[`${Pe}-${Qe}`]:Qe&&He}),Bt={},At={};return Qe&&!He&&(Bt.background=Qe,At["--antd-arrow-background-color"]=Qe),{className:_t,overlayStyle:Bt,arrowStyle:At}}var qe=Pe=>{const{prefixCls:Qe,className:He,placement:_t="top",title:Bt,color:At,overlayInnerStyle:Je}=Pe,{getPrefixCls:zt}=w.useContext(se.E_),mn=zt("tooltip",Qe),[Ot,Xe,ct]=Pt(mn),Rt=rn(mn,At),Oe=Rt.arrowStyle,Ge=Object.assign(Object.assign({},Je),Rt.overlayStyle),Vt=ne()(Xe,ct,mn,`${mn}-pure`,`${mn}-placement-${_t}`,He,Rt.className);return Ot(w.createElement("div",{className:Vt,style:Oe},w.createElement("div",{className:`${mn}-arrow`}),w.createElement(ue.G,Object.assign({},Pe,{className:Xe,prefixCls:mn,overlayInnerStyle:Ge}),Bt)))},Nt=function(Pe,Qe){var He={};for(var _t in Pe)Object.prototype.hasOwnProperty.call(Pe,_t)&&Qe.indexOf(_t)<0&&(He[_t]=Pe[_t]);if(Pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Bt=0,_t=Object.getOwnPropertySymbols(Pe);Bt<_t.length;Bt++)Qe.indexOf(_t[Bt])<0&&Object.prototype.propertyIsEnumerable.call(Pe,_t[Bt])&&(He[_t[Bt]]=Pe[_t[Bt]]);return He};const ln=w.forwardRef((Pe,Qe)=>{var He,_t;const{prefixCls:Bt,openClassName:At,getTooltipContainer:Je,overlayClassName:zt,color:mn,overlayInnerStyle:Ot,children:Xe,afterOpenChange:ct,afterVisibleChange:Rt,destroyTooltipOnHide:Oe,arrow:Ge=!0,title:Vt,overlay:De,builtinPlacements:et,arrowPointAtCenter:Ce=!1,autoAdjustOverflow:J=!0}=Pe,Le=!!Ge,[,Jt]=(0,ge.ZP)(),{getPopupContainer:Be,getPrefixCls:In,direction:cr}=w.useContext(se.E_),bn=(0,ie.ln)("Tooltip"),ir=w.useRef(null),Nr=()=>{var _e;(_e=ir.current)===null||_e===void 0||_e.forceAlign()};w.useImperativeHandle(Qe,()=>{var _e;return{forceAlign:Nr,forcePopupAlign:()=>{bn.deprecated(!1,"forcePopupAlign","forceAlign"),Nr()},nativeElement:(_e=ir.current)===null||_e===void 0?void 0:_e.nativeElement}});const[Ar,Zr]=(0,j.Z)(!1,{value:(He=Pe.open)!==null&&He!==void 0?He:Pe.visible,defaultValue:(_t=Pe.defaultOpen)!==null&&_t!==void 0?_t:Pe.defaultVisible}),wi=!Vt&&!De&&Vt!==0,Ln=_e=>{var oi,Ka;Zr(wi?!1:_e),wi||((oi=Pe.onOpenChange)===null||oi===void 0||oi.call(Pe,_e),(Ka=Pe.onVisibleChange)===null||Ka===void 0||Ka.call(Pe,_e))},Nn=w.useMemo(()=>{var _e,oi;let Ka=Ce;return typeof Ge=="object"&&(Ka=(oi=(_e=Ge.pointAtCenter)!==null&&_e!==void 0?_e:Ge.arrowPointAtCenter)!==null&&oi!==void 0?oi:Ce),et||(0,H.Z)({arrowPointAtCenter:Ka,autoAdjustOverflow:J,arrowWidth:Le?Jt.sizePopupArrow:0,borderRadius:Jt.borderRadius,offset:Jt.marginXXS,visibleFirst:!0})},[Ce,Ge,et,Jt]),$n=w.useMemo(()=>Vt===0?Vt:De||Vt||"",[De,Vt]),wn=w.createElement(q.Z,{space:!0},typeof $n=="function"?$n():$n),{getPopupContainer:nt,placement:ze="top",mouseEnterDelay:vt=.1,mouseLeaveDelay:$t=.1,overlayStyle:gn,rootClassName:at}=Pe,an=Nt(Pe,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),hn=In("tooltip",Bt),pr=In(),ur=Pe["data-popover-inject"];let pi=Ar;!("open"in Pe)&&!("visible"in Pe)&&wi&&(pi=!1);const ar=w.isValidElement(Xe)&&!(0,ae.M2)(Xe)?Xe:w.createElement("span",null,Xe),di=ar.props,sa=!di.className||typeof di.className=="string"?ne()(di.className,At||`${hn}-open`):di.className,[xa,za,Ui]=Pt(hn,!ur),Ao=rn(hn,mn),fs=Ao.arrowStyle,cs=Object.assign(Object.assign({},Ot),Ao.overlayStyle),ra=ne()(zt,{[`${hn}-rtl`]:cr==="rtl"},Ao.className,at,za,Ui),[ms,xi]=(0,Y.Cn)("Tooltip",an.zIndex),Gn=w.createElement(ue.Z,Object.assign({},an,{zIndex:ms,showArrow:Le,placement:ze,mouseEnterDelay:vt,mouseLeaveDelay:$t,prefixCls:hn,overlayClassName:ra,overlayStyle:Object.assign(Object.assign({},fs),gn),getTooltipContainer:nt||Je||Be,ref:ir,builtinPlacements:Nn,overlay:wn,visible:pi,onVisibleChange:Ln,afterVisibleChange:ct!=null?ct:Rt,overlayInnerStyle:cs,arrowContent:w.createElement("span",{className:`${hn}-arrow-content`}),motion:{motionName:(0,K.m)(pr,"zoom-big-fast",Pe.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!Oe}),pi?(0,ae.Tm)(ar,{className:sa}):ar);return xa(w.createElement(le.Z.Provider,{value:xi},Gn))});ln._InternalPanelDoNotUseOrYouWillBeFired=qe;var tt=ln},1942:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return ms}});var w=A(75271),B=A(20466),ne=A(82187),ue=A.n(ne),j=A(34010),q=A(48894),Y=A(50979),K=A(31998),H=A(30454),ae=A(47486),ie=A(60639),le=A(72158),se=A(88658),ge=A(11282),ye=A(25478),ve=A(35763),fe=A(40366),Fe=A(17840),yt=A(49660),gt=A(61261),pt=A(75875),lt=A(60595);const Ke=(xi,Gn,_e,oi)=>{const{titleMarginBottom:Ka,fontWeightStrong:Cn}=oi;return{marginBottom:Ka,color:_e,fontWeight:Cn,fontSize:xi,lineHeight:Gn}},Ue=xi=>{const Gn=[1,2,3,4,5],_e={};return Gn.forEach(oi=>{_e[`
      h${oi}&,
      div&-h${oi},
      div&-h${oi} > textarea,
      h${oi}
    `]=Ke(xi[`fontSizeHeading${oi}`],xi[`lineHeightHeading${oi}`],xi.colorTextHeading,xi)}),_e},Pt=xi=>{const{componentCls:Gn}=xi;return{"a&, a":Object.assign(Object.assign({},(0,yt.Nd)(xi)),{userSelect:"text",[`&[disabled], &${Gn}-disabled`]:{color:xi.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:xi.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},Gt=xi=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:xi.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:xi.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:pt.EV[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:xi.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),rn=xi=>{const{componentCls:Gn,paddingSM:_e}=xi,oi=_e;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:xi.calc(xi.paddingSM).mul(-1).equal(),marginTop:xi.calc(oi).mul(-1).equal(),marginBottom:`calc(1em - ${(0,lt.bf)(oi)})`},[`${Gn}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:xi.calc(xi.marginXS).add(2).equal(),insetBlockEnd:xi.marginXS,color:xi.colorTextDescription,fontWeight:"normal",fontSize:xi.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},_n=xi=>({[`${xi.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:xi.colorSuccess}},[`${xi.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),qe=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Nt=xi=>{const{componentCls:Gn,titleMarginTop:_e}=xi;return{[Gn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:xi.colorText,wordBreak:"break-word",lineHeight:xi.lineHeight,[`&${Gn}-secondary`]:{color:xi.colorTextDescription},[`&${Gn}-success`]:{color:xi.colorSuccess},[`&${Gn}-warning`]:{color:xi.colorWarning},[`&${Gn}-danger`]:{color:xi.colorError,"a&:active, a&:focus":{color:xi.colorErrorActive},"a&:hover":{color:xi.colorErrorHover}},[`&${Gn}-disabled`]:{color:xi.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Ue(xi)),{[`
      & + h1${Gn},
      & + h2${Gn},
      & + h3${Gn},
      & + h4${Gn},
      & + h5${Gn}
      `]:{marginTop:_e},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:_e}}}),Gt(xi)),Pt(xi)),{[`
        ${Gn}-expand,
        ${Gn}-collapse,
        ${Gn}-edit,
        ${Gn}-copy
      `]:Object.assign(Object.assign({},(0,yt.Nd)(xi)),{marginInlineStart:xi.marginXXS})}),rn(xi)),_n(xi)),qe()),{"&-rtl":{direction:"rtl"}})}},ft=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var ln=(0,gt.I$)("Typography",xi=>[Nt(xi)],ft),Pe=xi=>{const{prefixCls:Gn,"aria-label":_e,className:oi,style:Ka,direction:Cn,maxLength:Un,autoSize:tn=!0,value:It,onSave:Zt,onCancel:$e,onEnd:Bn,component:Yn,enterIcon:or=w.createElement(ye.Z,null)}=xi,Ze=w.useRef(null),je=w.useRef(!1),st=w.useRef(),[St,En]=w.useState(It);w.useEffect(()=>{En(It)},[It]),w.useEffect(()=>{var Br;if(!((Br=Ze.current)===null||Br===void 0)&&Br.resizableTextArea){const{textArea:Gi}=Ze.current.resizableTextArea;Gi.focus();const{length:qi}=Gi.value;Gi.setSelectionRange(qi,qi)}},[]);const fn=Br=>{let{target:Gi}=Br;En(Gi.value.replace(/[\n\r]/g,""))},sn=()=>{je.current=!0},Pn=()=>{je.current=!1},Hn=Br=>{let{keyCode:Gi}=Br;je.current||(st.current=Gi)},Ut=()=>{Zt(St.trim())},Yt=Br=>{let{keyCode:Gi,ctrlKey:qi,altKey:$i,metaKey:Wi,shiftKey:Ii}=Br;st.current!==Gi||je.current||qi||$i||Wi||Ii||(Gi===ve.Z.ENTER?(Ut(),Bn==null||Bn()):Gi===ve.Z.ESC&&$e())},Xt=()=>{Ut()},[jt,fr,vr]=ln(Gn),yr=ue()(Gn,`${Gn}-edit-content`,{[`${Gn}-rtl`]:Cn==="rtl",[`${Gn}-${Yn}`]:!!Yn},oi,fr,vr);return jt(w.createElement("div",{className:yr,style:Ka},w.createElement(Fe.Z,{ref:Ze,maxLength:Un,value:St,onChange:fn,onKeyDown:Hn,onKeyUp:Yt,onCompositionStart:sn,onCompositionEnd:Pn,onBlur:Xt,"aria-label":_e,rows:1,autoSize:tn}),or!==null?(0,fe.Tm)(or,{className:`${Gn}-edit-content-confirm`}):null))},Qe=A(874),He=A.n(Qe),_t=A(35677),Bt=A(93789),At=function(xi,Gn,_e,oi){function Ka(Cn){return Cn instanceof _e?Cn:new _e(function(Un){Un(Cn)})}return new(_e||(_e=Promise))(function(Cn,Un){function tn($e){try{Zt(oi.next($e))}catch(Bn){Un(Bn)}}function It($e){try{Zt(oi.throw($e))}catch(Bn){Un(Bn)}}function Zt($e){$e.done?Cn($e.value):Ka($e.value).then(tn,It)}Zt((oi=oi.apply(xi,Gn||[])).next())})},zt=xi=>{let{copyConfig:Gn,children:_e}=xi;const[oi,Ka]=w.useState(!1),[Cn,Un]=w.useState(!1),tn=w.useRef(null),It=()=>{tn.current&&clearTimeout(tn.current)},Zt={};Gn.format&&(Zt.format=Gn.format),w.useEffect(()=>It,[]);const $e=(0,_t.Z)(Bn=>At(void 0,void 0,void 0,function*(){var Yn;Bn==null||Bn.preventDefault(),Bn==null||Bn.stopPropagation(),Un(!0);try{const or=typeof Gn.text=="function"?yield Gn.text():Gn.text;He()(or||(0,Bt.Z)(_e,!0).join("")||"",Zt),Un(!1),Ka(!0),It(),tn.current=setTimeout(()=>{Ka(!1)},3e3),(Yn=Gn.onCopy)===null||Yn===void 0||Yn.call(Gn,Bn)}catch(or){throw Un(!1),or}}));return{copied:oi,copyLoading:Cn,onClick:$e}};function mn(xi,Gn){return w.useMemo(()=>{const _e=!!xi;return[_e,Object.assign(Object.assign({},Gn),_e&&typeof xi=="object"?xi:null)]},[xi])}var Xe=xi=>{const Gn=(0,w.useRef)();return(0,w.useEffect)(()=>{Gn.current=xi}),Gn.current},Rt=(xi,Gn,_e)=>(0,w.useMemo)(()=>xi===!0?{title:Gn!=null?Gn:_e}:(0,w.isValidElement)(xi)?{title:xi}:typeof xi=="object"?Object.assign({title:Gn!=null?Gn:_e},xi):{title:xi},[xi,Gn,_e]),Oe=function(xi,Gn){var _e={};for(var oi in xi)Object.prototype.hasOwnProperty.call(xi,oi)&&Gn.indexOf(oi)<0&&(_e[oi]=xi[oi]);if(xi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ka=0,oi=Object.getOwnPropertySymbols(xi);Ka<oi.length;Ka++)Gn.indexOf(oi[Ka])<0&&Object.prototype.propertyIsEnumerable.call(xi,oi[Ka])&&(_e[oi[Ka]]=xi[oi[Ka]]);return _e},Vt=w.forwardRef((xi,Gn)=>{const{prefixCls:_e,component:oi="article",className:Ka,rootClassName:Cn,setContentRef:Un,children:tn,direction:It,style:Zt}=xi,$e=Oe(xi,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:Bn,direction:Yn,typography:or}=w.useContext(le.E_),Ze=It!=null?It:Yn,je=Un?(0,ae.sQ)(Gn,Un):Gn,st=Bn("typography",_e),[St,En,fn]=ln(st),sn=ue()(st,or==null?void 0:or.className,{[`${st}-rtl`]:Ze==="rtl"},Ka,Cn,En,fn),Pn=Object.assign(Object.assign({},or==null?void 0:or.style),Zt);return St(w.createElement(oi,Object.assign({className:sn,style:Pn,ref:je},$e),tn))}),De=A(97512),et=A(93879),Ce=A(8298);function J(xi){return xi===!1?[!1,!1]:Array.isArray(xi)?xi:[xi]}function Le(xi,Gn,_e){return xi===!0||xi===void 0?Gn:xi||_e&&Gn}function Jt(xi){const Gn=document.createElement("em");xi.appendChild(Gn);const _e=xi.getBoundingClientRect(),oi=Gn.getBoundingClientRect();return xi.removeChild(Gn),_e.left>oi.left||oi.right>_e.right||_e.top>oi.top||oi.bottom>_e.bottom}const Be=xi=>["string","number"].includes(typeof xi);var cr=xi=>{let{prefixCls:Gn,copied:_e,locale:oi,iconOnly:Ka,tooltips:Cn,icon:Un,tabIndex:tn,onCopy:It,loading:Zt}=xi;const $e=J(Cn),Bn=J(Un),{copied:Yn,copy:or}=oi!=null?oi:{},Ze=_e?Yn:or,je=Le($e[_e?1:0],Ze),st=typeof je=="string"?je:Ze;return w.createElement(ge.Z,{title:je},w.createElement("button",{type:"button",className:ue()(`${Gn}-copy`,{[`${Gn}-copy-success`]:_e,[`${Gn}-copy-icon-only`]:Ka}),onClick:It,"aria-label":st,tabIndex:tn},_e?Le(Bn[1],w.createElement(De.Z,null),!0):Le(Bn[0],Zt?w.createElement(Ce.Z,null):w.createElement(et.Z,null),!0)))},bn=A(35047);const ir=w.forwardRef((xi,Gn)=>{let{style:_e,children:oi}=xi;const Ka=w.useRef(null);return w.useImperativeHandle(Gn,()=>({isExceed:()=>{const Cn=Ka.current;return Cn.scrollHeight>Cn.clientHeight},getHeight:()=>Ka.current.clientHeight})),w.createElement("span",{"aria-hidden":!0,ref:Ka,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},_e)},oi)}),Nr=xi=>xi.reduce((Gn,_e)=>Gn+(Be(_e)?String(_e).length:1),0);function Ar(xi,Gn){let _e=0;const oi=[];for(let Ka=0;Ka<xi.length;Ka+=1){if(_e===Gn)return oi;const Cn=xi[Ka],tn=Be(Cn)?String(Cn).length:1,It=_e+tn;if(It>Gn){const Zt=Gn-_e;return oi.push(String(Cn).slice(0,Zt)),oi}oi.push(Cn),_e=It}return xi}const Zr=0,wi=1,Ln=2,Nn=3,$n=4,wn={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function nt(xi){const{enableMeasure:Gn,width:_e,text:oi,children:Ka,rows:Cn,expanded:Un,miscDeps:tn,onEllipsis:It}=xi,Zt=w.useMemo(()=>(0,q.Z)(oi),[oi]),$e=w.useMemo(()=>Nr(Zt),[oi]),Bn=w.useMemo(()=>Ka(Zt,!1),[oi]),[Yn,or]=w.useState(null),Ze=w.useRef(null),je=w.useRef(null),st=w.useRef(null),St=w.useRef(null),En=w.useRef(null),[fn,sn]=w.useState(!1),[Pn,Hn]=w.useState(Zr),[Ut,Yt]=w.useState(0),[Xt,jt]=w.useState(null);(0,Y.Z)(()=>{Hn(Gn&&_e&&$e?wi:Zr)},[_e,oi,Cn,Gn,Zt]),(0,Y.Z)(()=>{var Br,Gi,qi,$i;if(Pn===wi){Hn(Ln);const Wi=je.current&&getComputedStyle(je.current).whiteSpace;jt(Wi)}else if(Pn===Ln){const Wi=!!(!((Br=st.current)===null||Br===void 0)&&Br.isExceed());Hn(Wi?Nn:$n),or(Wi?[0,$e]:null),sn(Wi);const Ii=((Gi=st.current)===null||Gi===void 0?void 0:Gi.getHeight())||0,Qa=Cn===1?0:((qi=St.current)===null||qi===void 0?void 0:qi.getHeight())||0,on=(($i=En.current)===null||$i===void 0?void 0:$i.getHeight())||0,dn=Math.max(Ii,Qa+on);Yt(dn+1),It(Wi)}},[Pn]);const fr=Yn?Math.ceil((Yn[0]+Yn[1])/2):0;(0,Y.Z)(()=>{var Br;const[Gi,qi]=Yn||[0,0];if(Gi!==qi){const Wi=(((Br=Ze.current)===null||Br===void 0?void 0:Br.getHeight())||0)>Ut;let Ii=fr;qi-Gi===1&&(Ii=Wi?Gi:qi),or(Wi?[Gi,Ii]:[Ii,qi])}},[Yn,fr]);const vr=w.useMemo(()=>{if(!Gn)return Ka(Zt,!1);if(Pn!==Nn||!Yn||Yn[0]!==Yn[1]){const Br=Ka(Zt,!1);return[$n,Zr].includes(Pn)?Br:w.createElement("span",{style:Object.assign(Object.assign({},wn),{WebkitLineClamp:Cn})},Br)}return Ka(Un?Zt:Ar(Zt,Yn[0]),fn)},[Un,Pn,Yn,Zt].concat((0,bn.Z)(tn))),yr={width:_e,margin:0,padding:0,whiteSpace:Xt==="nowrap"?"normal":"inherit"};return w.createElement(w.Fragment,null,vr,Pn===Ln&&w.createElement(w.Fragment,null,w.createElement(ir,{style:Object.assign(Object.assign(Object.assign({},yr),wn),{WebkitLineClamp:Cn}),ref:st},Bn),w.createElement(ir,{style:Object.assign(Object.assign(Object.assign({},yr),wn),{WebkitLineClamp:Cn-1}),ref:St},Bn),w.createElement(ir,{style:Object.assign(Object.assign(Object.assign({},yr),wn),{WebkitLineClamp:1}),ref:En},Ka([],!0))),Pn===Nn&&Yn&&Yn[0]!==Yn[1]&&w.createElement(ir,{style:Object.assign(Object.assign({},yr),{top:400}),ref:Ze},Ka(Ar(Zt,fr),!0)),Pn===wi&&w.createElement("span",{style:{whiteSpace:"inherit"},ref:je}))}var vt=xi=>{let{enableEllipsis:Gn,isEllipsis:_e,children:oi,tooltipProps:Ka}=xi;return!(Ka!=null&&Ka.title)||!Gn?oi:w.createElement(ge.Z,Object.assign({open:_e?void 0:!1},Ka),oi)},$t=function(xi,Gn){var _e={};for(var oi in xi)Object.prototype.hasOwnProperty.call(xi,oi)&&Gn.indexOf(oi)<0&&(_e[oi]=xi[oi]);if(xi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ka=0,oi=Object.getOwnPropertySymbols(xi);Ka<oi.length;Ka++)Gn.indexOf(oi[Ka])<0&&Object.prototype.propertyIsEnumerable.call(xi,oi[Ka])&&(_e[oi[Ka]]=xi[oi[Ka]]);return _e};function gn(xi,Gn){let{mark:_e,code:oi,underline:Ka,delete:Cn,strong:Un,keyboard:tn,italic:It}=xi,Zt=Gn;function $e(Bn,Yn){Yn&&(Zt=w.createElement(Bn,{},Zt))}return $e("strong",Un),$e("u",Ka),$e("del",Cn),$e("code",oi),$e("mark",_e),$e("kbd",tn),$e("i",It),Zt}const at="...";var hn=w.forwardRef((xi,Gn)=>{var _e;const{prefixCls:oi,className:Ka,style:Cn,type:Un,disabled:tn,children:It,ellipsis:Zt,editable:$e,copyable:Bn,component:Yn,title:or}=xi,Ze=$t(xi,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:je,direction:st}=w.useContext(le.E_),[St]=(0,se.Z)("Text"),En=w.useRef(null),fn=w.useRef(null),sn=je("typography",oi),Pn=(0,H.Z)(Ze,["mark","code","delete","underline","strong","keyboard","italic"]),[Hn,Ut]=mn($e),[Yt,Xt]=(0,K.Z)(!1,{value:Ut.editing}),{triggerType:jt=["icon"]}=Ut,fr=Xi=>{var ia;Xi&&((ia=Ut.onStart)===null||ia===void 0||ia.call(Ut)),Xt(Xi)},vr=Xe(Yt);(0,Y.Z)(()=>{var Xi;!Yt&&vr&&((Xi=fn.current)===null||Xi===void 0||Xi.focus())},[Yt]);const yr=Xi=>{Xi==null||Xi.preventDefault(),fr(!0)},Br=Xi=>{var ia;(ia=Ut.onChange)===null||ia===void 0||ia.call(Ut,Xi),fr(!1)},Gi=()=>{var Xi;(Xi=Ut.onCancel)===null||Xi===void 0||Xi.call(Ut),fr(!1)},[qi,$i]=mn(Bn),{copied:Wi,copyLoading:Ii,onClick:Qa}=zt({copyConfig:$i,children:It}),[on,dn]=w.useState(!1),[jn,Ur]=w.useState(!1),[Yr,Et]=w.useState(!1),[Ct,xn]=w.useState(!1),[Xn,mt]=w.useState(!0),[vn,tr]=mn(Zt,{expandable:!1,symbol:Xi=>Xi?St==null?void 0:St.collapse:St==null?void 0:St.expand}),[Mr,ui]=(0,K.Z)(tr.defaultExpanded||!1,{value:tr.expanded}),Ri=vn&&(!Mr||tr.expandable==="collapsible"),{rows:Aa=1}=tr,Ga=w.useMemo(()=>Ri&&(tr.suffix!==void 0||tr.onEllipsis||tr.expandable||Hn||qi),[Ri,tr,Hn,qi]);(0,Y.Z)(()=>{vn&&!Ga&&(dn((0,ie.G)("webkitLineClamp")),Ur((0,ie.G)("textOverflow")))},[Ga,vn]);const[vo,To]=w.useState(Ri),Po=w.useMemo(()=>Ga?!1:Aa===1?jn:on,[Ga,jn,on]);(0,Y.Z)(()=>{To(Po&&Ri)},[Po,Ri]);const ds=Ri&&(vo?Ct:Yr),Za=Ri&&Aa===1&&vo,ks=Ri&&Aa>1&&vo,oo=(Xi,ia)=>{var ua;ui(ia.expanded),(ua=tr.onExpand)===null||ua===void 0||ua.call(tr,Xi,ia)},[nu,wu]=w.useState(0),Ll=Xi=>{let{offsetWidth:ia}=Xi;wu(ia)},Si=Xi=>{var ia;Et(Xi),Yr!==Xi&&((ia=tr.onEllipsis)===null||ia===void 0||ia.call(tr,Xi))};w.useEffect(()=>{const Xi=En.current;if(vn&&vo&&Xi){const ia=Jt(Xi);Ct!==ia&&xn(ia)}},[vn,vo,It,ks,Xn,nu]),w.useEffect(()=>{const Xi=En.current;if(typeof IntersectionObserver=="undefined"||!Xi||!vo||!Ri)return;const ia=new IntersectionObserver(()=>{mt(!!Xi.offsetParent)});return ia.observe(Xi),()=>{ia.disconnect()}},[vo,Ri]);const Sn=Rt(tr.tooltip,Ut.text,It),Qt=w.useMemo(()=>{if(!(!vn||vo))return[Ut.text,It,or,Sn.title].find(Be)},[vn,vo,or,Sn.title,ds]);if(Yt)return w.createElement(Pe,{value:(_e=Ut.text)!==null&&_e!==void 0?_e:typeof It=="string"?It:"",onSave:Br,onCancel:Gi,onEnd:Ut.onEnd,prefixCls:sn,className:Ka,style:Cn,direction:st,component:Yn,maxLength:Ut.maxLength,autoSize:Ut.autoSize,enterIcon:Ut.enterIcon});const rr=()=>{const{expandable:Xi,symbol:ia}=tr;return Xi?w.createElement("button",{type:"button",key:"expand",className:`${sn}-${Mr?"collapse":"expand"}`,onClick:ua=>oo(ua,{expanded:!Mr}),"aria-label":Mr?St.collapse:St==null?void 0:St.expand},typeof ia=="function"?ia(Mr):ia):null},rt=()=>{if(!Hn)return;const{icon:Xi,tooltip:ia,tabIndex:ua}=Ut,co=(0,q.Z)(ia)[0]||(St==null?void 0:St.edit),Ro=typeof co=="string"?co:"";return jt.includes("icon")?w.createElement(ge.Z,{key:"edit",title:ia===!1?"":co},w.createElement("button",{type:"button",ref:fn,className:`${sn}-edit`,onClick:yr,"aria-label":Ro,tabIndex:ua},Xi||w.createElement(B.Z,{role:"button"}))):null},ai=()=>qi?w.createElement(cr,Object.assign({key:"copy"},$i,{prefixCls:sn,copied:Wi,locale:St,onCopy:Qa,loading:Ii,iconOnly:It==null})):null,mi=Xi=>[Xi&&rr(),rt(),ai()],_a=Xi=>[Xi&&!Mr&&w.createElement("span",{"aria-hidden":!0,key:"ellipsis"},at),tr.suffix,mi(Xi)];return w.createElement(j.Z,{onResize:Ll,disabled:!Ri},Xi=>w.createElement(vt,{tooltipProps:Sn,enableEllipsis:Ri,isEllipsis:ds},w.createElement(Vt,Object.assign({className:ue()({[`${sn}-${Un}`]:Un,[`${sn}-disabled`]:tn,[`${sn}-ellipsis`]:vn,[`${sn}-ellipsis-single-line`]:Za,[`${sn}-ellipsis-multiple-line`]:ks},Ka),prefixCls:oi,style:Object.assign(Object.assign({},Cn),{WebkitLineClamp:ks?Aa:void 0}),component:Yn,ref:(0,ae.sQ)(Xi,En,Gn),direction:st,onClick:jt.includes("text")?yr:void 0,"aria-label":Qt==null?void 0:Qt.toString(),title:or},Pn),w.createElement(nt,{enableMeasure:Ri&&!vo,text:It,rows:Aa,width:nu,onEllipsis:Si,expanded:Mr,miscDeps:[Wi,Mr,Ii,Hn,qi,St]},(ia,ua)=>gn(xi,w.createElement(w.Fragment,null,ia.length>0&&ua&&!Mr&&Qt?w.createElement("span",{key:"show-content","aria-hidden":!0},ia):ia,_a(ua)))))))}),pr=function(xi,Gn){var _e={};for(var oi in xi)Object.prototype.hasOwnProperty.call(xi,oi)&&Gn.indexOf(oi)<0&&(_e[oi]=xi[oi]);if(xi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ka=0,oi=Object.getOwnPropertySymbols(xi);Ka<oi.length;Ka++)Gn.indexOf(oi[Ka])<0&&Object.prototype.propertyIsEnumerable.call(xi,oi[Ka])&&(_e[oi[Ka]]=xi[oi[Ka]]);return _e},pi=w.forwardRef((xi,Gn)=>{var{ellipsis:_e,rel:oi}=xi,Ka=pr(xi,["ellipsis","rel"]);const Cn=Object.assign(Object.assign({},Ka),{rel:oi===void 0&&Ka.target==="_blank"?"noopener noreferrer":oi});return delete Cn.navigate,w.createElement(hn,Object.assign({},Cn,{ref:Gn,ellipsis:!!_e,component:"a"}))}),di=w.forwardRef((xi,Gn)=>w.createElement(hn,Object.assign({ref:Gn},xi,{component:"div"}))),sa=function(xi,Gn){var _e={};for(var oi in xi)Object.prototype.hasOwnProperty.call(xi,oi)&&Gn.indexOf(oi)<0&&(_e[oi]=xi[oi]);if(xi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ka=0,oi=Object.getOwnPropertySymbols(xi);Ka<oi.length;Ka++)Gn.indexOf(oi[Ka])<0&&Object.prototype.propertyIsEnumerable.call(xi,oi[Ka])&&(_e[oi[Ka]]=xi[oi[Ka]]);return _e};const xa=(xi,Gn)=>{var{ellipsis:_e}=xi,oi=sa(xi,["ellipsis"]);const Ka=w.useMemo(()=>_e&&typeof _e=="object"?(0,H.Z)(_e,["expandable","rows"]):_e,[_e]);return w.createElement(hn,Object.assign({ref:Gn},oi,{ellipsis:Ka,component:"span"}))};var za=w.forwardRef(xa),Ui=function(xi,Gn){var _e={};for(var oi in xi)Object.prototype.hasOwnProperty.call(xi,oi)&&Gn.indexOf(oi)<0&&(_e[oi]=xi[oi]);if(xi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ka=0,oi=Object.getOwnPropertySymbols(xi);Ka<oi.length;Ka++)Gn.indexOf(oi[Ka])<0&&Object.prototype.propertyIsEnumerable.call(xi,oi[Ka])&&(_e[oi[Ka]]=xi[oi[Ka]]);return _e};const Ao=[1,2,3,4,5];var cs=w.forwardRef((xi,Gn)=>{const{level:_e=1}=xi,oi=Ui(xi,["level"]),Ka=Ao.includes(_e)?`h${_e}`:"h1";return w.createElement(hn,Object.assign({ref:Gn},oi,{component:Ka}))});const ra=Vt;ra.Text=za,ra.Link=pi,ra.Title=cs,ra.Paragraph=di;var ms=ra},2448:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});var w="5.22.2",B=w},20300:function(cn,Ne,A){"use strict";var w=A(56906);cn.exports=function(ue){ue=ue||{};var j=ue.reporter,q=w.getOption(ue,"async",!0),Y=w.getOption(ue,"auto",!0);Y&&!q&&(j&&j.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),q=!0);var K=B(),H,ae=!1;function ie(Fe,yt){!ae&&Y&&q&&K.size()===0&&ge(),K.add(Fe,yt)}function le(){for(ae=!0;K.size();){var Fe=K;K=B(),Fe.process()}ae=!1}function se(Fe){ae||(Fe===void 0&&(Fe=q),H&&(ve(H),H=null),Fe?ge():le())}function ge(){H=fe(le)}function ye(){K={},batchSize=0,topLevel=0,bottomLevel=0}function ve(Fe){var yt=clearTimeout;return yt(Fe)}function fe(Fe){var yt=function(gt){return setTimeout(gt,0)};return yt(Fe)}return{add:ie,force:se}};function B(){var ne={},ue=0,j=0,q=0;function Y(ae,ie){ie||(ie=ae,ae=0),ae>j?j=ae:ae<q&&(q=ae),ne[ae]||(ne[ae]=[]),ne[ae].push(ie),ue++}function K(){for(var ae=q;ae<=j;ae++)for(var ie=ne[ae],le=0;le<ie.length;le++){var se=ie[le];se()}}function H(){return ue}return{add:Y,process:K,size:H}}},56906:function(cn){"use strict";var Ne=cn.exports={};Ne.getOption=A;function A(w,B,ne){var ue=w[B];return ue==null&&ne!==void 0?ne:ue}},99419:function(cn){"use strict";cn.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},2489:function(cn,Ne,A){var w=A(99419),B=A(27933),ne=Object.hasOwnProperty,ue=Object.create(null);for(var j in w)ne.call(w,j)&&(ue[w[j]]=j);var q=cn.exports={to:{},get:{}};q.get=function(H){var ae=H.substring(0,3).toLowerCase(),ie,le;switch(ae){case"hsl":ie=q.get.hsl(H),le="hsl";break;case"hwb":ie=q.get.hwb(H),le="hwb";break;default:ie=q.get.rgb(H),le="rgb";break}return ie?{model:le,value:ie}:null},q.get.rgb=function(H){if(!H)return null;var ae=/^#([a-f0-9]{3,4})$/i,ie=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,le=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,se=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,ge=/^(\w+)$/,ye=[0,0,0,1],ve,fe,Fe;if(ve=H.match(ie)){for(Fe=ve[2],ve=ve[1],fe=0;fe<3;fe++){var yt=fe*2;ye[fe]=parseInt(ve.slice(yt,yt+2),16)}Fe&&(ye[3]=parseInt(Fe,16)/255)}else if(ve=H.match(ae)){for(ve=ve[1],Fe=ve[3],fe=0;fe<3;fe++)ye[fe]=parseInt(ve[fe]+ve[fe],16);Fe&&(ye[3]=parseInt(Fe+Fe,16)/255)}else if(ve=H.match(le)){for(fe=0;fe<3;fe++)ye[fe]=parseInt(ve[fe+1],0);ve[4]&&(ve[5]?ye[3]=parseFloat(ve[4])*.01:ye[3]=parseFloat(ve[4]))}else if(ve=H.match(se)){for(fe=0;fe<3;fe++)ye[fe]=Math.round(parseFloat(ve[fe+1])*2.55);ve[4]&&(ve[5]?ye[3]=parseFloat(ve[4])*.01:ye[3]=parseFloat(ve[4]))}else return(ve=H.match(ge))?ve[1]==="transparent"?[0,0,0,0]:ne.call(w,ve[1])?(ye=w[ve[1]],ye[3]=1,ye):null:null;for(fe=0;fe<3;fe++)ye[fe]=Y(ye[fe],0,255);return ye[3]=Y(ye[3],0,1),ye},q.get.hsl=function(H){if(!H)return null;var ae=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,ie=H.match(ae);if(ie){var le=parseFloat(ie[4]),se=(parseFloat(ie[1])%360+360)%360,ge=Y(parseFloat(ie[2]),0,100),ye=Y(parseFloat(ie[3]),0,100),ve=Y(isNaN(le)?1:le,0,1);return[se,ge,ye,ve]}return null},q.get.hwb=function(H){if(!H)return null;var ae=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,ie=H.match(ae);if(ie){var le=parseFloat(ie[4]),se=(parseFloat(ie[1])%360+360)%360,ge=Y(parseFloat(ie[2]),0,100),ye=Y(parseFloat(ie[3]),0,100),ve=Y(isNaN(le)?1:le,0,1);return[se,ge,ye,ve]}return null},q.to.hex=function(){var H=B(arguments);return"#"+K(H[0])+K(H[1])+K(H[2])+(H[3]<1?K(Math.round(H[3]*255)):"")},q.to.rgb=function(){var H=B(arguments);return H.length<4||H[3]===1?"rgb("+Math.round(H[0])+", "+Math.round(H[1])+", "+Math.round(H[2])+")":"rgba("+Math.round(H[0])+", "+Math.round(H[1])+", "+Math.round(H[2])+", "+H[3]+")"},q.to.rgb.percent=function(){var H=B(arguments),ae=Math.round(H[0]/255*100),ie=Math.round(H[1]/255*100),le=Math.round(H[2]/255*100);return H.length<4||H[3]===1?"rgb("+ae+"%, "+ie+"%, "+le+"%)":"rgba("+ae+"%, "+ie+"%, "+le+"%, "+H[3]+")"},q.to.hsl=function(){var H=B(arguments);return H.length<4||H[3]===1?"hsl("+H[0]+", "+H[1]+"%, "+H[2]+"%)":"hsla("+H[0]+", "+H[1]+"%, "+H[2]+"%, "+H[3]+")"},q.to.hwb=function(){var H=B(arguments),ae="";return H.length>=4&&H[3]!==1&&(ae=", "+H[3]),"hwb("+H[0]+", "+H[1]+"%, "+H[2]+"%"+ae+")"},q.to.keyword=function(H){return ue[H.slice(0,3)]};function Y(H,ae,ie){return Math.min(Math.max(ae,H),ie)}function K(H){var ae=Math.round(H).toString(16).toUpperCase();return ae.length<2?"0"+ae:ae}},75734:function(cn){"use strict";cn.exports=Ne,cn.exports.default=Ne;function Ne(ft,ln,tt){tt=tt||2;var Pe=ln&&ln.length,Qe=Pe?ln[0]*tt:ft.length,He=A(ft,0,Qe,tt,!0),_t=[];if(!He||He.next===He.prev)return _t;var Bt,At,Je,zt,mn,Ot,Xe;if(Pe&&(He=Y(ft,ln,He,tt)),ft.length>80*tt){Bt=Je=ft[0],At=zt=ft[1];for(var ct=tt;ct<Qe;ct+=tt)mn=ft[ct],Ot=ft[ct+1],mn<Bt&&(Bt=mn),Ot<At&&(At=Ot),mn>Je&&(Je=mn),Ot>zt&&(zt=Ot);Xe=Math.max(Je-Bt,zt-At),Xe=Xe!==0?32767/Xe:0}return B(He,_t,tt,Bt,At,Xe,0),_t}function A(ft,ln,tt,Pe,Qe){var He,_t;if(Qe===Nt(ft,ln,tt,Pe)>0)for(He=ln;He<tt;He+=Pe)_t=rn(He,ft[He],ft[He+1],_t);else for(He=tt-Pe;He>=ln;He-=Pe)_t=rn(He,ft[He],ft[He+1],_t);return _t&&yt(_t,_t.next)&&(_n(_t),_t=_t.next),_t}function w(ft,ln){if(!ft)return ft;ln||(ln=ft);var tt=ft,Pe;do if(Pe=!1,!tt.steiner&&(yt(tt,tt.next)||Fe(tt.prev,tt,tt.next)===0)){if(_n(tt),tt=ln=tt.prev,tt===tt.next)break;Pe=!0}else tt=tt.next;while(Pe||tt!==ln);return ln}function B(ft,ln,tt,Pe,Qe,He,_t){if(ft){!_t&&He&&le(ft,Pe,Qe,He);for(var Bt=ft,At,Je;ft.prev!==ft.next;){if(At=ft.prev,Je=ft.next,He?ue(ft,Pe,Qe,He):ne(ft)){ln.push(At.i/tt|0),ln.push(ft.i/tt|0),ln.push(Je.i/tt|0),_n(ft),ft=Je.next,Bt=Je.next;continue}if(ft=Je,ft===Bt){_t?_t===1?(ft=j(w(ft),ln,tt),B(ft,ln,tt,Pe,Qe,He,2)):_t===2&&q(ft,ln,tt,Pe,Qe,He):B(w(ft),ln,tt,Pe,Qe,He,1);break}}}}function ne(ft){var ln=ft.prev,tt=ft,Pe=ft.next;if(Fe(ln,tt,Pe)>=0)return!1;for(var Qe=ln.x,He=tt.x,_t=Pe.x,Bt=ln.y,At=tt.y,Je=Pe.y,zt=Qe<He?Qe<_t?Qe:_t:He<_t?He:_t,mn=Bt<At?Bt<Je?Bt:Je:At<Je?At:Je,Ot=Qe>He?Qe>_t?Qe:_t:He>_t?He:_t,Xe=Bt>At?Bt>Je?Bt:Je:At>Je?At:Je,ct=Pe.next;ct!==ln;){if(ct.x>=zt&&ct.x<=Ot&&ct.y>=mn&&ct.y<=Xe&&ve(Qe,Bt,He,At,_t,Je,ct.x,ct.y)&&Fe(ct.prev,ct,ct.next)>=0)return!1;ct=ct.next}return!0}function ue(ft,ln,tt,Pe){var Qe=ft.prev,He=ft,_t=ft.next;if(Fe(Qe,He,_t)>=0)return!1;for(var Bt=Qe.x,At=He.x,Je=_t.x,zt=Qe.y,mn=He.y,Ot=_t.y,Xe=Bt<At?Bt<Je?Bt:Je:At<Je?At:Je,ct=zt<mn?zt<Ot?zt:Ot:mn<Ot?mn:Ot,Rt=Bt>At?Bt>Je?Bt:Je:At>Je?At:Je,Oe=zt>mn?zt>Ot?zt:Ot:mn>Ot?mn:Ot,Ge=ge(Xe,ct,ln,tt,Pe),Vt=ge(Rt,Oe,ln,tt,Pe),De=ft.prevZ,et=ft.nextZ;De&&De.z>=Ge&&et&&et.z<=Vt;){if(De.x>=Xe&&De.x<=Rt&&De.y>=ct&&De.y<=Oe&&De!==Qe&&De!==_t&&ve(Bt,zt,At,mn,Je,Ot,De.x,De.y)&&Fe(De.prev,De,De.next)>=0||(De=De.prevZ,et.x>=Xe&&et.x<=Rt&&et.y>=ct&&et.y<=Oe&&et!==Qe&&et!==_t&&ve(Bt,zt,At,mn,Je,Ot,et.x,et.y)&&Fe(et.prev,et,et.next)>=0))return!1;et=et.nextZ}for(;De&&De.z>=Ge;){if(De.x>=Xe&&De.x<=Rt&&De.y>=ct&&De.y<=Oe&&De!==Qe&&De!==_t&&ve(Bt,zt,At,mn,Je,Ot,De.x,De.y)&&Fe(De.prev,De,De.next)>=0)return!1;De=De.prevZ}for(;et&&et.z<=Vt;){if(et.x>=Xe&&et.x<=Rt&&et.y>=ct&&et.y<=Oe&&et!==Qe&&et!==_t&&ve(Bt,zt,At,mn,Je,Ot,et.x,et.y)&&Fe(et.prev,et,et.next)>=0)return!1;et=et.nextZ}return!0}function j(ft,ln,tt){var Pe=ft;do{var Qe=Pe.prev,He=Pe.next.next;!yt(Qe,He)&&gt(Qe,Pe,Pe.next,He)&&Ue(Qe,He)&&Ue(He,Qe)&&(ln.push(Qe.i/tt|0),ln.push(Pe.i/tt|0),ln.push(He.i/tt|0),_n(Pe),_n(Pe.next),Pe=ft=He),Pe=Pe.next}while(Pe!==ft);return w(Pe)}function q(ft,ln,tt,Pe,Qe,He){var _t=ft;do{for(var Bt=_t.next.next;Bt!==_t.prev;){if(_t.i!==Bt.i&&fe(_t,Bt)){var At=Gt(_t,Bt);_t=w(_t,_t.next),At=w(At,At.next),B(_t,ln,tt,Pe,Qe,He,0),B(At,ln,tt,Pe,Qe,He,0);return}Bt=Bt.next}_t=_t.next}while(_t!==ft)}function Y(ft,ln,tt,Pe){var Qe=[],He,_t,Bt,At,Je;for(He=0,_t=ln.length;He<_t;He++)Bt=ln[He]*Pe,At=He<_t-1?ln[He+1]*Pe:ft.length,Je=A(ft,Bt,At,Pe,!1),Je===Je.next&&(Je.steiner=!0),Qe.push(ye(Je));for(Qe.sort(K),He=0;He<Qe.length;He++)tt=H(Qe[He],tt);return tt}function K(ft,ln){return ft.x-ln.x}function H(ft,ln){var tt=ae(ft,ln);if(!tt)return ln;var Pe=Gt(tt,ft);return w(Pe,Pe.next),w(tt,tt.next)}function ae(ft,ln){var tt=ln,Pe=ft.x,Qe=ft.y,He=-1/0,_t;do{if(Qe<=tt.y&&Qe>=tt.next.y&&tt.next.y!==tt.y){var Bt=tt.x+(Qe-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(Bt<=Pe&&Bt>He&&(He=Bt,_t=tt.x<tt.next.x?tt:tt.next,Bt===Pe))return _t}tt=tt.next}while(tt!==ln);if(!_t)return null;var At=_t,Je=_t.x,zt=_t.y,mn=1/0,Ot;tt=_t;do Pe>=tt.x&&tt.x>=Je&&Pe!==tt.x&&ve(Qe<zt?Pe:He,Qe,Je,zt,Qe<zt?He:Pe,Qe,tt.x,tt.y)&&(Ot=Math.abs(Qe-tt.y)/(Pe-tt.x),Ue(tt,ft)&&(Ot<mn||Ot===mn&&(tt.x>_t.x||tt.x===_t.x&&ie(_t,tt)))&&(_t=tt,mn=Ot)),tt=tt.next;while(tt!==At);return _t}function ie(ft,ln){return Fe(ft.prev,ft,ln.prev)<0&&Fe(ln.next,ft,ft.next)<0}function le(ft,ln,tt,Pe){var Qe=ft;do Qe.z===0&&(Qe.z=ge(Qe.x,Qe.y,ln,tt,Pe)),Qe.prevZ=Qe.prev,Qe.nextZ=Qe.next,Qe=Qe.next;while(Qe!==ft);Qe.prevZ.nextZ=null,Qe.prevZ=null,se(Qe)}function se(ft){var ln,tt,Pe,Qe,He,_t,Bt,At,Je=1;do{for(tt=ft,ft=null,He=null,_t=0;tt;){for(_t++,Pe=tt,Bt=0,ln=0;ln<Je&&(Bt++,Pe=Pe.nextZ,!!Pe);ln++);for(At=Je;Bt>0||At>0&&Pe;)Bt!==0&&(At===0||!Pe||tt.z<=Pe.z)?(Qe=tt,tt=tt.nextZ,Bt--):(Qe=Pe,Pe=Pe.nextZ,At--),He?He.nextZ=Qe:ft=Qe,Qe.prevZ=He,He=Qe;tt=Pe}He.nextZ=null,Je*=2}while(_t>1);return ft}function ge(ft,ln,tt,Pe,Qe){return ft=(ft-tt)*Qe|0,ln=(ln-Pe)*Qe|0,ft=(ft|ft<<8)&16711935,ft=(ft|ft<<4)&252645135,ft=(ft|ft<<2)&858993459,ft=(ft|ft<<1)&1431655765,ln=(ln|ln<<8)&16711935,ln=(ln|ln<<4)&252645135,ln=(ln|ln<<2)&858993459,ln=(ln|ln<<1)&1431655765,ft|ln<<1}function ye(ft){var ln=ft,tt=ft;do(ln.x<tt.x||ln.x===tt.x&&ln.y<tt.y)&&(tt=ln),ln=ln.next;while(ln!==ft);return tt}function ve(ft,ln,tt,Pe,Qe,He,_t,Bt){return(Qe-_t)*(ln-Bt)>=(ft-_t)*(He-Bt)&&(ft-_t)*(Pe-Bt)>=(tt-_t)*(ln-Bt)&&(tt-_t)*(He-Bt)>=(Qe-_t)*(Pe-Bt)}function fe(ft,ln){return ft.next.i!==ln.i&&ft.prev.i!==ln.i&&!Ke(ft,ln)&&(Ue(ft,ln)&&Ue(ln,ft)&&Pt(ft,ln)&&(Fe(ft.prev,ft,ln.prev)||Fe(ft,ln.prev,ln))||yt(ft,ln)&&Fe(ft.prev,ft,ft.next)>0&&Fe(ln.prev,ln,ln.next)>0)}function Fe(ft,ln,tt){return(ln.y-ft.y)*(tt.x-ln.x)-(ln.x-ft.x)*(tt.y-ln.y)}function yt(ft,ln){return ft.x===ln.x&&ft.y===ln.y}function gt(ft,ln,tt,Pe){var Qe=lt(Fe(ft,ln,tt)),He=lt(Fe(ft,ln,Pe)),_t=lt(Fe(tt,Pe,ft)),Bt=lt(Fe(tt,Pe,ln));return!!(Qe!==He&&_t!==Bt||Qe===0&&pt(ft,tt,ln)||He===0&&pt(ft,Pe,ln)||_t===0&&pt(tt,ft,Pe)||Bt===0&&pt(tt,ln,Pe))}function pt(ft,ln,tt){return ln.x<=Math.max(ft.x,tt.x)&&ln.x>=Math.min(ft.x,tt.x)&&ln.y<=Math.max(ft.y,tt.y)&&ln.y>=Math.min(ft.y,tt.y)}function lt(ft){return ft>0?1:ft<0?-1:0}function Ke(ft,ln){var tt=ft;do{if(tt.i!==ft.i&&tt.next.i!==ft.i&&tt.i!==ln.i&&tt.next.i!==ln.i&&gt(tt,tt.next,ft,ln))return!0;tt=tt.next}while(tt!==ft);return!1}function Ue(ft,ln){return Fe(ft.prev,ft,ft.next)<0?Fe(ft,ln,ft.next)>=0&&Fe(ft,ft.prev,ln)>=0:Fe(ft,ln,ft.prev)<0||Fe(ft,ft.next,ln)<0}function Pt(ft,ln){var tt=ft,Pe=!1,Qe=(ft.x+ln.x)/2,He=(ft.y+ln.y)/2;do tt.y>He!=tt.next.y>He&&tt.next.y!==tt.y&&Qe<(tt.next.x-tt.x)*(He-tt.y)/(tt.next.y-tt.y)+tt.x&&(Pe=!Pe),tt=tt.next;while(tt!==ft);return Pe}function Gt(ft,ln){var tt=new qe(ft.i,ft.x,ft.y),Pe=new qe(ln.i,ln.x,ln.y),Qe=ft.next,He=ln.prev;return ft.next=ln,ln.prev=ft,tt.next=Qe,Qe.prev=tt,Pe.next=tt,tt.prev=Pe,He.next=Pe,Pe.prev=He,Pe}function rn(ft,ln,tt,Pe){var Qe=new qe(ft,ln,tt);return Pe?(Qe.next=Pe.next,Qe.prev=Pe,Pe.next.prev=Qe,Pe.next=Qe):(Qe.prev=Qe,Qe.next=Qe),Qe}function _n(ft){ft.next.prev=ft.prev,ft.prev.next=ft.next,ft.prevZ&&(ft.prevZ.nextZ=ft.nextZ),ft.nextZ&&(ft.nextZ.prevZ=ft.prevZ)}function qe(ft,ln,tt){this.i=ft,this.x=ln,this.y=tt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ne.deviation=function(ft,ln,tt,Pe){var Qe=ln&&ln.length,He=Qe?ln[0]*tt:ft.length,_t=Math.abs(Nt(ft,0,He,tt));if(Qe)for(var Bt=0,At=ln.length;Bt<At;Bt++){var Je=ln[Bt]*tt,zt=Bt<At-1?ln[Bt+1]*tt:ft.length;_t-=Math.abs(Nt(ft,Je,zt,tt))}var mn=0;for(Bt=0;Bt<Pe.length;Bt+=3){var Ot=Pe[Bt]*tt,Xe=Pe[Bt+1]*tt,ct=Pe[Bt+2]*tt;mn+=Math.abs((ft[Ot]-ft[ct])*(ft[Xe+1]-ft[Ot+1])-(ft[Ot]-ft[Xe])*(ft[ct+1]-ft[Ot+1]))}return _t===0&&mn===0?0:Math.abs((mn-_t)/_t)};function Nt(ft,ln,tt,Pe){for(var Qe=0,He=ln,_t=tt-Pe;He<tt;He+=Pe)Qe+=(ft[_t]-ft[He])*(ft[He+1]+ft[_t+1]),_t=He;return Qe}Ne.flatten=function(ft){for(var ln=ft[0][0].length,tt={vertices:[],holes:[],dimensions:ln},Pe=0,Qe=0;Qe<ft.length;Qe++){for(var He=0;He<ft[Qe].length;He++)for(var _t=0;_t<ln;_t++)tt.vertices.push(ft[Qe][He][_t]);Qe>0&&(Pe+=ft[Qe-1].length,tt.holes.push(Pe))}return tt}},91895:function(cn){"use strict";var Ne=cn.exports={};Ne.isIE=function(A){function w(){var ne=navigator.userAgent.toLowerCase();return ne.indexOf("msie")!==-1||ne.indexOf("trident")!==-1||ne.indexOf(" edge/")!==-1}if(!w())return!1;if(!A)return!0;var B=function(){var ne,ue=3,j=document.createElement("div"),q=j.getElementsByTagName("i");do j.innerHTML="<!--[if gt IE "+ ++ue+"]><i></i><![endif]-->";while(q[0]);return ue>4?ue:ne}();return A===B},Ne.isLegacyOpera=function(){return!!window.opera}},10219:function(cn){"use strict";var Ne=cn.exports={};Ne.forEach=function(A,w){for(var B=0;B<A.length;B++){var ne=w(A[B]);if(ne)return ne}}},90153:function(cn,Ne,A){"use strict";var w=A(91895);cn.exports=function(B){B=B||{};var ne=B.reporter,ue=B.batchProcessor,j=B.stateHandler.getState;if(!ne)throw new Error("Missing required dependency: reporter.");function q(ie,le){function se(){le(ie)}if(w.isIE(8))j(ie).object={proxy:se},ie.attachEvent("onresize",se);else{var ge=H(ie);if(!ge)throw new Error("Element is not detectable by this strategy.");ge.contentDocument.defaultView.addEventListener("resize",se)}}function Y(ie){var le=B.important?" !important; ":"; ";return(ie.join(le)+le).trim()}function K(ie,le,se){se||(se=le,le=ie,ie=null),ie=ie||{};var ge=ie.debug;function ye(ve,fe){var Fe=Y(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),yt=!1,gt=window.getComputedStyle(ve),pt=ve.offsetWidth,lt=ve.offsetHeight;j(ve).startSize={width:pt,height:lt};function Ke(){function Ue(){if(gt.position==="static"){ve.style.setProperty("position","relative",ie.important?"important":"");var rn=function(_n,qe,Nt,ft){function ln(Pe){return Pe.replace(/[^-\d\.]/g,"")}var tt=Nt[ft];tt!=="auto"&&ln(tt)!=="0"&&(_n.warn("An element that is positioned static has style."+ft+"="+tt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+ft+" will be set to 0. Element: ",qe),qe.style.setProperty(ft,"0",ie.important?"important":""))};rn(ne,ve,gt,"top"),rn(ne,ve,gt,"right"),rn(ne,ve,gt,"bottom"),rn(ne,ve,gt,"left")}}function Pt(){yt||Ue();function rn(qe,Nt){if(!qe.contentDocument){var ft=j(qe);ft.checkForObjectDocumentTimeoutId&&window.clearTimeout(ft.checkForObjectDocumentTimeoutId),ft.checkForObjectDocumentTimeoutId=setTimeout(function(){ft.checkForObjectDocumentTimeoutId=0,rn(qe,Nt)},100);return}Nt(qe.contentDocument)}var _n=this;rn(_n,function(Nt){fe(ve)})}gt.position!==""&&(Ue(gt),yt=!0);var Gt=document.createElement("object");Gt.style.cssText=Fe,Gt.tabIndex=-1,Gt.type="text/html",Gt.setAttribute("aria-hidden","true"),Gt.onload=Pt,w.isIE()||(Gt.data="about:blank"),j(ve)&&(ve.appendChild(Gt),j(ve).object=Gt,w.isIE()&&(Gt.data="about:blank"))}ue?ue.add(Ke):Ke()}w.isIE(8)?se(le):ye(le,se)}function H(ie){return j(ie).object}function ae(ie){if(j(ie)){var le=H(ie);le&&(w.isIE(8)?ie.detachEvent("onresize",le.proxy):ie.removeChild(le),j(ie).checkForObjectDocumentTimeoutId&&window.clearTimeout(j(ie).checkForObjectDocumentTimeoutId),delete j(ie).object)}}return{makeDetectable:K,addListener:q,uninstall:ae}}},21762:function(cn,Ne,A){"use strict";var w=A(10219).forEach;cn.exports=function(B){B=B||{};var ne=B.reporter,ue=B.batchProcessor,j=B.stateHandler.getState,q=B.stateHandler.hasState,Y=B.idHandler;if(!ue)throw new Error("Missing required dependency: batchProcessor");if(!ne)throw new Error("Missing required dependency: reporter.");var K=se(),H="erd_scroll_detection_scrollbar_style",ae="erd_scroll_detection_container";function ie(Ke){ge(Ke,H,ae)}ie(window.document);function le(Ke){var Ue=B.important?" !important; ":"; ";return(Ke.join(Ue)+Ue).trim()}function se(){var Ke=500,Ue=500,Pt=document.createElement("div");Pt.style.cssText=le(["position: absolute","width: "+Ke*2+"px","height: "+Ue*2+"px","visibility: hidden","margin: 0","padding: 0"]);var Gt=document.createElement("div");Gt.style.cssText=le(["position: absolute","width: "+Ke+"px","height: "+Ue+"px","overflow: scroll","visibility: none","top: "+-Ke*3+"px","left: "+-Ue*3+"px","visibility: hidden","margin: 0","padding: 0"]),Gt.appendChild(Pt),document.body.insertBefore(Gt,document.body.firstChild);var rn=Ke-Gt.clientWidth,_n=Ue-Gt.clientHeight;return document.body.removeChild(Gt),{width:rn,height:_n}}function ge(Ke,Ue,Pt){function Gt(Nt,ft){ft=ft||function(tt){Ke.head.appendChild(tt)};var ln=Ke.createElement("style");return ln.innerHTML=Nt,ln.id=Ue,ft(ln),ln}if(!Ke.getElementById(Ue)){var rn=Pt+"_animation",_n=Pt+"_animation_active",qe=`/* Created by the element-resize-detector library. */
`;qe+="."+Pt+" > div::-webkit-scrollbar { "+le(["display: none"])+` }

`,qe+="."+_n+" { "+le(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+rn,"animation-name: "+rn])+` }
`,qe+="@-webkit-keyframes "+rn+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,qe+="@keyframes "+rn+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",Gt(qe)}}function ye(Ke){Ke.className+=" "+ae+"_animation_active"}function ve(Ke,Ue,Pt){if(Ke.addEventListener)Ke.addEventListener(Ue,Pt);else if(Ke.attachEvent)Ke.attachEvent("on"+Ue,Pt);else return ne.error("[scroll] Don't know how to add event listeners.")}function fe(Ke,Ue,Pt){if(Ke.removeEventListener)Ke.removeEventListener(Ue,Pt);else if(Ke.detachEvent)Ke.detachEvent("on"+Ue,Pt);else return ne.error("[scroll] Don't know how to remove event listeners.")}function Fe(Ke){return j(Ke).container.childNodes[0].childNodes[0].childNodes[0]}function yt(Ke){return j(Ke).container.childNodes[0].childNodes[0].childNodes[1]}function gt(Ke,Ue){var Pt=j(Ke).listeners;if(!Pt.push)throw new Error("Cannot add listener to an element that is not detectable.");j(Ke).listeners.push(Ue)}function pt(Ke,Ue,Pt){Pt||(Pt=Ue,Ue=Ke,Ke=null),Ke=Ke||{};function Gt(){if(Ke.debug){var Ge=Array.prototype.slice.call(arguments);if(Ge.unshift(Y.get(Ue),"Scroll: "),ne.log.apply)ne.log.apply(null,Ge);else for(var Vt=0;Vt<Ge.length;Vt++)ne.log(Ge[Vt])}}function rn(Ge){function Vt(De){var et=De.getRootNode&&De.getRootNode().contains(De);return De===De.ownerDocument.body||De.ownerDocument.body.contains(De)||et}return!Vt(Ge)||window.getComputedStyle(Ge)===null}function _n(Ge){var Vt=j(Ge).container.childNodes[0],De=window.getComputedStyle(Vt);return!De.width||De.width.indexOf("px")===-1}function qe(){var Ge=window.getComputedStyle(Ue),Vt={};return Vt.position=Ge.position,Vt.width=Ue.offsetWidth,Vt.height=Ue.offsetHeight,Vt.top=Ge.top,Vt.right=Ge.right,Vt.bottom=Ge.bottom,Vt.left=Ge.left,Vt.widthCSS=Ge.width,Vt.heightCSS=Ge.height,Vt}function Nt(){var Ge=qe();j(Ue).startSize={width:Ge.width,height:Ge.height},Gt("Element start size",j(Ue).startSize)}function ft(){j(Ue).listeners=[]}function ln(){if(Gt("storeStyle invoked."),!j(Ue)){Gt("Aborting because element has been uninstalled");return}var Ge=qe();j(Ue).style=Ge}function tt(Ge,Vt,De){j(Ge).lastWidth=Vt,j(Ge).lastHeight=De}function Pe(Ge){return Fe(Ge).childNodes[0]}function Qe(){return 2*K.width+1}function He(){return 2*K.height+1}function _t(Ge){return Ge+10+Qe()}function Bt(Ge){return Ge+10+He()}function At(Ge){return Ge*2+Qe()}function Je(Ge){return Ge*2+He()}function zt(Ge,Vt,De){var et=Fe(Ge),Ce=yt(Ge),J=_t(Vt),Le=Bt(De),Jt=At(Vt),Be=Je(De);et.scrollLeft=J,et.scrollTop=Le,Ce.scrollLeft=Jt,Ce.scrollTop=Be}function mn(){var Ge=j(Ue).container;if(!Ge){Ge=document.createElement("div"),Ge.className=ae,Ge.style.cssText=le(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),j(Ue).container=Ge,ye(Ge),Ue.appendChild(Ge);var Vt=function(){j(Ue).onRendered&&j(Ue).onRendered()};ve(Ge,"animationstart",Vt),j(Ue).onAnimationStart=Vt}return Ge}function Ot(){function Ge(){var $n=j(Ue).style;if($n.position==="static"){Ue.style.setProperty("position","relative",Ke.important?"important":"");var wn=function(nt,ze,vt,$t){function gn(an){return an.replace(/[^-\d\.]/g,"")}var at=vt[$t];at!=="auto"&&gn(at)!=="0"&&(nt.warn("An element that is positioned static has style."+$t+"="+at+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+$t+" will be set to 0. Element: ",ze),ze.style[$t]=0)};wn(ne,Ue,$n,"top"),wn(ne,Ue,$n,"right"),wn(ne,Ue,$n,"bottom"),wn(ne,Ue,$n,"left")}}function Vt($n,wn,nt,ze){return $n=$n?$n+"px":"0",wn=wn?wn+"px":"0",nt=nt?nt+"px":"0",ze=ze?ze+"px":"0",["left: "+$n,"top: "+wn,"right: "+ze,"bottom: "+nt]}if(Gt("Injecting elements"),!j(Ue)){Gt("Aborting because element has been uninstalled");return}Ge();var De=j(Ue).container;De||(De=mn());var et=K.width,Ce=K.height,J=le(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Le=le(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(Vt(-(1+et),-(1+Ce),-Ce,-et))),Jt=le(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Be=le(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),In=le(["position: absolute","left: 0","top: 0"]),cr=le(["position: absolute","width: 200%","height: 200%"]),bn=document.createElement("div"),ir=document.createElement("div"),Nr=document.createElement("div"),Ar=document.createElement("div"),Zr=document.createElement("div"),wi=document.createElement("div");bn.dir="ltr",bn.style.cssText=J,bn.className=ae,ir.className=ae,ir.style.cssText=Le,Nr.style.cssText=Jt,Ar.style.cssText=In,Zr.style.cssText=Be,wi.style.cssText=cr,Nr.appendChild(Ar),Zr.appendChild(wi),ir.appendChild(Nr),ir.appendChild(Zr),bn.appendChild(ir),De.appendChild(bn);function Ln(){var $n=j(Ue);$n&&$n.onExpand?$n.onExpand():Gt("Aborting expand scroll handler: element has been uninstalled")}function Nn(){var $n=j(Ue);$n&&$n.onShrink?$n.onShrink():Gt("Aborting shrink scroll handler: element has been uninstalled")}ve(Nr,"scroll",Ln),ve(Zr,"scroll",Nn),j(Ue).onExpandScroll=Ln,j(Ue).onShrinkScroll=Nn}function Xe(){function Ge(Jt,Be,In){var cr=Pe(Jt),bn=_t(Be),ir=Bt(In);cr.style.setProperty("width",bn+"px",Ke.important?"important":""),cr.style.setProperty("height",ir+"px",Ke.important?"important":"")}function Vt(Jt){var Be=Ue.offsetWidth,In=Ue.offsetHeight,cr=Be!==j(Ue).lastWidth||In!==j(Ue).lastHeight;Gt("Storing current size",Be,In),tt(Ue,Be,In),ue.add(0,function(){if(cr){if(!j(Ue)){Gt("Aborting because element has been uninstalled");return}if(!De()){Gt("Aborting because element container has not been initialized");return}if(Ke.debug){var ir=Ue.offsetWidth,Nr=Ue.offsetHeight;(ir!==Be||Nr!==In)&&ne.warn(Y.get(Ue),"Scroll: Size changed before updating detector elements.")}Ge(Ue,Be,In)}}),ue.add(1,function(){if(!j(Ue)){Gt("Aborting because element has been uninstalled");return}if(!De()){Gt("Aborting because element container has not been initialized");return}zt(Ue,Be,In)}),cr&&Jt&&ue.add(2,function(){if(!j(Ue)){Gt("Aborting because element has been uninstalled");return}if(!De()){Gt("Aborting because element container has not been initialized");return}Jt()})}function De(){return!!j(Ue).container}function et(){function Jt(){return j(Ue).lastNotifiedWidth===void 0}Gt("notifyListenersIfNeeded invoked");var Be=j(Ue);if(Jt()&&Be.lastWidth===Be.startSize.width&&Be.lastHeight===Be.startSize.height)return Gt("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Be.lastWidth===Be.lastNotifiedWidth&&Be.lastHeight===Be.lastNotifiedHeight)return Gt("Not notifying: Size already notified");Gt("Current size not notified, notifying..."),Be.lastNotifiedWidth=Be.lastWidth,Be.lastNotifiedHeight=Be.lastHeight,w(j(Ue).listeners,function(In){In(Ue)})}function Ce(){if(Gt("startanimation triggered."),_n(Ue)){Gt("Ignoring since element is still unrendered...");return}Gt("Element rendered.");var Jt=Fe(Ue),Be=yt(Ue);(Jt.scrollLeft===0||Jt.scrollTop===0||Be.scrollLeft===0||Be.scrollTop===0)&&(Gt("Scrollbars out of sync. Updating detector elements..."),Vt(et))}function J(){if(Gt("Scroll detected."),_n(Ue)){Gt("Scroll event fired while unrendered. Ignoring...");return}Vt(et)}if(Gt("registerListenersAndPositionElements invoked."),!j(Ue)){Gt("Aborting because element has been uninstalled");return}j(Ue).onRendered=Ce,j(Ue).onExpand=J,j(Ue).onShrink=J;var Le=j(Ue).style;Ge(Ue,Le.width,Le.height)}function ct(){if(Gt("finalizeDomMutation invoked."),!j(Ue)){Gt("Aborting because element has been uninstalled");return}var Ge=j(Ue).style;tt(Ue,Ge.width,Ge.height),zt(Ue,Ge.width,Ge.height)}function Rt(){Pt(Ue)}function Oe(){Gt("Installing..."),ft(),Nt(),ue.add(0,ln),ue.add(1,Ot),ue.add(2,Xe),ue.add(3,ct),ue.add(4,Rt)}Gt("Making detectable..."),rn(Ue)?(Gt("Element is detached"),mn(),Gt("Waiting until element is attached..."),j(Ue).onRendered=function(){Gt("Element is now attached"),Oe()}):Oe()}function lt(Ke){var Ue=j(Ke);Ue&&(Ue.onExpandScroll&&fe(Fe(Ke),"scroll",Ue.onExpandScroll),Ue.onShrinkScroll&&fe(yt(Ke),"scroll",Ue.onShrinkScroll),Ue.onAnimationStart&&fe(Ue.container,"animationstart",Ue.onAnimationStart),Ue.container&&Ke.removeChild(Ue.container))}return{makeDetectable:pt,addListener:gt,uninstall:lt,initDocument:ie}}},28766:function(cn,Ne,A){"use strict";var w=A(10219).forEach,B=A(12167),ne=A(49315),ue=A(36179),j=A(49806),q=A(34880),Y=A(91895),K=A(20300),H=A(55619),ae=A(90153),ie=A(21762);function le(ve){return Array.isArray(ve)||ve.length!==void 0}function se(ve){if(Array.isArray(ve))return ve;var fe=[];return w(ve,function(Fe){fe.push(Fe)}),fe}function ge(ve){return ve&&ve.nodeType===1}cn.exports=function(ve){ve=ve||{};var fe;if(ve.idHandler)fe={get:function(Pe){return ve.idHandler.get(Pe,!0)},set:ve.idHandler.set};else{var Fe=ue(),yt=j({idGenerator:Fe,stateHandler:H});fe=yt}var gt=ve.reporter;if(!gt){var pt=gt===!1;gt=q(pt)}var lt=ye(ve,"batchProcessor",K({reporter:gt})),Ke={};Ke.callOnAdd=!!ye(ve,"callOnAdd",!0),Ke.debug=!!ye(ve,"debug",!1);var Ue=ne(fe),Pt=B({stateHandler:H}),Gt,rn=ye(ve,"strategy","object"),_n=ye(ve,"important",!1),qe={reporter:gt,batchProcessor:lt,stateHandler:H,idHandler:fe,important:_n};if(rn==="scroll"&&(Y.isLegacyOpera()?(gt.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),rn="object"):Y.isIE(9)&&(gt.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),rn="object")),rn==="scroll")Gt=ie(qe);else if(rn==="object")Gt=ae(qe);else throw new Error("Invalid strategy name: "+rn);var Nt={};function ft(Pe,Qe,He){function _t(Ot){var Xe=Ue.get(Ot);w(Xe,function(Rt){Rt(Ot)})}function Bt(Ot,Xe,ct){Ue.add(Xe,ct),Ot&&ct(Xe)}if(He||(He=Qe,Qe=Pe,Pe={}),!Qe)throw new Error("At least one element required.");if(!He)throw new Error("Listener required.");if(ge(Qe))Qe=[Qe];else if(le(Qe))Qe=se(Qe);else return gt.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var At=0,Je=ye(Pe,"callOnAdd",Ke.callOnAdd),zt=ye(Pe,"onReady",function(){}),mn=ye(Pe,"debug",Ke.debug);w(Qe,function(Xe){H.getState(Xe)||(H.initState(Xe),fe.set(Xe));var ct=fe.get(Xe);if(mn&&gt.log("Attaching listener to element",ct,Xe),!Pt.isDetectable(Xe)){if(mn&&gt.log(ct,"Not detectable."),Pt.isBusy(Xe)){mn&&gt.log(ct,"System busy making it detectable"),Bt(Je,Xe,He),Nt[ct]=Nt[ct]||[],Nt[ct].push(function(){At++,At===Qe.length&&zt()});return}return mn&&gt.log(ct,"Making detectable..."),Pt.markBusy(Xe,!0),Gt.makeDetectable({debug:mn,important:_n},Xe,function(Oe){if(mn&&gt.log(ct,"onElementDetectable"),H.getState(Oe)){Pt.markAsDetectable(Oe),Pt.markBusy(Oe,!1),Gt.addListener(Oe,_t),Bt(Je,Oe,He);var Ge=H.getState(Oe);if(Ge&&Ge.startSize){var Vt=Oe.offsetWidth,De=Oe.offsetHeight;(Ge.startSize.width!==Vt||Ge.startSize.height!==De)&&_t(Oe)}Nt[ct]&&w(Nt[ct],function(et){et()})}else mn&&gt.log(ct,"Element uninstalled before being detectable.");delete Nt[ct],At++,At===Qe.length&&zt()})}mn&&gt.log(ct,"Already detecable, adding listener."),Bt(Je,Xe,He),At++}),At===Qe.length&&zt()}function ln(Pe){if(!Pe)return gt.error("At least one element is required.");if(ge(Pe))Pe=[Pe];else if(le(Pe))Pe=se(Pe);else return gt.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");w(Pe,function(Qe){Ue.removeAllListeners(Qe),Gt.uninstall(Qe),H.cleanState(Qe)})}function tt(Pe){Gt.initDocument&&Gt.initDocument(Pe)}return{listenTo:ft,removeListener:Ue.removeListener,removeAllListeners:Ue.removeAllListeners,uninstall:ln,initDocument:tt}};function ye(ve,fe,Fe){var yt=ve[fe];return yt==null&&Fe!==void 0?Fe:yt}},12167:function(cn){"use strict";cn.exports=function(Ne){var A=Ne.stateHandler.getState;function w(j){var q=A(j);return q&&!!q.isDetectable}function B(j){A(j).isDetectable=!0}function ne(j){return!!A(j).busy}function ue(j,q){A(j).busy=!!q}return{isDetectable:w,markAsDetectable:B,isBusy:ne,markBusy:ue}}},36179:function(cn){"use strict";cn.exports=function(){var Ne=1;function A(){return Ne++}return{generate:A}}},49806:function(cn){"use strict";cn.exports=function(Ne){var A=Ne.idGenerator,w=Ne.stateHandler.getState;function B(ue){var j=w(ue);return j&&j.id!==void 0?j.id:null}function ne(ue){var j=w(ue);if(!j)throw new Error("setId required the element to have a resize detection state.");var q=A.generate();return j.id=q,q}return{get:B,set:ne}}},49315:function(cn){"use strict";cn.exports=function(Ne){var A={};function w(j){var q=Ne.get(j);return q===void 0?[]:A[q]||[]}function B(j,q){var Y=Ne.get(j);A[Y]||(A[Y]=[]),A[Y].push(q)}function ne(j,q){for(var Y=w(j),K=0,H=Y.length;K<H;++K)if(Y[K]===q){Y.splice(K,1);break}}function ue(j){var q=w(j);q&&(q.length=0)}return{get:w,add:B,removeListener:ne,removeAllListeners:ue}}},34880:function(cn){"use strict";cn.exports=function(Ne){function A(){}var w={log:A,warn:A,error:A};if(!Ne&&window.console){var B=function(ne,ue){ne[ue]=function(){var q=console[ue];if(q.apply)q.apply(console,arguments);else for(var Y=0;Y<arguments.length;Y++)q(arguments[Y])}};B(w,"log"),B(w,"warn"),B(w,"error")}return w}},55619:function(cn){"use strict";var Ne="_erd";function A(ne){return ne[Ne]={},w(ne)}function w(ne){return ne[Ne]}function B(ne){delete ne[Ne]}cn.exports={initState:A,getState:w,cleanState:B}},11312:function(cn){"use strict";var Ne=Object.prototype.hasOwnProperty,A="~";function w(){}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(A=!1));function B(q,Y,K){this.fn=q,this.context=Y,this.once=K||!1}function ne(q,Y,K,H,ae){if(typeof K!="function")throw new TypeError("The listener must be a function");var ie=new B(K,H||q,ae),le=A?A+Y:Y;return q._events[le]?q._events[le].fn?q._events[le]=[q._events[le],ie]:q._events[le].push(ie):(q._events[le]=ie,q._eventsCount++),q}function ue(q,Y){--q._eventsCount===0?q._events=new w:delete q._events[Y]}function j(){this._events=new w,this._eventsCount=0}j.prototype.eventNames=function(){var Y=[],K,H;if(this._eventsCount===0)return Y;for(H in K=this._events)Ne.call(K,H)&&Y.push(A?H.slice(1):H);return Object.getOwnPropertySymbols?Y.concat(Object.getOwnPropertySymbols(K)):Y},j.prototype.listeners=function(Y){var K=A?A+Y:Y,H=this._events[K];if(!H)return[];if(H.fn)return[H.fn];for(var ae=0,ie=H.length,le=new Array(ie);ae<ie;ae++)le[ae]=H[ae].fn;return le},j.prototype.listenerCount=function(Y){var K=A?A+Y:Y,H=this._events[K];return H?H.fn?1:H.length:0},j.prototype.emit=function(Y,K,H,ae,ie,le){var se=A?A+Y:Y;if(!this._events[se])return!1;var ge=this._events[se],ye=arguments.length,ve,fe;if(ge.fn){switch(ge.once&&this.removeListener(Y,ge.fn,void 0,!0),ye){case 1:return ge.fn.call(ge.context),!0;case 2:return ge.fn.call(ge.context,K),!0;case 3:return ge.fn.call(ge.context,K,H),!0;case 4:return ge.fn.call(ge.context,K,H,ae),!0;case 5:return ge.fn.call(ge.context,K,H,ae,ie),!0;case 6:return ge.fn.call(ge.context,K,H,ae,ie,le),!0}for(fe=1,ve=new Array(ye-1);fe<ye;fe++)ve[fe-1]=arguments[fe];ge.fn.apply(ge.context,ve)}else{var Fe=ge.length,yt;for(fe=0;fe<Fe;fe++)switch(ge[fe].once&&this.removeListener(Y,ge[fe].fn,void 0,!0),ye){case 1:ge[fe].fn.call(ge[fe].context);break;case 2:ge[fe].fn.call(ge[fe].context,K);break;case 3:ge[fe].fn.call(ge[fe].context,K,H);break;case 4:ge[fe].fn.call(ge[fe].context,K,H,ae);break;default:if(!ve)for(yt=1,ve=new Array(ye-1);yt<ye;yt++)ve[yt-1]=arguments[yt];ge[fe].fn.apply(ge[fe].context,ve)}}return!0},j.prototype.on=function(Y,K,H){return ne(this,Y,K,H,!1)},j.prototype.once=function(Y,K,H){return ne(this,Y,K,H,!0)},j.prototype.removeListener=function(Y,K,H,ae){var ie=A?A+Y:Y;if(!this._events[ie])return this;if(!K)return ue(this,ie),this;var le=this._events[ie];if(le.fn)le.fn===K&&(!ae||le.once)&&(!H||le.context===H)&&ue(this,ie);else{for(var se=0,ge=[],ye=le.length;se<ye;se++)(le[se].fn!==K||ae&&!le[se].once||H&&le[se].context!==H)&&ge.push(le[se]);ge.length?this._events[ie]=ge.length===1?ge[0]:ge:ue(this,ie)}return this},j.prototype.removeAllListeners=function(Y){var K;return Y?(K=A?A+Y:Y,this._events[K]&&ue(this,K)):(this._events=new w,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=A,j.EventEmitter=j,cn.exports=j},2337:function(cn){"use strict";var Ne=Object.prototype.hasOwnProperty,A="~";function w(){}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(A=!1));function B(q,Y,K){this.fn=q,this.context=Y,this.once=K||!1}function ne(q,Y,K,H,ae){if(typeof K!="function")throw new TypeError("The listener must be a function");var ie=new B(K,H||q,ae),le=A?A+Y:Y;return q._events[le]?q._events[le].fn?q._events[le]=[q._events[le],ie]:q._events[le].push(ie):(q._events[le]=ie,q._eventsCount++),q}function ue(q,Y){--q._eventsCount===0?q._events=new w:delete q._events[Y]}function j(){this._events=new w,this._eventsCount=0}j.prototype.eventNames=function(){var Y=[],K,H;if(this._eventsCount===0)return Y;for(H in K=this._events)Ne.call(K,H)&&Y.push(A?H.slice(1):H);return Object.getOwnPropertySymbols?Y.concat(Object.getOwnPropertySymbols(K)):Y},j.prototype.listeners=function(Y){var K=A?A+Y:Y,H=this._events[K];if(!H)return[];if(H.fn)return[H.fn];for(var ae=0,ie=H.length,le=new Array(ie);ae<ie;ae++)le[ae]=H[ae].fn;return le},j.prototype.listenerCount=function(Y){var K=A?A+Y:Y,H=this._events[K];return H?H.fn?1:H.length:0},j.prototype.emit=function(Y,K,H,ae,ie,le){var se=A?A+Y:Y;if(!this._events[se])return!1;var ge=this._events[se],ye=arguments.length,ve,fe;if(ge.fn){switch(ge.once&&this.removeListener(Y,ge.fn,void 0,!0),ye){case 1:return ge.fn.call(ge.context),!0;case 2:return ge.fn.call(ge.context,K),!0;case 3:return ge.fn.call(ge.context,K,H),!0;case 4:return ge.fn.call(ge.context,K,H,ae),!0;case 5:return ge.fn.call(ge.context,K,H,ae,ie),!0;case 6:return ge.fn.call(ge.context,K,H,ae,ie,le),!0}for(fe=1,ve=new Array(ye-1);fe<ye;fe++)ve[fe-1]=arguments[fe];ge.fn.apply(ge.context,ve)}else{var Fe=ge.length,yt;for(fe=0;fe<Fe;fe++)switch(ge[fe].once&&this.removeListener(Y,ge[fe].fn,void 0,!0),ye){case 1:ge[fe].fn.call(ge[fe].context);break;case 2:ge[fe].fn.call(ge[fe].context,K);break;case 3:ge[fe].fn.call(ge[fe].context,K,H);break;case 4:ge[fe].fn.call(ge[fe].context,K,H,ae);break;default:if(!ve)for(yt=1,ve=new Array(ye-1);yt<ye;yt++)ve[yt-1]=arguments[yt];ge[fe].fn.apply(ge[fe].context,ve)}}return!0},j.prototype.on=function(Y,K,H){return ne(this,Y,K,H,!1)},j.prototype.once=function(Y,K,H){return ne(this,Y,K,H,!0)},j.prototype.removeListener=function(Y,K,H,ae){var ie=A?A+Y:Y;if(!this._events[ie])return this;if(!K)return ue(this,ie),this;var le=this._events[ie];if(le.fn)le.fn===K&&(!ae||le.once)&&(!H||le.context===H)&&ue(this,ie);else{for(var se=0,ge=[],ye=le.length;se<ye;se++)(le[se].fn!==K||ae&&!le[se].once||H&&le[se].context!==H)&&ge.push(le[se]);ge.length?this._events[ie]=ge.length===1?ge[0]:ge:ue(this,ie)}return this},j.prototype.removeAllListeners=function(Y){var K;return Y?(K=A?A+Y:Y,this._events[K]&&ue(this,K)):(this._events=new w,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=A,j.EventEmitter=j,cn.exports=j},27396:function(cn){"use strict";var Ne=Object.prototype.hasOwnProperty,A=Object.prototype.toString,w=Object.defineProperty,B=Object.getOwnPropertyDescriptor,ne=function(K){return typeof Array.isArray=="function"?Array.isArray(K):A.call(K)==="[object Array]"},ue=function(K){if(!K||A.call(K)!=="[object Object]")return!1;var H=Ne.call(K,"constructor"),ae=K.constructor&&K.constructor.prototype&&Ne.call(K.constructor.prototype,"isPrototypeOf");if(K.constructor&&!H&&!ae)return!1;var ie;for(ie in K);return typeof ie=="undefined"||Ne.call(K,ie)},j=function(K,H){w&&H.name==="__proto__"?w(K,H.name,{enumerable:!0,configurable:!0,value:H.newValue,writable:!0}):K[H.name]=H.newValue},q=function(K,H){if(H==="__proto__")if(Ne.call(K,H)){if(B)return B(K,H).value}else return;return K[H]};cn.exports=function Y(){var K,H,ae,ie,le,se,ge=arguments[0],ye=1,ve=arguments.length,fe=!1;for(typeof ge=="boolean"&&(fe=ge,ge=arguments[1]||{},ye=2),(ge==null||typeof ge!="object"&&typeof ge!="function")&&(ge={});ye<ve;++ye)if(K=arguments[ye],K!=null)for(H in K)ae=q(ge,H),ie=q(K,H),ge!==ie&&(fe&&ie&&(ue(ie)||(le=ne(ie)))?(le?(le=!1,se=ae&&ne(ae)?ae:[]):se=ae&&ue(ae)?ae:{},j(ge,{name:H,newValue:Y(fe,se,ie)})):typeof ie!="undefined"&&j(ge,{name:H,newValue:ie}));return ge}},52827:function(cn,Ne){(function(A,w){w(Ne)})(this,function(A){"use strict";function w(se,ge,ye,ve){ve=ve||{};var fe=ve.maxIterations||100,Fe=ve.tolerance||1e-10,yt=se(ge),gt=se(ye),pt=ye-ge;if(yt*gt>0)throw"Initial bisect points must have opposite signs";if(yt===0)return ge;if(gt===0)return ye;for(var lt=0;lt<fe;++lt){pt/=2;var Ke=ge+pt,Ue=se(Ke);if(Ue*yt>=0&&(ge=Ke),Math.abs(pt)<Fe||Ue===0)return Ke}return ge+pt}function B(se){for(var ge=new Array(se),ye=0;ye<se;++ye)ge[ye]=0;return ge}function ne(se,ge){return B(se).map(function(){return B(ge)})}function ue(se,ge){for(var ye=0,ve=0;ve<se.length;++ve)ye+=se[ve]*ge[ve];return ye}function j(se){return Math.sqrt(ue(se,se))}function q(se,ge,ye){for(var ve=0;ve<ge.length;++ve)se[ve]=ge[ve]*ye}function Y(se,ge,ye,ve,fe){for(var Fe=0;Fe<se.length;++Fe)se[Fe]=ge*ye[Fe]+ve*fe[Fe]}function K(se,ge,ye){ye=ye||{};var ve=ye.maxIterations||ge.length*200,fe=ye.nonZeroDelta||1.05,Fe=ye.zeroDelta||.001,yt=ye.minErrorDelta||1e-6,gt=ye.minErrorDelta||1e-5,pt=ye.rho!==void 0?ye.rho:1,lt=ye.chi!==void 0?ye.chi:2,Ke=ye.psi!==void 0?ye.psi:-.5,Ue=ye.sigma!==void 0?ye.sigma:.5,Pt,Gt=ge.length,rn=new Array(Gt+1);rn[0]=ge,rn[0].fx=se(ge),rn[0].id=0;for(var _n=0;_n<Gt;++_n){var qe=ge.slice();qe[_n]=qe[_n]?qe[_n]*fe:Fe,rn[_n+1]=qe,rn[_n+1].fx=se(qe),rn[_n+1].id=_n+1}function Nt(zt){for(var mn=0;mn<zt.length;mn++)rn[Gt][mn]=zt[mn];rn[Gt].fx=zt.fx}for(var ft=function(zt,mn){return zt.fx-mn.fx},ln=ge.slice(),tt=ge.slice(),Pe=ge.slice(),Qe=ge.slice(),He=0;He<ve;++He){if(rn.sort(ft),ye.history){var _t=rn.map(function(zt){var mn=zt.slice();return mn.fx=zt.fx,mn.id=zt.id,mn});_t.sort(function(zt,mn){return zt.id-mn.id}),ye.history.push({x:rn[0].slice(),fx:rn[0].fx,simplex:_t})}for(Pt=0,_n=0;_n<Gt;++_n)Pt=Math.max(Pt,Math.abs(rn[0][_n]-rn[1][_n]));if(Math.abs(rn[0].fx-rn[Gt].fx)<yt&&Pt<gt)break;for(_n=0;_n<Gt;++_n){ln[_n]=0;for(var Bt=0;Bt<Gt;++Bt)ln[_n]+=rn[Bt][_n];ln[_n]/=Gt}var At=rn[Gt];if(Y(tt,1+pt,ln,-pt,At),tt.fx=se(tt),tt.fx<rn[0].fx)Y(Qe,1+lt,ln,-lt,At),Qe.fx=se(Qe),Qe.fx<tt.fx?Nt(Qe):Nt(tt);else if(tt.fx>=rn[Gt-1].fx){var Je=!1;if(tt.fx>At.fx?(Y(Pe,1+Ke,ln,-Ke,At),Pe.fx=se(Pe),Pe.fx<At.fx?Nt(Pe):Je=!0):(Y(Pe,1-Ke*pt,ln,Ke*pt,At),Pe.fx=se(Pe),Pe.fx<tt.fx?Nt(Pe):Je=!0),Je){if(Ue>=1)break;for(_n=1;_n<rn.length;++_n)Y(rn[_n],1-Ue,rn[0],Ue,rn[_n]),rn[_n].fx=se(rn[_n])}}else Nt(tt)}return rn.sort(ft),{fx:rn[0].fx,x:rn[0]}}function H(se,ge,ye,ve,fe,Fe,yt){var gt=ye.fx,pt=ue(ye.fxprime,ge),lt=gt,Ke=gt,Ue=pt,Pt=0;fe=fe||1,Fe=Fe||1e-6,yt=yt||.1;function Gt(_n,qe,Nt){for(var ft=0;ft<16;++ft)if(fe=(_n+qe)/2,Y(ve.x,1,ye.x,fe,ge),lt=ve.fx=se(ve.x,ve.fxprime),Ue=ue(ve.fxprime,ge),lt>gt+Fe*fe*pt||lt>=Nt)qe=fe;else{if(Math.abs(Ue)<=-yt*pt)return fe;Ue*(qe-_n)>=0&&(qe=_n),_n=fe,Nt=lt}return 0}for(var rn=0;rn<10;++rn){if(Y(ve.x,1,ye.x,fe,ge),lt=ve.fx=se(ve.x,ve.fxprime),Ue=ue(ve.fxprime,ge),lt>gt+Fe*fe*pt||rn&&lt>=Ke)return Gt(Pt,fe,Ke);if(Math.abs(Ue)<=-yt*pt)return fe;if(Ue>=0)return Gt(fe,Pt,lt);Ke=lt,Pt=fe,fe*=2}return fe}function ae(se,ge,ye){var ve={x:ge.slice(),fx:0,fxprime:ge.slice()},fe={x:ge.slice(),fx:0,fxprime:ge.slice()},Fe=ge.slice(),yt,gt,pt=1,lt;ye=ye||{},lt=ye.maxIterations||ge.length*20,ve.fx=se(ve.x,ve.fxprime),yt=ve.fxprime.slice(),q(yt,ve.fxprime,-1);for(var Ke=0;Ke<lt;++Ke){if(pt=H(se,yt,ve,fe,pt),ye.history&&ye.history.push({x:ve.x.slice(),fx:ve.fx,fxprime:ve.fxprime.slice(),alpha:pt}),!pt)q(yt,ve.fxprime,-1);else{Y(Fe,1,fe.fxprime,-1,ve.fxprime);var Ue=ue(ve.fxprime,ve.fxprime),Pt=Math.max(0,ue(Fe,fe.fxprime)/Ue);Y(yt,Pt,yt,-1,fe.fxprime),gt=ve,ve=fe,fe=gt}if(j(ve.fxprime)<=1e-5)break}return ye.history&&ye.history.push({x:ve.x.slice(),fx:ve.fx,fxprime:ve.fxprime.slice(),alpha:pt}),ve}function ie(se,ge,ye){ye=ye||{};for(var ve=ye.maxIterations||ge.length*100,fe=ye.learnRate||.001,Fe={x:ge.slice(),fx:0,fxprime:ge.slice()},yt=0;yt<ve&&(Fe.fx=se(Fe.x,Fe.fxprime),ye.history&&ye.history.push({x:Fe.x.slice(),fx:Fe.fx,fxprime:Fe.fxprime.slice()}),Y(Fe.x,1,Fe.x,-fe,Fe.fxprime),!(j(Fe.fxprime)<=1e-5));++yt);return Fe}function le(se,ge,ye){ye=ye||{};var ve={x:ge.slice(),fx:0,fxprime:ge.slice()},fe={x:ge.slice(),fx:0,fxprime:ge.slice()},Fe=ye.maxIterations||ge.length*100,yt=ye.learnRate||1,gt=ge.slice(),pt=ye.c1||.001,lt=ye.c2||.1,Ke,Ue=[];if(ye.history){var Pt=se;se=function(rn,_n){return Ue.push(rn.slice()),Pt(rn,_n)}}ve.fx=se(ve.x,ve.fxprime);for(var Gt=0;Gt<Fe&&(q(gt,ve.fxprime,-1),yt=H(se,gt,ve,fe,yt,pt,lt),ye.history&&(ye.history.push({x:ve.x.slice(),fx:ve.fx,fxprime:ve.fxprime.slice(),functionCalls:Ue,learnRate:yt,alpha:yt}),Ue=[]),Ke=ve,ve=fe,fe=Ke,!(yt===0||j(ve.fxprime)<1e-5));++Gt);return ve}A.bisect=w,A.nelderMead=K,A.conjugateGradient=ae,A.gradientDescent=ie,A.gradientDescentLineSearch=le,A.zeros=B,A.zerosM=ne,A.norm2=j,A.weightedSum=Y,A.scale=q})},31767:function(cn,Ne,A){"use strict";A.d(Ne,{Ib:function(){return w},WT:function(){return B}});var w=1e-6,B=typeof Float32Array!="undefined"?Float32Array:Array,ne=Math.random;function ue(K){B=K}var j=Math.PI/180;function q(K){return K*j}function Y(K,H){return Math.abs(K-H)<=w*Math.max(1,Math.abs(K),Math.abs(H))}Math.hypot||(Math.hypot=function(){for(var K=0,H=arguments.length;H--;)K+=arguments[H]*arguments[H];return Math.sqrt(K)})},73485:function(cn,Ne,A){"use strict";A.d(Ne,{Ue:function(){return B},al:function(){return q},xO:function(){return ne}});var w=A(31767);function B(){var Pe=new w.WT(9);return w.WT!=Float32Array&&(Pe[1]=0,Pe[2]=0,Pe[3]=0,Pe[5]=0,Pe[6]=0,Pe[7]=0),Pe[0]=1,Pe[4]=1,Pe[8]=1,Pe}function ne(Pe,Qe){return Pe[0]=Qe[0],Pe[1]=Qe[1],Pe[2]=Qe[2],Pe[3]=Qe[4],Pe[4]=Qe[5],Pe[5]=Qe[6],Pe[6]=Qe[8],Pe[7]=Qe[9],Pe[8]=Qe[10],Pe}function ue(Pe){var Qe=new glMatrix.ARRAY_TYPE(9);return Qe[0]=Pe[0],Qe[1]=Pe[1],Qe[2]=Pe[2],Qe[3]=Pe[3],Qe[4]=Pe[4],Qe[5]=Pe[5],Qe[6]=Pe[6],Qe[7]=Pe[7],Qe[8]=Pe[8],Qe}function j(Pe,Qe){return Pe[0]=Qe[0],Pe[1]=Qe[1],Pe[2]=Qe[2],Pe[3]=Qe[3],Pe[4]=Qe[4],Pe[5]=Qe[5],Pe[6]=Qe[6],Pe[7]=Qe[7],Pe[8]=Qe[8],Pe}function q(Pe,Qe,He,_t,Bt,At,Je,zt,mn){var Ot=new w.WT(9);return Ot[0]=Pe,Ot[1]=Qe,Ot[2]=He,Ot[3]=_t,Ot[4]=Bt,Ot[5]=At,Ot[6]=Je,Ot[7]=zt,Ot[8]=mn,Ot}function Y(Pe,Qe,He,_t,Bt,At,Je,zt,mn,Ot){return Pe[0]=Qe,Pe[1]=He,Pe[2]=_t,Pe[3]=Bt,Pe[4]=At,Pe[5]=Je,Pe[6]=zt,Pe[7]=mn,Pe[8]=Ot,Pe}function K(Pe){return Pe[0]=1,Pe[1]=0,Pe[2]=0,Pe[3]=0,Pe[4]=1,Pe[5]=0,Pe[6]=0,Pe[7]=0,Pe[8]=1,Pe}function H(Pe,Qe){if(Pe===Qe){var He=Qe[1],_t=Qe[2],Bt=Qe[5];Pe[1]=Qe[3],Pe[2]=Qe[6],Pe[3]=He,Pe[5]=Qe[7],Pe[6]=_t,Pe[7]=Bt}else Pe[0]=Qe[0],Pe[1]=Qe[3],Pe[2]=Qe[6],Pe[3]=Qe[1],Pe[4]=Qe[4],Pe[5]=Qe[7],Pe[6]=Qe[2],Pe[7]=Qe[5],Pe[8]=Qe[8];return Pe}function ae(Pe,Qe){var He=Qe[0],_t=Qe[1],Bt=Qe[2],At=Qe[3],Je=Qe[4],zt=Qe[5],mn=Qe[6],Ot=Qe[7],Xe=Qe[8],ct=Xe*Je-zt*Ot,Rt=-Xe*At+zt*mn,Oe=Ot*At-Je*mn,Ge=He*ct+_t*Rt+Bt*Oe;return Ge?(Ge=1/Ge,Pe[0]=ct*Ge,Pe[1]=(-Xe*_t+Bt*Ot)*Ge,Pe[2]=(zt*_t-Bt*Je)*Ge,Pe[3]=Rt*Ge,Pe[4]=(Xe*He-Bt*mn)*Ge,Pe[5]=(-zt*He+Bt*At)*Ge,Pe[6]=Oe*Ge,Pe[7]=(-Ot*He+_t*mn)*Ge,Pe[8]=(Je*He-_t*At)*Ge,Pe):null}function ie(Pe,Qe){var He=Qe[0],_t=Qe[1],Bt=Qe[2],At=Qe[3],Je=Qe[4],zt=Qe[5],mn=Qe[6],Ot=Qe[7],Xe=Qe[8];return Pe[0]=Je*Xe-zt*Ot,Pe[1]=Bt*Ot-_t*Xe,Pe[2]=_t*zt-Bt*Je,Pe[3]=zt*mn-At*Xe,Pe[4]=He*Xe-Bt*mn,Pe[5]=Bt*At-He*zt,Pe[6]=At*Ot-Je*mn,Pe[7]=_t*mn-He*Ot,Pe[8]=He*Je-_t*At,Pe}function le(Pe){var Qe=Pe[0],He=Pe[1],_t=Pe[2],Bt=Pe[3],At=Pe[4],Je=Pe[5],zt=Pe[6],mn=Pe[7],Ot=Pe[8];return Qe*(Ot*At-Je*mn)+He*(-Ot*Bt+Je*zt)+_t*(mn*Bt-At*zt)}function se(Pe,Qe,He){var _t=Qe[0],Bt=Qe[1],At=Qe[2],Je=Qe[3],zt=Qe[4],mn=Qe[5],Ot=Qe[6],Xe=Qe[7],ct=Qe[8],Rt=He[0],Oe=He[1],Ge=He[2],Vt=He[3],De=He[4],et=He[5],Ce=He[6],J=He[7],Le=He[8];return Pe[0]=Rt*_t+Oe*Je+Ge*Ot,Pe[1]=Rt*Bt+Oe*zt+Ge*Xe,Pe[2]=Rt*At+Oe*mn+Ge*ct,Pe[3]=Vt*_t+De*Je+et*Ot,Pe[4]=Vt*Bt+De*zt+et*Xe,Pe[5]=Vt*At+De*mn+et*ct,Pe[6]=Ce*_t+J*Je+Le*Ot,Pe[7]=Ce*Bt+J*zt+Le*Xe,Pe[8]=Ce*At+J*mn+Le*ct,Pe}function ge(Pe,Qe,He){var _t=Qe[0],Bt=Qe[1],At=Qe[2],Je=Qe[3],zt=Qe[4],mn=Qe[5],Ot=Qe[6],Xe=Qe[7],ct=Qe[8],Rt=He[0],Oe=He[1];return Pe[0]=_t,Pe[1]=Bt,Pe[2]=At,Pe[3]=Je,Pe[4]=zt,Pe[5]=mn,Pe[6]=Rt*_t+Oe*Je+Ot,Pe[7]=Rt*Bt+Oe*zt+Xe,Pe[8]=Rt*At+Oe*mn+ct,Pe}function ye(Pe,Qe,He){var _t=Qe[0],Bt=Qe[1],At=Qe[2],Je=Qe[3],zt=Qe[4],mn=Qe[5],Ot=Qe[6],Xe=Qe[7],ct=Qe[8],Rt=Math.sin(He),Oe=Math.cos(He);return Pe[0]=Oe*_t+Rt*Je,Pe[1]=Oe*Bt+Rt*zt,Pe[2]=Oe*At+Rt*mn,Pe[3]=Oe*Je-Rt*_t,Pe[4]=Oe*zt-Rt*Bt,Pe[5]=Oe*mn-Rt*At,Pe[6]=Ot,Pe[7]=Xe,Pe[8]=ct,Pe}function ve(Pe,Qe,He){var _t=He[0],Bt=He[1];return Pe[0]=_t*Qe[0],Pe[1]=_t*Qe[1],Pe[2]=_t*Qe[2],Pe[3]=Bt*Qe[3],Pe[4]=Bt*Qe[4],Pe[5]=Bt*Qe[5],Pe[6]=Qe[6],Pe[7]=Qe[7],Pe[8]=Qe[8],Pe}function fe(Pe,Qe){return Pe[0]=1,Pe[1]=0,Pe[2]=0,Pe[3]=0,Pe[4]=1,Pe[5]=0,Pe[6]=Qe[0],Pe[7]=Qe[1],Pe[8]=1,Pe}function Fe(Pe,Qe){var He=Math.sin(Qe),_t=Math.cos(Qe);return Pe[0]=_t,Pe[1]=He,Pe[2]=0,Pe[3]=-He,Pe[4]=_t,Pe[5]=0,Pe[6]=0,Pe[7]=0,Pe[8]=1,Pe}function yt(Pe,Qe){return Pe[0]=Qe[0],Pe[1]=0,Pe[2]=0,Pe[3]=0,Pe[4]=Qe[1],Pe[5]=0,Pe[6]=0,Pe[7]=0,Pe[8]=1,Pe}function gt(Pe,Qe){return Pe[0]=Qe[0],Pe[1]=Qe[1],Pe[2]=0,Pe[3]=Qe[2],Pe[4]=Qe[3],Pe[5]=0,Pe[6]=Qe[4],Pe[7]=Qe[5],Pe[8]=1,Pe}function pt(Pe,Qe){var He=Qe[0],_t=Qe[1],Bt=Qe[2],At=Qe[3],Je=He+He,zt=_t+_t,mn=Bt+Bt,Ot=He*Je,Xe=_t*Je,ct=_t*zt,Rt=Bt*Je,Oe=Bt*zt,Ge=Bt*mn,Vt=At*Je,De=At*zt,et=At*mn;return Pe[0]=1-ct-Ge,Pe[3]=Xe-et,Pe[6]=Rt+De,Pe[1]=Xe+et,Pe[4]=1-Ot-Ge,Pe[7]=Oe-Vt,Pe[2]=Rt-De,Pe[5]=Oe+Vt,Pe[8]=1-Ot-ct,Pe}function lt(Pe,Qe){var He=Qe[0],_t=Qe[1],Bt=Qe[2],At=Qe[3],Je=Qe[4],zt=Qe[5],mn=Qe[6],Ot=Qe[7],Xe=Qe[8],ct=Qe[9],Rt=Qe[10],Oe=Qe[11],Ge=Qe[12],Vt=Qe[13],De=Qe[14],et=Qe[15],Ce=He*zt-_t*Je,J=He*mn-Bt*Je,Le=He*Ot-At*Je,Jt=_t*mn-Bt*zt,Be=_t*Ot-At*zt,In=Bt*Ot-At*mn,cr=Xe*Vt-ct*Ge,bn=Xe*De-Rt*Ge,ir=Xe*et-Oe*Ge,Nr=ct*De-Rt*Vt,Ar=ct*et-Oe*Vt,Zr=Rt*et-Oe*De,wi=Ce*Zr-J*Ar+Le*Nr+Jt*ir-Be*bn+In*cr;return wi?(wi=1/wi,Pe[0]=(zt*Zr-mn*Ar+Ot*Nr)*wi,Pe[1]=(mn*ir-Je*Zr-Ot*bn)*wi,Pe[2]=(Je*Ar-zt*ir+Ot*cr)*wi,Pe[3]=(Bt*Ar-_t*Zr-At*Nr)*wi,Pe[4]=(He*Zr-Bt*ir+At*bn)*wi,Pe[5]=(_t*ir-He*Ar-At*cr)*wi,Pe[6]=(Vt*In-De*Be+et*Jt)*wi,Pe[7]=(De*Le-Ge*In-et*J)*wi,Pe[8]=(Ge*Be-Vt*Le+et*Ce)*wi,Pe):null}function Ke(Pe,Qe,He){return Pe[0]=2/Qe,Pe[1]=0,Pe[2]=0,Pe[3]=0,Pe[4]=-2/He,Pe[5]=0,Pe[6]=-1,Pe[7]=1,Pe[8]=1,Pe}function Ue(Pe){return"mat3("+Pe[0]+", "+Pe[1]+", "+Pe[2]+", "+Pe[3]+", "+Pe[4]+", "+Pe[5]+", "+Pe[6]+", "+Pe[7]+", "+Pe[8]+")"}function Pt(Pe){return Math.hypot(Pe[0],Pe[1],Pe[2],Pe[3],Pe[4],Pe[5],Pe[6],Pe[7],Pe[8])}function Gt(Pe,Qe,He){return Pe[0]=Qe[0]+He[0],Pe[1]=Qe[1]+He[1],Pe[2]=Qe[2]+He[2],Pe[3]=Qe[3]+He[3],Pe[4]=Qe[4]+He[4],Pe[5]=Qe[5]+He[5],Pe[6]=Qe[6]+He[6],Pe[7]=Qe[7]+He[7],Pe[8]=Qe[8]+He[8],Pe}function rn(Pe,Qe,He){return Pe[0]=Qe[0]-He[0],Pe[1]=Qe[1]-He[1],Pe[2]=Qe[2]-He[2],Pe[3]=Qe[3]-He[3],Pe[4]=Qe[4]-He[4],Pe[5]=Qe[5]-He[5],Pe[6]=Qe[6]-He[6],Pe[7]=Qe[7]-He[7],Pe[8]=Qe[8]-He[8],Pe}function _n(Pe,Qe,He){return Pe[0]=Qe[0]*He,Pe[1]=Qe[1]*He,Pe[2]=Qe[2]*He,Pe[3]=Qe[3]*He,Pe[4]=Qe[4]*He,Pe[5]=Qe[5]*He,Pe[6]=Qe[6]*He,Pe[7]=Qe[7]*He,Pe[8]=Qe[8]*He,Pe}function qe(Pe,Qe,He,_t){return Pe[0]=Qe[0]+He[0]*_t,Pe[1]=Qe[1]+He[1]*_t,Pe[2]=Qe[2]+He[2]*_t,Pe[3]=Qe[3]+He[3]*_t,Pe[4]=Qe[4]+He[4]*_t,Pe[5]=Qe[5]+He[5]*_t,Pe[6]=Qe[6]+He[6]*_t,Pe[7]=Qe[7]+He[7]*_t,Pe[8]=Qe[8]+He[8]*_t,Pe}function Nt(Pe,Qe){return Pe[0]===Qe[0]&&Pe[1]===Qe[1]&&Pe[2]===Qe[2]&&Pe[3]===Qe[3]&&Pe[4]===Qe[4]&&Pe[5]===Qe[5]&&Pe[6]===Qe[6]&&Pe[7]===Qe[7]&&Pe[8]===Qe[8]}function ft(Pe,Qe){var He=Pe[0],_t=Pe[1],Bt=Pe[2],At=Pe[3],Je=Pe[4],zt=Pe[5],mn=Pe[6],Ot=Pe[7],Xe=Pe[8],ct=Qe[0],Rt=Qe[1],Oe=Qe[2],Ge=Qe[3],Vt=Qe[4],De=Qe[5],et=Qe[6],Ce=Qe[7],J=Qe[8];return Math.abs(He-ct)<=glMatrix.EPSILON*Math.max(1,Math.abs(He),Math.abs(ct))&&Math.abs(_t-Rt)<=glMatrix.EPSILON*Math.max(1,Math.abs(_t),Math.abs(Rt))&&Math.abs(Bt-Oe)<=glMatrix.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(Oe))&&Math.abs(At-Ge)<=glMatrix.EPSILON*Math.max(1,Math.abs(At),Math.abs(Ge))&&Math.abs(Je-Vt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Je),Math.abs(Vt))&&Math.abs(zt-De)<=glMatrix.EPSILON*Math.max(1,Math.abs(zt),Math.abs(De))&&Math.abs(mn-et)<=glMatrix.EPSILON*Math.max(1,Math.abs(mn),Math.abs(et))&&Math.abs(Ot-Ce)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(Ce))&&Math.abs(Xe-J)<=glMatrix.EPSILON*Math.max(1,Math.abs(Xe),Math.abs(J))}var ln=null,tt=null},39536:function(cn,Ne,A){"use strict";A.r(Ne),A.d(Ne,{add:function(){return ct},adjoint:function(){return ae},clone:function(){return ne},copy:function(){return ue},create:function(){return B},determinant:function(){return ie},equals:function(){return De},exactEquals:function(){return Vt},frob:function(){return Xe},fromQuat:function(){return ln},fromQuat2:function(){return Gt},fromRotation:function(){return pt},fromRotationTranslation:function(){return Pt},fromRotationTranslationScale:function(){return Nt},fromRotationTranslationScaleOrigin:function(){return ft},fromScaling:function(){return gt},fromTranslation:function(){return yt},fromValues:function(){return j},fromXRotation:function(){return lt},fromYRotation:function(){return Ke},fromZRotation:function(){return Ue},frustum:function(){return tt},getRotation:function(){return qe},getScaling:function(){return _n},getTranslation:function(){return rn},identity:function(){return Y},invert:function(){return H},lookAt:function(){return zt},mul:function(){return et},multiply:function(){return le},multiplyScalar:function(){return Oe},multiplyScalarAndAdd:function(){return Ge},ortho:function(){return At},orthoNO:function(){return Bt},orthoZO:function(){return Je},perspective:function(){return Qe},perspectiveFromFieldOfView:function(){return _t},perspectiveNO:function(){return Pe},perspectiveZO:function(){return He},rotate:function(){return ye},rotateX:function(){return ve},rotateY:function(){return fe},rotateZ:function(){return Fe},scale:function(){return ge},set:function(){return q},str:function(){return Ot},sub:function(){return Ce},subtract:function(){return Rt},targetTo:function(){return mn},translate:function(){return se},transpose:function(){return K}});var w=A(31767);function B(){var J=new w.WT(16);return w.WT!=Float32Array&&(J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[11]=0,J[12]=0,J[13]=0,J[14]=0),J[0]=1,J[5]=1,J[10]=1,J[15]=1,J}function ne(J){var Le=new w.WT(16);return Le[0]=J[0],Le[1]=J[1],Le[2]=J[2],Le[3]=J[3],Le[4]=J[4],Le[5]=J[5],Le[6]=J[6],Le[7]=J[7],Le[8]=J[8],Le[9]=J[9],Le[10]=J[10],Le[11]=J[11],Le[12]=J[12],Le[13]=J[13],Le[14]=J[14],Le[15]=J[15],Le}function ue(J,Le){return J[0]=Le[0],J[1]=Le[1],J[2]=Le[2],J[3]=Le[3],J[4]=Le[4],J[5]=Le[5],J[6]=Le[6],J[7]=Le[7],J[8]=Le[8],J[9]=Le[9],J[10]=Le[10],J[11]=Le[11],J[12]=Le[12],J[13]=Le[13],J[14]=Le[14],J[15]=Le[15],J}function j(J,Le,Jt,Be,In,cr,bn,ir,Nr,Ar,Zr,wi,Ln,Nn,$n,wn){var nt=new w.WT(16);return nt[0]=J,nt[1]=Le,nt[2]=Jt,nt[3]=Be,nt[4]=In,nt[5]=cr,nt[6]=bn,nt[7]=ir,nt[8]=Nr,nt[9]=Ar,nt[10]=Zr,nt[11]=wi,nt[12]=Ln,nt[13]=Nn,nt[14]=$n,nt[15]=wn,nt}function q(J,Le,Jt,Be,In,cr,bn,ir,Nr,Ar,Zr,wi,Ln,Nn,$n,wn,nt){return J[0]=Le,J[1]=Jt,J[2]=Be,J[3]=In,J[4]=cr,J[5]=bn,J[6]=ir,J[7]=Nr,J[8]=Ar,J[9]=Zr,J[10]=wi,J[11]=Ln,J[12]=Nn,J[13]=$n,J[14]=wn,J[15]=nt,J}function Y(J){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function K(J,Le){if(J===Le){var Jt=Le[1],Be=Le[2],In=Le[3],cr=Le[6],bn=Le[7],ir=Le[11];J[1]=Le[4],J[2]=Le[8],J[3]=Le[12],J[4]=Jt,J[6]=Le[9],J[7]=Le[13],J[8]=Be,J[9]=cr,J[11]=Le[14],J[12]=In,J[13]=bn,J[14]=ir}else J[0]=Le[0],J[1]=Le[4],J[2]=Le[8],J[3]=Le[12],J[4]=Le[1],J[5]=Le[5],J[6]=Le[9],J[7]=Le[13],J[8]=Le[2],J[9]=Le[6],J[10]=Le[10],J[11]=Le[14],J[12]=Le[3],J[13]=Le[7],J[14]=Le[11],J[15]=Le[15];return J}function H(J,Le){var Jt=Le[0],Be=Le[1],In=Le[2],cr=Le[3],bn=Le[4],ir=Le[5],Nr=Le[6],Ar=Le[7],Zr=Le[8],wi=Le[9],Ln=Le[10],Nn=Le[11],$n=Le[12],wn=Le[13],nt=Le[14],ze=Le[15],vt=Jt*ir-Be*bn,$t=Jt*Nr-In*bn,gn=Jt*Ar-cr*bn,at=Be*Nr-In*ir,an=Be*Ar-cr*ir,hn=In*Ar-cr*Nr,pr=Zr*wn-wi*$n,ur=Zr*nt-Ln*$n,pi=Zr*ze-Nn*$n,ar=wi*nt-Ln*wn,di=wi*ze-Nn*wn,sa=Ln*ze-Nn*nt,xa=vt*sa-$t*di+gn*ar+at*pi-an*ur+hn*pr;return xa?(xa=1/xa,J[0]=(ir*sa-Nr*di+Ar*ar)*xa,J[1]=(In*di-Be*sa-cr*ar)*xa,J[2]=(wn*hn-nt*an+ze*at)*xa,J[3]=(Ln*an-wi*hn-Nn*at)*xa,J[4]=(Nr*pi-bn*sa-Ar*ur)*xa,J[5]=(Jt*sa-In*pi+cr*ur)*xa,J[6]=(nt*gn-$n*hn-ze*$t)*xa,J[7]=(Zr*hn-Ln*gn+Nn*$t)*xa,J[8]=(bn*di-ir*pi+Ar*pr)*xa,J[9]=(Be*pi-Jt*di-cr*pr)*xa,J[10]=($n*an-wn*gn+ze*vt)*xa,J[11]=(wi*gn-Zr*an-Nn*vt)*xa,J[12]=(ir*ur-bn*ar-Nr*pr)*xa,J[13]=(Jt*ar-Be*ur+In*pr)*xa,J[14]=(wn*$t-$n*at-nt*vt)*xa,J[15]=(Zr*at-wi*$t+Ln*vt)*xa,J):null}function ae(J,Le){var Jt=Le[0],Be=Le[1],In=Le[2],cr=Le[3],bn=Le[4],ir=Le[5],Nr=Le[6],Ar=Le[7],Zr=Le[8],wi=Le[9],Ln=Le[10],Nn=Le[11],$n=Le[12],wn=Le[13],nt=Le[14],ze=Le[15];return J[0]=ir*(Ln*ze-Nn*nt)-wi*(Nr*ze-Ar*nt)+wn*(Nr*Nn-Ar*Ln),J[1]=-(Be*(Ln*ze-Nn*nt)-wi*(In*ze-cr*nt)+wn*(In*Nn-cr*Ln)),J[2]=Be*(Nr*ze-Ar*nt)-ir*(In*ze-cr*nt)+wn*(In*Ar-cr*Nr),J[3]=-(Be*(Nr*Nn-Ar*Ln)-ir*(In*Nn-cr*Ln)+wi*(In*Ar-cr*Nr)),J[4]=-(bn*(Ln*ze-Nn*nt)-Zr*(Nr*ze-Ar*nt)+$n*(Nr*Nn-Ar*Ln)),J[5]=Jt*(Ln*ze-Nn*nt)-Zr*(In*ze-cr*nt)+$n*(In*Nn-cr*Ln),J[6]=-(Jt*(Nr*ze-Ar*nt)-bn*(In*ze-cr*nt)+$n*(In*Ar-cr*Nr)),J[7]=Jt*(Nr*Nn-Ar*Ln)-bn*(In*Nn-cr*Ln)+Zr*(In*Ar-cr*Nr),J[8]=bn*(wi*ze-Nn*wn)-Zr*(ir*ze-Ar*wn)+$n*(ir*Nn-Ar*wi),J[9]=-(Jt*(wi*ze-Nn*wn)-Zr*(Be*ze-cr*wn)+$n*(Be*Nn-cr*wi)),J[10]=Jt*(ir*ze-Ar*wn)-bn*(Be*ze-cr*wn)+$n*(Be*Ar-cr*ir),J[11]=-(Jt*(ir*Nn-Ar*wi)-bn*(Be*Nn-cr*wi)+Zr*(Be*Ar-cr*ir)),J[12]=-(bn*(wi*nt-Ln*wn)-Zr*(ir*nt-Nr*wn)+$n*(ir*Ln-Nr*wi)),J[13]=Jt*(wi*nt-Ln*wn)-Zr*(Be*nt-In*wn)+$n*(Be*Ln-In*wi),J[14]=-(Jt*(ir*nt-Nr*wn)-bn*(Be*nt-In*wn)+$n*(Be*Nr-In*ir)),J[15]=Jt*(ir*Ln-Nr*wi)-bn*(Be*Ln-In*wi)+Zr*(Be*Nr-In*ir),J}function ie(J){var Le=J[0],Jt=J[1],Be=J[2],In=J[3],cr=J[4],bn=J[5],ir=J[6],Nr=J[7],Ar=J[8],Zr=J[9],wi=J[10],Ln=J[11],Nn=J[12],$n=J[13],wn=J[14],nt=J[15],ze=Le*bn-Jt*cr,vt=Le*ir-Be*cr,$t=Le*Nr-In*cr,gn=Jt*ir-Be*bn,at=Jt*Nr-In*bn,an=Be*Nr-In*ir,hn=Ar*$n-Zr*Nn,pr=Ar*wn-wi*Nn,ur=Ar*nt-Ln*Nn,pi=Zr*wn-wi*$n,ar=Zr*nt-Ln*$n,di=wi*nt-Ln*wn;return ze*di-vt*ar+$t*pi+gn*ur-at*pr+an*hn}function le(J,Le,Jt){var Be=Le[0],In=Le[1],cr=Le[2],bn=Le[3],ir=Le[4],Nr=Le[5],Ar=Le[6],Zr=Le[7],wi=Le[8],Ln=Le[9],Nn=Le[10],$n=Le[11],wn=Le[12],nt=Le[13],ze=Le[14],vt=Le[15],$t=Jt[0],gn=Jt[1],at=Jt[2],an=Jt[3];return J[0]=$t*Be+gn*ir+at*wi+an*wn,J[1]=$t*In+gn*Nr+at*Ln+an*nt,J[2]=$t*cr+gn*Ar+at*Nn+an*ze,J[3]=$t*bn+gn*Zr+at*$n+an*vt,$t=Jt[4],gn=Jt[5],at=Jt[6],an=Jt[7],J[4]=$t*Be+gn*ir+at*wi+an*wn,J[5]=$t*In+gn*Nr+at*Ln+an*nt,J[6]=$t*cr+gn*Ar+at*Nn+an*ze,J[7]=$t*bn+gn*Zr+at*$n+an*vt,$t=Jt[8],gn=Jt[9],at=Jt[10],an=Jt[11],J[8]=$t*Be+gn*ir+at*wi+an*wn,J[9]=$t*In+gn*Nr+at*Ln+an*nt,J[10]=$t*cr+gn*Ar+at*Nn+an*ze,J[11]=$t*bn+gn*Zr+at*$n+an*vt,$t=Jt[12],gn=Jt[13],at=Jt[14],an=Jt[15],J[12]=$t*Be+gn*ir+at*wi+an*wn,J[13]=$t*In+gn*Nr+at*Ln+an*nt,J[14]=$t*cr+gn*Ar+at*Nn+an*ze,J[15]=$t*bn+gn*Zr+at*$n+an*vt,J}function se(J,Le,Jt){var Be=Jt[0],In=Jt[1],cr=Jt[2],bn,ir,Nr,Ar,Zr,wi,Ln,Nn,$n,wn,nt,ze;return Le===J?(J[12]=Le[0]*Be+Le[4]*In+Le[8]*cr+Le[12],J[13]=Le[1]*Be+Le[5]*In+Le[9]*cr+Le[13],J[14]=Le[2]*Be+Le[6]*In+Le[10]*cr+Le[14],J[15]=Le[3]*Be+Le[7]*In+Le[11]*cr+Le[15]):(bn=Le[0],ir=Le[1],Nr=Le[2],Ar=Le[3],Zr=Le[4],wi=Le[5],Ln=Le[6],Nn=Le[7],$n=Le[8],wn=Le[9],nt=Le[10],ze=Le[11],J[0]=bn,J[1]=ir,J[2]=Nr,J[3]=Ar,J[4]=Zr,J[5]=wi,J[6]=Ln,J[7]=Nn,J[8]=$n,J[9]=wn,J[10]=nt,J[11]=ze,J[12]=bn*Be+Zr*In+$n*cr+Le[12],J[13]=ir*Be+wi*In+wn*cr+Le[13],J[14]=Nr*Be+Ln*In+nt*cr+Le[14],J[15]=Ar*Be+Nn*In+ze*cr+Le[15]),J}function ge(J,Le,Jt){var Be=Jt[0],In=Jt[1],cr=Jt[2];return J[0]=Le[0]*Be,J[1]=Le[1]*Be,J[2]=Le[2]*Be,J[3]=Le[3]*Be,J[4]=Le[4]*In,J[5]=Le[5]*In,J[6]=Le[6]*In,J[7]=Le[7]*In,J[8]=Le[8]*cr,J[9]=Le[9]*cr,J[10]=Le[10]*cr,J[11]=Le[11]*cr,J[12]=Le[12],J[13]=Le[13],J[14]=Le[14],J[15]=Le[15],J}function ye(J,Le,Jt,Be){var In=Be[0],cr=Be[1],bn=Be[2],ir=Math.hypot(In,cr,bn),Nr,Ar,Zr,wi,Ln,Nn,$n,wn,nt,ze,vt,$t,gn,at,an,hn,pr,ur,pi,ar,di,sa,xa,za;return ir<w.Ib?null:(ir=1/ir,In*=ir,cr*=ir,bn*=ir,Nr=Math.sin(Jt),Ar=Math.cos(Jt),Zr=1-Ar,wi=Le[0],Ln=Le[1],Nn=Le[2],$n=Le[3],wn=Le[4],nt=Le[5],ze=Le[6],vt=Le[7],$t=Le[8],gn=Le[9],at=Le[10],an=Le[11],hn=In*In*Zr+Ar,pr=cr*In*Zr+bn*Nr,ur=bn*In*Zr-cr*Nr,pi=In*cr*Zr-bn*Nr,ar=cr*cr*Zr+Ar,di=bn*cr*Zr+In*Nr,sa=In*bn*Zr+cr*Nr,xa=cr*bn*Zr-In*Nr,za=bn*bn*Zr+Ar,J[0]=wi*hn+wn*pr+$t*ur,J[1]=Ln*hn+nt*pr+gn*ur,J[2]=Nn*hn+ze*pr+at*ur,J[3]=$n*hn+vt*pr+an*ur,J[4]=wi*pi+wn*ar+$t*di,J[5]=Ln*pi+nt*ar+gn*di,J[6]=Nn*pi+ze*ar+at*di,J[7]=$n*pi+vt*ar+an*di,J[8]=wi*sa+wn*xa+$t*za,J[9]=Ln*sa+nt*xa+gn*za,J[10]=Nn*sa+ze*xa+at*za,J[11]=$n*sa+vt*xa+an*za,Le!==J&&(J[12]=Le[12],J[13]=Le[13],J[14]=Le[14],J[15]=Le[15]),J)}function ve(J,Le,Jt){var Be=Math.sin(Jt),In=Math.cos(Jt),cr=Le[4],bn=Le[5],ir=Le[6],Nr=Le[7],Ar=Le[8],Zr=Le[9],wi=Le[10],Ln=Le[11];return Le!==J&&(J[0]=Le[0],J[1]=Le[1],J[2]=Le[2],J[3]=Le[3],J[12]=Le[12],J[13]=Le[13],J[14]=Le[14],J[15]=Le[15]),J[4]=cr*In+Ar*Be,J[5]=bn*In+Zr*Be,J[6]=ir*In+wi*Be,J[7]=Nr*In+Ln*Be,J[8]=Ar*In-cr*Be,J[9]=Zr*In-bn*Be,J[10]=wi*In-ir*Be,J[11]=Ln*In-Nr*Be,J}function fe(J,Le,Jt){var Be=Math.sin(Jt),In=Math.cos(Jt),cr=Le[0],bn=Le[1],ir=Le[2],Nr=Le[3],Ar=Le[8],Zr=Le[9],wi=Le[10],Ln=Le[11];return Le!==J&&(J[4]=Le[4],J[5]=Le[5],J[6]=Le[6],J[7]=Le[7],J[12]=Le[12],J[13]=Le[13],J[14]=Le[14],J[15]=Le[15]),J[0]=cr*In-Ar*Be,J[1]=bn*In-Zr*Be,J[2]=ir*In-wi*Be,J[3]=Nr*In-Ln*Be,J[8]=cr*Be+Ar*In,J[9]=bn*Be+Zr*In,J[10]=ir*Be+wi*In,J[11]=Nr*Be+Ln*In,J}function Fe(J,Le,Jt){var Be=Math.sin(Jt),In=Math.cos(Jt),cr=Le[0],bn=Le[1],ir=Le[2],Nr=Le[3],Ar=Le[4],Zr=Le[5],wi=Le[6],Ln=Le[7];return Le!==J&&(J[8]=Le[8],J[9]=Le[9],J[10]=Le[10],J[11]=Le[11],J[12]=Le[12],J[13]=Le[13],J[14]=Le[14],J[15]=Le[15]),J[0]=cr*In+Ar*Be,J[1]=bn*In+Zr*Be,J[2]=ir*In+wi*Be,J[3]=Nr*In+Ln*Be,J[4]=Ar*In-cr*Be,J[5]=Zr*In-bn*Be,J[6]=wi*In-ir*Be,J[7]=Ln*In-Nr*Be,J}function yt(J,Le){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=Le[0],J[13]=Le[1],J[14]=Le[2],J[15]=1,J}function gt(J,Le){return J[0]=Le[0],J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=Le[1],J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=Le[2],J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function pt(J,Le,Jt){var Be=Jt[0],In=Jt[1],cr=Jt[2],bn=Math.hypot(Be,In,cr),ir,Nr,Ar;return bn<w.Ib?null:(bn=1/bn,Be*=bn,In*=bn,cr*=bn,ir=Math.sin(Le),Nr=Math.cos(Le),Ar=1-Nr,J[0]=Be*Be*Ar+Nr,J[1]=In*Be*Ar+cr*ir,J[2]=cr*Be*Ar-In*ir,J[3]=0,J[4]=Be*In*Ar-cr*ir,J[5]=In*In*Ar+Nr,J[6]=cr*In*Ar+Be*ir,J[7]=0,J[8]=Be*cr*Ar+In*ir,J[9]=In*cr*Ar-Be*ir,J[10]=cr*cr*Ar+Nr,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J)}function lt(J,Le){var Jt=Math.sin(Le),Be=Math.cos(Le);return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=Be,J[6]=Jt,J[7]=0,J[8]=0,J[9]=-Jt,J[10]=Be,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function Ke(J,Le){var Jt=Math.sin(Le),Be=Math.cos(Le);return J[0]=Be,J[1]=0,J[2]=-Jt,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=Jt,J[9]=0,J[10]=Be,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function Ue(J,Le){var Jt=Math.sin(Le),Be=Math.cos(Le);return J[0]=Be,J[1]=Jt,J[2]=0,J[3]=0,J[4]=-Jt,J[5]=Be,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function Pt(J,Le,Jt){var Be=Le[0],In=Le[1],cr=Le[2],bn=Le[3],ir=Be+Be,Nr=In+In,Ar=cr+cr,Zr=Be*ir,wi=Be*Nr,Ln=Be*Ar,Nn=In*Nr,$n=In*Ar,wn=cr*Ar,nt=bn*ir,ze=bn*Nr,vt=bn*Ar;return J[0]=1-(Nn+wn),J[1]=wi+vt,J[2]=Ln-ze,J[3]=0,J[4]=wi-vt,J[5]=1-(Zr+wn),J[6]=$n+nt,J[7]=0,J[8]=Ln+ze,J[9]=$n-nt,J[10]=1-(Zr+Nn),J[11]=0,J[12]=Jt[0],J[13]=Jt[1],J[14]=Jt[2],J[15]=1,J}function Gt(J,Le){var Jt=new w.WT(3),Be=-Le[0],In=-Le[1],cr=-Le[2],bn=Le[3],ir=Le[4],Nr=Le[5],Ar=Le[6],Zr=Le[7],wi=Be*Be+In*In+cr*cr+bn*bn;return wi>0?(Jt[0]=(ir*bn+Zr*Be+Nr*cr-Ar*In)*2/wi,Jt[1]=(Nr*bn+Zr*In+Ar*Be-ir*cr)*2/wi,Jt[2]=(Ar*bn+Zr*cr+ir*In-Nr*Be)*2/wi):(Jt[0]=(ir*bn+Zr*Be+Nr*cr-Ar*In)*2,Jt[1]=(Nr*bn+Zr*In+Ar*Be-ir*cr)*2,Jt[2]=(Ar*bn+Zr*cr+ir*In-Nr*Be)*2),Pt(J,Le,Jt),J}function rn(J,Le){return J[0]=Le[12],J[1]=Le[13],J[2]=Le[14],J}function _n(J,Le){var Jt=Le[0],Be=Le[1],In=Le[2],cr=Le[4],bn=Le[5],ir=Le[6],Nr=Le[8],Ar=Le[9],Zr=Le[10];return J[0]=Math.hypot(Jt,Be,In),J[1]=Math.hypot(cr,bn,ir),J[2]=Math.hypot(Nr,Ar,Zr),J}function qe(J,Le){var Jt=new w.WT(3);_n(Jt,Le);var Be=1/Jt[0],In=1/Jt[1],cr=1/Jt[2],bn=Le[0]*Be,ir=Le[1]*In,Nr=Le[2]*cr,Ar=Le[4]*Be,Zr=Le[5]*In,wi=Le[6]*cr,Ln=Le[8]*Be,Nn=Le[9]*In,$n=Le[10]*cr,wn=bn+Zr+$n,nt=0;return wn>0?(nt=Math.sqrt(wn+1)*2,J[3]=.25*nt,J[0]=(wi-Nn)/nt,J[1]=(Ln-Nr)/nt,J[2]=(ir-Ar)/nt):bn>Zr&&bn>$n?(nt=Math.sqrt(1+bn-Zr-$n)*2,J[3]=(wi-Nn)/nt,J[0]=.25*nt,J[1]=(ir+Ar)/nt,J[2]=(Ln+Nr)/nt):Zr>$n?(nt=Math.sqrt(1+Zr-bn-$n)*2,J[3]=(Ln-Nr)/nt,J[0]=(ir+Ar)/nt,J[1]=.25*nt,J[2]=(wi+Nn)/nt):(nt=Math.sqrt(1+$n-bn-Zr)*2,J[3]=(ir-Ar)/nt,J[0]=(Ln+Nr)/nt,J[1]=(wi+Nn)/nt,J[2]=.25*nt),J}function Nt(J,Le,Jt,Be){var In=Le[0],cr=Le[1],bn=Le[2],ir=Le[3],Nr=In+In,Ar=cr+cr,Zr=bn+bn,wi=In*Nr,Ln=In*Ar,Nn=In*Zr,$n=cr*Ar,wn=cr*Zr,nt=bn*Zr,ze=ir*Nr,vt=ir*Ar,$t=ir*Zr,gn=Be[0],at=Be[1],an=Be[2];return J[0]=(1-($n+nt))*gn,J[1]=(Ln+$t)*gn,J[2]=(Nn-vt)*gn,J[3]=0,J[4]=(Ln-$t)*at,J[5]=(1-(wi+nt))*at,J[6]=(wn+ze)*at,J[7]=0,J[8]=(Nn+vt)*an,J[9]=(wn-ze)*an,J[10]=(1-(wi+$n))*an,J[11]=0,J[12]=Jt[0],J[13]=Jt[1],J[14]=Jt[2],J[15]=1,J}function ft(J,Le,Jt,Be,In){var cr=Le[0],bn=Le[1],ir=Le[2],Nr=Le[3],Ar=cr+cr,Zr=bn+bn,wi=ir+ir,Ln=cr*Ar,Nn=cr*Zr,$n=cr*wi,wn=bn*Zr,nt=bn*wi,ze=ir*wi,vt=Nr*Ar,$t=Nr*Zr,gn=Nr*wi,at=Be[0],an=Be[1],hn=Be[2],pr=In[0],ur=In[1],pi=In[2],ar=(1-(wn+ze))*at,di=(Nn+gn)*at,sa=($n-$t)*at,xa=(Nn-gn)*an,za=(1-(Ln+ze))*an,Ui=(nt+vt)*an,Ao=($n+$t)*hn,fs=(nt-vt)*hn,cs=(1-(Ln+wn))*hn;return J[0]=ar,J[1]=di,J[2]=sa,J[3]=0,J[4]=xa,J[5]=za,J[6]=Ui,J[7]=0,J[8]=Ao,J[9]=fs,J[10]=cs,J[11]=0,J[12]=Jt[0]+pr-(ar*pr+xa*ur+Ao*pi),J[13]=Jt[1]+ur-(di*pr+za*ur+fs*pi),J[14]=Jt[2]+pi-(sa*pr+Ui*ur+cs*pi),J[15]=1,J}function ln(J,Le){var Jt=Le[0],Be=Le[1],In=Le[2],cr=Le[3],bn=Jt+Jt,ir=Be+Be,Nr=In+In,Ar=Jt*bn,Zr=Be*bn,wi=Be*ir,Ln=In*bn,Nn=In*ir,$n=In*Nr,wn=cr*bn,nt=cr*ir,ze=cr*Nr;return J[0]=1-wi-$n,J[1]=Zr+ze,J[2]=Ln-nt,J[3]=0,J[4]=Zr-ze,J[5]=1-Ar-$n,J[6]=Nn+wn,J[7]=0,J[8]=Ln+nt,J[9]=Nn-wn,J[10]=1-Ar-wi,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function tt(J,Le,Jt,Be,In,cr,bn){var ir=1/(Jt-Le),Nr=1/(In-Be),Ar=1/(cr-bn);return J[0]=cr*2*ir,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=cr*2*Nr,J[6]=0,J[7]=0,J[8]=(Jt+Le)*ir,J[9]=(In+Be)*Nr,J[10]=(bn+cr)*Ar,J[11]=-1,J[12]=0,J[13]=0,J[14]=bn*cr*2*Ar,J[15]=0,J}function Pe(J,Le,Jt,Be,In){var cr=1/Math.tan(Le/2),bn;return J[0]=cr/Jt,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=cr,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[11]=-1,J[12]=0,J[13]=0,J[15]=0,In!=null&&In!==1/0?(bn=1/(Be-In),J[10]=(In+Be)*bn,J[14]=2*In*Be*bn):(J[10]=-1,J[14]=-2*Be),J}var Qe=Pe;function He(J,Le,Jt,Be,In){var cr=1/Math.tan(Le/2),bn;return J[0]=cr/Jt,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=cr,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[11]=-1,J[12]=0,J[13]=0,J[15]=0,In!=null&&In!==1/0?(bn=1/(Be-In),J[10]=In*bn,J[14]=In*Be*bn):(J[10]=-1,J[14]=-Be),J}function _t(J,Le,Jt,Be){var In=Math.tan(Le.upDegrees*Math.PI/180),cr=Math.tan(Le.downDegrees*Math.PI/180),bn=Math.tan(Le.leftDegrees*Math.PI/180),ir=Math.tan(Le.rightDegrees*Math.PI/180),Nr=2/(bn+ir),Ar=2/(In+cr);return J[0]=Nr,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=Ar,J[6]=0,J[7]=0,J[8]=-((bn-ir)*Nr*.5),J[9]=(In-cr)*Ar*.5,J[10]=Be/(Jt-Be),J[11]=-1,J[12]=0,J[13]=0,J[14]=Be*Jt/(Jt-Be),J[15]=0,J}function Bt(J,Le,Jt,Be,In,cr,bn){var ir=1/(Le-Jt),Nr=1/(Be-In),Ar=1/(cr-bn);return J[0]=-2*ir,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=-2*Nr,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=2*Ar,J[11]=0,J[12]=(Le+Jt)*ir,J[13]=(In+Be)*Nr,J[14]=(bn+cr)*Ar,J[15]=1,J}var At=Bt;function Je(J,Le,Jt,Be,In,cr,bn){var ir=1/(Le-Jt),Nr=1/(Be-In),Ar=1/(cr-bn);return J[0]=-2*ir,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=-2*Nr,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=Ar,J[11]=0,J[12]=(Le+Jt)*ir,J[13]=(In+Be)*Nr,J[14]=cr*Ar,J[15]=1,J}function zt(J,Le,Jt,Be){var In,cr,bn,ir,Nr,Ar,Zr,wi,Ln,Nn,$n=Le[0],wn=Le[1],nt=Le[2],ze=Be[0],vt=Be[1],$t=Be[2],gn=Jt[0],at=Jt[1],an=Jt[2];return Math.abs($n-gn)<w.Ib&&Math.abs(wn-at)<w.Ib&&Math.abs(nt-an)<w.Ib?Y(J):(Zr=$n-gn,wi=wn-at,Ln=nt-an,Nn=1/Math.hypot(Zr,wi,Ln),Zr*=Nn,wi*=Nn,Ln*=Nn,In=vt*Ln-$t*wi,cr=$t*Zr-ze*Ln,bn=ze*wi-vt*Zr,Nn=Math.hypot(In,cr,bn),Nn?(Nn=1/Nn,In*=Nn,cr*=Nn,bn*=Nn):(In=0,cr=0,bn=0),ir=wi*bn-Ln*cr,Nr=Ln*In-Zr*bn,Ar=Zr*cr-wi*In,Nn=Math.hypot(ir,Nr,Ar),Nn?(Nn=1/Nn,ir*=Nn,Nr*=Nn,Ar*=Nn):(ir=0,Nr=0,Ar=0),J[0]=In,J[1]=ir,J[2]=Zr,J[3]=0,J[4]=cr,J[5]=Nr,J[6]=wi,J[7]=0,J[8]=bn,J[9]=Ar,J[10]=Ln,J[11]=0,J[12]=-(In*$n+cr*wn+bn*nt),J[13]=-(ir*$n+Nr*wn+Ar*nt),J[14]=-(Zr*$n+wi*wn+Ln*nt),J[15]=1,J)}function mn(J,Le,Jt,Be){var In=Le[0],cr=Le[1],bn=Le[2],ir=Be[0],Nr=Be[1],Ar=Be[2],Zr=In-Jt[0],wi=cr-Jt[1],Ln=bn-Jt[2],Nn=Zr*Zr+wi*wi+Ln*Ln;Nn>0&&(Nn=1/Math.sqrt(Nn),Zr*=Nn,wi*=Nn,Ln*=Nn);var $n=Nr*Ln-Ar*wi,wn=Ar*Zr-ir*Ln,nt=ir*wi-Nr*Zr;return Nn=$n*$n+wn*wn+nt*nt,Nn>0&&(Nn=1/Math.sqrt(Nn),$n*=Nn,wn*=Nn,nt*=Nn),J[0]=$n,J[1]=wn,J[2]=nt,J[3]=0,J[4]=wi*nt-Ln*wn,J[5]=Ln*$n-Zr*nt,J[6]=Zr*wn-wi*$n,J[7]=0,J[8]=Zr,J[9]=wi,J[10]=Ln,J[11]=0,J[12]=In,J[13]=cr,J[14]=bn,J[15]=1,J}function Ot(J){return"mat4("+J[0]+", "+J[1]+", "+J[2]+", "+J[3]+", "+J[4]+", "+J[5]+", "+J[6]+", "+J[7]+", "+J[8]+", "+J[9]+", "+J[10]+", "+J[11]+", "+J[12]+", "+J[13]+", "+J[14]+", "+J[15]+")"}function Xe(J){return Math.hypot(J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],J[8],J[9],J[10],J[11],J[12],J[13],J[14],J[15])}function ct(J,Le,Jt){return J[0]=Le[0]+Jt[0],J[1]=Le[1]+Jt[1],J[2]=Le[2]+Jt[2],J[3]=Le[3]+Jt[3],J[4]=Le[4]+Jt[4],J[5]=Le[5]+Jt[5],J[6]=Le[6]+Jt[6],J[7]=Le[7]+Jt[7],J[8]=Le[8]+Jt[8],J[9]=Le[9]+Jt[9],J[10]=Le[10]+Jt[10],J[11]=Le[11]+Jt[11],J[12]=Le[12]+Jt[12],J[13]=Le[13]+Jt[13],J[14]=Le[14]+Jt[14],J[15]=Le[15]+Jt[15],J}function Rt(J,Le,Jt){return J[0]=Le[0]-Jt[0],J[1]=Le[1]-Jt[1],J[2]=Le[2]-Jt[2],J[3]=Le[3]-Jt[3],J[4]=Le[4]-Jt[4],J[5]=Le[5]-Jt[5],J[6]=Le[6]-Jt[6],J[7]=Le[7]-Jt[7],J[8]=Le[8]-Jt[8],J[9]=Le[9]-Jt[9],J[10]=Le[10]-Jt[10],J[11]=Le[11]-Jt[11],J[12]=Le[12]-Jt[12],J[13]=Le[13]-Jt[13],J[14]=Le[14]-Jt[14],J[15]=Le[15]-Jt[15],J}function Oe(J,Le,Jt){return J[0]=Le[0]*Jt,J[1]=Le[1]*Jt,J[2]=Le[2]*Jt,J[3]=Le[3]*Jt,J[4]=Le[4]*Jt,J[5]=Le[5]*Jt,J[6]=Le[6]*Jt,J[7]=Le[7]*Jt,J[8]=Le[8]*Jt,J[9]=Le[9]*Jt,J[10]=Le[10]*Jt,J[11]=Le[11]*Jt,J[12]=Le[12]*Jt,J[13]=Le[13]*Jt,J[14]=Le[14]*Jt,J[15]=Le[15]*Jt,J}function Ge(J,Le,Jt,Be){return J[0]=Le[0]+Jt[0]*Be,J[1]=Le[1]+Jt[1]*Be,J[2]=Le[2]+Jt[2]*Be,J[3]=Le[3]+Jt[3]*Be,J[4]=Le[4]+Jt[4]*Be,J[5]=Le[5]+Jt[5]*Be,J[6]=Le[6]+Jt[6]*Be,J[7]=Le[7]+Jt[7]*Be,J[8]=Le[8]+Jt[8]*Be,J[9]=Le[9]+Jt[9]*Be,J[10]=Le[10]+Jt[10]*Be,J[11]=Le[11]+Jt[11]*Be,J[12]=Le[12]+Jt[12]*Be,J[13]=Le[13]+Jt[13]*Be,J[14]=Le[14]+Jt[14]*Be,J[15]=Le[15]+Jt[15]*Be,J}function Vt(J,Le){return J[0]===Le[0]&&J[1]===Le[1]&&J[2]===Le[2]&&J[3]===Le[3]&&J[4]===Le[4]&&J[5]===Le[5]&&J[6]===Le[6]&&J[7]===Le[7]&&J[8]===Le[8]&&J[9]===Le[9]&&J[10]===Le[10]&&J[11]===Le[11]&&J[12]===Le[12]&&J[13]===Le[13]&&J[14]===Le[14]&&J[15]===Le[15]}function De(J,Le){var Jt=J[0],Be=J[1],In=J[2],cr=J[3],bn=J[4],ir=J[5],Nr=J[6],Ar=J[7],Zr=J[8],wi=J[9],Ln=J[10],Nn=J[11],$n=J[12],wn=J[13],nt=J[14],ze=J[15],vt=Le[0],$t=Le[1],gn=Le[2],at=Le[3],an=Le[4],hn=Le[5],pr=Le[6],ur=Le[7],pi=Le[8],ar=Le[9],di=Le[10],sa=Le[11],xa=Le[12],za=Le[13],Ui=Le[14],Ao=Le[15];return Math.abs(Jt-vt)<=w.Ib*Math.max(1,Math.abs(Jt),Math.abs(vt))&&Math.abs(Be-$t)<=w.Ib*Math.max(1,Math.abs(Be),Math.abs($t))&&Math.abs(In-gn)<=w.Ib*Math.max(1,Math.abs(In),Math.abs(gn))&&Math.abs(cr-at)<=w.Ib*Math.max(1,Math.abs(cr),Math.abs(at))&&Math.abs(bn-an)<=w.Ib*Math.max(1,Math.abs(bn),Math.abs(an))&&Math.abs(ir-hn)<=w.Ib*Math.max(1,Math.abs(ir),Math.abs(hn))&&Math.abs(Nr-pr)<=w.Ib*Math.max(1,Math.abs(Nr),Math.abs(pr))&&Math.abs(Ar-ur)<=w.Ib*Math.max(1,Math.abs(Ar),Math.abs(ur))&&Math.abs(Zr-pi)<=w.Ib*Math.max(1,Math.abs(Zr),Math.abs(pi))&&Math.abs(wi-ar)<=w.Ib*Math.max(1,Math.abs(wi),Math.abs(ar))&&Math.abs(Ln-di)<=w.Ib*Math.max(1,Math.abs(Ln),Math.abs(di))&&Math.abs(Nn-sa)<=w.Ib*Math.max(1,Math.abs(Nn),Math.abs(sa))&&Math.abs($n-xa)<=w.Ib*Math.max(1,Math.abs($n),Math.abs(xa))&&Math.abs(wn-za)<=w.Ib*Math.max(1,Math.abs(wn),Math.abs(za))&&Math.abs(nt-Ui)<=w.Ib*Math.max(1,Math.abs(nt),Math.abs(Ui))&&Math.abs(ze-Ao)<=w.Ib*Math.max(1,Math.abs(ze),Math.abs(Ao))}var et=le,Ce=Rt},26588:function(cn,Ne,A){"use strict";A.d(Ne,{Fv:function(){return Bt},JG:function(){return rn},Jp:function(){return ae},Su:function(){return Ke},U_:function(){return gt},Ue:function(){return j},al:function(){return Gt},dC:function(){return Nt},t8:function(){return _n},yY:function(){return Y}});var w=A(31767),B=A(73485),ne=A(54442),ue=A(49953);function j(){var Xe=new w.WT(4);return w.WT!=Float32Array&&(Xe[0]=0,Xe[1]=0,Xe[2]=0),Xe[3]=1,Xe}function q(Xe){return Xe[0]=0,Xe[1]=0,Xe[2]=0,Xe[3]=1,Xe}function Y(Xe,ct,Rt){Rt=Rt*.5;var Oe=Math.sin(Rt);return Xe[0]=Oe*ct[0],Xe[1]=Oe*ct[1],Xe[2]=Oe*ct[2],Xe[3]=Math.cos(Rt),Xe}function K(Xe,ct){var Rt=Math.acos(ct[3])*2,Oe=Math.sin(Rt/2);return Oe>glMatrix.EPSILON?(Xe[0]=ct[0]/Oe,Xe[1]=ct[1]/Oe,Xe[2]=ct[2]/Oe):(Xe[0]=1,Xe[1]=0,Xe[2]=0),Rt}function H(Xe,ct){var Rt=ln(Xe,ct);return Math.acos(2*Rt*Rt-1)}function ae(Xe,ct,Rt){var Oe=ct[0],Ge=ct[1],Vt=ct[2],De=ct[3],et=Rt[0],Ce=Rt[1],J=Rt[2],Le=Rt[3];return Xe[0]=Oe*Le+De*et+Ge*J-Vt*Ce,Xe[1]=Ge*Le+De*Ce+Vt*et-Oe*J,Xe[2]=Vt*Le+De*J+Oe*Ce-Ge*et,Xe[3]=De*Le-Oe*et-Ge*Ce-Vt*J,Xe}function ie(Xe,ct,Rt){Rt*=.5;var Oe=ct[0],Ge=ct[1],Vt=ct[2],De=ct[3],et=Math.sin(Rt),Ce=Math.cos(Rt);return Xe[0]=Oe*Ce+De*et,Xe[1]=Ge*Ce+Vt*et,Xe[2]=Vt*Ce-Ge*et,Xe[3]=De*Ce-Oe*et,Xe}function le(Xe,ct,Rt){Rt*=.5;var Oe=ct[0],Ge=ct[1],Vt=ct[2],De=ct[3],et=Math.sin(Rt),Ce=Math.cos(Rt);return Xe[0]=Oe*Ce-Vt*et,Xe[1]=Ge*Ce+De*et,Xe[2]=Vt*Ce+Oe*et,Xe[3]=De*Ce-Ge*et,Xe}function se(Xe,ct,Rt){Rt*=.5;var Oe=ct[0],Ge=ct[1],Vt=ct[2],De=ct[3],et=Math.sin(Rt),Ce=Math.cos(Rt);return Xe[0]=Oe*Ce+Ge*et,Xe[1]=Ge*Ce-Oe*et,Xe[2]=Vt*Ce+De*et,Xe[3]=De*Ce-Vt*et,Xe}function ge(Xe,ct){var Rt=ct[0],Oe=ct[1],Ge=ct[2];return Xe[0]=Rt,Xe[1]=Oe,Xe[2]=Ge,Xe[3]=Math.sqrt(Math.abs(1-Rt*Rt-Oe*Oe-Ge*Ge)),Xe}function ye(Xe,ct){var Rt=ct[0],Oe=ct[1],Ge=ct[2],Vt=ct[3],De=Math.sqrt(Rt*Rt+Oe*Oe+Ge*Ge),et=Math.exp(Vt),Ce=De>0?et*Math.sin(De)/De:0;return Xe[0]=Rt*Ce,Xe[1]=Oe*Ce,Xe[2]=Ge*Ce,Xe[3]=et*Math.cos(De),Xe}function ve(Xe,ct){var Rt=ct[0],Oe=ct[1],Ge=ct[2],Vt=ct[3],De=Math.sqrt(Rt*Rt+Oe*Oe+Ge*Ge),et=De>0?Math.atan2(De,Vt)/De:0;return Xe[0]=Rt*et,Xe[1]=Oe*et,Xe[2]=Ge*et,Xe[3]=.5*Math.log(Rt*Rt+Oe*Oe+Ge*Ge+Vt*Vt),Xe}function fe(Xe,ct,Rt){return ve(Xe,ct),ft(Xe,Xe,Rt),ye(Xe,Xe),Xe}function Fe(Xe,ct,Rt,Oe){var Ge=ct[0],Vt=ct[1],De=ct[2],et=ct[3],Ce=Rt[0],J=Rt[1],Le=Rt[2],Jt=Rt[3],Be,In,cr,bn,ir;return In=Ge*Ce+Vt*J+De*Le+et*Jt,In<0&&(In=-In,Ce=-Ce,J=-J,Le=-Le,Jt=-Jt),1-In>w.Ib?(Be=Math.acos(In),cr=Math.sin(Be),bn=Math.sin((1-Oe)*Be)/cr,ir=Math.sin(Oe*Be)/cr):(bn=1-Oe,ir=Oe),Xe[0]=bn*Ge+ir*Ce,Xe[1]=bn*Vt+ir*J,Xe[2]=bn*De+ir*Le,Xe[3]=bn*et+ir*Jt,Xe}function yt(Xe){var ct=glMatrix.RANDOM(),Rt=glMatrix.RANDOM(),Oe=glMatrix.RANDOM(),Ge=Math.sqrt(1-ct),Vt=Math.sqrt(ct);return Xe[0]=Ge*Math.sin(2*Math.PI*Rt),Xe[1]=Ge*Math.cos(2*Math.PI*Rt),Xe[2]=Vt*Math.sin(2*Math.PI*Oe),Xe[3]=Vt*Math.cos(2*Math.PI*Oe),Xe}function gt(Xe,ct){var Rt=ct[0],Oe=ct[1],Ge=ct[2],Vt=ct[3],De=Rt*Rt+Oe*Oe+Ge*Ge+Vt*Vt,et=De?1/De:0;return Xe[0]=-Rt*et,Xe[1]=-Oe*et,Xe[2]=-Ge*et,Xe[3]=Vt*et,Xe}function pt(Xe,ct){return Xe[0]=-ct[0],Xe[1]=-ct[1],Xe[2]=-ct[2],Xe[3]=ct[3],Xe}function lt(Xe,ct){var Rt=ct[0]+ct[4]+ct[8],Oe;if(Rt>0)Oe=Math.sqrt(Rt+1),Xe[3]=.5*Oe,Oe=.5/Oe,Xe[0]=(ct[5]-ct[7])*Oe,Xe[1]=(ct[6]-ct[2])*Oe,Xe[2]=(ct[1]-ct[3])*Oe;else{var Ge=0;ct[4]>ct[0]&&(Ge=1),ct[8]>ct[Ge*3+Ge]&&(Ge=2);var Vt=(Ge+1)%3,De=(Ge+2)%3;Oe=Math.sqrt(ct[Ge*3+Ge]-ct[Vt*3+Vt]-ct[De*3+De]+1),Xe[Ge]=.5*Oe,Oe=.5/Oe,Xe[3]=(ct[Vt*3+De]-ct[De*3+Vt])*Oe,Xe[Vt]=(ct[Vt*3+Ge]+ct[Ge*3+Vt])*Oe,Xe[De]=(ct[De*3+Ge]+ct[Ge*3+De])*Oe}return Xe}function Ke(Xe,ct,Rt,Oe){var Ge=.5*Math.PI/180;ct*=Ge,Rt*=Ge,Oe*=Ge;var Vt=Math.sin(ct),De=Math.cos(ct),et=Math.sin(Rt),Ce=Math.cos(Rt),J=Math.sin(Oe),Le=Math.cos(Oe);return Xe[0]=Vt*Ce*Le-De*et*J,Xe[1]=De*et*Le+Vt*Ce*J,Xe[2]=De*Ce*J-Vt*et*Le,Xe[3]=De*Ce*Le+Vt*et*J,Xe}function Ue(Xe){return"quat("+Xe[0]+", "+Xe[1]+", "+Xe[2]+", "+Xe[3]+")"}var Pt=ue.d9,Gt=ue.al,rn=ue.JG,_n=ue.t8,qe=ue.IH,Nt=ae,ft=ue.bA,ln=ue.AK,tt=ue.t7,Pe=ue.kE,Qe=null,He=ue.we,_t=null,Bt=ue.Fv,At=ue.I6,Je=ue.fS,zt=function(){var Xe=ne.Ue(),ct=ne.al(1,0,0),Rt=ne.al(0,1,0);return function(Oe,Ge,Vt){var De=ne.AK(Ge,Vt);return De<-.999999?(ne.kC(Xe,ct,Ge),ne.Zh(Xe)<1e-6&&ne.kC(Xe,Rt,Ge),ne.Fv(Xe,Xe),Y(Oe,Xe,Math.PI),Oe):De>.999999?(Oe[0]=0,Oe[1]=0,Oe[2]=0,Oe[3]=1,Oe):(ne.kC(Xe,Ge,Vt),Oe[0]=Xe[0],Oe[1]=Xe[1],Oe[2]=Xe[2],Oe[3]=1+De,Bt(Oe,Oe))}}(),mn=function(){var Xe=j(),ct=j();return function(Rt,Oe,Ge,Vt,De,et){return Fe(Xe,Oe,De,et),Fe(ct,Ge,Vt,et),Fe(Rt,Xe,ct,2*et*(1-et)),Rt}}(),Ot=function(){var Xe=B.Ue();return function(ct,Rt,Oe,Ge){return Xe[0]=Oe[0],Xe[3]=Oe[1],Xe[6]=Oe[2],Xe[1]=Ge[0],Xe[4]=Ge[1],Xe[7]=Ge[2],Xe[2]=-Rt[0],Xe[5]=-Rt[1],Xe[8]=-Rt[2],Bt(ct,lt(ct,Xe))}}()},38015:function(cn,Ne,A){"use strict";A.d(Ne,{$X:function(){return K},AK:function(){return Pt},Fv:function(){return Ue},I6:function(){return _t},IH:function(){return Y},JG:function(){return j},Ue:function(){return B},al:function(){return ue},lu:function(){return Je},t7:function(){return rn},t8:function(){return q},tk:function(){return lt}});var w=A(31767);function B(){var Oe=new w.WT(2);return w.WT!=Float32Array&&(Oe[0]=0,Oe[1]=0),Oe}function ne(Oe){var Ge=new glMatrix.ARRAY_TYPE(2);return Ge[0]=Oe[0],Ge[1]=Oe[1],Ge}function ue(Oe,Ge){var Vt=new w.WT(2);return Vt[0]=Oe,Vt[1]=Ge,Vt}function j(Oe,Ge){return Oe[0]=Ge[0],Oe[1]=Ge[1],Oe}function q(Oe,Ge,Vt){return Oe[0]=Ge,Oe[1]=Vt,Oe}function Y(Oe,Ge,Vt){return Oe[0]=Ge[0]+Vt[0],Oe[1]=Ge[1]+Vt[1],Oe}function K(Oe,Ge,Vt){return Oe[0]=Ge[0]-Vt[0],Oe[1]=Ge[1]-Vt[1],Oe}function H(Oe,Ge,Vt){return Oe[0]=Ge[0]*Vt[0],Oe[1]=Ge[1]*Vt[1],Oe}function ae(Oe,Ge,Vt){return Oe[0]=Ge[0]/Vt[0],Oe[1]=Ge[1]/Vt[1],Oe}function ie(Oe,Ge){return Oe[0]=Math.ceil(Ge[0]),Oe[1]=Math.ceil(Ge[1]),Oe}function le(Oe,Ge){return Oe[0]=Math.floor(Ge[0]),Oe[1]=Math.floor(Ge[1]),Oe}function se(Oe,Ge,Vt){return Oe[0]=Math.min(Ge[0],Vt[0]),Oe[1]=Math.min(Ge[1],Vt[1]),Oe}function ge(Oe,Ge,Vt){return Oe[0]=Math.max(Ge[0],Vt[0]),Oe[1]=Math.max(Ge[1],Vt[1]),Oe}function ye(Oe,Ge){return Oe[0]=Math.round(Ge[0]),Oe[1]=Math.round(Ge[1]),Oe}function ve(Oe,Ge,Vt){return Oe[0]=Ge[0]*Vt,Oe[1]=Ge[1]*Vt,Oe}function fe(Oe,Ge,Vt,De){return Oe[0]=Ge[0]+Vt[0]*De,Oe[1]=Ge[1]+Vt[1]*De,Oe}function Fe(Oe,Ge){var Vt=Ge[0]-Oe[0],De=Ge[1]-Oe[1];return Math.hypot(Vt,De)}function yt(Oe,Ge){var Vt=Ge[0]-Oe[0],De=Ge[1]-Oe[1];return Vt*Vt+De*De}function gt(Oe){var Ge=Oe[0],Vt=Oe[1];return Math.hypot(Ge,Vt)}function pt(Oe){var Ge=Oe[0],Vt=Oe[1];return Ge*Ge+Vt*Vt}function lt(Oe,Ge){return Oe[0]=-Ge[0],Oe[1]=-Ge[1],Oe}function Ke(Oe,Ge){return Oe[0]=1/Ge[0],Oe[1]=1/Ge[1],Oe}function Ue(Oe,Ge){var Vt=Ge[0],De=Ge[1],et=Vt*Vt+De*De;return et>0&&(et=1/Math.sqrt(et)),Oe[0]=Ge[0]*et,Oe[1]=Ge[1]*et,Oe}function Pt(Oe,Ge){return Oe[0]*Ge[0]+Oe[1]*Ge[1]}function Gt(Oe,Ge,Vt){var De=Ge[0]*Vt[1]-Ge[1]*Vt[0];return Oe[0]=Oe[1]=0,Oe[2]=De,Oe}function rn(Oe,Ge,Vt,De){var et=Ge[0],Ce=Ge[1];return Oe[0]=et+De*(Vt[0]-et),Oe[1]=Ce+De*(Vt[1]-Ce),Oe}function _n(Oe,Ge){Ge=Ge||1;var Vt=glMatrix.RANDOM()*2*Math.PI;return Oe[0]=Math.cos(Vt)*Ge,Oe[1]=Math.sin(Vt)*Ge,Oe}function qe(Oe,Ge,Vt){var De=Ge[0],et=Ge[1];return Oe[0]=Vt[0]*De+Vt[2]*et,Oe[1]=Vt[1]*De+Vt[3]*et,Oe}function Nt(Oe,Ge,Vt){var De=Ge[0],et=Ge[1];return Oe[0]=Vt[0]*De+Vt[2]*et+Vt[4],Oe[1]=Vt[1]*De+Vt[3]*et+Vt[5],Oe}function ft(Oe,Ge,Vt){var De=Ge[0],et=Ge[1];return Oe[0]=Vt[0]*De+Vt[3]*et+Vt[6],Oe[1]=Vt[1]*De+Vt[4]*et+Vt[7],Oe}function ln(Oe,Ge,Vt){var De=Ge[0],et=Ge[1];return Oe[0]=Vt[0]*De+Vt[4]*et+Vt[12],Oe[1]=Vt[1]*De+Vt[5]*et+Vt[13],Oe}function tt(Oe,Ge,Vt,De){var et=Ge[0]-Vt[0],Ce=Ge[1]-Vt[1],J=Math.sin(De),Le=Math.cos(De);return Oe[0]=et*Le-Ce*J+Vt[0],Oe[1]=et*J+Ce*Le+Vt[1],Oe}function Pe(Oe,Ge){var Vt=Oe[0],De=Oe[1],et=Ge[0],Ce=Ge[1],J=Math.sqrt(Vt*Vt+De*De)*Math.sqrt(et*et+Ce*Ce),Le=J&&(Vt*et+De*Ce)/J;return Math.acos(Math.min(Math.max(Le,-1),1))}function Qe(Oe){return Oe[0]=0,Oe[1]=0,Oe}function He(Oe){return"vec2("+Oe[0]+", "+Oe[1]+")"}function _t(Oe,Ge){return Oe[0]===Ge[0]&&Oe[1]===Ge[1]}function Bt(Oe,Ge){var Vt=Oe[0],De=Oe[1],et=Ge[0],Ce=Ge[1];return Math.abs(Vt-et)<=glMatrix.EPSILON*Math.max(1,Math.abs(Vt),Math.abs(et))&&Math.abs(De-Ce)<=glMatrix.EPSILON*Math.max(1,Math.abs(De),Math.abs(Ce))}var At=null,Je=K,zt=null,mn=null,Ot=null,Xe=null,ct=null,Rt=function(){var Oe=B();return function(Ge,Vt,De,et,Ce,J){var Le,Jt;for(Vt||(Vt=2),De||(De=0),et?Jt=Math.min(et*Vt+De,Ge.length):Jt=Ge.length,Le=De;Le<Jt;Le+=Vt)Oe[0]=Ge[Le],Oe[1]=Ge[Le+1],Ce(Oe,Oe,J),Ge[Le]=Oe[0],Ge[Le+1]=Oe[1];return Ge}}()},54442:function(cn,Ne,A){"use strict";A.d(Ne,{$X:function(){return H},AK:function(){return Pt},EU:function(){return _t},Fp:function(){return ye},Fv:function(){return Ue},IH:function(){return K},JG:function(){return q},Jp:function(){return ae},TK:function(){return ct},Ue:function(){return B},VC:function(){return tt},VV:function(){return ge},Zh:function(){return Oe},al:function(){return j},bA:function(){return fe},d9:function(){return ne},fF:function(){return ft},fS:function(){return zt},kC:function(){return Gt},kE:function(){return ue},kK:function(){return ln},lu:function(){return mn},t7:function(){return rn},t8:function(){return Y},tk:function(){return lt}});var w=A(31767);function B(){var De=new w.WT(3);return w.WT!=Float32Array&&(De[0]=0,De[1]=0,De[2]=0),De}function ne(De){var et=new w.WT(3);return et[0]=De[0],et[1]=De[1],et[2]=De[2],et}function ue(De){var et=De[0],Ce=De[1],J=De[2];return Math.hypot(et,Ce,J)}function j(De,et,Ce){var J=new w.WT(3);return J[0]=De,J[1]=et,J[2]=Ce,J}function q(De,et){return De[0]=et[0],De[1]=et[1],De[2]=et[2],De}function Y(De,et,Ce,J){return De[0]=et,De[1]=Ce,De[2]=J,De}function K(De,et,Ce){return De[0]=et[0]+Ce[0],De[1]=et[1]+Ce[1],De[2]=et[2]+Ce[2],De}function H(De,et,Ce){return De[0]=et[0]-Ce[0],De[1]=et[1]-Ce[1],De[2]=et[2]-Ce[2],De}function ae(De,et,Ce){return De[0]=et[0]*Ce[0],De[1]=et[1]*Ce[1],De[2]=et[2]*Ce[2],De}function ie(De,et,Ce){return De[0]=et[0]/Ce[0],De[1]=et[1]/Ce[1],De[2]=et[2]/Ce[2],De}function le(De,et){return De[0]=Math.ceil(et[0]),De[1]=Math.ceil(et[1]),De[2]=Math.ceil(et[2]),De}function se(De,et){return De[0]=Math.floor(et[0]),De[1]=Math.floor(et[1]),De[2]=Math.floor(et[2]),De}function ge(De,et,Ce){return De[0]=Math.min(et[0],Ce[0]),De[1]=Math.min(et[1],Ce[1]),De[2]=Math.min(et[2],Ce[2]),De}function ye(De,et,Ce){return De[0]=Math.max(et[0],Ce[0]),De[1]=Math.max(et[1],Ce[1]),De[2]=Math.max(et[2],Ce[2]),De}function ve(De,et){return De[0]=Math.round(et[0]),De[1]=Math.round(et[1]),De[2]=Math.round(et[2]),De}function fe(De,et,Ce){return De[0]=et[0]*Ce,De[1]=et[1]*Ce,De[2]=et[2]*Ce,De}function Fe(De,et,Ce,J){return De[0]=et[0]+Ce[0]*J,De[1]=et[1]+Ce[1]*J,De[2]=et[2]+Ce[2]*J,De}function yt(De,et){var Ce=et[0]-De[0],J=et[1]-De[1],Le=et[2]-De[2];return Math.hypot(Ce,J,Le)}function gt(De,et){var Ce=et[0]-De[0],J=et[1]-De[1],Le=et[2]-De[2];return Ce*Ce+J*J+Le*Le}function pt(De){var et=De[0],Ce=De[1],J=De[2];return et*et+Ce*Ce+J*J}function lt(De,et){return De[0]=-et[0],De[1]=-et[1],De[2]=-et[2],De}function Ke(De,et){return De[0]=1/et[0],De[1]=1/et[1],De[2]=1/et[2],De}function Ue(De,et){var Ce=et[0],J=et[1],Le=et[2],Jt=Ce*Ce+J*J+Le*Le;return Jt>0&&(Jt=1/Math.sqrt(Jt)),De[0]=et[0]*Jt,De[1]=et[1]*Jt,De[2]=et[2]*Jt,De}function Pt(De,et){return De[0]*et[0]+De[1]*et[1]+De[2]*et[2]}function Gt(De,et,Ce){var J=et[0],Le=et[1],Jt=et[2],Be=Ce[0],In=Ce[1],cr=Ce[2];return De[0]=Le*cr-Jt*In,De[1]=Jt*Be-J*cr,De[2]=J*In-Le*Be,De}function rn(De,et,Ce,J){var Le=et[0],Jt=et[1],Be=et[2];return De[0]=Le+J*(Ce[0]-Le),De[1]=Jt+J*(Ce[1]-Jt),De[2]=Be+J*(Ce[2]-Be),De}function _n(De,et,Ce,J,Le,Jt){var Be=Jt*Jt,In=Be*(2*Jt-3)+1,cr=Be*(Jt-2)+Jt,bn=Be*(Jt-1),ir=Be*(3-2*Jt);return De[0]=et[0]*In+Ce[0]*cr+J[0]*bn+Le[0]*ir,De[1]=et[1]*In+Ce[1]*cr+J[1]*bn+Le[1]*ir,De[2]=et[2]*In+Ce[2]*cr+J[2]*bn+Le[2]*ir,De}function qe(De,et,Ce,J,Le,Jt){var Be=1-Jt,In=Be*Be,cr=Jt*Jt,bn=In*Be,ir=3*Jt*In,Nr=3*cr*Be,Ar=cr*Jt;return De[0]=et[0]*bn+Ce[0]*ir+J[0]*Nr+Le[0]*Ar,De[1]=et[1]*bn+Ce[1]*ir+J[1]*Nr+Le[1]*Ar,De[2]=et[2]*bn+Ce[2]*ir+J[2]*Nr+Le[2]*Ar,De}function Nt(De,et){et=et||1;var Ce=glMatrix.RANDOM()*2*Math.PI,J=glMatrix.RANDOM()*2-1,Le=Math.sqrt(1-J*J)*et;return De[0]=Math.cos(Ce)*Le,De[1]=Math.sin(Ce)*Le,De[2]=J*et,De}function ft(De,et,Ce){var J=et[0],Le=et[1],Jt=et[2],Be=Ce[3]*J+Ce[7]*Le+Ce[11]*Jt+Ce[15];return Be=Be||1,De[0]=(Ce[0]*J+Ce[4]*Le+Ce[8]*Jt+Ce[12])/Be,De[1]=(Ce[1]*J+Ce[5]*Le+Ce[9]*Jt+Ce[13])/Be,De[2]=(Ce[2]*J+Ce[6]*Le+Ce[10]*Jt+Ce[14])/Be,De}function ln(De,et,Ce){var J=et[0],Le=et[1],Jt=et[2];return De[0]=J*Ce[0]+Le*Ce[3]+Jt*Ce[6],De[1]=J*Ce[1]+Le*Ce[4]+Jt*Ce[7],De[2]=J*Ce[2]+Le*Ce[5]+Jt*Ce[8],De}function tt(De,et,Ce){var J=Ce[0],Le=Ce[1],Jt=Ce[2],Be=Ce[3],In=et[0],cr=et[1],bn=et[2],ir=Le*bn-Jt*cr,Nr=Jt*In-J*bn,Ar=J*cr-Le*In,Zr=Le*Ar-Jt*Nr,wi=Jt*ir-J*Ar,Ln=J*Nr-Le*ir,Nn=Be*2;return ir*=Nn,Nr*=Nn,Ar*=Nn,Zr*=2,wi*=2,Ln*=2,De[0]=In+ir+Zr,De[1]=cr+Nr+wi,De[2]=bn+Ar+Ln,De}function Pe(De,et,Ce,J){var Le=[],Jt=[];return Le[0]=et[0]-Ce[0],Le[1]=et[1]-Ce[1],Le[2]=et[2]-Ce[2],Jt[0]=Le[0],Jt[1]=Le[1]*Math.cos(J)-Le[2]*Math.sin(J),Jt[2]=Le[1]*Math.sin(J)+Le[2]*Math.cos(J),De[0]=Jt[0]+Ce[0],De[1]=Jt[1]+Ce[1],De[2]=Jt[2]+Ce[2],De}function Qe(De,et,Ce,J){var Le=[],Jt=[];return Le[0]=et[0]-Ce[0],Le[1]=et[1]-Ce[1],Le[2]=et[2]-Ce[2],Jt[0]=Le[2]*Math.sin(J)+Le[0]*Math.cos(J),Jt[1]=Le[1],Jt[2]=Le[2]*Math.cos(J)-Le[0]*Math.sin(J),De[0]=Jt[0]+Ce[0],De[1]=Jt[1]+Ce[1],De[2]=Jt[2]+Ce[2],De}function He(De,et,Ce,J){var Le=[],Jt=[];return Le[0]=et[0]-Ce[0],Le[1]=et[1]-Ce[1],Le[2]=et[2]-Ce[2],Jt[0]=Le[0]*Math.cos(J)-Le[1]*Math.sin(J),Jt[1]=Le[0]*Math.sin(J)+Le[1]*Math.cos(J),Jt[2]=Le[2],De[0]=Jt[0]+Ce[0],De[1]=Jt[1]+Ce[1],De[2]=Jt[2]+Ce[2],De}function _t(De,et){var Ce=De[0],J=De[1],Le=De[2],Jt=et[0],Be=et[1],In=et[2],cr=Math.sqrt(Ce*Ce+J*J+Le*Le),bn=Math.sqrt(Jt*Jt+Be*Be+In*In),ir=cr*bn,Nr=ir&&Pt(De,et)/ir;return Math.acos(Math.min(Math.max(Nr,-1),1))}function Bt(De){return De[0]=0,De[1]=0,De[2]=0,De}function At(De){return"vec3("+De[0]+", "+De[1]+", "+De[2]+")"}function Je(De,et){return De[0]===et[0]&&De[1]===et[1]&&De[2]===et[2]}function zt(De,et){var Ce=De[0],J=De[1],Le=De[2],Jt=et[0],Be=et[1],In=et[2];return Math.abs(Ce-Jt)<=w.Ib*Math.max(1,Math.abs(Ce),Math.abs(Jt))&&Math.abs(J-Be)<=w.Ib*Math.max(1,Math.abs(J),Math.abs(Be))&&Math.abs(Le-In)<=w.Ib*Math.max(1,Math.abs(Le),Math.abs(In))}var mn=H,Ot=null,Xe=null,ct=yt,Rt=null,Oe=ue,Ge=null,Vt=function(){var De=B();return function(et,Ce,J,Le,Jt,Be){var In,cr;for(Ce||(Ce=3),J||(J=0),Le?cr=Math.min(Le*Ce+J,et.length):cr=et.length,In=J;In<cr;In+=Ce)De[0]=et[In],De[1]=et[In+1],De[2]=et[In+2],Jt(De,De,Be),et[In]=De[0],et[In+1]=De[1],et[In+2]=De[2];return et}}()},49953:function(cn,Ne,A){"use strict";A.d(Ne,{AK:function(){return Pt},Fv:function(){return Ue},I6:function(){return tt},IH:function(){return Y},JG:function(){return j},Ue:function(){return B},al:function(){return ue},bA:function(){return ve},d9:function(){return ne},fF:function(){return qe},fS:function(){return Pe},kE:function(){return gt},t7:function(){return rn},t8:function(){return q},we:function(){return pt}});var w=A(31767);function B(){var Ot=new w.WT(4);return w.WT!=Float32Array&&(Ot[0]=0,Ot[1]=0,Ot[2]=0,Ot[3]=0),Ot}function ne(Ot){var Xe=new w.WT(4);return Xe[0]=Ot[0],Xe[1]=Ot[1],Xe[2]=Ot[2],Xe[3]=Ot[3],Xe}function ue(Ot,Xe,ct,Rt){var Oe=new w.WT(4);return Oe[0]=Ot,Oe[1]=Xe,Oe[2]=ct,Oe[3]=Rt,Oe}function j(Ot,Xe){return Ot[0]=Xe[0],Ot[1]=Xe[1],Ot[2]=Xe[2],Ot[3]=Xe[3],Ot}function q(Ot,Xe,ct,Rt,Oe){return Ot[0]=Xe,Ot[1]=ct,Ot[2]=Rt,Ot[3]=Oe,Ot}function Y(Ot,Xe,ct){return Ot[0]=Xe[0]+ct[0],Ot[1]=Xe[1]+ct[1],Ot[2]=Xe[2]+ct[2],Ot[3]=Xe[3]+ct[3],Ot}function K(Ot,Xe,ct){return Ot[0]=Xe[0]-ct[0],Ot[1]=Xe[1]-ct[1],Ot[2]=Xe[2]-ct[2],Ot[3]=Xe[3]-ct[3],Ot}function H(Ot,Xe,ct){return Ot[0]=Xe[0]*ct[0],Ot[1]=Xe[1]*ct[1],Ot[2]=Xe[2]*ct[2],Ot[3]=Xe[3]*ct[3],Ot}function ae(Ot,Xe,ct){return Ot[0]=Xe[0]/ct[0],Ot[1]=Xe[1]/ct[1],Ot[2]=Xe[2]/ct[2],Ot[3]=Xe[3]/ct[3],Ot}function ie(Ot,Xe){return Ot[0]=Math.ceil(Xe[0]),Ot[1]=Math.ceil(Xe[1]),Ot[2]=Math.ceil(Xe[2]),Ot[3]=Math.ceil(Xe[3]),Ot}function le(Ot,Xe){return Ot[0]=Math.floor(Xe[0]),Ot[1]=Math.floor(Xe[1]),Ot[2]=Math.floor(Xe[2]),Ot[3]=Math.floor(Xe[3]),Ot}function se(Ot,Xe,ct){return Ot[0]=Math.min(Xe[0],ct[0]),Ot[1]=Math.min(Xe[1],ct[1]),Ot[2]=Math.min(Xe[2],ct[2]),Ot[3]=Math.min(Xe[3],ct[3]),Ot}function ge(Ot,Xe,ct){return Ot[0]=Math.max(Xe[0],ct[0]),Ot[1]=Math.max(Xe[1],ct[1]),Ot[2]=Math.max(Xe[2],ct[2]),Ot[3]=Math.max(Xe[3],ct[3]),Ot}function ye(Ot,Xe){return Ot[0]=Math.round(Xe[0]),Ot[1]=Math.round(Xe[1]),Ot[2]=Math.round(Xe[2]),Ot[3]=Math.round(Xe[3]),Ot}function ve(Ot,Xe,ct){return Ot[0]=Xe[0]*ct,Ot[1]=Xe[1]*ct,Ot[2]=Xe[2]*ct,Ot[3]=Xe[3]*ct,Ot}function fe(Ot,Xe,ct,Rt){return Ot[0]=Xe[0]+ct[0]*Rt,Ot[1]=Xe[1]+ct[1]*Rt,Ot[2]=Xe[2]+ct[2]*Rt,Ot[3]=Xe[3]+ct[3]*Rt,Ot}function Fe(Ot,Xe){var ct=Xe[0]-Ot[0],Rt=Xe[1]-Ot[1],Oe=Xe[2]-Ot[2],Ge=Xe[3]-Ot[3];return Math.hypot(ct,Rt,Oe,Ge)}function yt(Ot,Xe){var ct=Xe[0]-Ot[0],Rt=Xe[1]-Ot[1],Oe=Xe[2]-Ot[2],Ge=Xe[3]-Ot[3];return ct*ct+Rt*Rt+Oe*Oe+Ge*Ge}function gt(Ot){var Xe=Ot[0],ct=Ot[1],Rt=Ot[2],Oe=Ot[3];return Math.hypot(Xe,ct,Rt,Oe)}function pt(Ot){var Xe=Ot[0],ct=Ot[1],Rt=Ot[2],Oe=Ot[3];return Xe*Xe+ct*ct+Rt*Rt+Oe*Oe}function lt(Ot,Xe){return Ot[0]=-Xe[0],Ot[1]=-Xe[1],Ot[2]=-Xe[2],Ot[3]=-Xe[3],Ot}function Ke(Ot,Xe){return Ot[0]=1/Xe[0],Ot[1]=1/Xe[1],Ot[2]=1/Xe[2],Ot[3]=1/Xe[3],Ot}function Ue(Ot,Xe){var ct=Xe[0],Rt=Xe[1],Oe=Xe[2],Ge=Xe[3],Vt=ct*ct+Rt*Rt+Oe*Oe+Ge*Ge;return Vt>0&&(Vt=1/Math.sqrt(Vt)),Ot[0]=ct*Vt,Ot[1]=Rt*Vt,Ot[2]=Oe*Vt,Ot[3]=Ge*Vt,Ot}function Pt(Ot,Xe){return Ot[0]*Xe[0]+Ot[1]*Xe[1]+Ot[2]*Xe[2]+Ot[3]*Xe[3]}function Gt(Ot,Xe,ct,Rt){var Oe=ct[0]*Rt[1]-ct[1]*Rt[0],Ge=ct[0]*Rt[2]-ct[2]*Rt[0],Vt=ct[0]*Rt[3]-ct[3]*Rt[0],De=ct[1]*Rt[2]-ct[2]*Rt[1],et=ct[1]*Rt[3]-ct[3]*Rt[1],Ce=ct[2]*Rt[3]-ct[3]*Rt[2],J=Xe[0],Le=Xe[1],Jt=Xe[2],Be=Xe[3];return Ot[0]=Le*Ce-Jt*et+Be*De,Ot[1]=-(J*Ce)+Jt*Vt-Be*Ge,Ot[2]=J*et-Le*Vt+Be*Oe,Ot[3]=-(J*De)+Le*Ge-Jt*Oe,Ot}function rn(Ot,Xe,ct,Rt){var Oe=Xe[0],Ge=Xe[1],Vt=Xe[2],De=Xe[3];return Ot[0]=Oe+Rt*(ct[0]-Oe),Ot[1]=Ge+Rt*(ct[1]-Ge),Ot[2]=Vt+Rt*(ct[2]-Vt),Ot[3]=De+Rt*(ct[3]-De),Ot}function _n(Ot,Xe){Xe=Xe||1;var ct,Rt,Oe,Ge,Vt,De;do ct=glMatrix.RANDOM()*2-1,Rt=glMatrix.RANDOM()*2-1,Vt=ct*ct+Rt*Rt;while(Vt>=1);do Oe=glMatrix.RANDOM()*2-1,Ge=glMatrix.RANDOM()*2-1,De=Oe*Oe+Ge*Ge;while(De>=1);var et=Math.sqrt((1-Vt)/De);return Ot[0]=Xe*ct,Ot[1]=Xe*Rt,Ot[2]=Xe*Oe*et,Ot[3]=Xe*Ge*et,Ot}function qe(Ot,Xe,ct){var Rt=Xe[0],Oe=Xe[1],Ge=Xe[2],Vt=Xe[3];return Ot[0]=ct[0]*Rt+ct[4]*Oe+ct[8]*Ge+ct[12]*Vt,Ot[1]=ct[1]*Rt+ct[5]*Oe+ct[9]*Ge+ct[13]*Vt,Ot[2]=ct[2]*Rt+ct[6]*Oe+ct[10]*Ge+ct[14]*Vt,Ot[3]=ct[3]*Rt+ct[7]*Oe+ct[11]*Ge+ct[15]*Vt,Ot}function Nt(Ot,Xe,ct){var Rt=Xe[0],Oe=Xe[1],Ge=Xe[2],Vt=ct[0],De=ct[1],et=ct[2],Ce=ct[3],J=Ce*Rt+De*Ge-et*Oe,Le=Ce*Oe+et*Rt-Vt*Ge,Jt=Ce*Ge+Vt*Oe-De*Rt,Be=-Vt*Rt-De*Oe-et*Ge;return Ot[0]=J*Ce+Be*-Vt+Le*-et-Jt*-De,Ot[1]=Le*Ce+Be*-De+Jt*-Vt-J*-et,Ot[2]=Jt*Ce+Be*-et+J*-De-Le*-Vt,Ot[3]=Xe[3],Ot}function ft(Ot){return Ot[0]=0,Ot[1]=0,Ot[2]=0,Ot[3]=0,Ot}function ln(Ot){return"vec4("+Ot[0]+", "+Ot[1]+", "+Ot[2]+", "+Ot[3]+")"}function tt(Ot,Xe){return Ot[0]===Xe[0]&&Ot[1]===Xe[1]&&Ot[2]===Xe[2]&&Ot[3]===Xe[3]}function Pe(Ot,Xe){var ct=Ot[0],Rt=Ot[1],Oe=Ot[2],Ge=Ot[3],Vt=Xe[0],De=Xe[1],et=Xe[2],Ce=Xe[3];return Math.abs(ct-Vt)<=w.Ib*Math.max(1,Math.abs(ct),Math.abs(Vt))&&Math.abs(Rt-De)<=w.Ib*Math.max(1,Math.abs(Rt),Math.abs(De))&&Math.abs(Oe-et)<=w.Ib*Math.max(1,Math.abs(Oe),Math.abs(et))&&Math.abs(Ge-Ce)<=w.Ib*Math.max(1,Math.abs(Ge),Math.abs(Ce))}var Qe=null,He=null,_t=null,Bt=null,At=null,Je=null,zt=null,mn=function(){var Ot=B();return function(Xe,ct,Rt,Oe,Ge,Vt){var De,et;for(ct||(ct=4),Rt||(Rt=0),Oe?et=Math.min(Oe*ct+Rt,Xe.length):et=Xe.length,De=Rt;De<et;De+=ct)Ot[0]=Xe[De],Ot[1]=Xe[De+1],Ot[2]=Xe[De+2],Ot[3]=Xe[De+3],Ge(Ot,Ot,Vt),Xe[De]=Ot[0],Xe[De+1]=Ot[1],Xe[De+2]=Ot[2],Xe[De+3]=Ot[3];return Xe}}()},11553:function(cn,Ne,A){var w;(function(B,ne,ue,j){"use strict";var q=["","webkit","Moz","MS","ms","o"],Y=ne.createElement("div"),K="function",H=Math.round,ae=Math.abs,ie=Date.now;function le(Et,Ct,xn){return setTimeout(gt(Et,xn),Ct)}function se(Et,Ct,xn){return Array.isArray(Et)?(ge(Et,xn[Ct],xn),!0):!1}function ge(Et,Ct,xn){var Xn;if(Et)if(Et.forEach)Et.forEach(Ct,xn);else if(Et.length!==j)for(Xn=0;Xn<Et.length;)Ct.call(xn,Et[Xn],Xn,Et),Xn++;else for(Xn in Et)Et.hasOwnProperty(Xn)&&Ct.call(xn,Et[Xn],Xn,Et)}function ye(Et,Ct,xn){var Xn="DEPRECATED METHOD: "+Ct+`
`+xn+` AT 
`;return function(){var mt=new Error("get-stack-trace"),vn=mt&&mt.stack?mt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",tr=B.console&&(B.console.warn||B.console.log);return tr&&tr.call(B.console,Xn,vn),Et.apply(this,arguments)}}var ve;typeof Object.assign!="function"?ve=function(Ct){if(Ct===j||Ct===null)throw new TypeError("Cannot convert undefined or null to object");for(var xn=Object(Ct),Xn=1;Xn<arguments.length;Xn++){var mt=arguments[Xn];if(mt!==j&&mt!==null)for(var vn in mt)mt.hasOwnProperty(vn)&&(xn[vn]=mt[vn])}return xn}:ve=Object.assign;var fe=ye(function(Ct,xn,Xn){for(var mt=Object.keys(xn),vn=0;vn<mt.length;)(!Xn||Xn&&Ct[mt[vn]]===j)&&(Ct[mt[vn]]=xn[mt[vn]]),vn++;return Ct},"extend","Use `assign`."),Fe=ye(function(Ct,xn){return fe(Ct,xn,!0)},"merge","Use `assign`.");function yt(Et,Ct,xn){var Xn=Ct.prototype,mt;mt=Et.prototype=Object.create(Xn),mt.constructor=Et,mt._super=Xn,xn&&ve(mt,xn)}function gt(Et,Ct){return function(){return Et.apply(Ct,arguments)}}function pt(Et,Ct){return typeof Et==K?Et.apply(Ct&&Ct[0]||j,Ct):Et}function lt(Et,Ct){return Et===j?Ct:Et}function Ke(Et,Ct,xn){ge(rn(Ct),function(Xn){Et.addEventListener(Xn,xn,!1)})}function Ue(Et,Ct,xn){ge(rn(Ct),function(Xn){Et.removeEventListener(Xn,xn,!1)})}function Pt(Et,Ct){for(;Et;){if(Et==Ct)return!0;Et=Et.parentNode}return!1}function Gt(Et,Ct){return Et.indexOf(Ct)>-1}function rn(Et){return Et.trim().split(/\s+/g)}function _n(Et,Ct,xn){if(Et.indexOf&&!xn)return Et.indexOf(Ct);for(var Xn=0;Xn<Et.length;){if(xn&&Et[Xn][xn]==Ct||!xn&&Et[Xn]===Ct)return Xn;Xn++}return-1}function qe(Et){return Array.prototype.slice.call(Et,0)}function Nt(Et,Ct,xn){for(var Xn=[],mt=[],vn=0;vn<Et.length;){var tr=Ct?Et[vn][Ct]:Et[vn];_n(mt,tr)<0&&Xn.push(Et[vn]),mt[vn]=tr,vn++}return xn&&(Ct?Xn=Xn.sort(function(ui,Ri){return ui[Ct]>Ri[Ct]}):Xn=Xn.sort()),Xn}function ft(Et,Ct){for(var xn,Xn,mt=Ct[0].toUpperCase()+Ct.slice(1),vn=0;vn<q.length;){if(xn=q[vn],Xn=xn?xn+mt:Ct,Xn in Et)return Xn;vn++}return j}var ln=1;function tt(){return ln++}function Pe(Et){var Ct=Et.ownerDocument||Et;return Ct.defaultView||Ct.parentWindow||B}var Qe=/mobile|tablet|ip(ad|hone|od)|android/i,He="ontouchstart"in B,_t=ft(B,"PointerEvent")!==j,Bt=He&&Qe.test(navigator.userAgent),At="touch",Je="pen",zt="mouse",mn="kinect",Ot=25,Xe=1,ct=2,Rt=4,Oe=8,Ge=1,Vt=2,De=4,et=8,Ce=16,J=Vt|De,Le=et|Ce,Jt=J|Le,Be=["x","y"],In=["clientX","clientY"];function cr(Et,Ct){var xn=this;this.manager=Et,this.callback=Ct,this.element=Et.element,this.target=Et.options.inputTarget,this.domHandler=function(Xn){pt(Et.options.enable,[Et])&&xn.handler(Xn)},this.init()}cr.prototype={handler:function(){},init:function(){this.evEl&&Ke(this.element,this.evEl,this.domHandler),this.evTarget&&Ke(this.target,this.evTarget,this.domHandler),this.evWin&&Ke(Pe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ue(this.element,this.evEl,this.domHandler),this.evTarget&&Ue(this.target,this.evTarget,this.domHandler),this.evWin&&Ue(Pe(this.element),this.evWin,this.domHandler)}};function bn(Et){var Ct,xn=Et.options.inputClass;return xn?Ct=xn:_t?Ct=ar:Bt?Ct=cs:He?Ct=Gn:Ct=an,new Ct(Et,ir)}function ir(Et,Ct,xn){var Xn=xn.pointers.length,mt=xn.changedPointers.length,vn=Ct&Xe&&Xn-mt===0,tr=Ct&(Rt|Oe)&&Xn-mt===0;xn.isFirst=!!vn,xn.isFinal=!!tr,vn&&(Et.session={}),xn.eventType=Ct,Nr(Et,xn),Et.emit("hammer.input",xn),Et.recognize(xn),Et.session.prevInput=xn}function Nr(Et,Ct){var xn=Et.session,Xn=Ct.pointers,mt=Xn.length;xn.firstInput||(xn.firstInput=wi(Ct)),mt>1&&!xn.firstMultiple?xn.firstMultiple=wi(Ct):mt===1&&(xn.firstMultiple=!1);var vn=xn.firstInput,tr=xn.firstMultiple,Mr=tr?tr.center:vn.center,ui=Ct.center=Ln(Xn);Ct.timeStamp=ie(),Ct.deltaTime=Ct.timeStamp-vn.timeStamp,Ct.angle=nt(Mr,ui),Ct.distance=wn(Mr,ui),Ar(xn,Ct),Ct.offsetDirection=$n(Ct.deltaX,Ct.deltaY);var Ri=Nn(Ct.deltaTime,Ct.deltaX,Ct.deltaY);Ct.overallVelocityX=Ri.x,Ct.overallVelocityY=Ri.y,Ct.overallVelocity=ae(Ri.x)>ae(Ri.y)?Ri.x:Ri.y,Ct.scale=tr?vt(tr.pointers,Xn):1,Ct.rotation=tr?ze(tr.pointers,Xn):0,Ct.maxPointers=xn.prevInput?Ct.pointers.length>xn.prevInput.maxPointers?Ct.pointers.length:xn.prevInput.maxPointers:Ct.pointers.length,Zr(xn,Ct);var Aa=Et.element;Pt(Ct.srcEvent.target,Aa)&&(Aa=Ct.srcEvent.target),Ct.target=Aa}function Ar(Et,Ct){var xn=Ct.center,Xn=Et.offsetDelta||{},mt=Et.prevDelta||{},vn=Et.prevInput||{};(Ct.eventType===Xe||vn.eventType===Rt)&&(mt=Et.prevDelta={x:vn.deltaX||0,y:vn.deltaY||0},Xn=Et.offsetDelta={x:xn.x,y:xn.y}),Ct.deltaX=mt.x+(xn.x-Xn.x),Ct.deltaY=mt.y+(xn.y-Xn.y)}function Zr(Et,Ct){var xn=Et.lastInterval||Ct,Xn=Ct.timeStamp-xn.timeStamp,mt,vn,tr,Mr;if(Ct.eventType!=Oe&&(Xn>Ot||xn.velocity===j)){var ui=Ct.deltaX-xn.deltaX,Ri=Ct.deltaY-xn.deltaY,Aa=Nn(Xn,ui,Ri);vn=Aa.x,tr=Aa.y,mt=ae(Aa.x)>ae(Aa.y)?Aa.x:Aa.y,Mr=$n(ui,Ri),Et.lastInterval=Ct}else mt=xn.velocity,vn=xn.velocityX,tr=xn.velocityY,Mr=xn.direction;Ct.velocity=mt,Ct.velocityX=vn,Ct.velocityY=tr,Ct.direction=Mr}function wi(Et){for(var Ct=[],xn=0;xn<Et.pointers.length;)Ct[xn]={clientX:H(Et.pointers[xn].clientX),clientY:H(Et.pointers[xn].clientY)},xn++;return{timeStamp:ie(),pointers:Ct,center:Ln(Ct),deltaX:Et.deltaX,deltaY:Et.deltaY}}function Ln(Et){var Ct=Et.length;if(Ct===1)return{x:H(Et[0].clientX),y:H(Et[0].clientY)};for(var xn=0,Xn=0,mt=0;mt<Ct;)xn+=Et[mt].clientX,Xn+=Et[mt].clientY,mt++;return{x:H(xn/Ct),y:H(Xn/Ct)}}function Nn(Et,Ct,xn){return{x:Ct/Et||0,y:xn/Et||0}}function $n(Et,Ct){return Et===Ct?Ge:ae(Et)>=ae(Ct)?Et<0?Vt:De:Ct<0?et:Ce}function wn(Et,Ct,xn){xn||(xn=Be);var Xn=Ct[xn[0]]-Et[xn[0]],mt=Ct[xn[1]]-Et[xn[1]];return Math.sqrt(Xn*Xn+mt*mt)}function nt(Et,Ct,xn){xn||(xn=Be);var Xn=Ct[xn[0]]-Et[xn[0]],mt=Ct[xn[1]]-Et[xn[1]];return Math.atan2(mt,Xn)*180/Math.PI}function ze(Et,Ct){return nt(Ct[1],Ct[0],In)+nt(Et[1],Et[0],In)}function vt(Et,Ct){return wn(Ct[0],Ct[1],In)/wn(Et[0],Et[1],In)}var $t={mousedown:Xe,mousemove:ct,mouseup:Rt},gn="mousedown",at="mousemove mouseup";function an(){this.evEl=gn,this.evWin=at,this.pressed=!1,cr.apply(this,arguments)}yt(an,cr,{handler:function(Ct){var xn=$t[Ct.type];xn&Xe&&Ct.button===0&&(this.pressed=!0),xn&ct&&Ct.which!==1&&(xn=Rt),this.pressed&&(xn&Rt&&(this.pressed=!1),this.callback(this.manager,xn,{pointers:[Ct],changedPointers:[Ct],pointerType:zt,srcEvent:Ct}))}});var hn={pointerdown:Xe,pointermove:ct,pointerup:Rt,pointercancel:Oe,pointerout:Oe},pr={2:At,3:Je,4:zt,5:mn},ur="pointerdown",pi="pointermove pointerup pointercancel";B.MSPointerEvent&&!B.PointerEvent&&(ur="MSPointerDown",pi="MSPointerMove MSPointerUp MSPointerCancel");function ar(){this.evEl=ur,this.evWin=pi,cr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}yt(ar,cr,{handler:function(Ct){var xn=this.store,Xn=!1,mt=Ct.type.toLowerCase().replace("ms",""),vn=hn[mt],tr=pr[Ct.pointerType]||Ct.pointerType,Mr=tr==At,ui=_n(xn,Ct.pointerId,"pointerId");vn&Xe&&(Ct.button===0||Mr)?ui<0&&(xn.push(Ct),ui=xn.length-1):vn&(Rt|Oe)&&(Xn=!0),!(ui<0)&&(xn[ui]=Ct,this.callback(this.manager,vn,{pointers:xn,changedPointers:[Ct],pointerType:tr,srcEvent:Ct}),Xn&&xn.splice(ui,1))}});var di={touchstart:Xe,touchmove:ct,touchend:Rt,touchcancel:Oe},sa="touchstart",xa="touchstart touchmove touchend touchcancel";function za(){this.evTarget=sa,this.evWin=xa,this.started=!1,cr.apply(this,arguments)}yt(za,cr,{handler:function(Ct){var xn=di[Ct.type];if(xn===Xe&&(this.started=!0),!!this.started){var Xn=Ui.call(this,Ct,xn);xn&(Rt|Oe)&&Xn[0].length-Xn[1].length===0&&(this.started=!1),this.callback(this.manager,xn,{pointers:Xn[0],changedPointers:Xn[1],pointerType:At,srcEvent:Ct})}}});function Ui(Et,Ct){var xn=qe(Et.touches),Xn=qe(Et.changedTouches);return Ct&(Rt|Oe)&&(xn=Nt(xn.concat(Xn),"identifier",!0)),[xn,Xn]}var Ao={touchstart:Xe,touchmove:ct,touchend:Rt,touchcancel:Oe},fs="touchstart touchmove touchend touchcancel";function cs(){this.evTarget=fs,this.targetIds={},cr.apply(this,arguments)}yt(cs,cr,{handler:function(Ct){var xn=Ao[Ct.type],Xn=ra.call(this,Ct,xn);Xn&&this.callback(this.manager,xn,{pointers:Xn[0],changedPointers:Xn[1],pointerType:At,srcEvent:Ct})}});function ra(Et,Ct){var xn=qe(Et.touches),Xn=this.targetIds;if(Ct&(Xe|ct)&&xn.length===1)return Xn[xn[0].identifier]=!0,[xn,xn];var mt,vn,tr=qe(Et.changedTouches),Mr=[],ui=this.target;if(vn=xn.filter(function(Ri){return Pt(Ri.target,ui)}),Ct===Xe)for(mt=0;mt<vn.length;)Xn[vn[mt].identifier]=!0,mt++;for(mt=0;mt<tr.length;)Xn[tr[mt].identifier]&&Mr.push(tr[mt]),Ct&(Rt|Oe)&&delete Xn[tr[mt].identifier],mt++;if(Mr.length)return[Nt(vn.concat(Mr),"identifier",!0),Mr]}var ms=2500,xi=25;function Gn(){cr.apply(this,arguments);var Et=gt(this.handler,this);this.touch=new cs(this.manager,Et),this.mouse=new an(this.manager,Et),this.primaryTouch=null,this.lastTouches=[]}yt(Gn,cr,{handler:function(Ct,xn,Xn){var mt=Xn.pointerType==At,vn=Xn.pointerType==zt;if(!(vn&&Xn.sourceCapabilities&&Xn.sourceCapabilities.firesTouchEvents)){if(mt)_e.call(this,xn,Xn);else if(vn&&Ka.call(this,Xn))return;this.callback(Ct,xn,Xn)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function _e(Et,Ct){Et&Xe?(this.primaryTouch=Ct.changedPointers[0].identifier,oi.call(this,Ct)):Et&(Rt|Oe)&&oi.call(this,Ct)}function oi(Et){var Ct=Et.changedPointers[0];if(Ct.identifier===this.primaryTouch){var xn={x:Ct.clientX,y:Ct.clientY};this.lastTouches.push(xn);var Xn=this.lastTouches,mt=function(){var vn=Xn.indexOf(xn);vn>-1&&Xn.splice(vn,1)};setTimeout(mt,ms)}}function Ka(Et){for(var Ct=Et.srcEvent.clientX,xn=Et.srcEvent.clientY,Xn=0;Xn<this.lastTouches.length;Xn++){var mt=this.lastTouches[Xn],vn=Math.abs(Ct-mt.x),tr=Math.abs(xn-mt.y);if(vn<=xi&&tr<=xi)return!0}return!1}var Cn=ft(Y.style,"touchAction"),Un=Cn!==j,tn="compute",It="auto",Zt="manipulation",$e="none",Bn="pan-x",Yn="pan-y",or=st();function Ze(Et,Ct){this.manager=Et,this.set(Ct)}Ze.prototype={set:function(Et){Et==tn&&(Et=this.compute()),Un&&this.manager.element.style&&or[Et]&&(this.manager.element.style[Cn]=Et),this.actions=Et.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Et=[];return ge(this.manager.recognizers,function(Ct){pt(Ct.options.enable,[Ct])&&(Et=Et.concat(Ct.getTouchAction()))}),je(Et.join(" "))},preventDefaults:function(Et){var Ct=Et.srcEvent,xn=Et.offsetDirection;if(this.manager.session.prevented){Ct.preventDefault();return}var Xn=this.actions,mt=Gt(Xn,$e)&&!or[$e],vn=Gt(Xn,Yn)&&!or[Yn],tr=Gt(Xn,Bn)&&!or[Bn];if(mt){var Mr=Et.pointers.length===1,ui=Et.distance<2,Ri=Et.deltaTime<250;if(Mr&&ui&&Ri)return}if(!(tr&&vn)&&(mt||vn&&xn&J||tr&&xn&Le))return this.preventSrc(Ct)},preventSrc:function(Et){this.manager.session.prevented=!0,Et.preventDefault()}};function je(Et){if(Gt(Et,$e))return $e;var Ct=Gt(Et,Bn),xn=Gt(Et,Yn);return Ct&&xn?$e:Ct||xn?Ct?Bn:Yn:Gt(Et,Zt)?Zt:It}function st(){if(!Un)return!1;var Et={},Ct=B.CSS&&B.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(xn){Et[xn]=Ct?B.CSS.supports("touch-action",xn):!0}),Et}var St=1,En=2,fn=4,sn=8,Pn=sn,Hn=16,Ut=32;function Yt(Et){this.options=ve({},this.defaults,Et||{}),this.id=tt(),this.manager=null,this.options.enable=lt(this.options.enable,!0),this.state=St,this.simultaneous={},this.requireFail=[]}Yt.prototype={defaults:{},set:function(Et){return ve(this.options,Et),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Et){if(se(Et,"recognizeWith",this))return this;var Ct=this.simultaneous;return Et=fr(Et,this),Ct[Et.id]||(Ct[Et.id]=Et,Et.recognizeWith(this)),this},dropRecognizeWith:function(Et){return se(Et,"dropRecognizeWith",this)?this:(Et=fr(Et,this),delete this.simultaneous[Et.id],this)},requireFailure:function(Et){if(se(Et,"requireFailure",this))return this;var Ct=this.requireFail;return Et=fr(Et,this),_n(Ct,Et)===-1&&(Ct.push(Et),Et.requireFailure(this)),this},dropRequireFailure:function(Et){if(se(Et,"dropRequireFailure",this))return this;Et=fr(Et,this);var Ct=_n(this.requireFail,Et);return Ct>-1&&this.requireFail.splice(Ct,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Et){return!!this.simultaneous[Et.id]},emit:function(Et){var Ct=this,xn=this.state;function Xn(mt){Ct.manager.emit(mt,Et)}xn<sn&&Xn(Ct.options.event+Xt(xn)),Xn(Ct.options.event),Et.additionalEvent&&Xn(Et.additionalEvent),xn>=sn&&Xn(Ct.options.event+Xt(xn))},tryEmit:function(Et){if(this.canEmit())return this.emit(Et);this.state=Ut},canEmit:function(){for(var Et=0;Et<this.requireFail.length;){if(!(this.requireFail[Et].state&(Ut|St)))return!1;Et++}return!0},recognize:function(Et){var Ct=ve({},Et);if(!pt(this.options.enable,[this,Ct])){this.reset(),this.state=Ut;return}this.state&(Pn|Hn|Ut)&&(this.state=St),this.state=this.process(Ct),this.state&(En|fn|sn|Hn)&&this.tryEmit(Ct)},process:function(Et){},getTouchAction:function(){},reset:function(){}};function Xt(Et){return Et&Hn?"cancel":Et&sn?"end":Et&fn?"move":Et&En?"start":""}function jt(Et){return Et==Ce?"down":Et==et?"up":Et==Vt?"left":Et==De?"right":""}function fr(Et,Ct){var xn=Ct.manager;return xn?xn.get(Et):Et}function vr(){Yt.apply(this,arguments)}yt(vr,Yt,{defaults:{pointers:1},attrTest:function(Et){var Ct=this.options.pointers;return Ct===0||Et.pointers.length===Ct},process:function(Et){var Ct=this.state,xn=Et.eventType,Xn=Ct&(En|fn),mt=this.attrTest(Et);return Xn&&(xn&Oe||!mt)?Ct|Hn:Xn||mt?xn&Rt?Ct|sn:Ct&En?Ct|fn:En:Ut}});function yr(){vr.apply(this,arguments),this.pX=null,this.pY=null}yt(yr,vr,{defaults:{event:"pan",threshold:10,pointers:1,direction:Jt},getTouchAction:function(){var Et=this.options.direction,Ct=[];return Et&J&&Ct.push(Yn),Et&Le&&Ct.push(Bn),Ct},directionTest:function(Et){var Ct=this.options,xn=!0,Xn=Et.distance,mt=Et.direction,vn=Et.deltaX,tr=Et.deltaY;return mt&Ct.direction||(Ct.direction&J?(mt=vn===0?Ge:vn<0?Vt:De,xn=vn!=this.pX,Xn=Math.abs(Et.deltaX)):(mt=tr===0?Ge:tr<0?et:Ce,xn=tr!=this.pY,Xn=Math.abs(Et.deltaY))),Et.direction=mt,xn&&Xn>Ct.threshold&&mt&Ct.direction},attrTest:function(Et){return vr.prototype.attrTest.call(this,Et)&&(this.state&En||!(this.state&En)&&this.directionTest(Et))},emit:function(Et){this.pX=Et.deltaX,this.pY=Et.deltaY;var Ct=jt(Et.direction);Ct&&(Et.additionalEvent=this.options.event+Ct),this._super.emit.call(this,Et)}});function Br(){vr.apply(this,arguments)}yt(Br,vr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[$e]},attrTest:function(Et){return this._super.attrTest.call(this,Et)&&(Math.abs(Et.scale-1)>this.options.threshold||this.state&En)},emit:function(Et){if(Et.scale!==1){var Ct=Et.scale<1?"in":"out";Et.additionalEvent=this.options.event+Ct}this._super.emit.call(this,Et)}});function Gi(){Yt.apply(this,arguments),this._timer=null,this._input=null}yt(Gi,Yt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[It]},process:function(Et){var Ct=this.options,xn=Et.pointers.length===Ct.pointers,Xn=Et.distance<Ct.threshold,mt=Et.deltaTime>Ct.time;if(this._input=Et,!Xn||!xn||Et.eventType&(Rt|Oe)&&!mt)this.reset();else if(Et.eventType&Xe)this.reset(),this._timer=le(function(){this.state=Pn,this.tryEmit()},Ct.time,this);else if(Et.eventType&Rt)return Pn;return Ut},reset:function(){clearTimeout(this._timer)},emit:function(Et){this.state===Pn&&(Et&&Et.eventType&Rt?this.manager.emit(this.options.event+"up",Et):(this._input.timeStamp=ie(),this.manager.emit(this.options.event,this._input)))}});function qi(){vr.apply(this,arguments)}yt(qi,vr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[$e]},attrTest:function(Et){return this._super.attrTest.call(this,Et)&&(Math.abs(Et.rotation)>this.options.threshold||this.state&En)}});function $i(){vr.apply(this,arguments)}yt($i,vr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:J|Le,pointers:1},getTouchAction:function(){return yr.prototype.getTouchAction.call(this)},attrTest:function(Et){var Ct=this.options.direction,xn;return Ct&(J|Le)?xn=Et.overallVelocity:Ct&J?xn=Et.overallVelocityX:Ct&Le&&(xn=Et.overallVelocityY),this._super.attrTest.call(this,Et)&&Ct&Et.offsetDirection&&Et.distance>this.options.threshold&&Et.maxPointers==this.options.pointers&&ae(xn)>this.options.velocity&&Et.eventType&Rt},emit:function(Et){var Ct=jt(Et.offsetDirection);Ct&&this.manager.emit(this.options.event+Ct,Et),this.manager.emit(this.options.event,Et)}});function Wi(){Yt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}yt(Wi,Yt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Zt]},process:function(Et){var Ct=this.options,xn=Et.pointers.length===Ct.pointers,Xn=Et.distance<Ct.threshold,mt=Et.deltaTime<Ct.time;if(this.reset(),Et.eventType&Xe&&this.count===0)return this.failTimeout();if(Xn&&mt&&xn){if(Et.eventType!=Rt)return this.failTimeout();var vn=this.pTime?Et.timeStamp-this.pTime<Ct.interval:!0,tr=!this.pCenter||wn(this.pCenter,Et.center)<Ct.posThreshold;this.pTime=Et.timeStamp,this.pCenter=Et.center,!tr||!vn?this.count=1:this.count+=1,this._input=Et;var Mr=this.count%Ct.taps;if(Mr===0)return this.hasRequireFailures()?(this._timer=le(function(){this.state=Pn,this.tryEmit()},Ct.interval,this),En):Pn}return Ut},failTimeout:function(){return this._timer=le(function(){this.state=Ut},this.options.interval,this),Ut},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Pn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Ii(Et,Ct){return Ct=Ct||{},Ct.recognizers=lt(Ct.recognizers,Ii.defaults.preset),new dn(Et,Ct)}Ii.VERSION="2.0.7",Ii.defaults={domEvents:!1,touchAction:tn,enable:!0,inputTarget:null,inputClass:null,preset:[[qi,{enable:!1}],[Br,{enable:!1},["rotate"]],[$i,{direction:J}],[yr,{direction:J},["swipe"]],[Wi],[Wi,{event:"doubletap",taps:2},["tap"]],[Gi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Qa=1,on=2;function dn(Et,Ct){this.options=ve({},Ii.defaults,Ct||{}),this.options.inputTarget=this.options.inputTarget||Et,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Et,this.input=bn(this),this.touchAction=new Ze(this,this.options.touchAction),jn(this,!0),ge(this.options.recognizers,function(xn){var Xn=this.add(new xn[0](xn[1]));xn[2]&&Xn.recognizeWith(xn[2]),xn[3]&&Xn.requireFailure(xn[3])},this)}dn.prototype={set:function(Et){return ve(this.options,Et),Et.touchAction&&this.touchAction.update(),Et.inputTarget&&(this.input.destroy(),this.input.target=Et.inputTarget,this.input.init()),this},stop:function(Et){this.session.stopped=Et?on:Qa},recognize:function(Et){var Ct=this.session;if(!Ct.stopped){this.touchAction.preventDefaults(Et);var xn,Xn=this.recognizers,mt=Ct.curRecognizer;(!mt||mt&&mt.state&Pn)&&(mt=Ct.curRecognizer=null);for(var vn=0;vn<Xn.length;)xn=Xn[vn],Ct.stopped!==on&&(!mt||xn==mt||xn.canRecognizeWith(mt))?xn.recognize(Et):xn.reset(),!mt&&xn.state&(En|fn|sn)&&(mt=Ct.curRecognizer=xn),vn++}},get:function(Et){if(Et instanceof Yt)return Et;for(var Ct=this.recognizers,xn=0;xn<Ct.length;xn++)if(Ct[xn].options.event==Et)return Ct[xn];return null},add:function(Et){if(se(Et,"add",this))return this;var Ct=this.get(Et.options.event);return Ct&&this.remove(Ct),this.recognizers.push(Et),Et.manager=this,this.touchAction.update(),Et},remove:function(Et){if(se(Et,"remove",this))return this;if(Et=this.get(Et),Et){var Ct=this.recognizers,xn=_n(Ct,Et);xn!==-1&&(Ct.splice(xn,1),this.touchAction.update())}return this},on:function(Et,Ct){if(Et!==j&&Ct!==j){var xn=this.handlers;return ge(rn(Et),function(Xn){xn[Xn]=xn[Xn]||[],xn[Xn].push(Ct)}),this}},off:function(Et,Ct){if(Et!==j){var xn=this.handlers;return ge(rn(Et),function(Xn){Ct?xn[Xn]&&xn[Xn].splice(_n(xn[Xn],Ct),1):delete xn[Xn]}),this}},emit:function(Et,Ct){this.options.domEvents&&Ur(Et,Ct);var xn=this.handlers[Et]&&this.handlers[Et].slice();if(!(!xn||!xn.length)){Ct.type=Et,Ct.preventDefault=function(){Ct.srcEvent.preventDefault()};for(var Xn=0;Xn<xn.length;)xn[Xn](Ct),Xn++}},destroy:function(){this.element&&jn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function jn(Et,Ct){var xn=Et.element;if(xn.style){var Xn;ge(Et.options.cssProps,function(mt,vn){Xn=ft(xn.style,vn),Ct?(Et.oldCssProps[Xn]=xn.style[Xn],xn.style[Xn]=mt):xn.style[Xn]=Et.oldCssProps[Xn]||""}),Ct||(Et.oldCssProps={})}}function Ur(Et,Ct){var xn=ne.createEvent("Event");xn.initEvent(Et,!0,!0),xn.gesture=Ct,Ct.target.dispatchEvent(xn)}ve(Ii,{INPUT_START:Xe,INPUT_MOVE:ct,INPUT_END:Rt,INPUT_CANCEL:Oe,STATE_POSSIBLE:St,STATE_BEGAN:En,STATE_CHANGED:fn,STATE_ENDED:sn,STATE_RECOGNIZED:Pn,STATE_CANCELLED:Hn,STATE_FAILED:Ut,DIRECTION_NONE:Ge,DIRECTION_LEFT:Vt,DIRECTION_RIGHT:De,DIRECTION_UP:et,DIRECTION_DOWN:Ce,DIRECTION_HORIZONTAL:J,DIRECTION_VERTICAL:Le,DIRECTION_ALL:Jt,Manager:dn,Input:cr,TouchAction:Ze,TouchInput:cs,MouseInput:an,PointerEventInput:ar,TouchMouseInput:Gn,SingleTouchInput:za,Recognizer:Yt,AttrRecognizer:vr,Tap:Wi,Pan:yr,Swipe:$i,Pinch:Br,Rotate:qi,Press:Gi,on:Ke,off:Ue,each:ge,merge:Fe,extend:fe,assign:ve,inherit:yt,bindFn:gt,prefixed:ft});var Yr=typeof B!="undefined"?B:typeof self!="undefined"?self:{};Yr.Hammer=Ii,w=function(){return Ii}.call(Ne,A,Ne,cn),w!==j&&(cn.exports=w)})(window,document,"Hammer")},1729:function(cn){function Ne(ne,ue,j){return(ue[0]-ne[0])*(j[1]-ne[1])-(ue[1]-ne[1])*(j[0]-ne[0])}function A(ne){const ue=[];for(let j=0;j<ne.length;j++){for(;ue.length>=2&&Ne(ue[ue.length-2],ue[ue.length-1],ne[j])<=0;)ue.pop();ue.push(ne[j])}return ue.pop(),ue}function w(ne){const ue=ne.reverse(),j=[];for(let q=0;q<ue.length;q++){for(;j.length>=2&&Ne(j[j.length-2],j[j.length-1],ue[q])<=0;)j.pop();j.push(ue[q])}return j.pop(),j}function B(ne){const ue=A(ne),q=w(ne).concat(ue);return q.push(ne[0]),q}cn.exports=B},91460:function(cn){cn.exports={toXy:function(Ne,A){return A===void 0?Ne.slice():Ne.map(function(w){return new Function("pt","return [pt"+A[0]+",pt"+A[1]+"];")(w)})},fromXy:function(Ne,A){return A===void 0?Ne.slice():Ne.map(function(w){return new Function("pt","const o = {}; o"+A[0]+"= pt[0]; o"+A[1]+"= pt[1]; return o;")(w)})}}},21057:function(cn){function Ne(w,B){this._cells=[],this._cellSize=B,this._reverseCellSize=1/B;for(let ne=0;ne<w.length;ne++){const ue=w[ne],j=this.coordToCellNum(ue[0]),q=this.coordToCellNum(ue[1]);if(this._cells[j])this._cells[j][q]?this._cells[j][q].push(ue):this._cells[j][q]=[ue];else{const Y=[];Y[q]=[ue],this._cells[j]=Y}}}Ne.prototype={cellPoints:function(w,B){return this._cells[w]!==void 0&&this._cells[w][B]!==void 0?this._cells[w][B]:[]},rangePoints:function(w){const B=this.coordToCellNum(w[0]),ne=this.coordToCellNum(w[1]),ue=this.coordToCellNum(w[2]),j=this.coordToCellNum(w[3]),q=[];for(let Y=B;Y<=ue;Y++)for(let K=ne;K<=j;K++)for(let H=0;H<this.cellPoints(Y,K).length;H++)q.push(this.cellPoints(Y,K)[H]);return q},removePoint:function(w){const B=this.coordToCellNum(w[0]),ne=this.coordToCellNum(w[1]),ue=this._cells[B][ne];let j;for(let q=0;q<ue.length;q++)if(ue[q][0]===w[0]&&ue[q][1]===w[1]){j=q;break}return ue.splice(j,1),ue},trunc:Math.trunc||function(w){return w-w%1},coordToCellNum:function(w){return this.trunc(w*this._reverseCellSize)},extendBbox:function(w,B){return[w[0]-B*this._cellSize,w[1]-B*this._cellSize,w[2]+B*this._cellSize,w[3]+B*this._cellSize]}};function A(w,B){return new Ne(w,B)}cn.exports=A},97359:function(cn,Ne,A){"use strict";const w=A(6351),B=A(21057),ne=A(91460),ue=A(1729);function j(fe){const Fe=[fe[0]];let yt=fe[0];for(let gt=1;gt<fe.length;gt++){const pt=fe[gt];(yt[0]!==pt[0]||yt[1]!==pt[1])&&Fe.push(pt),yt=pt}return Fe}function q(fe){return fe.sort(function(Fe,yt){return Fe[0]-yt[0]||Fe[1]-yt[1]})}function Y(fe,Fe){return Math.pow(Fe[0]-fe[0],2)+Math.pow(Fe[1]-fe[1],2)}function K(fe,Fe,yt){const gt=[Fe[0]-fe[0],Fe[1]-fe[1]],pt=[yt[0]-fe[0],yt[1]-fe[1]],lt=Y(fe,Fe),Ke=Y(fe,yt);return(gt[0]*pt[0]+gt[1]*pt[1])/Math.sqrt(lt*Ke)}function H(fe,Fe){for(let yt=0;yt<Fe.length-1;yt++){const gt=[Fe[yt],Fe[yt+1]];if(!(fe[0][0]===gt[0][0]&&fe[0][1]===gt[0][1]||fe[0][0]===gt[1][0]&&fe[0][1]===gt[1][1])&&w(fe,gt))return!0}return!1}function ae(fe){let Fe=1/0,yt=1/0,gt=-1/0,pt=-1/0;for(let lt=fe.length-1;lt>=0;lt--)fe[lt][0]<Fe&&(Fe=fe[lt][0]),fe[lt][1]<yt&&(yt=fe[lt][1]),fe[lt][0]>gt&&(gt=fe[lt][0]),fe[lt][1]>pt&&(pt=fe[lt][1]);return[gt-Fe,pt-yt]}function ie(fe){return[Math.min(fe[0][0],fe[1][0]),Math.min(fe[0][1],fe[1][1]),Math.max(fe[0][0],fe[1][0]),Math.max(fe[0][1],fe[1][1])]}function le(fe,Fe,yt){let gt=null,pt=ye,lt=ye,Ke,Ue;for(let Pt=0;Pt<Fe.length;Pt++)Ke=K(fe[0],fe[1],Fe[Pt]),Ue=K(fe[1],fe[0],Fe[Pt]),Ke>pt&&Ue>lt&&!H([fe[0],Fe[Pt]],yt)&&!H([fe[1],Fe[Pt]],yt)&&(pt=Ke,lt=Ue,gt=Fe[Pt]);return gt}function se(fe,Fe,yt,gt,pt){let lt=!1;for(let Ke=0;Ke<fe.length-1;Ke++){const Ue=[fe[Ke],fe[Ke+1]],Pt=Ue[0][0]+","+Ue[0][1]+","+Ue[1][0]+","+Ue[1][1];if(Y(Ue[0],Ue[1])<Fe||pt.has(Pt))continue;let Gt=0,rn=ie(Ue),_n,qe,Nt;do rn=gt.extendBbox(rn,Gt),_n=rn[2]-rn[0],qe=rn[3]-rn[1],Nt=le(Ue,gt.rangePoints(rn),fe),Gt++;while(Nt===null&&(yt[0]>_n||yt[1]>qe));_n>=yt[0]&&qe>=yt[1]&&pt.add(Pt),Nt!==null&&(fe.splice(Ke+1,0,Nt),gt.removePoint(Nt),lt=!0)}return lt?se(fe,Fe,yt,gt,pt):fe}function ge(fe,Fe,yt){let gt=Fe||20;const pt=j(q(ne.toXy(fe,yt)));if(pt.length<4){const _n=pt.concat([pt[0]]);return yt?ne.fromXy(_n,yt):_n}const lt=ae(pt),Ke=[lt[0]*ve,lt[1]*ve],Ue=ue(pt),Pt=pt.filter(function(_n){return Ue.indexOf(_n)<0}),Gt=Math.ceil(1/(pt.length/(lt[0]*lt[1]))),rn=se(Ue,Math.pow(gt,2),Ke,B(Pt,Gt),new Set);return yt?ne.fromXy(rn,yt):rn}const ye=Math.cos(90/(180/Math.PI)),ve=.6;cn.exports=ge},6351:function(cn){function Ne(w,B,ne,ue,j,q){const Y=(q-B)*(ne-w)-(ue-B)*(j-w);return Y>0?!0:!(Y<0)}function A(w,B){const ne=w[0][0],ue=w[0][1],j=w[1][0],q=w[1][1],Y=B[0][0],K=B[0][1],H=B[1][0],ae=B[1][1];return Ne(ne,ue,Y,K,H,ae)!==Ne(j,q,Y,K,H,ae)&&Ne(ne,ue,j,q,Y,K)!==Ne(ne,ue,j,q,H,ae)}cn.exports=A},30551:function(cn,Ne){Ne.read=function(A,w,B,ne,ue){var j,q,Y=ue*8-ne-1,K=(1<<Y)-1,H=K>>1,ae=-7,ie=B?ue-1:0,le=B?-1:1,se=A[w+ie];for(ie+=le,j=se&(1<<-ae)-1,se>>=-ae,ae+=Y;ae>0;j=j*256+A[w+ie],ie+=le,ae-=8);for(q=j&(1<<-ae)-1,j>>=-ae,ae+=ne;ae>0;q=q*256+A[w+ie],ie+=le,ae-=8);if(j===0)j=1-H;else{if(j===K)return q?NaN:(se?-1:1)*(1/0);q=q+Math.pow(2,ne),j=j-H}return(se?-1:1)*q*Math.pow(2,j-ne)},Ne.write=function(A,w,B,ne,ue,j){var q,Y,K,H=j*8-ue-1,ae=(1<<H)-1,ie=ae>>1,le=ue===23?Math.pow(2,-24)-Math.pow(2,-77):0,se=ne?0:j-1,ge=ne?1:-1,ye=w<0||w===0&&1/w<0?1:0;for(w=Math.abs(w),isNaN(w)||w===1/0?(Y=isNaN(w)?1:0,q=ae):(q=Math.floor(Math.log(w)/Math.LN2),w*(K=Math.pow(2,-q))<1&&(q--,K*=2),q+ie>=1?w+=le/K:w+=le*Math.pow(2,1-ie),w*K>=2&&(q++,K/=2),q+ie>=ae?(Y=0,q=ae):q+ie>=1?(Y=(w*K-1)*Math.pow(2,ue),q=q+ie):(Y=w*Math.pow(2,ie-1)*Math.pow(2,ue),q=0));ue>=8;A[B+se]=Y&255,se+=ge,Y/=256,ue-=8);for(q=q<<ue|Y,H+=ue;H>0;A[B+se]=q&255,se+=ge,q/=256,H-=8);A[B+se-ge]|=ye*128}},82640:function(cn){var Ne=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,A=/\n/g,w=/^\s*/,B=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ne=/^:\s*/,ue=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,j=/^[;\s]*/,q=/^\s+|\s+$/g,Y=`
`,K="/",H="*",ae="",ie="comment",le="declaration";cn.exports=function(ge,ye){if(typeof ge!="string")throw new TypeError("First argument must be a string");if(!ge)return[];ye=ye||{};var ve=1,fe=1;function Fe(qe){var Nt=qe.match(A);Nt&&(ve+=Nt.length);var ft=qe.lastIndexOf(Y);fe=~ft?qe.length-ft:fe+qe.length}function yt(){var qe={line:ve,column:fe};return function(Nt){return Nt.position=new gt(qe),Ue(),Nt}}function gt(qe){this.start=qe,this.end={line:ve,column:fe},this.source=ye.source}gt.prototype.content=ge;var pt=[];function lt(qe){var Nt=new Error(ye.source+":"+ve+":"+fe+": "+qe);if(Nt.reason=qe,Nt.filename=ye.source,Nt.line=ve,Nt.column=fe,Nt.source=ge,ye.silent)pt.push(Nt);else throw Nt}function Ke(qe){var Nt=qe.exec(ge);if(Nt){var ft=Nt[0];return Fe(ft),ge=ge.slice(ft.length),Nt}}function Ue(){Ke(w)}function Pt(qe){var Nt;for(qe=qe||[];Nt=Gt();)Nt!==!1&&qe.push(Nt);return qe}function Gt(){var qe=yt();if(!(K!=ge.charAt(0)||H!=ge.charAt(1))){for(var Nt=2;ae!=ge.charAt(Nt)&&(H!=ge.charAt(Nt)||K!=ge.charAt(Nt+1));)++Nt;if(Nt+=2,ae===ge.charAt(Nt-1))return lt("End of comment missing");var ft=ge.slice(2,Nt-2);return fe+=2,Fe(ft),ge=ge.slice(Nt),fe+=2,qe({type:ie,comment:ft})}}function rn(){var qe=yt(),Nt=Ke(B);if(Nt){if(Gt(),!Ke(ne))return lt("property missing ':'");var ft=Ke(ue),ln=qe({type:le,property:se(Nt[0].replace(Ne,ae)),value:ft?se(ft[0].replace(Ne,ae)):ae});return Ke(j),ln}}function _n(){var qe=[];Pt(qe);for(var Nt;Nt=rn();)Nt!==!1&&(qe.push(Nt),Pt(qe));return qe}return Ue(),_n()};function se(ge){return ge?ge.replace(q,ae):ae}},48254:function(cn){cn.exports=function(A){return!A||typeof A=="string"?!1:A instanceof Array||Array.isArray(A)||A.length>=0&&(A.splice instanceof Function||Object.getOwnPropertyDescriptor(A,A.length-1)&&A.constructor.name!=="String")}},74202:function(cn){function Ne(A){return A.split("")}cn.exports=Ne},81034:function(cn){var Ne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function A(w){return w.match(Ne)||[]}cn.exports=A},54527:function(cn){function Ne(A,w,B){return A===A&&(B!==void 0&&(A=A<=B?A:B),w!==void 0&&(A=A>=w?A:w)),A}cn.exports=Ne},70525:function(cn){function Ne(A,w,B,ne){for(var ue=B-1,j=A.length;++ue<j;)if(ne(A[ue],w))return ue;return-1}cn.exports=Ne},243:function(cn){function Ne(A){return function(w){return A==null?void 0:A[w]}}cn.exports=Ne},66868:function(cn,Ne,A){var w=A(75697),B=A(13807),ne=A(70525),ue=A(58792),j=A(47165),q=Array.prototype,Y=q.splice;function K(H,ae,ie,le){var se=le?ne:B,ge=-1,ye=ae.length,ve=H;for(H===ae&&(ae=j(ae)),ie&&(ve=w(H,ue(ie)));++ge<ye;)for(var fe=0,Fe=ae[ge],yt=ie?ie(Fe):Fe;(fe=se(ve,yt,fe,le))>-1;)ve!==H&&Y.call(ve,fe,1),Y.call(H,fe,1);return H}cn.exports=K},43846:function(cn){function Ne(A,w,B){var ne=-1,ue=A.length;w<0&&(w=-w>ue?0:ue+w),B=B>ue?ue:B,B<0&&(B+=ue),ue=w>B?0:B-w>>>0,w>>>=0;for(var j=Array(ue);++ne<ue;)j[ne]=A[ne+w];return j}cn.exports=Ne},20167:function(cn,Ne,A){var w=A(43846);function B(ne,ue,j){var q=ne.length;return j=j===void 0?q:j,!ue&&j>=q?ne:w(ne,ue,j)}cn.exports=B},23684:function(cn,Ne,A){var w=A(20167),B=A(30080),ne=A(30078),ue=A(8389);function j(q){return function(Y){Y=ue(Y);var K=B(Y)?ne(Y):void 0,H=K?K[0]:Y.charAt(0),ae=K?w(K,1).join(""):Y.slice(1);return H[q]()+ae}}cn.exports=j},51471:function(cn,Ne,A){var w=A(30695),B=A(99590),ne=A(71055),ue="['\u2019]",j=RegExp(ue,"g");function q(Y){return function(K){return w(ne(B(K).replace(j,"")),Y,"")}}cn.exports=q},92523:function(cn,Ne,A){var w=A(243),B={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ne=w(B);cn.exports=ne},37854:function(cn){var Ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function A(w){return Ne.test(w)}cn.exports=A},30078:function(cn,Ne,A){var w=A(74202),B=A(30080),ne=A(95611);function ue(j){return B(j)?ne(j):w(j)}cn.exports=ue},95611:function(cn){var Ne="\\ud800-\\udfff",A="\\u0300-\\u036f",w="\\ufe20-\\ufe2f",B="\\u20d0-\\u20ff",ne=A+w+B,ue="\\ufe0e\\ufe0f",j="["+Ne+"]",q="["+ne+"]",Y="\\ud83c[\\udffb-\\udfff]",K="(?:"+q+"|"+Y+")",H="[^"+Ne+"]",ae="(?:\\ud83c[\\udde6-\\uddff]){2}",ie="[\\ud800-\\udbff][\\udc00-\\udfff]",le="\\u200d",se=K+"?",ge="["+ue+"]?",ye="(?:"+le+"(?:"+[H,ae,ie].join("|")+")"+ge+se+")*",ve=ge+se+ye,fe="(?:"+[H+q+"?",q,ae,ie,j].join("|")+")",Fe=RegExp(Y+"(?="+Y+")|"+fe+ve,"g");function yt(gt){return gt.match(Fe)||[]}cn.exports=yt},24155:function(cn){var Ne="\\ud800-\\udfff",A="\\u0300-\\u036f",w="\\ufe20-\\ufe2f",B="\\u20d0-\\u20ff",ne=A+w+B,ue="\\u2700-\\u27bf",j="a-z\\xdf-\\xf6\\xf8-\\xff",q="\\xac\\xb1\\xd7\\xf7",Y="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",K="\\u2000-\\u206f",H=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ae="A-Z\\xc0-\\xd6\\xd8-\\xde",ie="\\ufe0e\\ufe0f",le=q+Y+K+H,se="['\u2019]",ge="["+le+"]",ye="["+ne+"]",ve="\\d+",fe="["+ue+"]",Fe="["+j+"]",yt="[^"+Ne+le+ve+ue+j+ae+"]",gt="\\ud83c[\\udffb-\\udfff]",pt="(?:"+ye+"|"+gt+")",lt="[^"+Ne+"]",Ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt="["+ae+"]",Gt="\\u200d",rn="(?:"+Fe+"|"+yt+")",_n="(?:"+Pt+"|"+yt+")",qe="(?:"+se+"(?:d|ll|m|re|s|t|ve))?",Nt="(?:"+se+"(?:D|LL|M|RE|S|T|VE))?",ft=pt+"?",ln="["+ie+"]?",tt="(?:"+Gt+"(?:"+[lt,Ke,Ue].join("|")+")"+ln+ft+")*",Pe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",He=ln+ft+tt,_t="(?:"+[fe,Ke,Ue].join("|")+")"+He,Bt=RegExp([Pt+"?"+Fe+"+"+qe+"(?="+[ge,Pt,"$"].join("|")+")",_n+"+"+Nt+"(?="+[ge,Pt+rn,"$"].join("|")+")",Pt+"?"+rn+"+"+qe,Pt+"+"+Nt,Qe,Pe,ve,_t].join("|"),"g");function At(Je){return Je.match(Bt)||[]}cn.exports=At},47638:function(cn,Ne,A){var w=A(68437),B=A(51471),ne=B(function(ue,j,q){return j=j.toLowerCase(),ue+(q?w(j):j)});cn.exports=ne},68437:function(cn,Ne,A){var w=A(8389),B=A(42950);function ne(ue){return B(w(ue).toLowerCase())}cn.exports=ne},35636:function(cn,Ne,A){var w=A(54527),B=A(12448);function ne(ue,j,q){return q===void 0&&(q=j,j=void 0),q!==void 0&&(q=B(q),q=q===q?q:0),j!==void 0&&(j=B(j),j=j===j?j:0),w(B(ue),j,q)}cn.exports=ne},66292:function(cn,Ne,A){var w=A(36838),B=A(76668),ne=A(12448),ue="Expected a function",j=Math.max,q=Math.min;function Y(K,H,ae){var ie,le,se,ge,ye,ve,fe=0,Fe=!1,yt=!1,gt=!0;if(typeof K!="function")throw new TypeError(ue);H=ne(H)||0,w(ae)&&(Fe=!!ae.leading,yt="maxWait"in ae,se=yt?j(ne(ae.maxWait)||0,H):se,gt="trailing"in ae?!!ae.trailing:gt);function pt(Nt){var ft=ie,ln=le;return ie=le=void 0,fe=Nt,ge=K.apply(ln,ft),ge}function lt(Nt){return fe=Nt,ye=setTimeout(Pt,H),Fe?pt(Nt):ge}function Ke(Nt){var ft=Nt-ve,ln=Nt-fe,tt=H-ft;return yt?q(tt,se-ln):tt}function Ue(Nt){var ft=Nt-ve,ln=Nt-fe;return ve===void 0||ft>=H||ft<0||yt&&ln>=se}function Pt(){var Nt=B();if(Ue(Nt))return Gt(Nt);ye=setTimeout(Pt,Ke(Nt))}function Gt(Nt){return ye=void 0,gt&&ie?pt(Nt):(ie=le=void 0,ge)}function rn(){ye!==void 0&&clearTimeout(ye),fe=0,ie=ve=le=ye=void 0}function _n(){return ye===void 0?ge:Gt(B())}function qe(){var Nt=B(),ft=Ue(Nt);if(ie=arguments,le=this,ve=Nt,ft){if(ye===void 0)return lt(ve);if(yt)return clearTimeout(ye),ye=setTimeout(Pt,H),pt(ve)}return ye===void 0&&(ye=setTimeout(Pt,H)),ge}return qe.cancel=rn,qe.flush=_n,qe}cn.exports=Y},99590:function(cn,Ne,A){var w=A(92523),B=A(8389),ne=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue="\\u0300-\\u036f",j="\\ufe20-\\ufe2f",q="\\u20d0-\\u20ff",Y=ue+j+q,K="["+Y+"]",H=RegExp(K,"g");function ae(ie){return ie=B(ie),ie&&ie.replace(ne,w).replace(H,"")}cn.exports=ae},98071:function(cn,Ne,A){var w=A(80732),B=A(55073),ne="[object Boolean]";function ue(j){return j===!0||j===!1||B(j)&&w(j)==ne}cn.exports=ue},31223:function(cn,Ne,A){var w=A(6620);function B(ne,ue){return w(ne,ue)}cn.exports=B},46207:function(cn){function Ne(A){return A==null}cn.exports=Ne},59933:function(cn,Ne,A){var w=A(80732),B=A(55073),ne="[object Number]";function ue(j){return typeof j=="number"||B(j)&&w(j)==ne}cn.exports=ue},32699:function(cn,Ne,A){cn=A.nmd(cn);var w;(function(){var B,ne="4.17.21",ue=200,j="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",q="Expected a function",Y="Invalid `variable` option passed into `_.template`",K="__lodash_hash_undefined__",H=500,ae="__lodash_placeholder__",ie=1,le=2,se=4,ge=1,ye=2,ve=1,fe=2,Fe=4,yt=8,gt=16,pt=32,lt=64,Ke=128,Ue=256,Pt=512,Gt=30,rn="...",_n=800,qe=16,Nt=1,ft=2,ln=3,tt=1/0,Pe=9007199254740991,Qe=17976931348623157e292,He=NaN,_t=4294967295,Bt=_t-1,At=_t>>>1,Je=[["ary",Ke],["bind",ve],["bindKey",fe],["curry",yt],["curryRight",gt],["flip",Pt],["partial",pt],["partialRight",lt],["rearg",Ue]],zt="[object Arguments]",mn="[object Array]",Ot="[object AsyncFunction]",Xe="[object Boolean]",ct="[object Date]",Rt="[object DOMException]",Oe="[object Error]",Ge="[object Function]",Vt="[object GeneratorFunction]",De="[object Map]",et="[object Number]",Ce="[object Null]",J="[object Object]",Le="[object Promise]",Jt="[object Proxy]",Be="[object RegExp]",In="[object Set]",cr="[object String]",bn="[object Symbol]",ir="[object Undefined]",Nr="[object WeakMap]",Ar="[object WeakSet]",Zr="[object ArrayBuffer]",wi="[object DataView]",Ln="[object Float32Array]",Nn="[object Float64Array]",$n="[object Int8Array]",wn="[object Int16Array]",nt="[object Int32Array]",ze="[object Uint8Array]",vt="[object Uint8ClampedArray]",$t="[object Uint16Array]",gn="[object Uint32Array]",at=/\b__p \+= '';/g,an=/\b(__p \+=) '' \+/g,hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pr=/&(?:amp|lt|gt|quot|#39);/g,ur=/[&<>"']/g,pi=RegExp(pr.source),ar=RegExp(ur.source),di=/<%-([\s\S]+?)%>/g,sa=/<%([\s\S]+?)%>/g,xa=/<%=([\s\S]+?)%>/g,za=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ui=/^\w*$/,Ao=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fs=/[\\^$.*+?()[\]{}|]/g,cs=RegExp(fs.source),ra=/^\s+/,ms=/\s/,xi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gn=/\{\n\/\* \[wrapped with (.+)\] \*/,_e=/,? & /,oi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ka=/[()=,{}\[\]\/\s]/,Cn=/\\(\\)?/g,Un=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tn=/\w*$/,It=/^[-+]0x[0-9a-f]+$/i,Zt=/^0b[01]+$/i,$e=/^\[object .+?Constructor\]$/,Bn=/^0o[0-7]+$/i,Yn=/^(?:0|[1-9]\d*)$/,or=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,je=/['\n\r\u2028\u2029\\]/g,st="\\ud800-\\udfff",St="\\u0300-\\u036f",En="\\ufe20-\\ufe2f",fn="\\u20d0-\\u20ff",sn=St+En+fn,Pn="\\u2700-\\u27bf",Hn="a-z\\xdf-\\xf6\\xf8-\\xff",Ut="\\xac\\xb1\\xd7\\xf7",Yt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xt="\\u2000-\\u206f",jt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fr="A-Z\\xc0-\\xd6\\xd8-\\xde",vr="\\ufe0e\\ufe0f",yr=Ut+Yt+Xt+jt,Br="['\u2019]",Gi="["+st+"]",qi="["+yr+"]",$i="["+sn+"]",Wi="\\d+",Ii="["+Pn+"]",Qa="["+Hn+"]",on="[^"+st+yr+Wi+Pn+Hn+fr+"]",dn="\\ud83c[\\udffb-\\udfff]",jn="(?:"+$i+"|"+dn+")",Ur="[^"+st+"]",Yr="(?:\\ud83c[\\udde6-\\uddff]){2}",Et="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="["+fr+"]",xn="\\u200d",Xn="(?:"+Qa+"|"+on+")",mt="(?:"+Ct+"|"+on+")",vn="(?:"+Br+"(?:d|ll|m|re|s|t|ve))?",tr="(?:"+Br+"(?:D|LL|M|RE|S|T|VE))?",Mr=jn+"?",ui="["+vr+"]?",Ri="(?:"+xn+"(?:"+[Ur,Yr,Et].join("|")+")"+ui+Mr+")*",Aa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ga="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vo=ui+Mr+Ri,To="(?:"+[Ii,Yr,Et].join("|")+")"+vo,Po="(?:"+[Ur+$i+"?",$i,Yr,Et,Gi].join("|")+")",ds=RegExp(Br,"g"),Za=RegExp($i,"g"),ks=RegExp(dn+"(?="+dn+")|"+Po+vo,"g"),oo=RegExp([Ct+"?"+Qa+"+"+vn+"(?="+[qi,Ct,"$"].join("|")+")",mt+"+"+tr+"(?="+[qi,Ct+Xn,"$"].join("|")+")",Ct+"?"+Xn+"+"+vn,Ct+"+"+tr,Ga,Aa,Wi,To].join("|"),"g"),nu=RegExp("["+xn+st+sn+vr+"]"),wu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ll=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Si=-1,Sn={};Sn[Ln]=Sn[Nn]=Sn[$n]=Sn[wn]=Sn[nt]=Sn[ze]=Sn[vt]=Sn[$t]=Sn[gn]=!0,Sn[zt]=Sn[mn]=Sn[Zr]=Sn[Xe]=Sn[wi]=Sn[ct]=Sn[Oe]=Sn[Ge]=Sn[De]=Sn[et]=Sn[J]=Sn[Be]=Sn[In]=Sn[cr]=Sn[Nr]=!1;var Qt={};Qt[zt]=Qt[mn]=Qt[Zr]=Qt[wi]=Qt[Xe]=Qt[ct]=Qt[Ln]=Qt[Nn]=Qt[$n]=Qt[wn]=Qt[nt]=Qt[De]=Qt[et]=Qt[J]=Qt[Be]=Qt[In]=Qt[cr]=Qt[bn]=Qt[ze]=Qt[vt]=Qt[$t]=Qt[gn]=!0,Qt[Oe]=Qt[Ge]=Qt[Nr]=!1;var rr={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ai={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},mi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_a=parseFloat,Xi=parseInt,ia=typeof A.g=="object"&&A.g&&A.g.Object===Object&&A.g,ua=typeof self=="object"&&self&&self.Object===Object&&self,co=ia||ua||Function("return this")(),Ro=Ne&&!Ne.nodeType&&Ne,As=Ro&&!0&&cn&&!cn.nodeType&&cn,So=As&&As.exports===Ro,ao=So&&ia.process,Wa=function(){try{var vi=As&&As.require&&As.require("util").types;return vi||ao&&ao.binding&&ao.binding("util")}catch(fa){}}(),ns=Wa&&Wa.isArrayBuffer,Do=Wa&&Wa.isDate,ls=Wa&&Wa.isMap,Bs=Wa&&Wa.isRegExp,Xo=Wa&&Wa.isSet,wt=Wa&&Wa.isTypedArray;function er(vi,fa,ta){switch(ta.length){case 0:return vi.call(fa);case 1:return vi.call(fa,ta[0]);case 2:return vi.call(fa,ta[0],ta[1]);case 3:return vi.call(fa,ta[0],ta[1],ta[2])}return vi.apply(fa,ta)}function nn(vi,fa,ta,fo){for(var Ko=-1,es=vi==null?0:vi.length;++Ko<es;){var Mo=vi[Ko];fa(fo,Mo,ta(Mo),vi)}return fo}function wr(vi,fa){for(var ta=-1,fo=vi==null?0:vi.length;++ta<fo&&fa(vi[ta],ta,vi)!==!1;);return vi}function hi(vi,fa){for(var ta=vi==null?0:vi.length;ta--&&fa(vi[ta],ta,vi)!==!1;);return vi}function gi(vi,fa){for(var ta=-1,fo=vi==null?0:vi.length;++ta<fo;)if(!fa(vi[ta],ta,vi))return!1;return!0}function xr(vi,fa){for(var ta=-1,fo=vi==null?0:vi.length,Ko=0,es=[];++ta<fo;){var Mo=vi[ta];fa(Mo,ta,vi)&&(es[Ko++]=Mo)}return es}function Ji(vi,fa){var ta=vi==null?0:vi.length;return!!ta&&Cr(vi,fa,0)>-1}function Ai(vi,fa,ta){for(var fo=-1,Ko=vi==null?0:vi.length;++fo<Ko;)if(ta(fa,vi[fo]))return!0;return!1}function Mi(vi,fa){for(var ta=-1,fo=vi==null?0:vi.length,Ko=Array(fo);++ta<fo;)Ko[ta]=fa(vi[ta],ta,vi);return Ko}function po(vi,fa){for(var ta=-1,fo=fa.length,Ko=vi.length;++ta<fo;)vi[Ko+ta]=fa[ta];return vi}function ha(vi,fa,ta,fo){var Ko=-1,es=vi==null?0:vi.length;for(fo&&es&&(ta=vi[++Ko]);++Ko<es;)ta=fa(ta,vi[Ko],Ko,vi);return ta}function Qo(vi,fa,ta,fo){var Ko=vi==null?0:vi.length;for(fo&&Ko&&(ta=vi[--Ko]);Ko--;)ta=fa(ta,vi[Ko],Ko,vi);return ta}function Cs(vi,fa){for(var ta=-1,fo=vi==null?0:vi.length;++ta<fo;)if(fa(vi[ta],ta,vi))return!0;return!1}var Oo=yo("length");function su(vi){return vi.split("")}function ru(vi){return vi.match(oi)||[]}function xt(vi,fa,ta){var fo;return ta(vi,function(Ko,es,Mo){if(fa(Ko,es,Mo))return fo=es,!1}),fo}function Zn(vi,fa,ta,fo){for(var Ko=vi.length,es=ta+(fo?1:-1);fo?es--:++es<Ko;)if(fa(vi[es],es,vi))return es;return-1}function Cr(vi,fa,ta){return fa===fa?so(vi,fa,ta):Zn(vi,wa,ta)}function Di(vi,fa,ta,fo){for(var Ko=ta-1,es=vi.length;++Ko<es;)if(fo(vi[Ko],fa))return Ko;return-1}function wa(vi){return vi!==vi}function Eo(vi,fa){var ta=vi==null?0:vi.length;return ta?iu(vi,fa)/ta:He}function yo(vi){return function(fa){return fa==null?B:fa[vi]}}function Wr(vi){return function(fa){return vi==null?B:vi[fa]}}function hs(vi,fa,ta,fo,Ko){return Ko(vi,function(es,Mo,ys){ta=fo?(fo=!1,es):fa(ta,es,Mo,ys)}),ta}function Ma(vi,fa){var ta=vi.length;for(vi.sort(fa);ta--;)vi[ta]=vi[ta].value;return vi}function iu(vi,fa){for(var ta,fo=-1,Ko=vi.length;++fo<Ko;){var es=fa(vi[fo]);es!==B&&(ta=ta===B?es:ta+es)}return ta}function au(vi,fa){for(var ta=-1,fo=Array(vi);++ta<vi;)fo[ta]=fa(ta);return fo}function as(vi,fa){return Mi(fa,function(ta){return[ta,vi[ta]]})}function $s(vi){return vi&&vi.slice(0,zo(vi)+1).replace(ra,"")}function Xs(vi){return function(fa){return vi(fa)}}function Lu(vi,fa){return Mi(fa,function(ta){return vi[ta]})}function Mu(vi,fa){return vi.has(fa)}function Nl(vi,fa){for(var ta=-1,fo=vi.length;++ta<fo&&Cr(fa,vi[ta],0)>-1;);return ta}function Ks(vi,fa){for(var ta=vi.length;ta--&&Cr(fa,vi[ta],0)>-1;);return ta}function nl(vi,fa){for(var ta=vi.length,fo=0;ta--;)vi[ta]===fa&&++fo;return fo}var hu=Wr(rr),oc=Wr(rt);function _l(vi){return"\\"+mi[vi]}function Ku(vi,fa){return vi==null?B:vi[fa]}function Cf(vi){return nu.test(vi)}function bc(vi){return wu.test(vi)}function Sr(vi){for(var fa,ta=[];!(fa=vi.next()).done;)ta.push(fa.value);return ta}function li(vi){var fa=-1,ta=Array(vi.size);return vi.forEach(function(fo,Ko){ta[++fa]=[Ko,fo]}),ta}function Ci(vi,fa){return function(ta){return vi(fa(ta))}}function ti(vi,fa){for(var ta=-1,fo=vi.length,Ko=0,es=[];++ta<fo;){var Mo=vi[ta];(Mo===fa||Mo===ae)&&(vi[ta]=ae,es[Ko++]=ta)}return es}function ea(vi){var fa=-1,ta=Array(vi.size);return vi.forEach(function(fo){ta[++fa]=fo}),ta}function mo(vi){var fa=-1,ta=Array(vi.size);return vi.forEach(function(fo){ta[++fa]=[fo,fo]}),ta}function so(vi,fa,ta){for(var fo=ta-1,Ko=vi.length;++fo<Ko;)if(vi[fo]===fa)return fo;return-1}function Io(vi,fa,ta){for(var fo=ta+1;fo--;)if(vi[fo]===fa)return fo;return fo}function Ha(vi){return Cf(vi)?Vo(vi):Oo(vi)}function wo(vi){return Cf(vi)?Fs(vi):su(vi)}function zo(vi){for(var fa=vi.length;fa--&&ms.test(vi.charAt(fa)););return fa}var rs=Wr(ai);function Vo(vi){for(var fa=ks.lastIndex=0;ks.test(vi);)++fa;return fa}function Fs(vi){return vi.match(ks)||[]}function _u(vi){return vi.match(oo)||[]}var bs=function vi(fa){fa=fa==null?co:Vs.defaults(co.Object(),fa,Vs.pick(co,Ll));var ta=fa.Array,fo=fa.Date,Ko=fa.Error,es=fa.Function,Mo=fa.Math,ys=fa.Object,Bc=fa.RegExp,ec=fa.String,ff=fa.TypeError,ld=ta.prototype,Ol=es.prototype,al=ys.prototype,Dl=fa["__core-js_shared__"],Vc=Ol.toString,Qs=al.hasOwnProperty,$u=0,Ru=function(){var C=/[^.]+$/.exec(Dl&&Dl.keys&&Dl.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Wl=al.toString,tc=Vc.call(ys),Ec=co._,cd=Bc("^"+Vc.call(Qs).replace(fs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wc=So?fa.Buffer:B,Tl=fa.Symbol,ed=fa.Uint8Array,Fc=wc?wc.allocUnsafe:B,hc=Ci(ys.getPrototypeOf,ys),Sd=ys.create,Oh=al.propertyIsEnumerable,Fd=ld.splice,$d=Tl?Tl.isConcatSpreadable:B,Xd=Tl?Tl.iterator:B,fd=Tl?Tl.toStringTag:B,Mc=function(){try{var C=zr(ys,"defineProperty");return C({},"",{}),C}catch(Z){}}(),Uc=fa.clearTimeout!==co.clearTimeout&&fa.clearTimeout,md=fo&&fo.now!==co.Date.now&&fo.now,vd=fa.setTimeout!==co.setTimeout&&fa.setTimeout,yd=Mo.ceil,df=Mo.floor,Ef=ys.getOwnPropertySymbols,Yf=wc?wc.isBuffer:B,$f=fa.isFinite,td=ld.join,Ad=Ci(ys.keys,ys),kl=Mo.max,Bl=Mo.min,_d=fo.now,Of=fa.parseInt,hf=Mo.random,Ud=ld.reverse,dd=zr(fa,"DataView"),pf=zr(fa,"Map"),nd=zr(fa,"Promise"),Kd=zr(fa,"Set"),sc=zr(fa,"WeakMap"),Gc=zr(ys,"create"),ee=sc&&new sc,Me={},Ve=El(dd),Tt=El(pf),pn=El(nd),yn=El(Kd),Vn=El(sc),Pr=Tl?Tl.prototype:B,Zi=Pr?Pr.valueOf:B,ji=Pr?Pr.toString:B;function Dt(C){if(Hd(C)&&!Yl(C)&&!(C instanceof ko)){if(C instanceof yi)return C;if(Qs.call(C,"__wrapped__"))return qs(C)}return new yi(C)}var Ta=function(){function C(){}return function(Z){if(!Ld(Z))return{};if(Sd)return Sd(Z);C.prototype=Z;var xe=new C;return C.prototype=B,xe}}();function ba(){}function yi(C,Z){this.__wrapped__=C,this.__actions__=[],this.__chain__=!!Z,this.__index__=0,this.__values__=B}Dt.templateSettings={escape:di,evaluate:sa,interpolate:xa,variable:"",imports:{_:Dt}},Dt.prototype=ba.prototype,Dt.prototype.constructor=Dt,yi.prototype=Ta(ba.prototype),yi.prototype.constructor=yi;function ko(C){this.__wrapped__=C,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_t,this.__views__=[]}function pu(){var C=new ko(this.__wrapped__);return C.__actions__=fu(this.__actions__),C.__dir__=this.__dir__,C.__filtered__=this.__filtered__,C.__iteratees__=fu(this.__iteratees__),C.__takeCount__=this.__takeCount__,C.__views__=fu(this.__views__),C}function gu(){if(this.__filtered__){var C=new ko(this);C.__dir__=-1,C.__filtered__=!0}else C=this.clone(),C.__dir__*=-1;return C}function ps(){var C=this.__wrapped__.value(),Z=this.__dir__,xe=Yl(C),Lt=Z<0,Dn=xe?C.length:0,Lr=jr(0,Dn,this.__views__),Ni=Lr.start,la=Lr.end,Fa=la-Ni,Bo=Lt?la:Ni-1,Fo=this.__iteratees__,Ca=Fo.length,Ys=0,Cu=Bl(Fa,this.__takeCount__);if(!xe||!Lt&&Dn==Fa&&Cu==Fa)return si(C,this.__actions__);var hl=[];e:for(;Fa--&&Ys<Cu;){Bo+=Z;for(var ac=-1,gl=C[Bo];++ac<Ca;){var Ic=Fo[ac],qc=Ic.iteratee,op=Ic.type,B0=qc(gl);if(op==ft)gl=B0;else if(!B0){if(op==Nt)continue e;break e}}hl[Ys++]=gl}return hl}ko.prototype=Ta(ba.prototype),ko.prototype.constructor=ko;function Zs(C){var Z=-1,xe=C==null?0:C.length;for(this.clear();++Z<xe;){var Lt=C[Z];this.set(Lt[0],Lt[1])}}function ss(){this.__data__=Gc?Gc(null):{},this.size=0}function wl(C){var Z=this.has(C)&&delete this.__data__[C];return this.size-=Z?1:0,Z}function ol(C){var Z=this.__data__;if(Gc){var xe=Z[C];return xe===K?B:xe}return Qs.call(Z,C)?Z[C]:B}function Lo(C){var Z=this.__data__;return Gc?Z[C]!==B:Qs.call(Z,C)}function Fl(C,Z){var xe=this.__data__;return this.size+=this.has(C)?0:1,xe[C]=Gc&&Z===B?K:Z,this}Zs.prototype.clear=ss,Zs.prototype.delete=wl,Zs.prototype.get=ol,Zs.prototype.has=Lo,Zs.prototype.set=Fl;function Rl(C){var Z=-1,xe=C==null?0:C.length;for(this.clear();++Z<xe;){var Lt=C[Z];this.set(Lt[0],Lt[1])}}function Kl(){this.__data__=[],this.size=0}function xu(C){var Z=this.__data__,xe=Xa(Z,C);if(xe<0)return!1;var Lt=Z.length-1;return xe==Lt?Z.pop():Fd.call(Z,xe,1),--this.size,!0}function xc(C){var Z=this.__data__,xe=Xa(Z,C);return xe<0?B:Z[xe][1]}function Vl(C){return Xa(this.__data__,C)>-1}function Js(C,Z){var xe=this.__data__,Lt=Xa(xe,C);return Lt<0?(++this.size,xe.push([C,Z])):xe[Lt][1]=Z,this}Rl.prototype.clear=Kl,Rl.prototype.delete=xu,Rl.prototype.get=xc,Rl.prototype.has=Vl,Rl.prototype.set=Js;function mu(C){var Z=-1,xe=C==null?0:C.length;for(this.clear();++Z<xe;){var Lt=C[Z];this.set(Lt[0],Lt[1])}}function Nu(){this.size=0,this.__data__={hash:new Zs,map:new(pf||Rl),string:new Zs}}function vu(C){var Z=bi(this,C).delete(C);return this.size-=Z?1:0,Z}function yc(C){return bi(this,C).get(C)}function bl(C){return bi(this,C).has(C)}function pc(C,Z){var xe=bi(this,C),Lt=xe.size;return xe.set(C,Z),this.size+=xe.size==Lt?0:1,this}mu.prototype.clear=Nu,mu.prototype.delete=vu,mu.prototype.get=yc,mu.prototype.has=bl,mu.prototype.set=pc;function Hi(C){var Z=-1,xe=C==null?0:C.length;for(this.__data__=new mu;++Z<xe;)this.add(C[Z])}function Yc(C){return this.__data__.set(C,K),this}function js(C){return this.__data__.has(C)}Hi.prototype.add=Hi.prototype.push=Yc,Hi.prototype.has=js;function Li(C){var Z=this.__data__=new Rl(C);this.size=Z.size}function $o(){this.__data__=new Rl,this.size=0}function $c(C){var Z=this.__data__,xe=Z.delete(C);return this.size=Z.size,xe}function nc(C){return this.__data__.get(C)}function rd(C){return this.__data__.has(C)}function qu(C,Z){var xe=this.__data__;if(xe instanceof Rl){var Lt=xe.__data__;if(!pf||Lt.length<ue-1)return Lt.push([C,Z]),this.size=++xe.size,this;xe=this.__data__=new mu(Lt)}return xe.set(C,Z),this.size=xe.size,this}Li.prototype.clear=$o,Li.prototype.delete=$c,Li.prototype.get=nc,Li.prototype.has=rd,Li.prototype.set=qu;function b(C,Z){var xe=Yl(C),Lt=!xe&&sg(C),Dn=!xe&&!Lt&&ug(C),Lr=!xe&&!Lt&&!Dn&&kh(C),Ni=xe||Lt||Dn||Lr,la=Ni?au(C.length,ec):[],Fa=la.length;for(var Bo in C)(Z||Qs.call(C,Bo))&&!(Ni&&(Bo=="length"||Dn&&(Bo=="offset"||Bo=="parent")||Lr&&(Bo=="buffer"||Bo=="byteLength"||Bo=="byteOffset")||qa(Bo,Fa)))&&la.push(Bo);return la}function L(C){var Z=C.length;return Z?C[Cd(0,Z-1)]:B}function we(C,Z){return Rc(fu(C),ef(Z,0,C.length))}function On(C){return Rc(fu(C))}function _i(C,Z,xe){(xe!==B&&!I0(C[Z],xe)||xe===B&&!(Z in C))&&Vu(C,Z,xe)}function Oa(C,Z,xe){var Lt=C[Z];(!(Qs.call(C,Z)&&I0(Lt,xe))||xe===B&&!(Z in C))&&Vu(C,Z,xe)}function Xa(C,Z){for(var xe=C.length;xe--;)if(I0(C[xe][0],Z))return xe;return-1}function ts(C,Z,xe,Lt){return Yo(C,function(Dn,Lr,Ni){Z(Lt,Dn,xe(Dn),Ni)}),Lt}function is(C,Z){return C&&xd(Z,Nd(Z),C)}function Co(C,Z){return C&&xd(Z,Uh(Z),C)}function Vu(C,Z,xe){Z=="__proto__"&&Mc?Mc(C,Z,{configurable:!0,enumerable:!0,value:xe,writable:!0}):C[Z]=xe}function ul(C,Z){for(var xe=-1,Lt=Z.length,Dn=ta(Lt),Lr=C==null;++xe<Lt;)Dn[xe]=Lr?B:N0(C,Z[xe]);return Dn}function ef(C,Z,xe){return C===C&&(xe!==B&&(C=C<=xe?C:xe),Z!==B&&(C=C>=Z?C:Z)),C}function Tc(C,Z,xe,Lt,Dn,Lr){var Ni,la=Z&ie,Fa=Z&le,Bo=Z&se;if(xe&&(Ni=Dn?xe(C,Lt,Dn,Lr):xe(C)),Ni!==B)return Ni;if(!Ld(C))return C;var Fo=Yl(C);if(Fo){if(Ni=na(C),!la)return fu(C,Ni)}else{var Ca=gr(C),Ys=Ca==Ge||Ca==Vt;if(ug(C))return ad(C,la);if(Ca==J||Ca==zt||Ys&&!Dn){if(Ni=Fa||Ys?{}:Ja(C),!la)return Fa?Gp(C,Co(Ni,C)):Td(C,is(Ni,C))}else{if(!Qt[Ca])return Dn?C:{};Ni=ka(C,Ca,la)}}Lr||(Lr=new Li);var Cu=Lr.get(C);if(Cu)return Cu;Lr.set(C,Ni),Sy(C)?C.forEach(function(gl){Ni.add(Tc(gl,Z,xe,gl,C,Lr))}):Y_(C)&&C.forEach(function(gl,Ic){Ni.set(Ic,Tc(gl,Z,xe,Ic,C,Lr))});var hl=Bo?Fa?qn:zn:Fa?Uh:Nd,ac=Fo?B:hl(C);return wr(ac||C,function(gl,Ic){ac&&(Ic=gl,gl=C[Ic]),Oa(Ni,Ic,Tc(gl,Z,xe,Ic,C,Lr))}),Ni}function _h(C){var Z=Nd(C);return function(xe){return bh(xe,C,Z)}}function bh(C,Z,xe){var Lt=xe.length;if(C==null)return!Lt;for(C=ys(C);Lt--;){var Dn=xe[Lt],Lr=Z[Dn],Ni=C[Dn];if(Ni===B&&!(Dn in C)||!Lr(Ni))return!1}return!0}function rh(C,Z,xe){if(typeof C!="function")throw new ff(q);return Qc(function(){C.apply(B,xe)},Z)}function ho(C,Z,xe,Lt){var Dn=-1,Lr=Ji,Ni=!0,la=C.length,Fa=[],Bo=Z.length;if(!la)return Fa;xe&&(Z=Mi(Z,Xs(xe))),Lt?(Lr=Ai,Ni=!1):Z.length>=ue&&(Lr=Mu,Ni=!1,Z=new Hi(Z));e:for(;++Dn<la;){var Fo=C[Dn],Ca=xe==null?Fo:xe(Fo);if(Fo=Lt||Fo!==0?Fo:0,Ni&&Ca===Ca){for(var Ys=Bo;Ys--;)if(Z[Ys]===Ca)continue e;Fa.push(Fo)}else Lr(Z,Ca,Lt)||Fa.push(Fo)}return Fa}var Yo=Yh(Du),cu=Yh(zc,!0);function el(C,Z){var xe=!0;return Yo(C,function(Lt,Dn,Lr){return xe=!!Z(Lt,Dn,Lr),xe}),xe}function Hs(C,Z,xe){for(var Lt=-1,Dn=C.length;++Lt<Dn;){var Lr=C[Lt],Ni=Z(Lr);if(Ni!=null&&(la===B?Ni===Ni&&!T0(Ni):xe(Ni,la)))var la=Ni,Fa=Lr}return Fa}function Xf(C,Z,xe,Lt){var Dn=C.length;for(xe=ql(xe),xe<0&&(xe=-xe>Dn?0:Dn+xe),Lt=Lt===B||Lt>Dn?Dn:ql(Lt),Lt<0&&(Lt+=Dn),Lt=xe>Lt?0:Q_(Lt);xe<Lt;)C[xe++]=Z;return C}function tf(C,Z){var xe=[];return Yo(C,function(Lt,Dn,Lr){Z(Lt,Dn,Lr)&&xe.push(Lt)}),xe}function Gl(C,Z,xe,Lt,Dn){var Lr=-1,Ni=C.length;for(xe||(xe=aa),Dn||(Dn=[]);++Lr<Ni;){var la=C[Lr];Z>0&&xe(la)?Z>1?Gl(la,Z-1,xe,Lt,Dn):po(Dn,la):Lt||(Dn[Dn.length]=la)}return Dn}var Uf=lh(),rc=lh(!0);function Du(C,Z){return C&&Uf(C,Z,Nd)}function zc(C,Z){return C&&rc(C,Z,Nd)}function zf(C,Z){return xr(Z,function(xe){return ip(C[xe])})}function Qu(C,Z){Z=lu(Z,C);for(var xe=0,Lt=Z.length;C!=null&&xe<Lt;)C=C[of(Z[xe++])];return xe&&xe==Lt?C:B}function xp(C,Z,xe){var Lt=Z(C);return Yl(C)?Lt:po(Lt,xe(C))}function Zf(C){return C==null?C===B?ir:Ce:fd&&fd in ys(C)?Tr(C):pd(C)}function Gh(C,Z){return C>Z}function ih(C,Z){return C!=null&&Qs.call(C,Z)}function Tp(C,Z){return C!=null&&Z in ys(C)}function Z0(C,Z,xe){return C>=Bl(Z,xe)&&C<kl(Z,xe)}function wh(C,Z,xe){for(var Lt=xe?Ai:Ji,Dn=C[0].length,Lr=C.length,Ni=Lr,la=ta(Lr),Fa=1/0,Bo=[];Ni--;){var Fo=C[Ni];Ni&&Z&&(Fo=Mi(Fo,Xs(Z))),Fa=Bl(Fo.length,Fa),la[Ni]=!xe&&(Z||Dn>=120&&Fo.length>=120)?new Hi(Ni&&Fo):B}Fo=C[0];var Ca=-1,Ys=la[0];e:for(;++Ca<Dn&&Bo.length<Fa;){var Cu=Fo[Ca],hl=Z?Z(Cu):Cu;if(Cu=xe||Cu!==0?Cu:0,!(Ys?Mu(Ys,hl):Lt(Bo,hl,xe))){for(Ni=Lr;--Ni;){var ac=la[Ni];if(!(ac?Mu(ac,hl):Lt(C[Ni],hl,xe)))continue e}Ys&&Ys.push(hl),Bo.push(Cu)}}return Bo}function Sc(C,Z,xe,Lt){return Du(C,function(Dn,Lr,Ni){Z(Lt,xe(Dn),Lr,Ni)}),Lt}function xf(C,Z,xe){Z=lu(Z,C),C=ku(C,Z);var Lt=C==null?C:C[of(Ua(Z))];return Lt==null?B:er(Lt,C,xe)}function m0(C){return Hd(C)&&Zf(C)==zt}function ah(C){return Hd(C)&&Zf(C)==Zr}function gf(C){return Hd(C)&&Zf(C)==ct}function Xc(C,Z,xe,Lt,Dn){return C===Z?!0:C==null||Z==null||!Hd(C)&&!Hd(Z)?C!==C&&Z!==Z:P0(C,Z,xe,Lt,Xc,Dn)}function P0(C,Z,xe,Lt,Dn,Lr){var Ni=Yl(C),la=Yl(Z),Fa=Ni?mn:gr(C),Bo=la?mn:gr(Z);Fa=Fa==zt?J:Fa,Bo=Bo==zt?J:Bo;var Fo=Fa==J,Ca=Bo==J,Ys=Fa==Bo;if(Ys&&ug(C)){if(!ug(Z))return!1;Ni=!0,Fo=!1}if(Ys&&!Fo)return Lr||(Lr=new Li),Ni||kh(C)?qt(C,Z,xe,Lt,Dn,Lr):Te(C,Z,Fa,xe,Lt,Dn,Lr);if(!(xe&ge)){var Cu=Fo&&Qs.call(C,"__wrapped__"),hl=Ca&&Qs.call(Z,"__wrapped__");if(Cu||hl){var ac=Cu?C.value():C,gl=hl?Z.value():Z;return Lr||(Lr=new Li),Dn(ac,gl,xe,Lt,Lr)}}return Ys?(Lr||(Lr=new Li),ot(C,Z,xe,Lt,Dn,Lr)):!1}function Rd(C){return Hd(C)&&gr(C)==De}function oh(C,Z,xe,Lt){var Dn=xe.length,Lr=Dn,Ni=!Lt;if(C==null)return!Lr;for(C=ys(C);Dn--;){var la=xe[Dn];if(Ni&&la[2]?la[1]!==C[la[0]]:!(la[0]in C))return!1}for(;++Dn<Lr;){la=xe[Dn];var Fa=la[0],Bo=C[Fa],Fo=la[1];if(Ni&&la[2]){if(Bo===B&&!(Fa in C))return!1}else{var Ca=new Li;if(Lt)var Ys=Lt(Bo,Fo,Fa,C,Z,Ca);if(!(Ys===B?Xc(Fo,Bo,ge|ye,Lt,Ca):Ys))return!1}}return!0}function nf(C){if(!Ld(C)||me(C))return!1;var Z=ip(C)?cd:$e;return Z.test(El(C))}function zd(C){return Hd(C)&&Zf(C)==Be}function Sl(C){return Hd(C)&&gr(C)==In}function Zd(C){return Hd(C)&&m1(C.length)&&!!Sn[Zf(C)]}function hd(C){return typeof C=="function"?C:C==null?zh:typeof C=="object"?Yl(C)?i0(C[0],C[1]):Sp(C):Fy(C)}function Mh(C){if(!kt(C))return Ad(C);var Z=[];for(var xe in ys(C))Qs.call(C,xe)&&xe!="constructor"&&Z.push(xe);return Z}function Pd(C){if(!Ld(C))return dl(C);var Z=kt(C),xe=[];for(var Lt in C)Lt=="constructor"&&(Z||!Qs.call(C,Lt))||xe.push(Lt);return xe}function bd(C,Z){return C<Z}function Kc(C,Z){var xe=-1,Lt=x0(C)?ta(C.length):[];return Yo(C,function(Dn,Lr,Ni){Lt[++xe]=Z(Dn,Lr,Ni)}),Lt}function Sp(C){var Z=Pi(C);return Z.length==1&&Z[0][2]?ll(Z[0][0],Z[0][1]):function(xe){return xe===C||oh(xe,C,Z)}}function i0(C,Z){return Ts(C)&&Ls(Z)?ll(of(C),Z):function(xe){var Lt=N0(xe,C);return Lt===B&&Lt===Z?Im(xe,C):Xc(Z,Lt,ge|ye)}}function sh(C,Z,xe,Lt,Dn){C!==Z&&Uf(Z,function(Lr,Ni){if(Dn||(Dn=new Li),Ld(Lr))Rh(C,Z,Ni,xe,sh,Lt,Dn);else{var la=Lt?Lt(sl(C,Ni),Lr,Ni+"",C,Z,Dn):B;la===B&&(la=Lr),_i(C,Ni,la)}},Uh)}function Rh(C,Z,xe,Lt,Dn,Lr,Ni){var la=sl(C,xe),Fa=sl(Z,xe),Bo=Ni.get(Fa);if(Bo){_i(C,xe,Bo);return}var Fo=Lr?Lr(la,Fa,xe+"",C,Z,Ni):B,Ca=Fo===B;if(Ca){var Ys=Yl(Fa),Cu=!Ys&&ug(Fa),hl=!Ys&&!Cu&&kh(Fa);Fo=Fa,Ys||Cu||hl?Yl(la)?Fo=la:Id(la)?Fo=fu(la):Cu?(Ca=!1,Fo=ad(Fa,!0)):hl?(Ca=!1,Fo=tu(Fa,!0)):Fo=[]:Qg(Fa)||sg(Fa)?(Fo=la,sg(la)?Fo=q_(la):(!Ld(la)||ip(la))&&(Fo=Ja(Fa))):Ca=!1}Ca&&(Ni.set(Fa,Fo),Dn(Fo,Fa,Lt,Lr,Ni),Ni.delete(Fa)),_i(C,xe,Fo)}function v0(C,Z){var xe=C.length;if(xe)return Z+=Z<0?xe:0,qa(Z,xe)?C[Z]:B}function Ph(C,Z,xe){Z.length?Z=Mi(Z,function(Lr){return Yl(Lr)?function(Ni){return Qu(Ni,Lr.length===1?Lr[0]:Lr)}:Lr}):Z=[zh];var Lt=-1;Z=Mi(Z,Xs(Or()));var Dn=Kc(C,function(Lr,Ni,la){var Fa=Mi(Z,function(Bo){return Bo(Lr)});return{criteria:Fa,index:++Lt,value:Lr}});return Ma(Dn,function(Lr,Ni){return Tu(Lr,Ni,xe)})}function Ih(C,Z){return Ap(C,Z,function(xe,Lt){return Im(C,Lt)})}function Ap(C,Z,xe){for(var Lt=-1,Dn=Z.length,Lr={};++Lt<Dn;){var Ni=Z[Lt],la=Qu(C,Ni);xe(la,Ni)&&Nh(Lr,lu(Ni,C),la)}return Lr}function j0(C){return function(Z){return Qu(Z,C)}}function a0(C,Z,xe,Lt){var Dn=Lt?Di:Cr,Lr=-1,Ni=Z.length,la=C;for(C===Z&&(Z=fu(Z)),xe&&(la=Mi(C,Xs(xe)));++Lr<Ni;)for(var Fa=0,Bo=Z[Lr],Fo=xe?xe(Bo):Bo;(Fa=Dn(la,Fo,Fa,Lt))>-1;)la!==C&&Fd.call(la,Fa,1),Fd.call(C,Fa,1);return C}function y0(C,Z){for(var xe=C?Z.length:0,Lt=xe-1;xe--;){var Dn=Z[xe];if(xe==Lt||Dn!==Lr){var Lr=Dn;qa(Dn)?Fd.call(C,Dn,1):ht(C,Dn)}}return C}function Cd(C,Z){return C+df(hf()*(Z-C+1))}function Lh(C,Z,xe,Lt){for(var Dn=-1,Lr=kl(yd((Z-C)/(xe||1)),0),Ni=ta(Lr);Lr--;)Ni[Lt?Lr:++Dn]=C,C+=xe;return Ni}function Cp(C,Z){var xe="";if(!C||Z<1||Z>Pe)return xe;do Z%2&&(xe+=C),Z=df(Z/2),Z&&(C+=C);while(Z);return xe}function Zu(C,Z){return Pf(gd(C,Z,zh),C+"")}function ep(C){return L(tm(C))}function _0(C,Z){var xe=tm(C);return Rc(xe,ef(Z,0,xe.length))}function Nh(C,Z,xe,Lt){if(!Ld(C))return C;Z=lu(Z,C);for(var Dn=-1,Lr=Z.length,Ni=Lr-1,la=C;la!=null&&++Dn<Lr;){var Fa=of(Z[Dn]),Bo=xe;if(Fa==="__proto__"||Fa==="constructor"||Fa==="prototype")return C;if(Dn!=Ni){var Fo=la[Fa];Bo=Lt?Lt(Fo,Fa,la):B,Bo===B&&(Bo=Ld(Fo)?Fo:qa(Z[Dn+1])?[]:{})}Oa(la,Fa,Bo),la=la[Fa]}return C}var Ho=ee?function(C,Z){return ee.set(C,Z),C}:zh,Op=Mc?function(C,Z){return Mc(C,"toString",{configurable:!0,enumerable:!1,value:w1(Z),writable:!0})}:zh;function o0(C){return Rc(tm(C))}function wf(C,Z,xe){var Lt=-1,Dn=C.length;Z<0&&(Z=-Z>Dn?0:Dn+Z),xe=xe>Dn?Dn:xe,xe<0&&(xe+=Dn),Dn=Z>xe?0:xe-Z>>>0,Z>>>=0;for(var Lr=ta(Dn);++Lt<Dn;)Lr[Lt]=C[Lt+Z];return Lr}function Od(C,Z){var xe;return Yo(C,function(Lt,Dn,Lr){return xe=Z(Lt,Dn,Lr),!xe}),!!xe}function Ed(C,Z,xe){var Lt=0,Dn=C==null?Lt:C.length;if(typeof Z=="number"&&Z===Z&&Dn<=At){for(;Lt<Dn;){var Lr=Lt+Dn>>>1,Ni=C[Lr];Ni!==null&&!T0(Ni)&&(xe?Ni<=Z:Ni<Z)?Lt=Lr+1:Dn=Lr}return Dn}return id(C,Z,zh,xe)}function id(C,Z,xe,Lt){var Dn=0,Lr=C==null?0:C.length;if(Lr===0)return 0;Z=xe(Z);for(var Ni=Z!==Z,la=Z===null,Fa=T0(Z),Bo=Z===B;Dn<Lr;){var Fo=df((Dn+Lr)/2),Ca=xe(C[Fo]),Ys=Ca!==B,Cu=Ca===null,hl=Ca===Ca,ac=T0(Ca);if(Ni)var gl=Lt||hl;else Bo?gl=hl&&(Lt||Ys):la?gl=hl&&Ys&&(Lt||!Cu):Fa?gl=hl&&Ys&&!Cu&&(Lt||!ac):Cu||ac?gl=!1:gl=Lt?Ca<=Z:Ca<Z;gl?Dn=Fo+1:Lr=Fo}return Bl(Lr,Bt)}function uh(C,Z){for(var xe=-1,Lt=C.length,Dn=0,Lr=[];++xe<Lt;){var Ni=C[xe],la=Z?Z(Ni):Ni;if(!xe||!I0(la,Fa)){var Fa=la;Lr[Dn++]=Ni===0?0:Ni}}return Lr}function N(C){return typeof C=="number"?C:T0(C)?He:+C}function F(C){if(typeof C=="string")return C;if(Yl(C))return Mi(C,F)+"";if(T0(C))return ji?ji.call(C):"";var Z=C+"";return Z=="0"&&1/C==-tt?"-0":Z}function ce(C,Z,xe){var Lt=-1,Dn=Ji,Lr=C.length,Ni=!0,la=[],Fa=la;if(xe)Ni=!1,Dn=Ai;else if(Lr>=ue){var Bo=Z?null:x(C);if(Bo)return ea(Bo);Ni=!1,Dn=Mu,Fa=new Hi}else Fa=Z?[]:la;e:for(;++Lt<Lr;){var Fo=C[Lt],Ca=Z?Z(Fo):Fo;if(Fo=xe||Fo!==0?Fo:0,Ni&&Ca===Ca){for(var Ys=Fa.length;Ys--;)if(Fa[Ys]===Ca)continue e;Z&&Fa.push(Ca),la.push(Fo)}else Dn(Fa,Ca,xe)||(Fa!==la&&Fa.push(Ca),la.push(Fo))}return la}function ht(C,Z){return Z=lu(Z,C),C=ku(C,Z),C==null||delete C[of(Ua(Z))]}function Ft(C,Z,xe,Lt){return Nh(C,Z,xe(Qu(C,Z)),Lt)}function kn(C,Z,xe,Lt){for(var Dn=C.length,Lr=Lt?Dn:-1;(Lt?Lr--:++Lr<Dn)&&Z(C[Lr],Lr,C););return xe?wf(C,Lt?0:Lr,Lt?Lr+1:Dn):wf(C,Lt?Lr+1:0,Lt?Dn:Lr)}function si(C,Z){var xe=C;return xe instanceof ko&&(xe=xe.value()),ha(Z,function(Lt,Dn){return Dn.func.apply(Dn.thisArg,po([Lt],Dn.args))},xe)}function ki(C,Z,xe){var Lt=C.length;if(Lt<2)return Lt?ce(C[0]):[];for(var Dn=-1,Lr=ta(Lt);++Dn<Lt;)for(var Ni=C[Dn],la=-1;++la<Lt;)la!=Dn&&(Lr[Dn]=ho(Lr[Dn]||Ni,C[la],Z,xe));return ce(Gl(Lr,1),Z,xe)}function ro(C,Z,xe){for(var Lt=-1,Dn=C.length,Lr=Z.length,Ni={};++Lt<Dn;){var la=Lt<Lr?Z[Lt]:B;xe(Ni,C[Lt],la)}return Ni}function bo(C){return Id(C)?C:[]}function Gs(C){return typeof C=="function"?C:zh}function lu(C,Z){return Yl(C)?C:Ts(C,Z)?[C]:Bu(sf(C))}var Us=Zu;function pl(C,Z,xe){var Lt=C.length;return xe=xe===B?Lt:xe,!Z&&xe>=Lt?C:wf(C,Z,xe)}var Ul=Uc||function(C){return co.clearTimeout(C)};function ad(C,Z){if(Z)return C.slice();var xe=C.length,Lt=Fc?Fc(xe):new C.constructor(xe);return C.copy(Lt),Lt}function ja(C){var Z=new C.constructor(C.byteLength);return new ed(Z).set(new ed(C)),Z}function Sa(C,Z){var xe=Z?ja(C.buffer):C.buffer;return new C.constructor(xe,C.byteOffset,C.byteLength)}function uo(C){var Z=new C.constructor(C.source,tn.exec(C));return Z.lastIndex=C.lastIndex,Z}function Is(C){return Zi?ys(Zi.call(C)):{}}function tu(C,Z){var xe=Z?ja(C.buffer):C.buffer;return new C.constructor(xe,C.byteOffset,C.length)}function uc(C,Z){if(C!==Z){var xe=C!==B,Lt=C===null,Dn=C===C,Lr=T0(C),Ni=Z!==B,la=Z===null,Fa=Z===Z,Bo=T0(Z);if(!la&&!Bo&&!Lr&&C>Z||Lr&&Ni&&Fa&&!la&&!Bo||Lt&&Ni&&Fa||!xe&&Fa||!Dn)return 1;if(!Lt&&!Lr&&!Bo&&C<Z||Bo&&xe&&Dn&&!Lt&&!Lr||la&&xe&&Dn||!Ni&&Dn||!Fa)return-1}return 0}function Tu(C,Z,xe){for(var Lt=-1,Dn=C.criteria,Lr=Z.criteria,Ni=Dn.length,la=xe.length;++Lt<Ni;){var Fa=uc(Dn[Lt],Lr[Lt]);if(Fa){if(Lt>=la)return Fa;var Bo=xe[Lt];return Fa*(Bo=="desc"?-1:1)}}return C.index-Z.index}function zl(C,Z,xe,Lt){for(var Dn=-1,Lr=C.length,Ni=xe.length,la=-1,Fa=Z.length,Bo=kl(Lr-Ni,0),Fo=ta(Fa+Bo),Ca=!Lt;++la<Fa;)Fo[la]=Z[la];for(;++Dn<Ni;)(Ca||Dn<Lr)&&(Fo[xe[Dn]]=C[Dn]);for(;Bo--;)Fo[la++]=C[Dn++];return Fo}function rf(C,Z,xe,Lt){for(var Dn=-1,Lr=C.length,Ni=-1,la=xe.length,Fa=-1,Bo=Z.length,Fo=kl(Lr-la,0),Ca=ta(Fo+Bo),Ys=!Lt;++Dn<Fo;)Ca[Dn]=C[Dn];for(var Cu=Dn;++Fa<Bo;)Ca[Cu+Fa]=Z[Fa];for(;++Ni<la;)(Ys||Dn<Lr)&&(Ca[Cu+xe[Ni]]=C[Dn++]);return Ca}function fu(C,Z){var xe=-1,Lt=C.length;for(Z||(Z=ta(Lt));++xe<Lt;)Z[xe]=C[xe];return Z}function xd(C,Z,xe,Lt){var Dn=!xe;xe||(xe={});for(var Lr=-1,Ni=Z.length;++Lr<Ni;){var la=Z[Lr],Fa=Lt?Lt(xe[la],C[la],la,xe,C):B;Fa===B&&(Fa=C[la]),Dn?Vu(xe,la,Fa):Oa(xe,la,Fa)}return xe}function Td(C,Z){return xd(C,Fr(C),Z)}function Gp(C,Z){return xd(C,ri(C),Z)}function Dh(C,Z){return function(xe,Lt){var Dn=Yl(xe)?nn:ts,Lr=Z?Z():{};return Dn(xe,C,Or(Lt,2),Lr)}}function Kf(C){return Zu(function(Z,xe){var Lt=-1,Dn=xe.length,Lr=Dn>1?xe[Dn-1]:B,Ni=Dn>2?xe[2]:B;for(Lr=C.length>3&&typeof Lr=="function"?(Dn--,Lr):B,Ni&&_o(xe[0],xe[1],Ni)&&(Lr=Dn<3?B:Lr,Dn=1),Z=ys(Z);++Lt<Dn;){var la=xe[Lt];la&&C(Z,la,Lt,Lr)}return Z})}function Yh(C,Z){return function(xe,Lt){if(xe==null)return xe;if(!x0(xe))return C(xe,Lt);for(var Dn=xe.length,Lr=Z?Dn:-1,Ni=ys(xe);(Z?Lr--:++Lr<Dn)&&Lt(Ni[Lr],Lr,Ni)!==!1;);return xe}}function lh(C){return function(Z,xe,Lt){for(var Dn=-1,Lr=ys(Z),Ni=Lt(Z),la=Ni.length;la--;){var Fa=Ni[C?la:++Dn];if(xe(Lr[Fa],Fa,Lr)===!1)break}return Z}}function wp(C,Z,xe){var Lt=Z&ve,Dn=kr(C);function Lr(){var Ni=this&&this!==co&&this instanceof Lr?Dn:C;return Ni.apply(Lt?xe:this,arguments)}return Lr}function un(C){return function(Z){Z=sf(Z);var xe=Cf(Z)?wo(Z):B,Lt=xe?xe[0]:Z.charAt(0),Dn=xe?pl(xe,1).join(""):Z.slice(1);return Lt[C]()+Dn}}function Mn(C){return function(Z){return ha(Pc(Dm(Z).replace(ds,"")),C,"")}}function kr(C){return function(){var Z=arguments;switch(Z.length){case 0:return new C;case 1:return new C(Z[0]);case 2:return new C(Z[0],Z[1]);case 3:return new C(Z[0],Z[1],Z[2]);case 4:return new C(Z[0],Z[1],Z[2],Z[3]);case 5:return new C(Z[0],Z[1],Z[2],Z[3],Z[4]);case 6:return new C(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]);case 7:return new C(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6])}var xe=Ta(C.prototype),Lt=C.apply(xe,Z);return Ld(Lt)?Lt:xe}}function Yi(C,Z,xe){var Lt=kr(C);function Dn(){for(var Lr=arguments.length,Ni=ta(Lr),la=Lr,Fa=Qr(Dn);la--;)Ni[la]=arguments[la];var Bo=Lr<3&&Ni[0]!==Fa&&Ni[Lr-1]!==Fa?[]:ti(Ni,Fa);if(Lr-=Bo.length,Lr<xe)return X(C,Z,yu,Dn.placeholder,B,Ni,Bo,B,B,xe-Lr);var Fo=this&&this!==co&&this instanceof Dn?Lt:C;return er(Fo,this,Ni)}return Dn}function Zo(C){return function(Z,xe,Lt){var Dn=ys(Z);if(!x0(Z)){var Lr=Or(xe,3);Z=Nd(Z),xe=function(la){return Lr(Dn[la],la,Dn)}}var Ni=C(Z,xe,Lt);return Ni>-1?Dn[Lr?Z[Ni]:Ni]:B}}function os(C){return Wt(function(Z){var xe=Z.length,Lt=xe,Dn=yi.prototype.thru;for(C&&Z.reverse();Lt--;){var Lr=Z[Lt];if(typeof Lr!="function")throw new ff(q);if(Dn&&!Ni&&Qn(Lr)=="wrapper")var Ni=new yi([],!0)}for(Lt=Ni?Lt:xe;++Lt<xe;){Lr=Z[Lt];var la=Qn(Lr),Fa=la=="wrapper"?sr(Lr):B;Fa&&Ir(Fa[0])&&Fa[1]==(Ke|yt|pt|Ue)&&!Fa[4].length&&Fa[9]==1?Ni=Ni[Qn(Fa[0])].apply(Ni,Fa[3]):Ni=Lr.length==1&&Ir(Lr)?Ni[la]():Ni.thru(Lr)}return function(){var Bo=arguments,Fo=Bo[0];if(Ni&&Bo.length==1&&Yl(Fo))return Ni.plant(Fo).value();for(var Ca=0,Ys=xe?Z[Ca].apply(this,Bo):Fo;++Ca<xe;)Ys=Z[Ca].call(this,Ys);return Ys}})}function yu(C,Z,xe,Lt,Dn,Lr,Ni,la,Fa,Bo){var Fo=Z&Ke,Ca=Z&ve,Ys=Z&fe,Cu=Z&(yt|gt),hl=Z&Pt,ac=Ys?B:kr(C);function gl(){for(var Ic=arguments.length,qc=ta(Ic),op=Ic;op--;)qc[op]=arguments[op];if(Cu)var B0=Qr(gl),sp=nl(qc,B0);if(Lt&&(qc=zl(qc,Lt,Dn,Cu)),Lr&&(qc=rf(qc,Lr,Ni,Cu)),Ic-=sp,Cu&&Ic<Bo){var Wd=ti(qc,B0);return X(C,Z,yu,gl.placeholder,xe,qc,Wd,la,Fa,Bo-Ic)}var Kp=Ca?xe:this,Ig=Ys?Kp[C]:C;return Ic=qc.length,la?qc=Rf(qc,la):hl&&Ic>1&&qc.reverse(),Fo&&Fa<Ic&&(qc.length=Fa),this&&this!==co&&this instanceof gl&&(Ig=ac||kr(Ig)),Ig.apply(Kp,qc)}return gl}function Pu(C,Z){return function(xe,Lt){return Sc(xe,C,Z(Lt),{})}}function tl(C,Z){return function(xe,Lt){var Dn;if(xe===B&&Lt===B)return Z;if(xe!==B&&(Dn=xe),Lt!==B){if(Dn===B)return Lt;typeof xe=="string"||typeof Lt=="string"?(xe=F(xe),Lt=F(Lt)):(xe=N(xe),Lt=N(Lt)),Dn=C(xe,Lt)}return Dn}}function rl(C){return Wt(function(Z){return Z=Mi(Z,Xs(Or())),Zu(function(xe){var Lt=this;return C(Z,function(Dn){return er(Dn,Lt,xe)})})})}function Mf(C,Z){Z=Z===B?" ":F(Z);var xe=Z.length;if(xe<2)return xe?Cp(Z,C):Z;var Lt=Cp(Z,yd(C/Ha(Z)));return Cf(Z)?pl(wo(Lt),0,C).join(""):Lt.slice(0,C)}function lc(C,Z,xe,Lt){var Dn=Z&ve,Lr=kr(C);function Ni(){for(var la=-1,Fa=arguments.length,Bo=-1,Fo=Lt.length,Ca=ta(Fo+Fa),Ys=this&&this!==co&&this instanceof Ni?Lr:C;++Bo<Fo;)Ca[Bo]=Lt[Bo];for(;Fa--;)Ca[Bo++]=arguments[++la];return er(Ys,Dn?xe:this,Ca)}return Ni}function ic(C){return function(Z,xe,Lt){return Lt&&typeof Lt!="number"&&_o(Z,xe,Lt)&&(xe=Lt=B),Z=Bh(Z),xe===B?(xe=Z,Z=0):xe=Bh(xe),Lt=Lt===B?Z<xe?1:-1:Bh(Lt),Lh(Z,xe,Lt,C)}}function W(C){return function(Z,xe){return typeof Z=="string"&&typeof xe=="string"||(Z=ap(Z),xe=ap(xe)),C(Z,xe)}}function X(C,Z,xe,Lt,Dn,Lr,Ni,la,Fa,Bo){var Fo=Z&yt,Ca=Fo?Ni:B,Ys=Fo?B:Ni,Cu=Fo?Lr:B,hl=Fo?B:Lr;Z|=Fo?pt:lt,Z&=~(Fo?lt:pt),Z&Fe||(Z&=~(ve|fe));var ac=[C,Z,Dn,Cu,Ca,hl,Ys,la,Fa,Bo],gl=xe.apply(B,ac);return Ir(C)&&af(gl,ac),gl.placeholder=Lt,If(gl,C,Z)}function E(C){var Z=Mo[C];return function(xe,Lt){if(xe=ap(xe),Lt=Lt==null?0:Bl(ql(Lt),292),Lt&&$f(xe)){var Dn=(sf(xe)+"e").split("e"),Lr=Z(Dn[0]+"e"+(+Dn[1]+Lt));return Dn=(sf(Lr)+"e").split("e"),+(Dn[0]+"e"+(+Dn[1]-Lt))}return Z(xe)}}var x=Kd&&1/ea(new Kd([,-0]))[1]==tt?function(C){return new Kd(C)}:Fv;function V(C){return function(Z){var xe=gr(Z);return xe==De?li(Z):xe==In?mo(Z):as(Z,C(Z))}}function pe(C,Z,xe,Lt,Dn,Lr,Ni,la){var Fa=Z&fe;if(!Fa&&typeof C!="function")throw new ff(q);var Bo=Lt?Lt.length:0;if(Bo||(Z&=~(pt|lt),Lt=Dn=B),Ni=Ni===B?Ni:kl(ql(Ni),0),la=la===B?la:ql(la),Bo-=Dn?Dn.length:0,Z&lt){var Fo=Lt,Ca=Dn;Lt=Dn=B}var Ys=Fa?B:sr(C),Cu=[C,Z,xe,Lt,Dn,Fo,Ca,Lr,Ni,la];if(Ys&&cl(Cu,Ys),C=Cu[0],Z=Cu[1],xe=Cu[2],Lt=Cu[3],Dn=Cu[4],la=Cu[9]=Cu[9]===B?Fa?0:C.length:kl(Cu[9]-Bo,0),!la&&Z&(yt|gt)&&(Z&=~(yt|gt)),!Z||Z==ve)var hl=wp(C,Z,xe);else Z==yt||Z==gt?hl=Yi(C,Z,la):(Z==pt||Z==(ve|pt))&&!Dn.length?hl=lc(C,Z,xe,Lt):hl=yu.apply(B,Cu);var ac=Ys?Ho:af;return If(ac(hl,Cu),C,Z)}function he(C,Z,xe,Lt){return C===B||I0(C,al[xe])&&!Qs.call(Lt,xe)?Z:C}function ke(C,Z,xe,Lt,Dn,Lr){return Ld(C)&&Ld(Z)&&(Lr.set(Z,C),sh(C,Z,B,ke,Lr),Lr.delete(Z)),C}function bt(C){return Qg(C)?B:C}function qt(C,Z,xe,Lt,Dn,Lr){var Ni=xe&ge,la=C.length,Fa=Z.length;if(la!=Fa&&!(Ni&&Fa>la))return!1;var Bo=Lr.get(C),Fo=Lr.get(Z);if(Bo&&Fo)return Bo==Z&&Fo==C;var Ca=-1,Ys=!0,Cu=xe&ye?new Hi:B;for(Lr.set(C,Z),Lr.set(Z,C);++Ca<la;){var hl=C[Ca],ac=Z[Ca];if(Lt)var gl=Ni?Lt(ac,hl,Ca,Z,C,Lr):Lt(hl,ac,Ca,C,Z,Lr);if(gl!==B){if(gl)continue;Ys=!1;break}if(Cu){if(!Cs(Z,function(Ic,qc){if(!Mu(Cu,qc)&&(hl===Ic||Dn(hl,Ic,xe,Lt,Lr)))return Cu.push(qc)})){Ys=!1;break}}else if(!(hl===ac||Dn(hl,ac,xe,Lt,Lr))){Ys=!1;break}}return Lr.delete(C),Lr.delete(Z),Ys}function Te(C,Z,xe,Lt,Dn,Lr,Ni){switch(xe){case wi:if(C.byteLength!=Z.byteLength||C.byteOffset!=Z.byteOffset)return!1;C=C.buffer,Z=Z.buffer;case Zr:return!(C.byteLength!=Z.byteLength||!Lr(new ed(C),new ed(Z)));case Xe:case ct:case et:return I0(+C,+Z);case Oe:return C.name==Z.name&&C.message==Z.message;case Be:case cr:return C==Z+"";case De:var la=li;case In:var Fa=Lt&ge;if(la||(la=ea),C.size!=Z.size&&!Fa)return!1;var Bo=Ni.get(C);if(Bo)return Bo==Z;Lt|=ye,Ni.set(C,Z);var Fo=qt(la(C),la(Z),Lt,Dn,Lr,Ni);return Ni.delete(C),Fo;case bn:if(Zi)return Zi.call(C)==Zi.call(Z)}return!1}function ot(C,Z,xe,Lt,Dn,Lr){var Ni=xe&ge,la=zn(C),Fa=la.length,Bo=zn(Z),Fo=Bo.length;if(Fa!=Fo&&!Ni)return!1;for(var Ca=Fa;Ca--;){var Ys=la[Ca];if(!(Ni?Ys in Z:Qs.call(Z,Ys)))return!1}var Cu=Lr.get(C),hl=Lr.get(Z);if(Cu&&hl)return Cu==Z&&hl==C;var ac=!0;Lr.set(C,Z),Lr.set(Z,C);for(var gl=Ni;++Ca<Fa;){Ys=la[Ca];var Ic=C[Ys],qc=Z[Ys];if(Lt)var op=Ni?Lt(qc,Ic,Ys,Z,C,Lr):Lt(Ic,qc,Ys,C,Z,Lr);if(!(op===B?Ic===qc||Dn(Ic,qc,xe,Lt,Lr):op)){ac=!1;break}gl||(gl=Ys=="constructor")}if(ac&&!gl){var B0=C.constructor,sp=Z.constructor;B0!=sp&&"constructor"in C&&"constructor"in Z&&!(typeof B0=="function"&&B0 instanceof B0&&typeof sp=="function"&&sp instanceof sp)&&(ac=!1)}return Lr.delete(C),Lr.delete(Z),ac}function Wt(C){return Pf(gd(C,B,Na),C+"")}function zn(C){return xp(C,Nd,Fr)}function qn(C){return xp(C,Uh,ri)}var sr=ee?function(C){return ee.get(C)}:Fv;function Qn(C){for(var Z=C.name+"",xe=Me[Z],Lt=Qs.call(Me,Z)?xe.length:0;Lt--;){var Dn=xe[Lt],Lr=Dn.func;if(Lr==null||Lr==C)return Dn.name}return Z}function Qr(C){var Z=Qs.call(Dt,"placeholder")?Dt:C;return Z.placeholder}function Or(){var C=Dt.iteratee||zm;return C=C===zm?hd:C,arguments.length?C(arguments[0],arguments[1]):C}function bi(C,Z){var xe=C.__data__;return to(Z)?xe[typeof Z=="string"?"string":"hash"]:xe.map}function Pi(C){for(var Z=Nd(C),xe=Z.length;xe--;){var Lt=Z[xe],Dn=C[Lt];Z[xe]=[Lt,Dn,Ls(Dn)]}return Z}function zr(C,Z){var xe=Ku(C,Z);return nf(xe)?xe:B}function Tr(C){var Z=Qs.call(C,fd),xe=C[fd];try{C[fd]=B;var Lt=!0}catch(Lr){}var Dn=Wl.call(C);return Lt&&(Z?C[fd]=xe:delete C[fd]),Dn}var Fr=Ef?function(C){return C==null?[]:(C=ys(C),xr(Ef(C),function(Z){return Oh.call(C,Z)}))}:Pg,ri=Ef?function(C){for(var Z=[];C;)po(Z,Fr(C)),C=hc(C);return Z}:Pg,gr=Zf;(dd&&gr(new dd(new ArrayBuffer(1)))!=wi||pf&&gr(new pf)!=De||nd&&gr(nd.resolve())!=Le||Kd&&gr(new Kd)!=In||sc&&gr(new sc)!=Nr)&&(gr=function(C){var Z=Zf(C),xe=Z==J?C.constructor:B,Lt=xe?El(xe):"";if(Lt)switch(Lt){case Ve:return wi;case Tt:return De;case pn:return Le;case yn:return In;case Vn:return Nr}return Z});function jr(C,Z,xe){for(var Lt=-1,Dn=xe.length;++Lt<Dn;){var Lr=xe[Lt],Ni=Lr.size;switch(Lr.type){case"drop":C+=Ni;break;case"dropRight":Z-=Ni;break;case"take":Z=Bl(Z,C+Ni);break;case"takeRight":C=kl(C,Z-Ni);break}}return{start:C,end:Z}}function Vi(C){var Z=C.match(Gn);return Z?Z[1].split(_e):[]}function da(C,Z,xe){Z=lu(Z,C);for(var Lt=-1,Dn=Z.length,Lr=!1;++Lt<Dn;){var Ni=of(Z[Lt]);if(!(Lr=C!=null&&xe(C,Ni)))break;C=C[Ni]}return Lr||++Lt!=Dn?Lr:(Dn=C==null?0:C.length,!!Dn&&m1(Dn)&&qa(Ni,Dn)&&(Yl(C)||sg(C)))}function na(C){var Z=C.length,xe=new C.constructor(Z);return Z&&typeof C[0]=="string"&&Qs.call(C,"index")&&(xe.index=C.index,xe.input=C.input),xe}function Ja(C){return typeof C.constructor=="function"&&!kt(C)?Ta(hc(C)):{}}function ka(C,Z,xe){var Lt=C.constructor;switch(Z){case Zr:return ja(C);case Xe:case ct:return new Lt(+C);case wi:return Sa(C,xe);case Ln:case Nn:case $n:case wn:case nt:case ze:case vt:case $t:case gn:return tu(C,xe);case De:return new Lt;case et:case cr:return new Lt(C);case Be:return uo(C);case In:return new Lt;case bn:return Is(C)}}function no(C,Z){var xe=Z.length;if(!xe)return C;var Lt=xe-1;return Z[Lt]=(xe>1?"& ":"")+Z[Lt],Z=Z.join(xe>2?", ":" "),C.replace(xi,`{
/* [wrapped with `+Z+`] */
`)}function aa(C){return Yl(C)||sg(C)||!!($d&&C&&C[$d])}function qa(C,Z){var xe=typeof C;return Z=Z==null?Pe:Z,!!Z&&(xe=="number"||xe!="symbol"&&Yn.test(C))&&C>-1&&C%1==0&&C<Z}function _o(C,Z,xe){if(!Ld(xe))return!1;var Lt=typeof Z;return(Lt=="number"?x0(xe)&&qa(Z,xe.length):Lt=="string"&&Z in xe)?I0(xe[Z],C):!1}function Ts(C,Z){if(Yl(C))return!1;var xe=typeof C;return xe=="number"||xe=="symbol"||xe=="boolean"||C==null||T0(C)?!0:Ui.test(C)||!za.test(C)||Z!=null&&C in ys(Z)}function to(C){var Z=typeof C;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?C!=="__proto__":C===null}function Ir(C){var Z=Qn(C),xe=Dt[Z];if(typeof xe!="function"||!(Z in ko.prototype))return!1;if(C===xe)return!0;var Lt=sr(xe);return!!Lt&&C===Lt[0]}function me(C){return!!Ru&&Ru in C}var bu=Dl?ip:Hm;function kt(C){var Z=C&&C.constructor,xe=typeof Z=="function"&&Z.prototype||al;return C===xe}function Ls(C){return C===C&&!Ld(C)}function ll(C,Z){return function(xe){return xe==null?!1:xe[C]===Z&&(Z!==B||C in ys(xe))}}function Gu(C){var Z=Mp(C,function(Lt){return xe.size===H&&xe.clear(),Lt}),xe=Z.cache;return Z}function cl(C,Z){var xe=C[1],Lt=Z[1],Dn=xe|Lt,Lr=Dn<(ve|fe|Ke),Ni=Lt==Ke&&xe==yt||Lt==Ke&&xe==Ue&&C[7].length<=Z[8]||Lt==(Ke|Ue)&&Z[7].length<=Z[8]&&xe==yt;if(!(Lr||Ni))return C;Lt&ve&&(C[2]=Z[2],Dn|=xe&ve?0:Fe);var la=Z[3];if(la){var Fa=C[3];C[3]=Fa?zl(Fa,la,Z[4]):la,C[4]=Fa?ti(C[3],ae):Z[4]}return la=Z[5],la&&(Fa=C[5],C[5]=Fa?rf(Fa,la,Z[6]):la,C[6]=Fa?ti(C[5],ae):Z[6]),la=Z[7],la&&(C[7]=la),Lt&Ke&&(C[8]=C[8]==null?Z[8]:Bl(C[8],Z[8])),C[9]==null&&(C[9]=Z[9]),C[0]=Z[0],C[1]=Dn,C}function dl(C){var Z=[];if(C!=null)for(var xe in ys(C))Z.push(xe);return Z}function pd(C){return Wl.call(C)}function gd(C,Z,xe){return Z=kl(Z===B?C.length-1:Z,0),function(){for(var Lt=arguments,Dn=-1,Lr=kl(Lt.length-Z,0),Ni=ta(Lr);++Dn<Lr;)Ni[Dn]=Lt[Z+Dn];Dn=-1;for(var la=ta(Z+1);++Dn<Z;)la[Dn]=Lt[Dn];return la[Z]=xe(Ni),er(C,this,la)}}function ku(C,Z){return Z.length<2?C:Qu(C,wf(Z,0,-1))}function Rf(C,Z){for(var xe=C.length,Lt=Bl(Z.length,xe),Dn=fu(C);Lt--;){var Lr=Z[Lt];C[Lt]=qa(Lr,xe)?Dn[Lr]:B}return C}function sl(C,Z){if(!(Z==="constructor"&&typeof C[Z]=="function")&&Z!="__proto__")return C[Z]}var af=wd(Ho),Qc=vd||function(C,Z){return co.setTimeout(C,Z)},Pf=wd(Op);function If(C,Z,xe){var Lt=Z+"";return Pf(C,no(Lt,vs(Vi(Lt),xe)))}function wd(C){var Z=0,xe=0;return function(){var Lt=_d(),Dn=qe-(Lt-xe);if(xe=Lt,Dn>0){if(++Z>=_n)return arguments[0]}else Z=0;return C.apply(B,arguments)}}function Rc(C,Z){var xe=-1,Lt=C.length,Dn=Lt-1;for(Z=Z===B?Lt:Z;++xe<Z;){var Lr=Cd(xe,Dn),Ni=C[Lr];C[Lr]=C[xe],C[xe]=Ni}return C.length=Z,C}var Bu=Gu(function(C){var Z=[];return C.charCodeAt(0)===46&&Z.push(""),C.replace(Ao,function(xe,Lt,Dn,Lr){Z.push(Dn?Lr.replace(Cn,"$1"):Lt||xe)}),Z});function of(C){if(typeof C=="string"||T0(C))return C;var Z=C+"";return Z=="0"&&1/C==-tt?"-0":Z}function El(C){if(C!=null){try{return Vc.call(C)}catch(Z){}try{return C+""}catch(Z){}}return""}function vs(C,Z){return wr(Je,function(xe){var Lt="_."+xe[0];Z&xe[1]&&!Ji(C,Lt)&&C.push(Lt)}),C.sort()}function qs(C){if(C instanceof ko)return C.clone();var Z=new yi(C.__wrapped__,C.__chain__);return Z.__actions__=fu(C.__actions__),Z.__index__=C.__index__,Z.__values__=C.__values__,Z}function uu(C,Z,xe){(xe?_o(C,Z,xe):Z===B)?Z=1:Z=kl(ql(Z),0);var Lt=C==null?0:C.length;if(!Lt||Z<1)return[];for(var Dn=0,Lr=0,Ni=ta(yd(Lt/Z));Dn<Lt;)Ni[Lr++]=wf(C,Dn,Dn+=Z);return Ni}function Tf(C){for(var Z=-1,xe=C==null?0:C.length,Lt=0,Dn=[];++Z<xe;){var Lr=C[Z];Lr&&(Dn[Lt++]=Lr)}return Dn}function s0(){var C=arguments.length;if(!C)return[];for(var Z=ta(C-1),xe=arguments[0],Lt=C;Lt--;)Z[Lt-1]=arguments[Lt];return po(Yl(xe)?fu(xe):[xe],Gl(Z,1))}var qr=Zu(function(C,Z){return Id(C)?ho(C,Gl(Z,1,Id,!0)):[]}),Ra=Zu(function(C,Z){var xe=Ua(Z);return Id(xe)&&(xe=B),Id(C)?ho(C,Gl(Z,1,Id,!0),Or(xe,2)):[]}),La=Zu(function(C,Z){var xe=Ua(Z);return Id(xe)&&(xe=B),Id(C)?ho(C,Gl(Z,1,Id,!0),B,xe):[]});function _s(C,Z,xe){var Lt=C==null?0:C.length;return Lt?(Z=xe||Z===B?1:ql(Z),wf(C,Z<0?0:Z,Lt)):[]}function Al(C,Z,xe){var Lt=C==null?0:C.length;return Lt?(Z=xe||Z===B?1:ql(Z),Z=Lt-Z,wf(C,0,Z<0?0:Z)):[]}function mf(C,Z){return C&&C.length?kn(C,Or(Z,3),!0,!0):[]}function Kn(C,Z){return C&&C.length?kn(C,Or(Z,3),!0):[]}function Dr(C,Z,xe,Lt){var Dn=C==null?0:C.length;return Dn?(xe&&typeof xe!="number"&&_o(C,Z,xe)&&(xe=0,Lt=Dn),Xf(C,Z,xe,Lt)):[]}function ii(C,Z,xe){var Lt=C==null?0:C.length;if(!Lt)return-1;var Dn=xe==null?0:ql(xe);return Dn<0&&(Dn=kl(Lt+Dn,0)),Zn(C,Or(Z,3),Dn)}function Pa(C,Z,xe){var Lt=C==null?0:C.length;if(!Lt)return-1;var Dn=Lt-1;return xe!==B&&(Dn=ql(xe),Dn=xe<0?kl(Lt+Dn,0):Bl(Dn,Lt-1)),Zn(C,Or(Z,3),Dn,!0)}function Na(C){var Z=C==null?0:C.length;return Z?Gl(C,1):[]}function Oi(C){var Z=C==null?0:C.length;return Z?Gl(C,tt):[]}function Bi(C,Z){var xe=C==null?0:C.length;return xe?(Z=Z===B?1:ql(Z),Gl(C,Z)):[]}function Ki(C){for(var Z=-1,xe=C==null?0:C.length,Lt={};++Z<xe;){var Dn=C[Z];Lt[Dn[0]]=Dn[1]}return Lt}function Xr(C){return C&&C.length?C[0]:B}function Ei(C,Z,xe){var Lt=C==null?0:C.length;if(!Lt)return-1;var Dn=xe==null?0:ql(xe);return Dn<0&&(Dn=kl(Lt+Dn,0)),Cr(C,Z,Dn)}function Er(C){var Z=C==null?0:C.length;return Z?wf(C,0,-1):[]}var Fi=Zu(function(C){var Z=Mi(C,bo);return Z.length&&Z[0]===C[0]?wh(Z):[]}),ma=Zu(function(C){var Z=Ua(C),xe=Mi(C,bo);return Z===Ua(xe)?Z=B:xe.pop(),xe.length&&xe[0]===C[0]?wh(xe,Or(Z,2)):[]}),eo=Zu(function(C){var Z=Ua(C),xe=Mi(C,bo);return Z=typeof Z=="function"?Z:B,Z&&xe.pop(),xe.length&&xe[0]===C[0]?wh(xe,B,Z):[]});function lo(C,Z){return C==null?"":td.call(C,Z)}function Ua(C){var Z=C==null?0:C.length;return Z?C[Z-1]:B}function No(C,Z,xe){var Lt=C==null?0:C.length;if(!Lt)return-1;var Dn=Lt;return xe!==B&&(Dn=ql(xe),Dn=Dn<0?kl(Lt+Dn,0):Bl(Dn,Lt-1)),Z===Z?Io(C,Z,Dn):Zn(C,wa,Dn,!0)}function Ya(C,Z){return C&&C.length?v0(C,ql(Z)):B}var Su=Zu(Ss);function Ss(C,Z){return C&&C.length&&Z&&Z.length?a0(C,Z):C}function ou(C,Z,xe){return C&&C.length&&Z&&Z.length?a0(C,Z,Or(xe,2)):C}function ju(C,Z,xe){return C&&C.length&&Z&&Z.length?a0(C,Z,B,xe):C}var cc=Wt(function(C,Z){var xe=C==null?0:C.length,Lt=ul(C,Z);return y0(C,Mi(Z,function(Dn){return qa(Dn,xe)?+Dn:Dn}).sort(uc)),Lt});function od(C,Z){var xe=[];if(!(C&&C.length))return xe;var Lt=-1,Dn=[],Lr=C.length;for(Z=Or(Z,3);++Lt<Lr;){var Ni=C[Lt];Z(Ni,Lt,C)&&(xe.push(Ni),Dn.push(Lt))}return y0(C,Dn),xe}function $h(C){return C==null?C:Ud.call(C)}function bm(C,Z,xe){var Lt=C==null?0:C.length;return Lt?(xe&&typeof xe!="number"&&_o(C,Z,xe)?(Z=0,xe=Lt):(Z=Z==null?0:ql(Z),xe=xe===B?Lt:ql(xe)),wf(C,Z,xe)):[]}function b0(C,Z){return Ed(C,Z)}function o1(C,Z,xe){return id(C,Z,Or(xe,2))}function tp(C,Z){var xe=C==null?0:C.length;if(xe){var Lt=Ed(C,Z);if(Lt<xe&&I0(C[Lt],Z))return Lt}return-1}function Yp(C,Z){return Ed(C,Z,!0)}function M_(C,Z,xe){return id(C,Z,Or(xe,2),!0)}function Ev(C,Z){var xe=C==null?0:C.length;if(xe){var Lt=Ed(C,Z,!0)-1;if(I0(C[Lt],Z))return Lt}return-1}function xv(C){return C&&C.length?uh(C):[]}function Tv(C,Z){return C&&C.length?uh(C,Or(Z,2)):[]}function s1(C){var Z=C==null?0:C.length;return Z?wf(C,1,Z):[]}function R_(C,Z,xe){return C&&C.length?(Z=xe||Z===B?1:ql(Z),wf(C,0,Z<0?0:Z)):[]}function Sv(C,Z,xe){var Lt=C==null?0:C.length;return Lt?(Z=xe||Z===B?1:ql(Z),Z=Lt-Z,wf(C,Z<0?0:Z,Lt)):[]}function u1(C,Z){return C&&C.length?kn(C,Or(Z,3),!1,!0):[]}function sy(C,Z){return C&&C.length?kn(C,Or(Z,3)):[]}var np=Zu(function(C){return ce(Gl(C,1,Id,!0))}),Av=Zu(function(C){var Z=Ua(C);return Id(Z)&&(Z=B),ce(Gl(C,1,Id,!0),Or(Z,2))}),G2=Zu(function(C){var Z=Ua(C);return Z=typeof Z=="function"?Z:B,ce(Gl(C,1,Id,!0),B,Z)});function Ba(C){return C&&C.length?ce(C):[]}function n3(C,Z){return C&&C.length?ce(C,Or(Z,2)):[]}function uy(C,Z){return Z=typeof Z=="function"?Z:B,C&&C.length?ce(C,B,Z):[]}function $p(C){if(!(C&&C.length))return[];var Z=0;return C=xr(C,function(xe){if(Id(xe))return Z=kl(xe.length,Z),!0}),au(Z,function(xe){return Mi(C,yo(xe))})}function P_(C,Z){if(!(C&&C.length))return[];var xe=$p(C);return Z==null?xe:Mi(xe,function(Lt){return er(Z,B,Lt)})}var qo=Zu(function(C,Z){return Id(C)?ho(C,Z):[]}),r3=Zu(function(C){return ki(xr(C,Id))}),Y2=Zu(function(C){var Z=Ua(C);return Id(Z)&&(Z=B),ki(xr(C,Id),Or(Z,2))}),I_=Zu(function(C){var Z=Ua(C);return Z=typeof Z=="function"?Z:B,ki(xr(C,Id),B,Z)}),l1=Zu($p);function Em(C,Z){return ro(C||[],Z||[],Oa)}function xm(C,Z){return ro(C||[],Z||[],Nh)}var Cv=Zu(function(C){var Z=C.length,xe=Z>1?C[Z-1]:B;return xe=typeof xe=="function"?(C.pop(),xe):B,P_(C,xe)});function ly(C){var Z=Dt(C);return Z.__chain__=!0,Z}function L_(C,Z){return Z(C),C}function Tm(C,Z){return Z(C)}var N_=Wt(function(C){var Z=C.length,xe=Z?C[0]:0,Lt=this.__wrapped__,Dn=function(Lr){return ul(Lr,C)};return Z>1||this.__actions__.length||!(Lt instanceof ko)||!qa(xe)?this.thru(Dn):(Lt=Lt.slice(xe,+xe+(Z?1:0)),Lt.__actions__.push({func:Tm,args:[Dn],thisArg:B}),new yi(Lt,this.__chain__).thru(function(Lr){return Z&&!Lr.length&&Lr.push(B),Lr}))});function ch(){return ly(this)}function og(){return new yi(this.value(),this.__chain__)}function D_(){this.__values__===B&&(this.__values__=Ay(this.value()));var C=this.__index__>=this.__values__.length,Z=C?B:this.__values__[this.__index__++];return{done:C,value:Z}}function k_(){return this}function Gg(C){for(var Z,xe=this;xe instanceof ba;){var Lt=qs(xe);Lt.__index__=0,Lt.__values__=B,Z?Dn.__wrapped__=Lt:Z=Lt;var Dn=Lt;xe=xe.__wrapped__}return Dn.__wrapped__=C,Z}function $2(){var C=this.__wrapped__;if(C instanceof ko){var Z=C;return this.__actions__.length&&(Z=new ko(this)),Z=Z.reverse(),Z.__actions__.push({func:Tm,args:[$h],thisArg:B}),new yi(Z,this.__chain__)}return this.thru($h)}function B_(){return si(this.__wrapped__,this.__actions__)}var F_=Dh(function(C,Z,xe){Qs.call(C,xe)?++C[xe]:Vu(C,xe,1)});function Yg(C,Z,xe){var Lt=Yl(C)?gi:el;return xe&&_o(C,Z,xe)&&(Z=B),Lt(C,Or(Z,3))}function Og(C,Z){var xe=Yl(C)?xr:tf;return xe(C,Or(Z,3))}var c1=Zo(ii),f1=Zo(Pa);function cy(C,Z){return Gl(h1(C,Z),1)}function fy(C,Z){return Gl(h1(C,Z),tt)}function U_(C,Z,xe){return xe=xe===B?1:ql(xe),Gl(h1(C,Z),xe)}function H0(C,Z){var xe=Yl(C)?wr:Yo;return xe(C,Or(Z,3))}function z_(C,Z){var xe=Yl(C)?hi:cu;return xe(C,Or(Z,3))}var d1=Dh(function(C,Z,xe){Qs.call(C,xe)?C[xe].push(Z):Vu(C,xe,[Z])});function Z_(C,Z,xe,Lt){C=x0(C)?C:tm(C),xe=xe&&!Lt?ql(xe):0;var Dn=C.length;return xe<0&&(xe=kl(Dn+xe,0)),qg(C)?xe<=Dn&&C.indexOf(Z,xe)>-1:!!Dn&&Cr(C,Z,xe)>-1}var X2=Zu(function(C,Z,xe){var Lt=-1,Dn=typeof Z=="function",Lr=x0(C)?ta(C.length):[];return Yo(C,function(Ni){Lr[++Lt]=Dn?er(Z,Ni,xe):xf(Ni,Z,xe)}),Lr}),Xh=Dh(function(C,Z,xe){Vu(C,xe,Z)});function h1(C,Z){var xe=Yl(C)?Mi:Kc;return xe(C,Or(Z,3))}function K2(C,Z,xe,Lt){return C==null?[]:(Yl(Z)||(Z=Z==null?[]:[Z]),xe=Lt?B:xe,Yl(xe)||(xe=xe==null?[]:[xe]),Ph(C,Z,xe))}var Q2=Dh(function(C,Z,xe){C[xe?0:1].push(Z)},function(){return[[],[]]});function q2(C,Z,xe){var Lt=Yl(C)?ha:hs,Dn=arguments.length<3;return Lt(C,Or(Z,4),xe,Dn,Yo)}function j_(C,Z,xe){var Lt=Yl(C)?Qo:hs,Dn=arguments.length<3;return Lt(C,Or(Z,4),xe,Dn,cu)}function H_(C,Z){var xe=Yl(C)?xr:tf;return xe(C,fh(Or(Z,3)))}function Sm(C){var Z=Yl(C)?L:ep;return Z(C)}function dy(C,Z,xe){(xe?_o(C,Z,xe):Z===B)?Z=1:Z=ql(Z);var Lt=Yl(C)?we:_0;return Lt(C,Z)}function Am(C){var Z=Yl(C)?On:o0;return Z(C)}function p1(C){if(C==null)return 0;if(x0(C))return qg(C)?Ha(C):C.length;var Z=gr(C);return Z==De||Z==In?C.size:Mh(C).length}function g1(C,Z,xe){var Lt=Yl(C)?Cs:Od;return xe&&_o(C,Z,xe)&&(Z=B),Lt(C,Or(Z,3))}var hy=Zu(function(C,Z){if(C==null)return[];var xe=Z.length;return xe>1&&_o(C,Z[0],Z[1])?Z=[]:xe>2&&_o(Z[0],Z[1],Z[2])&&(Z=[Z[0]]),Ph(C,Gl(Z,1),[])}),Xp=md||function(){return co.Date.now()};function wg(C,Z){if(typeof Z!="function")throw new ff(q);return C=ql(C),function(){if(--C<1)return Z.apply(this,arguments)}}function W0(C,Z,xe){return Z=xe?B:Z,Z=C&&Z==null?C.length:Z,pe(C,Ke,B,B,B,B,Z)}function jd(C,Z){var xe;if(typeof Z!="function")throw new ff(q);return C=ql(C),function(){return--C>0&&(xe=Z.apply(this,arguments)),C<=1&&(Z=B),xe}}var $g=Zu(function(C,Z,xe){var Lt=ve;if(xe.length){var Dn=ti(xe,Qr($g));Lt|=pt}return pe(C,Lt,Z,xe,Dn)}),Cm=Zu(function(C,Z,xe){var Lt=ve|fe;if(xe.length){var Dn=ti(xe,Qr(Cm));Lt|=pt}return pe(Z,Lt,C,xe,Dn)});function V0(C,Z,xe){Z=xe?B:Z;var Lt=pe(C,yt,B,B,B,B,B,Z);return Lt.placeholder=V0.placeholder,Lt}function Kh(C,Z,xe){Z=xe?B:Z;var Lt=pe(C,gt,B,B,B,B,B,Z);return Lt.placeholder=Kh.placeholder,Lt}function py(C,Z,xe){var Lt,Dn,Lr,Ni,la,Fa,Bo=0,Fo=!1,Ca=!1,Ys=!0;if(typeof C!="function")throw new ff(q);Z=ap(Z)||0,Ld(xe)&&(Fo=!!xe.leading,Ca="maxWait"in xe,Lr=Ca?kl(ap(xe.maxWait)||0,Z):Lr,Ys="trailing"in xe?!!xe.trailing:Ys);function Cu(Wd){var Kp=Lt,Ig=Dn;return Lt=Dn=B,Bo=Wd,Ni=C.apply(Ig,Kp),Ni}function hl(Wd){return Bo=Wd,la=Qc(Ic,Z),Fo?Cu(Wd):Ni}function ac(Wd){var Kp=Wd-Fa,Ig=Wd-Bo,xE=Z-Kp;return Ca?Bl(xE,Lr-Ig):xE}function gl(Wd){var Kp=Wd-Fa,Ig=Wd-Bo;return Fa===B||Kp>=Z||Kp<0||Ca&&Ig>=Lr}function Ic(){var Wd=Xp();if(gl(Wd))return qc(Wd);la=Qc(Ic,ac(Wd))}function qc(Wd){return la=B,Ys&&Lt?Cu(Wd):(Lt=Dn=B,Ni)}function op(){la!==B&&Ul(la),Bo=0,Lt=Fa=Dn=la=B}function B0(){return la===B?Ni:qc(Xp())}function sp(){var Wd=Xp(),Kp=gl(Wd);if(Lt=arguments,Dn=this,Fa=Wd,Kp){if(la===B)return hl(Fa);if(Ca)return Ul(la),la=Qc(Ic,Z),Cu(Fa)}return la===B&&(la=Qc(Ic,Z)),Ni}return sp.cancel=op,sp.flush=B0,sp}var Ms=Zu(function(C,Z){return rh(C,1,Z)}),Mg=Zu(function(C,Z,xe){return rh(C,ap(Z)||0,xe)});function rp(C){return pe(C,Pt)}function Mp(C,Z){if(typeof C!="function"||Z!=null&&typeof Z!="function")throw new ff(q);var xe=function(){var Lt=arguments,Dn=Z?Z.apply(this,Lt):Lt[0],Lr=xe.cache;if(Lr.has(Dn))return Lr.get(Dn);var Ni=C.apply(this,Lt);return xe.cache=Lr.set(Dn,Ni)||Lr,Ni};return xe.cache=new(Mp.Cache||mu),xe}Mp.Cache=mu;function fh(C){if(typeof C!="function")throw new ff(q);return function(){var Z=arguments;switch(Z.length){case 0:return!C.call(this);case 1:return!C.call(this,Z[0]);case 2:return!C.call(this,Z[0],Z[1]);case 3:return!C.call(this,Z[0],Z[1],Z[2])}return!C.apply(this,Z)}}function gy(C){return jd(2,C)}var W_=Us(function(C,Z){Z=Z.length==1&&Yl(Z[0])?Mi(Z[0],Xs(Or())):Mi(Gl(Z,1),Xs(Or()));var xe=Z.length;return Zu(function(Lt){for(var Dn=-1,Lr=Bl(Lt.length,xe);++Dn<Lr;)Lt[Dn]=Z[Dn].call(this,Lt[Dn]);return er(C,this,Lt)})}),Xg=Zu(function(C,Z){var xe=ti(Z,Qr(Xg));return pe(C,pt,B,Z,xe)}),V_=Zu(function(C,Z){var xe=ti(Z,Qr(V_));return pe(C,lt,B,Z,xe)}),E0=Wt(function(C,Z){return pe(C,Ue,B,B,B,Z)});function i3(C,Z){if(typeof C!="function")throw new ff(q);return Z=Z===B?Z:ql(Z),Zu(C,Z)}function Om(C,Z){if(typeof C!="function")throw new ff(q);return Z=Z==null?0:kl(ql(Z),0),Zu(function(xe){var Lt=xe[Z],Dn=pl(xe,0,Z);return Lt&&po(Dn,Lt),er(C,this,Dn)})}function vy(C,Z,xe){var Lt=!0,Dn=!0;if(typeof C!="function")throw new ff(q);return Ld(xe)&&(Lt="leading"in xe?!!xe.leading:Lt,Dn="trailing"in xe?!!xe.trailing:Dn),py(C,Z,{leading:Lt,maxWait:Z,trailing:Dn})}function Ov(C){return W0(C,1)}function yy(C,Z){return Xg(Gs(Z),C)}function Rp(){if(!arguments.length)return[];var C=arguments[0];return Yl(C)?C:[C]}function Lf(C){return Tc(C,se)}function _y(C,Z){return Z=typeof Z=="function"?Z:B,Tc(C,se,Z)}function wm(C){return Tc(C,ie|se)}function Kg(C,Z){return Z=typeof Z=="function"?Z:B,Tc(C,ie|se,Z)}function wv(C,Z){return Z==null||bh(C,Z,Nd(Z))}function I0(C,Z){return C===Z||C!==C&&Z!==Z}var dh=W(Gh),L0=W(function(C,Z){return C>=Z}),sg=m0(function(){return arguments}())?m0:function(C){return Hd(C)&&Qs.call(C,"callee")&&!Oh.call(C,"callee")},Yl=ta.isArray,a3=ns?Xs(ns):ah;function x0(C){return C!=null&&m1(C.length)&&!ip(C)}function Id(C){return Hd(C)&&x0(C)}function o3(C){return C===!0||C===!1||Hd(C)&&Zf(C)==Xe}var ug=Yf||Hm,G_=Do?Xs(Do):gf;function J2(C){return Hd(C)&&C.nodeType===1&&!Qg(C)}function by(C){if(C==null)return!0;if(x0(C)&&(Yl(C)||typeof C=="string"||typeof C.splice=="function"||ug(C)||kh(C)||sg(C)))return!C.length;var Z=gr(C);if(Z==De||Z==In)return!C.size;if(kt(C))return!Mh(C).length;for(var xe in C)if(Qs.call(C,xe))return!1;return!0}function eE(C,Z){return Xc(C,Z)}function Ey(C,Z,xe){xe=typeof xe=="function"?xe:B;var Lt=xe?xe(C,Z):B;return Lt===B?Xc(C,Z,B,xe):!!Lt}function Mv(C){if(!Hd(C))return!1;var Z=Zf(C);return Z==Oe||Z==Rt||typeof C.message=="string"&&typeof C.name=="string"&&!Qg(C)}function xy(C){return typeof C=="number"&&$f(C)}function ip(C){if(!Ld(C))return!1;var Z=Zf(C);return Z==Ge||Z==Vt||Z==Ot||Z==Jt}function Rv(C){return typeof C=="number"&&C==ql(C)}function m1(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=Pe}function Ld(C){var Z=typeof C;return C!=null&&(Z=="object"||Z=="function")}function Hd(C){return C!=null&&typeof C=="object"}var Y_=ls?Xs(ls):Rd;function $_(C,Z){return C===Z||oh(C,Z,Pi(Z))}function tE(C,Z,xe){return xe=typeof xe=="function"?xe:B,oh(C,Z,Pi(Z),xe)}function Ty(C){return _1(C)&&C!=+C}function v1(C){if(bu(C))throw new Ko(j);return nf(C)}function Pv(C){return C===null}function y1(C){return C==null}function _1(C){return typeof C=="number"||Hd(C)&&Zf(C)==et}function Qg(C){if(!Hd(C)||Zf(C)!=J)return!1;var Z=hc(C);if(Z===null)return!0;var xe=Qs.call(Z,"constructor")&&Z.constructor;return typeof xe=="function"&&xe instanceof xe&&Vc.call(xe)==tc}var Mm=Bs?Xs(Bs):zd;function X_(C){return Rv(C)&&C>=-Pe&&C<=Pe}var Sy=Xo?Xs(Xo):Sl;function qg(C){return typeof C=="string"||!Yl(C)&&Hd(C)&&Zf(C)==cr}function T0(C){return typeof C=="symbol"||Hd(C)&&Zf(C)==bn}var kh=wt?Xs(wt):Zd;function nE(C){return C===B}function K_(C){return Hd(C)&&gr(C)==Nr}function b1(C){return Hd(C)&&Zf(C)==Ar}var rE=W(bd),Iv=W(function(C,Z){return C<=Z});function Ay(C){if(!C)return[];if(x0(C))return qg(C)?wo(C):fu(C);if(Xd&&C[Xd])return Sr(C[Xd]());var Z=gr(C),xe=Z==De?li:Z==In?ea:tm;return xe(C)}function Bh(C){if(!C)return C===0?C:0;if(C=ap(C),C===tt||C===-tt){var Z=C<0?-1:1;return Z*Qe}return C===C?C:0}function ql(C){var Z=Bh(C),xe=Z%1;return Z===Z?xe?Z-xe:Z:0}function Q_(C){return C?ef(ql(C),0,_t):0}function ap(C){if(typeof C=="number")return C;if(T0(C))return He;if(Ld(C)){var Z=typeof C.valueOf=="function"?C.valueOf():C;C=Ld(Z)?Z+"":Z}if(typeof C!="string")return C===0?C:+C;C=$s(C);var xe=Zt.test(C);return xe||Bn.test(C)?Xi(C.slice(2),xe?2:8):It.test(C)?He:+C}function q_(C){return xd(C,Uh(C))}function iE(C){return C?ef(ql(C),-Pe,Pe):C===0?C:0}function sf(C){return C==null?"":F(C)}var Cy=Kf(function(C,Z){if(kt(Z)||x0(Z)){xd(Z,Nd(Z),C);return}for(var xe in Z)Qs.call(Z,xe)&&Oa(C,xe,Z[xe])}),J_=Kf(function(C,Z){xd(Z,Uh(Z),C)}),E1=Kf(function(C,Z,xe,Lt){xd(Z,Uh(Z),C,Lt)}),eb=Kf(function(C,Z,xe,Lt){xd(Z,Nd(Z),C,Lt)}),tb=Wt(ul);function Pp(C,Z){var xe=Ta(C);return Z==null?xe:is(xe,Z)}var Lv=Zu(function(C,Z){C=ys(C);var xe=-1,Lt=Z.length,Dn=Lt>2?Z[2]:B;for(Dn&&_o(Z[0],Z[1],Dn)&&(Lt=1);++xe<Lt;)for(var Lr=Z[xe],Ni=Uh(Lr),la=-1,Fa=Ni.length;++la<Fa;){var Bo=Ni[la],Fo=C[Bo];(Fo===B||I0(Fo,al[Bo])&&!Qs.call(C,Bo))&&(C[Bo]=Lr[Bo])}return C}),nb=Zu(function(C){return C.push(B,ke),er(ob,B,C)});function Ip(C,Z){return xt(C,Or(Z,3),Du)}function rb(C,Z){return xt(C,Or(Z,3),zc)}function Jg(C,Z){return C==null?C:Uf(C,Or(Z,3),Uh)}function Rm(C,Z){return C==null?C:rc(C,Or(Z,3),Uh)}function ib(C,Z){return C&&Du(C,Or(Z,3))}function ab(C,Z){return C&&zc(C,Or(Z,3))}function x1(C){return C==null?[]:zf(C,Nd(C))}function Fh(C){return C==null?[]:zf(C,Uh(C))}function N0(C,Z,xe){var Lt=C==null?B:Qu(C,Z);return Lt===B?xe:Lt}function Pm(C,Z){return C!=null&&da(C,Z,ih)}function Im(C,Z){return C!=null&&da(C,Z,Tp)}var Qh=Pu(function(C,Z,xe){Z!=null&&typeof Z.toString!="function"&&(Z=Wl.call(Z)),C[Z]=xe},w1(zh)),aE=Pu(function(C,Z,xe){Z!=null&&typeof Z.toString!="function"&&(Z=Wl.call(Z)),Qs.call(C,Z)?C[Z].push(xe):C[Z]=[xe]},Or),T1=Zu(xf);function Nd(C){return x0(C)?b(C):Mh(C)}function Uh(C){return x0(C)?b(C,!0):Pd(C)}function em(C,Z){var xe={};return Z=Or(Z,3),Du(C,function(Lt,Dn,Lr){Vu(xe,Z(Lt,Dn,Lr),Lt)}),xe}function Lm(C,Z){var xe={};return Z=Or(Z,3),Du(C,function(Lt,Dn,Lr){Vu(xe,Dn,Z(Lt,Dn,Lr))}),xe}var Eh=Kf(function(C,Z,xe){sh(C,Z,xe)}),ob=Kf(function(C,Z,xe,Lt){sh(C,Z,xe,Lt)}),oE=Wt(function(C,Z){var xe={};if(C==null)return xe;var Lt=!1;Z=Mi(Z,function(Lr){return Lr=lu(Lr,C),Lt||(Lt=Lr.length>1),Lr}),xd(C,qn(C),xe),Lt&&(xe=Tc(xe,ie|le|se,bt));for(var Dn=Z.length;Dn--;)ht(xe,Z[Dn]);return xe});function sE(C,Z){return sb(C,fh(Or(Z)))}var uE=Wt(function(C,Z){return C==null?{}:Ih(C,Z)});function sb(C,Z){if(C==null)return{};var xe=Mi(qn(C),function(Lt){return[Lt]});return Z=Or(Z),Ap(C,xe,function(Lt,Dn){return Z(Lt,Dn[0])})}function D0(C,Z,xe){Z=lu(Z,C);var Lt=-1,Dn=Z.length;for(Dn||(Dn=1,C=B);++Lt<Dn;){var Lr=C==null?B:C[of(Z[Lt])];Lr===B&&(Lt=Dn,Lr=xe),C=ip(Lr)?Lr.call(C):Lr}return C}function S0(C,Z,xe){return C==null?C:Nh(C,Z,xe)}function Nv(C,Z,xe,Lt){return Lt=typeof Lt=="function"?Lt:B,C==null?C:Nh(C,Z,xe,Lt)}var ub=V(Nd),Rg=V(Uh);function lE(C,Z,xe){var Lt=Yl(C),Dn=Lt||ug(C)||kh(C);if(Z=Or(Z,4),xe==null){var Lr=C&&C.constructor;Dn?xe=Lt?new Lr:[]:Ld(C)?xe=ip(Lr)?Ta(hc(C)):{}:xe={}}return(Dn?wr:Du)(C,function(Ni,la,Fa){return Z(xe,Ni,la,Fa)}),xe}function Oy(C,Z){return C==null?!0:ht(C,Z)}function hh(C,Z,xe){return C==null?C:Ft(C,Z,Gs(xe))}function lb(C,Z,xe,Lt){return Lt=typeof Lt=="function"?Lt:B,C==null?C:Ft(C,Z,Gs(xe),Lt)}function tm(C){return C==null?[]:Lu(C,Nd(C))}function Nm(C){return C==null?[]:Lu(C,Uh(C))}function wy(C,Z,xe){return xe===B&&(xe=Z,Z=B),xe!==B&&(xe=ap(xe),xe=xe===xe?xe:0),Z!==B&&(Z=ap(Z),Z=Z===Z?Z:0),ef(ap(C),Z,xe)}function My(C,Z,xe){return Z=Bh(Z),xe===B?(xe=Z,Z=0):xe=Bh(xe),C=ap(C),Z0(C,Z,xe)}function Ry(C,Z,xe){if(xe&&typeof xe!="boolean"&&_o(C,Z,xe)&&(Z=xe=B),xe===B&&(typeof Z=="boolean"?(xe=Z,Z=B):typeof C=="boolean"&&(xe=C,C=B)),C===B&&Z===B?(C=0,Z=1):(C=Bh(C),Z===B?(Z=C,C=0):Z=Bh(Z)),C>Z){var Lt=C;C=Z,Z=Lt}if(xe||C%1||Z%1){var Dn=hf();return Bl(C+Dn*(Z-C+_a("1e-"+((Dn+"").length-1))),Z)}return Cd(C,Z)}var cb=Mn(function(C,Z,xe){return Z=Z.toLowerCase(),C+(xe?S1(Z):Z)});function S1(C){return Um(sf(C).toLowerCase())}function Dm(C){return C=sf(C),C&&C.replace(or,hu).replace(Za,"")}function fb(C,Z,xe){C=sf(C),Z=F(Z);var Lt=C.length;xe=xe===B?Lt:ef(ql(xe),0,Lt);var Dn=xe;return xe-=Z.length,xe>=0&&C.slice(xe,Dn)==Z}function cE(C){return C=sf(C),C&&ar.test(C)?C.replace(ur,oc):C}function db(C){return C=sf(C),C&&cs.test(C)?C.replace(fs,"\\$&"):C}var km=Mn(function(C,Z,xe){return C+(xe?"-":"")+Z.toLowerCase()}),hb=Mn(function(C,Z,xe){return C+(xe?" ":"")+Z.toLowerCase()}),Py=un("toLowerCase");function fE(C,Z,xe){C=sf(C),Z=ql(Z);var Lt=Z?Ha(C):0;if(!Z||Lt>=Z)return C;var Dn=(Z-Lt)/2;return Mf(df(Dn),xe)+C+Mf(yd(Dn),xe)}function Iy(C,Z,xe){C=sf(C),Z=ql(Z);var Lt=Z?Ha(C):0;return Z&&Lt<Z?C+Mf(Z-Lt,xe):C}function A1(C,Z,xe){C=sf(C),Z=ql(Z);var Lt=Z?Ha(C):0;return Z&&Lt<Z?Mf(Z-Lt,xe)+C:C}function Bm(C,Z,xe){return xe||Z==null?Z=0:Z&&(Z=+Z),Of(sf(C).replace(ra,""),Z||0)}function pb(C,Z,xe){return(xe?_o(C,Z,xe):Z===B)?Z=1:Z=ql(Z),Cp(sf(C),Z)}function C1(){var C=arguments,Z=sf(C[0]);return C.length<3?Z:Z.replace(C[1],C[2])}var Dv=Mn(function(C,Z,xe){return C+(xe?"_":"")+Z.toLowerCase()});function dE(C,Z,xe){return xe&&typeof xe!="number"&&_o(C,Z,xe)&&(Z=xe=B),xe=xe===B?_t:xe>>>0,xe?(C=sf(C),C&&(typeof Z=="string"||Z!=null&&!Mm(Z))&&(Z=F(Z),!Z&&Cf(C))?pl(wo(C),0,xe):C.split(Z,xe)):[]}var gb=Mn(function(C,Z,xe){return C+(xe?" ":"")+Um(Z)});function nm(C,Z,xe){return C=sf(C),xe=xe==null?0:ef(ql(xe),0,C.length),Z=F(Z),C.slice(xe,xe+Z.length)==Z}function Ly(C,Z,xe){var Lt=Dt.templateSettings;xe&&_o(C,Z,xe)&&(Z=B),C=sf(C),Z=E1({},Z,Lt,he);var Dn=E1({},Z.imports,Lt.imports,he),Lr=Nd(Dn),Ni=Lu(Dn,Lr),la,Fa,Bo=0,Fo=Z.interpolate||Ze,Ca="__p += '",Ys=Bc((Z.escape||Ze).source+"|"+Fo.source+"|"+(Fo===xa?Un:Ze).source+"|"+(Z.evaluate||Ze).source+"|$","g"),Cu="//# sourceURL="+(Qs.call(Z,"sourceURL")?(Z.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Si+"]")+`
`;C.replace(Ys,function(gl,Ic,qc,op,B0,sp){return qc||(qc=op),Ca+=C.slice(Bo,sp).replace(je,_l),Ic&&(la=!0,Ca+=`' +
__e(`+Ic+`) +
'`),B0&&(Fa=!0,Ca+=`';
`+B0+`;
__p += '`),qc&&(Ca+=`' +
((__t = (`+qc+`)) == null ? '' : __t) +
'`),Bo=sp+gl.length,gl}),Ca+=`';
`;var hl=Qs.call(Z,"variable")&&Z.variable;if(!hl)Ca=`with (obj) {
`+Ca+`
}
`;else if(Ka.test(hl))throw new Ko(Y);Ca=(Fa?Ca.replace(at,""):Ca).replace(an,"$1").replace(hn,"$1;"),Ca="function("+(hl||"obj")+`) {
`+(hl?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(la?", __e = _.escape":"")+(Fa?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ca+`return __p
}`;var ac=O1(function(){return es(Lr,Cu+"return "+Ca).apply(B,Ni)});if(ac.source=Ca,Mv(ac))throw ac;return ac}function Ny(C){return sf(C).toLowerCase()}function mb(C){return sf(C).toUpperCase()}function hE(C,Z,xe){if(C=sf(C),C&&(xe||Z===B))return $s(C);if(!C||!(Z=F(Z)))return C;var Lt=wo(C),Dn=wo(Z),Lr=Nl(Lt,Dn),Ni=Ks(Lt,Dn)+1;return pl(Lt,Lr,Ni).join("")}function vb(C,Z,xe){if(C=sf(C),C&&(xe||Z===B))return C.slice(0,zo(C)+1);if(!C||!(Z=F(Z)))return C;var Lt=wo(C),Dn=Ks(Lt,wo(Z))+1;return pl(Lt,0,Dn).join("")}function lg(C,Z,xe){if(C=sf(C),C&&(xe||Z===B))return C.replace(ra,"");if(!C||!(Z=F(Z)))return C;var Lt=wo(C),Dn=Nl(Lt,wo(Z));return pl(Lt,Dn).join("")}function kv(C,Z){var xe=Gt,Lt=rn;if(Ld(Z)){var Dn="separator"in Z?Z.separator:Dn;xe="length"in Z?ql(Z.length):xe,Lt="omission"in Z?F(Z.omission):Lt}C=sf(C);var Lr=C.length;if(Cf(C)){var Ni=wo(C);Lr=Ni.length}if(xe>=Lr)return C;var la=xe-Ha(Lt);if(la<1)return Lt;var Fa=Ni?pl(Ni,0,la).join(""):C.slice(0,la);if(Dn===B)return Fa+Lt;if(Ni&&(la+=Fa.length-la),Mm(Dn)){if(C.slice(la).search(Dn)){var Bo,Fo=Fa;for(Dn.global||(Dn=Bc(Dn.source,sf(tn.exec(Dn))+"g")),Dn.lastIndex=0;Bo=Dn.exec(Fo);)var Ca=Bo.index;Fa=Fa.slice(0,Ca===B?la:Ca)}}else if(C.indexOf(F(Dn),la)!=la){var Ys=Fa.lastIndexOf(Dn);Ys>-1&&(Fa=Fa.slice(0,Ys))}return Fa+Lt}function rm(C){return C=sf(C),C&&pi.test(C)?C.replace(pr,rs):C}var Fm=Mn(function(C,Z,xe){return C+(xe?" ":"")+Z.toUpperCase()}),Um=un("toUpperCase");function Pc(C,Z,xe){return C=sf(C),Z=xe?B:Z,Z===B?bc(C)?_u(C):ru(C):C.match(Z)||[]}var O1=Zu(function(C,Z){try{return er(C,B,Z)}catch(xe){return Mv(xe)?xe:new Ko(xe)}}),im=Wt(function(C,Z){return wr(Z,function(xe){xe=of(xe),Vu(C,xe,$g(C[xe],C))}),C});function pE(C){var Z=C==null?0:C.length,xe=Or();return C=Z?Mi(C,function(Lt){if(typeof Lt[1]!="function")throw new ff(q);return[xe(Lt[0]),Lt[1]]}):[],Zu(function(Lt){for(var Dn=-1;++Dn<Z;){var Lr=C[Dn];if(er(Lr[0],this,Lt))return er(Lr[1],this,Lt)}})}function yb(C){return _h(Tc(C,ie))}function w1(C){return function(){return C}}function gE(C,Z){return C==null||C!==C?Z:C}var Dy=os(),_b=os(!0);function zh(C){return C}function zm(C){return hd(typeof C=="function"?C:Tc(C,ie))}function uf(C){return Sp(Tc(C,ie))}function Zm(C,Z){return i0(C,Tc(Z,ie))}var k0=Zu(function(C,Z){return function(xe){return xf(xe,C,Z)}}),ky=Zu(function(C,Z){return function(xe){return xf(C,xe,Z)}});function qh(C,Z,xe){var Lt=Nd(Z),Dn=zf(Z,Lt);xe==null&&!(Ld(Z)&&(Dn.length||!Lt.length))&&(xe=Z,Z=C,C=this,Dn=zf(Z,Nd(Z)));var Lr=!(Ld(xe)&&"chain"in xe)||!!xe.chain,Ni=ip(C);return wr(Dn,function(la){var Fa=Z[la];C[la]=Fa,Ni&&(C.prototype[la]=function(){var Bo=this.__chain__;if(Lr||Bo){var Fo=C(this.__wrapped__),Ca=Fo.__actions__=fu(this.__actions__);return Ca.push({func:Fa,args:arguments,thisArg:C}),Fo.__chain__=Bo,Fo}return Fa.apply(C,po([this.value()],arguments))})}),C}function Bv(){return co._===this&&(co._=Ec),this}function Fv(){}function By(C){return C=ql(C),Zu(function(Z){return v0(Z,C)})}var bb=rl(Mi),Eb=rl(gi),jm=rl(Cs);function Fy(C){return Ts(C)?yo(of(C)):j0(C)}function xb(C){return function(Z){return C==null?B:Qu(C,Z)}}var Tb=ic(),Sb=ic(!0);function Pg(){return[]}function Hm(){return!1}function Ab(){return{}}function mE(){return""}function Cb(){return!0}function M1(C,Z){if(C=ql(C),C<1||C>Pe)return[];var xe=_t,Lt=Bl(C,_t);Z=Or(Z),C-=_t;for(var Dn=au(Lt,Z);++xe<C;)Z(xe);return Dn}function Uy(C){return Yl(C)?Mi(C,of):T0(C)?[C]:fu(Bu(sf(C)))}function vE(C){var Z=++$u;return sf(C)+Z}var zy=tl(function(C,Z){return C+Z},0),Ob=E("ceil"),wb=tl(function(C,Z){return C/Z},1),yE=E("floor");function _E(C){return C&&C.length?Hs(C,zh,Gh):B}function R1(C,Z){return C&&C.length?Hs(C,Or(Z,2),Gh):B}function Mb(C){return Eo(C,zh)}function Zy(C,Z){return Eo(C,Or(Z,2))}function Wm(C){return C&&C.length?Hs(C,zh,bd):B}function Uv(C,Z){return C&&C.length?Hs(C,Or(Z,2),bd):B}var Rb=tl(function(C,Z){return C*Z},1),jy=E("round"),bE=tl(function(C,Z){return C-Z},0);function EE(C){return C&&C.length?iu(C,zh):0}function Pb(C,Z){return C&&C.length?iu(C,Or(Z,2)):0}return Dt.after=wg,Dt.ary=W0,Dt.assign=Cy,Dt.assignIn=J_,Dt.assignInWith=E1,Dt.assignWith=eb,Dt.at=tb,Dt.before=jd,Dt.bind=$g,Dt.bindAll=im,Dt.bindKey=Cm,Dt.castArray=Rp,Dt.chain=ly,Dt.chunk=uu,Dt.compact=Tf,Dt.concat=s0,Dt.cond=pE,Dt.conforms=yb,Dt.constant=w1,Dt.countBy=F_,Dt.create=Pp,Dt.curry=V0,Dt.curryRight=Kh,Dt.debounce=py,Dt.defaults=Lv,Dt.defaultsDeep=nb,Dt.defer=Ms,Dt.delay=Mg,Dt.difference=qr,Dt.differenceBy=Ra,Dt.differenceWith=La,Dt.drop=_s,Dt.dropRight=Al,Dt.dropRightWhile=mf,Dt.dropWhile=Kn,Dt.fill=Dr,Dt.filter=Og,Dt.flatMap=cy,Dt.flatMapDeep=fy,Dt.flatMapDepth=U_,Dt.flatten=Na,Dt.flattenDeep=Oi,Dt.flattenDepth=Bi,Dt.flip=rp,Dt.flow=Dy,Dt.flowRight=_b,Dt.fromPairs=Ki,Dt.functions=x1,Dt.functionsIn=Fh,Dt.groupBy=d1,Dt.initial=Er,Dt.intersection=Fi,Dt.intersectionBy=ma,Dt.intersectionWith=eo,Dt.invert=Qh,Dt.invertBy=aE,Dt.invokeMap=X2,Dt.iteratee=zm,Dt.keyBy=Xh,Dt.keys=Nd,Dt.keysIn=Uh,Dt.map=h1,Dt.mapKeys=em,Dt.mapValues=Lm,Dt.matches=uf,Dt.matchesProperty=Zm,Dt.memoize=Mp,Dt.merge=Eh,Dt.mergeWith=ob,Dt.method=k0,Dt.methodOf=ky,Dt.mixin=qh,Dt.negate=fh,Dt.nthArg=By,Dt.omit=oE,Dt.omitBy=sE,Dt.once=gy,Dt.orderBy=K2,Dt.over=bb,Dt.overArgs=W_,Dt.overEvery=Eb,Dt.overSome=jm,Dt.partial=Xg,Dt.partialRight=V_,Dt.partition=Q2,Dt.pick=uE,Dt.pickBy=sb,Dt.property=Fy,Dt.propertyOf=xb,Dt.pull=Su,Dt.pullAll=Ss,Dt.pullAllBy=ou,Dt.pullAllWith=ju,Dt.pullAt=cc,Dt.range=Tb,Dt.rangeRight=Sb,Dt.rearg=E0,Dt.reject=H_,Dt.remove=od,Dt.rest=i3,Dt.reverse=$h,Dt.sampleSize=dy,Dt.set=S0,Dt.setWith=Nv,Dt.shuffle=Am,Dt.slice=bm,Dt.sortBy=hy,Dt.sortedUniq=xv,Dt.sortedUniqBy=Tv,Dt.split=dE,Dt.spread=Om,Dt.tail=s1,Dt.take=R_,Dt.takeRight=Sv,Dt.takeRightWhile=u1,Dt.takeWhile=sy,Dt.tap=L_,Dt.throttle=vy,Dt.thru=Tm,Dt.toArray=Ay,Dt.toPairs=ub,Dt.toPairsIn=Rg,Dt.toPath=Uy,Dt.toPlainObject=q_,Dt.transform=lE,Dt.unary=Ov,Dt.union=np,Dt.unionBy=Av,Dt.unionWith=G2,Dt.uniq=Ba,Dt.uniqBy=n3,Dt.uniqWith=uy,Dt.unset=Oy,Dt.unzip=$p,Dt.unzipWith=P_,Dt.update=hh,Dt.updateWith=lb,Dt.values=tm,Dt.valuesIn=Nm,Dt.without=qo,Dt.words=Pc,Dt.wrap=yy,Dt.xor=r3,Dt.xorBy=Y2,Dt.xorWith=I_,Dt.zip=l1,Dt.zipObject=Em,Dt.zipObjectDeep=xm,Dt.zipWith=Cv,Dt.entries=ub,Dt.entriesIn=Rg,Dt.extend=J_,Dt.extendWith=E1,qh(Dt,Dt),Dt.add=zy,Dt.attempt=O1,Dt.camelCase=cb,Dt.capitalize=S1,Dt.ceil=Ob,Dt.clamp=wy,Dt.clone=Lf,Dt.cloneDeep=wm,Dt.cloneDeepWith=Kg,Dt.cloneWith=_y,Dt.conformsTo=wv,Dt.deburr=Dm,Dt.defaultTo=gE,Dt.divide=wb,Dt.endsWith=fb,Dt.eq=I0,Dt.escape=cE,Dt.escapeRegExp=db,Dt.every=Yg,Dt.find=c1,Dt.findIndex=ii,Dt.findKey=Ip,Dt.findLast=f1,Dt.findLastIndex=Pa,Dt.findLastKey=rb,Dt.floor=yE,Dt.forEach=H0,Dt.forEachRight=z_,Dt.forIn=Jg,Dt.forInRight=Rm,Dt.forOwn=ib,Dt.forOwnRight=ab,Dt.get=N0,Dt.gt=dh,Dt.gte=L0,Dt.has=Pm,Dt.hasIn=Im,Dt.head=Xr,Dt.identity=zh,Dt.includes=Z_,Dt.indexOf=Ei,Dt.inRange=My,Dt.invoke=T1,Dt.isArguments=sg,Dt.isArray=Yl,Dt.isArrayBuffer=a3,Dt.isArrayLike=x0,Dt.isArrayLikeObject=Id,Dt.isBoolean=o3,Dt.isBuffer=ug,Dt.isDate=G_,Dt.isElement=J2,Dt.isEmpty=by,Dt.isEqual=eE,Dt.isEqualWith=Ey,Dt.isError=Mv,Dt.isFinite=xy,Dt.isFunction=ip,Dt.isInteger=Rv,Dt.isLength=m1,Dt.isMap=Y_,Dt.isMatch=$_,Dt.isMatchWith=tE,Dt.isNaN=Ty,Dt.isNative=v1,Dt.isNil=y1,Dt.isNull=Pv,Dt.isNumber=_1,Dt.isObject=Ld,Dt.isObjectLike=Hd,Dt.isPlainObject=Qg,Dt.isRegExp=Mm,Dt.isSafeInteger=X_,Dt.isSet=Sy,Dt.isString=qg,Dt.isSymbol=T0,Dt.isTypedArray=kh,Dt.isUndefined=nE,Dt.isWeakMap=K_,Dt.isWeakSet=b1,Dt.join=lo,Dt.kebabCase=km,Dt.last=Ua,Dt.lastIndexOf=No,Dt.lowerCase=hb,Dt.lowerFirst=Py,Dt.lt=rE,Dt.lte=Iv,Dt.max=_E,Dt.maxBy=R1,Dt.mean=Mb,Dt.meanBy=Zy,Dt.min=Wm,Dt.minBy=Uv,Dt.stubArray=Pg,Dt.stubFalse=Hm,Dt.stubObject=Ab,Dt.stubString=mE,Dt.stubTrue=Cb,Dt.multiply=Rb,Dt.nth=Ya,Dt.noConflict=Bv,Dt.noop=Fv,Dt.now=Xp,Dt.pad=fE,Dt.padEnd=Iy,Dt.padStart=A1,Dt.parseInt=Bm,Dt.random=Ry,Dt.reduce=q2,Dt.reduceRight=j_,Dt.repeat=pb,Dt.replace=C1,Dt.result=D0,Dt.round=jy,Dt.runInContext=vi,Dt.sample=Sm,Dt.size=p1,Dt.snakeCase=Dv,Dt.some=g1,Dt.sortedIndex=b0,Dt.sortedIndexBy=o1,Dt.sortedIndexOf=tp,Dt.sortedLastIndex=Yp,Dt.sortedLastIndexBy=M_,Dt.sortedLastIndexOf=Ev,Dt.startCase=gb,Dt.startsWith=nm,Dt.subtract=bE,Dt.sum=EE,Dt.sumBy=Pb,Dt.template=Ly,Dt.times=M1,Dt.toFinite=Bh,Dt.toInteger=ql,Dt.toLength=Q_,Dt.toLower=Ny,Dt.toNumber=ap,Dt.toSafeInteger=iE,Dt.toString=sf,Dt.toUpper=mb,Dt.trim=hE,Dt.trimEnd=vb,Dt.trimStart=lg,Dt.truncate=kv,Dt.unescape=rm,Dt.uniqueId=vE,Dt.upperCase=Fm,Dt.upperFirst=Um,Dt.each=H0,Dt.eachRight=z_,Dt.first=Xr,qh(Dt,function(){var C={};return Du(Dt,function(Z,xe){Qs.call(Dt.prototype,xe)||(C[xe]=Z)}),C}(),{chain:!1}),Dt.VERSION=ne,wr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(C){Dt[C].placeholder=Dt}),wr(["drop","take"],function(C,Z){ko.prototype[C]=function(xe){xe=xe===B?1:kl(ql(xe),0);var Lt=this.__filtered__&&!Z?new ko(this):this.clone();return Lt.__filtered__?Lt.__takeCount__=Bl(xe,Lt.__takeCount__):Lt.__views__.push({size:Bl(xe,_t),type:C+(Lt.__dir__<0?"Right":"")}),Lt},ko.prototype[C+"Right"]=function(xe){return this.reverse()[C](xe).reverse()}}),wr(["filter","map","takeWhile"],function(C,Z){var xe=Z+1,Lt=xe==Nt||xe==ln;ko.prototype[C]=function(Dn){var Lr=this.clone();return Lr.__iteratees__.push({iteratee:Or(Dn,3),type:xe}),Lr.__filtered__=Lr.__filtered__||Lt,Lr}}),wr(["head","last"],function(C,Z){var xe="take"+(Z?"Right":"");ko.prototype[C]=function(){return this[xe](1).value()[0]}}),wr(["initial","tail"],function(C,Z){var xe="drop"+(Z?"":"Right");ko.prototype[C]=function(){return this.__filtered__?new ko(this):this[xe](1)}}),ko.prototype.compact=function(){return this.filter(zh)},ko.prototype.find=function(C){return this.filter(C).head()},ko.prototype.findLast=function(C){return this.reverse().find(C)},ko.prototype.invokeMap=Zu(function(C,Z){return typeof C=="function"?new ko(this):this.map(function(xe){return xf(xe,C,Z)})}),ko.prototype.reject=function(C){return this.filter(fh(Or(C)))},ko.prototype.slice=function(C,Z){C=ql(C);var xe=this;return xe.__filtered__&&(C>0||Z<0)?new ko(xe):(C<0?xe=xe.takeRight(-C):C&&(xe=xe.drop(C)),Z!==B&&(Z=ql(Z),xe=Z<0?xe.dropRight(-Z):xe.take(Z-C)),xe)},ko.prototype.takeRightWhile=function(C){return this.reverse().takeWhile(C).reverse()},ko.prototype.toArray=function(){return this.take(_t)},Du(ko.prototype,function(C,Z){var xe=/^(?:filter|find|map|reject)|While$/.test(Z),Lt=/^(?:head|last)$/.test(Z),Dn=Dt[Lt?"take"+(Z=="last"?"Right":""):Z],Lr=Lt||/^find/.test(Z);Dn&&(Dt.prototype[Z]=function(){var Ni=this.__wrapped__,la=Lt?[1]:arguments,Fa=Ni instanceof ko,Bo=la[0],Fo=Fa||Yl(Ni),Ca=function(Ic){var qc=Dn.apply(Dt,po([Ic],la));return Lt&&Ys?qc[0]:qc};Fo&&xe&&typeof Bo=="function"&&Bo.length!=1&&(Fa=Fo=!1);var Ys=this.__chain__,Cu=!!this.__actions__.length,hl=Lr&&!Ys,ac=Fa&&!Cu;if(!Lr&&Fo){Ni=ac?Ni:new ko(this);var gl=C.apply(Ni,la);return gl.__actions__.push({func:Tm,args:[Ca],thisArg:B}),new yi(gl,Ys)}return hl&&ac?C.apply(this,la):(gl=this.thru(Ca),hl?Lt?gl.value()[0]:gl.value():gl)})}),wr(["pop","push","shift","sort","splice","unshift"],function(C){var Z=ld[C],xe=/^(?:push|sort|unshift)$/.test(C)?"tap":"thru",Lt=/^(?:pop|shift)$/.test(C);Dt.prototype[C]=function(){var Dn=arguments;if(Lt&&!this.__chain__){var Lr=this.value();return Z.apply(Yl(Lr)?Lr:[],Dn)}return this[xe](function(Ni){return Z.apply(Yl(Ni)?Ni:[],Dn)})}}),Du(ko.prototype,function(C,Z){var xe=Dt[Z];if(xe){var Lt=xe.name+"";Qs.call(Me,Lt)||(Me[Lt]=[]),Me[Lt].push({name:Z,func:xe})}}),Me[yu(B,fe).name]=[{name:"wrapper",func:B}],ko.prototype.clone=pu,ko.prototype.reverse=gu,ko.prototype.value=ps,Dt.prototype.at=N_,Dt.prototype.chain=ch,Dt.prototype.commit=og,Dt.prototype.next=D_,Dt.prototype.plant=Gg,Dt.prototype.reverse=$2,Dt.prototype.toJSON=Dt.prototype.valueOf=Dt.prototype.value=B_,Dt.prototype.first=Dt.prototype.head,Xd&&(Dt.prototype[Xd]=k_),Dt},Vs=bs();co._=Vs,w=function(){return Vs}.call(Ne,A,Ne,cn),w!==B&&(cn.exports=w)}).call(this)},53954:function(cn,Ne,A){var w=A(97254),B=A(77991),ne=B(function(ue,j,q,Y){w(ue,j,q,Y)});cn.exports=ne},25066:function(cn,Ne,A){var w=A(5125),B=A(20396),ne=w(B);cn.exports=ne},20396:function(cn,Ne,A){var w=A(66868);function B(ne,ue){return ne&&ne.length&&ue&&ue.length?w(ne,ue):ne}cn.exports=B},38209:function(cn,Ne,A){var w=A(66292),B=A(36838),ne="Expected a function";function ue(j,q,Y){var K=!0,H=!0;if(typeof j!="function")throw new TypeError(ne);return B(Y)&&(K="leading"in Y?!!Y.leading:K,H="trailing"in Y?!!Y.trailing:H),w(j,q,{leading:K,maxWait:q,trailing:H})}cn.exports=ue},4363:function(cn,Ne,A){var w=A(95453);function B(ne){return ne&&ne.length?w(ne):[]}cn.exports=B},42950:function(cn,Ne,A){var w=A(23684),B=w("toUpperCase");cn.exports=B},71055:function(cn,Ne,A){var w=A(81034),B=A(37854),ne=A(8389),ue=A(24155);function j(q,Y,K){return q=ne(q),Y=K?void 0:Y,Y===void 0?B(q)?ue(q):w(q):q.match(Y)||[]}cn.exports=j},22767:function(cn){"use strict";var Ne=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;function B(ue){if(ue==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ue)}function ne(){try{if(!Object.assign)return!1;var ue=new String("abc");if(ue[5]="de",Object.getOwnPropertyNames(ue)[0]==="5")return!1;for(var j={},q=0;q<10;q++)j["_"+String.fromCharCode(q)]=q;var Y=Object.getOwnPropertyNames(j).map(function(H){return j[H]});if(Y.join("")!=="0123456789")return!1;var K={};return"abcdefghijklmnopqrst".split("").forEach(function(H){K[H]=H}),Object.keys(Object.assign({},K)).join("")==="abcdefghijklmnopqrst"}catch(H){return!1}}cn.exports=ne()?Object.assign:function(ue,j){for(var q,Y=B(ue),K,H=1;H<arguments.length;H++){q=Object(arguments[H]);for(var ae in q)A.call(q,ae)&&(Y[ae]=q[ae]);if(Ne){K=Ne(q);for(var ie=0;ie<K.length;ie++)w.call(q,K[ie])&&(Y[K[ie]]=q[K[ie]])}}return Y}},51663:function(cn,Ne,A){"use strict";cn.exports=B;var w=A(30551);function B(qe){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(qe)?qe:new Uint8Array(qe||0),this.pos=0,this.type=0,this.length=this.buf.length}B.Varint=0,B.Fixed64=1,B.Bytes=2,B.Fixed32=5;var ne=65536*65536,ue=1/ne,j=12,q=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8");B.prototype={destroy:function(){this.buf=null},readFields:function(qe,Nt,ft){for(ft=ft||this.length;this.pos<ft;){var ln=this.readVarint(),tt=ln>>3,Pe=this.pos;this.type=ln&7,qe(tt,Nt,this),this.pos===Pe&&this.skip(ln)}return Nt},readMessage:function(qe,Nt){return this.readFields(qe,Nt,this.readVarint()+this.pos)},readFixed32:function(){var qe=Ke(this.buf,this.pos);return this.pos+=4,qe},readSFixed32:function(){var qe=Pt(this.buf,this.pos);return this.pos+=4,qe},readFixed64:function(){var qe=Ke(this.buf,this.pos)+Ke(this.buf,this.pos+4)*ne;return this.pos+=8,qe},readSFixed64:function(){var qe=Ke(this.buf,this.pos)+Pt(this.buf,this.pos+4)*ne;return this.pos+=8,qe},readFloat:function(){var qe=w.read(this.buf,this.pos,!0,23,4);return this.pos+=4,qe},readDouble:function(){var qe=w.read(this.buf,this.pos,!0,52,8);return this.pos+=8,qe},readVarint:function(qe){var Nt=this.buf,ft,ln;return ln=Nt[this.pos++],ft=ln&127,ln<128||(ln=Nt[this.pos++],ft|=(ln&127)<<7,ln<128)||(ln=Nt[this.pos++],ft|=(ln&127)<<14,ln<128)||(ln=Nt[this.pos++],ft|=(ln&127)<<21,ln<128)?ft:(ln=Nt[this.pos],ft|=(ln&15)<<28,Y(ft,qe,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var qe=this.readVarint();return qe%2===1?(qe+1)/-2:qe/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var qe=this.readVarint()+this.pos,Nt=this.pos;return this.pos=qe,qe-Nt>=j&&q?rn(this.buf,Nt,qe):Gt(this.buf,Nt,qe)},readBytes:function(){var qe=this.readVarint()+this.pos,Nt=this.buf.subarray(this.pos,qe);return this.pos=qe,Nt},readPackedVarint:function(qe,Nt){if(this.type!==B.Bytes)return qe.push(this.readVarint(Nt));var ft=K(this);for(qe=qe||[];this.pos<ft;)qe.push(this.readVarint(Nt));return qe},readPackedSVarint:function(qe){if(this.type!==B.Bytes)return qe.push(this.readSVarint());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readSVarint());return qe},readPackedBoolean:function(qe){if(this.type!==B.Bytes)return qe.push(this.readBoolean());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readBoolean());return qe},readPackedFloat:function(qe){if(this.type!==B.Bytes)return qe.push(this.readFloat());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readFloat());return qe},readPackedDouble:function(qe){if(this.type!==B.Bytes)return qe.push(this.readDouble());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readDouble());return qe},readPackedFixed32:function(qe){if(this.type!==B.Bytes)return qe.push(this.readFixed32());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readFixed32());return qe},readPackedSFixed32:function(qe){if(this.type!==B.Bytes)return qe.push(this.readSFixed32());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readSFixed32());return qe},readPackedFixed64:function(qe){if(this.type!==B.Bytes)return qe.push(this.readFixed64());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readFixed64());return qe},readPackedSFixed64:function(qe){if(this.type!==B.Bytes)return qe.push(this.readSFixed64());var Nt=K(this);for(qe=qe||[];this.pos<Nt;)qe.push(this.readSFixed64());return qe},skip:function(qe){var Nt=qe&7;if(Nt===B.Varint)for(;this.buf[this.pos++]>127;);else if(Nt===B.Bytes)this.pos=this.readVarint()+this.pos;else if(Nt===B.Fixed32)this.pos+=4;else if(Nt===B.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+Nt)},writeTag:function(qe,Nt){this.writeVarint(qe<<3|Nt)},realloc:function(qe){for(var Nt=this.length||16;Nt<this.pos+qe;)Nt*=2;if(Nt!==this.length){var ft=new Uint8Array(Nt);ft.set(this.buf),this.buf=ft,this.length=Nt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(qe){this.realloc(4),Ue(this.buf,qe,this.pos),this.pos+=4},writeSFixed32:function(qe){this.realloc(4),Ue(this.buf,qe,this.pos),this.pos+=4},writeFixed64:function(qe){this.realloc(8),Ue(this.buf,qe&-1,this.pos),Ue(this.buf,Math.floor(qe*ue),this.pos+4),this.pos+=8},writeSFixed64:function(qe){this.realloc(8),Ue(this.buf,qe&-1,this.pos),Ue(this.buf,Math.floor(qe*ue),this.pos+4),this.pos+=8},writeVarint:function(qe){if(qe=+qe||0,qe>268435455||qe<0){ae(qe,this);return}this.realloc(4),this.buf[this.pos++]=qe&127|(qe>127?128:0),!(qe<=127)&&(this.buf[this.pos++]=(qe>>>=7)&127|(qe>127?128:0),!(qe<=127)&&(this.buf[this.pos++]=(qe>>>=7)&127|(qe>127?128:0),!(qe<=127)&&(this.buf[this.pos++]=qe>>>7&127)))},writeSVarint:function(qe){this.writeVarint(qe<0?-qe*2-1:qe*2)},writeBoolean:function(qe){this.writeVarint(!!qe)},writeString:function(qe){qe=String(qe),this.realloc(qe.length*4),this.pos++;var Nt=this.pos;this.pos=_n(this.buf,qe,this.pos);var ft=this.pos-Nt;ft>=128&&se(Nt,ft,this),this.pos=Nt-1,this.writeVarint(ft),this.pos+=ft},writeFloat:function(qe){this.realloc(4),w.write(this.buf,qe,this.pos,!0,23,4),this.pos+=4},writeDouble:function(qe){this.realloc(8),w.write(this.buf,qe,this.pos,!0,52,8),this.pos+=8},writeBytes:function(qe){var Nt=qe.length;this.writeVarint(Nt),this.realloc(Nt);for(var ft=0;ft<Nt;ft++)this.buf[this.pos++]=qe[ft]},writeRawMessage:function(qe,Nt){this.pos++;var ft=this.pos;qe(Nt,this);var ln=this.pos-ft;ln>=128&&se(ft,ln,this),this.pos=ft-1,this.writeVarint(ln),this.pos+=ln},writeMessage:function(qe,Nt,ft){this.writeTag(qe,B.Bytes),this.writeRawMessage(Nt,ft)},writePackedVarint:function(qe,Nt){Nt.length&&this.writeMessage(qe,ge,Nt)},writePackedSVarint:function(qe,Nt){Nt.length&&this.writeMessage(qe,ye,Nt)},writePackedBoolean:function(qe,Nt){Nt.length&&this.writeMessage(qe,Fe,Nt)},writePackedFloat:function(qe,Nt){Nt.length&&this.writeMessage(qe,ve,Nt)},writePackedDouble:function(qe,Nt){Nt.length&&this.writeMessage(qe,fe,Nt)},writePackedFixed32:function(qe,Nt){Nt.length&&this.writeMessage(qe,yt,Nt)},writePackedSFixed32:function(qe,Nt){Nt.length&&this.writeMessage(qe,gt,Nt)},writePackedFixed64:function(qe,Nt){Nt.length&&this.writeMessage(qe,pt,Nt)},writePackedSFixed64:function(qe,Nt){Nt.length&&this.writeMessage(qe,lt,Nt)},writeBytesField:function(qe,Nt){this.writeTag(qe,B.Bytes),this.writeBytes(Nt)},writeFixed32Field:function(qe,Nt){this.writeTag(qe,B.Fixed32),this.writeFixed32(Nt)},writeSFixed32Field:function(qe,Nt){this.writeTag(qe,B.Fixed32),this.writeSFixed32(Nt)},writeFixed64Field:function(qe,Nt){this.writeTag(qe,B.Fixed64),this.writeFixed64(Nt)},writeSFixed64Field:function(qe,Nt){this.writeTag(qe,B.Fixed64),this.writeSFixed64(Nt)},writeVarintField:function(qe,Nt){this.writeTag(qe,B.Varint),this.writeVarint(Nt)},writeSVarintField:function(qe,Nt){this.writeTag(qe,B.Varint),this.writeSVarint(Nt)},writeStringField:function(qe,Nt){this.writeTag(qe,B.Bytes),this.writeString(Nt)},writeFloatField:function(qe,Nt){this.writeTag(qe,B.Fixed32),this.writeFloat(Nt)},writeDoubleField:function(qe,Nt){this.writeTag(qe,B.Fixed64),this.writeDouble(Nt)},writeBooleanField:function(qe,Nt){this.writeVarintField(qe,!!Nt)}};function Y(qe,Nt,ft){var ln=ft.buf,tt,Pe;if(Pe=ln[ft.pos++],tt=(Pe&112)>>4,Pe<128||(Pe=ln[ft.pos++],tt|=(Pe&127)<<3,Pe<128)||(Pe=ln[ft.pos++],tt|=(Pe&127)<<10,Pe<128)||(Pe=ln[ft.pos++],tt|=(Pe&127)<<17,Pe<128)||(Pe=ln[ft.pos++],tt|=(Pe&127)<<24,Pe<128)||(Pe=ln[ft.pos++],tt|=(Pe&1)<<31,Pe<128))return H(qe,tt,Nt);throw new Error("Expected varint not more than 10 bytes")}function K(qe){return qe.type===B.Bytes?qe.readVarint()+qe.pos:qe.pos+1}function H(qe,Nt,ft){return ft?Nt*4294967296+(qe>>>0):(Nt>>>0)*4294967296+(qe>>>0)}function ae(qe,Nt){var ft,ln;if(qe>=0?(ft=qe%4294967296|0,ln=qe/4294967296|0):(ft=~(-qe%4294967296),ln=~(-qe/4294967296),ft^4294967295?ft=ft+1|0:(ft=0,ln=ln+1|0)),qe>=18446744073709552e3||qe<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Nt.realloc(10),ie(ft,ln,Nt),le(ln,Nt)}function ie(qe,Nt,ft){ft.buf[ft.pos++]=qe&127|128,qe>>>=7,ft.buf[ft.pos++]=qe&127|128,qe>>>=7,ft.buf[ft.pos++]=qe&127|128,qe>>>=7,ft.buf[ft.pos++]=qe&127|128,qe>>>=7,ft.buf[ft.pos]=qe&127}function le(qe,Nt){var ft=(qe&7)<<4;Nt.buf[Nt.pos++]|=ft|((qe>>>=3)?128:0),qe&&(Nt.buf[Nt.pos++]=qe&127|((qe>>>=7)?128:0),qe&&(Nt.buf[Nt.pos++]=qe&127|((qe>>>=7)?128:0),qe&&(Nt.buf[Nt.pos++]=qe&127|((qe>>>=7)?128:0),qe&&(Nt.buf[Nt.pos++]=qe&127|((qe>>>=7)?128:0),qe&&(Nt.buf[Nt.pos++]=qe&127)))))}function se(qe,Nt,ft){var ln=Nt<=16383?1:Nt<=2097151?2:Nt<=268435455?3:Math.floor(Math.log(Nt)/(Math.LN2*7));ft.realloc(ln);for(var tt=ft.pos-1;tt>=qe;tt--)ft.buf[tt+ln]=ft.buf[tt]}function ge(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeVarint(qe[ft])}function ye(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeSVarint(qe[ft])}function ve(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeFloat(qe[ft])}function fe(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeDouble(qe[ft])}function Fe(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeBoolean(qe[ft])}function yt(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeFixed32(qe[ft])}function gt(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeSFixed32(qe[ft])}function pt(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeFixed64(qe[ft])}function lt(qe,Nt){for(var ft=0;ft<qe.length;ft++)Nt.writeSFixed64(qe[ft])}function Ke(qe,Nt){return(qe[Nt]|qe[Nt+1]<<8|qe[Nt+2]<<16)+qe[Nt+3]*16777216}function Ue(qe,Nt,ft){qe[ft]=Nt,qe[ft+1]=Nt>>>8,qe[ft+2]=Nt>>>16,qe[ft+3]=Nt>>>24}function Pt(qe,Nt){return(qe[Nt]|qe[Nt+1]<<8|qe[Nt+2]<<16)+(qe[Nt+3]<<24)}function Gt(qe,Nt,ft){for(var ln="",tt=Nt;tt<ft;){var Pe=qe[tt],Qe=null,He=Pe>239?4:Pe>223?3:Pe>191?2:1;if(tt+He>ft)break;var _t,Bt,At;He===1?Pe<128&&(Qe=Pe):He===2?(_t=qe[tt+1],(_t&192)===128&&(Qe=(Pe&31)<<6|_t&63,Qe<=127&&(Qe=null))):He===3?(_t=qe[tt+1],Bt=qe[tt+2],(_t&192)===128&&(Bt&192)===128&&(Qe=(Pe&15)<<12|(_t&63)<<6|Bt&63,(Qe<=2047||Qe>=55296&&Qe<=57343)&&(Qe=null))):He===4&&(_t=qe[tt+1],Bt=qe[tt+2],At=qe[tt+3],(_t&192)===128&&(Bt&192)===128&&(At&192)===128&&(Qe=(Pe&15)<<18|(_t&63)<<12|(Bt&63)<<6|At&63,(Qe<=65535||Qe>=1114112)&&(Qe=null))),Qe===null?(Qe=65533,He=1):Qe>65535&&(Qe-=65536,ln+=String.fromCharCode(Qe>>>10&1023|55296),Qe=56320|Qe&1023),ln+=String.fromCharCode(Qe),tt+=He}return ln}function rn(qe,Nt,ft){return q.decode(qe.subarray(Nt,ft))}function _n(qe,Nt,ft){for(var ln=0,tt,Pe;ln<Nt.length;ln++){if(tt=Nt.charCodeAt(ln),tt>55295&&tt<57344)if(Pe)if(tt<56320){qe[ft++]=239,qe[ft++]=191,qe[ft++]=189,Pe=tt;continue}else tt=Pe-55296<<10|tt-56320|65536,Pe=null;else{tt>56319||ln+1===Nt.length?(qe[ft++]=239,qe[ft++]=191,qe[ft++]=189):Pe=tt;continue}else Pe&&(qe[ft++]=239,qe[ft++]=191,qe[ft++]=189,Pe=null);tt<128?qe[ft++]=tt:(tt<2048?qe[ft++]=tt>>6|192:(tt<65536?qe[ft++]=tt>>12|224:(qe[ft++]=tt>>18|240,qe[ft++]=tt>>12&63|128),qe[ft++]=tt>>6&63|128),qe[ft++]=tt&63|128)}return ft}},42956:function(cn){"use strict";var Ne=cn.exports;cn.exports.isNumber=function(A){return typeof A=="number"},cn.exports.findMin=function(A){if(A.length===0)return 1/0;for(var w=A[0],B=1;B<A.length;B++)w=Math.min(w,A[B]);return w},cn.exports.findMax=function(A){if(A.length===0)return-1/0;for(var w=A[0],B=1;B<A.length;B++)w=Math.max(w,A[B]);return w},cn.exports.findMinMulti=function(A){for(var w=Ne.findMin(A[0]),B=1;B<A.length;B++)w=Math.min(w,Ne.findMin(A[B]));return w},cn.exports.findMaxMulti=function(A){for(var w=Ne.findMax(A[0]),B=1;B<A.length;B++)w=Math.max(w,Ne.findMax(A[B]));return w},cn.exports.inside=function(A,w,B){return A<=B&&B<=w}},78434:function(cn,Ne,A){"use strict";var w=50,B=2,ne=Math.log(2),ue=cn.exports,j=A(42956);function q(K){return 1-Math.abs(K)}cn.exports.getUnifiedMinMax=function(K,H){return ue.getUnifiedMinMaxMulti([K],H)},cn.exports.getUnifiedMinMaxMulti=function(K,H){H=H||{};var ae=!1,ie=!1,le=j.isNumber(H.width)?H.width:B,se=j.isNumber(H.size)?H.size:w,ge=j.isNumber(H.min)?H.min:(ae=!0,j.findMinMulti(K)),ye=j.isNumber(H.max)?H.max:(ie=!0,j.findMaxMulti(K)),ve=ye-ge,fe=ve/(se-1);return ae&&(ge=ge-2*le*fe),ie&&(ye=ye+2*le*fe),{min:ge,max:ye}},cn.exports.create=function(K,H){if(H=H||{},!K||K.length===0)return[];var ae=j.isNumber(H.size)?H.size:w,ie=j.isNumber(H.width)?H.width:B,le=ue.getUnifiedMinMax(K,{size:ae,width:ie,min:H.min,max:H.max}),se=le.min,ge=le.max,ye=ge-se,ve=ye/(ae-1);if(ye===0)return[{x:se,y:1}];for(var fe=[],Fe=0;Fe<ae;Fe++)fe.push({x:se+Fe*ve,y:0});var yt=function(rn){return Math.floor((rn-se)/ve)},gt=Y(q,ie),pt=gt[ie],lt=gt[ie-1]-gt[ie-2],Ke=0;K.forEach(function(rn){var _n=yt(rn);if(!(_n+ie<0||_n-ie>=fe.length)){var qe=Math.max(_n-ie,0),Nt=_n,ft=Math.min(_n+ie,fe.length-1),ln=qe-(_n-ie),tt=_n+ie-ft,Pe=gt[-ie-1+ln]||0,Qe=gt[-ie-1+tt]||0,He=pt/(pt-Pe-Qe);ln>0&&(Ke+=He*(ln-1)*lt);var _t=Math.max(0,_n-ie+1);j.inside(0,fe.length-1,_t)&&(fe[_t].y+=He*1*lt),j.inside(0,fe.length-1,Nt+1)&&(fe[Nt+1].y-=He*2*lt),j.inside(0,fe.length-1,ft+1)&&(fe[ft+1].y+=He*1*lt)}});var Ue=Ke,Pt=0,Gt=0;return fe.forEach(function(rn){Pt+=rn.y,Ue+=Pt,rn.y=Ue,Gt+=Ue}),Gt>0&&fe.forEach(function(rn){rn.y/=Gt}),fe};function Y(K,H){for(var ae={},ie=0,le=-H;le<=H;le++)ie+=K(le/H),ae[le]=ie;return ae}cn.exports.getExpectedValueFromPdf=function(K){if(!(!K||K.length===0)){var H=0;return K.forEach(function(ae){H+=ae.x*ae.y}),H}},cn.exports.getXWithLeftTailArea=function(K,H){if(!(!K||K.length===0)){for(var ae=0,ie=0,le=0;le<K.length&&(ie=le,ae+=K[le].y,!(ae>=H));le++);return K[ie].x}},cn.exports.getPerplexity=function(K){if(!(!K||K.length===0)){var H=0;return K.forEach(function(ae){var ie=Math.log(ae.y);isFinite(ie)&&(H+=ae.y*ie)}),H=-H/ne,Math.pow(2,H)}}},41227:function(cn,Ne,A){var w=A(14224);(function(B,ne){cn.exports=ne()})(this,function(){"use strict";function B(nt,ze){var vt={label:0,sent:function(){if(at[0]&1)throw at[1];return at[1]},trys:[],ops:[]},$t,gn,at,an;return an={next:hn(0),throw:hn(1),return:hn(2)},typeof Symbol=="function"&&(an[Symbol.iterator]=function(){return this}),an;function hn(ur){return function(pi){return pr([ur,pi])}}function pr(ur){if($t)throw new TypeError("Generator is already executing.");for(;vt;)try{if($t=1,gn&&(at=ur[0]&2?gn.return:ur[0]?gn.throw||((at=gn.return)&&at.call(gn),0):gn.next)&&!(at=at.call(gn,ur[1])).done)return at;switch(gn=0,at&&(ur=[ur[0]&2,at.value]),ur[0]){case 0:case 1:at=ur;break;case 4:return vt.label++,{value:ur[1],done:!1};case 5:vt.label++,gn=ur[1],ur=[0];continue;case 7:ur=vt.ops.pop(),vt.trys.pop();continue;default:if(at=vt.trys,!(at=at.length>0&&at[at.length-1])&&(ur[0]===6||ur[0]===2)){vt=0;continue}if(ur[0]===3&&(!at||ur[1]>at[0]&&ur[1]<at[3])){vt.label=ur[1];break}if(ur[0]===6&&vt.label<at[1]){vt.label=at[1],at=ur;break}if(at&&vt.label<at[2]){vt.label=at[2],vt.ops.push(ur);break}at[2]&&vt.ops.pop(),vt.trys.pop();continue}ur=ze.call(nt,vt)}catch(pi){ur=[6,pi],gn=0}finally{$t=at=0}if(ur[0]&5)throw ur[1];return{value:ur[0]?ur[1]:void 0,done:!0}}}var ne=function(){function nt(ze,vt){this.next=null,this.key=ze,this.data=vt,this.left=null,this.right=null}return nt}();function ue(nt,ze){return nt>ze?1:nt<ze?-1:0}function j(nt,ze,vt){for(var $t=new ne(null,null),gn=$t,at=$t;;){var an=vt(nt,ze.key);if(an<0){if(ze.left===null)break;if(vt(nt,ze.left.key)<0){var hn=ze.left;if(ze.left=hn.right,hn.right=ze,ze=hn,ze.left===null)break}at.left=ze,at=ze,ze=ze.left}else if(an>0){if(ze.right===null)break;if(vt(nt,ze.right.key)>0){var hn=ze.right;if(ze.right=hn.left,hn.left=ze,ze=hn,ze.right===null)break}gn.right=ze,gn=ze,ze=ze.right}else break}return gn.right=ze.left,at.left=ze.right,ze.left=$t.right,ze.right=$t.left,ze}function q(nt,ze,vt,$t){var gn=new ne(nt,ze);if(vt===null)return gn.left=gn.right=null,gn;vt=j(nt,vt,$t);var at=$t(nt,vt.key);return at<0?(gn.left=vt.left,gn.right=vt,vt.left=null):at>=0&&(gn.right=vt.right,gn.left=vt,vt.right=null),gn}function Y(nt,ze,vt){var $t=null,gn=null;if(ze){ze=j(nt,ze,vt);var at=vt(ze.key,nt);at===0?($t=ze.left,gn=ze.right):at<0?(gn=ze.right,ze.right=null,$t=ze):($t=ze.left,ze.left=null,gn=ze)}return{left:$t,right:gn}}function K(nt,ze,vt){return ze===null?nt:(nt===null||(ze=j(nt.key,ze,vt),ze.left=nt),ze)}function H(nt,ze,vt,$t,gn){if(nt){$t(""+ze+(vt?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+gn(nt)+`
`);var at=ze+(vt?"    ":"\u2502   ");nt.left&&H(nt.left,at,!1,$t,gn),nt.right&&H(nt.right,at,!0,$t,gn)}}var ae=function(){function nt(ze){ze===void 0&&(ze=ue),this._root=null,this._size=0,this._comparator=ze}return nt.prototype.insert=function(ze,vt){return this._size++,this._root=q(ze,vt,this._root,this._comparator)},nt.prototype.add=function(ze,vt){var $t=new ne(ze,vt);this._root===null&&($t.left=$t.right=null,this._size++,this._root=$t);var gn=this._comparator,at=j(ze,this._root,gn),an=gn(ze,at.key);return an===0?this._root=at:(an<0?($t.left=at.left,$t.right=at,at.left=null):an>0&&($t.right=at.right,$t.left=at,at.right=null),this._size++,this._root=$t),this._root},nt.prototype.remove=function(ze){this._root=this._remove(ze,this._root,this._comparator)},nt.prototype._remove=function(ze,vt,$t){var gn;if(vt===null)return null;vt=j(ze,vt,$t);var at=$t(ze,vt.key);return at===0?(vt.left===null?gn=vt.right:(gn=j(ze,vt.left,$t),gn.right=vt.right),this._size--,gn):vt},nt.prototype.pop=function(){var ze=this._root;if(ze){for(;ze.left;)ze=ze.left;return this._root=j(ze.key,this._root,this._comparator),this._root=this._remove(ze.key,this._root,this._comparator),{key:ze.key,data:ze.data}}return null},nt.prototype.findStatic=function(ze){for(var vt=this._root,$t=this._comparator;vt;){var gn=$t(ze,vt.key);if(gn===0)return vt;gn<0?vt=vt.left:vt=vt.right}return null},nt.prototype.find=function(ze){return this._root&&(this._root=j(ze,this._root,this._comparator),this._comparator(ze,this._root.key)!==0)?null:this._root},nt.prototype.contains=function(ze){for(var vt=this._root,$t=this._comparator;vt;){var gn=$t(ze,vt.key);if(gn===0)return!0;gn<0?vt=vt.left:vt=vt.right}return!1},nt.prototype.forEach=function(ze,vt){for(var $t=this._root,gn=[],at=!1;!at;)$t!==null?(gn.push($t),$t=$t.left):gn.length!==0?($t=gn.pop(),ze.call(vt,$t),$t=$t.right):at=!0;return this},nt.prototype.range=function(ze,vt,$t,gn){for(var at=[],an=this._comparator,hn=this._root,pr;at.length!==0||hn;)if(hn)at.push(hn),hn=hn.left;else{if(hn=at.pop(),pr=an(hn.key,vt),pr>0)break;if(an(hn.key,ze)>=0&&$t.call(gn,hn))return this;hn=hn.right}return this},nt.prototype.keys=function(){var ze=[];return this.forEach(function(vt){var $t=vt.key;return ze.push($t)}),ze},nt.prototype.values=function(){var ze=[];return this.forEach(function(vt){var $t=vt.data;return ze.push($t)}),ze},nt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},nt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},nt.prototype.minNode=function(ze){if(ze===void 0&&(ze=this._root),ze)for(;ze.left;)ze=ze.left;return ze},nt.prototype.maxNode=function(ze){if(ze===void 0&&(ze=this._root),ze)for(;ze.right;)ze=ze.right;return ze},nt.prototype.at=function(ze){for(var vt=this._root,$t=!1,gn=0,at=[];!$t;)if(vt)at.push(vt),vt=vt.left;else if(at.length>0){if(vt=at.pop(),gn===ze)return vt;gn++,vt=vt.right}else $t=!0;return null},nt.prototype.next=function(ze){var vt=this._root,$t=null;if(ze.right){for($t=ze.right;$t.left;)$t=$t.left;return $t}for(var gn=this._comparator;vt;){var at=gn(ze.key,vt.key);if(at===0)break;at<0?($t=vt,vt=vt.left):vt=vt.right}return $t},nt.prototype.prev=function(ze){var vt=this._root,$t=null;if(ze.left!==null){for($t=ze.left;$t.right;)$t=$t.right;return $t}for(var gn=this._comparator;vt;){var at=gn(ze.key,vt.key);if(at===0)break;at<0?vt=vt.left:($t=vt,vt=vt.right)}return $t},nt.prototype.clear=function(){return this._root=null,this._size=0,this},nt.prototype.toList=function(){return se(this._root)},nt.prototype.load=function(ze,vt,$t){vt===void 0&&(vt=[]),$t===void 0&&($t=!1);var gn=ze.length,at=this._comparator;if($t&&ve(ze,vt,0,gn-1,at),this._root===null)this._root=ie(ze,vt,0,gn),this._size=gn;else{var an=ye(this.toList(),le(ze,vt),at);gn=this._size+gn,this._root=ge({head:an},0,gn)}return this},nt.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(nt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),nt.prototype.toString=function(ze){ze===void 0&&(ze=function($t){return String($t.key)});var vt=[];return H(this._root,"",!0,function($t){return vt.push($t)},ze),vt.join("")},nt.prototype.update=function(ze,vt,$t){var gn=this._comparator,at=Y(ze,this._root,gn),an=at.left,hn=at.right;gn(ze,vt)<0?hn=q(vt,$t,hn,gn):an=q(vt,$t,an,gn),this._root=K(an,hn,gn)},nt.prototype.split=function(ze){return Y(ze,this._root,this._comparator)},nt.prototype[Symbol.iterator]=function(){var ze,vt,$t;return B(this,function(gn){switch(gn.label){case 0:ze=this._root,vt=[],$t=!1,gn.label=1;case 1:return $t?[3,6]:ze===null?[3,2]:(vt.push(ze),ze=ze.left,[3,5]);case 2:return vt.length===0?[3,4]:(ze=vt.pop(),[4,ze]);case 3:return gn.sent(),ze=ze.right,[3,5];case 4:$t=!0,gn.label=5;case 5:return[3,1];case 6:return[2]}})},nt}();function ie(nt,ze,vt,$t){var gn=$t-vt;if(gn>0){var at=vt+Math.floor(gn/2),an=nt[at],hn=ze[at],pr=new ne(an,hn);return pr.left=ie(nt,ze,vt,at),pr.right=ie(nt,ze,at+1,$t),pr}return null}function le(nt,ze){for(var vt=new ne(null,null),$t=vt,gn=0;gn<nt.length;gn++)$t=$t.next=new ne(nt[gn],ze[gn]);return $t.next=null,vt.next}function se(nt){for(var ze=nt,vt=[],$t=!1,gn=new ne(null,null),at=gn;!$t;)ze?(vt.push(ze),ze=ze.left):vt.length>0?(ze=at=at.next=vt.pop(),ze=ze.right):$t=!0;return at.next=null,gn.next}function ge(nt,ze,vt){var $t=vt-ze;if($t>0){var gn=ze+Math.floor($t/2),at=ge(nt,ze,gn),an=nt.head;return an.left=at,nt.head=nt.head.next,an.right=ge(nt,gn+1,vt),an}return null}function ye(nt,ze,vt){for(var $t=new ne(null,null),gn=$t,at=nt,an=ze;at!==null&&an!==null;)vt(at.key,an.key)<0?(gn.next=at,at=at.next):(gn.next=an,an=an.next),gn=gn.next;return at!==null?gn.next=at:an!==null&&(gn.next=an),$t.next}function ve(nt,ze,vt,$t,gn){if(!(vt>=$t)){for(var at=nt[vt+$t>>1],an=vt-1,hn=$t+1;;){do an++;while(gn(nt[an],at)<0);do hn--;while(gn(nt[hn],at)>0);if(an>=hn)break;var pr=nt[an];nt[an]=nt[hn],nt[hn]=pr,pr=ze[an],ze[an]=ze[hn],ze[hn]=pr}ve(nt,ze,vt,hn,gn),ve(nt,ze,hn+1,$t,gn)}}const fe=(nt,ze)=>nt.ll.x<=ze.x&&ze.x<=nt.ur.x&&nt.ll.y<=ze.y&&ze.y<=nt.ur.y,Fe=(nt,ze)=>{if(ze.ur.x<nt.ll.x||nt.ur.x<ze.ll.x||ze.ur.y<nt.ll.y||nt.ur.y<ze.ll.y)return null;const vt=nt.ll.x<ze.ll.x?ze.ll.x:nt.ll.x,$t=nt.ur.x<ze.ur.x?nt.ur.x:ze.ur.x,gn=nt.ll.y<ze.ll.y?ze.ll.y:nt.ll.y,at=nt.ur.y<ze.ur.y?nt.ur.y:ze.ur.y;return{ll:{x:vt,y:gn},ur:{x:$t,y:at}}};let yt=Number.EPSILON;yt===void 0&&(yt=Math.pow(2,-52));const gt=yt*yt,pt=(nt,ze)=>{if(-yt<nt&&nt<yt&&-yt<ze&&ze<yt)return 0;const vt=nt-ze;return vt*vt<gt*nt*ze?0:nt<ze?-1:1};class lt{constructor(){this.reset()}reset(){this.xRounder=new Ke,this.yRounder=new Ke}round(ze,vt){return{x:this.xRounder.round(ze),y:this.yRounder.round(vt)}}}class Ke{constructor(){this.tree=new ae,this.round(0)}round(ze){const vt=this.tree.add(ze),$t=this.tree.prev(vt);if($t!==null&&pt(vt.key,$t.key)===0)return this.tree.remove(ze),$t.key;const gn=this.tree.next(vt);return gn!==null&&pt(vt.key,gn.key)===0?(this.tree.remove(ze),gn.key):ze}}const Ue=new lt,Pt=11102230246251565e-32,Gt=134217729,rn=(3+8*Pt)*Pt;function _n(nt,ze,vt,$t,gn){let at,an,hn,pr,ur=ze[0],pi=$t[0],ar=0,di=0;pi>ur==pi>-ur?(at=ur,ur=ze[++ar]):(at=pi,pi=$t[++di]);let sa=0;if(ar<nt&&di<vt)for(pi>ur==pi>-ur?(an=ur+at,hn=at-(an-ur),ur=ze[++ar]):(an=pi+at,hn=at-(an-pi),pi=$t[++di]),at=an,hn!==0&&(gn[sa++]=hn);ar<nt&&di<vt;)pi>ur==pi>-ur?(an=at+ur,pr=an-at,hn=at-(an-pr)+(ur-pr),ur=ze[++ar]):(an=at+pi,pr=an-at,hn=at-(an-pr)+(pi-pr),pi=$t[++di]),at=an,hn!==0&&(gn[sa++]=hn);for(;ar<nt;)an=at+ur,pr=an-at,hn=at-(an-pr)+(ur-pr),ur=ze[++ar],at=an,hn!==0&&(gn[sa++]=hn);for(;di<vt;)an=at+pi,pr=an-at,hn=at-(an-pr)+(pi-pr),pi=$t[++di],at=an,hn!==0&&(gn[sa++]=hn);return(at!==0||sa===0)&&(gn[sa++]=at),sa}function qe(nt,ze){let vt=ze[0];for(let $t=1;$t<nt;$t++)vt+=ze[$t];return vt}function Nt(nt){return new Float64Array(nt)}const ft=(3+16*Pt)*Pt,ln=(2+12*Pt)*Pt,tt=(9+64*Pt)*Pt*Pt,Pe=Nt(4),Qe=Nt(8),He=Nt(12),_t=Nt(16),Bt=Nt(4);function At(nt,ze,vt,$t,gn,at,an){let hn,pr,ur,pi,ar,di,sa,xa,za,Ui,Ao,fs,cs,ra,ms,xi,Gn,_e;const oi=nt-gn,Ka=vt-gn,Cn=ze-at,Un=$t-at;ra=oi*Un,di=Gt*oi,sa=di-(di-oi),xa=oi-sa,di=Gt*Un,za=di-(di-Un),Ui=Un-za,ms=xa*Ui-(ra-sa*za-xa*za-sa*Ui),xi=Cn*Ka,di=Gt*Cn,sa=di-(di-Cn),xa=Cn-sa,di=Gt*Ka,za=di-(di-Ka),Ui=Ka-za,Gn=xa*Ui-(xi-sa*za-xa*za-sa*Ui),Ao=ms-Gn,ar=ms-Ao,Pe[0]=ms-(Ao+ar)+(ar-Gn),fs=ra+Ao,ar=fs-ra,cs=ra-(fs-ar)+(Ao-ar),Ao=cs-xi,ar=cs-Ao,Pe[1]=cs-(Ao+ar)+(ar-xi),_e=fs+Ao,ar=_e-fs,Pe[2]=fs-(_e-ar)+(Ao-ar),Pe[3]=_e;let tn=qe(4,Pe),It=ln*an;if(tn>=It||-tn>=It||(ar=nt-oi,hn=nt-(oi+ar)+(ar-gn),ar=vt-Ka,ur=vt-(Ka+ar)+(ar-gn),ar=ze-Cn,pr=ze-(Cn+ar)+(ar-at),ar=$t-Un,pi=$t-(Un+ar)+(ar-at),hn===0&&pr===0&&ur===0&&pi===0)||(It=tt*an+rn*Math.abs(tn),tn+=oi*pi+Un*hn-(Cn*ur+Ka*pr),tn>=It||-tn>=It))return tn;ra=hn*Un,di=Gt*hn,sa=di-(di-hn),xa=hn-sa,di=Gt*Un,za=di-(di-Un),Ui=Un-za,ms=xa*Ui-(ra-sa*za-xa*za-sa*Ui),xi=pr*Ka,di=Gt*pr,sa=di-(di-pr),xa=pr-sa,di=Gt*Ka,za=di-(di-Ka),Ui=Ka-za,Gn=xa*Ui-(xi-sa*za-xa*za-sa*Ui),Ao=ms-Gn,ar=ms-Ao,Bt[0]=ms-(Ao+ar)+(ar-Gn),fs=ra+Ao,ar=fs-ra,cs=ra-(fs-ar)+(Ao-ar),Ao=cs-xi,ar=cs-Ao,Bt[1]=cs-(Ao+ar)+(ar-xi),_e=fs+Ao,ar=_e-fs,Bt[2]=fs-(_e-ar)+(Ao-ar),Bt[3]=_e;const Zt=_n(4,Pe,4,Bt,Qe);ra=oi*pi,di=Gt*oi,sa=di-(di-oi),xa=oi-sa,di=Gt*pi,za=di-(di-pi),Ui=pi-za,ms=xa*Ui-(ra-sa*za-xa*za-sa*Ui),xi=Cn*ur,di=Gt*Cn,sa=di-(di-Cn),xa=Cn-sa,di=Gt*ur,za=di-(di-ur),Ui=ur-za,Gn=xa*Ui-(xi-sa*za-xa*za-sa*Ui),Ao=ms-Gn,ar=ms-Ao,Bt[0]=ms-(Ao+ar)+(ar-Gn),fs=ra+Ao,ar=fs-ra,cs=ra-(fs-ar)+(Ao-ar),Ao=cs-xi,ar=cs-Ao,Bt[1]=cs-(Ao+ar)+(ar-xi),_e=fs+Ao,ar=_e-fs,Bt[2]=fs-(_e-ar)+(Ao-ar),Bt[3]=_e;const $e=_n(Zt,Qe,4,Bt,He);ra=hn*pi,di=Gt*hn,sa=di-(di-hn),xa=hn-sa,di=Gt*pi,za=di-(di-pi),Ui=pi-za,ms=xa*Ui-(ra-sa*za-xa*za-sa*Ui),xi=pr*ur,di=Gt*pr,sa=di-(di-pr),xa=pr-sa,di=Gt*ur,za=di-(di-ur),Ui=ur-za,Gn=xa*Ui-(xi-sa*za-xa*za-sa*Ui),Ao=ms-Gn,ar=ms-Ao,Bt[0]=ms-(Ao+ar)+(ar-Gn),fs=ra+Ao,ar=fs-ra,cs=ra-(fs-ar)+(Ao-ar),Ao=cs-xi,ar=cs-Ao,Bt[1]=cs-(Ao+ar)+(ar-xi),_e=fs+Ao,ar=_e-fs,Bt[2]=fs-(_e-ar)+(Ao-ar),Bt[3]=_e;const Bn=_n($e,He,4,Bt,_t);return _t[Bn-1]}function Je(nt,ze,vt,$t,gn,at){const an=(ze-at)*(vt-gn),hn=(nt-gn)*($t-at),pr=an-hn,ur=Math.abs(an+hn);return Math.abs(pr)>=ft*ur?pr:-At(nt,ze,vt,$t,gn,at,ur)}const zt=(nt,ze)=>nt.x*ze.y-nt.y*ze.x,mn=(nt,ze)=>nt.x*ze.x+nt.y*ze.y,Ot=(nt,ze,vt)=>{const $t=Je(nt.x,nt.y,ze.x,ze.y,vt.x,vt.y);return $t>0?-1:$t<0?1:0},Xe=nt=>Math.sqrt(mn(nt,nt)),ct=(nt,ze,vt)=>{const $t={x:ze.x-nt.x,y:ze.y-nt.y},gn={x:vt.x-nt.x,y:vt.y-nt.y};return zt(gn,$t)/Xe(gn)/Xe($t)},Rt=(nt,ze,vt)=>{const $t={x:ze.x-nt.x,y:ze.y-nt.y},gn={x:vt.x-nt.x,y:vt.y-nt.y};return mn(gn,$t)/Xe(gn)/Xe($t)},Oe=(nt,ze,vt)=>ze.y===0?null:{x:nt.x+ze.x/ze.y*(vt-nt.y),y:vt},Ge=(nt,ze,vt)=>ze.x===0?null:{x:vt,y:nt.y+ze.y/ze.x*(vt-nt.x)},Vt=(nt,ze,vt,$t)=>{if(ze.x===0)return Ge(vt,$t,nt.x);if($t.x===0)return Ge(nt,ze,vt.x);if(ze.y===0)return Oe(vt,$t,nt.y);if($t.y===0)return Oe(nt,ze,vt.y);const gn=zt(ze,$t);if(gn==0)return null;const at={x:vt.x-nt.x,y:vt.y-nt.y},an=zt(at,ze)/gn,hn=zt(at,$t)/gn,pr=nt.x+hn*ze.x,ur=vt.x+an*$t.x,pi=nt.y+hn*ze.y,ar=vt.y+an*$t.y,di=(pr+ur)/2,sa=(pi+ar)/2;return{x:di,y:sa}};class De{static compare(ze,vt){const $t=De.comparePoints(ze.point,vt.point);return $t!==0?$t:(ze.point!==vt.point&&ze.link(vt),ze.isLeft!==vt.isLeft?ze.isLeft?1:-1:Ce.compare(ze.segment,vt.segment))}static comparePoints(ze,vt){return ze.x<vt.x?-1:ze.x>vt.x?1:ze.y<vt.y?-1:ze.y>vt.y?1:0}constructor(ze,vt){ze.events===void 0?ze.events=[this]:ze.events.push(this),this.point=ze,this.isLeft=vt}link(ze){if(ze.point===this.point)throw new Error("Tried to link already linked events");const vt=ze.point.events;for(let $t=0,gn=vt.length;$t<gn;$t++){const at=vt[$t];this.point.events.push(at),at.point=this.point}this.checkForConsuming()}checkForConsuming(){const ze=this.point.events.length;for(let vt=0;vt<ze;vt++){const $t=this.point.events[vt];if($t.segment.consumedBy===void 0)for(let gn=vt+1;gn<ze;gn++){const at=this.point.events[gn];at.consumedBy===void 0&&$t.otherSE.point.events===at.otherSE.point.events&&$t.segment.consume(at.segment)}}}getAvailableLinkedEvents(){const ze=[];for(let vt=0,$t=this.point.events.length;vt<$t;vt++){const gn=this.point.events[vt];gn!==this&&!gn.segment.ringOut&&gn.segment.isInResult()&&ze.push(gn)}return ze}getLeftmostComparator(ze){const vt=new Map,$t=gn=>{const at=gn.otherSE;vt.set(gn,{sine:ct(this.point,ze.point,at.point),cosine:Rt(this.point,ze.point,at.point)})};return(gn,at)=>{vt.has(gn)||$t(gn),vt.has(at)||$t(at);const{sine:an,cosine:hn}=vt.get(gn),{sine:pr,cosine:ur}=vt.get(at);return an>=0&&pr>=0?hn<ur?1:hn>ur?-1:0:an<0&&pr<0?hn<ur?-1:hn>ur?1:0:pr<an?-1:pr>an?1:0}}}let et=0;class Ce{static compare(ze,vt){const $t=ze.leftSE.point.x,gn=vt.leftSE.point.x,at=ze.rightSE.point.x,an=vt.rightSE.point.x;if(an<$t)return 1;if(at<gn)return-1;const hn=ze.leftSE.point.y,pr=vt.leftSE.point.y,ur=ze.rightSE.point.y,pi=vt.rightSE.point.y;if($t<gn){if(pr<hn&&pr<ur)return 1;if(pr>hn&&pr>ur)return-1;const ar=ze.comparePoint(vt.leftSE.point);if(ar<0)return 1;if(ar>0)return-1;const di=vt.comparePoint(ze.rightSE.point);return di!==0?di:-1}if($t>gn){if(hn<pr&&hn<pi)return-1;if(hn>pr&&hn>pi)return 1;const ar=vt.comparePoint(ze.leftSE.point);if(ar!==0)return ar;const di=ze.comparePoint(vt.rightSE.point);return di<0?1:di>0?-1:1}if(hn<pr)return-1;if(hn>pr)return 1;if(at<an){const ar=vt.comparePoint(ze.rightSE.point);if(ar!==0)return ar}if(at>an){const ar=ze.comparePoint(vt.rightSE.point);if(ar<0)return 1;if(ar>0)return-1}if(at!==an){const ar=ur-hn,di=at-$t,sa=pi-pr,xa=an-gn;if(ar>di&&sa<xa)return 1;if(ar<di&&sa>xa)return-1}return at>an?1:at<an||ur<pi?-1:ur>pi?1:ze.id<vt.id?-1:ze.id>vt.id?1:0}constructor(ze,vt,$t,gn){this.id=++et,this.leftSE=ze,ze.segment=this,ze.otherSE=vt,this.rightSE=vt,vt.segment=this,vt.otherSE=ze,this.rings=$t,this.windings=gn}static fromRing(ze,vt,$t){let gn,at,an;const hn=De.comparePoints(ze,vt);if(hn<0)gn=ze,at=vt,an=1;else if(hn>0)gn=vt,at=ze,an=-1;else throw new Error(`Tried to create degenerate segment at [${ze.x}, ${ze.y}]`);const pr=new De(gn,!0),ur=new De(at,!1);return new Ce(pr,ur,[$t],[an])}replaceRightSE(ze){this.rightSE=ze,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const ze=this.leftSE.point.y,vt=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:ze<vt?ze:vt},ur:{x:this.rightSE.point.x,y:ze>vt?ze:vt}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(ze){return ze.x===this.leftSE.point.x&&ze.y===this.leftSE.point.y||ze.x===this.rightSE.point.x&&ze.y===this.rightSE.point.y}comparePoint(ze){if(this.isAnEndpoint(ze))return 0;const vt=this.leftSE.point,$t=this.rightSE.point,gn=this.vector();if(vt.x===$t.x)return ze.x===vt.x?0:ze.x<vt.x?1:-1;const at=(ze.y-vt.y)/gn.y,an=vt.x+at*gn.x;if(ze.x===an)return 0;const hn=(ze.x-vt.x)/gn.x,pr=vt.y+hn*gn.y;return ze.y===pr?0:ze.y<pr?-1:1}getIntersection(ze){const vt=this.bbox(),$t=ze.bbox(),gn=Fe(vt,$t);if(gn===null)return null;const at=this.leftSE.point,an=this.rightSE.point,hn=ze.leftSE.point,pr=ze.rightSE.point,ur=fe(vt,hn)&&this.comparePoint(hn)===0,pi=fe($t,at)&&ze.comparePoint(at)===0,ar=fe(vt,pr)&&this.comparePoint(pr)===0,di=fe($t,an)&&ze.comparePoint(an)===0;if(pi&&ur)return di&&!ar?an:!di&&ar?pr:null;if(pi)return ar&&at.x===pr.x&&at.y===pr.y?null:at;if(ur)return di&&an.x===hn.x&&an.y===hn.y?null:hn;if(di&&ar)return null;if(di)return an;if(ar)return pr;const sa=Vt(at,this.vector(),hn,ze.vector());return sa===null||!fe(gn,sa)?null:Ue.round(sa.x,sa.y)}split(ze){const vt=[],$t=ze.events!==void 0,gn=new De(ze,!0),at=new De(ze,!1),an=this.rightSE;this.replaceRightSE(at),vt.push(at),vt.push(gn);const hn=new Ce(gn,an,this.rings.slice(),this.windings.slice());return De.comparePoints(hn.leftSE.point,hn.rightSE.point)>0&&hn.swapEvents(),De.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),$t&&(gn.checkForConsuming(),at.checkForConsuming()),vt}swapEvents(){const ze=this.rightSE;this.rightSE=this.leftSE,this.leftSE=ze,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let vt=0,$t=this.windings.length;vt<$t;vt++)this.windings[vt]*=-1}consume(ze){let vt=this,$t=ze;for(;vt.consumedBy;)vt=vt.consumedBy;for(;$t.consumedBy;)$t=$t.consumedBy;const gn=Ce.compare(vt,$t);if(gn!==0){if(gn>0){const at=vt;vt=$t,$t=at}if(vt.prev===$t){const at=vt;vt=$t,$t=at}for(let at=0,an=$t.rings.length;at<an;at++){const hn=$t.rings[at],pr=$t.windings[at],ur=vt.rings.indexOf(hn);ur===-1?(vt.rings.push(hn),vt.windings.push(pr)):vt.windings[ur]+=pr}$t.rings=null,$t.windings=null,$t.consumedBy=vt,$t.leftSE.consumedBy=vt.leftSE,$t.rightSE.consumedBy=vt.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const ze=this.prev.consumedBy||this.prev;this._beforeState=ze.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const ze=this.beforeState();this._afterState={rings:ze.rings.slice(0),windings:ze.windings.slice(0),multiPolys:[]};const vt=this._afterState.rings,$t=this._afterState.windings,gn=this._afterState.multiPolys;for(let hn=0,pr=this.rings.length;hn<pr;hn++){const ur=this.rings[hn],pi=this.windings[hn],ar=vt.indexOf(ur);ar===-1?(vt.push(ur),$t.push(pi)):$t[ar]+=pi}const at=[],an=[];for(let hn=0,pr=vt.length;hn<pr;hn++){if($t[hn]===0)continue;const ur=vt[hn],pi=ur.poly;if(an.indexOf(pi)===-1)if(ur.isExterior)at.push(pi);else{an.indexOf(pi)===-1&&an.push(pi);const ar=at.indexOf(ur.poly);ar!==-1&&at.splice(ar,1)}}for(let hn=0,pr=at.length;hn<pr;hn++){const ur=at[hn].multiPoly;gn.indexOf(ur)===-1&&gn.push(ur)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const ze=this.beforeState().multiPolys,vt=this.afterState().multiPolys;switch(Zr.type){case"union":{const $t=ze.length===0,gn=vt.length===0;this._isInResult=$t!==gn;break}case"intersection":{let $t,gn;ze.length<vt.length?($t=ze.length,gn=vt.length):($t=vt.length,gn=ze.length),this._isInResult=gn===Zr.numMultiPolys&&$t<gn;break}case"xor":{const $t=Math.abs(ze.length-vt.length);this._isInResult=$t%2===1;break}case"difference":{const $t=gn=>gn.length===1&&gn[0].isSubject;this._isInResult=$t(ze)!==$t(vt);break}default:throw new Error(`Unrecognized operation type found ${Zr.type}`)}return this._isInResult}}class J{constructor(ze,vt,$t){if(!Array.isArray(ze)||ze.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=vt,this.isExterior=$t,this.segments=[],typeof ze[0][0]!="number"||typeof ze[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const gn=Ue.round(ze[0][0],ze[0][1]);this.bbox={ll:{x:gn.x,y:gn.y},ur:{x:gn.x,y:gn.y}};let at=gn;for(let an=1,hn=ze.length;an<hn;an++){if(typeof ze[an][0]!="number"||typeof ze[an][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let pr=Ue.round(ze[an][0],ze[an][1]);pr.x===at.x&&pr.y===at.y||(this.segments.push(Ce.fromRing(at,pr,this)),pr.x<this.bbox.ll.x&&(this.bbox.ll.x=pr.x),pr.y<this.bbox.ll.y&&(this.bbox.ll.y=pr.y),pr.x>this.bbox.ur.x&&(this.bbox.ur.x=pr.x),pr.y>this.bbox.ur.y&&(this.bbox.ur.y=pr.y),at=pr)}(gn.x!==at.x||gn.y!==at.y)&&this.segments.push(Ce.fromRing(at,gn,this))}getSweepEvents(){const ze=[];for(let vt=0,$t=this.segments.length;vt<$t;vt++){const gn=this.segments[vt];ze.push(gn.leftSE),ze.push(gn.rightSE)}return ze}}class Le{constructor(ze,vt){if(!Array.isArray(ze))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new J(ze[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let $t=1,gn=ze.length;$t<gn;$t++){const at=new J(ze[$t],this,!1);at.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=at.bbox.ll.x),at.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=at.bbox.ll.y),at.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=at.bbox.ur.x),at.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=at.bbox.ur.y),this.interiorRings.push(at)}this.multiPoly=vt}getSweepEvents(){const ze=this.exteriorRing.getSweepEvents();for(let vt=0,$t=this.interiorRings.length;vt<$t;vt++){const gn=this.interiorRings[vt].getSweepEvents();for(let at=0,an=gn.length;at<an;at++)ze.push(gn[at])}return ze}}class Jt{constructor(ze,vt){if(!Array.isArray(ze))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof ze[0][0][0]=="number"&&(ze=[ze])}catch($t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let $t=0,gn=ze.length;$t<gn;$t++){const at=new Le(ze[$t],this);at.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=at.bbox.ll.x),at.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=at.bbox.ll.y),at.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=at.bbox.ur.x),at.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=at.bbox.ur.y),this.polys.push(at)}this.isSubject=vt}getSweepEvents(){const ze=[];for(let vt=0,$t=this.polys.length;vt<$t;vt++){const gn=this.polys[vt].getSweepEvents();for(let at=0,an=gn.length;at<an;at++)ze.push(gn[at])}return ze}}class Be{static factory(ze){const vt=[];for(let $t=0,gn=ze.length;$t<gn;$t++){const at=ze[$t];if(!at.isInResult()||at.ringOut)continue;let an=null,hn=at.leftSE,pr=at.rightSE;const ur=[hn],pi=hn.point,ar=[];for(;an=hn,hn=pr,ur.push(hn),hn.point!==pi;)for(;;){const di=hn.getAvailableLinkedEvents();if(di.length===0){const za=ur[0].point,Ui=ur[ur.length-1].point;throw new Error(`Unable to complete output ring starting at [${za.x}, ${za.y}]. Last matching segment found ends at [${Ui.x}, ${Ui.y}].`)}if(di.length===1){pr=di[0].otherSE;break}let sa=null;for(let za=0,Ui=ar.length;za<Ui;za++)if(ar[za].point===hn.point){sa=za;break}if(sa!==null){const za=ar.splice(sa)[0],Ui=ur.splice(za.index);Ui.unshift(Ui[0].otherSE),vt.push(new Be(Ui.reverse()));continue}ar.push({index:ur.length,point:hn.point});const xa=hn.getLeftmostComparator(an);pr=di.sort(xa)[0].otherSE;break}vt.push(new Be(ur))}return vt}constructor(ze){this.events=ze;for(let vt=0,$t=ze.length;vt<$t;vt++)ze[vt].segment.ringOut=this;this.poly=null}getGeom(){let ze=this.events[0].point;const vt=[ze];for(let ur=1,pi=this.events.length-1;ur<pi;ur++){const ar=this.events[ur].point,di=this.events[ur+1].point;Ot(ar,ze,di)!==0&&(vt.push(ar),ze=ar)}if(vt.length===1)return null;const $t=vt[0],gn=vt[1];Ot($t,ze,gn)===0&&vt.shift(),vt.push(vt[0]);const at=this.isExteriorRing()?1:-1,an=this.isExteriorRing()?0:vt.length-1,hn=this.isExteriorRing()?vt.length:-1,pr=[];for(let ur=an;ur!=hn;ur+=at)pr.push([vt[ur].x,vt[ur].y]);return pr}isExteriorRing(){if(this._isExteriorRing===void 0){const ze=this.enclosingRing();this._isExteriorRing=ze?!ze.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let ze=this.events[0];for(let gn=1,at=this.events.length;gn<at;gn++){const an=this.events[gn];De.compare(ze,an)>0&&(ze=an)}let vt=ze.segment.prevInResult(),$t=vt?vt.prevInResult():null;for(;;){if(!vt)return null;if(!$t)return vt.ringOut;if($t.ringOut!==vt.ringOut)return $t.ringOut.enclosingRing()!==vt.ringOut?vt.ringOut:vt.ringOut.enclosingRing();vt=$t.prevInResult(),$t=vt?vt.prevInResult():null}}}class In{constructor(ze){this.exteriorRing=ze,ze.poly=this,this.interiorRings=[]}addInterior(ze){this.interiorRings.push(ze),ze.poly=this}getGeom(){const ze=[this.exteriorRing.getGeom()];if(ze[0]===null)return null;for(let vt=0,$t=this.interiorRings.length;vt<$t;vt++){const gn=this.interiorRings[vt].getGeom();gn!==null&&ze.push(gn)}return ze}}class cr{constructor(ze){this.rings=ze,this.polys=this._composePolys(ze)}getGeom(){const ze=[];for(let vt=0,$t=this.polys.length;vt<$t;vt++){const gn=this.polys[vt].getGeom();gn!==null&&ze.push(gn)}return ze}_composePolys(ze){const vt=[];for(let $t=0,gn=ze.length;$t<gn;$t++){const at=ze[$t];if(!at.poly)if(at.isExteriorRing())vt.push(new In(at));else{const an=at.enclosingRing();an.poly||vt.push(new In(an)),an.poly.addInterior(at)}}return vt}}class bn{constructor(ze){let vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.compare;this.queue=ze,this.tree=new ae(vt),this.segments=[]}process(ze){const vt=ze.segment,$t=[];if(ze.consumedBy)return ze.isLeft?this.queue.remove(ze.otherSE):this.tree.remove(vt),$t;const gn=ze.isLeft?this.tree.add(vt):this.tree.find(vt);if(!gn)throw new Error(`Unable to find segment #${vt.id} [${vt.leftSE.point.x}, ${vt.leftSE.point.y}] -> [${vt.rightSE.point.x}, ${vt.rightSE.point.y}] in SweepLine tree.`);let at=gn,an=gn,hn,pr;for(;hn===void 0;)at=this.tree.prev(at),at===null?hn=null:at.key.consumedBy===void 0&&(hn=at.key);for(;pr===void 0;)an=this.tree.next(an),an===null?pr=null:an.key.consumedBy===void 0&&(pr=an.key);if(ze.isLeft){let ur=null;if(hn){const ar=hn.getIntersection(vt);if(ar!==null&&(vt.isAnEndpoint(ar)||(ur=ar),!hn.isAnEndpoint(ar))){const di=this._splitSafely(hn,ar);for(let sa=0,xa=di.length;sa<xa;sa++)$t.push(di[sa])}}let pi=null;if(pr){const ar=pr.getIntersection(vt);if(ar!==null&&(vt.isAnEndpoint(ar)||(pi=ar),!pr.isAnEndpoint(ar))){const di=this._splitSafely(pr,ar);for(let sa=0,xa=di.length;sa<xa;sa++)$t.push(di[sa])}}if(ur!==null||pi!==null){let ar=null;ur===null?ar=pi:pi===null?ar=ur:ar=De.comparePoints(ur,pi)<=0?ur:pi,this.queue.remove(vt.rightSE),$t.push(vt.rightSE);const di=vt.split(ar);for(let sa=0,xa=di.length;sa<xa;sa++)$t.push(di[sa])}$t.length>0?(this.tree.remove(vt),$t.push(ze)):(this.segments.push(vt),vt.prev=hn)}else{if(hn&&pr){const ur=hn.getIntersection(pr);if(ur!==null){if(!hn.isAnEndpoint(ur)){const pi=this._splitSafely(hn,ur);for(let ar=0,di=pi.length;ar<di;ar++)$t.push(pi[ar])}if(!pr.isAnEndpoint(ur)){const pi=this._splitSafely(pr,ur);for(let ar=0,di=pi.length;ar<di;ar++)$t.push(pi[ar])}}}this.tree.remove(vt)}return $t}_splitSafely(ze,vt){this.tree.remove(ze);const $t=ze.rightSE;this.queue.remove($t);const gn=ze.split(vt);return gn.push($t),ze.consumedBy===void 0&&this.tree.add(ze),gn}}const ir=typeof w!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Nr=typeof w!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class Ar{run(ze,vt,$t){Zr.type=ze,Ue.reset();const gn=[new Jt(vt,!0)];for(let ar=0,di=$t.length;ar<di;ar++)gn.push(new Jt($t[ar],!1));if(Zr.numMultiPolys=gn.length,Zr.type==="difference"){const ar=gn[0];let di=1;for(;di<gn.length;)Fe(gn[di].bbox,ar.bbox)!==null?di++:gn.splice(di,1)}if(Zr.type==="intersection")for(let ar=0,di=gn.length;ar<di;ar++){const sa=gn[ar];for(let xa=ar+1,za=gn.length;xa<za;xa++)if(Fe(sa.bbox,gn[xa].bbox)===null)return[]}const at=new ae(De.compare);for(let ar=0,di=gn.length;ar<di;ar++){const sa=gn[ar].getSweepEvents();for(let xa=0,za=sa.length;xa<za;xa++)if(at.insert(sa[xa]),at.size>ir)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const an=new bn(at);let hn=at.size,pr=at.pop();for(;pr;){const ar=pr.key;if(at.size===hn){const sa=ar.segment;throw new Error(`Unable to pop() ${ar.isLeft?"left":"right"} SweepEvent [${ar.point.x}, ${ar.point.y}] from segment #${sa.id} [${sa.leftSE.point.x}, ${sa.leftSE.point.y}] -> [${sa.rightSE.point.x}, ${sa.rightSE.point.y}] from queue.`)}if(at.size>ir)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(an.segments.length>Nr)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const di=an.process(ar);for(let sa=0,xa=di.length;sa<xa;sa++){const za=di[sa];za.consumedBy===void 0&&at.insert(za)}hn=at.size,pr=at.pop()}Ue.reset();const ur=Be.factory(an.segments);return new cr(ur).getGeom()}}const Zr=new Ar;var wn={union:function(nt){for(var ze=arguments.length,vt=new Array(ze>1?ze-1:0),$t=1;$t<ze;$t++)vt[$t-1]=arguments[$t];return Zr.run("union",nt,vt)},intersection:function(nt){for(var ze=arguments.length,vt=new Array(ze>1?ze-1:0),$t=1;$t<ze;$t++)vt[$t-1]=arguments[$t];return Zr.run("intersection",nt,vt)},xor:function(nt){for(var ze=arguments.length,vt=new Array(ze>1?ze-1:0),$t=1;$t<ze;$t++)vt[$t-1]=arguments[$t];return Zr.run("xor",nt,vt)},difference:function(nt){for(var ze=arguments.length,vt=new Array(ze>1?ze-1:0),$t=1;$t<ze;$t++)vt[$t-1]=arguments[$t];return Zr.run("difference",nt,vt)}};return wn})},14224:function(cn){var Ne=cn.exports={},A,w;function B(){throw new Error("setTimeout has not been defined")}function ne(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?A=setTimeout:A=B}catch(ge){A=B}try{typeof clearTimeout=="function"?w=clearTimeout:w=ne}catch(ge){w=ne}})();function ue(ge){if(A===setTimeout)return setTimeout(ge,0);if((A===B||!A)&&setTimeout)return A=setTimeout,setTimeout(ge,0);try{return A(ge,0)}catch(ye){try{return A.call(null,ge,0)}catch(ve){return A.call(this,ge,0)}}}function j(ge){if(w===clearTimeout)return clearTimeout(ge);if((w===ne||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(ge);try{return w(ge)}catch(ye){try{return w.call(null,ge)}catch(ve){return w.call(this,ge)}}}var q=[],Y=!1,K,H=-1;function ae(){!Y||!K||(Y=!1,K.length?q=K.concat(q):H=-1,q.length&&ie())}function ie(){if(!Y){var ge=ue(ae);Y=!0;for(var ye=q.length;ye;){for(K=q,q=[];++H<ye;)K&&K[H].run();H=-1,ye=q.length}K=null,Y=!1,j(ge)}}Ne.nextTick=function(ge){var ye=new Array(arguments.length-1);if(arguments.length>1)for(var ve=1;ve<arguments.length;ve++)ye[ve-1]=arguments[ve];q.push(new le(ge,ye)),q.length===1&&!Y&&ue(ie)};function le(ge,ye){this.fun=ge,this.array=ye}le.prototype.run=function(){this.fun.apply(null,this.array)},Ne.title="browser",Ne.browser=!0,Ne.env={},Ne.argv=[],Ne.version="",Ne.versions={};function se(){}Ne.on=se,Ne.addListener=se,Ne.once=se,Ne.off=se,Ne.removeListener=se,Ne.removeAllListeners=se,Ne.emit=se,Ne.prependListener=se,Ne.prependOnceListener=se,Ne.listeners=function(ge){return[]},Ne.binding=function(ge){throw new Error("process.binding is not supported")},Ne.cwd=function(){return"/"},Ne.chdir=function(ge){throw new Error("process.chdir is not supported")},Ne.umask=function(){return 0}},24777:function(cn,Ne,A){"use strict";A.d(Ne,{gN:function(){return dn},zb:function(){return gt},RV:function(){return Aa},aV:function(){return Ur},ZM:function(){return lt},ZP:function(){return Ll},cI:function(){return ui},qo:function(){return oo}});var w=A(75271),B=A(2053),ne=A(58006),ue=A(69501),j=A(81517),q=A(98037),Y=A(35047),K=A(73779),H=A(71374),ae=A(46468),ie=A(45675),le=A(10053),se=A(57904),ge=A(48894),ye=A(26920),ve=A(7302),fe="RC_FORM_INTERNAL_HOOKS",Fe=function(){(0,ve.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},yt=w.createContext({getFieldValue:Fe,getFieldsValue:Fe,getFieldError:Fe,getFieldWarning:Fe,getFieldsError:Fe,isFieldsTouched:Fe,isFieldTouched:Fe,isFieldValidating:Fe,isFieldsValidating:Fe,resetFields:Fe,setFields:Fe,setFieldValue:Fe,setFieldsValue:Fe,validateFields:Fe,submit:Fe,getInternalHooks:function(){return Fe(),{dispatch:Fe,initEntityValue:Fe,registerField:Fe,useSubscribe:Fe,setInitialValues:Fe,destroyForm:Fe,setCallbacks:Fe,registerWatch:Fe,getFields:Fe,setValidateMessages:Fe,setPreserve:Fe,getInitialValue:Fe}}}),gt=yt,pt=w.createContext(null),lt=pt;function Ke(Si){return Si==null?[]:Array.isArray(Si)?Si:[Si]}function Ue(Si){return Si&&!!Si._init}var Pt=A(24744);function Gt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Sn=JSON.parse(JSON.stringify(this));return Sn.clone=this.clone,Sn}}}var rn=Gt(),_n=A(52601),qe=A(85716);function Nt(Si){try{return Function.toString.call(Si).indexOf("[native code]")!==-1}catch(Sn){return typeof Si=="function"}}var ft=A(95531);function ln(Si,Sn,Qt){if((0,ft.Z)())return Reflect.construct.apply(null,arguments);var rr=[null];rr.push.apply(rr,Sn);var rt=new(Si.bind.apply(Si,rr));return Qt&&(0,qe.Z)(rt,Qt.prototype),rt}function tt(Si){var Sn=typeof Map=="function"?new Map:void 0;return tt=function(rr){if(rr===null||!Nt(rr))return rr;if(typeof rr!="function")throw new TypeError("Super expression must either be null or a function");if(Sn!==void 0){if(Sn.has(rr))return Sn.get(rr);Sn.set(rr,rt)}function rt(){return ln(rr,arguments,(0,_n.Z)(this).constructor)}return rt.prototype=Object.create(rr.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),(0,qe.Z)(rt,rr)},tt(Si)}var Pe=A(14224),Qe=/%[sdj%]/g,He=function(){};function _t(Si){if(!Si||!Si.length)return null;var Sn={};return Si.forEach(function(Qt){var rr=Qt.field;Sn[rr]=Sn[rr]||[],Sn[rr].push(Qt)}),Sn}function Bt(Si){for(var Sn=arguments.length,Qt=new Array(Sn>1?Sn-1:0),rr=1;rr<Sn;rr++)Qt[rr-1]=arguments[rr];var rt=0,ai=Qt.length;if(typeof Si=="function")return Si.apply(null,Qt);if(typeof Si=="string"){var mi=Si.replace(Qe,function(_a){if(_a==="%%")return"%";if(rt>=ai)return _a;switch(_a){case"%s":return String(Qt[rt++]);case"%d":return Number(Qt[rt++]);case"%j":try{return JSON.stringify(Qt[rt++])}catch(Xi){return"[Circular]"}break;default:return _a}});return mi}return Si}function At(Si){return Si==="string"||Si==="url"||Si==="hex"||Si==="email"||Si==="date"||Si==="pattern"}function Je(Si,Sn){return!!(Si==null||Sn==="array"&&Array.isArray(Si)&&!Si.length||At(Sn)&&typeof Si=="string"&&!Si)}function zt(Si){return Object.keys(Si).length===0}function mn(Si,Sn,Qt){var rr=[],rt=0,ai=Si.length;function mi(_a){rr.push.apply(rr,(0,Y.Z)(_a||[])),rt++,rt===ai&&Qt(rr)}Si.forEach(function(_a){Sn(_a,mi)})}function Ot(Si,Sn,Qt){var rr=0,rt=Si.length;function ai(mi){if(mi&&mi.length){Qt(mi);return}var _a=rr;rr=rr+1,_a<rt?Sn(Si[_a],ai):Qt([])}ai([])}function Xe(Si){var Sn=[];return Object.keys(Si).forEach(function(Qt){Sn.push.apply(Sn,(0,Y.Z)(Si[Qt]||[]))}),Sn}var ct=function(Si){(0,ie.Z)(Qt,Si);var Sn=(0,le.Z)(Qt);function Qt(rr,rt){var ai;return(0,K.Z)(this,Qt),ai=Sn.call(this,"Async Validation Error"),(0,se.Z)((0,ae.Z)(ai),"errors",void 0),(0,se.Z)((0,ae.Z)(ai),"fields",void 0),ai.errors=rr,ai.fields=rt,ai}return(0,H.Z)(Qt)}(tt(Error));function Rt(Si,Sn,Qt,rr,rt){if(Sn.first){var ai=new Promise(function(Ro,As){var So=function(ns){return rr(ns),ns.length?As(new ct(ns,_t(ns))):Ro(rt)},ao=Xe(Si);Ot(ao,Qt,So)});return ai.catch(function(Ro){return Ro}),ai}var mi=Sn.firstFields===!0?Object.keys(Si):Sn.firstFields||[],_a=Object.keys(Si),Xi=_a.length,ia=0,ua=[],co=new Promise(function(Ro,As){var So=function(Wa){if(ua.push.apply(ua,Wa),ia++,ia===Xi)return rr(ua),ua.length?As(new ct(ua,_t(ua))):Ro(rt)};_a.length||(rr(ua),Ro(rt)),_a.forEach(function(ao){var Wa=Si[ao];mi.indexOf(ao)!==-1?Ot(Wa,Qt,So):mn(Wa,Qt,So)})});return co.catch(function(Ro){return Ro}),co}function Oe(Si){return!!(Si&&Si.message!==void 0)}function Ge(Si,Sn){for(var Qt=Si,rr=0;rr<Sn.length;rr++){if(Qt==null)return Qt;Qt=Qt[Sn[rr]]}return Qt}function Vt(Si,Sn){return function(Qt){var rr;return Si.fullFields?rr=Ge(Sn,Si.fullFields):rr=Sn[Qt.field||Si.fullField],Oe(Qt)?(Qt.field=Qt.field||Si.fullField,Qt.fieldValue=rr,Qt):{message:typeof Qt=="function"?Qt():Qt,fieldValue:rr,field:Qt.field||Si.fullField}}}function De(Si,Sn){if(Sn){for(var Qt in Sn)if(Sn.hasOwnProperty(Qt)){var rr=Sn[Qt];(0,Pt.Z)(rr)==="object"&&(0,Pt.Z)(Si[Qt])==="object"?Si[Qt]=(0,q.Z)((0,q.Z)({},Si[Qt]),rr):Si[Qt]=rr}}return Si}var et="enum",Ce=function(Sn,Qt,rr,rt,ai){Sn[et]=Array.isArray(Sn[et])?Sn[et]:[],Sn[et].indexOf(Qt)===-1&&rt.push(Bt(ai.messages[et],Sn.fullField,Sn[et].join(", ")))},J=Ce,Le=function(Sn,Qt,rr,rt,ai){if(Sn.pattern){if(Sn.pattern instanceof RegExp)Sn.pattern.lastIndex=0,Sn.pattern.test(Qt)||rt.push(Bt(ai.messages.pattern.mismatch,Sn.fullField,Qt,Sn.pattern));else if(typeof Sn.pattern=="string"){var mi=new RegExp(Sn.pattern);mi.test(Qt)||rt.push(Bt(ai.messages.pattern.mismatch,Sn.fullField,Qt,Sn.pattern))}}},Jt=Le,Be=function(Sn,Qt,rr,rt,ai){var mi=typeof Sn.len=="number",_a=typeof Sn.min=="number",Xi=typeof Sn.max=="number",ia=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ua=Qt,co=null,Ro=typeof Qt=="number",As=typeof Qt=="string",So=Array.isArray(Qt);if(Ro?co="number":As?co="string":So&&(co="array"),!co)return!1;So&&(ua=Qt.length),As&&(ua=Qt.replace(ia,"_").length),mi?ua!==Sn.len&&rt.push(Bt(ai.messages[co].len,Sn.fullField,Sn.len)):_a&&!Xi&&ua<Sn.min?rt.push(Bt(ai.messages[co].min,Sn.fullField,Sn.min)):Xi&&!_a&&ua>Sn.max?rt.push(Bt(ai.messages[co].max,Sn.fullField,Sn.max)):_a&&Xi&&(ua<Sn.min||ua>Sn.max)&&rt.push(Bt(ai.messages[co].range,Sn.fullField,Sn.min,Sn.max))},In=Be,cr=function(Sn,Qt,rr,rt,ai,mi){Sn.required&&(!rr.hasOwnProperty(Sn.field)||Je(Qt,mi||Sn.type))&&rt.push(Bt(ai.messages.required,Sn.fullField))},bn=cr,ir,Nr=function(){if(ir)return ir;var Si="[a-fA-F\\d:]",Sn=function(wt){return wt&&wt.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(Si,")|(?<=").concat(Si,")(?=\\s|$))"):""},Qt="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",rr="[a-fA-F\\d]{1,4}",rt=["(?:".concat(rr,":){7}(?:").concat(rr,"|:)"),"(?:".concat(rr,":){6}(?:").concat(Qt,"|:").concat(rr,"|:)"),"(?:".concat(rr,":){5}(?::").concat(Qt,"|(?::").concat(rr,"){1,2}|:)"),"(?:".concat(rr,":){4}(?:(?::").concat(rr,"){0,1}:").concat(Qt,"|(?::").concat(rr,"){1,3}|:)"),"(?:".concat(rr,":){3}(?:(?::").concat(rr,"){0,2}:").concat(Qt,"|(?::").concat(rr,"){1,4}|:)"),"(?:".concat(rr,":){2}(?:(?::").concat(rr,"){0,3}:").concat(Qt,"|(?::").concat(rr,"){1,5}|:)"),"(?:".concat(rr,":){1}(?:(?::").concat(rr,"){0,4}:").concat(Qt,"|(?::").concat(rr,"){1,6}|:)"),"(?::(?:(?::".concat(rr,"){0,5}:").concat(Qt,"|(?::").concat(rr,"){1,7}|:))")],ai="(?:%[0-9a-zA-Z]{1,})?",mi="(?:".concat(rt.join("|"),")").concat(ai),_a=new RegExp("(?:^".concat(Qt,"$)|(?:^").concat(mi,"$)")),Xi=new RegExp("^".concat(Qt,"$")),ia=new RegExp("^".concat(mi,"$")),ua=function(wt){return wt&&wt.exact?_a:new RegExp("(?:".concat(Sn(wt)).concat(Qt).concat(Sn(wt),")|(?:").concat(Sn(wt)).concat(mi).concat(Sn(wt),")"),"g")};ua.v4=function(Xo){return Xo&&Xo.exact?Xi:new RegExp("".concat(Sn(Xo)).concat(Qt).concat(Sn(Xo)),"g")},ua.v6=function(Xo){return Xo&&Xo.exact?ia:new RegExp("".concat(Sn(Xo)).concat(mi).concat(Sn(Xo)),"g")};var co="(?:(?:[a-z]+:)?//)",Ro="(?:\\S+(?::\\S*)?@)?",As=ua.v4().source,So=ua.v6().source,ao="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",Wa="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",ns="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Do="(?::\\d{2,5})?",ls='(?:[/?#][^\\s"]*)?',Bs="(?:".concat(co,"|www\\.)").concat(Ro,"(?:localhost|").concat(As,"|").concat(So,"|").concat(ao).concat(Wa).concat(ns,")").concat(Do).concat(ls);return ir=new RegExp("(?:^".concat(Bs,"$)"),"i"),ir},Ar={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Zr={integer:function(Sn){return Zr.number(Sn)&&parseInt(Sn,10)===Sn},float:function(Sn){return Zr.number(Sn)&&!Zr.integer(Sn)},array:function(Sn){return Array.isArray(Sn)},regexp:function(Sn){if(Sn instanceof RegExp)return!0;try{return!!new RegExp(Sn)}catch(Qt){return!1}},date:function(Sn){return typeof Sn.getTime=="function"&&typeof Sn.getMonth=="function"&&typeof Sn.getYear=="function"&&!isNaN(Sn.getTime())},number:function(Sn){return isNaN(Sn)?!1:typeof Sn=="number"},object:function(Sn){return(0,Pt.Z)(Sn)==="object"&&!Zr.array(Sn)},method:function(Sn){return typeof Sn=="function"},email:function(Sn){return typeof Sn=="string"&&Sn.length<=320&&!!Sn.match(Ar.email)},url:function(Sn){return typeof Sn=="string"&&Sn.length<=2048&&!!Sn.match(Nr())},hex:function(Sn){return typeof Sn=="string"&&!!Sn.match(Ar.hex)}},wi=function(Sn,Qt,rr,rt,ai){if(Sn.required&&Qt===void 0){bn(Sn,Qt,rr,rt,ai);return}var mi=["integer","float","array","regexp","object","method","email","number","date","url","hex"],_a=Sn.type;mi.indexOf(_a)>-1?Zr[_a](Qt)||rt.push(Bt(ai.messages.types[_a],Sn.fullField,Sn.type)):_a&&(0,Pt.Z)(Qt)!==Sn.type&&rt.push(Bt(ai.messages.types[_a],Sn.fullField,Sn.type))},Ln=wi,Nn=function(Sn,Qt,rr,rt,ai){(/^\s+$/.test(Qt)||Qt==="")&&rt.push(Bt(ai.messages.whitespace,Sn.fullField))},$n=Nn,wn={required:bn,whitespace:$n,type:Ln,range:In,enum:J,pattern:Jt},nt=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai)}rr(mi)},ze=nt,vt=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Qt==null&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai,"array"),Qt!=null&&(wn.type(Sn,Qt,rt,mi,ai),wn.range(Sn,Qt,rt,mi,ai))}rr(mi)},$t=vt,gn=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Qt!==void 0&&wn.type(Sn,Qt,rt,mi,ai)}rr(mi)},at=gn,an=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt,"date")&&!Sn.required)return rr();if(wn.required(Sn,Qt,rt,mi,ai),!Je(Qt,"date")){var Xi;Qt instanceof Date?Xi=Qt:Xi=new Date(Qt),wn.type(Sn,Xi,rt,mi,ai),Xi&&wn.range(Sn,Xi.getTime(),rt,mi,ai)}}rr(mi)},hn=an,pr="enum",ur=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Qt!==void 0&&wn[pr](Sn,Qt,rt,mi,ai)}rr(mi)},pi=ur,ar=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Qt!==void 0&&(wn.type(Sn,Qt,rt,mi,ai),wn.range(Sn,Qt,rt,mi,ai))}rr(mi)},di=ar,sa=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Qt!==void 0&&(wn.type(Sn,Qt,rt,mi,ai),wn.range(Sn,Qt,rt,mi,ai))}rr(mi)},xa=sa,za=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Qt!==void 0&&wn.type(Sn,Qt,rt,mi,ai)}rr(mi)},Ui=za,Ao=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Qt===""&&(Qt=void 0),Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Qt!==void 0&&(wn.type(Sn,Qt,rt,mi,ai),wn.range(Sn,Qt,rt,mi,ai))}rr(mi)},fs=Ao,cs=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Qt!==void 0&&wn.type(Sn,Qt,rt,mi,ai)}rr(mi)},ra=cs,ms=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt,"string")&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Je(Qt,"string")||wn.pattern(Sn,Qt,rt,mi,ai)}rr(mi)},xi=ms,Gn=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai),Je(Qt)||wn.type(Sn,Qt,rt,mi,ai)}rr(mi)},_e=Gn,oi=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Array.isArray(Qt)?"array":(0,Pt.Z)(Qt);wn.required(Sn,Qt,rt,mi,ai,_a),rr(mi)},Ka=oi,Cn=function(Sn,Qt,rr,rt,ai){var mi=[],_a=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(_a){if(Je(Qt,"string")&&!Sn.required)return rr();wn.required(Sn,Qt,rt,mi,ai,"string"),Je(Qt,"string")||(wn.type(Sn,Qt,rt,mi,ai),wn.range(Sn,Qt,rt,mi,ai),wn.pattern(Sn,Qt,rt,mi,ai),Sn.whitespace===!0&&wn.whitespace(Sn,Qt,rt,mi,ai))}rr(mi)},Un=Cn,tn=function(Sn,Qt,rr,rt,ai){var mi=Sn.type,_a=[],Xi=Sn.required||!Sn.required&&rt.hasOwnProperty(Sn.field);if(Xi){if(Je(Qt,mi)&&!Sn.required)return rr();wn.required(Sn,Qt,rt,_a,ai,mi),Je(Qt,mi)||wn.type(Sn,Qt,rt,_a,ai)}rr(_a)},It=tn,Zt={string:Un,method:Ui,number:fs,boolean:at,regexp:_e,integer:xa,float:di,array:$t,object:ra,enum:pi,pattern:xi,date:hn,url:It,hex:It,email:It,required:Ka,any:ze},$e=function(){function Si(Sn){(0,K.Z)(this,Si),(0,se.Z)(this,"rules",null),(0,se.Z)(this,"_messages",rn),this.define(Sn)}return(0,H.Z)(Si,[{key:"define",value:function(Qt){var rr=this;if(!Qt)throw new Error("Cannot configure a schema with no rules");if((0,Pt.Z)(Qt)!=="object"||Array.isArray(Qt))throw new Error("Rules must be an object");this.rules={},Object.keys(Qt).forEach(function(rt){var ai=Qt[rt];rr.rules[rt]=Array.isArray(ai)?ai:[ai]})}},{key:"messages",value:function(Qt){return Qt&&(this._messages=De(Gt(),Qt)),this._messages}},{key:"validate",value:function(Qt){var rr=this,rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ai=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},mi=Qt,_a=rt,Xi=ai;if(typeof _a=="function"&&(Xi=_a,_a={}),!this.rules||Object.keys(this.rules).length===0)return Xi&&Xi(null,mi),Promise.resolve(mi);function ia(So){var ao=[],Wa={};function ns(ls){if(Array.isArray(ls)){var Bs;ao=(Bs=ao).concat.apply(Bs,(0,Y.Z)(ls))}else ao.push(ls)}for(var Do=0;Do<So.length;Do++)ns(So[Do]);ao.length?(Wa=_t(ao),Xi(ao,Wa)):Xi(null,mi)}if(_a.messages){var ua=this.messages();ua===rn&&(ua=Gt()),De(ua,_a.messages),_a.messages=ua}else _a.messages=this.messages();var co={},Ro=_a.keys||Object.keys(this.rules);Ro.forEach(function(So){var ao=rr.rules[So],Wa=mi[So];ao.forEach(function(ns){var Do=ns;typeof Do.transform=="function"&&(mi===Qt&&(mi=(0,q.Z)({},mi)),Wa=mi[So]=Do.transform(Wa),Wa!=null&&(Do.type=Do.type||(Array.isArray(Wa)?"array":(0,Pt.Z)(Wa)))),typeof Do=="function"?Do={validator:Do}:Do=(0,q.Z)({},Do),Do.validator=rr.getValidationMethod(Do),Do.validator&&(Do.field=So,Do.fullField=Do.fullField||So,Do.type=rr.getType(Do),co[So]=co[So]||[],co[So].push({rule:Do,value:Wa,source:mi,field:So}))})});var As={};return Rt(co,_a,function(So,ao){var Wa=So.rule,ns=(Wa.type==="object"||Wa.type==="array")&&((0,Pt.Z)(Wa.fields)==="object"||(0,Pt.Z)(Wa.defaultField)==="object");ns=ns&&(Wa.required||!Wa.required&&So.value),Wa.field=So.field;function Do(er,nn){return(0,q.Z)((0,q.Z)({},nn),{},{fullField:"".concat(Wa.fullField,".").concat(er),fullFields:Wa.fullFields?[].concat((0,Y.Z)(Wa.fullFields),[er]):[er]})}function ls(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],nn=Array.isArray(er)?er:[er];!_a.suppressWarning&&nn.length&&Si.warning("async-validator:",nn),nn.length&&Wa.message!==void 0&&(nn=[].concat(Wa.message));var wr=nn.map(Vt(Wa,mi));if(_a.first&&wr.length)return As[Wa.field]=1,ao(wr);if(!ns)ao(wr);else{if(Wa.required&&!So.value)return Wa.message!==void 0?wr=[].concat(Wa.message).map(Vt(Wa,mi)):_a.error&&(wr=[_a.error(Wa,Bt(_a.messages.required,Wa.field))]),ao(wr);var hi={};Wa.defaultField&&Object.keys(So.value).map(function(Ji){hi[Ji]=Wa.defaultField}),hi=(0,q.Z)((0,q.Z)({},hi),So.rule.fields);var gi={};Object.keys(hi).forEach(function(Ji){var Ai=hi[Ji],Mi=Array.isArray(Ai)?Ai:[Ai];gi[Ji]=Mi.map(Do.bind(null,Ji))});var xr=new Si(gi);xr.messages(_a.messages),So.rule.options&&(So.rule.options.messages=_a.messages,So.rule.options.error=_a.error),xr.validate(So.value,So.rule.options||_a,function(Ji){var Ai=[];wr&&wr.length&&Ai.push.apply(Ai,(0,Y.Z)(wr)),Ji&&Ji.length&&Ai.push.apply(Ai,(0,Y.Z)(Ji)),ao(Ai.length?Ai:null)})}}var Bs;if(Wa.asyncValidator)Bs=Wa.asyncValidator(Wa,So.value,ls,So.source,_a);else if(Wa.validator){try{Bs=Wa.validator(Wa,So.value,ls,So.source,_a)}catch(er){var Xo,wt;(Xo=(wt=console).error)===null||Xo===void 0||Xo.call(wt,er),_a.suppressValidatorError||setTimeout(function(){throw er},0),ls(er.message)}Bs===!0?ls():Bs===!1?ls(typeof Wa.message=="function"?Wa.message(Wa.fullField||Wa.field):Wa.message||"".concat(Wa.fullField||Wa.field," fails")):Bs instanceof Array?ls(Bs):Bs instanceof Error&&ls(Bs.message)}Bs&&Bs.then&&Bs.then(function(){return ls()},function(er){return ls(er)})},function(So){ia(So)},mi)}},{key:"getType",value:function(Qt){if(Qt.type===void 0&&Qt.pattern instanceof RegExp&&(Qt.type="pattern"),typeof Qt.validator!="function"&&Qt.type&&!Zt.hasOwnProperty(Qt.type))throw new Error(Bt("Unknown rule type %s",Qt.type));return Qt.type||"string"}},{key:"getValidationMethod",value:function(Qt){if(typeof Qt.validator=="function")return Qt.validator;var rr=Object.keys(Qt),rt=rr.indexOf("message");return rt!==-1&&rr.splice(rt,1),rr.length===1&&rr[0]==="required"?Zt.required:Zt[this.getType(Qt)]||void 0}}]),Si}();(0,se.Z)($e,"register",function(Sn,Qt){if(typeof Qt!="function")throw new Error("Cannot register a validator by type, validator is not a function");Zt[Sn]=Qt}),(0,se.Z)($e,"warning",He),(0,se.Z)($e,"messages",rn),(0,se.Z)($e,"validators",Zt);var Bn=$e,Yn="'${name}' is not a valid ${type}",or={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Yn,method:Yn,array:Yn,object:Yn,number:Yn,date:Yn,boolean:Yn,integer:Yn,float:Yn,regexp:Yn,email:Yn,url:Yn,hex:Yn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ze=A(26209),je=Bn;function st(Si,Sn){return Si.replace(/\\?\$\{\w+\}/g,function(Qt){if(Qt.startsWith("\\"))return Qt.slice(1);var rr=Qt.slice(2,-1);return Sn[rr]})}var St="CODE_LOGIC_ERROR";function En(Si,Sn,Qt,rr,rt){return fn.apply(this,arguments)}function fn(){return fn=(0,j.Z)((0,ue.Z)().mark(function Si(Sn,Qt,rr,rt,ai){var mi,_a,Xi,ia,ua,co,Ro,As,So;return(0,ue.Z)().wrap(function(Wa){for(;;)switch(Wa.prev=Wa.next){case 0:return mi=(0,q.Z)({},rr),delete mi.ruleIndex,je.warning=function(){},mi.validator&&(_a=mi.validator,mi.validator=function(){try{return _a.apply(void 0,arguments)}catch(ns){return console.error(ns),Promise.reject(St)}}),Xi=null,mi&&mi.type==="array"&&mi.defaultField&&(Xi=mi.defaultField,delete mi.defaultField),ia=new je((0,se.Z)({},Sn,[mi])),ua=(0,Ze.T)(or,rt.validateMessages),ia.messages(ua),co=[],Wa.prev=10,Wa.next=13,Promise.resolve(ia.validate((0,se.Z)({},Sn,Qt),(0,q.Z)({},rt)));case 13:Wa.next=18;break;case 15:Wa.prev=15,Wa.t0=Wa.catch(10),Wa.t0.errors&&(co=Wa.t0.errors.map(function(ns,Do){var ls=ns.message,Bs=ls===St?ua.default:ls;return w.isValidElement(Bs)?w.cloneElement(Bs,{key:"error_".concat(Do)}):Bs}));case 18:if(!(!co.length&&Xi)){Wa.next=23;break}return Wa.next=21,Promise.all(Qt.map(function(ns,Do){return En("".concat(Sn,".").concat(Do),ns,Xi,rt,ai)}));case 21:return Ro=Wa.sent,Wa.abrupt("return",Ro.reduce(function(ns,Do){return[].concat((0,Y.Z)(ns),(0,Y.Z)(Do))},[]));case 23:return As=(0,q.Z)((0,q.Z)({},rr),{},{name:Sn,enum:(rr.enum||[]).join(", ")},ai),So=co.map(function(ns){return typeof ns=="string"?st(ns,As):ns}),Wa.abrupt("return",So);case 26:case"end":return Wa.stop()}},Si,null,[[10,15]])})),fn.apply(this,arguments)}function sn(Si,Sn,Qt,rr,rt,ai){var mi=Si.join("."),_a=Qt.map(function(ua,co){var Ro=ua.validator,As=(0,q.Z)((0,q.Z)({},ua),{},{ruleIndex:co});return Ro&&(As.validator=function(So,ao,Wa){var ns=!1,Do=function(){for(var Xo=arguments.length,wt=new Array(Xo),er=0;er<Xo;er++)wt[er]=arguments[er];Promise.resolve().then(function(){(0,ve.ZP)(!ns,"Your validator function has already return a promise. `callback` will be ignored."),ns||Wa.apply(void 0,wt)})},ls=Ro(So,ao,Do);ns=ls&&typeof ls.then=="function"&&typeof ls.catch=="function",(0,ve.ZP)(ns,"`callback` is deprecated. Please return a promise instead."),ns&&ls.then(function(){Wa()}).catch(function(Bs){Wa(Bs||" ")})}),As}).sort(function(ua,co){var Ro=ua.warningOnly,As=ua.ruleIndex,So=co.warningOnly,ao=co.ruleIndex;return!!Ro==!!So?As-ao:Ro?1:-1}),Xi;if(rt===!0)Xi=new Promise(function(){var ua=(0,j.Z)((0,ue.Z)().mark(function co(Ro,As){var So,ao,Wa;return(0,ue.Z)().wrap(function(Do){for(;;)switch(Do.prev=Do.next){case 0:So=0;case 1:if(!(So<_a.length)){Do.next=12;break}return ao=_a[So],Do.next=5,En(mi,Sn,ao,rr,ai);case 5:if(Wa=Do.sent,!Wa.length){Do.next=9;break}return As([{errors:Wa,rule:ao}]),Do.abrupt("return");case 9:So+=1,Do.next=1;break;case 12:Ro([]);case 13:case"end":return Do.stop()}},co)}));return function(co,Ro){return ua.apply(this,arguments)}}());else{var ia=_a.map(function(ua){return En(mi,Sn,ua,rr,ai).then(function(co){return{errors:co,rule:ua}})});Xi=(rt?Ut(ia):Pn(ia)).then(function(ua){return Promise.reject(ua)})}return Xi.catch(function(ua){return ua}),Xi}function Pn(Si){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,j.Z)((0,ue.Z)().mark(function Si(Sn){return(0,ue.Z)().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:return rr.abrupt("return",Promise.all(Sn).then(function(rt){var ai,mi=(ai=[]).concat.apply(ai,(0,Y.Z)(rt));return mi}));case 1:case"end":return rr.stop()}},Si)})),Hn.apply(this,arguments)}function Ut(Si){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,j.Z)((0,ue.Z)().mark(function Si(Sn){var Qt;return(0,ue.Z)().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return Qt=0,rt.abrupt("return",new Promise(function(ai){Sn.forEach(function(mi){mi.then(function(_a){_a.errors.length&&ai([_a]),Qt+=1,Qt===Sn.length&&ai([])})})}));case 2:case"end":return rt.stop()}},Si)})),Yt.apply(this,arguments)}var Xt=A(2960);function jt(Si){return Ke(Si)}function fr(Si,Sn){var Qt={};return Sn.forEach(function(rr){var rt=(0,Xt.Z)(Si,rr);Qt=(0,Ze.Z)(Qt,rr,rt)}),Qt}function vr(Si,Sn){var Qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Si&&Si.some(function(rr){return yr(Sn,rr,Qt)})}function yr(Si,Sn){var Qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!Si||!Sn||!Qt&&Si.length!==Sn.length?!1:Sn.every(function(rr,rt){return Si[rt]===rr})}function Br(Si,Sn){if(Si===Sn)return!0;if(!Si&&Sn||Si&&!Sn||!Si||!Sn||(0,Pt.Z)(Si)!=="object"||(0,Pt.Z)(Sn)!=="object")return!1;var Qt=Object.keys(Si),rr=Object.keys(Sn),rt=new Set([].concat(Qt,rr));return(0,Y.Z)(rt).every(function(ai){var mi=Si[ai],_a=Sn[ai];return typeof mi=="function"&&typeof _a=="function"?!0:mi===_a})}function Gi(Si){var Sn=arguments.length<=1?void 0:arguments[1];return Sn&&Sn.target&&(0,Pt.Z)(Sn.target)==="object"&&Si in Sn.target?Sn.target[Si]:Sn}function qi(Si,Sn,Qt){var rr=Si.length;if(Sn<0||Sn>=rr||Qt<0||Qt>=rr)return Si;var rt=Si[Sn],ai=Sn-Qt;return ai>0?[].concat((0,Y.Z)(Si.slice(0,Qt)),[rt],(0,Y.Z)(Si.slice(Qt,Sn)),(0,Y.Z)(Si.slice(Sn+1,rr))):ai<0?[].concat((0,Y.Z)(Si.slice(0,Sn)),(0,Y.Z)(Si.slice(Sn+1,Qt+1)),[rt],(0,Y.Z)(Si.slice(Qt+1,rr))):Si}var $i=["name"],Wi=[];function Ii(Si,Sn,Qt,rr,rt,ai){return typeof Si=="function"?Si(Sn,Qt,"source"in ai?{source:ai.source}:{}):rr!==rt}var Qa=function(Si){(0,ie.Z)(Qt,Si);var Sn=(0,le.Z)(Qt);function Qt(rr){var rt;if((0,K.Z)(this,Qt),rt=Sn.call(this,rr),(0,se.Z)((0,ae.Z)(rt),"state",{resetCount:0}),(0,se.Z)((0,ae.Z)(rt),"cancelRegisterFunc",null),(0,se.Z)((0,ae.Z)(rt),"mounted",!1),(0,se.Z)((0,ae.Z)(rt),"touched",!1),(0,se.Z)((0,ae.Z)(rt),"dirty",!1),(0,se.Z)((0,ae.Z)(rt),"validatePromise",void 0),(0,se.Z)((0,ae.Z)(rt),"prevValidating",void 0),(0,se.Z)((0,ae.Z)(rt),"errors",Wi),(0,se.Z)((0,ae.Z)(rt),"warnings",Wi),(0,se.Z)((0,ae.Z)(rt),"cancelRegister",function(){var Xi=rt.props,ia=Xi.preserve,ua=Xi.isListField,co=Xi.name;rt.cancelRegisterFunc&&rt.cancelRegisterFunc(ua,ia,jt(co)),rt.cancelRegisterFunc=null}),(0,se.Z)((0,ae.Z)(rt),"getNamePath",function(){var Xi=rt.props,ia=Xi.name,ua=Xi.fieldContext,co=ua.prefixName,Ro=co===void 0?[]:co;return ia!==void 0?[].concat((0,Y.Z)(Ro),(0,Y.Z)(ia)):[]}),(0,se.Z)((0,ae.Z)(rt),"getRules",function(){var Xi=rt.props,ia=Xi.rules,ua=ia===void 0?[]:ia,co=Xi.fieldContext;return ua.map(function(Ro){return typeof Ro=="function"?Ro(co):Ro})}),(0,se.Z)((0,ae.Z)(rt),"refresh",function(){rt.mounted&&rt.setState(function(Xi){var ia=Xi.resetCount;return{resetCount:ia+1}})}),(0,se.Z)((0,ae.Z)(rt),"metaCache",null),(0,se.Z)((0,ae.Z)(rt),"triggerMetaEvent",function(Xi){var ia=rt.props.onMetaChange;if(ia){var ua=(0,q.Z)((0,q.Z)({},rt.getMeta()),{},{destroy:Xi});(0,ye.Z)(rt.metaCache,ua)||ia(ua),rt.metaCache=ua}else rt.metaCache=null}),(0,se.Z)((0,ae.Z)(rt),"onStoreChange",function(Xi,ia,ua){var co=rt.props,Ro=co.shouldUpdate,As=co.dependencies,So=As===void 0?[]:As,ao=co.onReset,Wa=ua.store,ns=rt.getNamePath(),Do=rt.getValue(Xi),ls=rt.getValue(Wa),Bs=ia&&vr(ia,ns);switch(ua.type==="valueUpdate"&&ua.source==="external"&&!(0,ye.Z)(Do,ls)&&(rt.touched=!0,rt.dirty=!0,rt.validatePromise=null,rt.errors=Wi,rt.warnings=Wi,rt.triggerMetaEvent()),ua.type){case"reset":if(!ia||Bs){rt.touched=!1,rt.dirty=!1,rt.validatePromise=void 0,rt.errors=Wi,rt.warnings=Wi,rt.triggerMetaEvent(),ao==null||ao(),rt.refresh();return}break;case"remove":{if(Ro&&Ii(Ro,Xi,Wa,Do,ls,ua)){rt.reRender();return}break}case"setField":{var Xo=ua.data;if(Bs){"touched"in Xo&&(rt.touched=Xo.touched),"validating"in Xo&&!("originRCField"in Xo)&&(rt.validatePromise=Xo.validating?Promise.resolve([]):null),"errors"in Xo&&(rt.errors=Xo.errors||Wi),"warnings"in Xo&&(rt.warnings=Xo.warnings||Wi),rt.dirty=!0,rt.triggerMetaEvent(),rt.reRender();return}else if("value"in Xo&&vr(ia,ns,!0)){rt.reRender();return}if(Ro&&!ns.length&&Ii(Ro,Xi,Wa,Do,ls,ua)){rt.reRender();return}break}case"dependenciesUpdate":{var wt=So.map(jt);if(wt.some(function(er){return vr(ua.relatedFields,er)})){rt.reRender();return}break}default:if(Bs||(!So.length||ns.length||Ro)&&Ii(Ro,Xi,Wa,Do,ls,ua)){rt.reRender();return}break}Ro===!0&&rt.reRender()}),(0,se.Z)((0,ae.Z)(rt),"validateRules",function(Xi){var ia=rt.getNamePath(),ua=rt.getValue(),co=Xi||{},Ro=co.triggerName,As=co.validateOnly,So=As===void 0?!1:As,ao=Promise.resolve().then((0,j.Z)((0,ue.Z)().mark(function Wa(){var ns,Do,ls,Bs,Xo,wt,er;return(0,ue.Z)().wrap(function(wr){for(;;)switch(wr.prev=wr.next){case 0:if(rt.mounted){wr.next=2;break}return wr.abrupt("return",[]);case 2:if(ns=rt.props,Do=ns.validateFirst,ls=Do===void 0?!1:Do,Bs=ns.messageVariables,Xo=ns.validateDebounce,wt=rt.getRules(),Ro&&(wt=wt.filter(function(hi){return hi}).filter(function(hi){var gi=hi.validateTrigger;if(!gi)return!0;var xr=Ke(gi);return xr.includes(Ro)})),!(Xo&&Ro)){wr.next=10;break}return wr.next=8,new Promise(function(hi){setTimeout(hi,Xo)});case 8:if(rt.validatePromise===ao){wr.next=10;break}return wr.abrupt("return",[]);case 10:return er=sn(ia,ua,wt,Xi,ls,Bs),er.catch(function(hi){return hi}).then(function(){var hi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wi;if(rt.validatePromise===ao){var gi;rt.validatePromise=null;var xr=[],Ji=[];(gi=hi.forEach)===null||gi===void 0||gi.call(hi,function(Ai){var Mi=Ai.rule.warningOnly,po=Ai.errors,ha=po===void 0?Wi:po;Mi?Ji.push.apply(Ji,(0,Y.Z)(ha)):xr.push.apply(xr,(0,Y.Z)(ha))}),rt.errors=xr,rt.warnings=Ji,rt.triggerMetaEvent(),rt.reRender()}}),wr.abrupt("return",er);case 13:case"end":return wr.stop()}},Wa)})));return So||(rt.validatePromise=ao,rt.dirty=!0,rt.errors=Wi,rt.warnings=Wi,rt.triggerMetaEvent(),rt.reRender()),ao}),(0,se.Z)((0,ae.Z)(rt),"isFieldValidating",function(){return!!rt.validatePromise}),(0,se.Z)((0,ae.Z)(rt),"isFieldTouched",function(){return rt.touched}),(0,se.Z)((0,ae.Z)(rt),"isFieldDirty",function(){if(rt.dirty||rt.props.initialValue!==void 0)return!0;var Xi=rt.props.fieldContext,ia=Xi.getInternalHooks(fe),ua=ia.getInitialValue;return ua(rt.getNamePath())!==void 0}),(0,se.Z)((0,ae.Z)(rt),"getErrors",function(){return rt.errors}),(0,se.Z)((0,ae.Z)(rt),"getWarnings",function(){return rt.warnings}),(0,se.Z)((0,ae.Z)(rt),"isListField",function(){return rt.props.isListField}),(0,se.Z)((0,ae.Z)(rt),"isList",function(){return rt.props.isList}),(0,se.Z)((0,ae.Z)(rt),"isPreserve",function(){return rt.props.preserve}),(0,se.Z)((0,ae.Z)(rt),"getMeta",function(){rt.prevValidating=rt.isFieldValidating();var Xi={touched:rt.isFieldTouched(),validating:rt.prevValidating,errors:rt.errors,warnings:rt.warnings,name:rt.getNamePath(),validated:rt.validatePromise===null};return Xi}),(0,se.Z)((0,ae.Z)(rt),"getOnlyChild",function(Xi){if(typeof Xi=="function"){var ia=rt.getMeta();return(0,q.Z)((0,q.Z)({},rt.getOnlyChild(Xi(rt.getControlled(),ia,rt.props.fieldContext))),{},{isFunction:!0})}var ua=(0,ge.Z)(Xi);return ua.length!==1||!w.isValidElement(ua[0])?{child:ua,isFunction:!1}:{child:ua[0],isFunction:!1}}),(0,se.Z)((0,ae.Z)(rt),"getValue",function(Xi){var ia=rt.props.fieldContext.getFieldsValue,ua=rt.getNamePath();return(0,Xt.Z)(Xi||ia(!0),ua)}),(0,se.Z)((0,ae.Z)(rt),"getControlled",function(){var Xi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ia=rt.props,ua=ia.name,co=ia.trigger,Ro=ia.validateTrigger,As=ia.getValueFromEvent,So=ia.normalize,ao=ia.valuePropName,Wa=ia.getValueProps,ns=ia.fieldContext,Do=Ro!==void 0?Ro:ns.validateTrigger,ls=rt.getNamePath(),Bs=ns.getInternalHooks,Xo=ns.getFieldsValue,wt=Bs(fe),er=wt.dispatch,nn=rt.getValue(),wr=Wa||function(Ai){return(0,se.Z)({},ao,Ai)},hi=Xi[co],gi=ua!==void 0?wr(nn):{},xr=(0,q.Z)((0,q.Z)({},Xi),gi);xr[co]=function(){rt.touched=!0,rt.dirty=!0,rt.triggerMetaEvent();for(var Ai,Mi=arguments.length,po=new Array(Mi),ha=0;ha<Mi;ha++)po[ha]=arguments[ha];As?Ai=As.apply(void 0,po):Ai=Gi.apply(void 0,[ao].concat(po)),So&&(Ai=So(Ai,nn,Xo(!0))),Ai!==nn&&er({type:"updateValue",namePath:ls,value:Ai}),hi&&hi.apply(void 0,po)};var Ji=Ke(Do||[]);return Ji.forEach(function(Ai){var Mi=xr[Ai];xr[Ai]=function(){Mi&&Mi.apply(void 0,arguments);var po=rt.props.rules;po&&po.length&&er({type:"validateField",namePath:ls,triggerName:Ai})}}),xr}),rr.fieldContext){var ai=rr.fieldContext.getInternalHooks,mi=ai(fe),_a=mi.initEntityValue;_a((0,ae.Z)(rt))}return rt}return(0,H.Z)(Qt,[{key:"componentDidMount",value:function(){var rt=this.props,ai=rt.shouldUpdate,mi=rt.fieldContext;if(this.mounted=!0,mi){var _a=mi.getInternalHooks,Xi=_a(fe),ia=Xi.registerField;this.cancelRegisterFunc=ia(this)}ai===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var rt=this.state.resetCount,ai=this.props.children,mi=this.getOnlyChild(ai),_a=mi.child,Xi=mi.isFunction,ia;return Xi?ia=_a:w.isValidElement(_a)?ia=w.cloneElement(_a,this.getControlled(_a.props)):((0,ve.ZP)(!_a,"`children` of Field is not validate ReactElement."),ia=_a),w.createElement(w.Fragment,{key:rt},ia)}}]),Qt}(w.Component);(0,se.Z)(Qa,"contextType",gt),(0,se.Z)(Qa,"defaultProps",{trigger:"onChange",valuePropName:"value"});function on(Si){var Sn=Si.name,Qt=(0,ne.Z)(Si,$i),rr=w.useContext(gt),rt=w.useContext(lt),ai=Sn!==void 0?jt(Sn):void 0,mi="keep";return Qt.isListField||(mi="_".concat((ai||[]).join("_"))),w.createElement(Qa,(0,B.Z)({key:mi,name:ai,isListField:!!rt},Qt,{fieldContext:rr}))}var dn=on;function jn(Si){var Sn=Si.name,Qt=Si.initialValue,rr=Si.children,rt=Si.rules,ai=Si.validateTrigger,mi=Si.isListField,_a=w.useContext(gt),Xi=w.useContext(lt),ia=w.useRef({keys:[],id:0}),ua=ia.current,co=w.useMemo(function(){var ao=jt(_a.prefixName)||[];return[].concat((0,Y.Z)(ao),(0,Y.Z)(jt(Sn)))},[_a.prefixName,Sn]),Ro=w.useMemo(function(){return(0,q.Z)((0,q.Z)({},_a),{},{prefixName:co})},[_a,co]),As=w.useMemo(function(){return{getKey:function(Wa){var ns=co.length,Do=Wa[ns];return[ua.keys[Do],Wa.slice(ns+1)]}}},[co]);if(typeof rr!="function")return(0,ve.ZP)(!1,"Form.List only accepts function as children."),null;var So=function(Wa,ns,Do){var ls=Do.source;return ls==="internal"?!1:Wa!==ns};return w.createElement(lt.Provider,{value:As},w.createElement(gt.Provider,{value:Ro},w.createElement(dn,{name:[],shouldUpdate:So,rules:rt,validateTrigger:ai,initialValue:Qt,isList:!0,isListField:mi!=null?mi:!!Xi},function(ao,Wa){var ns=ao.value,Do=ns===void 0?[]:ns,ls=ao.onChange,Bs=_a.getFieldValue,Xo=function(){var wr=Bs(co||[]);return wr||[]},wt={add:function(wr,hi){var gi=Xo();hi>=0&&hi<=gi.length?(ua.keys=[].concat((0,Y.Z)(ua.keys.slice(0,hi)),[ua.id],(0,Y.Z)(ua.keys.slice(hi))),ls([].concat((0,Y.Z)(gi.slice(0,hi)),[wr],(0,Y.Z)(gi.slice(hi))))):(ua.keys=[].concat((0,Y.Z)(ua.keys),[ua.id]),ls([].concat((0,Y.Z)(gi),[wr]))),ua.id+=1},remove:function(wr){var hi=Xo(),gi=new Set(Array.isArray(wr)?wr:[wr]);gi.size<=0||(ua.keys=ua.keys.filter(function(xr,Ji){return!gi.has(Ji)}),ls(hi.filter(function(xr,Ji){return!gi.has(Ji)})))},move:function(wr,hi){if(wr!==hi){var gi=Xo();wr<0||wr>=gi.length||hi<0||hi>=gi.length||(ua.keys=qi(ua.keys,wr,hi),ls(qi(gi,wr,hi)))}}},er=Do||[];return Array.isArray(er)||(er=[]),rr(er.map(function(nn,wr){var hi=ua.keys[wr];return hi===void 0&&(ua.keys[wr]=ua.id,hi=ua.keys[wr],ua.id+=1),{name:wr,key:hi,isListField:!0}}),wt,Wa)})))}var Ur=jn,Yr=A(99459);function Et(Si){var Sn=!1,Qt=Si.length,rr=[];return Si.length?new Promise(function(rt,ai){Si.forEach(function(mi,_a){mi.catch(function(Xi){return Sn=!0,Xi}).then(function(Xi){Qt-=1,rr[_a]=Xi,!(Qt>0)&&(Sn&&ai(rr),rt(rr))})})}):Promise.resolve([])}var Ct="__@field_split__";function xn(Si){return Si.map(function(Sn){return"".concat((0,Pt.Z)(Sn),":").concat(Sn)}).join(Ct)}var Xn=function(){function Si(){(0,K.Z)(this,Si),(0,se.Z)(this,"kvs",new Map)}return(0,H.Z)(Si,[{key:"set",value:function(Qt,rr){this.kvs.set(xn(Qt),rr)}},{key:"get",value:function(Qt){return this.kvs.get(xn(Qt))}},{key:"update",value:function(Qt,rr){var rt=this.get(Qt),ai=rr(rt);ai?this.set(Qt,ai):this.delete(Qt)}},{key:"delete",value:function(Qt){this.kvs.delete(xn(Qt))}},{key:"map",value:function(Qt){return(0,Y.Z)(this.kvs.entries()).map(function(rr){var rt=(0,Yr.Z)(rr,2),ai=rt[0],mi=rt[1],_a=ai.split(Ct);return Qt({key:_a.map(function(Xi){var ia=Xi.match(/^([^:]*):(.*)$/),ua=(0,Yr.Z)(ia,3),co=ua[1],Ro=ua[2];return co==="number"?Number(Ro):Ro}),value:mi})})}},{key:"toJSON",value:function(){var Qt={};return this.map(function(rr){var rt=rr.key,ai=rr.value;return Qt[rt.join(".")]=ai,null}),Qt}}]),Si}(),mt=Xn,vn=["name"],tr=(0,H.Z)(function Si(Sn){var Qt=this;(0,K.Z)(this,Si),(0,se.Z)(this,"formHooked",!1),(0,se.Z)(this,"forceRootUpdate",void 0),(0,se.Z)(this,"subscribable",!0),(0,se.Z)(this,"store",{}),(0,se.Z)(this,"fieldEntities",[]),(0,se.Z)(this,"initialValues",{}),(0,se.Z)(this,"callbacks",{}),(0,se.Z)(this,"validateMessages",null),(0,se.Z)(this,"preserve",null),(0,se.Z)(this,"lastValidatePromise",null),(0,se.Z)(this,"getForm",function(){return{getFieldValue:Qt.getFieldValue,getFieldsValue:Qt.getFieldsValue,getFieldError:Qt.getFieldError,getFieldWarning:Qt.getFieldWarning,getFieldsError:Qt.getFieldsError,isFieldsTouched:Qt.isFieldsTouched,isFieldTouched:Qt.isFieldTouched,isFieldValidating:Qt.isFieldValidating,isFieldsValidating:Qt.isFieldsValidating,resetFields:Qt.resetFields,setFields:Qt.setFields,setFieldValue:Qt.setFieldValue,setFieldsValue:Qt.setFieldsValue,validateFields:Qt.validateFields,submit:Qt.submit,_init:!0,getInternalHooks:Qt.getInternalHooks}}),(0,se.Z)(this,"getInternalHooks",function(rr){return rr===fe?(Qt.formHooked=!0,{dispatch:Qt.dispatch,initEntityValue:Qt.initEntityValue,registerField:Qt.registerField,useSubscribe:Qt.useSubscribe,setInitialValues:Qt.setInitialValues,destroyForm:Qt.destroyForm,setCallbacks:Qt.setCallbacks,setValidateMessages:Qt.setValidateMessages,getFields:Qt.getFields,setPreserve:Qt.setPreserve,getInitialValue:Qt.getInitialValue,registerWatch:Qt.registerWatch}):((0,ve.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,se.Z)(this,"useSubscribe",function(rr){Qt.subscribable=rr}),(0,se.Z)(this,"prevWithoutPreserves",null),(0,se.Z)(this,"setInitialValues",function(rr,rt){if(Qt.initialValues=rr||{},rt){var ai,mi=(0,Ze.T)(rr,Qt.store);(ai=Qt.prevWithoutPreserves)===null||ai===void 0||ai.map(function(_a){var Xi=_a.key;mi=(0,Ze.Z)(mi,Xi,(0,Xt.Z)(rr,Xi))}),Qt.prevWithoutPreserves=null,Qt.updateStore(mi)}}),(0,se.Z)(this,"destroyForm",function(rr){if(rr)Qt.updateStore({});else{var rt=new mt;Qt.getFieldEntities(!0).forEach(function(ai){Qt.isMergedPreserve(ai.isPreserve())||rt.set(ai.getNamePath(),!0)}),Qt.prevWithoutPreserves=rt}}),(0,se.Z)(this,"getInitialValue",function(rr){var rt=(0,Xt.Z)(Qt.initialValues,rr);return rr.length?(0,Ze.T)(rt):rt}),(0,se.Z)(this,"setCallbacks",function(rr){Qt.callbacks=rr}),(0,se.Z)(this,"setValidateMessages",function(rr){Qt.validateMessages=rr}),(0,se.Z)(this,"setPreserve",function(rr){Qt.preserve=rr}),(0,se.Z)(this,"watchList",[]),(0,se.Z)(this,"registerWatch",function(rr){return Qt.watchList.push(rr),function(){Qt.watchList=Qt.watchList.filter(function(rt){return rt!==rr})}}),(0,se.Z)(this,"notifyWatch",function(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Qt.watchList.length){var rt=Qt.getFieldsValue(),ai=Qt.getFieldsValue(!0);Qt.watchList.forEach(function(mi){mi(rt,ai,rr)})}}),(0,se.Z)(this,"timeoutId",null),(0,se.Z)(this,"warningUnhooked",function(){}),(0,se.Z)(this,"updateStore",function(rr){Qt.store=rr}),(0,se.Z)(this,"getFieldEntities",function(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return rr?Qt.fieldEntities.filter(function(rt){return rt.getNamePath().length}):Qt.fieldEntities}),(0,se.Z)(this,"getFieldsMap",function(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,rt=new mt;return Qt.getFieldEntities(rr).forEach(function(ai){var mi=ai.getNamePath();rt.set(mi,ai)}),rt}),(0,se.Z)(this,"getFieldEntitiesForNamePathList",function(rr){if(!rr)return Qt.getFieldEntities(!0);var rt=Qt.getFieldsMap(!0);return rr.map(function(ai){var mi=jt(ai);return rt.get(mi)||{INVALIDATE_NAME_PATH:jt(ai)}})}),(0,se.Z)(this,"getFieldsValue",function(rr,rt){Qt.warningUnhooked();var ai,mi,_a;if(rr===!0||Array.isArray(rr)?(ai=rr,mi=rt):rr&&(0,Pt.Z)(rr)==="object"&&(_a=rr.strict,mi=rr.filter),ai===!0&&!mi)return Qt.store;var Xi=Qt.getFieldEntitiesForNamePathList(Array.isArray(ai)?ai:null),ia=[];return Xi.forEach(function(ua){var co,Ro,As="INVALIDATE_NAME_PATH"in ua?ua.INVALIDATE_NAME_PATH:ua.getNamePath();if(_a){var So,ao;if((So=(ao=ua).isList)!==null&&So!==void 0&&So.call(ao))return}else if(!ai&&(co=(Ro=ua).isListField)!==null&&co!==void 0&&co.call(Ro))return;if(!mi)ia.push(As);else{var Wa="getMeta"in ua?ua.getMeta():null;mi(Wa)&&ia.push(As)}}),fr(Qt.store,ia.map(jt))}),(0,se.Z)(this,"getFieldValue",function(rr){Qt.warningUnhooked();var rt=jt(rr);return(0,Xt.Z)(Qt.store,rt)}),(0,se.Z)(this,"getFieldsError",function(rr){Qt.warningUnhooked();var rt=Qt.getFieldEntitiesForNamePathList(rr);return rt.map(function(ai,mi){return ai&&!("INVALIDATE_NAME_PATH"in ai)?{name:ai.getNamePath(),errors:ai.getErrors(),warnings:ai.getWarnings()}:{name:jt(rr[mi]),errors:[],warnings:[]}})}),(0,se.Z)(this,"getFieldError",function(rr){Qt.warningUnhooked();var rt=jt(rr),ai=Qt.getFieldsError([rt])[0];return ai.errors}),(0,se.Z)(this,"getFieldWarning",function(rr){Qt.warningUnhooked();var rt=jt(rr),ai=Qt.getFieldsError([rt])[0];return ai.warnings}),(0,se.Z)(this,"isFieldsTouched",function(){Qt.warningUnhooked();for(var rr=arguments.length,rt=new Array(rr),ai=0;ai<rr;ai++)rt[ai]=arguments[ai];var mi=rt[0],_a=rt[1],Xi,ia=!1;rt.length===0?Xi=null:rt.length===1?Array.isArray(mi)?(Xi=mi.map(jt),ia=!1):(Xi=null,ia=mi):(Xi=mi.map(jt),ia=_a);var ua=Qt.getFieldEntities(!0),co=function(Wa){return Wa.isFieldTouched()};if(!Xi)return ia?ua.every(function(ao){return co(ao)||ao.isList()}):ua.some(co);var Ro=new mt;Xi.forEach(function(ao){Ro.set(ao,[])}),ua.forEach(function(ao){var Wa=ao.getNamePath();Xi.forEach(function(ns){ns.every(function(Do,ls){return Wa[ls]===Do})&&Ro.update(ns,function(Do){return[].concat((0,Y.Z)(Do),[ao])})})});var As=function(Wa){return Wa.some(co)},So=Ro.map(function(ao){var Wa=ao.value;return Wa});return ia?So.every(As):So.some(As)}),(0,se.Z)(this,"isFieldTouched",function(rr){return Qt.warningUnhooked(),Qt.isFieldsTouched([rr])}),(0,se.Z)(this,"isFieldsValidating",function(rr){Qt.warningUnhooked();var rt=Qt.getFieldEntities();if(!rr)return rt.some(function(mi){return mi.isFieldValidating()});var ai=rr.map(jt);return rt.some(function(mi){var _a=mi.getNamePath();return vr(ai,_a)&&mi.isFieldValidating()})}),(0,se.Z)(this,"isFieldValidating",function(rr){return Qt.warningUnhooked(),Qt.isFieldsValidating([rr])}),(0,se.Z)(this,"resetWithFieldInitialValue",function(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=new mt,ai=Qt.getFieldEntities(!0);ai.forEach(function(Xi){var ia=Xi.props.initialValue,ua=Xi.getNamePath();if(ia!==void 0){var co=rt.get(ua)||new Set;co.add({entity:Xi,value:ia}),rt.set(ua,co)}});var mi=function(ia){ia.forEach(function(ua){var co=ua.props.initialValue;if(co!==void 0){var Ro=ua.getNamePath(),As=Qt.getInitialValue(Ro);if(As!==void 0)(0,ve.ZP)(!1,"Form already set 'initialValues' with path '".concat(Ro.join("."),"'. Field can not overwrite it."));else{var So=rt.get(Ro);if(So&&So.size>1)(0,ve.ZP)(!1,"Multiple Field with path '".concat(Ro.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(So){var ao=Qt.getFieldValue(Ro),Wa=ua.isListField();!Wa&&(!rr.skipExist||ao===void 0)&&Qt.updateStore((0,Ze.Z)(Qt.store,Ro,(0,Y.Z)(So)[0].value))}}}})},_a;rr.entities?_a=rr.entities:rr.namePathList?(_a=[],rr.namePathList.forEach(function(Xi){var ia=rt.get(Xi);if(ia){var ua;(ua=_a).push.apply(ua,(0,Y.Z)((0,Y.Z)(ia).map(function(co){return co.entity})))}})):_a=ai,mi(_a)}),(0,se.Z)(this,"resetFields",function(rr){Qt.warningUnhooked();var rt=Qt.store;if(!rr){Qt.updateStore((0,Ze.T)(Qt.initialValues)),Qt.resetWithFieldInitialValue(),Qt.notifyObservers(rt,null,{type:"reset"}),Qt.notifyWatch();return}var ai=rr.map(jt);ai.forEach(function(mi){var _a=Qt.getInitialValue(mi);Qt.updateStore((0,Ze.Z)(Qt.store,mi,_a))}),Qt.resetWithFieldInitialValue({namePathList:ai}),Qt.notifyObservers(rt,ai,{type:"reset"}),Qt.notifyWatch(ai)}),(0,se.Z)(this,"setFields",function(rr){Qt.warningUnhooked();var rt=Qt.store,ai=[];rr.forEach(function(mi){var _a=mi.name,Xi=(0,ne.Z)(mi,vn),ia=jt(_a);ai.push(ia),"value"in Xi&&Qt.updateStore((0,Ze.Z)(Qt.store,ia,Xi.value)),Qt.notifyObservers(rt,[ia],{type:"setField",data:mi})}),Qt.notifyWatch(ai)}),(0,se.Z)(this,"getFields",function(){var rr=Qt.getFieldEntities(!0),rt=rr.map(function(ai){var mi=ai.getNamePath(),_a=ai.getMeta(),Xi=(0,q.Z)((0,q.Z)({},_a),{},{name:mi,value:Qt.getFieldValue(mi)});return Object.defineProperty(Xi,"originRCField",{value:!0}),Xi});return rt}),(0,se.Z)(this,"initEntityValue",function(rr){var rt=rr.props.initialValue;if(rt!==void 0){var ai=rr.getNamePath(),mi=(0,Xt.Z)(Qt.store,ai);mi===void 0&&Qt.updateStore((0,Ze.Z)(Qt.store,ai,rt))}}),(0,se.Z)(this,"isMergedPreserve",function(rr){var rt=rr!==void 0?rr:Qt.preserve;return rt!=null?rt:!0}),(0,se.Z)(this,"registerField",function(rr){Qt.fieldEntities.push(rr);var rt=rr.getNamePath();if(Qt.notifyWatch([rt]),rr.props.initialValue!==void 0){var ai=Qt.store;Qt.resetWithFieldInitialValue({entities:[rr],skipExist:!0}),Qt.notifyObservers(ai,[rr.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(mi,_a){var Xi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Qt.fieldEntities=Qt.fieldEntities.filter(function(co){return co!==rr}),!Qt.isMergedPreserve(_a)&&(!mi||Xi.length>1)){var ia=mi?void 0:Qt.getInitialValue(rt);if(rt.length&&Qt.getFieldValue(rt)!==ia&&Qt.fieldEntities.every(function(co){return!yr(co.getNamePath(),rt)})){var ua=Qt.store;Qt.updateStore((0,Ze.Z)(ua,rt,ia,!0)),Qt.notifyObservers(ua,[rt],{type:"remove"}),Qt.triggerDependenciesUpdate(ua,rt)}}Qt.notifyWatch([rt])}}),(0,se.Z)(this,"dispatch",function(rr){switch(rr.type){case"updateValue":{var rt=rr.namePath,ai=rr.value;Qt.updateValue(rt,ai);break}case"validateField":{var mi=rr.namePath,_a=rr.triggerName;Qt.validateFields([mi],{triggerName:_a});break}default:}}),(0,se.Z)(this,"notifyObservers",function(rr,rt,ai){if(Qt.subscribable){var mi=(0,q.Z)((0,q.Z)({},ai),{},{store:Qt.getFieldsValue(!0)});Qt.getFieldEntities().forEach(function(_a){var Xi=_a.onStoreChange;Xi(rr,rt,mi)})}else Qt.forceRootUpdate()}),(0,se.Z)(this,"triggerDependenciesUpdate",function(rr,rt){var ai=Qt.getDependencyChildrenFields(rt);return ai.length&&Qt.validateFields(ai),Qt.notifyObservers(rr,ai,{type:"dependenciesUpdate",relatedFields:[rt].concat((0,Y.Z)(ai))}),ai}),(0,se.Z)(this,"updateValue",function(rr,rt){var ai=jt(rr),mi=Qt.store;Qt.updateStore((0,Ze.Z)(Qt.store,ai,rt)),Qt.notifyObservers(mi,[ai],{type:"valueUpdate",source:"internal"}),Qt.notifyWatch([ai]);var _a=Qt.triggerDependenciesUpdate(mi,ai),Xi=Qt.callbacks.onValuesChange;if(Xi){var ia=fr(Qt.store,[ai]);Xi(ia,Qt.getFieldsValue())}Qt.triggerOnFieldsChange([ai].concat((0,Y.Z)(_a)))}),(0,se.Z)(this,"setFieldsValue",function(rr){Qt.warningUnhooked();var rt=Qt.store;if(rr){var ai=(0,Ze.T)(Qt.store,rr);Qt.updateStore(ai)}Qt.notifyObservers(rt,null,{type:"valueUpdate",source:"external"}),Qt.notifyWatch()}),(0,se.Z)(this,"setFieldValue",function(rr,rt){Qt.setFields([{name:rr,value:rt}])}),(0,se.Z)(this,"getDependencyChildrenFields",function(rr){var rt=new Set,ai=[],mi=new mt;Qt.getFieldEntities().forEach(function(Xi){var ia=Xi.props.dependencies;(ia||[]).forEach(function(ua){var co=jt(ua);mi.update(co,function(){var Ro=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return Ro.add(Xi),Ro})})});var _a=function Xi(ia){var ua=mi.get(ia)||new Set;ua.forEach(function(co){if(!rt.has(co)){rt.add(co);var Ro=co.getNamePath();co.isFieldDirty()&&Ro.length&&(ai.push(Ro),Xi(Ro))}})};return _a(rr),ai}),(0,se.Z)(this,"triggerOnFieldsChange",function(rr,rt){var ai=Qt.callbacks.onFieldsChange;if(ai){var mi=Qt.getFields();if(rt){var _a=new mt;rt.forEach(function(ia){var ua=ia.name,co=ia.errors;_a.set(ua,co)}),mi.forEach(function(ia){ia.errors=_a.get(ia.name)||ia.errors})}var Xi=mi.filter(function(ia){var ua=ia.name;return vr(rr,ua)});Xi.length&&ai(Xi,mi)}}),(0,se.Z)(this,"validateFields",function(rr,rt){Qt.warningUnhooked();var ai,mi;Array.isArray(rr)||typeof rr=="string"||typeof rt=="string"?(ai=rr,mi=rt):mi=rr;var _a=!!ai,Xi=_a?ai.map(jt):[],ia=[],ua=String(Date.now()),co=new Set,Ro=mi||{},As=Ro.recursive,So=Ro.dirty;Qt.getFieldEntities(!0).forEach(function(Do){if(_a||Xi.push(Do.getNamePath()),!(!Do.props.rules||!Do.props.rules.length)&&!(So&&!Do.isFieldDirty())){var ls=Do.getNamePath();if(co.add(ls.join(ua)),!_a||vr(Xi,ls,As)){var Bs=Do.validateRules((0,q.Z)({validateMessages:(0,q.Z)((0,q.Z)({},or),Qt.validateMessages)},mi));ia.push(Bs.then(function(){return{name:ls,errors:[],warnings:[]}}).catch(function(Xo){var wt,er=[],nn=[];return(wt=Xo.forEach)===null||wt===void 0||wt.call(Xo,function(wr){var hi=wr.rule.warningOnly,gi=wr.errors;hi?nn.push.apply(nn,(0,Y.Z)(gi)):er.push.apply(er,(0,Y.Z)(gi))}),er.length?Promise.reject({name:ls,errors:er,warnings:nn}):{name:ls,errors:er,warnings:nn}}))}}});var ao=Et(ia);Qt.lastValidatePromise=ao,ao.catch(function(Do){return Do}).then(function(Do){var ls=Do.map(function(Bs){var Xo=Bs.name;return Xo});Qt.notifyObservers(Qt.store,ls,{type:"validateFinish"}),Qt.triggerOnFieldsChange(ls,Do)});var Wa=ao.then(function(){return Qt.lastValidatePromise===ao?Promise.resolve(Qt.getFieldsValue(Xi)):Promise.reject([])}).catch(function(Do){var ls=Do.filter(function(Bs){return Bs&&Bs.errors.length});return Promise.reject({values:Qt.getFieldsValue(Xi),errorFields:ls,outOfDate:Qt.lastValidatePromise!==ao})});Wa.catch(function(Do){return Do});var ns=Xi.filter(function(Do){return co.has(Do.join(ua))});return Qt.triggerOnFieldsChange(ns),Wa}),(0,se.Z)(this,"submit",function(){Qt.warningUnhooked(),Qt.validateFields().then(function(rr){var rt=Qt.callbacks.onFinish;if(rt)try{rt(rr)}catch(ai){console.error(ai)}}).catch(function(rr){var rt=Qt.callbacks.onFinishFailed;rt&&rt(rr)})}),this.forceRootUpdate=Sn});function Mr(Si){var Sn=w.useRef(),Qt=w.useState({}),rr=(0,Yr.Z)(Qt,2),rt=rr[1];if(!Sn.current)if(Si)Sn.current=Si;else{var ai=function(){rt({})},mi=new tr(ai);Sn.current=mi.getForm()}return[Sn.current]}var ui=Mr,Ri=w.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Aa=function(Sn){var Qt=Sn.validateMessages,rr=Sn.onFormChange,rt=Sn.onFormFinish,ai=Sn.children,mi=w.useContext(Ri),_a=w.useRef({});return w.createElement(Ri.Provider,{value:(0,q.Z)((0,q.Z)({},mi),{},{validateMessages:(0,q.Z)((0,q.Z)({},mi.validateMessages),Qt),triggerFormChange:function(ia,ua){rr&&rr(ia,{changedFields:ua,forms:_a.current}),mi.triggerFormChange(ia,ua)},triggerFormFinish:function(ia,ua){rt&&rt(ia,{values:ua,forms:_a.current}),mi.triggerFormFinish(ia,ua)},registerForm:function(ia,ua){ia&&(_a.current=(0,q.Z)((0,q.Z)({},_a.current),{},(0,se.Z)({},ia,ua))),mi.registerForm(ia,ua)},unregisterForm:function(ia){var ua=(0,q.Z)({},_a.current);delete ua[ia],_a.current=ua,mi.unregisterForm(ia)}})},ai)},Ga=Ri,vo=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],To=function(Sn,Qt){var rr=Sn.name,rt=Sn.initialValues,ai=Sn.fields,mi=Sn.form,_a=Sn.preserve,Xi=Sn.children,ia=Sn.component,ua=ia===void 0?"form":ia,co=Sn.validateMessages,Ro=Sn.validateTrigger,As=Ro===void 0?"onChange":Ro,So=Sn.onValuesChange,ao=Sn.onFieldsChange,Wa=Sn.onFinish,ns=Sn.onFinishFailed,Do=Sn.clearOnDestroy,ls=(0,ne.Z)(Sn,vo),Bs=w.useRef(null),Xo=w.useContext(Ga),wt=ui(mi),er=(0,Yr.Z)(wt,1),nn=er[0],wr=nn.getInternalHooks(fe),hi=wr.useSubscribe,gi=wr.setInitialValues,xr=wr.setCallbacks,Ji=wr.setValidateMessages,Ai=wr.setPreserve,Mi=wr.destroyForm;w.useImperativeHandle(Qt,function(){return(0,q.Z)((0,q.Z)({},nn),{},{nativeElement:Bs.current})}),w.useEffect(function(){return Xo.registerForm(rr,nn),function(){Xo.unregisterForm(rr)}},[Xo,nn,rr]),Ji((0,q.Z)((0,q.Z)({},Xo.validateMessages),co)),xr({onValuesChange:So,onFieldsChange:function(Zn){if(Xo.triggerFormChange(rr,Zn),ao){for(var Cr=arguments.length,Di=new Array(Cr>1?Cr-1:0),wa=1;wa<Cr;wa++)Di[wa-1]=arguments[wa];ao.apply(void 0,[Zn].concat(Di))}},onFinish:function(Zn){Xo.triggerFormFinish(rr,Zn),Wa&&Wa(Zn)},onFinishFailed:ns}),Ai(_a);var po=w.useRef(null);gi(rt,!po.current),po.current||(po.current=!0),w.useEffect(function(){return function(){return Mi(Do)}},[]);var ha,Qo=typeof Xi=="function";if(Qo){var Cs=nn.getFieldsValue(!0);ha=Xi(Cs,nn)}else ha=Xi;hi(!Qo);var Oo=w.useRef();w.useEffect(function(){Br(Oo.current||[],ai||[])||nn.setFields(ai||[]),Oo.current=ai},[ai,nn]);var su=w.useMemo(function(){return(0,q.Z)((0,q.Z)({},nn),{},{validateTrigger:As})},[nn,As]),ru=w.createElement(lt.Provider,{value:null},w.createElement(gt.Provider,{value:su},ha));return ua===!1?ru:w.createElement(ua,(0,B.Z)({},ls,{ref:Bs,onSubmit:function(Zn){Zn.preventDefault(),Zn.stopPropagation(),nn.submit()},onReset:function(Zn){var Cr;Zn.preventDefault(),nn.resetFields(),(Cr=ls.onReset)===null||Cr===void 0||Cr.call(ls,Zn)}}),ru)},Po=To;function ds(Si){try{return JSON.stringify(Si)}catch(Sn){return Math.random()}}var Za=function(){};function ks(){for(var Si=arguments.length,Sn=new Array(Si),Qt=0;Qt<Si;Qt++)Sn[Qt]=arguments[Qt];var rr=Sn[0],rt=Sn[1],ai=rt===void 0?{}:rt,mi=Ue(ai)?{form:ai}:ai,_a=mi.form,Xi=(0,w.useState)(),ia=(0,Yr.Z)(Xi,2),ua=ia[0],co=ia[1],Ro=(0,w.useMemo)(function(){return ds(ua)},[ua]),As=(0,w.useRef)(Ro);As.current=Ro;var So=(0,w.useContext)(gt),ao=_a||So,Wa=ao&&ao._init,ns=jt(rr),Do=(0,w.useRef)(ns);return Do.current=ns,Za(ns),(0,w.useEffect)(function(){if(Wa){var ls=ao.getFieldsValue,Bs=ao.getInternalHooks,Xo=Bs(fe),wt=Xo.registerWatch,er=function(gi,xr){var Ji=mi.preserve?xr:gi;return typeof rr=="function"?rr(Ji):(0,Xt.Z)(Ji,Do.current)},nn=wt(function(hi,gi){var xr=er(hi,gi),Ji=ds(xr);As.current!==Ji&&(As.current=Ji,co(xr))}),wr=er(ls(),ls(!0));return ua!==wr&&co(wr),nn}},[Wa]),ua}var oo=ks,nu=w.forwardRef(Po),wu=nu;wu.FormProvider=Aa,wu.Field=dn,wu.List=Ur,wu.useForm=ui,wu.useWatch=oo;var Ll=wu},12931:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return Y}});var w=A(58006),B=A(98037),ne=A(24744),ue=A(75271),j=["show"];function q(K,H){if(!H.max)return!0;var ae=H.strategy(K);return ae<=H.max}function Y(K,H){return ue.useMemo(function(){var ae={};H&&(ae.show=(0,ne.Z)(H)==="object"&&H.formatter?H.formatter:!!H),ae=(0,B.Z)((0,B.Z)({},ae),K);var ie=ae,le=ie.show,se=(0,w.Z)(ie,j);return(0,B.Z)((0,B.Z)({},se),{},{show:!!le,showFormatter:typeof le=="function"?le:void 0,strategy:se.strategy||function(ge){return ge.length}})},[K,H])}},50222:function(cn,Ne,A){"use strict";A.d(Ne,{Q:function(){return ae},Z:function(){return gt}});var w=A(98037),B=A(2053),ne=A(57904),ue=A(24744),j=A(82187),q=A.n(j),Y=A(75271),K=A(9997),H=Y.forwardRef(function(pt,lt){var Ke,Ue,Pt=pt.inputElement,Gt=pt.children,rn=pt.prefixCls,_n=pt.prefix,qe=pt.suffix,Nt=pt.addonBefore,ft=pt.addonAfter,ln=pt.className,tt=pt.style,Pe=pt.disabled,Qe=pt.readOnly,He=pt.focused,_t=pt.triggerFocus,Bt=pt.allowClear,At=pt.value,Je=pt.handleReset,zt=pt.hidden,mn=pt.classes,Ot=pt.classNames,Xe=pt.dataAttrs,ct=pt.styles,Rt=pt.components,Oe=pt.onClear,Ge=Gt!=null?Gt:Pt,Vt=(Rt==null?void 0:Rt.affixWrapper)||"span",De=(Rt==null?void 0:Rt.groupWrapper)||"span",et=(Rt==null?void 0:Rt.wrapper)||"span",Ce=(Rt==null?void 0:Rt.groupAddon)||"span",J=(0,Y.useRef)(null),Le=function(vt){var $t;($t=J.current)!==null&&$t!==void 0&&$t.contains(vt.target)&&(_t==null||_t())},Jt=(0,K.X3)(pt),Be=(0,Y.cloneElement)(Ge,{value:At,className:q()(Ge.props.className,!Jt&&(Ot==null?void 0:Ot.variant))||null}),In=(0,Y.useRef)(null);if(Y.useImperativeHandle(lt,function(){return{nativeElement:In.current||J.current}}),Jt){var cr=null;if(Bt){var bn=!Pe&&!Qe&&At,ir="".concat(rn,"-clear-icon"),Nr=(0,ue.Z)(Bt)==="object"&&Bt!==null&&Bt!==void 0&&Bt.clearIcon?Bt.clearIcon:"\u2716";cr=Y.createElement("span",{onClick:function(vt){Je==null||Je(vt),Oe==null||Oe()},onMouseDown:function(vt){return vt.preventDefault()},className:q()(ir,(0,ne.Z)((0,ne.Z)({},"".concat(ir,"-hidden"),!bn),"".concat(ir,"-has-suffix"),!!qe)),role:"button",tabIndex:-1},Nr)}var Ar="".concat(rn,"-affix-wrapper"),Zr=q()(Ar,(0,ne.Z)((0,ne.Z)((0,ne.Z)((0,ne.Z)((0,ne.Z)({},"".concat(rn,"-disabled"),Pe),"".concat(Ar,"-disabled"),Pe),"".concat(Ar,"-focused"),He),"".concat(Ar,"-readonly"),Qe),"".concat(Ar,"-input-with-clear-btn"),qe&&Bt&&At),mn==null?void 0:mn.affixWrapper,Ot==null?void 0:Ot.affixWrapper,Ot==null?void 0:Ot.variant),wi=(qe||Bt)&&Y.createElement("span",{className:q()("".concat(rn,"-suffix"),Ot==null?void 0:Ot.suffix),style:ct==null?void 0:ct.suffix},cr,qe);Be=Y.createElement(Vt,(0,B.Z)({className:Zr,style:ct==null?void 0:ct.affixWrapper,onClick:Le},Xe==null?void 0:Xe.affixWrapper,{ref:J}),_n&&Y.createElement("span",{className:q()("".concat(rn,"-prefix"),Ot==null?void 0:Ot.prefix),style:ct==null?void 0:ct.prefix},_n),Be,wi)}if((0,K.He)(pt)){var Ln="".concat(rn,"-group"),Nn="".concat(Ln,"-addon"),$n="".concat(Ln,"-wrapper"),wn=q()("".concat(rn,"-wrapper"),Ln,mn==null?void 0:mn.wrapper,Ot==null?void 0:Ot.wrapper),nt=q()($n,(0,ne.Z)({},"".concat($n,"-disabled"),Pe),mn==null?void 0:mn.group,Ot==null?void 0:Ot.groupWrapper);Be=Y.createElement(De,{className:nt,ref:In},Y.createElement(et,{className:wn},Nt&&Y.createElement(Ce,{className:Nn},Nt),Be,ft&&Y.createElement(Ce,{className:Nn},ft)))}return Y.cloneElement(Be,{className:q()((Ke=Be.props)===null||Ke===void 0?void 0:Ke.className,ln)||null,style:(0,w.Z)((0,w.Z)({},(Ue=Be.props)===null||Ue===void 0?void 0:Ue.style),tt),hidden:zt})}),ae=H,ie=A(35047),le=A(99459),se=A(58006),ge=A(31998),ye=A(30454),ve=A(12931),fe=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Fe=(0,Y.forwardRef)(function(pt,lt){var Ke=pt.autoComplete,Ue=pt.onChange,Pt=pt.onFocus,Gt=pt.onBlur,rn=pt.onPressEnter,_n=pt.onKeyDown,qe=pt.onKeyUp,Nt=pt.prefixCls,ft=Nt===void 0?"rc-input":Nt,ln=pt.disabled,tt=pt.htmlSize,Pe=pt.className,Qe=pt.maxLength,He=pt.suffix,_t=pt.showCount,Bt=pt.count,At=pt.type,Je=At===void 0?"text":At,zt=pt.classes,mn=pt.classNames,Ot=pt.styles,Xe=pt.onCompositionStart,ct=pt.onCompositionEnd,Rt=(0,se.Z)(pt,fe),Oe=(0,Y.useState)(!1),Ge=(0,le.Z)(Oe,2),Vt=Ge[0],De=Ge[1],et=(0,Y.useRef)(!1),Ce=(0,Y.useRef)(!1),J=(0,Y.useRef)(null),Le=(0,Y.useRef)(null),Jt=function(di){J.current&&(0,K.nH)(J.current,di)},Be=(0,ge.Z)(pt.defaultValue,{value:pt.value}),In=(0,le.Z)(Be,2),cr=In[0],bn=In[1],ir=cr==null?"":String(cr),Nr=(0,Y.useState)(null),Ar=(0,le.Z)(Nr,2),Zr=Ar[0],wi=Ar[1],Ln=(0,ve.Z)(Bt,_t),Nn=Ln.max||Qe,$n=Ln.strategy(ir),wn=!!Nn&&$n>Nn;(0,Y.useImperativeHandle)(lt,function(){var ar;return{focus:Jt,blur:function(){var sa;(sa=J.current)===null||sa===void 0||sa.blur()},setSelectionRange:function(sa,xa,za){var Ui;(Ui=J.current)===null||Ui===void 0||Ui.setSelectionRange(sa,xa,za)},select:function(){var sa;(sa=J.current)===null||sa===void 0||sa.select()},input:J.current,nativeElement:((ar=Le.current)===null||ar===void 0?void 0:ar.nativeElement)||J.current}}),(0,Y.useEffect)(function(){De(function(ar){return ar&&ln?!1:ar})},[ln]);var nt=function(di,sa,xa){var za=sa;if(!et.current&&Ln.exceedFormatter&&Ln.max&&Ln.strategy(sa)>Ln.max){if(za=Ln.exceedFormatter(sa,{max:Ln.max}),sa!==za){var Ui,Ao;wi([((Ui=J.current)===null||Ui===void 0?void 0:Ui.selectionStart)||0,((Ao=J.current)===null||Ao===void 0?void 0:Ao.selectionEnd)||0])}}else if(xa.source==="compositionEnd")return;bn(za),J.current&&(0,K.rJ)(J.current,di,Ue,za)};(0,Y.useEffect)(function(){if(Zr){var ar;(ar=J.current)===null||ar===void 0||ar.setSelectionRange.apply(ar,(0,ie.Z)(Zr))}},[Zr]);var ze=function(di){nt(di,di.target.value,{source:"change"})},vt=function(di){et.current=!1,nt(di,di.currentTarget.value,{source:"compositionEnd"}),ct==null||ct(di)},$t=function(di){rn&&di.key==="Enter"&&!Ce.current&&(Ce.current=!0,rn(di)),_n==null||_n(di)},gn=function(di){di.key==="Enter"&&(Ce.current=!1),qe==null||qe(di)},at=function(di){De(!0),Pt==null||Pt(di)},an=function(di){De(!1),Gt==null||Gt(di)},hn=function(di){bn(""),Jt(),J.current&&(0,K.rJ)(J.current,di,Ue)},pr=wn&&"".concat(ft,"-out-of-range"),ur=function(){var di=(0,ye.Z)(pt,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Y.createElement("input",(0,B.Z)({autoComplete:Ke},di,{onChange:ze,onFocus:at,onBlur:an,onKeyDown:$t,onKeyUp:gn,className:q()(ft,(0,ne.Z)({},"".concat(ft,"-disabled"),ln),mn==null?void 0:mn.input),style:Ot==null?void 0:Ot.input,ref:J,size:tt,type:Je,onCompositionStart:function(xa){et.current=!0,Xe==null||Xe(xa)},onCompositionEnd:vt}))},pi=function(){var di=Number(Nn)>0;if(He||Ln.show){var sa=Ln.showFormatter?Ln.showFormatter({value:ir,count:$n,maxLength:Nn}):"".concat($n).concat(di?" / ".concat(Nn):"");return Y.createElement(Y.Fragment,null,Ln.show&&Y.createElement("span",{className:q()("".concat(ft,"-show-count-suffix"),(0,ne.Z)({},"".concat(ft,"-show-count-has-suffix"),!!He),mn==null?void 0:mn.count),style:(0,w.Z)({},Ot==null?void 0:Ot.count)},sa),He)}return null};return Y.createElement(ae,(0,B.Z)({},Rt,{prefixCls:ft,className:q()(Pe,pr),handleReset:hn,value:ir,focused:Vt,triggerFocus:Jt,suffix:pi(),disabled:ln,classes:zt,classNames:mn,styles:Ot}),ur())}),yt=Fe,gt=yt},9997:function(cn,Ne,A){"use strict";A.d(Ne,{He:function(){return w},X3:function(){return B},nH:function(){return j},rJ:function(){return ue}});function w(q){return!!(q.addonBefore||q.addonAfter)}function B(q){return!!(q.prefix||q.suffix||q.allowClear)}function ne(q,Y,K){var H=Y.cloneNode(!0),ae=Object.create(q,{target:{value:H},currentTarget:{value:H}});return H.value=K,typeof Y.selectionStart=="number"&&typeof Y.selectionEnd=="number"&&(H.selectionStart=Y.selectionStart,H.selectionEnd=Y.selectionEnd),H.setSelectionRange=function(){Y.setSelectionRange.apply(Y,arguments)},ae}function ue(q,Y,K,H){if(K){var ae=Y;if(Y.type==="click"){ae=ne(Y,q,""),K(ae);return}if(q.type!=="file"&&H!==void 0){ae=ne(Y,q,H),K(ae);return}K(ae)}}function j(q,Y){if(q){q.focus(Y);var K=Y||{},H=K.cursor;if(H){var ae=q.value.length;switch(H){case"start":q.setSelectionRange(0,0);break;case"end":q.setSelectionRange(ae,ae);break;default:q.setSelectionRange(0,ae)}}}}},4327:function(cn,Ne){"use strict";var A={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};Ne.Z=A},70220:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return tt}});var w=A(2053),B=A(57904),ne=A(98037),ue=A(35047),j=A(99459),q=A(58006),Y=A(82187),K=A.n(Y),H=A(50222),ae=A(12931),ie=A(9997),le=A(31998),se=A(75271),ge=A(24744),ye=A(34010),ve=A(50979),fe=A(87564),Fe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,yt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],gt={},pt;function lt(Pe){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,He=Pe.getAttribute("id")||Pe.getAttribute("data-reactid")||Pe.getAttribute("name");if(Qe&&gt[He])return gt[He];var _t=window.getComputedStyle(Pe),Bt=_t.getPropertyValue("box-sizing")||_t.getPropertyValue("-moz-box-sizing")||_t.getPropertyValue("-webkit-box-sizing"),At=parseFloat(_t.getPropertyValue("padding-bottom"))+parseFloat(_t.getPropertyValue("padding-top")),Je=parseFloat(_t.getPropertyValue("border-bottom-width"))+parseFloat(_t.getPropertyValue("border-top-width")),zt=yt.map(function(Ot){return"".concat(Ot,":").concat(_t.getPropertyValue(Ot))}).join(";"),mn={sizingStyle:zt,paddingSize:At,borderSize:Je,boxSizing:Bt};return Qe&&He&&(gt[He]=mn),mn}function Ke(Pe){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,_t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;pt||(pt=document.createElement("textarea"),pt.setAttribute("tab-index","-1"),pt.setAttribute("aria-hidden","true"),pt.setAttribute("name","hiddenTextarea"),document.body.appendChild(pt)),Pe.getAttribute("wrap")?pt.setAttribute("wrap",Pe.getAttribute("wrap")):pt.removeAttribute("wrap");var Bt=lt(Pe,Qe),At=Bt.paddingSize,Je=Bt.borderSize,zt=Bt.boxSizing,mn=Bt.sizingStyle;pt.setAttribute("style","".concat(mn,";").concat(Fe)),pt.value=Pe.value||Pe.placeholder||"";var Ot=void 0,Xe=void 0,ct,Rt=pt.scrollHeight;if(zt==="border-box"?Rt+=Je:zt==="content-box"&&(Rt-=At),He!==null||_t!==null){pt.value=" ";var Oe=pt.scrollHeight-At;He!==null&&(Ot=Oe*He,zt==="border-box"&&(Ot=Ot+At+Je),Rt=Math.max(Ot,Rt)),_t!==null&&(Xe=Oe*_t,zt==="border-box"&&(Xe=Xe+At+Je),ct=Rt>Xe?"":"hidden",Rt=Math.min(Xe,Rt))}var Ge={height:Rt,overflowY:ct,resize:"none"};return Ot&&(Ge.minHeight=Ot),Xe&&(Ge.maxHeight=Xe),Ge}var Ue=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Pt=0,Gt=1,rn=2,_n=se.forwardRef(function(Pe,Qe){var He=Pe,_t=He.prefixCls,Bt=He.defaultValue,At=He.value,Je=He.autoSize,zt=He.onResize,mn=He.className,Ot=He.style,Xe=He.disabled,ct=He.onChange,Rt=He.onInternalAutoSize,Oe=(0,q.Z)(He,Ue),Ge=(0,le.Z)(Bt,{value:At,postState:function(an){return an!=null?an:""}}),Vt=(0,j.Z)(Ge,2),De=Vt[0],et=Vt[1],Ce=function(an){et(an.target.value),ct==null||ct(an)},J=se.useRef();se.useImperativeHandle(Qe,function(){return{textArea:J.current}});var Le=se.useMemo(function(){return Je&&(0,ge.Z)(Je)==="object"?[Je.minRows,Je.maxRows]:[]},[Je]),Jt=(0,j.Z)(Le,2),Be=Jt[0],In=Jt[1],cr=!!Je,bn=function(){try{if(document.activeElement===J.current){var an=J.current,hn=an.selectionStart,pr=an.selectionEnd,ur=an.scrollTop;J.current.setSelectionRange(hn,pr),J.current.scrollTop=ur}}catch(pi){}},ir=se.useState(rn),Nr=(0,j.Z)(ir,2),Ar=Nr[0],Zr=Nr[1],wi=se.useState(),Ln=(0,j.Z)(wi,2),Nn=Ln[0],$n=Ln[1],wn=function(){Zr(Pt)};(0,ve.Z)(function(){cr&&wn()},[At,Be,In,cr]),(0,ve.Z)(function(){if(Ar===Pt)Zr(Gt);else if(Ar===Gt){var at=Ke(J.current,!1,Be,In);Zr(rn),$n(at)}else bn()},[Ar]);var nt=se.useRef(),ze=function(){fe.Z.cancel(nt.current)},vt=function(an){Ar===rn&&(zt==null||zt(an),Je&&(ze(),nt.current=(0,fe.Z)(function(){wn()})))};se.useEffect(function(){return ze},[]);var $t=cr?Nn:null,gn=(0,ne.Z)((0,ne.Z)({},Ot),$t);return(Ar===Pt||Ar===Gt)&&(gn.overflowY="hidden",gn.overflowX="hidden"),se.createElement(ye.Z,{onResize:vt,disabled:!(Je||zt)},se.createElement("textarea",(0,w.Z)({},Oe,{ref:J,style:gn,className:K()(_t,mn,(0,B.Z)({},"".concat(_t,"-disabled"),Xe)),disabled:Xe,value:De,onChange:Ce})))}),qe=_n,Nt=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],ft=se.forwardRef(function(Pe,Qe){var He,_t=Pe.defaultValue,Bt=Pe.value,At=Pe.onFocus,Je=Pe.onBlur,zt=Pe.onChange,mn=Pe.allowClear,Ot=Pe.maxLength,Xe=Pe.onCompositionStart,ct=Pe.onCompositionEnd,Rt=Pe.suffix,Oe=Pe.prefixCls,Ge=Oe===void 0?"rc-textarea":Oe,Vt=Pe.showCount,De=Pe.count,et=Pe.className,Ce=Pe.style,J=Pe.disabled,Le=Pe.hidden,Jt=Pe.classNames,Be=Pe.styles,In=Pe.onResize,cr=Pe.onClear,bn=Pe.onPressEnter,ir=Pe.readOnly,Nr=Pe.autoSize,Ar=Pe.onKeyDown,Zr=(0,q.Z)(Pe,Nt),wi=(0,le.Z)(_t,{value:Bt,defaultValue:_t}),Ln=(0,j.Z)(wi,2),Nn=Ln[0],$n=Ln[1],wn=Nn==null?"":String(Nn),nt=se.useState(!1),ze=(0,j.Z)(nt,2),vt=ze[0],$t=ze[1],gn=se.useRef(!1),at=se.useState(null),an=(0,j.Z)(at,2),hn=an[0],pr=an[1],ur=(0,se.useRef)(null),pi=(0,se.useRef)(null),ar=function(){var or;return(or=pi.current)===null||or===void 0?void 0:or.textArea},di=function(){ar().focus()};(0,se.useImperativeHandle)(Qe,function(){var Yn;return{resizableTextArea:pi.current,focus:di,blur:function(){ar().blur()},nativeElement:((Yn=ur.current)===null||Yn===void 0?void 0:Yn.nativeElement)||ar()}}),(0,se.useEffect)(function(){$t(function(Yn){return!J&&Yn})},[J]);var sa=se.useState(null),xa=(0,j.Z)(sa,2),za=xa[0],Ui=xa[1];se.useEffect(function(){if(za){var Yn;(Yn=ar()).setSelectionRange.apply(Yn,(0,ue.Z)(za))}},[za]);var Ao=(0,ae.Z)(De,Vt),fs=(He=Ao.max)!==null&&He!==void 0?He:Ot,cs=Number(fs)>0,ra=Ao.strategy(wn),ms=!!fs&&ra>fs,xi=function(or,Ze){var je=Ze;!gn.current&&Ao.exceedFormatter&&Ao.max&&Ao.strategy(Ze)>Ao.max&&(je=Ao.exceedFormatter(Ze,{max:Ao.max}),Ze!==je&&Ui([ar().selectionStart||0,ar().selectionEnd||0])),$n(je),(0,ie.rJ)(or.currentTarget,or,zt,je)},Gn=function(or){gn.current=!0,Xe==null||Xe(or)},_e=function(or){gn.current=!1,xi(or,or.currentTarget.value),ct==null||ct(or)},oi=function(or){xi(or,or.target.value)},Ka=function(or){or.key==="Enter"&&bn&&bn(or),Ar==null||Ar(or)},Cn=function(or){$t(!0),At==null||At(or)},Un=function(or){$t(!1),Je==null||Je(or)},tn=function(or){$n(""),di(),(0,ie.rJ)(ar(),or,zt)},It=Rt,Zt;Ao.show&&(Ao.showFormatter?Zt=Ao.showFormatter({value:wn,count:ra,maxLength:fs}):Zt="".concat(ra).concat(cs?" / ".concat(fs):""),It=se.createElement(se.Fragment,null,It,se.createElement("span",{className:K()("".concat(Ge,"-data-count"),Jt==null?void 0:Jt.count),style:Be==null?void 0:Be.count},Zt)));var $e=function(or){var Ze;In==null||In(or),(Ze=ar())!==null&&Ze!==void 0&&Ze.style.height&&pr(!0)},Bn=!Nr&&!Vt&&!mn;return se.createElement(H.Q,{ref:ur,value:wn,allowClear:mn,handleReset:tn,suffix:It,prefixCls:Ge,classNames:(0,ne.Z)((0,ne.Z)({},Jt),{},{affixWrapper:K()(Jt==null?void 0:Jt.affixWrapper,(0,B.Z)((0,B.Z)({},"".concat(Ge,"-show-count"),Vt),"".concat(Ge,"-textarea-allow-clear"),mn))}),disabled:J,focused:vt,className:K()(et,ms&&"".concat(Ge,"-out-of-range")),style:(0,ne.Z)((0,ne.Z)({},Ce),hn&&!Bn?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Zt=="string"?Zt:void 0}},hidden:Le,readOnly:ir,onClear:cr},se.createElement(qe,(0,w.Z)({},Zr,{autoSize:Nr,maxLength:Ot,onKeyDown:Ka,onChange:oi,onFocus:Cn,onBlur:Un,onCompositionStart:Gn,onCompositionEnd:_e,className:K()(Jt==null?void 0:Jt.textarea),style:(0,ne.Z)((0,ne.Z)({},Be==null?void 0:Be.textarea),{},{resize:Ce==null?void 0:Ce.resize}),disabled:J,prefixCls:Ge,onResize:$e,ref:pi,readOnly:ir})))}),ln=ft,tt=ln},60639:function(cn,Ne,A){"use strict";A.d(Ne,{G:function(){return ue}});var w=A(67042),B=function(q){if((0,w.Z)()&&window.document.documentElement){var Y=Array.isArray(q)?q:[q],K=window.document.documentElement;return Y.some(function(H){return H in K.style})}return!1},ne=function(q,Y){if(!B(q))return!1;var K=document.createElement("div"),H=K.style[q];return K.style[q]=Y,K.style[q]!==H};function ue(j,q){return!Array.isArray(j)&&q!==void 0?ne(j,q):B(j)}},69488:function(cn,Ne,A){cn=A.nmd(cn);cn.exports=function(B){var ne={},ue=A(22767),j=A(75271),q=A(58051);function Y(N){for(var F="https://reactjs.org/docs/error-decoder.html?invariant="+N,ce=1;ce<arguments.length;ce++)F+="&args[]="+encodeURIComponent(arguments[ce]);return"Minified React error #"+N+"; visit "+F+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=60103,ae=60106,ie=60107,le=60108,se=60114,ge=60109,ye=60110,ve=60112,fe=60113,Fe=60120,yt=60115,gt=60116,pt=60121,lt=60129,Ke=60130,Ue=60131;if(typeof Symbol=="function"&&Symbol.for){var Pt=Symbol.for;H=Pt("react.element"),ae=Pt("react.portal"),ie=Pt("react.fragment"),le=Pt("react.strict_mode"),se=Pt("react.profiler"),ge=Pt("react.provider"),ye=Pt("react.context"),ve=Pt("react.forward_ref"),fe=Pt("react.suspense"),Fe=Pt("react.suspense_list"),yt=Pt("react.memo"),gt=Pt("react.lazy"),pt=Pt("react.block"),Pt("react.scope"),lt=Pt("react.debug_trace_mode"),Ke=Pt("react.offscreen"),Ue=Pt("react.legacy_hidden")}var Gt=typeof Symbol=="function"&&Symbol.iterator;function rn(N){return N===null||typeof N!="object"?null:(N=Gt&&N[Gt]||N["@@iterator"],typeof N=="function"?N:null)}function _n(N){if(N==null)return null;if(typeof N=="function")return N.displayName||N.name||null;if(typeof N=="string")return N;switch(N){case ie:return"Fragment";case ae:return"Portal";case se:return"Profiler";case le:return"StrictMode";case fe:return"Suspense";case Fe:return"SuspenseList"}if(typeof N=="object")switch(N.$$typeof){case ye:return(N.displayName||"Context")+".Consumer";case ge:return(N._context.displayName||"Context")+".Provider";case ve:var F=N.render;return F=F.displayName||F.name||"",N.displayName||(F!==""?"ForwardRef("+F+")":"ForwardRef");case yt:return _n(N.type);case pt:return _n(N._render);case gt:F=N._payload,N=N._init;try{return _n(N(F))}catch(ce){}}return null}function qe(N){var F=N,ce=N;if(N.alternate)for(;F.return;)F=F.return;else{N=F;do F=N,F.flags&1026&&(ce=F.return),N=F.return;while(N)}return F.tag===3?ce:null}function Nt(N){if(qe(N)!==N)throw Error(Y(188))}function ft(N){var F=N.alternate;if(!F){if(F=qe(N),F===null)throw Error(Y(188));return F!==N?null:N}for(var ce=N,ht=F;;){var Ft=ce.return;if(Ft===null)break;var kn=Ft.alternate;if(kn===null){if(ht=Ft.return,ht!==null){ce=ht;continue}break}if(Ft.child===kn.child){for(kn=Ft.child;kn;){if(kn===ce)return Nt(Ft),N;if(kn===ht)return Nt(Ft),F;kn=kn.sibling}throw Error(Y(188))}if(ce.return!==ht.return)ce=Ft,ht=kn;else{for(var si=!1,ki=Ft.child;ki;){if(ki===ce){si=!0,ce=Ft,ht=kn;break}if(ki===ht){si=!0,ht=Ft,ce=kn;break}ki=ki.sibling}if(!si){for(ki=kn.child;ki;){if(ki===ce){si=!0,ce=kn,ht=Ft;break}if(ki===ht){si=!0,ht=kn,ce=Ft;break}ki=ki.sibling}if(!si)throw Error(Y(189))}}if(ce.alternate!==ht)throw Error(Y(190))}if(ce.tag!==3)throw Error(Y(188));return ce.stateNode.current===ce?N:F}function ln(N){if(N=ft(N),!N)return null;for(var F=N;;){if(F.tag===5||F.tag===6)return F;if(F.child)F.child.return=F,F=F.child;else{if(F===N)break;for(;!F.sibling;){if(!F.return||F.return===N)return null;F=F.return}F.sibling.return=F.return,F=F.sibling}}return null}function tt(N){if(N=ft(N),!N)return null;for(var F=N;;){if(F.tag===5||F.tag===6)return F;if(F.child&&F.tag!==4)F.child.return=F,F=F.child;else{if(F===N)break;for(;!F.sibling;){if(!F.return||F.return===N)return null;F=F.return}F.sibling.return=F.return,F=F.sibling}}return null}function Pe(N,F){for(var ce=N.alternate;F!==null;){if(F===N||F===ce)return!0;F=F.return}return!1}var Qe=B.getPublicInstance,He=B.getRootHostContext,_t=B.getChildHostContext,Bt=B.prepareForCommit,At=B.resetAfterCommit,Je=B.createInstance,zt=B.appendInitialChild,mn=B.finalizeInitialChildren,Ot=B.prepareUpdate,Xe=B.shouldSetTextContent,ct=B.createTextInstance,Rt=B.scheduleTimeout,Oe=B.cancelTimeout,Ge=B.noTimeout,Vt=B.isPrimaryRenderer,De=B.supportsMutation,et=B.supportsPersistence,Ce=B.supportsHydration,J=B.getInstanceFromNode,Le=B.makeOpaqueHydratingObject,Jt=B.makeClientId,Be=B.beforeActiveInstanceBlur,In=B.afterActiveInstanceBlur,cr=B.preparePortalMount,bn=B.supportsTestSelectors,ir=B.findFiberRoot,Nr=B.getBoundingRect,Ar=B.getTextContent,Zr=B.isHiddenSubtree,wi=B.matchAccessibilityRole,Ln=B.setFocusIfFocusable,Nn=B.setupIntersectionObserver,$n=B.appendChild,wn=B.appendChildToContainer,nt=B.commitTextUpdate,ze=B.commitMount,vt=B.commitUpdate,$t=B.insertBefore,gn=B.insertInContainerBefore,at=B.removeChild,an=B.removeChildFromContainer,hn=B.resetTextContent,pr=B.hideInstance,ur=B.hideTextInstance,pi=B.unhideInstance,ar=B.unhideTextInstance,di=B.clearContainer,sa=B.cloneInstance,xa=B.createContainerChildSet,za=B.appendChildToContainerChildSet,Ui=B.finalizeContainerChildren,Ao=B.replaceContainerChildren,fs=B.cloneHiddenInstance,cs=B.cloneHiddenTextInstance,ra=B.canHydrateInstance,ms=B.canHydrateTextInstance,xi=B.isSuspenseInstancePending,Gn=B.isSuspenseInstanceFallback,_e=B.getNextHydratableSibling,oi=B.getFirstHydratableChild,Ka=B.hydrateInstance,Cn=B.hydrateTextInstance,Un=B.getNextHydratableInstanceAfterSuspenseInstance,tn=B.commitHydratedContainer,It=B.commitHydratedSuspenseInstance,Zt;function $e(N){if(Zt===void 0)try{throw Error()}catch(ce){var F=ce.stack.trim().match(/\n( *(at )?)/);Zt=F&&F[1]||""}return`
`+Zt+N}var Bn=!1;function Yn(N,F){if(!N||Bn)return"";Bn=!0;var ce=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(F)if(F=function(){throw Error()},Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(ro){var ht=ro}Reflect.construct(N,[],F)}else{try{F.call()}catch(ro){ht=ro}N.call(F.prototype)}else{try{throw Error()}catch(ro){ht=ro}N()}}catch(ro){if(ro&&ht&&typeof ro.stack=="string"){for(var Ft=ro.stack.split(`
`),kn=ht.stack.split(`
`),si=Ft.length-1,ki=kn.length-1;1<=si&&0<=ki&&Ft[si]!==kn[ki];)ki--;for(;1<=si&&0<=ki;si--,ki--)if(Ft[si]!==kn[ki]){if(si!==1||ki!==1)do if(si--,ki--,0>ki||Ft[si]!==kn[ki])return`
`+Ft[si].replace(" at new "," at ");while(1<=si&&0<=ki);break}}}finally{Bn=!1,Error.prepareStackTrace=ce}return(N=N?N.displayName||N.name:"")?$e(N):""}var or=[],Ze=-1;function je(N){return{current:N}}function st(N){0>Ze||(N.current=or[Ze],or[Ze]=null,Ze--)}function St(N,F){Ze++,or[Ze]=N.current,N.current=F}var En={},fn=je(En),sn=je(!1),Pn=En;function Hn(N,F){var ce=N.type.contextTypes;if(!ce)return En;var ht=N.stateNode;if(ht&&ht.__reactInternalMemoizedUnmaskedChildContext===F)return ht.__reactInternalMemoizedMaskedChildContext;var Ft={},kn;for(kn in ce)Ft[kn]=F[kn];return ht&&(N=N.stateNode,N.__reactInternalMemoizedUnmaskedChildContext=F,N.__reactInternalMemoizedMaskedChildContext=Ft),Ft}function Ut(N){return N=N.childContextTypes,N!=null}function Yt(){st(sn),st(fn)}function Xt(N,F,ce){if(fn.current!==En)throw Error(Y(168));St(fn,F),St(sn,ce)}function jt(N,F,ce){var ht=N.stateNode;if(N=F.childContextTypes,typeof ht.getChildContext!="function")return ce;ht=ht.getChildContext();for(var Ft in ht)if(!(Ft in N))throw Error(Y(108,_n(F)||"Unknown",Ft));return ue({},ce,ht)}function fr(N){return N=(N=N.stateNode)&&N.__reactInternalMemoizedMergedChildContext||En,Pn=fn.current,St(fn,N),St(sn,sn.current),!0}function vr(N,F,ce){var ht=N.stateNode;if(!ht)throw Error(Y(169));ce?(N=jt(N,F,Pn),ht.__reactInternalMemoizedMergedChildContext=N,st(sn),st(fn),St(fn,N)):st(sn),St(sn,ce)}var yr=null,Br=null,Gi=q.unstable_now;Gi();var qi=0,$i=8;function Wi(N){if(1&N)return $i=15,1;if(2&N)return $i=14,2;if(4&N)return $i=13,4;var F=24&N;return F!==0?($i=12,F):N&32?($i=11,32):(F=192&N,F!==0?($i=10,F):N&256?($i=9,256):(F=3584&N,F!==0?($i=8,F):N&4096?($i=7,4096):(F=4186112&N,F!==0?($i=6,F):(F=62914560&N,F!==0?($i=5,F):N&67108864?($i=4,67108864):N&134217728?($i=3,134217728):(F=805306368&N,F!==0?($i=2,F):1073741824&N?($i=1,1073741824):($i=8,N))))))}function Ii(N){switch(N){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Qa(N){switch(N){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Y(358,N))}}function on(N,F){var ce=N.pendingLanes;if(ce===0)return $i=0;var ht=0,Ft=0,kn=N.expiredLanes,si=N.suspendedLanes,ki=N.pingedLanes;if(kn!==0)ht=kn,Ft=$i=15;else if(kn=ce&134217727,kn!==0){var ro=kn&~si;ro!==0?(ht=Wi(ro),Ft=$i):(ki&=kn,ki!==0&&(ht=Wi(ki),Ft=$i))}else kn=ce&~si,kn!==0?(ht=Wi(kn),Ft=$i):ki!==0&&(ht=Wi(ki),Ft=$i);if(ht===0)return 0;if(ht=31-Ct(ht),ht=ce&((0>ht?0:1<<ht)<<1)-1,F!==0&&F!==ht&&!(F&si)){if(Wi(F),Ft<=$i)return F;$i=Ft}if(F=N.entangledLanes,F!==0)for(N=N.entanglements,F&=ht;0<F;)ce=31-Ct(F),Ft=1<<ce,ht|=N[ce],F&=~Ft;return ht}function dn(N){return N=N.pendingLanes&-1073741825,N!==0?N:N&1073741824?1073741824:0}function jn(N,F){switch(N){case 15:return 1;case 14:return 2;case 12:return N=Ur(24&~F),N===0?jn(10,F):N;case 10:return N=Ur(192&~F),N===0?jn(8,F):N;case 8:return N=Ur(3584&~F),N===0&&(N=Ur(4186112&~F),N===0&&(N=512)),N;case 2:return F=Ur(805306368&~F),F===0&&(F=268435456),F}throw Error(Y(358,N))}function Ur(N){return N&-N}function Yr(N){for(var F=[],ce=0;31>ce;ce++)F.push(N);return F}function Et(N,F,ce){N.pendingLanes|=F;var ht=F-1;N.suspendedLanes&=ht,N.pingedLanes&=ht,N=N.eventTimes,F=31-Ct(F),N[F]=ce}var Ct=Math.clz32?Math.clz32:mt,xn=Math.log,Xn=Math.LN2;function mt(N){return N===0?32:31-(xn(N)/Xn|0)|0}var vn=q.unstable_runWithPriority,tr=q.unstable_scheduleCallback,Mr=q.unstable_cancelCallback,ui=q.unstable_shouldYield,Ri=q.unstable_requestPaint,Aa=q.unstable_now,Ga=q.unstable_getCurrentPriorityLevel,vo=q.unstable_ImmediatePriority,To=q.unstable_UserBlockingPriority,Po=q.unstable_NormalPriority,ds=q.unstable_LowPriority,Za=q.unstable_IdlePriority,ks={},oo=Ri!==void 0?Ri:function(){},nu=null,wu=null,Ll=!1,Si=Aa(),Sn=1e4>Si?Aa:function(){return Aa()-Si};function Qt(){switch(Ga()){case vo:return 99;case To:return 98;case Po:return 97;case ds:return 96;case Za:return 95;default:throw Error(Y(332))}}function rr(N){switch(N){case 99:return vo;case 98:return To;case 97:return Po;case 96:return ds;case 95:return Za;default:throw Error(Y(332))}}function rt(N,F){return N=rr(N),vn(N,F)}function ai(N,F,ce){return N=rr(N),tr(N,F,ce)}function mi(){if(wu!==null){var N=wu;wu=null,Mr(N)}_a()}function _a(){if(!Ll&&nu!==null){Ll=!0;var N=0;try{var F=nu;rt(99,function(){for(;N<F.length;N++){var ce=F[N];do ce=ce(!0);while(ce!==null)}}),nu=null}catch(ce){throw nu!==null&&(nu=nu.slice(N+1)),tr(vo,mi),ce}finally{Ll=!1}}}var Xi=K.ReactCurrentBatchConfig;function ia(N,F){return N===F&&(N!==0||1/N===1/F)||N!==N&&F!==F}var ua=typeof Object.is=="function"?Object.is:ia,co=Object.prototype.hasOwnProperty;function Ro(N,F){if(ua(N,F))return!0;if(typeof N!="object"||N===null||typeof F!="object"||F===null)return!1;var ce=Object.keys(N),ht=Object.keys(F);if(ce.length!==ht.length)return!1;for(ht=0;ht<ce.length;ht++)if(!co.call(F,ce[ht])||!ua(N[ce[ht]],F[ce[ht]]))return!1;return!0}function As(N){switch(N.tag){case 5:return $e(N.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 2:case 15:return N=Yn(N.type,!1),N;case 11:return N=Yn(N.type.render,!1),N;case 22:return N=Yn(N.type._render,!1),N;case 1:return N=Yn(N.type,!0),N;default:return""}}function So(N,F){if(N&&N.defaultProps){F=ue({},F),N=N.defaultProps;for(var ce in N)F[ce]===void 0&&(F[ce]=N[ce]);return F}return F}var ao=je(null),Wa=null,ns=null,Do=null;function ls(){Do=ns=Wa=null}function Bs(N,F){N=N.type._context,Vt?(St(ao,N._currentValue),N._currentValue=F):(St(ao,N._currentValue2),N._currentValue2=F)}function Xo(N){var F=ao.current;st(ao),N=N.type._context,Vt?N._currentValue=F:N._currentValue2=F}function wt(N,F){for(;N!==null;){var ce=N.alternate;if((N.childLanes&F)===F){if(ce===null||(ce.childLanes&F)===F)break;ce.childLanes|=F}else N.childLanes|=F,ce!==null&&(ce.childLanes|=F);N=N.return}}function er(N,F){Wa=N,Do=ns=null,N=N.dependencies,N!==null&&N.firstContext!==null&&(N.lanes&F&&(Fc=!0),N.firstContext=null)}function nn(N,F){if(Do!==N&&F!==!1&&F!==0)if((typeof F!="number"||F===1073741823)&&(Do=N,F=1073741823),F={context:N,observedBits:F,next:null},ns===null){if(Wa===null)throw Error(Y(308));ns=F,Wa.dependencies={lanes:0,firstContext:F,responders:null}}else ns=ns.next=F;return Vt?N._currentValue:N._currentValue2}var wr=!1;function hi(N){N.updateQueue={baseState:N.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gi(N,F){N=N.updateQueue,F.updateQueue===N&&(F.updateQueue={baseState:N.baseState,firstBaseUpdate:N.firstBaseUpdate,lastBaseUpdate:N.lastBaseUpdate,shared:N.shared,effects:N.effects})}function xr(N,F){return{eventTime:N,lane:F,tag:0,payload:null,callback:null,next:null}}function Ji(N,F){if(N=N.updateQueue,N!==null){N=N.shared;var ce=N.pending;ce===null?F.next=F:(F.next=ce.next,ce.next=F),N.pending=F}}function Ai(N,F){var ce=N.updateQueue,ht=N.alternate;if(ht!==null&&(ht=ht.updateQueue,ce===ht)){var Ft=null,kn=null;if(ce=ce.firstBaseUpdate,ce!==null){do{var si={eventTime:ce.eventTime,lane:ce.lane,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null};kn===null?Ft=kn=si:kn=kn.next=si,ce=ce.next}while(ce!==null);kn===null?Ft=kn=F:kn=kn.next=F}else Ft=kn=F;ce={baseState:ht.baseState,firstBaseUpdate:Ft,lastBaseUpdate:kn,shared:ht.shared,effects:ht.effects},N.updateQueue=ce;return}N=ce.lastBaseUpdate,N===null?ce.firstBaseUpdate=F:N.next=F,ce.lastBaseUpdate=F}function Mi(N,F,ce,ht){var Ft=N.updateQueue;wr=!1;var kn=Ft.firstBaseUpdate,si=Ft.lastBaseUpdate,ki=Ft.shared.pending;if(ki!==null){Ft.shared.pending=null;var ro=ki,bo=ro.next;ro.next=null,si===null?kn=bo:si.next=bo,si=ro;var Gs=N.alternate;if(Gs!==null){Gs=Gs.updateQueue;var lu=Gs.lastBaseUpdate;lu!==si&&(lu===null?Gs.firstBaseUpdate=bo:lu.next=bo,Gs.lastBaseUpdate=ro)}}if(kn!==null){lu=Ft.baseState,si=0,Gs=bo=ro=null;do{ki=kn.lane;var Us=kn.eventTime;if((ht&ki)===ki){Gs!==null&&(Gs=Gs.next={eventTime:Us,lane:0,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null});e:{var pl=N,Ul=kn;switch(ki=F,Us=ce,Ul.tag){case 1:if(pl=Ul.payload,typeof pl=="function"){lu=pl.call(Us,lu,ki);break e}lu=pl;break e;case 3:pl.flags=pl.flags&-4097|64;case 0:if(pl=Ul.payload,ki=typeof pl=="function"?pl.call(Us,lu,ki):pl,ki==null)break e;lu=ue({},lu,ki);break e;case 2:wr=!0}}kn.callback!==null&&(N.flags|=32,ki=Ft.effects,ki===null?Ft.effects=[kn]:ki.push(kn))}else Us={eventTime:Us,lane:ki,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null},Gs===null?(bo=Gs=Us,ro=lu):Gs=Gs.next=Us,si|=ki;if(kn=kn.next,kn===null){if(ki=Ft.shared.pending,ki===null)break;kn=ki.next,ki.next=null,Ft.lastBaseUpdate=ki,Ft.shared.pending=null}}while(!0);Gs===null&&(ro=lu),Ft.baseState=ro,Ft.firstBaseUpdate=bo,Ft.lastBaseUpdate=Gs,we|=si,N.lanes=si,N.memoizedState=lu}}function po(N,F,ce){if(N=F.effects,F.effects=null,N!==null)for(F=0;F<N.length;F++){var ht=N[F],Ft=ht.callback;if(Ft!==null){if(ht.callback=null,ht=ce,typeof Ft!="function")throw Error(Y(191,Ft));Ft.call(ht)}}}var ha=new j.Component().refs;function Qo(N,F,ce,ht){F=N.memoizedState,ce=ce(ht,F),ce=ce==null?F:ue({},F,ce),N.memoizedState=ce,N.lanes===0&&(N.updateQueue.baseState=ce)}var Cs={isMounted:function(N){return(N=N._reactInternals)?qe(N)===N:!1},enqueueSetState:function(N,F,ce){N=N._reactInternals;var ht=rc(),Ft=Du(N),kn=xr(ht,Ft);kn.payload=F,ce!=null&&(kn.callback=ce),Ji(N,kn),zc(N,Ft,ht)},enqueueReplaceState:function(N,F,ce){N=N._reactInternals;var ht=rc(),Ft=Du(N),kn=xr(ht,Ft);kn.tag=1,kn.payload=F,ce!=null&&(kn.callback=ce),Ji(N,kn),zc(N,Ft,ht)},enqueueForceUpdate:function(N,F){N=N._reactInternals;var ce=rc(),ht=Du(N),Ft=xr(ce,ht);Ft.tag=2,F!=null&&(Ft.callback=F),Ji(N,Ft),zc(N,ht,ce)}};function Oo(N,F,ce,ht,Ft,kn,si){return N=N.stateNode,typeof N.shouldComponentUpdate=="function"?N.shouldComponentUpdate(ht,kn,si):F.prototype&&F.prototype.isPureReactComponent?!Ro(ce,ht)||!Ro(Ft,kn):!0}function su(N,F,ce){var ht=!1,Ft=En,kn=F.contextType;return typeof kn=="object"&&kn!==null?kn=nn(kn):(Ft=Ut(F)?Pn:fn.current,ht=F.contextTypes,kn=(ht=ht!=null)?Hn(N,Ft):En),F=new F(ce,kn),N.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Cs,N.stateNode=F,F._reactInternals=N,ht&&(N=N.stateNode,N.__reactInternalMemoizedUnmaskedChildContext=Ft,N.__reactInternalMemoizedMaskedChildContext=kn),F}function ru(N,F,ce,ht){N=F.state,typeof F.componentWillReceiveProps=="function"&&F.componentWillReceiveProps(ce,ht),typeof F.UNSAFE_componentWillReceiveProps=="function"&&F.UNSAFE_componentWillReceiveProps(ce,ht),F.state!==N&&Cs.enqueueReplaceState(F,F.state,null)}function xt(N,F,ce,ht){var Ft=N.stateNode;Ft.props=ce,Ft.state=N.memoizedState,Ft.refs=ha,hi(N);var kn=F.contextType;typeof kn=="object"&&kn!==null?Ft.context=nn(kn):(kn=Ut(F)?Pn:fn.current,Ft.context=Hn(N,kn)),Mi(N,ce,Ft,ht),Ft.state=N.memoizedState,kn=F.getDerivedStateFromProps,typeof kn=="function"&&(Qo(N,F,kn,ce),Ft.state=N.memoizedState),typeof F.getDerivedStateFromProps=="function"||typeof Ft.getSnapshotBeforeUpdate=="function"||typeof Ft.UNSAFE_componentWillMount!="function"&&typeof Ft.componentWillMount!="function"||(F=Ft.state,typeof Ft.componentWillMount=="function"&&Ft.componentWillMount(),typeof Ft.UNSAFE_componentWillMount=="function"&&Ft.UNSAFE_componentWillMount(),F!==Ft.state&&Cs.enqueueReplaceState(Ft,Ft.state,null),Mi(N,ce,Ft,ht),Ft.state=N.memoizedState),typeof Ft.componentDidMount=="function"&&(N.flags|=4)}var Zn=Array.isArray;function Cr(N,F,ce){if(N=ce.ref,N!==null&&typeof N!="function"&&typeof N!="object"){if(ce._owner){if(ce=ce._owner,ce){if(ce.tag!==1)throw Error(Y(309));var ht=ce.stateNode}if(!ht)throw Error(Y(147,N));var Ft=""+N;return F!==null&&F.ref!==null&&typeof F.ref=="function"&&F.ref._stringRef===Ft?F.ref:(F=function(kn){var si=ht.refs;si===ha&&(si=ht.refs={}),kn===null?delete si[Ft]:si[Ft]=kn},F._stringRef=Ft,F)}if(typeof N!="string")throw Error(Y(284));if(!ce._owner)throw Error(Y(290,N))}return N}function Di(N,F){if(N.type!=="textarea")throw Error(Y(31,Object.prototype.toString.call(F)==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":F))}function wa(N){function F(ja,Sa){if(N){var uo=ja.lastEffect;uo!==null?(uo.nextEffect=Sa,ja.lastEffect=Sa):ja.firstEffect=ja.lastEffect=Sa,Sa.nextEffect=null,Sa.flags=8}}function ce(ja,Sa){if(!N)return null;for(;Sa!==null;)F(ja,Sa),Sa=Sa.sibling;return null}function ht(ja,Sa){for(ja=new Map;Sa!==null;)Sa.key!==null?ja.set(Sa.key,Sa):ja.set(Sa.index,Sa),Sa=Sa.sibling;return ja}function Ft(ja,Sa){return ja=Zu(ja,Sa),ja.index=0,ja.sibling=null,ja}function kn(ja,Sa,uo){return ja.index=uo,N?(uo=ja.alternate,uo!==null?(uo=uo.index,uo<Sa?(ja.flags=2,Sa):uo):(ja.flags=2,Sa)):Sa}function si(ja){return N&&ja.alternate===null&&(ja.flags=2),ja}function ki(ja,Sa,uo,Is){return Sa===null||Sa.tag!==6?(Sa=Ho(uo,ja.mode,Is),Sa.return=ja,Sa):(Sa=Ft(Sa,uo),Sa.return=ja,Sa)}function ro(ja,Sa,uo,Is){return Sa!==null&&Sa.elementType===uo.type?(Is=Ft(Sa,uo.props),Is.ref=Cr(ja,Sa,uo),Is.return=ja,Is):(Is=ep(uo.type,uo.key,uo.props,null,ja.mode,Is),Is.ref=Cr(ja,Sa,uo),Is.return=ja,Is)}function bo(ja,Sa,uo,Is){return Sa===null||Sa.tag!==4||Sa.stateNode.containerInfo!==uo.containerInfo||Sa.stateNode.implementation!==uo.implementation?(Sa=Op(uo,ja.mode,Is),Sa.return=ja,Sa):(Sa=Ft(Sa,uo.children||[]),Sa.return=ja,Sa)}function Gs(ja,Sa,uo,Is,tu){return Sa===null||Sa.tag!==7?(Sa=_0(uo,ja.mode,Is,tu),Sa.return=ja,Sa):(Sa=Ft(Sa,uo),Sa.return=ja,Sa)}function lu(ja,Sa,uo){if(typeof Sa=="string"||typeof Sa=="number")return Sa=Ho(""+Sa,ja.mode,uo),Sa.return=ja,Sa;if(typeof Sa=="object"&&Sa!==null){switch(Sa.$$typeof){case H:return uo=ep(Sa.type,Sa.key,Sa.props,null,ja.mode,uo),uo.ref=Cr(ja,null,Sa),uo.return=ja,uo;case ae:return Sa=Op(Sa,ja.mode,uo),Sa.return=ja,Sa}if(Zn(Sa)||rn(Sa))return Sa=_0(Sa,ja.mode,uo,null),Sa.return=ja,Sa;Di(ja,Sa)}return null}function Us(ja,Sa,uo,Is){var tu=Sa!==null?Sa.key:null;if(typeof uo=="string"||typeof uo=="number")return tu!==null?null:ki(ja,Sa,""+uo,Is);if(typeof uo=="object"&&uo!==null){switch(uo.$$typeof){case H:return uo.key===tu?uo.type===ie?Gs(ja,Sa,uo.props.children,Is,tu):ro(ja,Sa,uo,Is):null;case ae:return uo.key===tu?bo(ja,Sa,uo,Is):null}if(Zn(uo)||rn(uo))return tu!==null?null:Gs(ja,Sa,uo,Is,null);Di(ja,uo)}return null}function pl(ja,Sa,uo,Is,tu){if(typeof Is=="string"||typeof Is=="number")return ja=ja.get(uo)||null,ki(Sa,ja,""+Is,tu);if(typeof Is=="object"&&Is!==null){switch(Is.$$typeof){case H:return ja=ja.get(Is.key===null?uo:Is.key)||null,Is.type===ie?Gs(Sa,ja,Is.props.children,tu,Is.key):ro(Sa,ja,Is,tu);case ae:return ja=ja.get(Is.key===null?uo:Is.key)||null,bo(Sa,ja,Is,tu)}if(Zn(Is)||rn(Is))return ja=ja.get(uo)||null,Gs(Sa,ja,Is,tu,null);Di(Sa,Is)}return null}function Ul(ja,Sa,uo,Is){for(var tu=null,uc=null,Tu=Sa,zl=Sa=0,rf=null;Tu!==null&&zl<uo.length;zl++){Tu.index>zl?(rf=Tu,Tu=null):rf=Tu.sibling;var fu=Us(ja,Tu,uo[zl],Is);if(fu===null){Tu===null&&(Tu=rf);break}N&&Tu&&fu.alternate===null&&F(ja,Tu),Sa=kn(fu,Sa,zl),uc===null?tu=fu:uc.sibling=fu,uc=fu,Tu=rf}if(zl===uo.length)return ce(ja,Tu),tu;if(Tu===null){for(;zl<uo.length;zl++)Tu=lu(ja,uo[zl],Is),Tu!==null&&(Sa=kn(Tu,Sa,zl),uc===null?tu=Tu:uc.sibling=Tu,uc=Tu);return tu}for(Tu=ht(ja,Tu);zl<uo.length;zl++)rf=pl(Tu,ja,zl,uo[zl],Is),rf!==null&&(N&&rf.alternate!==null&&Tu.delete(rf.key===null?zl:rf.key),Sa=kn(rf,Sa,zl),uc===null?tu=rf:uc.sibling=rf,uc=rf);return N&&Tu.forEach(function(xd){return F(ja,xd)}),tu}function ad(ja,Sa,uo,Is){var tu=rn(uo);if(typeof tu!="function")throw Error(Y(150));if(uo=tu.call(uo),uo==null)throw Error(Y(151));for(var uc=tu=null,Tu=Sa,zl=Sa=0,rf=null,fu=uo.next();Tu!==null&&!fu.done;zl++,fu=uo.next()){Tu.index>zl?(rf=Tu,Tu=null):rf=Tu.sibling;var xd=Us(ja,Tu,fu.value,Is);if(xd===null){Tu===null&&(Tu=rf);break}N&&Tu&&xd.alternate===null&&F(ja,Tu),Sa=kn(xd,Sa,zl),uc===null?tu=xd:uc.sibling=xd,uc=xd,Tu=rf}if(fu.done)return ce(ja,Tu),tu;if(Tu===null){for(;!fu.done;zl++,fu=uo.next())fu=lu(ja,fu.value,Is),fu!==null&&(Sa=kn(fu,Sa,zl),uc===null?tu=fu:uc.sibling=fu,uc=fu);return tu}for(Tu=ht(ja,Tu);!fu.done;zl++,fu=uo.next())fu=pl(Tu,ja,zl,fu.value,Is),fu!==null&&(N&&fu.alternate!==null&&Tu.delete(fu.key===null?zl:fu.key),Sa=kn(fu,Sa,zl),uc===null?tu=fu:uc.sibling=fu,uc=fu);return N&&Tu.forEach(function(Td){return F(ja,Td)}),tu}return function(ja,Sa,uo,Is){var tu=typeof uo=="object"&&uo!==null&&uo.type===ie&&uo.key===null;tu&&(uo=uo.props.children);var uc=typeof uo=="object"&&uo!==null;if(uc)switch(uo.$$typeof){case H:e:{for(uc=uo.key,tu=Sa;tu!==null;){if(tu.key===uc){switch(tu.tag){case 7:if(uo.type===ie){ce(ja,tu.sibling),Sa=Ft(tu,uo.props.children),Sa.return=ja,ja=Sa;break e}break;default:if(tu.elementType===uo.type){ce(ja,tu.sibling),Sa=Ft(tu,uo.props),Sa.ref=Cr(ja,tu,uo),Sa.return=ja,ja=Sa;break e}}ce(ja,tu);break}else F(ja,tu);tu=tu.sibling}uo.type===ie?(Sa=_0(uo.props.children,ja.mode,Is,uo.key),Sa.return=ja,ja=Sa):(Is=ep(uo.type,uo.key,uo.props,null,ja.mode,Is),Is.ref=Cr(ja,Sa,uo),Is.return=ja,ja=Is)}return si(ja);case ae:e:{for(tu=uo.key;Sa!==null;){if(Sa.key===tu)if(Sa.tag===4&&Sa.stateNode.containerInfo===uo.containerInfo&&Sa.stateNode.implementation===uo.implementation){ce(ja,Sa.sibling),Sa=Ft(Sa,uo.children||[]),Sa.return=ja,ja=Sa;break e}else{ce(ja,Sa);break}else F(ja,Sa);Sa=Sa.sibling}Sa=Op(uo,ja.mode,Is),Sa.return=ja,ja=Sa}return si(ja)}if(typeof uo=="string"||typeof uo=="number")return uo=""+uo,Sa!==null&&Sa.tag===6?(ce(ja,Sa.sibling),Sa=Ft(Sa,uo),Sa.return=ja,ja=Sa):(ce(ja,Sa),Sa=Ho(uo,ja.mode,Is),Sa.return=ja,ja=Sa),si(ja);if(Zn(uo))return Ul(ja,Sa,uo,Is);if(rn(uo))return ad(ja,Sa,uo,Is);if(uc&&Di(ja,uo),typeof uo=="undefined"&&!tu)switch(ja.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Y(152,_n(ja.type)||"Component"))}return ce(ja,Sa)}}var Eo=wa(!0),yo=wa(!1),Wr={},hs=je(Wr),Ma=je(Wr),iu=je(Wr);function au(N){if(N===Wr)throw Error(Y(174));return N}function as(N,F){St(iu,F),St(Ma,N),St(hs,Wr),N=He(F),st(hs),St(hs,N)}function $s(){st(hs),st(Ma),st(iu)}function Xs(N){var F=au(iu.current),ce=au(hs.current);F=_t(ce,N.type,F),ce!==F&&(St(Ma,N),St(hs,F))}function Lu(N){Ma.current===N&&(st(hs),st(Ma))}var Mu=je(0);function Nl(N){for(var F=N;F!==null;){if(F.tag===13){var ce=F.memoizedState;if(ce!==null&&(ce=ce.dehydrated,ce===null||xi(ce)||Gn(ce)))return F}else if(F.tag===19&&F.memoizedProps.revealOrder!==void 0){if(F.flags&64)return F}else if(F.child!==null){F.child.return=F,F=F.child;continue}if(F===N)break;for(;F.sibling===null;){if(F.return===null||F.return===N)return null;F=F.return}F.sibling.return=F.return,F=F.sibling}return null}var Ks=null,nl=null,hu=!1;function oc(N,F){var ce=Cd(5,null,null,0);ce.elementType="DELETED",ce.type="DELETED",ce.stateNode=F,ce.return=N,ce.flags=8,N.lastEffect!==null?(N.lastEffect.nextEffect=ce,N.lastEffect=ce):N.firstEffect=N.lastEffect=ce}function _l(N,F){switch(N.tag){case 5:return F=ra(F,N.type,N.pendingProps),F!==null?(N.stateNode=F,!0):!1;case 6:return F=ms(F,N.pendingProps),F!==null?(N.stateNode=F,!0):!1;case 13:return!1;default:return!1}}function Ku(N){if(hu){var F=nl;if(F){var ce=F;if(!_l(N,F)){if(F=_e(ce),!F||!_l(N,F)){N.flags=N.flags&-1025|2,hu=!1,Ks=N;return}oc(Ks,ce)}Ks=N,nl=oi(F)}else N.flags=N.flags&-1025|2,hu=!1,Ks=N}}function Cf(N){for(N=N.return;N!==null&&N.tag!==5&&N.tag!==3&&N.tag!==13;)N=N.return;Ks=N}function bc(N){if(!Ce||N!==Ks)return!1;if(!hu)return Cf(N),hu=!0,!1;var F=N.type;if(N.tag!==5||F!=="head"&&F!=="body"&&!Xe(F,N.memoizedProps))for(F=nl;F;)oc(N,F),F=_e(F);if(Cf(N),N.tag===13){if(!Ce)throw Error(Y(316));if(N=N.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(Y(317));nl=Un(N)}else nl=Ks?_e(N.stateNode):null;return!0}function Sr(){Ce&&(nl=Ks=null,hu=!1)}var li=[];function Ci(){for(var N=0;N<li.length;N++){var F=li[N];Vt?F._workInProgressVersionPrimary=null:F._workInProgressVersionSecondary=null}li.length=0}var ti=K.ReactCurrentDispatcher,ea=K.ReactCurrentBatchConfig,mo=0,so=null,Io=null,Ha=null,wo=!1,zo=!1;function rs(){throw Error(Y(321))}function Vo(N,F){if(F===null)return!1;for(var ce=0;ce<F.length&&ce<N.length;ce++)if(!ua(N[ce],F[ce]))return!1;return!0}function Fs(N,F,ce,ht,Ft,kn){if(mo=kn,so=F,F.memoizedState=null,F.updateQueue=null,F.lanes=0,ti.current=N===null||N.memoizedState===null?cd:wc,N=ce(ht,Ft),zo){kn=0;do{if(zo=!1,!(25>kn))throw Error(Y(301));kn+=1,Ha=Io=null,F.updateQueue=null,ti.current=Tl,N=ce(ht,Ft)}while(zo)}if(ti.current=Ec,F=Io!==null&&Io.next!==null,mo=0,Ha=Io=so=null,wo=!1,F)throw Error(Y(300));return N}function _u(){var N={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ha===null?so.memoizedState=Ha=N:Ha=Ha.next=N,Ha}function bs(){if(Io===null){var N=so.alternate;N=N!==null?N.memoizedState:null}else N=Io.next;var F=Ha===null?so.memoizedState:Ha.next;if(F!==null)Ha=F,Io=N;else{if(N===null)throw Error(Y(310));Io=N,N={memoizedState:Io.memoizedState,baseState:Io.baseState,baseQueue:Io.baseQueue,queue:Io.queue,next:null},Ha===null?so.memoizedState=Ha=N:Ha=Ha.next=N}return Ha}function Vs(N,F){return typeof F=="function"?F(N):F}function vi(N){var F=bs(),ce=F.queue;if(ce===null)throw Error(Y(311));ce.lastRenderedReducer=N;var ht=Io,Ft=ht.baseQueue,kn=ce.pending;if(kn!==null){if(Ft!==null){var si=Ft.next;Ft.next=kn.next,kn.next=si}ht.baseQueue=Ft=kn,ce.pending=null}if(Ft!==null){Ft=Ft.next,ht=ht.baseState;var ki=si=kn=null,ro=Ft;do{var bo=ro.lane;if((mo&bo)===bo)ki!==null&&(ki=ki.next={lane:0,action:ro.action,eagerReducer:ro.eagerReducer,eagerState:ro.eagerState,next:null}),ht=ro.eagerReducer===N?ro.eagerState:N(ht,ro.action);else{var Gs={lane:bo,action:ro.action,eagerReducer:ro.eagerReducer,eagerState:ro.eagerState,next:null};ki===null?(si=ki=Gs,kn=ht):ki=ki.next=Gs,so.lanes|=bo,we|=bo}ro=ro.next}while(ro!==null&&ro!==Ft);ki===null?kn=ht:ki.next=si,ua(ht,F.memoizedState)||(Fc=!0),F.memoizedState=ht,F.baseState=kn,F.baseQueue=ki,ce.lastRenderedState=ht}return[F.memoizedState,ce.dispatch]}function fa(N){var F=bs(),ce=F.queue;if(ce===null)throw Error(Y(311));ce.lastRenderedReducer=N;var ht=ce.dispatch,Ft=ce.pending,kn=F.memoizedState;if(Ft!==null){ce.pending=null;var si=Ft=Ft.next;do kn=N(kn,si.action),si=si.next;while(si!==Ft);ua(kn,F.memoizedState)||(Fc=!0),F.memoizedState=kn,F.baseQueue===null&&(F.baseState=kn),ce.lastRenderedState=kn}return[kn,ht]}function ta(N,F,ce){var ht=F._getVersion;ht=ht(F._source);var Ft=Vt?F._workInProgressVersionPrimary:F._workInProgressVersionSecondary;if(Ft!==null?N=Ft===ht:(N=N.mutableReadLanes,(N=(mo&N)===N)&&(Vt?F._workInProgressVersionPrimary=ht:F._workInProgressVersionSecondary=ht,li.push(F))),N)return ce(F._source);throw li.push(F),Error(Y(350))}function fo(N,F,ce,ht){var Ft=Li;if(Ft===null)throw Error(Y(349));var kn=F._getVersion,si=kn(F._source),ki=ti.current,ro=ki.useState(function(){return ta(Ft,F,ce)}),bo=ro[1],Gs=ro[0];ro=Ha;var lu=N.memoizedState,Us=lu.refs,pl=Us.getSnapshot,Ul=lu.source;lu=lu.subscribe;var ad=so;return N.memoizedState={refs:Us,source:F,subscribe:ht},ki.useEffect(function(){Us.getSnapshot=ce,Us.setSnapshot=bo;var ja=kn(F._source);if(!ua(si,ja)){ja=ce(F._source),ua(Gs,ja)||(bo(ja),ja=Du(ad),Ft.mutableReadLanes|=ja&Ft.pendingLanes),ja=Ft.mutableReadLanes,Ft.entangledLanes|=ja;for(var Sa=Ft.entanglements,uo=ja;0<uo;){var Is=31-Ct(uo),tu=1<<Is;Sa[Is]|=ja,uo&=~tu}}},[ce,F,ht]),ki.useEffect(function(){return ht(F._source,function(){var ja=Us.getSnapshot,Sa=Us.setSnapshot;try{Sa(ja(F._source));var uo=Du(ad);Ft.mutableReadLanes|=uo&Ft.pendingLanes}catch(Is){Sa(function(){throw Is})}})},[F,ht]),ua(pl,ce)&&ua(Ul,F)&&ua(lu,ht)||(N={pending:null,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:Gs},N.dispatch=bo=tc.bind(null,so,N),ro.queue=N,ro.baseQueue=null,Gs=ta(Ft,F,ce),ro.memoizedState=ro.baseState=Gs),Gs}function Ko(N,F,ce){var ht=bs();return fo(ht,N,F,ce)}function es(N){var F=_u();return typeof N=="function"&&(N=N()),F.memoizedState=F.baseState=N,N=F.queue={pending:null,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:N},N=N.dispatch=tc.bind(null,so,N),[F.memoizedState,N]}function Mo(N,F,ce,ht){return N={tag:N,create:F,destroy:ce,deps:ht,next:null},F=so.updateQueue,F===null?(F={lastEffect:null},so.updateQueue=F,F.lastEffect=N.next=N):(ce=F.lastEffect,ce===null?F.lastEffect=N.next=N:(ht=ce.next,ce.next=N,N.next=ht,F.lastEffect=N)),N}function ys(N){var F=_u();return N={current:N},F.memoizedState=N}function Bc(){return bs().memoizedState}function ec(N,F,ce,ht){var Ft=_u();so.flags|=N,Ft.memoizedState=Mo(1|F,ce,void 0,ht===void 0?null:ht)}function ff(N,F,ce,ht){var Ft=bs();ht=ht===void 0?null:ht;var kn=void 0;if(Io!==null){var si=Io.memoizedState;if(kn=si.destroy,ht!==null&&Vo(ht,si.deps)){Mo(F,ce,kn,ht);return}}so.flags|=N,Ft.memoizedState=Mo(1|F,ce,kn,ht)}function ld(N,F){return ec(516,4,N,F)}function Ol(N,F){return ff(516,4,N,F)}function al(N,F){return ff(4,2,N,F)}function Dl(N,F){if(typeof F=="function")return N=N(),F(N),function(){F(null)};if(F!=null)return N=N(),F.current=N,function(){F.current=null}}function Vc(N,F,ce){return ce=ce!=null?ce.concat([N]):null,ff(4,2,Dl.bind(null,F,N),ce)}function Qs(){}function $u(N,F){var ce=bs();F=F===void 0?null:F;var ht=ce.memoizedState;return ht!==null&&F!==null&&Vo(F,ht[1])?ht[0]:(ce.memoizedState=[N,F],N)}function Ru(N,F){var ce=bs();F=F===void 0?null:F;var ht=ce.memoizedState;return ht!==null&&F!==null&&Vo(F,ht[1])?ht[0]:(N=N(),ce.memoizedState=[N,F],N)}function Wl(N,F){var ce=Qt();rt(98>ce?98:ce,function(){N(!0)}),rt(97<ce?97:ce,function(){var ht=ea.transition;ea.transition=1;try{N(!1),F()}finally{ea.transition=ht}})}function tc(N,F,ce){var ht=rc(),Ft=Du(N),kn={lane:Ft,action:ce,eagerReducer:null,eagerState:null,next:null},si=F.pending;if(si===null?kn.next=kn:(kn.next=si.next,si.next=kn),F.pending=kn,si=N.alternate,N===so||si!==null&&si===so)zo=wo=!0;else{if(N.lanes===0&&(si===null||si.lanes===0)&&(si=F.lastRenderedReducer,si!==null))try{var ki=F.lastRenderedState,ro=si(ki,ce);if(kn.eagerReducer=si,kn.eagerState=ro,ua(ro,ki))return}catch(bo){}finally{}zc(N,Ft,ht)}}var Ec={readContext:nn,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useOpaqueIdentifier:rs,unstable_isNewReconciler:!1},cd={readContext:nn,useCallback:function(N,F){return _u().memoizedState=[N,F===void 0?null:F],N},useContext:nn,useEffect:ld,useImperativeHandle:function(N,F,ce){return ce=ce!=null?ce.concat([N]):null,ec(4,2,Dl.bind(null,F,N),ce)},useLayoutEffect:function(N,F){return ec(4,2,N,F)},useMemo:function(N,F){var ce=_u();return F=F===void 0?null:F,N=N(),ce.memoizedState=[N,F],N},useReducer:function(N,F,ce){var ht=_u();return F=ce!==void 0?ce(F):F,ht.memoizedState=ht.baseState=F,N=ht.queue={pending:null,dispatch:null,lastRenderedReducer:N,lastRenderedState:F},N=N.dispatch=tc.bind(null,so,N),[ht.memoizedState,N]},useRef:ys,useState:es,useDebugValue:Qs,useDeferredValue:function(N){var F=es(N),ce=F[0],ht=F[1];return ld(function(){var Ft=ea.transition;ea.transition=1;try{ht(N)}finally{ea.transition=Ft}},[N]),ce},useTransition:function(){var N=es(!1),F=N[0];return N=Wl.bind(null,N[1]),ys(N),[N,F]},useMutableSource:function(N,F,ce){var ht=_u();return ht.memoizedState={refs:{getSnapshot:F,setSnapshot:null},source:N,subscribe:ce},fo(ht,N,F,ce)},useOpaqueIdentifier:function(){if(hu){var N=!1,F=Le(function(){throw N||(N=!0,ce(Jt())),Error(Y(355))}),ce=es(F)[1];return!(so.mode&2)&&(so.flags|=516,Mo(5,function(){ce(Jt())},void 0,null)),F}return F=Jt(),es(F),F},unstable_isNewReconciler:!1},wc={readContext:nn,useCallback:$u,useContext:nn,useEffect:Ol,useImperativeHandle:Vc,useLayoutEffect:al,useMemo:Ru,useReducer:vi,useRef:Bc,useState:function(){return vi(Vs)},useDebugValue:Qs,useDeferredValue:function(N){var F=vi(Vs),ce=F[0],ht=F[1];return Ol(function(){var Ft=ea.transition;ea.transition=1;try{ht(N)}finally{ea.transition=Ft}},[N]),ce},useTransition:function(){var N=vi(Vs)[0];return[Bc().current,N]},useMutableSource:Ko,useOpaqueIdentifier:function(){return vi(Vs)[0]},unstable_isNewReconciler:!1},Tl={readContext:nn,useCallback:$u,useContext:nn,useEffect:Ol,useImperativeHandle:Vc,useLayoutEffect:al,useMemo:Ru,useReducer:fa,useRef:Bc,useState:function(){return fa(Vs)},useDebugValue:Qs,useDeferredValue:function(N){var F=fa(Vs),ce=F[0],ht=F[1];return Ol(function(){var Ft=ea.transition;ea.transition=1;try{ht(N)}finally{ea.transition=Ft}},[N]),ce},useTransition:function(){var N=fa(Vs)[0];return[Bc().current,N]},useMutableSource:Ko,useOpaqueIdentifier:function(){return fa(Vs)[0]},unstable_isNewReconciler:!1},ed=K.ReactCurrentOwner,Fc=!1;function hc(N,F,ce,ht){F.child=N===null?yo(F,null,ce,ht):Eo(F,N.child,ce,ht)}function Sd(N,F,ce,ht,Ft){ce=ce.render;var kn=F.ref;return er(F,Ft),ht=Fs(N,F,ce,ht,kn,Ft),N!==null&&!Fc?(F.updateQueue=N.updateQueue,F.flags&=-517,N.lanes&=~Ft,kl(N,F,Ft)):(F.flags|=1,hc(N,F,ht,Ft),F.child)}function Oh(N,F,ce,ht,Ft,kn){if(N===null){var si=ce.type;return typeof si=="function"&&!Lh(si)&&si.defaultProps===void 0&&ce.compare===null&&ce.defaultProps===void 0?(F.tag=15,F.type=si,Fd(N,F,si,ht,Ft,kn)):(N=ep(ce.type,null,ht,F,F.mode,kn),N.ref=F.ref,N.return=F,F.child=N)}return si=N.child,!(Ft&kn)&&(Ft=si.memoizedProps,ce=ce.compare,ce=ce!==null?ce:Ro,ce(Ft,ht)&&N.ref===F.ref)?kl(N,F,kn):(F.flags|=1,N=Zu(si,ht),N.ref=F.ref,N.return=F,F.child=N)}function Fd(N,F,ce,ht,Ft,kn){if(N!==null&&Ro(N.memoizedProps,ht)&&N.ref===F.ref)if(Fc=!1,(kn&Ft)!==0)N.flags&16384&&(Fc=!0);else return F.lanes=N.lanes,kl(N,F,kn);return fd(N,F,ce,ht,kn)}function $d(N,F,ce){var ht=F.pendingProps,Ft=ht.children,kn=N!==null?N.memoizedState:null;if(ht.mode==="hidden"||ht.mode==="unstable-defer-without-hiding")if(!(F.mode&4))F.memoizedState={baseLanes:0},wh(F,ce);else if(ce&1073741824)F.memoizedState={baseLanes:0},wh(F,kn!==null?kn.baseLanes:ce);else return N=kn!==null?kn.baseLanes|ce:ce,F.lanes=F.childLanes=1073741824,F.memoizedState={baseLanes:N},wh(F,N),null;else kn!==null?(ht=kn.baseLanes|ce,F.memoizedState=null):ht=ce,wh(F,ht);return hc(N,F,Ft,ce),F.child}function Xd(N,F){var ce=F.ref;(N===null&&ce!==null||N!==null&&N.ref!==ce)&&(F.flags|=128)}function fd(N,F,ce,ht,Ft){var kn=Ut(ce)?Pn:fn.current;return kn=Hn(F,kn),er(F,Ft),ce=Fs(N,F,ce,ht,kn,Ft),N!==null&&!Fc?(F.updateQueue=N.updateQueue,F.flags&=-517,N.lanes&=~Ft,kl(N,F,Ft)):(F.flags|=1,hc(N,F,ce,Ft),F.child)}function Mc(N,F,ce,ht,Ft){if(Ut(ce)){var kn=!0;fr(F)}else kn=!1;if(er(F,Ft),F.stateNode===null)N!==null&&(N.alternate=null,F.alternate=null,F.flags|=2),su(F,ce,ht),xt(F,ce,ht,Ft),ht=!0;else if(N===null){var si=F.stateNode,ki=F.memoizedProps;si.props=ki;var ro=si.context,bo=ce.contextType;typeof bo=="object"&&bo!==null?bo=nn(bo):(bo=Ut(ce)?Pn:fn.current,bo=Hn(F,bo));var Gs=ce.getDerivedStateFromProps,lu=typeof Gs=="function"||typeof si.getSnapshotBeforeUpdate=="function";lu||typeof si.UNSAFE_componentWillReceiveProps!="function"&&typeof si.componentWillReceiveProps!="function"||(ki!==ht||ro!==bo)&&ru(F,si,ht,bo),wr=!1;var Us=F.memoizedState;si.state=Us,Mi(F,ht,si,Ft),ro=F.memoizedState,ki!==ht||Us!==ro||sn.current||wr?(typeof Gs=="function"&&(Qo(F,ce,Gs,ht),ro=F.memoizedState),(ki=wr||Oo(F,ce,ki,ht,Us,ro,bo))?(lu||typeof si.UNSAFE_componentWillMount!="function"&&typeof si.componentWillMount!="function"||(typeof si.componentWillMount=="function"&&si.componentWillMount(),typeof si.UNSAFE_componentWillMount=="function"&&si.UNSAFE_componentWillMount()),typeof si.componentDidMount=="function"&&(F.flags|=4)):(typeof si.componentDidMount=="function"&&(F.flags|=4),F.memoizedProps=ht,F.memoizedState=ro),si.props=ht,si.state=ro,si.context=bo,ht=ki):(typeof si.componentDidMount=="function"&&(F.flags|=4),ht=!1)}else{si=F.stateNode,gi(N,F),ki=F.memoizedProps,bo=F.type===F.elementType?ki:So(F.type,ki),si.props=bo,lu=F.pendingProps,Us=si.context,ro=ce.contextType,typeof ro=="object"&&ro!==null?ro=nn(ro):(ro=Ut(ce)?Pn:fn.current,ro=Hn(F,ro));var pl=ce.getDerivedStateFromProps;(Gs=typeof pl=="function"||typeof si.getSnapshotBeforeUpdate=="function")||typeof si.UNSAFE_componentWillReceiveProps!="function"&&typeof si.componentWillReceiveProps!="function"||(ki!==lu||Us!==ro)&&ru(F,si,ht,ro),wr=!1,Us=F.memoizedState,si.state=Us,Mi(F,ht,si,Ft);var Ul=F.memoizedState;ki!==lu||Us!==Ul||sn.current||wr?(typeof pl=="function"&&(Qo(F,ce,pl,ht),Ul=F.memoizedState),(bo=wr||Oo(F,ce,bo,ht,Us,Ul,ro))?(Gs||typeof si.UNSAFE_componentWillUpdate!="function"&&typeof si.componentWillUpdate!="function"||(typeof si.componentWillUpdate=="function"&&si.componentWillUpdate(ht,Ul,ro),typeof si.UNSAFE_componentWillUpdate=="function"&&si.UNSAFE_componentWillUpdate(ht,Ul,ro)),typeof si.componentDidUpdate=="function"&&(F.flags|=4),typeof si.getSnapshotBeforeUpdate=="function"&&(F.flags|=256)):(typeof si.componentDidUpdate!="function"||ki===N.memoizedProps&&Us===N.memoizedState||(F.flags|=4),typeof si.getSnapshotBeforeUpdate!="function"||ki===N.memoizedProps&&Us===N.memoizedState||(F.flags|=256),F.memoizedProps=ht,F.memoizedState=Ul),si.props=ht,si.state=Ul,si.context=ro,ht=bo):(typeof si.componentDidUpdate!="function"||ki===N.memoizedProps&&Us===N.memoizedState||(F.flags|=4),typeof si.getSnapshotBeforeUpdate!="function"||ki===N.memoizedProps&&Us===N.memoizedState||(F.flags|=256),ht=!1)}return Uc(N,F,ce,ht,kn,Ft)}function Uc(N,F,ce,ht,Ft,kn){Xd(N,F);var si=(F.flags&64)!==0;if(!ht&&!si)return Ft&&vr(F,ce,!1),kl(N,F,kn);ht=F.stateNode,ed.current=F;var ki=si&&typeof ce.getDerivedStateFromError!="function"?null:ht.render();return F.flags|=1,N!==null&&si?(F.child=Eo(F,N.child,null,kn),F.child=Eo(F,null,ki,kn)):hc(N,F,ki,kn),F.memoizedState=ht.state,Ft&&vr(F,ce,!0),F.child}function md(N){var F=N.stateNode;F.pendingContext?Xt(N,F.pendingContext,F.pendingContext!==F.context):F.context&&Xt(N,F.context,!1),as(N,F.containerInfo)}var vd={dehydrated:null,retryLane:0};function yd(N,F,ce){var ht=F.pendingProps,Ft=Mu.current,kn=!1,si;return(si=(F.flags&64)!==0)||(si=N!==null&&N.memoizedState===null?!1:(Ft&2)!==0),si?(kn=!0,F.flags&=-65):N!==null&&N.memoizedState===null||ht.fallback===void 0||ht.unstable_avoidThisFallback===!0||(Ft|=1),St(Mu,Ft&1),N===null?(ht.fallback!==void 0&&Ku(F),N=ht.children,Ft=ht.fallback,kn?(N=df(F,N,Ft,ce),F.child.memoizedState={baseLanes:ce},F.memoizedState=vd,N):typeof ht.unstable_expectedLoadTime=="number"?(N=df(F,N,Ft,ce),F.child.memoizedState={baseLanes:ce},F.memoizedState=vd,F.lanes=33554432,N):(ce=Nh({mode:"visible",children:N},F.mode,ce,null),ce.return=F,F.child=ce)):N.memoizedState!==null?kn?(ht=Yf(N,F,ht.children,ht.fallback,ce),kn=F.child,Ft=N.child.memoizedState,kn.memoizedState=Ft===null?{baseLanes:ce}:{baseLanes:Ft.baseLanes|ce},kn.childLanes=N.childLanes&~ce,F.memoizedState=vd,ht):(ce=Ef(N,F,ht.children,ce),F.memoizedState=null,ce):kn?(ht=Yf(N,F,ht.children,ht.fallback,ce),kn=F.child,Ft=N.child.memoizedState,kn.memoizedState=Ft===null?{baseLanes:ce}:{baseLanes:Ft.baseLanes|ce},kn.childLanes=N.childLanes&~ce,F.memoizedState=vd,ht):(ce=Ef(N,F,ht.children,ce),F.memoizedState=null,ce)}function df(N,F,ce,ht){var Ft=N.mode,kn=N.child;return F={mode:"hidden",children:F},!(Ft&2)&&kn!==null?(kn.childLanes=0,kn.pendingProps=F):kn=Nh(F,Ft,0,null),ce=_0(ce,Ft,ht,null),kn.return=N,ce.return=N,kn.sibling=ce,N.child=kn,ce}function Ef(N,F,ce,ht){var Ft=N.child;return N=Ft.sibling,ce=Zu(Ft,{mode:"visible",children:ce}),!(F.mode&2)&&(ce.lanes=ht),ce.return=F,ce.sibling=null,N!==null&&(N.nextEffect=null,N.flags=8,F.firstEffect=F.lastEffect=N),F.child=ce}function Yf(N,F,ce,ht,Ft){var kn=F.mode,si=N.child;N=si.sibling;var ki={mode:"hidden",children:ce};return!(kn&2)&&F.child!==si?(ce=F.child,ce.childLanes=0,ce.pendingProps=ki,si=ce.lastEffect,si!==null?(F.firstEffect=ce.firstEffect,F.lastEffect=si,si.nextEffect=null):F.firstEffect=F.lastEffect=null):ce=Zu(si,ki),N!==null?ht=Zu(N,ht):(ht=_0(ht,kn,Ft,null),ht.flags|=2),ht.return=F,ce.return=F,ce.sibling=ht,F.child=ce,ht}function $f(N,F){N.lanes|=F;var ce=N.alternate;ce!==null&&(ce.lanes|=F),wt(N.return,F)}function td(N,F,ce,ht,Ft,kn){var si=N.memoizedState;si===null?N.memoizedState={isBackwards:F,rendering:null,renderingStartTime:0,last:ht,tail:ce,tailMode:Ft,lastEffect:kn}:(si.isBackwards=F,si.rendering=null,si.renderingStartTime=0,si.last=ht,si.tail=ce,si.tailMode=Ft,si.lastEffect=kn)}function Ad(N,F,ce){var ht=F.pendingProps,Ft=ht.revealOrder,kn=ht.tail;if(hc(N,F,ht.children,ce),ht=Mu.current,ht&2)ht=ht&1|2,F.flags|=64;else{if(N!==null&&N.flags&64)e:for(N=F.child;N!==null;){if(N.tag===13)N.memoizedState!==null&&$f(N,ce);else if(N.tag===19)$f(N,ce);else if(N.child!==null){N.child.return=N,N=N.child;continue}if(N===F)break e;for(;N.sibling===null;){if(N.return===null||N.return===F)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}ht&=1}if(St(Mu,ht),!(F.mode&2))F.memoizedState=null;else switch(Ft){case"forwards":for(ce=F.child,Ft=null;ce!==null;)N=ce.alternate,N!==null&&Nl(N)===null&&(Ft=ce),ce=ce.sibling;ce=Ft,ce===null?(Ft=F.child,F.child=null):(Ft=ce.sibling,ce.sibling=null),td(F,!1,Ft,ce,kn,F.lastEffect);break;case"backwards":for(ce=null,Ft=F.child,F.child=null;Ft!==null;){if(N=Ft.alternate,N!==null&&Nl(N)===null){F.child=Ft;break}N=Ft.sibling,Ft.sibling=ce,ce=Ft,Ft=N}td(F,!0,ce,null,kn,F.lastEffect);break;case"together":td(F,!1,null,null,void 0,F.lastEffect);break;default:F.memoizedState=null}return F.child}function kl(N,F,ce){if(N!==null&&(F.dependencies=N.dependencies),we|=F.lanes,ce&F.childLanes){if(N!==null&&F.child!==N.child)throw Error(Y(153));if(F.child!==null){for(N=F.child,ce=Zu(N,N.pendingProps),F.child=ce,ce.return=F;N.sibling!==null;)N=N.sibling,ce=ce.sibling=Zu(N,N.pendingProps),ce.return=F;ce.sibling=null}return F.child}return null}function Bl(N){N.flags|=4}var _d,Of,hf,Ud;if(De)_d=function(N,F){for(var ce=F.child;ce!==null;){if(ce.tag===5||ce.tag===6)zt(N,ce.stateNode);else if(ce.tag!==4&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===F)break;for(;ce.sibling===null;){if(ce.return===null||ce.return===F)return;ce=ce.return}ce.sibling.return=ce.return,ce=ce.sibling}},Of=function(){},hf=function(N,F,ce,ht,Ft){if(N=N.memoizedProps,N!==ht){var kn=F.stateNode,si=au(hs.current);ce=Ot(kn,ce,N,ht,Ft,si),(F.updateQueue=ce)&&Bl(F)}},Ud=function(N,F,ce,ht){ce!==ht&&Bl(F)};else if(et){_d=function(N,F,ce,ht){for(var Ft=F.child;Ft!==null;){if(Ft.tag===5){var kn=Ft.stateNode;ce&&ht&&(kn=fs(kn,Ft.type,Ft.memoizedProps,Ft)),zt(N,kn)}else if(Ft.tag===6)kn=Ft.stateNode,ce&&ht&&(kn=cs(kn,Ft.memoizedProps,Ft)),zt(N,kn);else if(Ft.tag!==4){if(Ft.tag===13&&Ft.flags&4&&(kn=Ft.memoizedState!==null)){var si=Ft.child;if(si!==null&&(si.child!==null&&(si.child.return=si,_d(N,si,!0,kn)),kn=si.sibling,kn!==null)){kn.return=Ft,Ft=kn;continue}}if(Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}}if(Ft===F)break;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===F)return;Ft=Ft.return}Ft.sibling.return=Ft.return,Ft=Ft.sibling}};var dd=function(N,F,ce,ht){for(var Ft=F.child;Ft!==null;){if(Ft.tag===5){var kn=Ft.stateNode;ce&&ht&&(kn=fs(kn,Ft.type,Ft.memoizedProps,Ft)),za(N,kn)}else if(Ft.tag===6)kn=Ft.stateNode,ce&&ht&&(kn=cs(kn,Ft.memoizedProps,Ft)),za(N,kn);else if(Ft.tag!==4){if(Ft.tag===13&&Ft.flags&4&&(kn=Ft.memoizedState!==null)){var si=Ft.child;if(si!==null&&(si.child!==null&&(si.child.return=si,dd(N,si,!0,kn)),kn=si.sibling,kn!==null)){kn.return=Ft,Ft=kn;continue}}if(Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}}if(Ft===F)break;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===F)return;Ft=Ft.return}Ft.sibling.return=Ft.return,Ft=Ft.sibling}};Of=function(N){var F=N.stateNode;if(N.firstEffect!==null){var ce=F.containerInfo,ht=xa(ce);dd(ht,N,!1,!1),F.pendingChildren=ht,Bl(N),Ui(ce,ht)}},hf=function(N,F,ce,ht,Ft){var kn=N.stateNode,si=N.memoizedProps;if((N=F.firstEffect===null)&&si===ht)F.stateNode=kn;else{var ki=F.stateNode,ro=au(hs.current),bo=null;si!==ht&&(bo=Ot(ki,ce,si,ht,Ft,ro)),N&&bo===null?F.stateNode=kn:(kn=sa(kn,bo,ce,si,ht,F,N,ki),mn(kn,ce,ht,Ft,ro)&&Bl(F),F.stateNode=kn,N?Bl(F):_d(kn,F,!1,!1))}},Ud=function(N,F,ce,ht){ce!==ht?(N=au(iu.current),ce=au(hs.current),F.stateNode=ct(ht,N,ce,F),Bl(F)):F.stateNode=N.stateNode}}else Of=function(){},hf=function(){},Ud=function(){};function pf(N,F){if(!hu)switch(N.tailMode){case"hidden":F=N.tail;for(var ce=null;F!==null;)F.alternate!==null&&(ce=F),F=F.sibling;ce===null?N.tail=null:ce.sibling=null;break;case"collapsed":ce=N.tail;for(var ht=null;ce!==null;)ce.alternate!==null&&(ht=ce),ce=ce.sibling;ht===null?F||N.tail===null?N.tail=null:N.tail.sibling=null:ht.sibling=null}}function nd(N,F,ce){var ht=F.pendingProps;switch(F.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ut(F.type)&&Yt(),null;case 3:return $s(),st(sn),st(fn),Ci(),ht=F.stateNode,ht.pendingContext&&(ht.context=ht.pendingContext,ht.pendingContext=null),(N===null||N.child===null)&&(bc(F)?Bl(F):ht.hydrate||(F.flags|=256)),Of(F),null;case 5:Lu(F);var Ft=au(iu.current);if(ce=F.type,N!==null&&F.stateNode!=null)hf(N,F,ce,ht,Ft),N.ref!==F.ref&&(F.flags|=128);else{if(!ht){if(F.stateNode===null)throw Error(Y(166));return null}if(N=au(hs.current),bc(F)){if(!Ce)throw Error(Y(175));N=Ka(F.stateNode,F.type,F.memoizedProps,Ft,N,F),F.updateQueue=N,N!==null&&Bl(F)}else{var kn=Je(ce,ht,Ft,N,F);_d(kn,F,!1,!1),F.stateNode=kn,mn(kn,ce,ht,Ft,N)&&Bl(F)}F.ref!==null&&(F.flags|=128)}return null;case 6:if(N&&F.stateNode!=null)Ud(N,F,N.memoizedProps,ht);else{if(typeof ht!="string"&&F.stateNode===null)throw Error(Y(166));if(N=au(iu.current),Ft=au(hs.current),bc(F)){if(!Ce)throw Error(Y(176));Cn(F.stateNode,F.memoizedProps,F)&&Bl(F)}else F.stateNode=ct(ht,N,Ft,F)}return null;case 13:return st(Mu),ht=F.memoizedState,F.flags&64?(F.lanes=ce,F):(ht=ht!==null,Ft=!1,N===null?F.memoizedProps.fallback!==void 0&&bc(F):Ft=N.memoizedState!==null,ht&&!Ft&&F.mode&2&&(N===null&&F.memoizedProps.unstable_avoidThisFallback!==!0||Mu.current&1?qu===0&&(qu=3):((qu===0||qu===3)&&(qu=4),Li===null||!(we&134217727)&&!(On&134217727)||Zf(Li,$c))),et&&ht&&(F.flags|=4),De&&(ht||Ft)&&(F.flags|=4),null);case 4:return $s(),Of(F),N===null&&cr(F.stateNode.containerInfo),null;case 10:return Xo(F),null;case 17:return Ut(F.type)&&Yt(),null;case 19:if(st(Mu),ht=F.memoizedState,ht===null)return null;if(Ft=(F.flags&64)!==0,kn=ht.rendering,kn===null)if(Ft)pf(ht,!1);else{if(qu!==0||N!==null&&N.flags&64)for(N=F.child;N!==null;){if(kn=Nl(N),kn!==null){for(F.flags|=64,pf(ht,!1),N=kn.updateQueue,N!==null&&(F.updateQueue=N,F.flags|=4),ht.lastEffect===null&&(F.firstEffect=null),F.lastEffect=ht.lastEffect,N=ce,ht=F.child;ht!==null;)Ft=ht,ce=N,Ft.flags&=2,Ft.nextEffect=null,Ft.firstEffect=null,Ft.lastEffect=null,kn=Ft.alternate,kn===null?(Ft.childLanes=0,Ft.lanes=ce,Ft.child=null,Ft.memoizedProps=null,Ft.memoizedState=null,Ft.updateQueue=null,Ft.dependencies=null,Ft.stateNode=null):(Ft.childLanes=kn.childLanes,Ft.lanes=kn.lanes,Ft.child=kn.child,Ft.memoizedProps=kn.memoizedProps,Ft.memoizedState=kn.memoizedState,Ft.updateQueue=kn.updateQueue,Ft.type=kn.type,ce=kn.dependencies,Ft.dependencies=ce===null?null:{lanes:ce.lanes,firstContext:ce.firstContext}),ht=ht.sibling;return St(Mu,Mu.current&1|2),F.child}N=N.sibling}ht.tail!==null&&Sn()>ts&&(F.flags|=64,Ft=!0,pf(ht,!1),F.lanes=33554432)}else{if(!Ft)if(N=Nl(kn),N!==null){if(F.flags|=64,Ft=!0,N=N.updateQueue,N!==null&&(F.updateQueue=N,F.flags|=4),pf(ht,!0),ht.tail===null&&ht.tailMode==="hidden"&&!kn.alternate&&!hu)return F=F.lastEffect=ht.lastEffect,F!==null&&(F.nextEffect=null),null}else 2*Sn()-ht.renderingStartTime>ts&&ce!==1073741824&&(F.flags|=64,Ft=!0,pf(ht,!1),F.lanes=33554432);ht.isBackwards?(kn.sibling=F.child,F.child=kn):(N=ht.last,N!==null?N.sibling=kn:F.child=kn,ht.last=kn)}return ht.tail!==null?(N=ht.tail,ht.rendering=N,ht.tail=N.sibling,ht.lastEffect=F.lastEffect,ht.renderingStartTime=Sn(),N.sibling=null,F=Mu.current,St(Mu,Ft?F&1|2:F&1),N):null;case 23:case 24:return Sc(),N!==null&&N.memoizedState!==null!=(F.memoizedState!==null)&&ht.mode!=="unstable-defer-without-hiding"&&(F.flags|=4),null}throw Error(Y(156,F.tag))}function Kd(N){switch(N.tag){case 1:Ut(N.type)&&Yt();var F=N.flags;return F&4096?(N.flags=F&-4097|64,N):null;case 3:if($s(),st(sn),st(fn),Ci(),F=N.flags,F&64)throw Error(Y(285));return N.flags=F&-4097|64,N;case 5:return Lu(N),null;case 13:return st(Mu),F=N.flags,F&4096?(N.flags=F&-4097|64,N):null;case 19:return st(Mu),null;case 4:return $s(),null;case 10:return Xo(N),null;case 23:case 24:return Sc(),null;default:return null}}function sc(N,F){try{var ce="",ht=F;do ce+=As(ht),ht=ht.return;while(ht);var Ft=ce}catch(kn){Ft=`
Error generating stack: `+kn.message+`
`+kn.stack}return{value:N,source:F,stack:Ft}}function Gc(N,F){try{console.error(F.value)}catch(ce){setTimeout(function(){throw ce})}}var ee=typeof WeakMap=="function"?WeakMap:Map;function Me(N,F,ce){ce=xr(-1,ce),ce.tag=3,ce.payload={element:null};var ht=F.value;return ce.callback=function(){Vu||(Vu=!0,ul=ht),Gc(N,F)},ce}function Ve(N,F,ce){ce=xr(-1,ce),ce.tag=3;var ht=N.type.getDerivedStateFromError;if(typeof ht=="function"){var Ft=F.value;ce.payload=function(){return Gc(N,F),ht(Ft)}}var kn=N.stateNode;return kn!==null&&typeof kn.componentDidCatch=="function"&&(ce.callback=function(){typeof ht!="function"&&(ef===null?ef=new Set([this]):ef.add(this),Gc(N,F));var si=F.stack;this.componentDidCatch(F.value,{componentStack:si!==null?si:""})}),ce}var Tt=typeof WeakSet=="function"?WeakSet:Set;function pn(N){var F=N.ref;if(F!==null)if(typeof F=="function")try{F(null)}catch(ce){Kc(N,ce)}else F.current=null}function yn(N,F){switch(F.tag){case 0:case 11:case 15:case 22:return;case 1:if(F.flags&256&&N!==null){var ce=N.memoizedProps,ht=N.memoizedState;N=F.stateNode,F=N.getSnapshotBeforeUpdate(F.elementType===F.type?ce:So(F.type,ce),ht),N.__reactInternalSnapshotBeforeUpdate=F}return;case 3:De&&F.flags&256&&di(F.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Y(163))}function Vn(N,F){if(F=F.updateQueue,F=F!==null?F.lastEffect:null,F!==null){var ce=F=F.next;do{if((ce.tag&N)===N){var ht=ce.destroy;ce.destroy=void 0,ht!==void 0&&ht()}ce=ce.next}while(ce!==F)}}function Pr(N,F,ce){switch(ce.tag){case 0:case 11:case 15:case 22:if(F=ce.updateQueue,F=F!==null?F.lastEffect:null,F!==null){N=F=F.next;do{if((N.tag&3)===3){var ht=N.create;N.destroy=ht()}N=N.next}while(N!==F)}if(F=ce.updateQueue,F=F!==null?F.lastEffect:null,F!==null){N=F=F.next;do{var Ft=N;ht=Ft.next,Ft=Ft.tag,Ft&4&&Ft&1&&(Mh(ce,N),hd(ce,N)),N=ht}while(N!==F)}return;case 1:N=ce.stateNode,ce.flags&4&&(F===null?N.componentDidMount():(ht=ce.elementType===ce.type?F.memoizedProps:So(ce.type,F.memoizedProps),N.componentDidUpdate(ht,F.memoizedState,N.__reactInternalSnapshotBeforeUpdate))),F=ce.updateQueue,F!==null&&po(ce,F,N);return;case 3:if(F=ce.updateQueue,F!==null){if(N=null,ce.child!==null)switch(ce.child.tag){case 5:N=Qe(ce.child.stateNode);break;case 1:N=ce.child.stateNode}po(ce,F,N)}return;case 5:N=ce.stateNode,F===null&&ce.flags&4&&ze(N,ce.type,ce.memoizedProps,ce);return;case 6:return;case 4:return;case 12:return;case 13:Ce&&ce.memoizedState===null&&(ce=ce.alternate,ce!==null&&(ce=ce.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null&&It(ce))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Y(163))}function Zi(N,F){if(De)for(var ce=N;;){if(ce.tag===5){var ht=ce.stateNode;F?pr(ht):pi(ce.stateNode,ce.memoizedProps)}else if(ce.tag===6)ht=ce.stateNode,F?ur(ht):ar(ht,ce.memoizedProps);else if((ce.tag!==23&&ce.tag!==24||ce.memoizedState===null||ce===N)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===N)break;for(;ce.sibling===null;){if(ce.return===null||ce.return===N)return;ce=ce.return}ce.sibling.return=ce.return,ce=ce.sibling}}function ji(N,F){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(yr,F)}catch(kn){}switch(F.tag){case 0:case 11:case 14:case 15:case 22:if(N=F.updateQueue,N!==null&&(N=N.lastEffect,N!==null)){var ce=N=N.next;do{var ht=ce,Ft=ht.destroy;if(ht=ht.tag,Ft!==void 0)if(ht&4)Mh(F,ce);else{ht=F;try{Ft()}catch(kn){Kc(ht,kn)}}ce=ce.next}while(ce!==N)}break;case 1:if(pn(F),N=F.stateNode,typeof N.componentWillUnmount=="function")try{N.props=F.memoizedProps,N.state=F.memoizedState,N.componentWillUnmount()}catch(kn){Kc(F,kn)}break;case 5:pn(F);break;case 4:De?gu(N,F):et&&et&&(F=F.stateNode.containerInfo,N=xa(F),Ao(F,N))}}function Dt(N,F){for(var ce=F;;)if(ji(N,ce),ce.child===null||De&&ce.tag===4){if(ce===F)break;for(;ce.sibling===null;){if(ce.return===null||ce.return===F)return;ce=ce.return}ce.sibling.return=ce.return,ce=ce.sibling}else ce.child.return=ce,ce=ce.child}function Ta(N){N.alternate=null,N.child=null,N.dependencies=null,N.firstEffect=null,N.lastEffect=null,N.memoizedProps=null,N.memoizedState=null,N.pendingProps=null,N.return=null,N.updateQueue=null}function ba(N){return N.tag===5||N.tag===3||N.tag===4}function yi(N){if(De){e:{for(var F=N.return;F!==null;){if(ba(F))break e;F=F.return}throw Error(Y(160))}var ce=F;switch(F=ce.stateNode,ce.tag){case 5:var ht=!1;break;case 3:F=F.containerInfo,ht=!0;break;case 4:F=F.containerInfo,ht=!0;break;default:throw Error(Y(161))}ce.flags&16&&(hn(F),ce.flags&=-17);e:t:for(ce=N;;){for(;ce.sibling===null;){if(ce.return===null||ba(ce.return)){ce=null;break e}ce=ce.return}for(ce.sibling.return=ce.return,ce=ce.sibling;ce.tag!==5&&ce.tag!==6&&ce.tag!==18;){if(ce.flags&2||ce.child===null||ce.tag===4)continue t;ce.child.return=ce,ce=ce.child}if(!(ce.flags&2)){ce=ce.stateNode;break e}}ht?ko(N,ce,F):pu(N,ce,F)}}function ko(N,F,ce){var ht=N.tag,Ft=ht===5||ht===6;if(Ft)N=Ft?N.stateNode:N.stateNode.instance,F?gn(ce,N,F):wn(ce,N);else if(ht!==4&&(N=N.child,N!==null))for(ko(N,F,ce),N=N.sibling;N!==null;)ko(N,F,ce),N=N.sibling}function pu(N,F,ce){var ht=N.tag,Ft=ht===5||ht===6;if(Ft)N=Ft?N.stateNode:N.stateNode.instance,F?$t(ce,N,F):$n(ce,N);else if(ht!==4&&(N=N.child,N!==null))for(pu(N,F,ce),N=N.sibling;N!==null;)pu(N,F,ce),N=N.sibling}function gu(N,F){for(var ce=F,ht=!1,Ft,kn;;){if(!ht){ht=ce.return;e:for(;;){if(ht===null)throw Error(Y(160));switch(Ft=ht.stateNode,ht.tag){case 5:kn=!1;break e;case 3:Ft=Ft.containerInfo,kn=!0;break e;case 4:Ft=Ft.containerInfo,kn=!0;break e}ht=ht.return}ht=!0}if(ce.tag===5||ce.tag===6)Dt(N,ce),kn?an(Ft,ce.stateNode):at(Ft,ce.stateNode);else if(ce.tag===4){if(ce.child!==null){Ft=ce.stateNode.containerInfo,kn=!0,ce.child.return=ce,ce=ce.child;continue}}else if(ji(N,ce),ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===F)break;for(;ce.sibling===null;){if(ce.return===null||ce.return===F)return;ce=ce.return,ce.tag===4&&(ht=!1)}ce.sibling.return=ce.return,ce=ce.sibling}}function ps(N,F){if(De){switch(F.tag){case 0:case 11:case 14:case 15:case 22:Vn(3,F);return;case 1:return;case 5:var ce=F.stateNode;if(ce!=null){var ht=F.memoizedProps;N=N!==null?N.memoizedProps:ht;var Ft=F.type,kn=F.updateQueue;F.updateQueue=null,kn!==null&&vt(ce,kn,Ft,N,ht,F)}return;case 6:if(F.stateNode===null)throw Error(Y(162));ce=F.memoizedProps,nt(F.stateNode,N!==null?N.memoizedProps:ce,ce);return;case 3:Ce&&(F=F.stateNode,F.hydrate&&(F.hydrate=!1,tn(F.containerInfo)));return;case 12:return;case 13:Zs(F),ss(F);return;case 19:ss(F);return;case 17:return;case 23:case 24:Zi(F,F.memoizedState!==null);return}throw Error(Y(163))}switch(F.tag){case 0:case 11:case 14:case 15:case 22:Vn(3,F);return;case 12:return;case 13:Zs(F),ss(F);return;case 19:ss(F);return;case 3:Ce&&(ce=F.stateNode,ce.hydrate&&(ce.hydrate=!1,tn(ce.containerInfo)));break;case 23:case 24:return}e:if(et){switch(F.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:F=F.stateNode,Ao(F.containerInfo,F.pendingChildren);break e}throw Error(Y(163))}}function Zs(N){N.memoizedState!==null&&(Xa=Sn(),De&&Zi(N.child,!0))}function ss(N){var F=N.updateQueue;if(F!==null){N.updateQueue=null;var ce=N.stateNode;ce===null&&(ce=N.stateNode=new Tt),F.forEach(function(ht){var Ft=i0.bind(null,N,ht);ce.has(ht)||(ce.add(ht),ht.then(Ft,Ft))})}}function wl(N,F){return N!==null&&(N=N.memoizedState,N===null||N.dehydrated!==null)?(F=F.memoizedState,F!==null&&F.dehydrated===null):!1}var ol=0,Lo=1,Fl=2,Rl=3,Kl=4;if(typeof Symbol=="function"&&Symbol.for){var xu=Symbol.for;ol=xu("selector.component"),Lo=xu("selector.has_pseudo_class"),Fl=xu("selector.role"),Rl=xu("selector.test_id"),Kl=xu("selector.text")}function xc(N){var F=J(N);if(F!=null){if(typeof F.memoizedProps["data-testname"]!="string")throw Error(Y(364));return F}if(N=ir(N),N===null)throw Error(Y(362));return N.stateNode.current}function Vl(N,F){switch(F.$$typeof){case ol:if(N.type===F.value)return!0;break;case Lo:e:{F=F.value,N=[N,0];for(var ce=0;ce<N.length;){var ht=N[ce++],Ft=N[ce++],kn=F[Ft];if(ht.tag!==5||!Zr(ht)){for(;kn!=null&&Vl(ht,kn);)Ft++,kn=F[Ft];if(Ft===F.length){F=!0;break e}else for(ht=ht.child;ht!==null;)N.push(ht,Ft),ht=ht.sibling}}F=!1}return F;case Fl:if(N.tag===5&&wi(N.stateNode,F.value))return!0;break;case Kl:if((N.tag===5||N.tag===6)&&(N=Ar(N),N!==null&&0<=N.indexOf(F.value)))return!0;break;case Rl:if(N.tag===5&&(N=N.memoizedProps["data-testname"],typeof N=="string"&&N.toLowerCase()===F.value.toLowerCase()))return!0;break;default:throw Error(Y(365,F))}return!1}function Js(N){switch(N.$$typeof){case ol:return"<"+(_n(N.value)||"Unknown")+">";case Lo:return":has("+(Js(N)||"")+")";case Fl:return'[role="'+N.value+'"]';case Kl:return'"'+N.value+'"';case Rl:return'[data-testname="'+N.value+'"]';default:throw Error(Y(365,N))}}function mu(N,F){var ce=[];N=[N,0];for(var ht=0;ht<N.length;){var Ft=N[ht++],kn=N[ht++],si=F[kn];if(Ft.tag!==5||!Zr(Ft)){for(;si!=null&&Vl(Ft,si);)kn++,si=F[kn];if(kn===F.length)ce.push(Ft);else for(Ft=Ft.child;Ft!==null;)N.push(Ft,kn),Ft=Ft.sibling}}return ce}function Nu(N,F){if(!bn)throw Error(Y(363));N=xc(N),N=mu(N,F),F=[],N=Array.from(N);for(var ce=0;ce<N.length;){var ht=N[ce++];if(ht.tag===5)Zr(ht)||F.push(ht.stateNode);else for(ht=ht.child;ht!==null;)N.push(ht),ht=ht.sibling}return F}var vu=null;function yc(N){if(vu===null)try{var F=("require"+Math.random()).slice(0,7);vu=(cn&&cn[F]).call(cn,"timers").setImmediate}catch(ce){vu=function(ht){var Ft=new MessageChannel;Ft.port1.onmessage=ht,Ft.port2.postMessage(void 0)}}return vu(N)}var bl=Math.ceil,pc=K.ReactCurrentDispatcher,Hi=K.ReactCurrentOwner,Yc=K.IsSomeRendererActing,js=0,Li=null,$o=null,$c=0,nc=0,rd=je(0),qu=0,b=null,L=0,we=0,On=0,_i=0,Oa=null,Xa=0,ts=1/0;function is(){ts=Sn()+500}var Co=null,Vu=!1,ul=null,ef=null,Tc=!1,_h=null,bh=90,rh=[],ho=[],Yo=null,cu=0,el=null,Hs=-1,Xf=0,tf=0,Gl=null,Uf=!1;function rc(){return js&48?Sn():Hs!==-1?Hs:Hs=Sn()}function Du(N){if(N=N.mode,!(N&2))return 1;if(!(N&4))return Qt()===99?1:2;if(Xf===0&&(Xf=L),Xi.transition!==0){tf!==0&&(tf=Oa!==null?Oa.pendingLanes:0),N=Xf;var F=4186112&~tf;return F&=-F,F===0&&(N=4186112&~N,F=N&-N,F===0&&(F=8192)),F}return N=Qt(),js&4&&N===98?N=jn(12,Xf):(N=Ii(N),N=jn(N,Xf)),N}function zc(N,F,ce){if(50<cu)throw cu=0,el=null,Error(Y(185));if(N=zf(N,F),N===null)return null;Et(N,F,ce),N===Li&&(On|=F,qu===4&&Zf(N,$c));var ht=Qt();F===1?js&8&&!(js&48)?Gh(N):(Qu(N,ce),js===0&&(is(),mi())):(!(js&4)||ht!==98&&ht!==99||(Yo===null?Yo=new Set([N]):Yo.add(N)),Qu(N,ce)),Oa=N}function zf(N,F){N.lanes|=F;var ce=N.alternate;for(ce!==null&&(ce.lanes|=F),ce=N,N=N.return;N!==null;)N.childLanes|=F,ce=N.alternate,ce!==null&&(ce.childLanes|=F),ce=N,N=N.return;return ce.tag===3?ce.stateNode:null}function Qu(N,F){for(var ce=N.callbackNode,ht=N.suspendedLanes,Ft=N.pingedLanes,kn=N.expirationTimes,si=N.pendingLanes;0<si;){var ki=31-Ct(si),ro=1<<ki,bo=kn[ki];if(bo===-1){if(!(ro&ht)||ro&Ft){bo=F,Wi(ro);var Gs=$i;kn[ki]=10<=Gs?bo+250:6<=Gs?bo+5e3:-1}}else bo<=F&&(N.expiredLanes|=ro);si&=~ro}if(ht=on(N,N===Li?$c:0),F=$i,ht===0)ce!==null&&(ce!==ks&&Mr(ce),N.callbackNode=null,N.callbackPriority=0);else{if(ce!==null){if(N.callbackPriority===F)return;ce!==ks&&Mr(ce)}F===15?(ce=Gh.bind(null,N),nu===null?(nu=[ce],wu=tr(vo,_a)):nu.push(ce),ce=ks):F===14?ce=ai(99,Gh.bind(null,N)):(ce=Qa(F),ce=ai(ce,xp.bind(null,N))),N.callbackPriority=F,N.callbackNode=ce}}function xp(N){if(Hs=-1,tf=Xf=0,js&48)throw Error(Y(327));var F=N.callbackNode;if(Zd()&&N.callbackNode!==F)return null;var ce=on(N,N===Li?$c:0);if(ce===0)return null;var ht=ce,Ft=js;js|=16;var kn=ah();(Li!==N||$c!==ht)&&(is(),xf(N,ht));do try{P0();break}catch(ki){m0(N,ki)}while(!0);if(ls(),pc.current=kn,js=Ft,$o!==null?ht=0:(Li=null,$c=0,ht=qu),L&On)xf(N,0);else if(ht!==0){if(ht===2&&(js|=64,N.hydrate&&(N.hydrate=!1,di(N.containerInfo)),ce=dn(N),ce!==0&&(ht=gf(N,ce))),ht===1)throw F=b,xf(N,0),Zf(N,ce),Qu(N,Sn()),F;switch(N.finishedWork=N.current.alternate,N.finishedLanes=ce,ht){case 0:case 1:throw Error(Y(345));case 2:nf(N);break;case 3:if(Zf(N,ce),(ce&62914560)===ce&&(ht=Xa+500-Sn(),10<ht)){if(on(N,0)!==0)break;if(Ft=N.suspendedLanes,(Ft&ce)!==ce){rc(),N.pingedLanes|=N.suspendedLanes&Ft;break}N.timeoutHandle=Rt(nf.bind(null,N),ht);break}nf(N);break;case 4:if(Zf(N,ce),(ce&4186112)===ce)break;for(ht=N.eventTimes,Ft=-1;0<ce;){var si=31-Ct(ce);kn=1<<si,si=ht[si],si>Ft&&(Ft=si),ce&=~kn}if(ce=Ft,ce=Sn()-ce,ce=(120>ce?120:480>ce?480:1080>ce?1080:1920>ce?1920:3e3>ce?3e3:4320>ce?4320:1960*bl(ce/1960))-ce,10<ce){N.timeoutHandle=Rt(nf.bind(null,N),ce);break}nf(N);break;case 5:nf(N);break;default:throw Error(Y(329))}}return Qu(N,Sn()),N.callbackNode===F?xp.bind(null,N):null}function Zf(N,F){for(F&=~_i,F&=~On,N.suspendedLanes|=F,N.pingedLanes&=~F,N=N.expirationTimes;0<F;){var ce=31-Ct(F),ht=1<<ce;N[ce]=-1,F&=~ht}}function Gh(N){if(js&48)throw Error(Y(327));if(Zd(),N===Li&&N.expiredLanes&$c){var F=$c,ce=gf(N,F);L&On&&(F=on(N,F),ce=gf(N,F))}else F=on(N,0),ce=gf(N,F);if(N.tag!==0&&ce===2&&(js|=64,N.hydrate&&(N.hydrate=!1,di(N.containerInfo)),F=dn(N),F!==0&&(ce=gf(N,F))),ce===1)throw ce=b,xf(N,0),Zf(N,F),Qu(N,Sn()),ce;return N.finishedWork=N.current.alternate,N.finishedLanes=F,nf(N),Qu(N,Sn()),null}function ih(){if(Yo!==null){var N=Yo;Yo=null,N.forEach(function(F){F.expiredLanes|=24&F.pendingLanes,Qu(F,Sn())})}mi()}function Tp(N,F){var ce=js;js|=1;try{return N(F)}finally{js=ce,js===0&&(is(),mi())}}function Z0(N,F){var ce=js;if(ce&48)return N(F);js|=1;try{if(N)return rt(99,N.bind(null,F))}finally{js=ce,mi()}}function wh(N,F){St(rd,nc),nc|=F,L|=F}function Sc(){nc=rd.current,st(rd)}function xf(N,F){N.finishedWork=null,N.finishedLanes=0;var ce=N.timeoutHandle;if(ce!==Ge&&(N.timeoutHandle=Ge,Oe(ce)),$o!==null)for(ce=$o.return;ce!==null;){var ht=ce;switch(ht.tag){case 1:ht=ht.type.childContextTypes,ht!=null&&Yt();break;case 3:$s(),st(sn),st(fn),Ci();break;case 5:Lu(ht);break;case 4:$s();break;case 13:st(Mu);break;case 19:st(Mu);break;case 10:Xo(ht);break;case 23:case 24:Sc()}ce=ce.return}Li=N,$o=Zu(N.current,null),$c=nc=L=F,qu=0,b=null,_i=On=we=0}function m0(N,F){do{var ce=$o;try{if(ls(),ti.current=Ec,wo){for(var ht=so.memoizedState;ht!==null;){var Ft=ht.queue;Ft!==null&&(Ft.pending=null),ht=ht.next}wo=!1}if(mo=0,Ha=Io=so=null,zo=!1,Hi.current=null,ce===null||ce.return===null){qu=1,b=F,$o=null;break}e:{var kn=N,si=ce.return,ki=ce,ro=F;if(F=$c,ki.flags|=2048,ki.firstEffect=ki.lastEffect=null,ro!==null&&typeof ro=="object"&&typeof ro.then=="function"){var bo=ro;if(!(ki.mode&2)){var Gs=ki.alternate;Gs?(ki.updateQueue=Gs.updateQueue,ki.memoizedState=Gs.memoizedState,ki.lanes=Gs.lanes):(ki.updateQueue=null,ki.memoizedState=null)}var lu=(Mu.current&1)!==0,Us=si;do{var pl;if(pl=Us.tag===13){var Ul=Us.memoizedState;if(Ul!==null)pl=Ul.dehydrated!==null;else{var ad=Us.memoizedProps;pl=ad.fallback===void 0?!1:ad.unstable_avoidThisFallback!==!0?!0:!lu}}if(pl){var ja=Us.updateQueue;if(ja===null){var Sa=new Set;Sa.add(bo),Us.updateQueue=Sa}else ja.add(bo);if(!(Us.mode&2)){if(Us.flags|=64,ki.flags|=16384,ki.flags&=-2981,ki.tag===1)if(ki.alternate===null)ki.tag=17;else{var uo=xr(-1,1);uo.tag=2,Ji(ki,uo)}ki.lanes|=1;break e}ro=void 0,ki=F;var Is=kn.pingCache;if(Is===null?(Is=kn.pingCache=new ee,ro=new Set,Is.set(bo,ro)):(ro=Is.get(bo),ro===void 0&&(ro=new Set,Is.set(bo,ro))),!ro.has(ki)){ro.add(ki);var tu=Sp.bind(null,kn,bo,ki);bo.then(tu,tu)}Us.flags|=4096,Us.lanes=F;break e}Us=Us.return}while(Us!==null);ro=Error((_n(ki.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}qu!==5&&(qu=2),ro=sc(ro,ki),Us=si;do{switch(Us.tag){case 3:kn=ro,Us.flags|=4096,F&=-F,Us.lanes|=F;var uc=Me(Us,kn,F);Ai(Us,uc);break e;case 1:kn=ro;var Tu=Us.type,zl=Us.stateNode;if(!(Us.flags&64)&&(typeof Tu.getDerivedStateFromError=="function"||zl!==null&&typeof zl.componentDidCatch=="function"&&(ef===null||!ef.has(zl)))){Us.flags|=4096,F&=-F,Us.lanes|=F;var rf=Ve(Us,kn,F);Ai(Us,rf);break e}}Us=Us.return}while(Us!==null)}oh(ce)}catch(fu){F=fu,$o===ce&&ce!==null&&($o=ce=ce.return);continue}break}while(!0)}function ah(){var N=pc.current;return pc.current=Ec,N===null?Ec:N}function gf(N,F){var ce=js;js|=16;var ht=ah();Li===N&&$c===F||xf(N,F);do try{Xc();break}catch(Ft){m0(N,Ft)}while(!0);if(ls(),js=ce,pc.current=ht,$o!==null)throw Error(Y(261));return Li=null,$c=0,qu}function Xc(){for(;$o!==null;)Rd($o)}function P0(){for(;$o!==null&&!ui();)Rd($o)}function Rd(N){var F=sh(N.alternate,N,nc);N.memoizedProps=N.pendingProps,F===null?oh(N):$o=F,Hi.current=null}function oh(N){var F=N;do{var ce=F.alternate;if(N=F.return,F.flags&2048){if(ce=Kd(F),ce!==null){ce.flags&=2047,$o=ce;return}N!==null&&(N.firstEffect=N.lastEffect=null,N.flags|=2048)}else{if(ce=nd(ce,F,nc),ce!==null){$o=ce;return}if(ce=F,ce.tag!==24&&ce.tag!==23||ce.memoizedState===null||nc&1073741824||!(ce.mode&4)){for(var ht=0,Ft=ce.child;Ft!==null;)ht|=Ft.lanes|Ft.childLanes,Ft=Ft.sibling;ce.childLanes=ht}N!==null&&!(N.flags&2048)&&(N.firstEffect===null&&(N.firstEffect=F.firstEffect),F.lastEffect!==null&&(N.lastEffect!==null&&(N.lastEffect.nextEffect=F.firstEffect),N.lastEffect=F.lastEffect),1<F.flags&&(N.lastEffect!==null?N.lastEffect.nextEffect=F:N.firstEffect=F,N.lastEffect=F))}if(F=F.sibling,F!==null){$o=F;return}$o=F=N}while(F!==null);qu===0&&(qu=5)}function nf(N){var F=Qt();return rt(99,zd.bind(null,N,F)),null}function zd(N,F){do Zd();while(_h!==null);if(js&48)throw Error(Y(327));var ce=N.finishedWork;if(ce===null)return null;if(N.finishedWork=null,N.finishedLanes=0,ce===N.current)throw Error(Y(177));N.callbackNode=null;var ht=ce.lanes|ce.childLanes,Ft=ht,kn=N.pendingLanes&~Ft;N.pendingLanes=Ft,N.suspendedLanes=0,N.pingedLanes=0,N.expiredLanes&=Ft,N.mutableReadLanes&=Ft,N.entangledLanes&=Ft,Ft=N.entanglements;for(var si=N.eventTimes,ki=N.expirationTimes;0<kn;){var ro=31-Ct(kn),bo=1<<ro;Ft[ro]=0,si[ro]=-1,ki[ro]=-1,kn&=~bo}if(Yo!==null&&!(ht&24)&&Yo.has(N)&&Yo.delete(N),N===Li&&($o=Li=null,$c=0),1<ce.flags?ce.lastEffect!==null?(ce.lastEffect.nextEffect=ce,ht=ce.firstEffect):ht=ce:ht=ce.firstEffect,ht!==null){Ft=js,js|=32,Hi.current=null,Gl=Bt(N.containerInfo),Uf=!1,Co=ht;do try{Sl()}catch(Sa){if(Co===null)throw Error(Y(330));Kc(Co,Sa),Co=Co.nextEffect}while(Co!==null);Gl=null,Co=ht;do try{for(si=N;Co!==null;){var Gs=Co.flags;if(Gs&16&&De&&hn(Co.stateNode),Gs&128){var lu=Co.alternate;if(lu!==null){var Us=lu.ref;Us!==null&&(typeof Us=="function"?Us(null):Us.current=null)}}switch(Gs&1038){case 2:yi(Co),Co.flags&=-3;break;case 6:yi(Co),Co.flags&=-3,ps(Co.alternate,Co);break;case 1024:Co.flags&=-1025;break;case 1028:Co.flags&=-1025,ps(Co.alternate,Co);break;case 4:ps(Co.alternate,Co);break;case 8:ki=si,kn=Co,De?gu(ki,kn):Dt(ki,kn);var pl=kn.alternate;Ta(kn),pl!==null&&Ta(pl)}Co=Co.nextEffect}}catch(Sa){if(Co===null)throw Error(Y(330));Kc(Co,Sa),Co=Co.nextEffect}while(Co!==null);Uf&&In(),At(N.containerInfo),N.current=ce,Co=ht;do try{for(Gs=N;Co!==null;){var Ul=Co.flags;if(Ul&36&&Pr(Gs,Co.alternate,Co),Ul&128){lu=void 0;var ad=Co.ref;if(ad!==null){var ja=Co.stateNode;switch(Co.tag){case 5:lu=Qe(ja);break;default:lu=ja}typeof ad=="function"?ad(lu):ad.current=lu}}Co=Co.nextEffect}}catch(Sa){if(Co===null)throw Error(Y(330));Kc(Co,Sa),Co=Co.nextEffect}while(Co!==null);Co=null,oo(),js=Ft}else N.current=ce;if(Tc)Tc=!1,_h=N,bh=F;else for(Co=ht;Co!==null;)F=Co.nextEffect,Co.nextEffect=null,Co.flags&8&&(Ul=Co,Ul.sibling=null,Ul.stateNode=null),Co=F;if(ht=N.pendingLanes,ht===0&&(ef=null),ht===1?N===el?cu++:(cu=0,el=N):cu=0,ce=ce.stateNode,Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(yr,ce,void 0,(ce.current.flags&64)===64)}catch(Sa){}if(Qu(N,Sn()),Vu)throw Vu=!1,N=ul,ul=null,N;return js&8||mi(),null}function Sl(){for(;Co!==null;){var N=Co.alternate;Uf||Gl===null||(Co.flags&8?Pe(Co,Gl)&&(Uf=!0,Be()):Co.tag===13&&wl(N,Co)&&Pe(Co,Gl)&&(Uf=!0,Be()));var F=Co.flags;F&256&&yn(N,Co),!(F&512)||Tc||(Tc=!0,ai(97,function(){return Zd(),null})),Co=Co.nextEffect}}function Zd(){if(bh!==90){var N=97<bh?97:bh;return bh=90,rt(N,Pd)}return!1}function hd(N,F){rh.push(F,N),Tc||(Tc=!0,ai(97,function(){return Zd(),null}))}function Mh(N,F){ho.push(F,N),Tc||(Tc=!0,ai(97,function(){return Zd(),null}))}function Pd(){if(_h===null)return!1;var N=_h;if(_h=null,js&48)throw Error(Y(331));var F=js;js|=32;var ce=ho;ho=[];for(var ht=0;ht<ce.length;ht+=2){var Ft=ce[ht],kn=ce[ht+1],si=Ft.destroy;if(Ft.destroy=void 0,typeof si=="function")try{si()}catch(ro){if(kn===null)throw Error(Y(330));Kc(kn,ro)}}for(ce=rh,rh=[],ht=0;ht<ce.length;ht+=2){Ft=ce[ht],kn=ce[ht+1];try{var ki=Ft.create;Ft.destroy=ki()}catch(ro){if(kn===null)throw Error(Y(330));Kc(kn,ro)}}for(ki=N.current.firstEffect;ki!==null;)N=ki.nextEffect,ki.nextEffect=null,ki.flags&8&&(ki.sibling=null,ki.stateNode=null),ki=N;return js=F,mi(),!0}function bd(N,F,ce){F=sc(ce,F),F=Me(N,F,1),Ji(N,F),F=rc(),N=zf(N,1),N!==null&&(Et(N,1,F),Qu(N,F))}function Kc(N,F){if(N.tag===3)bd(N,N,F);else for(var ce=N.return;ce!==null;){if(ce.tag===3){bd(ce,N,F);break}else if(ce.tag===1){var ht=ce.stateNode;if(typeof ce.type.getDerivedStateFromError=="function"||typeof ht.componentDidCatch=="function"&&(ef===null||!ef.has(ht))){N=sc(F,N);var Ft=Ve(ce,N,1);if(Ji(ce,Ft),Ft=rc(),ce=zf(ce,1),ce!==null)Et(ce,1,Ft),Qu(ce,Ft);else if(typeof ht.componentDidCatch=="function"&&(ef===null||!ef.has(ht)))try{ht.componentDidCatch(F,N)}catch(kn){}break}}ce=ce.return}}function Sp(N,F,ce){var ht=N.pingCache;ht!==null&&ht.delete(F),F=rc(),N.pingedLanes|=N.suspendedLanes&ce,Li===N&&($c&ce)===ce&&(qu===4||qu===3&&($c&62914560)===$c&&500>Sn()-Xa?xf(N,0):_i|=ce),Qu(N,F)}function i0(N,F){var ce=N.stateNode;ce!==null&&ce.delete(F),F=0,F===0&&(F=N.mode,F&2?F&4?(Xf===0&&(Xf=L),F=Ur(62914560&~Xf),F===0&&(F=4194304)):F=Qt()===99?1:2:F=1),ce=rc(),N=zf(N,F),N!==null&&(Et(N,F,ce),Qu(N,ce))}var sh;sh=function(N,F,ce){var ht=F.lanes;if(N!==null)if(N.memoizedProps!==F.pendingProps||sn.current)Fc=!0;else if(ce&ht)Fc=!!(N.flags&16384);else{switch(Fc=!1,F.tag){case 3:md(F),Sr();break;case 5:Xs(F);break;case 1:Ut(F.type)&&fr(F);break;case 4:as(F,F.stateNode.containerInfo);break;case 10:Bs(F,F.memoizedProps.value);break;case 13:if(F.memoizedState!==null)return ce&F.child.childLanes?yd(N,F,ce):(St(Mu,Mu.current&1),F=kl(N,F,ce),F!==null?F.sibling:null);St(Mu,Mu.current&1);break;case 19:if(ht=(ce&F.childLanes)!==0,N.flags&64){if(ht)return Ad(N,F,ce);F.flags|=64}var Ft=F.memoizedState;if(Ft!==null&&(Ft.rendering=null,Ft.tail=null,Ft.lastEffect=null),St(Mu,Mu.current),ht)break;return null;case 23:case 24:return F.lanes=0,$d(N,F,ce)}return kl(N,F,ce)}else Fc=!1;switch(F.lanes=0,F.tag){case 2:if(ht=F.type,N!==null&&(N.alternate=null,F.alternate=null,F.flags|=2),N=F.pendingProps,Ft=Hn(F,fn.current),er(F,ce),Ft=Fs(null,F,ht,N,Ft,ce),F.flags|=1,typeof Ft=="object"&&Ft!==null&&typeof Ft.render=="function"&&Ft.$$typeof===void 0){if(F.tag=1,F.memoizedState=null,F.updateQueue=null,Ut(ht)){var kn=!0;fr(F)}else kn=!1;F.memoizedState=Ft.state!==null&&Ft.state!==void 0?Ft.state:null,hi(F);var si=ht.getDerivedStateFromProps;typeof si=="function"&&Qo(F,ht,si,N),Ft.updater=Cs,F.stateNode=Ft,Ft._reactInternals=F,xt(F,ht,N,ce),F=Uc(null,F,ht,!0,kn,ce)}else F.tag=0,hc(null,F,Ft,ce),F=F.child;return F;case 16:Ft=F.elementType;e:{switch(N!==null&&(N.alternate=null,F.alternate=null,F.flags|=2),N=F.pendingProps,kn=Ft._init,Ft=kn(Ft._payload),F.type=Ft,kn=F.tag=Cp(Ft),N=So(Ft,N),kn){case 0:F=fd(null,F,Ft,N,ce);break e;case 1:F=Mc(null,F,Ft,N,ce);break e;case 11:F=Sd(null,F,Ft,N,ce);break e;case 14:F=Oh(null,F,Ft,So(Ft.type,N),ht,ce);break e}throw Error(Y(306,Ft,""))}return F;case 0:return ht=F.type,Ft=F.pendingProps,Ft=F.elementType===ht?Ft:So(ht,Ft),fd(N,F,ht,Ft,ce);case 1:return ht=F.type,Ft=F.pendingProps,Ft=F.elementType===ht?Ft:So(ht,Ft),Mc(N,F,ht,Ft,ce);case 3:if(md(F),ht=F.updateQueue,N===null||ht===null)throw Error(Y(282));if(ht=F.pendingProps,Ft=F.memoizedState,Ft=Ft!==null?Ft.element:null,gi(N,F),Mi(F,ht,null,ce),ht=F.memoizedState.element,ht===Ft)Sr(),F=kl(N,F,ce);else{if(Ft=F.stateNode,(kn=Ft.hydrate)&&(Ce?(nl=oi(F.stateNode.containerInfo),Ks=F,kn=hu=!0):kn=!1),kn){if(Ce&&(N=Ft.mutableSourceEagerHydrationData,N!=null))for(Ft=0;Ft<N.length;Ft+=2)kn=N[Ft],si=N[Ft+1],Vt?kn._workInProgressVersionPrimary=si:kn._workInProgressVersionSecondary=si,li.push(kn);for(ce=yo(F,null,ht,ce),F.child=ce;ce;)ce.flags=ce.flags&-3|1024,ce=ce.sibling}else hc(N,F,ht,ce),Sr();F=F.child}return F;case 5:return Xs(F),N===null&&Ku(F),ht=F.type,Ft=F.pendingProps,kn=N!==null?N.memoizedProps:null,si=Ft.children,Xe(ht,Ft)?si=null:kn!==null&&Xe(ht,kn)&&(F.flags|=16),Xd(N,F),hc(N,F,si,ce),F.child;case 6:return N===null&&Ku(F),null;case 13:return yd(N,F,ce);case 4:return as(F,F.stateNode.containerInfo),ht=F.pendingProps,N===null?F.child=Eo(F,null,ht,ce):hc(N,F,ht,ce),F.child;case 11:return ht=F.type,Ft=F.pendingProps,Ft=F.elementType===ht?Ft:So(ht,Ft),Sd(N,F,ht,Ft,ce);case 7:return hc(N,F,F.pendingProps,ce),F.child;case 8:return hc(N,F,F.pendingProps.children,ce),F.child;case 12:return hc(N,F,F.pendingProps.children,ce),F.child;case 10:e:{if(ht=F.type._context,Ft=F.pendingProps,si=F.memoizedProps,kn=Ft.value,Bs(F,kn),si!==null){var ki=si.value;if(kn=ua(ki,kn)?0:(typeof ht._calculateChangedBits=="function"?ht._calculateChangedBits(ki,kn):1073741823)|0,kn===0){if(si.children===Ft.children&&!sn.current){F=kl(N,F,ce);break e}}else for(ki=F.child,ki!==null&&(ki.return=F);ki!==null;){var ro=ki.dependencies;if(ro!==null){si=ki.child;for(var bo=ro.firstContext;bo!==null;){if(bo.context===ht&&bo.observedBits&kn){ki.tag===1&&(bo=xr(-1,ce&-ce),bo.tag=2,Ji(ki,bo)),ki.lanes|=ce,bo=ki.alternate,bo!==null&&(bo.lanes|=ce),wt(ki.return,ce),ro.lanes|=ce;break}bo=bo.next}}else si=ki.tag===10&&ki.type===F.type?null:ki.child;if(si!==null)si.return=ki;else for(si=ki;si!==null;){if(si===F){si=null;break}if(ki=si.sibling,ki!==null){ki.return=si.return,si=ki;break}si=si.return}ki=si}}hc(N,F,Ft.children,ce),F=F.child}return F;case 9:return Ft=F.type,kn=F.pendingProps,ht=kn.children,er(F,ce),Ft=nn(Ft,kn.unstable_observedBits),ht=ht(Ft),F.flags|=1,hc(N,F,ht,ce),F.child;case 14:return Ft=F.type,kn=So(Ft,F.pendingProps),kn=So(Ft.type,kn),Oh(N,F,Ft,kn,ht,ce);case 15:return Fd(N,F,F.type,F.pendingProps,ht,ce);case 17:return ht=F.type,Ft=F.pendingProps,Ft=F.elementType===ht?Ft:So(ht,Ft),N!==null&&(N.alternate=null,F.alternate=null,F.flags|=2),F.tag=1,Ut(ht)?(N=!0,fr(F)):N=!1,er(F,ce),su(F,ht,Ft),xt(F,ht,Ft,ce),Uc(null,F,ht,!0,N,ce);case 19:return Ad(N,F,ce);case 23:return $d(N,F,ce);case 24:return $d(N,F,ce)}throw Error(Y(156,F.tag))};var Rh={current:!1},v0=q.unstable_flushAllWithoutAsserting,Ph=typeof v0=="function";function Ih(){if(v0!==void 0)return v0();for(var N=!1;Zd();)N=!0;return N}function Ap(N){try{Ih(),yc(function(){Ih()?Ap(N):N()})}catch(F){N(F)}}var j0=0,a0=!1;function y0(N,F,ce,ht){this.tag=N,this.key=ce,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=F,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ht,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Cd(N,F,ce,ht){return new y0(N,F,ce,ht)}function Lh(N){return N=N.prototype,!(!N||!N.isReactComponent)}function Cp(N){if(typeof N=="function")return Lh(N)?1:0;if(N!=null){if(N=N.$$typeof,N===ve)return 11;if(N===yt)return 14}return 2}function Zu(N,F){var ce=N.alternate;return ce===null?(ce=Cd(N.tag,F,N.key,N.mode),ce.elementType=N.elementType,ce.type=N.type,ce.stateNode=N.stateNode,ce.alternate=N,N.alternate=ce):(ce.pendingProps=F,ce.type=N.type,ce.flags=0,ce.nextEffect=null,ce.firstEffect=null,ce.lastEffect=null),ce.childLanes=N.childLanes,ce.lanes=N.lanes,ce.child=N.child,ce.memoizedProps=N.memoizedProps,ce.memoizedState=N.memoizedState,ce.updateQueue=N.updateQueue,F=N.dependencies,ce.dependencies=F===null?null:{lanes:F.lanes,firstContext:F.firstContext},ce.sibling=N.sibling,ce.index=N.index,ce.ref=N.ref,ce}function ep(N,F,ce,ht,Ft,kn){var si=2;if(ht=N,typeof N=="function")Lh(N)&&(si=1);else if(typeof N=="string")si=5;else e:switch(N){case ie:return _0(ce.children,Ft,kn,F);case lt:si=8,Ft|=16;break;case le:si=8,Ft|=1;break;case se:return N=Cd(12,ce,F,Ft|8),N.elementType=se,N.type=se,N.lanes=kn,N;case fe:return N=Cd(13,ce,F,Ft),N.type=fe,N.elementType=fe,N.lanes=kn,N;case Fe:return N=Cd(19,ce,F,Ft),N.elementType=Fe,N.lanes=kn,N;case Ke:return Nh(ce,Ft,kn,F);case Ue:return N=Cd(24,ce,F,Ft),N.elementType=Ue,N.lanes=kn,N;default:if(typeof N=="object"&&N!==null)switch(N.$$typeof){case ge:si=10;break e;case ye:si=9;break e;case ve:si=11;break e;case yt:si=14;break e;case gt:si=16,ht=null;break e;case pt:si=22;break e}throw Error(Y(130,N==null?N:typeof N,""))}return F=Cd(si,ce,F,Ft),F.elementType=N,F.type=ht,F.lanes=kn,F}function _0(N,F,ce,ht){return N=Cd(7,N,ht,F),N.lanes=ce,N}function Nh(N,F,ce,ht){return N=Cd(23,N,ht,F),N.elementType=Ke,N.lanes=ce,N}function Ho(N,F,ce){return N=Cd(6,N,null,F),N.lanes=ce,N}function Op(N,F,ce){return F=Cd(4,N.children!==null?N.children:[],N.key,F),F.lanes=ce,F.stateNode={containerInfo:N.containerInfo,pendingChildren:null,implementation:N.implementation},F}function o0(N,F,ce){this.tag=F,this.containerInfo=N,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ge,this.pendingContext=this.context=null,this.hydrate=ce,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),Ce&&(this.mutableSourceEagerHydrationData=null)}function wf(N){var F=N._reactInternals;if(F===void 0)throw typeof N.render=="function"?Error(Y(188)):Error(Y(268,Object.keys(N)));return N=ln(F),N===null?null:N.stateNode}function Od(N,F){if(N=N.memoizedState,N!==null&&N.dehydrated!==null){var ce=N.retryLane;N.retryLane=ce!==0&&ce<F?ce:F}}function Ed(N,F){Od(N,F),(N=N.alternate)&&Od(N,F)}function id(N){return N=ln(N),N===null?null:N.stateNode}function uh(){return null}return ne.IsThisRendererActing=Rh,ne.act=function(N){function F(){j0--,Yc.current=ce,Rh.current=ht}a0===!1&&(a0=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),j0++;var ce=Yc.current,ht=Rh.current;Yc.current=!0,Rh.current=!0;try{var Ft=Tp(N)}catch(kn){throw F(),kn}if(Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function")return{then:function(kn,si){Ft.then(function(){1<j0||Ph===!0&&ce===!0?(F(),kn()):Ap(function(ki){F(),ki?si(ki):kn()})},function(ki){F(),si(ki)})}};try{j0!==1||Ph!==!1&&ce!==!1||Ih(),F()}catch(kn){throw F(),kn}return{then:function(kn){kn()}}},ne.attemptContinuousHydration=function(N){if(N.tag===13){var F=rc();zc(N,67108864,F),Ed(N,67108864)}},ne.attemptHydrationAtCurrentPriority=function(N){if(N.tag===13){var F=rc(),ce=Du(N);zc(N,ce,F),Ed(N,ce)}},ne.attemptSynchronousHydration=function(N){switch(N.tag){case 3:var F=N.stateNode;if(F.hydrate){var ce=Wi(F.pendingLanes);F.expiredLanes|=ce&F.pendingLanes,Qu(F,Sn()),!(js&48)&&(is(),mi())}break;case 13:var ht=rc();Z0(function(){return zc(N,1,ht)}),Ed(N,4)}},ne.attemptUserBlockingHydration=function(N){if(N.tag===13){var F=rc();zc(N,4,F),Ed(N,4)}},ne.batchedEventUpdates=function(N,F){var ce=js;js|=2;try{return N(F)}finally{js=ce,js===0&&(is(),mi())}},ne.batchedUpdates=Tp,ne.createComponentSelector=function(N){return{$$typeof:ol,value:N}},ne.createContainer=function(N,F,ce){return N=new o0(N,F,ce),F=Cd(3,null,null,F===2?7:F===1?3:0),N.current=F,F.stateNode=N,hi(F),N},ne.createHasPsuedoClassSelector=function(N){return{$$typeof:Lo,value:N}},ne.createPortal=function(N,F,ce){var ht=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:ht==null?null:""+ht,children:N,containerInfo:F,implementation:ce}},ne.createRoleSelector=function(N){return{$$typeof:Fl,value:N}},ne.createTestNameSelector=function(N){return{$$typeof:Rl,value:N}},ne.createTextSelector=function(N){return{$$typeof:Kl,value:N}},ne.deferredUpdates=function(N){return rt(97,N)},ne.discreteUpdates=function(N,F,ce,ht,Ft){var kn=js;js|=4;try{return rt(98,N.bind(null,F,ce,ht,Ft))}finally{js=kn,js===0&&(is(),mi())}},ne.findAllNodes=Nu,ne.findBoundingRects=function(N,F){if(!bn)throw Error(Y(363));F=Nu(N,F),N=[];for(var ce=0;ce<F.length;ce++)N.push(Nr(F[ce]));for(F=N.length-1;0<F;F--){ce=N[F];for(var ht=ce.x,Ft=ht+ce.width,kn=ce.y,si=kn+ce.height,ki=F-1;0<=ki;ki--)if(F!==ki){var ro=N[ki],bo=ro.x,Gs=bo+ro.width,lu=ro.y,Us=lu+ro.height;if(ht>=bo&&kn>=lu&&Ft<=Gs&&si<=Us){N.splice(F,1);break}else if(ht!==bo||ce.width!==ro.width||Us<kn||lu>si){if(!(kn!==lu||ce.height!==ro.height||Gs<ht||bo>Ft)){bo>ht&&(ro.width+=bo-ht,ro.x=ht),Gs<Ft&&(ro.width=Ft-bo),N.splice(F,1);break}}else{lu>kn&&(ro.height+=lu-kn,ro.y=kn),Us<si&&(ro.height=si-lu),N.splice(F,1);break}}}return N},ne.findHostInstance=wf,ne.findHostInstanceWithNoPortals=function(N){return N=tt(N),N===null?null:N.tag===20?N.stateNode.instance:N.stateNode},ne.findHostInstanceWithWarning=function(N){return wf(N)},ne.flushControlled=function(N){var F=js;js|=1;try{rt(99,N)}finally{js=F,js===0&&(is(),mi())}},ne.flushDiscreteUpdates=function(){!(js&49)&&(ih(),Zd())},ne.flushPassiveEffects=Zd,ne.flushSync=Z0,ne.focusWithin=function(N,F){if(!bn)throw Error(Y(363));for(N=xc(N),F=mu(N,F),F=Array.from(F),N=0;N<F.length;){var ce=F[N++];if(!Zr(ce)){if(ce.tag===5&&Ln(ce.stateNode))return!0;for(ce=ce.child;ce!==null;)F.push(ce),ce=ce.sibling}}return!1},ne.getCurrentUpdateLanePriority=function(){return qi},ne.getFindAllNodesFailureDescription=function(N,F){if(!bn)throw Error(Y(363));var ce=0,ht=[];N=[xc(N),0];for(var Ft=0;Ft<N.length;){var kn=N[Ft++],si=N[Ft++],ki=F[si];if((kn.tag!==5||!Zr(kn))&&(Vl(kn,ki)&&(ht.push(Js(ki)),si++,si>ce&&(ce=si)),si<F.length))for(kn=kn.child;kn!==null;)N.push(kn,si),kn=kn.sibling}if(ce<F.length){for(N=[];ce<F.length;ce++)N.push(Js(F[ce]));return`findAllNodes was able to match part of the selector:
  `+(ht.join(" > ")+`

No matching component was found for:
  `)+N.join(" > ")}return null},ne.getPublicRootInstance=function(N){if(N=N.current,!N.child)return null;switch(N.child.tag){case 5:return Qe(N.child.stateNode);default:return N.child.stateNode}},ne.injectIntoDevTools=function(N){if(N={bundleType:N.bundleType,version:N.version,rendererPackageName:N.rendererPackageName,rendererConfig:N.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:id,findFiberByHostInstance:N.findFiberByHostInstance||uh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")N=!1;else{var F=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!F.isDisabled&&F.supportsFiber)try{yr=F.inject(N),Br=F}catch(ce){}N=!0}return N},ne.observeVisibleRects=function(N,F,ce,ht){if(!bn)throw Error(Y(363));N=Nu(N,F);var Ft=Nn(N,ce,ht).disconnect;return{disconnect:function(){Ft()}}},ne.registerMutableSourceForHydration=function(N,F){var ce=F._getVersion;ce=ce(F._source),N.mutableSourceEagerHydrationData==null?N.mutableSourceEagerHydrationData=[F,ce]:N.mutableSourceEagerHydrationData.push(F,ce)},ne.runWithPriority=function(N,F){var ce=qi;try{return qi=N,F()}finally{qi=ce}},ne.shouldSuspend=function(){return!1},ne.unbatchedUpdates=function(N,F){var ce=js;js&=-2,js|=8;try{return N(F)}finally{js=ce,js===0&&(is(),mi())}},ne.updateContainer=function(N,F,ce,ht){var Ft=F.current,kn=rc(),si=Du(Ft);e:if(ce){ce=ce._reactInternals;t:{if(qe(ce)!==ce||ce.tag!==1)throw Error(Y(170));var ki=ce;do{switch(ki.tag){case 3:ki=ki.stateNode.context;break t;case 1:if(Ut(ki.type)){ki=ki.stateNode.__reactInternalMemoizedMergedChildContext;break t}}ki=ki.return}while(ki!==null);throw Error(Y(171))}if(ce.tag===1){var ro=ce.type;if(Ut(ro)){ce=jt(ce,ro,ki);break e}}ce=ki}else ce=En;return F.context===null?F.context=ce:F.pendingContext=ce,F=xr(kn,si),F.payload={element:N},ht=ht===void 0?null:ht,ht!==null&&(F.callback=ht),Ji(Ft,F),zc(Ft,si,kn),si},ne}},13040:function(cn,Ne,A){"use strict";cn.exports=A(69488)},79801:function(cn){(function(Ne,A){cn.exports=A()})(this,function(){"use strict";var Ne=function(Te){return Te instanceof Uint8Array||Te instanceof Uint16Array||Te instanceof Uint32Array||Te instanceof Int8Array||Te instanceof Int16Array||Te instanceof Int32Array||Te instanceof Float32Array||Te instanceof Float64Array||Te instanceof Uint8ClampedArray},A=function(Te,ot){for(var Wt=Object.keys(ot),zn=0;zn<Wt.length;++zn)Te[Wt[zn]]=ot[Wt[zn]];return Te},w=`
`;function B(Te){return typeof atob!="undefined"?atob(Te):"base64:"+Te}function ne(Te){var ot=new Error("(regl) "+Te);throw console.error(ot),ot}function ue(Te,ot){Te||ne(ot)}function j(Te){return Te?": "+Te:""}function q(Te,ot,Wt){Te in ot||ne("unknown parameter ("+Te+")"+j(Wt)+". possible values: "+Object.keys(ot).join())}function Y(Te,ot){Ne(Te)||ne("invalid parameter type"+j(ot)+". must be a typed array")}function K(Te,ot){switch(ot){case"number":return typeof Te=="number";case"object":return typeof Te=="object";case"string":return typeof Te=="string";case"boolean":return typeof Te=="boolean";case"function":return typeof Te=="function";case"undefined":return typeof Te=="undefined";case"symbol":return typeof Te=="symbol"}}function H(Te,ot,Wt){K(Te,ot)||ne("invalid parameter type"+j(Wt)+". expected "+ot+", got "+typeof Te)}function ae(Te,ot){Te>=0&&(Te|0)===Te||ne("invalid parameter type, ("+Te+")"+j(ot)+". must be a nonnegative integer")}function ie(Te,ot,Wt){ot.indexOf(Te)<0&&ne("invalid value"+j(Wt)+". must be one of: "+ot)}var le=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function se(Te){Object.keys(Te).forEach(function(ot){le.indexOf(ot)<0&&ne('invalid regl constructor argument "'+ot+'". must be one of '+le)})}function ge(Te,ot){for(Te=Te+"";Te.length<ot;)Te=" "+Te;return Te}function ye(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function ve(Te,ot){this.number=Te,this.line=ot,this.errors=[]}function fe(Te,ot,Wt){this.file=Te,this.line=ot,this.message=Wt}function Fe(){var Te=new Error,ot=(Te.stack||Te).toString(),Wt=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ot);if(Wt)return Wt[1];var zn=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ot);return zn?zn[1]:"unknown"}function yt(){var Te=new Error,ot=(Te.stack||Te).toString(),Wt=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ot);if(Wt)return Wt[1];var zn=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ot);return zn?zn[1]:"unknown"}function gt(Te,ot){var Wt=Te.split(`
`),zn=1,qn=0,sr={unknown:new ye,0:new ye};sr.unknown.name=sr[0].name=ot||Fe(),sr.unknown.lines.push(new ve(0,""));for(var Qn=0;Qn<Wt.length;++Qn){var Qr=Wt[Qn],Or=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Qr);if(Or)switch(Or[1]){case"line":var bi=/(\d+)(\s+\d+)?/.exec(Or[2]);bi&&(zn=bi[1]|0,bi[2]&&(qn=bi[2]|0,qn in sr||(sr[qn]=new ye)));break;case"define":var Pi=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Or[2]);Pi&&(sr[qn].name=Pi[1]?B(Pi[2]):Pi[2]);break}sr[qn].lines.push(new ve(zn++,Qr))}return Object.keys(sr).forEach(function(zr){var Tr=sr[zr];Tr.lines.forEach(function(Fr){Tr.index[Fr.number]=Fr})}),sr}function pt(Te){var ot=[];return Te.split(`
`).forEach(function(Wt){if(!(Wt.length<5)){var zn=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Wt);zn?ot.push(new fe(zn[1]|0,zn[2]|0,zn[3].trim())):Wt.length>0&&ot.push(new fe("unknown",0,Wt))}}),ot}function lt(Te,ot){ot.forEach(function(Wt){var zn=Te[Wt.file];if(zn){var qn=zn.index[Wt.line];if(qn){qn.errors.push(Wt),zn.hasErrors=!0;return}}Te.unknown.hasErrors=!0,Te.unknown.lines[0].errors.push(Wt)})}function Ke(Te,ot,Wt,zn,qn){if(!Te.getShaderParameter(ot,Te.COMPILE_STATUS)){var sr=Te.getShaderInfoLog(ot),Qn=zn===Te.FRAGMENT_SHADER?"fragment":"vertex";Nt(Wt,"string",Qn+" shader source must be a string",qn);var Qr=gt(Wt,qn),Or=pt(sr);lt(Qr,Or),Object.keys(Qr).forEach(function(bi){var Pi=Qr[bi];if(!Pi.hasErrors)return;var zr=[""],Tr=[""];function Fr(ri,gr){zr.push(ri),Tr.push(gr||"")}Fr("file number "+bi+": "+Pi.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Pi.lines.forEach(function(ri){if(ri.errors.length>0){Fr(ge(ri.number,4)+"|  ","background-color:yellow; font-weight:bold"),Fr(ri.line+w,"color:red; background-color:yellow; font-weight:bold");var gr=0;ri.errors.forEach(function(jr){var Vi=jr.message,da=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Vi);if(da){var na=da[1];switch(Vi=da[2],na){case"assign":na="=";break}gr=Math.max(ri.line.indexOf(na,gr),0)}else gr=0;Fr(ge("| ",6)),Fr(ge("^^^",gr+3)+w,"font-weight:bold"),Fr(ge("| ",6)),Fr(Vi+w,"font-weight:bold")}),Fr(ge("| ",6)+w)}else Fr(ge(ri.number,4)+"|  "),Fr(ri.line+w,"color:red")}),typeof document!="undefined"&&!window.chrome?(Tr[0]=zr.join("%c"),console.log.apply(console,Tr)):console.log(zr.join(""))}),ue.raise("Error compiling "+Qn+" shader, "+Qr[0].name)}}function Ue(Te,ot,Wt,zn,qn){if(!Te.getProgramParameter(ot,Te.LINK_STATUS)){var sr=Te.getProgramInfoLog(ot),Qn=gt(Wt,qn),Qr=gt(zn,qn),Or='Error linking program with vertex shader, "'+Qr[0].name+'", and fragment shader "'+Qn[0].name+'"';typeof document!="undefined"?console.log("%c"+Or+w+"%c"+sr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Or+w+sr),ue.raise(Or)}}function Pt(Te){Te._commandRef=Fe()}function Gt(Te,ot,Wt,zn){Pt(Te);function qn(Or){return Or?zn.id(Or):0}Te._fragId=qn(Te.static.frag),Te._vertId=qn(Te.static.vert);function sr(Or,bi){Object.keys(bi).forEach(function(Pi){Or[zn.id(Pi)]=!0})}var Qn=Te._uniformSet={};sr(Qn,ot.static),sr(Qn,ot.dynamic);var Qr=Te._attributeSet={};sr(Qr,Wt.static),sr(Qr,Wt.dynamic),Te._hasCount="count"in Te.static||"count"in Te.dynamic||"elements"in Te.static||"elements"in Te.dynamic}function rn(Te,ot){var Wt=yt();ne(Te+" in command "+(ot||Fe())+(Wt==="unknown"?"":" called from "+Wt))}function _n(Te,ot,Wt){Te||rn(ot,Wt||Fe())}function qe(Te,ot,Wt,zn){Te in ot||rn("unknown parameter ("+Te+")"+j(Wt)+". possible values: "+Object.keys(ot).join(),zn||Fe())}function Nt(Te,ot,Wt,zn){K(Te,ot)||rn("invalid parameter type"+j(Wt)+". expected "+ot+", got "+typeof Te,zn||Fe())}function ft(Te){Te()}function ln(Te,ot,Wt){Te.texture?ie(Te.texture._texture.internalformat,ot,"unsupported texture format for attachment"):ie(Te.renderbuffer._renderbuffer.format,Wt,"unsupported renderbuffer format for attachment")}var tt=33071,Pe=9728,Qe=9984,He=9985,_t=9986,Bt=9987,At=5120,Je=5121,zt=5122,mn=5123,Ot=5124,Xe=5125,ct=5126,Rt=32819,Oe=32820,Ge=33635,Vt=34042,De=36193,et={};et[At]=et[Je]=1,et[zt]=et[mn]=et[De]=et[Ge]=et[Rt]=et[Oe]=2,et[Ot]=et[Xe]=et[ct]=et[Vt]=4;function Ce(Te,ot){return Te===Oe||Te===Rt||Te===Ge?2:Te===Vt?4:et[Te]*ot}function J(Te){return!(Te&Te-1)&&!!Te}function Le(Te,ot,Wt){var zn,qn=ot.width,sr=ot.height,Qn=ot.channels;ue(qn>0&&qn<=Wt.maxTextureSize&&sr>0&&sr<=Wt.maxTextureSize,"invalid texture shape"),(Te.wrapS!==tt||Te.wrapT!==tt)&&ue(J(qn)&&J(sr),"incompatible wrap mode for texture, both width and height must be power of 2"),ot.mipmask===1?qn!==1&&sr!==1&&ue(Te.minFilter!==Qe&&Te.minFilter!==_t&&Te.minFilter!==He&&Te.minFilter!==Bt,"min filter requires mipmap"):(ue(J(qn)&&J(sr),"texture must be a square power of 2 to support mipmapping"),ue(ot.mipmask===(qn<<1)-1,"missing or incomplete mipmap data")),ot.type===ct&&(Wt.extensions.indexOf("oes_texture_float_linear")<0&&ue(Te.minFilter===Pe&&Te.magFilter===Pe,"filter not supported, must enable oes_texture_float_linear"),ue(!Te.genMipmaps,"mipmap generation not supported with float textures"));var Qr=ot.images;for(zn=0;zn<16;++zn)if(Qr[zn]){var Or=qn>>zn,bi=sr>>zn;ue(ot.mipmask&1<<zn,"missing mipmap data");var Pi=Qr[zn];if(ue(Pi.width===Or&&Pi.height===bi,"invalid shape for mip images"),ue(Pi.format===ot.format&&Pi.internalformat===ot.internalformat&&Pi.type===ot.type,"incompatible type for mip image"),!Pi.compressed)if(Pi.data){var zr=Math.ceil(Ce(Pi.type,Qn)*Or/Pi.unpackAlignment)*Pi.unpackAlignment;ue(Pi.data.byteLength===zr*bi,"invalid data for image, buffer size is inconsistent with image format")}else Pi.element||Pi.copy}else Te.genMipmaps||ue((ot.mipmask&1<<zn)===0,"extra mipmap data");ot.compressed&&ue(!Te.genMipmaps,"mipmap generation for compressed images not supported")}function Jt(Te,ot,Wt,zn){var qn=Te.width,sr=Te.height,Qn=Te.channels;ue(qn>0&&qn<=zn.maxTextureSize&&sr>0&&sr<=zn.maxTextureSize,"invalid texture shape"),ue(qn===sr,"cube map must be square"),ue(ot.wrapS===tt&&ot.wrapT===tt,"wrap mode not supported by cube map");for(var Qr=0;Qr<Wt.length;++Qr){var Or=Wt[Qr];ue(Or.width===qn&&Or.height===sr,"inconsistent cube map face shape"),ot.genMipmaps&&(ue(!Or.compressed,"can not generate mipmap for compressed textures"),ue(Or.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var bi=Or.images,Pi=0;Pi<16;++Pi){var zr=bi[Pi];if(zr){var Tr=qn>>Pi,Fr=sr>>Pi;ue(Or.mipmask&1<<Pi,"missing mipmap data"),ue(zr.width===Tr&&zr.height===Fr,"invalid shape for mip images"),ue(zr.format===Te.format&&zr.internalformat===Te.internalformat&&zr.type===Te.type,"incompatible type for mip image"),zr.compressed||(zr.data?ue(zr.data.byteLength===Tr*Fr*Math.max(Ce(zr.type,Qn),zr.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):zr.element||zr.copy)}}}}var Be=A(ue,{optional:ft,raise:ne,commandRaise:rn,command:_n,parameter:q,commandParameter:qe,constructor:se,type:H,commandType:Nt,isTypedArray:Y,nni:ae,oneOf:ie,shaderError:Ke,linkError:Ue,callSite:yt,saveCommandRef:Pt,saveDrawInfo:Gt,framebufferFormat:ln,guessCommand:Fe,texture2D:Le,textureCube:Jt}),In=0,cr=0;function bn(Te,ot){this.id=In++,this.type=Te,this.data=ot}function ir(Te){return Te.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Nr(Te){if(Te.length===0)return[];var ot=Te.charAt(0),Wt=Te.charAt(Te.length-1);if(Te.length>1&&ot===Wt&&(ot==='"'||ot==="'"))return['"'+ir(Te.substr(1,Te.length-2))+'"'];var zn=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Te);if(zn)return Nr(Te.substr(0,zn.index)).concat(Nr(zn[1])).concat(Nr(Te.substr(zn.index+zn[0].length)));var qn=Te.split(".");if(qn.length===1)return['"'+ir(Te)+'"'];for(var sr=[],Qn=0;Qn<qn.length;++Qn)sr=sr.concat(Nr(qn[Qn]));return sr}function Ar(Te){return"["+Nr(Te).join("][")+"]"}function Zr(Te,ot){return new bn(Te,Ar(ot+""))}function wi(Te){return typeof Te=="function"&&!Te._reglType||Te instanceof bn}function Ln(Te,ot){return typeof Te=="function"?new bn(cr,Te):Te}var Nn={DynamicVariable:bn,define:Zr,isDynamic:wi,unbox:Ln,accessor:Ar},$n={next:typeof requestAnimationFrame=="function"?function(Te){return requestAnimationFrame(Te)}:function(Te){return setTimeout(Te,16)},cancel:typeof cancelAnimationFrame=="function"?function(Te){return cancelAnimationFrame(Te)}:clearTimeout},wn=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function nt(){var Te={"":0},ot=[""];return{id:function(Wt){var zn=Te[Wt];return zn||(zn=Te[Wt]=ot.length,ot.push(Wt),zn)},str:function(Wt){return ot[Wt]}}}function ze(Te,ot,Wt){var zn=document.createElement("canvas");A(zn.style,{border:0,margin:0,padding:0,top:0,left:0}),Te.appendChild(zn),Te===document.body&&(zn.style.position="absolute",A(Te.style,{margin:0,padding:0}));function qn(){var Qr=window.innerWidth,Or=window.innerHeight;if(Te!==document.body){var bi=Te.getBoundingClientRect();Qr=bi.right-bi.left,Or=bi.bottom-bi.top}zn.width=Wt*Qr,zn.height=Wt*Or,A(zn.style,{width:Qr+"px",height:Or+"px"})}var sr;Te!==document.body&&typeof ResizeObserver=="function"?(sr=new ResizeObserver(function(){setTimeout(qn)}),sr.observe(Te)):window.addEventListener("resize",qn,!1);function Qn(){sr?sr.disconnect():window.removeEventListener("resize",qn),Te.removeChild(zn)}return qn(),{canvas:zn,onDestroy:Qn}}function vt(Te,ot){function Wt(zn){try{return Te.getContext(zn,ot)}catch(qn){return null}}return Wt("webgl")||Wt("experimental-webgl")||Wt("webgl-experimental")}function $t(Te){return typeof Te.nodeName=="string"&&typeof Te.appendChild=="function"&&typeof Te.getBoundingClientRect=="function"}function gn(Te){return typeof Te.drawArrays=="function"||typeof Te.drawElements=="function"}function at(Te){return typeof Te=="string"?Te.split():(Be(Array.isArray(Te),"invalid extension array"),Te)}function an(Te){return typeof Te=="string"?(Be(typeof document!="undefined","not supported outside of DOM"),document.querySelector(Te)):Te}function hn(Te){var ot=Te||{},Wt,zn,qn,sr,Qn={},Qr=[],Or=[],bi=typeof window=="undefined"?1:window.devicePixelRatio,Pi=!1,zr=function(ri){ri&&Be.raise(ri)},Tr=function(){};if(typeof ot=="string"?(Be(typeof document!="undefined","selector queries only supported in DOM enviroments"),Wt=document.querySelector(ot),Be(Wt,"invalid query string for element")):typeof ot=="object"?$t(ot)?Wt=ot:gn(ot)?(sr=ot,qn=sr.canvas):(Be.constructor(ot),"gl"in ot?sr=ot.gl:"canvas"in ot?qn=an(ot.canvas):"container"in ot&&(zn=an(ot.container)),"attributes"in ot&&(Qn=ot.attributes,Be.type(Qn,"object","invalid context attributes")),"extensions"in ot&&(Qr=at(ot.extensions)),"optionalExtensions"in ot&&(Or=at(ot.optionalExtensions)),"onDone"in ot&&(Be.type(ot.onDone,"function","invalid or missing onDone callback"),zr=ot.onDone),"profile"in ot&&(Pi=!!ot.profile),"pixelRatio"in ot&&(bi=+ot.pixelRatio,Be(bi>0,"invalid pixel ratio"))):Be.raise("invalid arguments to regl"),Wt&&(Wt.nodeName.toLowerCase()==="canvas"?qn=Wt:zn=Wt),!sr){if(!qn){Be(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Fr=ze(zn||document.body,zr,bi);if(!Fr)return null;qn=Fr.canvas,Tr=Fr.onDestroy}Qn.premultipliedAlpha===void 0&&(Qn.premultipliedAlpha=!0),sr=vt(qn,Qn)}return sr?{gl:sr,canvas:qn,container:zn,extensions:Qr,optionalExtensions:Or,pixelRatio:bi,profile:Pi,onDone:zr,onDestroy:Tr}:(Tr(),zr("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function pr(Te,ot){var Wt={};function zn(Qn){Be.type(Qn,"string","extension name must be string");var Qr=Qn.toLowerCase(),Or;try{Or=Wt[Qr]=Te.getExtension(Qr)}catch(bi){}return!!Or}for(var qn=0;qn<ot.extensions.length;++qn){var sr=ot.extensions[qn];if(!zn(sr))return ot.onDestroy(),ot.onDone('"'+sr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ot.optionalExtensions.forEach(zn),{extensions:Wt,restore:function(){Object.keys(Wt).forEach(function(Qn){if(Wt[Qn]&&!zn(Qn))throw new Error("(regl): error restoring extension "+Qn)})}}}function ur(Te,ot){for(var Wt=Array(Te),zn=0;zn<Te;++zn)Wt[zn]=ot(zn);return Wt}var pi=5120,ar=5121,di=5122,sa=5123,xa=5124,za=5125,Ui=5126;function Ao(Te){for(var ot=16;ot<=1<<28;ot*=16)if(Te<=ot)return ot;return 0}function fs(Te){var ot,Wt;return ot=(Te>65535)<<4,Te>>>=ot,Wt=(Te>255)<<3,Te>>>=Wt,ot|=Wt,Wt=(Te>15)<<2,Te>>>=Wt,ot|=Wt,Wt=(Te>3)<<1,Te>>>=Wt,ot|=Wt,ot|Te>>1}function cs(){var Te=ur(8,function(){return[]});function ot(sr){var Qn=Ao(sr),Qr=Te[fs(Qn)>>2];return Qr.length>0?Qr.pop():new ArrayBuffer(Qn)}function Wt(sr){Te[fs(sr.byteLength)>>2].push(sr)}function zn(sr,Qn){var Qr=null;switch(sr){case pi:Qr=new Int8Array(ot(Qn),0,Qn);break;case ar:Qr=new Uint8Array(ot(Qn),0,Qn);break;case di:Qr=new Int16Array(ot(2*Qn),0,Qn);break;case sa:Qr=new Uint16Array(ot(2*Qn),0,Qn);break;case xa:Qr=new Int32Array(ot(4*Qn),0,Qn);break;case za:Qr=new Uint32Array(ot(4*Qn),0,Qn);break;case Ui:Qr=new Float32Array(ot(4*Qn),0,Qn);break;default:return null}return Qr.length!==Qn?Qr.subarray(0,Qn):Qr}function qn(sr){Wt(sr.buffer)}return{alloc:ot,free:Wt,allocType:zn,freeType:qn}}var ra=cs();ra.zero=cs();var ms=3408,xi=3410,Gn=3411,_e=3412,oi=3413,Ka=3414,Cn=3415,Un=33901,tn=33902,It=3379,Zt=3386,$e=34921,Bn=36347,Yn=36348,or=35661,Ze=35660,je=34930,st=36349,St=34076,En=34024,fn=7936,sn=7937,Pn=7938,Hn=35724,Ut=34047,Yt=36063,Xt=34852,jt=3553,fr=34067,vr=34069,yr=33984,Br=6408,Gi=5126,qi=5121,$i=36160,Wi=36053,Ii=36064,Qa=16384,on=function(Te,ot){var Wt=1;ot.ext_texture_filter_anisotropic&&(Wt=Te.getParameter(Ut));var zn=1,qn=1;ot.webgl_draw_buffers&&(zn=Te.getParameter(Xt),qn=Te.getParameter(Yt));var sr=!!ot.oes_texture_float;if(sr){var Qn=Te.createTexture();Te.bindTexture(jt,Qn),Te.texImage2D(jt,0,Br,1,1,0,Br,Gi,null);var Qr=Te.createFramebuffer();if(Te.bindFramebuffer($i,Qr),Te.framebufferTexture2D($i,Ii,jt,Qn,0),Te.bindTexture(jt,null),Te.checkFramebufferStatus($i)!==Wi)sr=!1;else{Te.viewport(0,0,1,1),Te.clearColor(1,0,0,1),Te.clear(Qa);var Or=ra.allocType(Gi,4);Te.readPixels(0,0,1,1,Br,Gi,Or),Te.getError()?sr=!1:(Te.deleteFramebuffer(Qr),Te.deleteTexture(Qn),sr=Or[0]===1),ra.freeType(Or)}}var bi=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Pi=!0;if(!bi){var zr=Te.createTexture(),Tr=ra.allocType(qi,36);Te.activeTexture(yr),Te.bindTexture(fr,zr),Te.texImage2D(vr,0,Br,3,3,0,Br,qi,Tr),ra.freeType(Tr),Te.bindTexture(fr,null),Te.deleteTexture(zr),Pi=!Te.getError()}return{colorBits:[Te.getParameter(xi),Te.getParameter(Gn),Te.getParameter(_e),Te.getParameter(oi)],depthBits:Te.getParameter(Ka),stencilBits:Te.getParameter(Cn),subpixelBits:Te.getParameter(ms),extensions:Object.keys(ot).filter(function(Fr){return!!ot[Fr]}),maxAnisotropic:Wt,maxDrawbuffers:zn,maxColorAttachments:qn,pointSizeDims:Te.getParameter(Un),lineWidthDims:Te.getParameter(tn),maxViewportDims:Te.getParameter(Zt),maxCombinedTextureUnits:Te.getParameter(or),maxCubeMapSize:Te.getParameter(St),maxRenderbufferSize:Te.getParameter(En),maxTextureUnits:Te.getParameter(je),maxTextureSize:Te.getParameter(It),maxAttributes:Te.getParameter($e),maxVertexUniforms:Te.getParameter(Bn),maxVertexTextureUnits:Te.getParameter(Ze),maxVaryingVectors:Te.getParameter(Yn),maxFragmentUniforms:Te.getParameter(st),glsl:Te.getParameter(Hn),renderer:Te.getParameter(sn),vendor:Te.getParameter(fn),version:Te.getParameter(Pn),readFloat:sr,npotTextureCube:Pi}};function dn(Te){return!!Te&&typeof Te=="object"&&Array.isArray(Te.shape)&&Array.isArray(Te.stride)&&typeof Te.offset=="number"&&Te.shape.length===Te.stride.length&&(Array.isArray(Te.data)||Ne(Te.data))}var jn=function(Te){return Object.keys(Te).map(function(ot){return Te[ot]})},Ur={shape:mt,flatten:Xn};function Yr(Te,ot,Wt){for(var zn=0;zn<ot;++zn)Wt[zn]=Te[zn]}function Et(Te,ot,Wt,zn){for(var qn=0,sr=0;sr<ot;++sr)for(var Qn=Te[sr],Qr=0;Qr<Wt;++Qr)zn[qn++]=Qn[Qr]}function Ct(Te,ot,Wt,zn,qn,sr){for(var Qn=sr,Qr=0;Qr<ot;++Qr)for(var Or=Te[Qr],bi=0;bi<Wt;++bi)for(var Pi=Or[bi],zr=0;zr<zn;++zr)qn[Qn++]=Pi[zr]}function xn(Te,ot,Wt,zn,qn){for(var sr=1,Qn=Wt+1;Qn<ot.length;++Qn)sr*=ot[Qn];var Qr=ot[Wt];if(ot.length-Wt===4){var Or=ot[Wt+1],bi=ot[Wt+2],Pi=ot[Wt+3];for(Qn=0;Qn<Qr;++Qn)Ct(Te[Qn],Or,bi,Pi,zn,qn),qn+=sr}else for(Qn=0;Qn<Qr;++Qn)xn(Te[Qn],ot,Wt+1,zn,qn),qn+=sr}function Xn(Te,ot,Wt,zn){var qn=1;if(ot.length)for(var sr=0;sr<ot.length;++sr)qn*=ot[sr];else qn=0;var Qn=zn||ra.allocType(Wt,qn);switch(ot.length){case 0:break;case 1:Yr(Te,ot[0],Qn);break;case 2:Et(Te,ot[0],ot[1],Qn);break;case 3:Ct(Te,ot[0],ot[1],ot[2],Qn,0);break;default:xn(Te,ot,0,Qn,0)}return Qn}function mt(Te){for(var ot=[],Wt=Te;Wt.length;Wt=Wt[0])ot.push(Wt.length);return ot}var vn={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},tr=5120,Mr=5122,ui=5124,Ri=5121,Aa=5123,Ga=5125,vo=5126,To=5126,Po={int8:tr,int16:Mr,int32:ui,uint8:Ri,uint16:Aa,uint32:Ga,float:vo,float32:To},ds=35048,Za=35040,ks={dynamic:ds,stream:Za,static:35044},oo=Ur.flatten,nu=Ur.shape,wu=35044,Ll=35040,Si=5121,Sn=5126,Qt=[];Qt[5120]=1,Qt[5122]=2,Qt[5124]=4,Qt[5121]=1,Qt[5123]=2,Qt[5125]=4,Qt[5126]=4;function rr(Te){return vn[Object.prototype.toString.call(Te)]|0}function rt(Te,ot){for(var Wt=0;Wt<ot.length;++Wt)Te[Wt]=ot[Wt]}function ai(Te,ot,Wt,zn,qn,sr,Qn){for(var Qr=0,Or=0;Or<Wt;++Or)for(var bi=0;bi<zn;++bi)Te[Qr++]=ot[qn*Or+sr*bi+Qn]}function mi(Te,ot,Wt,zn){var qn=0,sr={};function Qn(gr){this.id=qn++,this.buffer=Te.createBuffer(),this.type=gr,this.usage=wu,this.byteLength=0,this.dimension=1,this.dtype=Si,this.persistentData=null,Wt.profile&&(this.stats={size:0})}Qn.prototype.bind=function(){Te.bindBuffer(this.type,this.buffer)},Qn.prototype.destroy=function(){Tr(this)};var Qr=[];function Or(gr,jr){var Vi=Qr.pop();return Vi||(Vi=new Qn(gr)),Vi.bind(),zr(Vi,jr,Ll,0,1,!1),Vi}function bi(gr){Qr.push(gr)}function Pi(gr,jr,Vi){gr.byteLength=jr.byteLength,Te.bufferData(gr.type,jr,Vi)}function zr(gr,jr,Vi,da,na,Ja){var ka;if(gr.usage=Vi,Array.isArray(jr)){if(gr.dtype=da||Sn,jr.length>0){var no;if(Array.isArray(jr[0])){ka=nu(jr);for(var aa=1,qa=1;qa<ka.length;++qa)aa*=ka[qa];gr.dimension=aa,no=oo(jr,ka,gr.dtype),Pi(gr,no,Vi),Ja?gr.persistentData=no:ra.freeType(no)}else if(typeof jr[0]=="number"){gr.dimension=na;var _o=ra.allocType(gr.dtype,jr.length);rt(_o,jr),Pi(gr,_o,Vi),Ja?gr.persistentData=_o:ra.freeType(_o)}else Ne(jr[0])?(gr.dimension=jr[0].length,gr.dtype=da||rr(jr[0])||Sn,no=oo(jr,[jr.length,jr[0].length],gr.dtype),Pi(gr,no,Vi),Ja?gr.persistentData=no:ra.freeType(no)):Be.raise("invalid buffer data")}}else if(Ne(jr))gr.dtype=da||rr(jr),gr.dimension=na,Pi(gr,jr,Vi),Ja&&(gr.persistentData=new Uint8Array(new Uint8Array(jr.buffer)));else if(dn(jr)){ka=jr.shape;var Ts=jr.stride,to=jr.offset,Ir=0,me=0,bu=0,kt=0;ka.length===1?(Ir=ka[0],me=1,bu=Ts[0],kt=0):ka.length===2?(Ir=ka[0],me=ka[1],bu=Ts[0],kt=Ts[1]):Be.raise("invalid shape"),gr.dtype=da||rr(jr.data)||Sn,gr.dimension=me;var Ls=ra.allocType(gr.dtype,Ir*me);ai(Ls,jr.data,Ir,me,bu,kt,to),Pi(gr,Ls,Vi),Ja?gr.persistentData=Ls:ra.freeType(Ls)}else jr instanceof ArrayBuffer?(gr.dtype=Si,gr.dimension=na,Pi(gr,jr,Vi),Ja&&(gr.persistentData=new Uint8Array(new Uint8Array(jr)))):Be.raise("invalid buffer data")}function Tr(gr){ot.bufferCount--,zn(gr);var jr=gr.buffer;Be(jr,"buffer must not be deleted already"),Te.deleteBuffer(jr),gr.buffer=null,delete sr[gr.id]}function Fr(gr,jr,Vi,da){ot.bufferCount++;var na=new Qn(jr);sr[na.id]=na;function Ja(aa){var qa=wu,_o=null,Ts=0,to=0,Ir=1;return Array.isArray(aa)||Ne(aa)||dn(aa)||aa instanceof ArrayBuffer?_o=aa:typeof aa=="number"?Ts=aa|0:aa&&(Be.type(aa,"object","buffer arguments must be an object, a number or an array"),"data"in aa&&(Be(_o===null||Array.isArray(_o)||Ne(_o)||dn(_o),"invalid data for buffer"),_o=aa.data),"usage"in aa&&(Be.parameter(aa.usage,ks,"invalid buffer usage"),qa=ks[aa.usage]),"type"in aa&&(Be.parameter(aa.type,Po,"invalid buffer type"),to=Po[aa.type]),"dimension"in aa&&(Be.type(aa.dimension,"number","invalid dimension"),Ir=aa.dimension|0),"length"in aa&&(Be.nni(Ts,"buffer length must be a nonnegative integer"),Ts=aa.length|0)),na.bind(),_o?zr(na,_o,qa,to,Ir,da):(Ts&&Te.bufferData(na.type,Ts,qa),na.dtype=to||Si,na.usage=qa,na.dimension=Ir,na.byteLength=Ts),Wt.profile&&(na.stats.size=na.byteLength*Qt[na.dtype]),Ja}function ka(aa,qa){Be(qa+aa.byteLength<=na.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+aa.byteLength+" starting from offset "+qa+" to a buffer of size "+na.byteLength),Te.bufferSubData(na.type,qa,aa)}function no(aa,qa){var _o=(qa||0)|0,Ts;if(na.bind(),Ne(aa)||aa instanceof ArrayBuffer)ka(aa,_o);else if(Array.isArray(aa)){if(aa.length>0)if(typeof aa[0]=="number"){var to=ra.allocType(na.dtype,aa.length);rt(to,aa),ka(to,_o),ra.freeType(to)}else if(Array.isArray(aa[0])||Ne(aa[0])){Ts=nu(aa);var Ir=oo(aa,Ts,na.dtype);ka(Ir,_o),ra.freeType(Ir)}else Be.raise("invalid buffer data")}else if(dn(aa)){Ts=aa.shape;var me=aa.stride,bu=0,kt=0,Ls=0,ll=0;Ts.length===1?(bu=Ts[0],kt=1,Ls=me[0],ll=0):Ts.length===2?(bu=Ts[0],kt=Ts[1],Ls=me[0],ll=me[1]):Be.raise("invalid shape");var Gu=Array.isArray(aa.data)?na.dtype:rr(aa.data),cl=ra.allocType(Gu,bu*kt);ai(cl,aa.data,bu,kt,Ls,ll,aa.offset),ka(cl,_o),ra.freeType(cl)}else Be.raise("invalid data for buffer subdata");return Ja}return Vi||Ja(gr),Ja._reglType="buffer",Ja._buffer=na,Ja.subdata=no,Wt.profile&&(Ja.stats=na.stats),Ja.destroy=function(){Tr(na)},Ja}function ri(){jn(sr).forEach(function(gr){gr.buffer=Te.createBuffer(),Te.bindBuffer(gr.type,gr.buffer),Te.bufferData(gr.type,gr.persistentData||gr.byteLength,gr.usage)})}return Wt.profile&&(ot.getTotalBufferSize=function(){var gr=0;return Object.keys(sr).forEach(function(jr){gr+=sr[jr].stats.size}),gr}),{create:Fr,createStream:Or,destroyStream:bi,clear:function(){jn(sr).forEach(Tr),Qr.forEach(Tr)},getBuffer:function(gr){return gr&&gr._buffer instanceof Qn?gr._buffer:null},restore:ri,_initBuffer:zr}}var _a=0,Xi=0,ia=1,ua=1,co=4,Ro=4,As={points:_a,point:Xi,lines:ia,line:ua,triangles:co,triangle:Ro,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},So=0,ao=1,Wa=4,ns=5120,Do=5121,ls=5122,Bs=5123,Xo=5124,wt=5125,er=34963,nn=35040,wr=35044;function hi(Te,ot,Wt,zn){var qn={},sr=0,Qn={uint8:Do,uint16:Bs};ot.oes_element_index_uint&&(Qn.uint32=wt);function Qr(ri){this.id=sr++,qn[this.id]=this,this.buffer=ri,this.primType=Wa,this.vertCount=0,this.type=0}Qr.prototype.bind=function(){this.buffer.bind()};var Or=[];function bi(ri){var gr=Or.pop();return gr||(gr=new Qr(Wt.create(null,er,!0,!1)._buffer)),zr(gr,ri,nn,-1,-1,0,0),gr}function Pi(ri){Or.push(ri)}function zr(ri,gr,jr,Vi,da,na,Ja){ri.buffer.bind();var ka;if(gr){var no=Ja;!Ja&&(!Ne(gr)||dn(gr)&&!Ne(gr.data))&&(no=ot.oes_element_index_uint?wt:Bs),Wt._initBuffer(ri.buffer,gr,jr,no,3)}else Te.bufferData(er,na,jr),ri.buffer.dtype=ka||Do,ri.buffer.usage=jr,ri.buffer.dimension=3,ri.buffer.byteLength=na;if(ka=Ja,!Ja){switch(ri.buffer.dtype){case Do:case ns:ka=Do;break;case Bs:case ls:ka=Bs;break;case wt:case Xo:ka=wt;break;default:Be.raise("unsupported type for element array")}ri.buffer.dtype=ka}ri.type=ka,Be(ka!==wt||!!ot.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var aa=da;aa<0&&(aa=ri.buffer.byteLength,ka===Bs?aa>>=1:ka===wt&&(aa>>=2)),ri.vertCount=aa;var qa=Vi;if(Vi<0){qa=Wa;var _o=ri.buffer.dimension;_o===1&&(qa=So),_o===2&&(qa=ao),_o===3&&(qa=Wa)}ri.primType=qa}function Tr(ri){zn.elementsCount--,Be(ri.buffer!==null,"must not double destroy elements"),delete qn[ri.id],ri.buffer.destroy(),ri.buffer=null}function Fr(ri,gr){var jr=Wt.create(null,er,!0),Vi=new Qr(jr._buffer);zn.elementsCount++;function da(na){if(!na)jr(),Vi.primType=Wa,Vi.vertCount=0,Vi.type=Do;else if(typeof na=="number")jr(na),Vi.primType=Wa,Vi.vertCount=na|0,Vi.type=Do;else{var Ja=null,ka=wr,no=-1,aa=-1,qa=0,_o=0;Array.isArray(na)||Ne(na)||dn(na)?Ja=na:(Be.type(na,"object","invalid arguments for elements"),"data"in na&&(Ja=na.data,Be(Array.isArray(Ja)||Ne(Ja)||dn(Ja),"invalid data for element buffer")),"usage"in na&&(Be.parameter(na.usage,ks,"invalid element buffer usage"),ka=ks[na.usage]),"primitive"in na&&(Be.parameter(na.primitive,As,"invalid element buffer primitive"),no=As[na.primitive]),"count"in na&&(Be(typeof na.count=="number"&&na.count>=0,"invalid vertex count for elements"),aa=na.count|0),"type"in na&&(Be.parameter(na.type,Qn,"invalid buffer type"),_o=Qn[na.type]),"length"in na?qa=na.length|0:(qa=aa,_o===Bs||_o===ls?qa*=2:(_o===wt||_o===Xo)&&(qa*=4))),zr(Vi,Ja,ka,no,aa,qa,_o)}return da}return da(ri),da._reglType="elements",da._elements=Vi,da.subdata=function(na,Ja){return jr.subdata(na,Ja),da},da.destroy=function(){Tr(Vi)},da}return{create:Fr,createStream:bi,destroyStream:Pi,getElements:function(ri){return typeof ri=="function"&&ri._elements instanceof Qr?ri._elements:null},clear:function(){jn(qn).forEach(Tr)}}}var gi=new Float32Array(1),xr=new Uint32Array(gi.buffer),Ji=5123;function Ai(Te){for(var ot=ra.allocType(Ji,Te.length),Wt=0;Wt<Te.length;++Wt)if(isNaN(Te[Wt]))ot[Wt]=65535;else if(Te[Wt]===1/0)ot[Wt]=31744;else if(Te[Wt]===-1/0)ot[Wt]=64512;else{gi[0]=Te[Wt];var zn=xr[0],qn=zn>>>31<<15,sr=(zn<<1>>>24)-127,Qn=zn>>13&1023;if(sr<-24)ot[Wt]=qn;else if(sr<-14){var Qr=-14-sr;ot[Wt]=qn+(Qn+1024>>Qr)}else sr>15?ot[Wt]=qn+31744:ot[Wt]=qn+(sr+15<<10)+Qn}return ot}function Mi(Te){return Array.isArray(Te)||Ne(Te)}var po=function(Te){return!(Te&Te-1)&&!!Te},ha=34467,Qo=3553,Cs=34067,Oo=34069,su=6408,ru=6406,xt=6407,Zn=6409,Cr=6410,Di=32854,wa=32855,Eo=36194,yo=32819,Wr=32820,hs=33635,Ma=34042,iu=6402,au=34041,as=35904,$s=35906,Xs=36193,Lu=33776,Mu=33777,Nl=33778,Ks=33779,nl=35986,hu=35987,oc=34798,_l=35840,Ku=35841,Cf=35842,bc=35843,Sr=36196,li=5121,Ci=5123,ti=5125,ea=5126,mo=10242,so=10243,Io=10497,Ha=33071,wo=33648,zo=10240,rs=10241,Vo=9728,Fs=9729,_u=9984,bs=9985,Vs=9986,vi=9987,fa=33170,ta=4352,fo=4353,Ko=4354,es=34046,Mo=3317,ys=37440,Bc=37441,ec=37443,ff=37444,ld=33984,Ol=[_u,Vs,bs,vi],al=[0,Zn,Cr,xt,su],Dl={};Dl[Zn]=Dl[ru]=Dl[iu]=1,Dl[au]=Dl[Cr]=2,Dl[xt]=Dl[as]=3,Dl[su]=Dl[$s]=4;function Vc(Te){return"[object "+Te+"]"}var Qs=Vc("HTMLCanvasElement"),$u=Vc("OffscreenCanvas"),Ru=Vc("CanvasRenderingContext2D"),Wl=Vc("ImageBitmap"),tc=Vc("HTMLImageElement"),Ec=Vc("HTMLVideoElement"),cd=Object.keys(vn).concat([Qs,$u,Ru,Wl,tc,Ec]),wc=[];wc[li]=1,wc[ea]=4,wc[Xs]=2,wc[Ci]=2,wc[ti]=4;var Tl=[];Tl[Di]=2,Tl[wa]=2,Tl[Eo]=2,Tl[au]=4,Tl[Lu]=.5,Tl[Mu]=.5,Tl[Nl]=1,Tl[Ks]=1,Tl[nl]=.5,Tl[hu]=1,Tl[oc]=1,Tl[_l]=.5,Tl[Ku]=.25,Tl[Cf]=.5,Tl[bc]=.25,Tl[Sr]=.5;function ed(Te){return Array.isArray(Te)&&(Te.length===0||typeof Te[0]=="number")}function Fc(Te){if(!Array.isArray(Te))return!1;var ot=Te.length;return!(ot===0||!Mi(Te[0]))}function hc(Te){return Object.prototype.toString.call(Te)}function Sd(Te){return hc(Te)===Qs}function Oh(Te){return hc(Te)===$u}function Fd(Te){return hc(Te)===Ru}function $d(Te){return hc(Te)===Wl}function Xd(Te){return hc(Te)===tc}function fd(Te){return hc(Te)===Ec}function Mc(Te){if(!Te)return!1;var ot=hc(Te);return cd.indexOf(ot)>=0?!0:ed(Te)||Fc(Te)||dn(Te)}function Uc(Te){return vn[Object.prototype.toString.call(Te)]|0}function md(Te,ot){var Wt=ot.length;switch(Te.type){case li:case Ci:case ti:case ea:var zn=ra.allocType(Te.type,Wt);zn.set(ot),Te.data=zn;break;case Xs:Te.data=Ai(ot);break;default:Be.raise("unsupported texture type, must specify a typed array")}}function vd(Te,ot){return ra.allocType(Te.type===Xs?ea:Te.type,ot)}function yd(Te,ot){Te.type===Xs?(Te.data=Ai(ot),ra.freeType(ot)):Te.data=ot}function df(Te,ot,Wt,zn,qn,sr){for(var Qn=Te.width,Qr=Te.height,Or=Te.channels,bi=Qn*Qr*Or,Pi=vd(Te,bi),zr=0,Tr=0;Tr<Qr;++Tr)for(var Fr=0;Fr<Qn;++Fr)for(var ri=0;ri<Or;++ri)Pi[zr++]=ot[Wt*Fr+zn*Tr+qn*ri+sr];yd(Te,Pi)}function Ef(Te,ot,Wt,zn,qn,sr){var Qn;if(typeof Tl[Te]!="undefined"?Qn=Tl[Te]:Qn=Dl[Te]*wc[ot],sr&&(Qn*=6),qn){for(var Qr=0,Or=Wt;Or>=1;)Qr+=Qn*Or*Or,Or/=2;return Qr}else return Qn*Wt*zn}function Yf(Te,ot,Wt,zn,qn,sr,Qn){var Qr={"don't care":ta,"dont care":ta,nice:Ko,fast:fo},Or={repeat:Io,clamp:Ha,mirror:wo},bi={nearest:Vo,linear:Fs},Pi=A({mipmap:vi,"nearest mipmap nearest":_u,"linear mipmap nearest":bs,"nearest mipmap linear":Vs,"linear mipmap linear":vi},bi),zr={none:0,browser:ff},Tr={uint8:li,rgba4:yo,rgb565:hs,"rgb5 a1":Wr},Fr={alpha:ru,luminance:Zn,"luminance alpha":Cr,rgb:xt,rgba:su,rgba4:Di,"rgb5 a1":wa,rgb565:Eo},ri={};ot.ext_srgb&&(Fr.srgb=as,Fr.srgba=$s),ot.oes_texture_float&&(Tr.float32=Tr.float=ea),ot.oes_texture_half_float&&(Tr.float16=Tr["half float"]=Xs),ot.webgl_depth_texture&&(A(Fr,{depth:iu,"depth stencil":au}),A(Tr,{uint16:Ci,uint32:ti,"depth stencil":Ma})),ot.webgl_compressed_texture_s3tc&&A(ri,{"rgb s3tc dxt1":Lu,"rgba s3tc dxt1":Mu,"rgba s3tc dxt3":Nl,"rgba s3tc dxt5":Ks}),ot.webgl_compressed_texture_atc&&A(ri,{"rgb atc":nl,"rgba atc explicit alpha":hu,"rgba atc interpolated alpha":oc}),ot.webgl_compressed_texture_pvrtc&&A(ri,{"rgb pvrtc 4bppv1":_l,"rgb pvrtc 2bppv1":Ku,"rgba pvrtc 4bppv1":Cf,"rgba pvrtc 2bppv1":bc}),ot.webgl_compressed_texture_etc1&&(ri["rgb etc1"]=Sr);var gr=Array.prototype.slice.call(Te.getParameter(ha));Object.keys(ri).forEach(function(qr){var Ra=ri[qr];gr.indexOf(Ra)>=0&&(Fr[qr]=Ra)});var jr=Object.keys(Fr);Wt.textureFormats=jr;var Vi=[];Object.keys(Fr).forEach(function(qr){var Ra=Fr[qr];Vi[Ra]=qr});var da=[];Object.keys(Tr).forEach(function(qr){var Ra=Tr[qr];da[Ra]=qr});var na=[];Object.keys(bi).forEach(function(qr){var Ra=bi[qr];na[Ra]=qr});var Ja=[];Object.keys(Pi).forEach(function(qr){var Ra=Pi[qr];Ja[Ra]=qr});var ka=[];Object.keys(Or).forEach(function(qr){var Ra=Or[qr];ka[Ra]=qr});var no=jr.reduce(function(qr,Ra){var La=Fr[Ra];return La===Zn||La===ru||La===Zn||La===Cr||La===iu||La===au||ot.ext_srgb&&(La===as||La===$s)?qr[La]=La:La===wa||Ra.indexOf("rgba")>=0?qr[La]=su:qr[La]=xt,qr},{});function aa(){this.internalformat=su,this.format=su,this.type=li,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=ff,this.width=0,this.height=0,this.channels=0}function qa(qr,Ra){qr.internalformat=Ra.internalformat,qr.format=Ra.format,qr.type=Ra.type,qr.compressed=Ra.compressed,qr.premultiplyAlpha=Ra.premultiplyAlpha,qr.flipY=Ra.flipY,qr.unpackAlignment=Ra.unpackAlignment,qr.colorSpace=Ra.colorSpace,qr.width=Ra.width,qr.height=Ra.height,qr.channels=Ra.channels}function _o(qr,Ra){if(!(typeof Ra!="object"||!Ra)){if("premultiplyAlpha"in Ra&&(Be.type(Ra.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),qr.premultiplyAlpha=Ra.premultiplyAlpha),"flipY"in Ra&&(Be.type(Ra.flipY,"boolean","invalid texture flip"),qr.flipY=Ra.flipY),"alignment"in Ra&&(Be.oneOf(Ra.alignment,[1,2,4,8],"invalid texture unpack alignment"),qr.unpackAlignment=Ra.alignment),"colorSpace"in Ra&&(Be.parameter(Ra.colorSpace,zr,"invalid colorSpace"),qr.colorSpace=zr[Ra.colorSpace]),"type"in Ra){var La=Ra.type;Be(ot.oes_texture_float||!(La==="float"||La==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),Be(ot.oes_texture_half_float||!(La==="half float"||La==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Be(ot.webgl_depth_texture||!(La==="uint16"||La==="uint32"||La==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Be.parameter(La,Tr,"invalid texture type"),qr.type=Tr[La]}var _s=qr.width,Al=qr.height,mf=qr.channels,Kn=!1;"shape"in Ra?(Be(Array.isArray(Ra.shape)&&Ra.shape.length>=2,"shape must be an array"),_s=Ra.shape[0],Al=Ra.shape[1],Ra.shape.length===3&&(mf=Ra.shape[2],Be(mf>0&&mf<=4,"invalid number of channels"),Kn=!0),Be(_s>=0&&_s<=Wt.maxTextureSize,"invalid width"),Be(Al>=0&&Al<=Wt.maxTextureSize,"invalid height")):("radius"in Ra&&(_s=Al=Ra.radius,Be(_s>=0&&_s<=Wt.maxTextureSize,"invalid radius")),"width"in Ra&&(_s=Ra.width,Be(_s>=0&&_s<=Wt.maxTextureSize,"invalid width")),"height"in Ra&&(Al=Ra.height,Be(Al>=0&&Al<=Wt.maxTextureSize,"invalid height")),"channels"in Ra&&(mf=Ra.channels,Be(mf>0&&mf<=4,"invalid number of channels"),Kn=!0)),qr.width=_s|0,qr.height=Al|0,qr.channels=mf|0;var Dr=!1;if("format"in Ra){var ii=Ra.format;Be(ot.webgl_depth_texture||!(ii==="depth"||ii==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Be.parameter(ii,Fr,"invalid texture format");var Pa=qr.internalformat=Fr[ii];qr.format=no[Pa],ii in Tr&&("type"in Ra||(qr.type=Tr[ii])),ii in ri&&(qr.compressed=!0),Dr=!0}!Kn&&Dr?qr.channels=Dl[qr.format]:Kn&&!Dr?qr.channels!==al[qr.format]&&(qr.format=qr.internalformat=al[qr.channels]):Dr&&Kn&&Be(qr.channels===Dl[qr.format],"number of channels inconsistent with specified format")}}function Ts(qr){Te.pixelStorei(ys,qr.flipY),Te.pixelStorei(Bc,qr.premultiplyAlpha),Te.pixelStorei(ec,qr.colorSpace),Te.pixelStorei(Mo,qr.unpackAlignment)}function to(){aa.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ir(qr,Ra){var La=null;if(Mc(Ra)?La=Ra:Ra&&(Be.type(Ra,"object","invalid pixel data type"),_o(qr,Ra),"x"in Ra&&(qr.xOffset=Ra.x|0),"y"in Ra&&(qr.yOffset=Ra.y|0),Mc(Ra.data)&&(La=Ra.data)),Be(!qr.compressed||La instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Ra.copy){Be(!La,"can not specify copy and data field for the same texture");var _s=qn.viewportWidth,Al=qn.viewportHeight;qr.width=qr.width||_s-qr.xOffset,qr.height=qr.height||Al-qr.yOffset,qr.needsCopy=!0,Be(qr.xOffset>=0&&qr.xOffset<_s&&qr.yOffset>=0&&qr.yOffset<Al&&qr.width>0&&qr.width<=_s&&qr.height>0&&qr.height<=Al,"copy texture read out of bounds")}else if(!La)qr.width=qr.width||1,qr.height=qr.height||1,qr.channels=qr.channels||4;else if(Ne(La))qr.channels=qr.channels||4,qr.data=La,!("type"in Ra)&&qr.type===li&&(qr.type=Uc(La));else if(ed(La))qr.channels=qr.channels||4,md(qr,La),qr.alignment=1,qr.needsFree=!0;else if(dn(La)){var mf=La.data;!Array.isArray(mf)&&qr.type===li&&(qr.type=Uc(mf));var Kn=La.shape,Dr=La.stride,ii,Pa,Na,Oi,Bi,Ki;Kn.length===3?(Na=Kn[2],Ki=Dr[2]):(Be(Kn.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Na=1,Ki=1),ii=Kn[0],Pa=Kn[1],Oi=Dr[0],Bi=Dr[1],qr.alignment=1,qr.width=ii,qr.height=Pa,qr.channels=Na,qr.format=qr.internalformat=al[Na],qr.needsFree=!0,df(qr,mf,Oi,Bi,Ki,La.offset)}else if(Sd(La)||Oh(La)||Fd(La))Sd(La)||Oh(La)?qr.element=La:qr.element=La.canvas,qr.width=qr.element.width,qr.height=qr.element.height,qr.channels=4;else if($d(La))qr.element=La,qr.width=La.width,qr.height=La.height,qr.channels=4;else if(Xd(La))qr.element=La,qr.width=La.naturalWidth,qr.height=La.naturalHeight,qr.channels=4;else if(fd(La))qr.element=La,qr.width=La.videoWidth,qr.height=La.videoHeight,qr.channels=4;else if(Fc(La)){var Xr=qr.width||La[0].length,Ei=qr.height||La.length,Er=qr.channels;Mi(La[0][0])?Er=Er||La[0][0].length:Er=Er||1;for(var Fi=Ur.shape(La),ma=1,eo=0;eo<Fi.length;++eo)ma*=Fi[eo];var lo=vd(qr,ma);Ur.flatten(La,Fi,"",lo),yd(qr,lo),qr.alignment=1,qr.width=Xr,qr.height=Ei,qr.channels=Er,qr.format=qr.internalformat=al[Er],qr.needsFree=!0}qr.type===ea?Be(Wt.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):qr.type===Xs&&Be(Wt.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function me(qr,Ra,La){var _s=qr.element,Al=qr.data,mf=qr.internalformat,Kn=qr.format,Dr=qr.type,ii=qr.width,Pa=qr.height;Ts(qr),_s?Te.texImage2D(Ra,La,Kn,Kn,Dr,_s):qr.compressed?Te.compressedTexImage2D(Ra,La,mf,ii,Pa,0,Al):qr.needsCopy?(zn(),Te.copyTexImage2D(Ra,La,Kn,qr.xOffset,qr.yOffset,ii,Pa,0)):Te.texImage2D(Ra,La,Kn,ii,Pa,0,Kn,Dr,Al||null)}function bu(qr,Ra,La,_s,Al){var mf=qr.element,Kn=qr.data,Dr=qr.internalformat,ii=qr.format,Pa=qr.type,Na=qr.width,Oi=qr.height;Ts(qr),mf?Te.texSubImage2D(Ra,Al,La,_s,ii,Pa,mf):qr.compressed?Te.compressedTexSubImage2D(Ra,Al,La,_s,Dr,Na,Oi,Kn):qr.needsCopy?(zn(),Te.copyTexSubImage2D(Ra,Al,La,_s,qr.xOffset,qr.yOffset,Na,Oi)):Te.texSubImage2D(Ra,Al,La,_s,Na,Oi,ii,Pa,Kn)}var kt=[];function Ls(){return kt.pop()||new to}function ll(qr){qr.needsFree&&ra.freeType(qr.data),to.call(qr),kt.push(qr)}function Gu(){aa.call(this),this.genMipmaps=!1,this.mipmapHint=ta,this.mipmask=0,this.images=Array(16)}function cl(qr,Ra,La){var _s=qr.images[0]=Ls();qr.mipmask=1,_s.width=qr.width=Ra,_s.height=qr.height=La,_s.channels=qr.channels=4}function dl(qr,Ra){var La=null;if(Mc(Ra))La=qr.images[0]=Ls(),qa(La,qr),Ir(La,Ra),qr.mipmask=1;else if(_o(qr,Ra),Array.isArray(Ra.mipmap))for(var _s=Ra.mipmap,Al=0;Al<_s.length;++Al)La=qr.images[Al]=Ls(),qa(La,qr),La.width>>=Al,La.height>>=Al,Ir(La,_s[Al]),qr.mipmask|=1<<Al;else La=qr.images[0]=Ls(),qa(La,qr),Ir(La,Ra),qr.mipmask=1;qa(qr,qr.images[0]),qr.compressed&&(qr.internalformat===Lu||qr.internalformat===Mu||qr.internalformat===Nl||qr.internalformat===Ks)&&Be(qr.width%4===0&&qr.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function pd(qr,Ra){for(var La=qr.images,_s=0;_s<La.length;++_s){if(!La[_s])return;me(La[_s],Ra,_s)}}var gd=[];function ku(){var qr=gd.pop()||new Gu;aa.call(qr),qr.mipmask=0;for(var Ra=0;Ra<16;++Ra)qr.images[Ra]=null;return qr}function Rf(qr){for(var Ra=qr.images,La=0;La<Ra.length;++La)Ra[La]&&ll(Ra[La]),Ra[La]=null;gd.push(qr)}function sl(){this.minFilter=Vo,this.magFilter=Vo,this.wrapS=Ha,this.wrapT=Ha,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ta}function af(qr,Ra){if("min"in Ra){var La=Ra.min;Be.parameter(La,Pi),qr.minFilter=Pi[La],Ol.indexOf(qr.minFilter)>=0&&!("faces"in Ra)&&(qr.genMipmaps=!0)}if("mag"in Ra){var _s=Ra.mag;Be.parameter(_s,bi),qr.magFilter=bi[_s]}var Al=qr.wrapS,mf=qr.wrapT;if("wrap"in Ra){var Kn=Ra.wrap;typeof Kn=="string"?(Be.parameter(Kn,Or),Al=mf=Or[Kn]):Array.isArray(Kn)&&(Be.parameter(Kn[0],Or),Be.parameter(Kn[1],Or),Al=Or[Kn[0]],mf=Or[Kn[1]])}else{if("wrapS"in Ra){var Dr=Ra.wrapS;Be.parameter(Dr,Or),Al=Or[Dr]}if("wrapT"in Ra){var ii=Ra.wrapT;Be.parameter(ii,Or),mf=Or[ii]}}if(qr.wrapS=Al,qr.wrapT=mf,"anisotropic"in Ra){var Pa=Ra.anisotropic;Be(typeof Pa=="number"&&Pa>=1&&Pa<=Wt.maxAnisotropic,"aniso samples must be between 1 and "),qr.anisotropic=Ra.anisotropic}if("mipmap"in Ra){var Na=!1;switch(typeof Ra.mipmap){case"string":Be.parameter(Ra.mipmap,Qr,"invalid mipmap hint"),qr.mipmapHint=Qr[Ra.mipmap],qr.genMipmaps=!0,Na=!0;break;case"boolean":Na=qr.genMipmaps=Ra.mipmap;break;case"object":Be(Array.isArray(Ra.mipmap),"invalid mipmap type"),qr.genMipmaps=!1,Na=!0;break;default:Be.raise("invalid mipmap type")}Na&&!("min"in Ra)&&(qr.minFilter=_u)}}function Qc(qr,Ra){Te.texParameteri(Ra,rs,qr.minFilter),Te.texParameteri(Ra,zo,qr.magFilter),Te.texParameteri(Ra,mo,qr.wrapS),Te.texParameteri(Ra,so,qr.wrapT),ot.ext_texture_filter_anisotropic&&Te.texParameteri(Ra,es,qr.anisotropic),qr.genMipmaps&&(Te.hint(fa,qr.mipmapHint),Te.generateMipmap(Ra))}var Pf=0,If={},wd=Wt.maxTextureUnits,Rc=Array(wd).map(function(){return null});function Bu(qr){aa.call(this),this.mipmask=0,this.internalformat=su,this.id=Pf++,this.refCount=1,this.target=qr,this.texture=Te.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new sl,Qn.profile&&(this.stats={size:0})}function of(qr){Te.activeTexture(ld),Te.bindTexture(qr.target,qr.texture)}function El(){var qr=Rc[0];qr?Te.bindTexture(qr.target,qr.texture):Te.bindTexture(Qo,null)}function vs(qr){var Ra=qr.texture;Be(Ra,"must not double destroy texture");var La=qr.unit,_s=qr.target;La>=0&&(Te.activeTexture(ld+La),Te.bindTexture(_s,null),Rc[La]=null),Te.deleteTexture(Ra),qr.texture=null,qr.params=null,qr.pixels=null,qr.refCount=0,delete If[qr.id],sr.textureCount--}A(Bu.prototype,{bind:function(){var qr=this;qr.bindCount+=1;var Ra=qr.unit;if(Ra<0){for(var La=0;La<wd;++La){var _s=Rc[La];if(_s){if(_s.bindCount>0)continue;_s.unit=-1}Rc[La]=qr,Ra=La;break}Ra>=wd&&Be.raise("insufficient number of texture units"),Qn.profile&&sr.maxTextureUnits<Ra+1&&(sr.maxTextureUnits=Ra+1),qr.unit=Ra,Te.activeTexture(ld+Ra),Te.bindTexture(qr.target,qr.texture)}return Ra},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&vs(this)}});function qs(qr,Ra){var La=new Bu(Qo);If[La.id]=La,sr.textureCount++;function _s(Kn,Dr){var ii=La.texInfo;sl.call(ii);var Pa=ku();return typeof Kn=="number"?typeof Dr=="number"?cl(Pa,Kn|0,Dr|0):cl(Pa,Kn|0,Kn|0):Kn?(Be.type(Kn,"object","invalid arguments to regl.texture"),af(ii,Kn),dl(Pa,Kn)):cl(Pa,1,1),ii.genMipmaps&&(Pa.mipmask=(Pa.width<<1)-1),La.mipmask=Pa.mipmask,qa(La,Pa),Be.texture2D(ii,Pa,Wt),La.internalformat=Pa.internalformat,_s.width=Pa.width,_s.height=Pa.height,of(La),pd(Pa,Qo),Qc(ii,Qo),El(),Rf(Pa),Qn.profile&&(La.stats.size=Ef(La.internalformat,La.type,Pa.width,Pa.height,ii.genMipmaps,!1)),_s.format=Vi[La.internalformat],_s.type=da[La.type],_s.mag=na[ii.magFilter],_s.min=Ja[ii.minFilter],_s.wrapS=ka[ii.wrapS],_s.wrapT=ka[ii.wrapT],_s}function Al(Kn,Dr,ii,Pa){Be(!!Kn,"must specify image data");var Na=Dr|0,Oi=ii|0,Bi=Pa|0,Ki=Ls();return qa(Ki,La),Ki.width=0,Ki.height=0,Ir(Ki,Kn),Ki.width=Ki.width||(La.width>>Bi)-Na,Ki.height=Ki.height||(La.height>>Bi)-Oi,Be(La.type===Ki.type&&La.format===Ki.format&&La.internalformat===Ki.internalformat,"incompatible format for texture.subimage"),Be(Na>=0&&Oi>=0&&Na+Ki.width<=La.width&&Oi+Ki.height<=La.height,"texture.subimage write out of bounds"),Be(La.mipmask&1<<Bi,"missing mipmap data"),Be(Ki.data||Ki.element||Ki.needsCopy,"missing image data"),of(La),bu(Ki,Qo,Na,Oi,Bi),El(),ll(Ki),_s}function mf(Kn,Dr){var ii=Kn|0,Pa=Dr|0||ii;if(ii===La.width&&Pa===La.height)return _s;_s.width=La.width=ii,_s.height=La.height=Pa,of(La);for(var Na=0;La.mipmask>>Na;++Na){var Oi=ii>>Na,Bi=Pa>>Na;if(!Oi||!Bi)break;Te.texImage2D(Qo,Na,La.format,Oi,Bi,0,La.format,La.type,null)}return El(),Qn.profile&&(La.stats.size=Ef(La.internalformat,La.type,ii,Pa,!1,!1)),_s}return _s(qr,Ra),_s.subimage=Al,_s.resize=mf,_s._reglType="texture2d",_s._texture=La,Qn.profile&&(_s.stats=La.stats),_s.destroy=function(){La.decRef()},_s}function uu(qr,Ra,La,_s,Al,mf){var Kn=new Bu(Cs);If[Kn.id]=Kn,sr.cubeCount++;var Dr=new Array(6);function ii(Oi,Bi,Ki,Xr,Ei,Er){var Fi,ma=Kn.texInfo;for(sl.call(ma),Fi=0;Fi<6;++Fi)Dr[Fi]=ku();if(typeof Oi=="number"||!Oi){var eo=Oi|0||1;for(Fi=0;Fi<6;++Fi)cl(Dr[Fi],eo,eo)}else if(typeof Oi=="object")if(Bi)dl(Dr[0],Oi),dl(Dr[1],Bi),dl(Dr[2],Ki),dl(Dr[3],Xr),dl(Dr[4],Ei),dl(Dr[5],Er);else if(af(ma,Oi),_o(Kn,Oi),"faces"in Oi){var lo=Oi.faces;for(Be(Array.isArray(lo)&&lo.length===6,"cube faces must be a length 6 array"),Fi=0;Fi<6;++Fi)Be(typeof lo[Fi]=="object"&&!!lo[Fi],"invalid input for cube map face"),qa(Dr[Fi],Kn),dl(Dr[Fi],lo[Fi])}else for(Fi=0;Fi<6;++Fi)dl(Dr[Fi],Oi);else Be.raise("invalid arguments to cube map");for(qa(Kn,Dr[0]),Wt.npotTextureCube||Be(po(Kn.width)&&po(Kn.height),"your browser does not support non power or two texture dimensions"),ma.genMipmaps?Kn.mipmask=(Dr[0].width<<1)-1:Kn.mipmask=Dr[0].mipmask,Be.textureCube(Kn,ma,Dr,Wt),Kn.internalformat=Dr[0].internalformat,ii.width=Dr[0].width,ii.height=Dr[0].height,of(Kn),Fi=0;Fi<6;++Fi)pd(Dr[Fi],Oo+Fi);for(Qc(ma,Cs),El(),Qn.profile&&(Kn.stats.size=Ef(Kn.internalformat,Kn.type,ii.width,ii.height,ma.genMipmaps,!0)),ii.format=Vi[Kn.internalformat],ii.type=da[Kn.type],ii.mag=na[ma.magFilter],ii.min=Ja[ma.minFilter],ii.wrapS=ka[ma.wrapS],ii.wrapT=ka[ma.wrapT],Fi=0;Fi<6;++Fi)Rf(Dr[Fi]);return ii}function Pa(Oi,Bi,Ki,Xr,Ei){Be(!!Bi,"must specify image data"),Be(typeof Oi=="number"&&Oi===(Oi|0)&&Oi>=0&&Oi<6,"invalid face");var Er=Ki|0,Fi=Xr|0,ma=Ei|0,eo=Ls();return qa(eo,Kn),eo.width=0,eo.height=0,Ir(eo,Bi),eo.width=eo.width||(Kn.width>>ma)-Er,eo.height=eo.height||(Kn.height>>ma)-Fi,Be(Kn.type===eo.type&&Kn.format===eo.format&&Kn.internalformat===eo.internalformat,"incompatible format for texture.subimage"),Be(Er>=0&&Fi>=0&&Er+eo.width<=Kn.width&&Fi+eo.height<=Kn.height,"texture.subimage write out of bounds"),Be(Kn.mipmask&1<<ma,"missing mipmap data"),Be(eo.data||eo.element||eo.needsCopy,"missing image data"),of(Kn),bu(eo,Oo+Oi,Er,Fi,ma),El(),ll(eo),ii}function Na(Oi){var Bi=Oi|0;if(Bi!==Kn.width){ii.width=Kn.width=Bi,ii.height=Kn.height=Bi,of(Kn);for(var Ki=0;Ki<6;++Ki)for(var Xr=0;Kn.mipmask>>Xr;++Xr)Te.texImage2D(Oo+Ki,Xr,Kn.format,Bi>>Xr,Bi>>Xr,0,Kn.format,Kn.type,null);return El(),Qn.profile&&(Kn.stats.size=Ef(Kn.internalformat,Kn.type,ii.width,ii.height,!1,!0)),ii}}return ii(qr,Ra,La,_s,Al,mf),ii.subimage=Pa,ii.resize=Na,ii._reglType="textureCube",ii._texture=Kn,Qn.profile&&(ii.stats=Kn.stats),ii.destroy=function(){Kn.decRef()},ii}function Tf(){for(var qr=0;qr<wd;++qr)Te.activeTexture(ld+qr),Te.bindTexture(Qo,null),Rc[qr]=null;jn(If).forEach(vs),sr.cubeCount=0,sr.textureCount=0}Qn.profile&&(sr.getTotalTextureSize=function(){var qr=0;return Object.keys(If).forEach(function(Ra){qr+=If[Ra].stats.size}),qr});function s0(){for(var qr=0;qr<wd;++qr){var Ra=Rc[qr];Ra&&(Ra.bindCount=0,Ra.unit=-1,Rc[qr]=null)}jn(If).forEach(function(La){La.texture=Te.createTexture(),Te.bindTexture(La.target,La.texture);for(var _s=0;_s<32;++_s)if(La.mipmask&1<<_s)if(La.target===Qo)Te.texImage2D(Qo,_s,La.internalformat,La.width>>_s,La.height>>_s,0,La.internalformat,La.type,null);else for(var Al=0;Al<6;++Al)Te.texImage2D(Oo+Al,_s,La.internalformat,La.width>>_s,La.height>>_s,0,La.internalformat,La.type,null);Qc(La.texInfo,La.target)})}return{create2D:qs,createCube:uu,clear:Tf,getTexture:function(qr){return null},restore:s0}}var $f=36161,td=32854,Ad=32855,kl=36194,Bl=33189,_d=36168,Of=34041,hf=35907,Ud=34836,dd=34842,pf=34843,nd=[];nd[td]=2,nd[Ad]=2,nd[kl]=2,nd[Bl]=2,nd[_d]=1,nd[Of]=4,nd[hf]=4,nd[Ud]=16,nd[dd]=8,nd[pf]=6;function Kd(Te,ot,Wt){return nd[Te]*ot*Wt}var sc=function(Te,ot,Wt,zn,qn){var sr={rgba4:td,rgb565:kl,"rgb5 a1":Ad,depth:Bl,stencil:_d,"depth stencil":Of};ot.ext_srgb&&(sr.srgba=hf),ot.ext_color_buffer_half_float&&(sr.rgba16f=dd,sr.rgb16f=pf),ot.webgl_color_buffer_float&&(sr.rgba32f=Ud);var Qn=[];Object.keys(sr).forEach(function(Fr){var ri=sr[Fr];Qn[ri]=Fr});var Qr=0,Or={};function bi(Fr){this.id=Qr++,this.refCount=1,this.renderbuffer=Fr,this.format=td,this.width=0,this.height=0,qn.profile&&(this.stats={size:0})}bi.prototype.decRef=function(){--this.refCount<=0&&Pi(this)};function Pi(Fr){var ri=Fr.renderbuffer;Be(ri,"must not double destroy renderbuffer"),Te.bindRenderbuffer($f,null),Te.deleteRenderbuffer(ri),Fr.renderbuffer=null,Fr.refCount=0,delete Or[Fr.id],zn.renderbufferCount--}function zr(Fr,ri){var gr=new bi(Te.createRenderbuffer());Or[gr.id]=gr,zn.renderbufferCount++;function jr(da,na){var Ja=0,ka=0,no=td;if(typeof da=="object"&&da){var aa=da;if("shape"in aa){var qa=aa.shape;Be(Array.isArray(qa)&&qa.length>=2,"invalid renderbuffer shape"),Ja=qa[0]|0,ka=qa[1]|0}else"radius"in aa&&(Ja=ka=aa.radius|0),"width"in aa&&(Ja=aa.width|0),"height"in aa&&(ka=aa.height|0);"format"in aa&&(Be.parameter(aa.format,sr,"invalid renderbuffer format"),no=sr[aa.format])}else typeof da=="number"?(Ja=da|0,typeof na=="number"?ka=na|0:ka=Ja):da?Be.raise("invalid arguments to renderbuffer constructor"):Ja=ka=1;if(Be(Ja>0&&ka>0&&Ja<=Wt.maxRenderbufferSize&&ka<=Wt.maxRenderbufferSize,"invalid renderbuffer size"),!(Ja===gr.width&&ka===gr.height&&no===gr.format))return jr.width=gr.width=Ja,jr.height=gr.height=ka,gr.format=no,Te.bindRenderbuffer($f,gr.renderbuffer),Te.renderbufferStorage($f,no,Ja,ka),Be(Te.getError()===0,"invalid render buffer format"),qn.profile&&(gr.stats.size=Kd(gr.format,gr.width,gr.height)),jr.format=Qn[gr.format],jr}function Vi(da,na){var Ja=da|0,ka=na|0||Ja;return Ja===gr.width&&ka===gr.height||(Be(Ja>0&&ka>0&&Ja<=Wt.maxRenderbufferSize&&ka<=Wt.maxRenderbufferSize,"invalid renderbuffer size"),jr.width=gr.width=Ja,jr.height=gr.height=ka,Te.bindRenderbuffer($f,gr.renderbuffer),Te.renderbufferStorage($f,gr.format,Ja,ka),Be(Te.getError()===0,"invalid render buffer format"),qn.profile&&(gr.stats.size=Kd(gr.format,gr.width,gr.height))),jr}return jr(Fr,ri),jr.resize=Vi,jr._reglType="renderbuffer",jr._renderbuffer=gr,qn.profile&&(jr.stats=gr.stats),jr.destroy=function(){gr.decRef()},jr}qn.profile&&(zn.getTotalRenderbufferSize=function(){var Fr=0;return Object.keys(Or).forEach(function(ri){Fr+=Or[ri].stats.size}),Fr});function Tr(){jn(Or).forEach(function(Fr){Fr.renderbuffer=Te.createRenderbuffer(),Te.bindRenderbuffer($f,Fr.renderbuffer),Te.renderbufferStorage($f,Fr.format,Fr.width,Fr.height)}),Te.bindRenderbuffer($f,null)}return{create:zr,clear:function(){jn(Or).forEach(Pi)},restore:Tr}},Gc=36160,ee=36161,Me=3553,Ve=34069,Tt=36064,pn=36096,yn=36128,Vn=33306,Pr=36053,Zi=36054,ji=36055,Dt=36057,Ta=36061,ba=36193,yi=5121,ko=5126,pu=6407,gu=6408,ps=6402,Zs=[pu,gu],ss=[];ss[gu]=4,ss[pu]=3;var wl=[];wl[yi]=1,wl[ko]=4,wl[ba]=2;var ol=32854,Lo=32855,Fl=36194,Rl=33189,Kl=36168,xu=34041,xc=35907,Vl=34836,Js=34842,mu=34843,Nu=[ol,Lo,Fl,xc,Js,mu,Vl],vu={};vu[Pr]="complete",vu[Zi]="incomplete attachment",vu[Dt]="incomplete dimensions",vu[ji]="incomplete, missing attachment",vu[Ta]="unsupported";function yc(Te,ot,Wt,zn,qn,sr){var Qn={cur:null,next:null,dirty:!1,setFBO:null},Qr=["rgba"],Or=["rgba4","rgb565","rgb5 a1"];ot.ext_srgb&&Or.push("srgba"),ot.ext_color_buffer_half_float&&Or.push("rgba16f","rgb16f"),ot.webgl_color_buffer_float&&Or.push("rgba32f");var bi=["uint8"];ot.oes_texture_half_float&&bi.push("half float","float16"),ot.oes_texture_float&&bi.push("float","float32");function Pi(to,Ir,me){this.target=to,this.texture=Ir,this.renderbuffer=me;var bu=0,kt=0;Ir?(bu=Ir.width,kt=Ir.height):me&&(bu=me.width,kt=me.height),this.width=bu,this.height=kt}function zr(to){to&&(to.texture&&to.texture._texture.decRef(),to.renderbuffer&&to.renderbuffer._renderbuffer.decRef())}function Tr(to,Ir,me){if(to)if(to.texture){var bu=to.texture._texture,kt=Math.max(1,bu.width),Ls=Math.max(1,bu.height);Be(kt===Ir&&Ls===me,"inconsistent width/height for supplied texture"),bu.refCount+=1}else{var ll=to.renderbuffer._renderbuffer;Be(ll.width===Ir&&ll.height===me,"inconsistent width/height for renderbuffer"),ll.refCount+=1}}function Fr(to,Ir){Ir&&(Ir.texture?Te.framebufferTexture2D(Gc,to,Ir.target,Ir.texture._texture.texture,0):Te.framebufferRenderbuffer(Gc,to,ee,Ir.renderbuffer._renderbuffer.renderbuffer))}function ri(to){var Ir=Me,me=null,bu=null,kt=to;typeof to=="object"&&(kt=to.data,"target"in to&&(Ir=to.target|0)),Be.type(kt,"function","invalid attachment data");var Ls=kt._reglType;return Ls==="texture2d"?(me=kt,Be(Ir===Me)):Ls==="textureCube"?(me=kt,Be(Ir>=Ve&&Ir<Ve+6,"invalid cube map target")):Ls==="renderbuffer"?(bu=kt,Ir=ee):Be.raise("invalid regl object for attachment"),new Pi(Ir,me,bu)}function gr(to,Ir,me,bu,kt){if(me){var Ls=zn.create2D({width:to,height:Ir,format:bu,type:kt});return Ls._texture.refCount=0,new Pi(Me,Ls,null)}else{var ll=qn.create({width:to,height:Ir,format:bu});return ll._renderbuffer.refCount=0,new Pi(ee,null,ll)}}function jr(to){return to&&(to.texture||to.renderbuffer)}function Vi(to,Ir,me){to&&(to.texture?to.texture.resize(Ir,me):to.renderbuffer&&to.renderbuffer.resize(Ir,me),to.width=Ir,to.height=me)}var da=0,na={};function Ja(){this.id=da++,na[this.id]=this,this.framebuffer=Te.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function ka(to){to.colorAttachments.forEach(zr),zr(to.depthAttachment),zr(to.stencilAttachment),zr(to.depthStencilAttachment)}function no(to){var Ir=to.framebuffer;Be(Ir,"must not double destroy framebuffer"),Te.deleteFramebuffer(Ir),to.framebuffer=null,sr.framebufferCount--,delete na[to.id]}function aa(to){var Ir;Te.bindFramebuffer(Gc,to.framebuffer);var me=to.colorAttachments;for(Ir=0;Ir<me.length;++Ir)Fr(Tt+Ir,me[Ir]);for(Ir=me.length;Ir<Wt.maxColorAttachments;++Ir)Te.framebufferTexture2D(Gc,Tt+Ir,Me,null,0);Te.framebufferTexture2D(Gc,Vn,Me,null,0),Te.framebufferTexture2D(Gc,pn,Me,null,0),Te.framebufferTexture2D(Gc,yn,Me,null,0),Fr(pn,to.depthAttachment),Fr(yn,to.stencilAttachment),Fr(Vn,to.depthStencilAttachment);var bu=Te.checkFramebufferStatus(Gc);!Te.isContextLost()&&bu!==Pr&&Be.raise("framebuffer configuration not supported, status = "+vu[bu]),Te.bindFramebuffer(Gc,Qn.next?Qn.next.framebuffer:null),Qn.cur=Qn.next,Te.getError()}function qa(to,Ir){var me=new Ja;sr.framebufferCount++;function bu(Ls,ll){var Gu;Be(Qn.next!==me,"can not update framebuffer which is currently in use");var cl=0,dl=0,pd=!0,gd=!0,ku=null,Rf=!0,sl="rgba",af="uint8",Qc=1,Pf=null,If=null,wd=null,Rc=!1;if(typeof Ls=="number")cl=Ls|0,dl=ll|0||cl;else if(!Ls)cl=dl=1;else{Be.type(Ls,"object","invalid arguments for framebuffer");var Bu=Ls;if("shape"in Bu){var of=Bu.shape;Be(Array.isArray(of)&&of.length>=2,"invalid shape for framebuffer"),cl=of[0],dl=of[1]}else"radius"in Bu&&(cl=dl=Bu.radius),"width"in Bu&&(cl=Bu.width),"height"in Bu&&(dl=Bu.height);("color"in Bu||"colors"in Bu)&&(ku=Bu.color||Bu.colors,Array.isArray(ku)&&Be(ku.length===1||ot.webgl_draw_buffers,"multiple render targets not supported")),ku||("colorCount"in Bu&&(Qc=Bu.colorCount|0,Be(Qc>0,"invalid color buffer count")),"colorTexture"in Bu&&(Rf=!!Bu.colorTexture,sl="rgba4"),"colorType"in Bu&&(af=Bu.colorType,Rf?(Be(ot.oes_texture_float||!(af==="float"||af==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Be(ot.oes_texture_half_float||!(af==="half float"||af==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):af==="half float"||af==="float16"?(Be(ot.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),sl="rgba16f"):(af==="float"||af==="float32")&&(Be(ot.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),sl="rgba32f"),Be.oneOf(af,bi,"invalid color type")),"colorFormat"in Bu&&(sl=Bu.colorFormat,Qr.indexOf(sl)>=0?Rf=!0:Or.indexOf(sl)>=0?Rf=!1:Rf?Be.oneOf(Bu.colorFormat,Qr,"invalid color format for texture"):Be.oneOf(Bu.colorFormat,Or,"invalid color format for renderbuffer"))),("depthTexture"in Bu||"depthStencilTexture"in Bu)&&(Rc=!!(Bu.depthTexture||Bu.depthStencilTexture),Be(!Rc||ot.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Bu&&(typeof Bu.depth=="boolean"?pd=Bu.depth:(Pf=Bu.depth,gd=!1)),"stencil"in Bu&&(typeof Bu.stencil=="boolean"?gd=Bu.stencil:(If=Bu.stencil,pd=!1)),"depthStencil"in Bu&&(typeof Bu.depthStencil=="boolean"?pd=gd=Bu.depthStencil:(wd=Bu.depthStencil,pd=!1,gd=!1))}var El=null,vs=null,qs=null,uu=null;if(Array.isArray(ku))El=ku.map(ri);else if(ku)El=[ri(ku)];else for(El=new Array(Qc),Gu=0;Gu<Qc;++Gu)El[Gu]=gr(cl,dl,Rf,sl,af);Be(ot.webgl_draw_buffers||El.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Be(El.length<=Wt.maxColorAttachments,"too many color attachments, not supported"),cl=cl||El[0].width,dl=dl||El[0].height,Pf?vs=ri(Pf):pd&&!gd&&(vs=gr(cl,dl,Rc,"depth","uint32")),If?qs=ri(If):gd&&!pd&&(qs=gr(cl,dl,!1,"stencil","uint8")),wd?uu=ri(wd):!Pf&&!If&&gd&&pd&&(uu=gr(cl,dl,Rc,"depth stencil","depth stencil")),Be(!!Pf+!!If+!!wd<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Tf=null;for(Gu=0;Gu<El.length;++Gu)if(Tr(El[Gu],cl,dl),Be(!El[Gu]||El[Gu].texture&&Zs.indexOf(El[Gu].texture._texture.format)>=0||El[Gu].renderbuffer&&Nu.indexOf(El[Gu].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Gu+" is invalid"),El[Gu]&&El[Gu].texture){var s0=ss[El[Gu].texture._texture.format]*wl[El[Gu].texture._texture.type];Tf===null?Tf=s0:Be(Tf===s0,"all color attachments much have the same number of bits per pixel.")}return Tr(vs,cl,dl),Be(!vs||vs.texture&&vs.texture._texture.format===ps||vs.renderbuffer&&vs.renderbuffer._renderbuffer.format===Rl,"invalid depth attachment for framebuffer object"),Tr(qs,cl,dl),Be(!qs||qs.renderbuffer&&qs.renderbuffer._renderbuffer.format===Kl,"invalid stencil attachment for framebuffer object"),Tr(uu,cl,dl),Be(!uu||uu.texture&&uu.texture._texture.format===xu||uu.renderbuffer&&uu.renderbuffer._renderbuffer.format===xu,"invalid depth-stencil attachment for framebuffer object"),ka(me),me.width=cl,me.height=dl,me.colorAttachments=El,me.depthAttachment=vs,me.stencilAttachment=qs,me.depthStencilAttachment=uu,bu.color=El.map(jr),bu.depth=jr(vs),bu.stencil=jr(qs),bu.depthStencil=jr(uu),bu.width=me.width,bu.height=me.height,aa(me),bu}function kt(Ls,ll){Be(Qn.next!==me,"can not resize a framebuffer which is currently in use");var Gu=Math.max(Ls|0,1),cl=Math.max(ll|0||Gu,1);if(Gu===me.width&&cl===me.height)return bu;for(var dl=me.colorAttachments,pd=0;pd<dl.length;++pd)Vi(dl[pd],Gu,cl);return Vi(me.depthAttachment,Gu,cl),Vi(me.stencilAttachment,Gu,cl),Vi(me.depthStencilAttachment,Gu,cl),me.width=bu.width=Gu,me.height=bu.height=cl,aa(me),bu}return bu(to,Ir),A(bu,{resize:kt,_reglType:"framebuffer",_framebuffer:me,destroy:function(){no(me),ka(me)},use:function(Ls){Qn.setFBO({framebuffer:bu},Ls)}})}function _o(to){var Ir=Array(6);function me(kt){var Ls;Be(Ir.indexOf(Qn.next)<0,"can not update framebuffer which is currently in use");var ll={color:null},Gu=0,cl=null,dl="rgba",pd="uint8",gd=1;if(typeof kt=="number")Gu=kt|0;else if(!kt)Gu=1;else{Be.type(kt,"object","invalid arguments for framebuffer");var ku=kt;if("shape"in ku){var Rf=ku.shape;Be(Array.isArray(Rf)&&Rf.length>=2,"invalid shape for framebuffer"),Be(Rf[0]===Rf[1],"cube framebuffer must be square"),Gu=Rf[0]}else"radius"in ku&&(Gu=ku.radius|0),"width"in ku?(Gu=ku.width|0,"height"in ku&&Be(ku.height===Gu,"must be square")):"height"in ku&&(Gu=ku.height|0);("color"in ku||"colors"in ku)&&(cl=ku.color||ku.colors,Array.isArray(cl)&&Be(cl.length===1||ot.webgl_draw_buffers,"multiple render targets not supported")),cl||("colorCount"in ku&&(gd=ku.colorCount|0,Be(gd>0,"invalid color buffer count")),"colorType"in ku&&(Be.oneOf(ku.colorType,bi,"invalid color type"),pd=ku.colorType),"colorFormat"in ku&&(dl=ku.colorFormat,Be.oneOf(ku.colorFormat,Qr,"invalid color format for texture"))),"depth"in ku&&(ll.depth=ku.depth),"stencil"in ku&&(ll.stencil=ku.stencil),"depthStencil"in ku&&(ll.depthStencil=ku.depthStencil)}var sl;if(cl)if(Array.isArray(cl))for(sl=[],Ls=0;Ls<cl.length;++Ls)sl[Ls]=cl[Ls];else sl=[cl];else{sl=Array(gd);var af={radius:Gu,format:dl,type:pd};for(Ls=0;Ls<gd;++Ls)sl[Ls]=zn.createCube(af)}for(ll.color=Array(sl.length),Ls=0;Ls<sl.length;++Ls){var Qc=sl[Ls];Be(typeof Qc=="function"&&Qc._reglType==="textureCube","invalid cube map"),Gu=Gu||Qc.width,Be(Qc.width===Gu&&Qc.height===Gu,"invalid cube map shape"),ll.color[Ls]={target:Ve,data:sl[Ls]}}for(Ls=0;Ls<6;++Ls){for(var Pf=0;Pf<sl.length;++Pf)ll.color[Pf].target=Ve+Ls;Ls>0&&(ll.depth=Ir[0].depth,ll.stencil=Ir[0].stencil,ll.depthStencil=Ir[0].depthStencil),Ir[Ls]?Ir[Ls](ll):Ir[Ls]=qa(ll)}return A(me,{width:Gu,height:Gu,color:sl})}function bu(kt){var Ls,ll=kt|0;if(Be(ll>0&&ll<=Wt.maxCubeMapSize,"invalid radius for cube fbo"),ll===me.width)return me;var Gu=me.color;for(Ls=0;Ls<Gu.length;++Ls)Gu[Ls].resize(ll);for(Ls=0;Ls<6;++Ls)Ir[Ls].resize(ll);return me.width=me.height=ll,me}return me(to),A(me,{faces:Ir,resize:bu,_reglType:"framebufferCube",destroy:function(){Ir.forEach(function(kt){kt.destroy()})}})}function Ts(){Qn.cur=null,Qn.next=null,Qn.dirty=!0,jn(na).forEach(function(to){to.framebuffer=Te.createFramebuffer(),aa(to)})}return A(Qn,{getFramebuffer:function(to){if(typeof to=="function"&&to._reglType==="framebuffer"){var Ir=to._framebuffer;if(Ir instanceof Ja)return Ir}return null},create:qa,createCube:_o,clear:function(){jn(na).forEach(no)},restore:Ts})}var bl=5126,pc=34962;function Hi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=bl,this.offset=0,this.stride=0,this.divisor=0}function Yc(Te,ot,Wt,zn,qn){for(var sr=Wt.maxAttributes,Qn=new Array(sr),Qr=0;Qr<sr;++Qr)Qn[Qr]=new Hi;var Or=0,bi={},Pi={Record:Hi,scope:{},state:Qn,currentVAO:null,targetVAO:null,restore:Tr()?na:function(){},createVAO:Ja,getVAO:ri,destroyBuffer:zr,setVAO:Tr()?gr:jr,clear:Tr()?Vi:function(){}};function zr(ka){for(var no=0;no<Qn.length;++no){var aa=Qn[no];aa.buffer===ka&&(Te.disableVertexAttribArray(no),aa.buffer=null)}}function Tr(){return ot.oes_vertex_array_object}function Fr(){return ot.angle_instanced_arrays}function ri(ka){return typeof ka=="function"&&ka._vao?ka._vao:null}function gr(ka){if(ka!==Pi.currentVAO){var no=Tr();ka?no.bindVertexArrayOES(ka.vao):no.bindVertexArrayOES(null),Pi.currentVAO=ka}}function jr(ka){if(ka!==Pi.currentVAO){if(ka)ka.bindAttrs();else for(var no=Fr(),aa=0;aa<Qn.length;++aa){var qa=Qn[aa];qa.buffer?(Te.enableVertexAttribArray(aa),Te.vertexAttribPointer(aa,qa.size,qa.type,qa.normalized,qa.stride,qa.offfset),no&&no.vertexAttribDivisorANGLE(aa,qa.divisor)):(Te.disableVertexAttribArray(aa),Te.vertexAttrib4f(aa,qa.x,qa.y,qa.z,qa.w))}Pi.currentVAO=ka}}function Vi(){jn(bi).forEach(function(ka){ka.destroy()})}function da(){this.id=++Or,this.attributes=[];var ka=Tr();ka?this.vao=ka.createVertexArrayOES():this.vao=null,bi[this.id]=this,this.buffers=[]}da.prototype.bindAttrs=function(){for(var ka=Fr(),no=this.attributes,aa=0;aa<no.length;++aa){var qa=no[aa];qa.buffer?(Te.enableVertexAttribArray(aa),Te.bindBuffer(pc,qa.buffer.buffer),Te.vertexAttribPointer(aa,qa.size,qa.type,qa.normalized,qa.stride,qa.offset),ka&&ka.vertexAttribDivisorANGLE(aa,qa.divisor)):(Te.disableVertexAttribArray(aa),Te.vertexAttrib4f(aa,qa.x,qa.y,qa.z,qa.w))}for(var _o=no.length;_o<sr;++_o)Te.disableVertexAttribArray(_o)},da.prototype.refresh=function(){var ka=Tr();ka&&(ka.bindVertexArrayOES(this.vao),this.bindAttrs(),Pi.currentVAO=this)},da.prototype.destroy=function(){if(this.vao){var ka=Tr();this===Pi.currentVAO&&(Pi.currentVAO=null,ka.bindVertexArrayOES(null)),ka.deleteVertexArrayOES(this.vao),this.vao=null}bi[this.id]&&(delete bi[this.id],zn.vaoCount-=1)};function na(){var ka=Tr();ka&&jn(bi).forEach(function(no){no.refresh()})}function Ja(ka){var no=new da;zn.vaoCount+=1;function aa(qa){Be(Array.isArray(qa),"arguments to vertex array constructor must be an array"),Be(qa.length<sr,"too many attributes"),Be(qa.length>0,"must specify at least one attribute");for(var _o=0;_o<no.buffers.length;++_o)no.buffers[_o].destroy();no.buffers.length=0;var Ts=no.attributes;Ts.length=qa.length;for(var to=0;to<qa.length;++to){var Ir=qa[to],me=Ts[to]=new Hi;if(Array.isArray(Ir)||Ne(Ir)||dn(Ir)){var bu=qn.create(Ir,pc,!1,!0);me.buffer=qn.getBuffer(bu),me.size=me.buffer.dimension|0,me.normalized=!1,me.type=me.buffer.dtype,me.offset=0,me.stride=0,me.divisor=0,me.state=1,no.buffers.push(bu)}else qn.getBuffer(Ir)?(me.buffer=qn.getBuffer(Ir),me.size=me.buffer.dimension|0,me.normalized=!1,me.type=me.buffer.dtype,me.offset=0,me.stride=0,me.divisor=0,me.state=1):qn.getBuffer(Ir.buffer)?(me.buffer=qn.getBuffer(Ir.buffer),me.size=(+Ir.size||me.buffer.dimension)|0,me.normalized=!!Ir.normalized||!1,"type"in Ir?(Be.parameter(Ir.type,Po,"invalid buffer type"),me.type=Po[Ir.type]):me.type=me.buffer.dtype,me.offset=(Ir.offset||0)|0,me.stride=(Ir.stride||0)|0,me.divisor=(Ir.divisor||0)|0,me.state=1,Be(me.size>=1&&me.size<=4,"size must be between 1 and 4"),Be(me.offset>=0,"invalid offset"),Be(me.stride>=0&&me.stride<=255,"stride must be between 0 and 255"),Be(me.divisor>=0,"divisor must be positive"),Be(!me.divisor||!!ot.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Ir?(Be(to>0,"first attribute must not be a constant"),me.x=+Ir.x||0,me.y=+Ir.y||0,me.z=+Ir.z||0,me.w=+Ir.w||0,me.state=2):Be(!1,"invalid attribute spec for location "+to)}return no.refresh(),aa}return aa.destroy=function(){no.destroy()},aa._vao=no,aa._reglType="vao",aa(ka)}return Pi}var js=35632,Li=35633,$o=35718,$c=35721;function nc(Te,ot,Wt,zn){var qn={},sr={};function Qn(gr,jr,Vi,da){this.name=gr,this.id=jr,this.location=Vi,this.info=da}function Qr(gr,jr){for(var Vi=0;Vi<gr.length;++Vi)if(gr[Vi].id===jr.id){gr[Vi].location=jr.location;return}gr.push(jr)}function Or(gr,jr,Vi){var da=gr===js?qn:sr,na=da[jr];if(!na){var Ja=ot.str(jr);na=Te.createShader(gr),Te.shaderSource(na,Ja),Te.compileShader(na),Be.shaderError(Te,na,Ja,gr,Vi),da[jr]=na}return na}var bi={},Pi=[],zr=0;function Tr(gr,jr){this.id=zr++,this.fragId=gr,this.vertId=jr,this.program=null,this.uniforms=[],this.attributes=[],zn.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Fr(gr,jr,Vi){var da,na,Ja=Or(js,gr.fragId),ka=Or(Li,gr.vertId),no=gr.program=Te.createProgram();if(Te.attachShader(no,Ja),Te.attachShader(no,ka),Vi)for(da=0;da<Vi.length;++da){var aa=Vi[da];Te.bindAttribLocation(no,aa[0],aa[1])}Te.linkProgram(no),Be.linkError(Te,no,ot.str(gr.fragId),ot.str(gr.vertId),jr);var qa=Te.getProgramParameter(no,$o);zn.profile&&(gr.stats.uniformsCount=qa);var _o=gr.uniforms;for(da=0;da<qa;++da)if(na=Te.getActiveUniform(no,da),na)if(na.size>1)for(var Ts=0;Ts<na.size;++Ts){var to=na.name.replace("[0]","["+Ts+"]");Qr(_o,new Qn(to,ot.id(to),Te.getUniformLocation(no,to),na))}else Qr(_o,new Qn(na.name,ot.id(na.name),Te.getUniformLocation(no,na.name),na));var Ir=Te.getProgramParameter(no,$c);zn.profile&&(gr.stats.attributesCount=Ir);var me=gr.attributes;for(da=0;da<Ir;++da)na=Te.getActiveAttrib(no,da),na&&Qr(me,new Qn(na.name,ot.id(na.name),Te.getAttribLocation(no,na.name),na))}zn.profile&&(Wt.getMaxUniformsCount=function(){var gr=0;return Pi.forEach(function(jr){jr.stats.uniformsCount>gr&&(gr=jr.stats.uniformsCount)}),gr},Wt.getMaxAttributesCount=function(){var gr=0;return Pi.forEach(function(jr){jr.stats.attributesCount>gr&&(gr=jr.stats.attributesCount)}),gr});function ri(){qn={},sr={};for(var gr=0;gr<Pi.length;++gr)Fr(Pi[gr],null,Pi[gr].attributes.map(function(jr){return[jr.location,jr.name]}))}return{clear:function(){var gr=Te.deleteShader.bind(Te);jn(qn).forEach(gr),qn={},jn(sr).forEach(gr),sr={},Pi.forEach(function(jr){Te.deleteProgram(jr.program)}),Pi.length=0,bi={},Wt.shaderCount=0},program:function(gr,jr,Vi,da){Be.command(gr>=0,"missing vertex shader",Vi),Be.command(jr>=0,"missing fragment shader",Vi);var na=bi[jr];na||(na=bi[jr]={});var Ja=na[gr];if(Ja&&!da)return Ja;var ka=new Tr(jr,gr);return Wt.shaderCount++,Fr(ka,Vi,da),Ja||(na[gr]=ka),Pi.push(ka),ka},restore:ri,shader:Or,frag:-1,vert:-1}}var rd=6408,qu=5121,b=3333,L=5126;function we(Te,ot,Wt,zn,qn,sr,Qn){function Qr(Pi){var zr;ot.next===null?(Be(qn.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),zr=qu):(Be(ot.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),zr=ot.next.colorAttachments[0].texture._texture.type,sr.oes_texture_float?(Be(zr===qu||zr===L,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),zr===L&&Be(Qn.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Be(zr===qu,"Reading from a framebuffer is only allowed for the type 'uint8'"));var Tr=0,Fr=0,ri=zn.framebufferWidth,gr=zn.framebufferHeight,jr=null;Ne(Pi)?jr=Pi:Pi&&(Be.type(Pi,"object","invalid arguments to regl.read()"),Tr=Pi.x|0,Fr=Pi.y|0,Be(Tr>=0&&Tr<zn.framebufferWidth,"invalid x offset for regl.read"),Be(Fr>=0&&Fr<zn.framebufferHeight,"invalid y offset for regl.read"),ri=(Pi.width||zn.framebufferWidth-Tr)|0,gr=(Pi.height||zn.framebufferHeight-Fr)|0,jr=Pi.data||null),jr&&(zr===qu?Be(jr instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):zr===L&&Be(jr instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Be(ri>0&&ri+Tr<=zn.framebufferWidth,"invalid width for read pixels"),Be(gr>0&&gr+Fr<=zn.framebufferHeight,"invalid height for read pixels"),Wt();var Vi=ri*gr*4;return jr||(zr===qu?jr=new Uint8Array(Vi):zr===L&&(jr=jr||new Float32Array(Vi))),Be.isTypedArray(jr,"data buffer for regl.read() must be a typedarray"),Be(jr.byteLength>=Vi,"data buffer for regl.read() too small"),Te.pixelStorei(b,4),Te.readPixels(Tr,Fr,ri,gr,rd,zr,jr),jr}function Or(Pi){var zr;return ot.setFBO({framebuffer:Pi.framebuffer},function(){zr=Qr(Pi)}),zr}function bi(Pi){return!Pi||!("framebuffer"in Pi)?Qr(Pi):Or(Pi)}return bi}function On(Te){return Array.prototype.slice.call(Te)}function _i(Te){return On(Te).join("")}function Oa(){var Te=0,ot=[],Wt=[];function zn(zr){for(var Tr=0;Tr<Wt.length;++Tr)if(Wt[Tr]===zr)return ot[Tr];var Fr="g"+Te++;return ot.push(Fr),Wt.push(zr),Fr}function qn(){var zr=[];function Tr(){zr.push.apply(zr,On(arguments))}var Fr=[];function ri(){var gr="v"+Te++;return Fr.push(gr),arguments.length>0&&(zr.push(gr,"="),zr.push.apply(zr,On(arguments)),zr.push(";")),gr}return A(Tr,{def:ri,toString:function(){return _i([Fr.length>0?"var "+Fr.join(",")+";":"",_i(zr)])}})}function sr(){var zr=qn(),Tr=qn(),Fr=zr.toString,ri=Tr.toString;function gr(jr,Vi){Tr(jr,Vi,"=",zr.def(jr,Vi),";")}return A(function(){zr.apply(zr,On(arguments))},{def:zr.def,entry:zr,exit:Tr,save:gr,set:function(jr,Vi,da){gr(jr,Vi),zr(jr,Vi,"=",da,";")},toString:function(){return Fr()+ri()}})}function Qn(){var zr=_i(arguments),Tr=sr(),Fr=sr(),ri=Tr.toString,gr=Fr.toString;return A(Tr,{then:function(){return Tr.apply(Tr,On(arguments)),this},else:function(){return Fr.apply(Fr,On(arguments)),this},toString:function(){var jr=gr();return jr&&(jr="else{"+jr+"}"),_i(["if(",zr,"){",ri(),"}",jr])}})}var Qr=qn(),Or={};function bi(zr,Tr){var Fr=[];function ri(){var na="a"+Fr.length;return Fr.push(na),na}Tr=Tr||0;for(var gr=0;gr<Tr;++gr)ri();var jr=sr(),Vi=jr.toString,da=Or[zr]=A(jr,{arg:ri,toString:function(){return _i(["function(",Fr.join(),"){",Vi(),"}"])}});return da}function Pi(){var zr=['"use strict";',Qr,"return {"];Object.keys(Or).forEach(function(ri){zr.push('"',ri,'":',Or[ri].toString(),",")}),zr.push("}");var Tr=_i(zr).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Fr=Function.apply(null,ot.concat(Tr));return Fr.apply(null,Wt)}return{global:Qr,link:zn,block:qn,proc:bi,scope:sr,cond:Qn,compile:Pi}}var Xa="xyzw".split(""),ts=5121,is=1,Co=2,Vu=0,ul=1,ef=2,Tc=3,_h=4,bh="dither",rh="blend.enable",ho="blend.color",Yo="blend.equation",cu="blend.func",el="depth.enable",Hs="depth.func",Xf="depth.range",tf="depth.mask",Gl="colorMask",Uf="cull.enable",rc="cull.face",Du="frontFace",zc="lineWidth",zf="polygonOffset.enable",Qu="polygonOffset.offset",xp="sample.alpha",Zf="sample.enable",Gh="sample.coverage",ih="stencil.enable",Tp="stencil.mask",Z0="stencil.func",wh="stencil.opFront",Sc="stencil.opBack",xf="scissor.enable",m0="scissor.box",ah="viewport",gf="profile",Xc="framebuffer",P0="vert",Rd="frag",oh="elements",nf="primitive",zd="count",Sl="offset",Zd="instances",hd="vao",Mh="Width",Pd="Height",bd=Xc+Mh,Kc=Xc+Pd,Sp=ah+Mh,i0=ah+Pd,sh="drawingBuffer",Rh=sh+Mh,v0=sh+Pd,Ph=[cu,Yo,Z0,wh,Sc,Gh,ah,m0,Qu],Ih=34962,Ap=34963,j0=35632,a0=35633,y0=3553,Cd=34067,Lh=2884,Cp=3042,Zu=3024,ep=2960,_0=2929,Nh=3089,Ho=32823,Op=32926,o0=32928,wf=5126,Od=35664,Ed=35665,id=35666,uh=5124,N=35667,F=35668,ce=35669,ht=35670,Ft=35671,kn=35672,si=35673,ki=35674,ro=35675,bo=35676,Gs=35678,lu=35680,Us=4,pl=1028,Ul=1029,ad=2304,ja=2305,Sa=32775,uo=32776,Is=519,tu=7680,uc=0,Tu=1,zl=32774,rf=513,fu=36160,xd=36064,Td={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Gp=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Dh={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Kf={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Yh={frag:j0,vert:a0},lh={cw:ad,ccw:ja};function wp(Te){return Array.isArray(Te)||Ne(Te)||dn(Te)}function un(Te){return Te.sort(function(ot,Wt){return ot===ah?-1:Wt===ah?1:ot<Wt?-1:1})}function Mn(Te,ot,Wt,zn){this.thisDep=Te,this.contextDep=ot,this.propDep=Wt,this.append=zn}function kr(Te){return Te&&!(Te.thisDep||Te.contextDep||Te.propDep)}function Yi(Te){return new Mn(!1,!1,!1,Te)}function Zo(Te,ot){var Wt=Te.type;if(Wt===Vu){var zn=Te.data.length;return new Mn(!0,zn>=1,zn>=2,ot)}else if(Wt===_h){var qn=Te.data;return new Mn(qn.thisDep,qn.contextDep,qn.propDep,ot)}else return new Mn(Wt===Tc,Wt===ef,Wt===ul,ot)}var os=new Mn(!1,!1,!1,function(){});function yu(Te,ot,Wt,zn,qn,sr,Qn,Qr,Or,bi,Pi,zr,Tr,Fr,ri){var gr=bi.Record,jr={add:32774,subtract:32778,"reverse subtract":32779};Wt.ext_blend_minmax&&(jr.min=Sa,jr.max=uo);var Vi=Wt.angle_instanced_arrays,da=Wt.webgl_draw_buffers,na={dirty:!0,profile:ri.profile},Ja={},ka=[],no={},aa={};function qa(Kn){return Kn.replace(".","_")}function _o(Kn,Dr,ii){var Pa=qa(Kn);ka.push(Kn),Ja[Pa]=na[Pa]=!!ii,no[Pa]=Dr}function Ts(Kn,Dr,ii){var Pa=qa(Kn);ka.push(Kn),Array.isArray(ii)?(na[Pa]=ii.slice(),Ja[Pa]=ii.slice()):na[Pa]=Ja[Pa]=ii,aa[Pa]=Dr}_o(bh,Zu),_o(rh,Cp),Ts(ho,"blendColor",[0,0,0,0]),Ts(Yo,"blendEquationSeparate",[zl,zl]),Ts(cu,"blendFuncSeparate",[Tu,uc,Tu,uc]),_o(el,_0,!0),Ts(Hs,"depthFunc",rf),Ts(Xf,"depthRange",[0,1]),Ts(tf,"depthMask",!0),Ts(Gl,Gl,[!0,!0,!0,!0]),_o(Uf,Lh),Ts(rc,"cullFace",Ul),Ts(Du,Du,ja),Ts(zc,zc,1),_o(zf,Ho),Ts(Qu,"polygonOffset",[0,0]),_o(xp,Op),_o(Zf,o0),Ts(Gh,"sampleCoverage",[1,!1]),_o(ih,ep),Ts(Tp,"stencilMask",-1),Ts(Z0,"stencilFunc",[Is,0,-1]),Ts(wh,"stencilOpSeparate",[pl,tu,tu,tu]),Ts(Sc,"stencilOpSeparate",[Ul,tu,tu,tu]),_o(xf,Nh),Ts(m0,"scissor",[0,0,Te.drawingBufferWidth,Te.drawingBufferHeight]),Ts(ah,ah,[0,0,Te.drawingBufferWidth,Te.drawingBufferHeight]);var to={gl:Te,context:Tr,strings:ot,next:Ja,current:na,draw:zr,elements:sr,buffer:qn,shader:Pi,attributes:bi.state,vao:bi,uniforms:Or,framebuffer:Qr,extensions:Wt,timer:Fr,isBufferArgs:wp},Ir={primTypes:As,compareFuncs:Dh,blendFuncs:Td,blendEquations:jr,stencilOps:Kf,glTypes:Po,orientationType:lh};Be.optional(function(){to.isArrayLike=Mi}),da&&(Ir.backBuffer=[Ul],Ir.drawBuffer=ur(zn.maxDrawbuffers,function(Kn){return Kn===0?[0]:ur(Kn,function(Dr){return xd+Dr})}));var me=0;function bu(){var Kn=Oa(),Dr=Kn.link,ii=Kn.global;Kn.id=me++,Kn.batchId="0";var Pa=Dr(to),Na=Kn.shared={props:"a0"};Object.keys(to).forEach(function(Ei){Na[Ei]=ii.def(Pa,".",Ei)}),Be.optional(function(){Kn.CHECK=Dr(Be),Kn.commandStr=Be.guessCommand(),Kn.command=Dr(Kn.commandStr),Kn.assert=function(Ei,Er,Fi){Ei("if(!(",Er,"))",this.CHECK,".commandRaise(",Dr(Fi),",",this.command,");")},Ir.invalidBlendCombinations=Gp});var Oi=Kn.next={},Bi=Kn.current={};Object.keys(aa).forEach(function(Ei){Array.isArray(na[Ei])&&(Oi[Ei]=ii.def(Na.next,".",Ei),Bi[Ei]=ii.def(Na.current,".",Ei))});var Ki=Kn.constants={};Object.keys(Ir).forEach(function(Ei){Ki[Ei]=ii.def(JSON.stringify(Ir[Ei]))}),Kn.invoke=function(Ei,Er){switch(Er.type){case Vu:var Fi=["this",Na.context,Na.props,Kn.batchId];return Ei.def(Dr(Er.data),".call(",Fi.slice(0,Math.max(Er.data.length+1,4)),")");case ul:return Ei.def(Na.props,Er.data);case ef:return Ei.def(Na.context,Er.data);case Tc:return Ei.def("this",Er.data);case _h:return Er.data.append(Kn,Ei),Er.data.ref}},Kn.attribCache={};var Xr={};return Kn.scopeAttrib=function(Ei){var Er=ot.id(Ei);if(Er in Xr)return Xr[Er];var Fi=bi.scope[Er];Fi||(Fi=bi.scope[Er]=new gr);var ma=Xr[Er]=Dr(Fi);return ma},Kn}function kt(Kn){var Dr=Kn.static,ii=Kn.dynamic,Pa;if(gf in Dr){var Na=!!Dr[gf];Pa=Yi(function(Bi,Ki){return Na}),Pa.enable=Na}else if(gf in ii){var Oi=ii[gf];Pa=Zo(Oi,function(Bi,Ki){return Bi.invoke(Ki,Oi)})}return Pa}function Ls(Kn,Dr){var ii=Kn.static,Pa=Kn.dynamic;if(Xc in ii){var Na=ii[Xc];return Na?(Na=Qr.getFramebuffer(Na),Be.command(Na,"invalid framebuffer object"),Yi(function(Bi,Ki){var Xr=Bi.link(Na),Ei=Bi.shared;Ki.set(Ei.framebuffer,".next",Xr);var Er=Ei.context;return Ki.set(Er,"."+bd,Xr+".width"),Ki.set(Er,"."+Kc,Xr+".height"),Xr})):Yi(function(Bi,Ki){var Xr=Bi.shared;Ki.set(Xr.framebuffer,".next","null");var Ei=Xr.context;return Ki.set(Ei,"."+bd,Ei+"."+Rh),Ki.set(Ei,"."+Kc,Ei+"."+v0),"null"})}else if(Xc in Pa){var Oi=Pa[Xc];return Zo(Oi,function(Bi,Ki){var Xr=Bi.invoke(Ki,Oi),Ei=Bi.shared,Er=Ei.framebuffer,Fi=Ki.def(Er,".getFramebuffer(",Xr,")");Be.optional(function(){Bi.assert(Ki,"!"+Xr+"||"+Fi,"invalid framebuffer object")}),Ki.set(Er,".next",Fi);var ma=Ei.context;return Ki.set(ma,"."+bd,Fi+"?"+Fi+".width:"+ma+"."+Rh),Ki.set(ma,"."+Kc,Fi+"?"+Fi+".height:"+ma+"."+v0),Fi})}else return null}function ll(Kn,Dr,ii){var Pa=Kn.static,Na=Kn.dynamic;function Oi(Xr){if(Xr in Pa){var Ei=Pa[Xr];Be.commandType(Ei,"object","invalid "+Xr,ii.commandStr);var Er=!0,Fi=Ei.x|0,ma=Ei.y|0,eo,lo;return"width"in Ei?(eo=Ei.width|0,Be.command(eo>=0,"invalid "+Xr,ii.commandStr)):Er=!1,"height"in Ei?(lo=Ei.height|0,Be.command(lo>=0,"invalid "+Xr,ii.commandStr)):Er=!1,new Mn(!Er&&Dr&&Dr.thisDep,!Er&&Dr&&Dr.contextDep,!Er&&Dr&&Dr.propDep,function(Ya,Su){var Ss=Ya.shared.context,ou=eo;"width"in Ei||(ou=Su.def(Ss,".",bd,"-",Fi));var ju=lo;return"height"in Ei||(ju=Su.def(Ss,".",Kc,"-",ma)),[Fi,ma,ou,ju]})}else if(Xr in Na){var Ua=Na[Xr],No=Zo(Ua,function(Ya,Su){var Ss=Ya.invoke(Su,Ua);Be.optional(function(){Ya.assert(Su,Ss+"&&typeof "+Ss+'==="object"',"invalid "+Xr)});var ou=Ya.shared.context,ju=Su.def(Ss,".x|0"),cc=Su.def(Ss,".y|0"),od=Su.def('"width" in ',Ss,"?",Ss,".width|0:","(",ou,".",bd,"-",ju,")"),$h=Su.def('"height" in ',Ss,"?",Ss,".height|0:","(",ou,".",Kc,"-",cc,")");return Be.optional(function(){Ya.assert(Su,od+">=0&&"+$h+">=0","invalid "+Xr)}),[ju,cc,od,$h]});return Dr&&(No.thisDep=No.thisDep||Dr.thisDep,No.contextDep=No.contextDep||Dr.contextDep,No.propDep=No.propDep||Dr.propDep),No}else return Dr?new Mn(Dr.thisDep,Dr.contextDep,Dr.propDep,function(Ya,Su){var Ss=Ya.shared.context;return[0,0,Su.def(Ss,".",bd),Su.def(Ss,".",Kc)]}):null}var Bi=Oi(ah);if(Bi){var Ki=Bi;Bi=new Mn(Bi.thisDep,Bi.contextDep,Bi.propDep,function(Xr,Ei){var Er=Ki.append(Xr,Ei),Fi=Xr.shared.context;return Ei.set(Fi,"."+Sp,Er[2]),Ei.set(Fi,"."+i0,Er[3]),Er})}return{viewport:Bi,scissor_box:Oi(m0)}}function Gu(Kn,Dr){var ii=Kn.static,Pa=typeof ii[Rd]=="string"&&typeof ii[P0]=="string";if(Pa){if(Object.keys(Dr.dynamic).length>0)return null;var Na=Dr.static,Oi=Object.keys(Na);if(Oi.length>0&&typeof Na[Oi[0]]=="number"){for(var Bi=[],Ki=0;Ki<Oi.length;++Ki)Be(typeof Na[Oi[Ki]]=="number","must specify all vertex attribute locations when using vaos"),Bi.push([Na[Oi[Ki]]|0,Oi[Ki]]);return Bi}}return null}function cl(Kn,Dr,ii){var Pa=Kn.static,Na=Kn.dynamic;function Oi(Er){if(Er in Pa){var Fi=ot.id(Pa[Er]);Be.optional(function(){Pi.shader(Yh[Er],Fi,Be.guessCommand())});var ma=Yi(function(){return Fi});return ma.id=Fi,ma}else if(Er in Na){var eo=Na[Er];return Zo(eo,function(lo,Ua){var No=lo.invoke(Ua,eo),Ya=Ua.def(lo.shared.strings,".id(",No,")");return Be.optional(function(){Ua(lo.shared.shader,".shader(",Yh[Er],",",Ya,",",lo.command,");")}),Ya})}return null}var Bi=Oi(Rd),Ki=Oi(P0),Xr=null,Ei;return kr(Bi)&&kr(Ki)?(Xr=Pi.program(Ki.id,Bi.id,null,ii),Ei=Yi(function(Er,Fi){return Er.link(Xr)})):Ei=new Mn(Bi&&Bi.thisDep||Ki&&Ki.thisDep,Bi&&Bi.contextDep||Ki&&Ki.contextDep,Bi&&Bi.propDep||Ki&&Ki.propDep,function(Er,Fi){var ma=Er.shared.shader,eo;Bi?eo=Bi.append(Er,Fi):eo=Fi.def(ma,".",Rd);var lo;Ki?lo=Ki.append(Er,Fi):lo=Fi.def(ma,".",P0);var Ua=ma+".program("+lo+","+eo;return Be.optional(function(){Ua+=","+Er.command}),Fi.def(Ua+")")}),{frag:Bi,vert:Ki,progVar:Ei,program:Xr}}function dl(Kn,Dr){var ii=Kn.static,Pa=Kn.dynamic;function Na(){if(oh in ii){var Er=ii[oh];wp(Er)?Er=sr.getElements(sr.create(Er,!0)):Er&&(Er=sr.getElements(Er),Be.command(Er,"invalid elements",Dr.commandStr));var Fi=Yi(function(eo,lo){if(Er){var Ua=eo.link(Er);return eo.ELEMENTS=Ua,Ua}return eo.ELEMENTS=null,null});return Fi.value=Er,Fi}else if(oh in Pa){var ma=Pa[oh];return Zo(ma,function(eo,lo){var Ua=eo.shared,No=Ua.isBufferArgs,Ya=Ua.elements,Su=eo.invoke(lo,ma),Ss=lo.def("null"),ou=lo.def(No,"(",Su,")"),ju=eo.cond(ou).then(Ss,"=",Ya,".createStream(",Su,");").else(Ss,"=",Ya,".getElements(",Su,");");return Be.optional(function(){eo.assert(ju.else,"!"+Su+"||"+Ss,"invalid elements")}),lo.entry(ju),lo.exit(eo.cond(ou).then(Ya,".destroyStream(",Ss,");")),eo.ELEMENTS=Ss,Ss})}return null}var Oi=Na();function Bi(){if(nf in ii){var Er=ii[nf];return Be.commandParameter(Er,As,"invalid primitve",Dr.commandStr),Yi(function(ma,eo){return As[Er]})}else if(nf in Pa){var Fi=Pa[nf];return Zo(Fi,function(ma,eo){var lo=ma.constants.primTypes,Ua=ma.invoke(eo,Fi);return Be.optional(function(){ma.assert(eo,Ua+" in "+lo,"invalid primitive, must be one of "+Object.keys(As))}),eo.def(lo,"[",Ua,"]")})}else if(Oi)return kr(Oi)?Oi.value?Yi(function(ma,eo){return eo.def(ma.ELEMENTS,".primType")}):Yi(function(){return Us}):new Mn(Oi.thisDep,Oi.contextDep,Oi.propDep,function(ma,eo){var lo=ma.ELEMENTS;return eo.def(lo,"?",lo,".primType:",Us)});return null}function Ki(Er,Fi){if(Er in ii){var ma=ii[Er]|0;return Be.command(!Fi||ma>=0,"invalid "+Er,Dr.commandStr),Yi(function(lo,Ua){return Fi&&(lo.OFFSET=ma),ma})}else if(Er in Pa){var eo=Pa[Er];return Zo(eo,function(lo,Ua){var No=lo.invoke(Ua,eo);return Fi&&(lo.OFFSET=No,Be.optional(function(){lo.assert(Ua,No+">=0","invalid "+Er)})),No})}else if(Fi&&Oi)return Yi(function(lo,Ua){return lo.OFFSET="0",0});return null}var Xr=Ki(Sl,!0);function Ei(){if(zd in ii){var Er=ii[zd]|0;return Be.command(typeof Er=="number"&&Er>=0,"invalid vertex count",Dr.commandStr),Yi(function(){return Er})}else if(zd in Pa){var Fi=Pa[zd];return Zo(Fi,function(lo,Ua){var No=lo.invoke(Ua,Fi);return Be.optional(function(){lo.assert(Ua,"typeof "+No+'==="number"&&'+No+">=0&&"+No+"===("+No+"|0)","invalid vertex count")}),No})}else if(Oi)if(kr(Oi)){if(Oi)return Xr?new Mn(Xr.thisDep,Xr.contextDep,Xr.propDep,function(lo,Ua){var No=Ua.def(lo.ELEMENTS,".vertCount-",lo.OFFSET);return Be.optional(function(){lo.assert(Ua,No+">=0","invalid vertex offset/element buffer too small")}),No}):Yi(function(lo,Ua){return Ua.def(lo.ELEMENTS,".vertCount")});var ma=Yi(function(){return-1});return Be.optional(function(){ma.MISSING=!0}),ma}else{var eo=new Mn(Oi.thisDep||Xr.thisDep,Oi.contextDep||Xr.contextDep,Oi.propDep||Xr.propDep,function(lo,Ua){var No=lo.ELEMENTS;return lo.OFFSET?Ua.def(No,"?",No,".vertCount-",lo.OFFSET,":-1"):Ua.def(No,"?",No,".vertCount:-1")});return Be.optional(function(){eo.DYNAMIC=!0}),eo}return null}return{elements:Oi,primitive:Bi(),count:Ei(),instances:Ki(Zd,!1),offset:Xr}}function pd(Kn,Dr){var ii=Kn.static,Pa=Kn.dynamic,Na={};return ka.forEach(function(Oi){var Bi=qa(Oi);function Ki(Xr,Ei){if(Oi in ii){var Er=Xr(ii[Oi]);Na[Bi]=Yi(function(){return Er})}else if(Oi in Pa){var Fi=Pa[Oi];Na[Bi]=Zo(Fi,function(ma,eo){return Ei(ma,eo,ma.invoke(eo,Fi))})}}switch(Oi){case Uf:case rh:case bh:case ih:case el:case xf:case zf:case xp:case Zf:case tf:return Ki(function(Xr){return Be.commandType(Xr,"boolean",Oi,Dr.commandStr),Xr},function(Xr,Ei,Er){return Be.optional(function(){Xr.assert(Ei,"typeof "+Er+'==="boolean"',"invalid flag "+Oi,Xr.commandStr)}),Er});case Hs:return Ki(function(Xr){return Be.commandParameter(Xr,Dh,"invalid "+Oi,Dr.commandStr),Dh[Xr]},function(Xr,Ei,Er){var Fi=Xr.constants.compareFuncs;return Be.optional(function(){Xr.assert(Ei,Er+" in "+Fi,"invalid "+Oi+", must be one of "+Object.keys(Dh))}),Ei.def(Fi,"[",Er,"]")});case Xf:return Ki(function(Xr){return Be.command(Mi(Xr)&&Xr.length===2&&typeof Xr[0]=="number"&&typeof Xr[1]=="number"&&Xr[0]<=Xr[1],"depth range is 2d array",Dr.commandStr),Xr},function(Xr,Ei,Er){Be.optional(function(){Xr.assert(Ei,Xr.shared.isArrayLike+"("+Er+")&&"+Er+".length===2&&typeof "+Er+'[0]==="number"&&typeof '+Er+'[1]==="number"&&'+Er+"[0]<="+Er+"[1]","depth range must be a 2d array")});var Fi=Ei.def("+",Er,"[0]"),ma=Ei.def("+",Er,"[1]");return[Fi,ma]});case cu:return Ki(function(Xr){Be.commandType(Xr,"object","blend.func",Dr.commandStr);var Ei="srcRGB"in Xr?Xr.srcRGB:Xr.src,Er="srcAlpha"in Xr?Xr.srcAlpha:Xr.src,Fi="dstRGB"in Xr?Xr.dstRGB:Xr.dst,ma="dstAlpha"in Xr?Xr.dstAlpha:Xr.dst;return Be.commandParameter(Ei,Td,Bi+".srcRGB",Dr.commandStr),Be.commandParameter(Er,Td,Bi+".srcAlpha",Dr.commandStr),Be.commandParameter(Fi,Td,Bi+".dstRGB",Dr.commandStr),Be.commandParameter(ma,Td,Bi+".dstAlpha",Dr.commandStr),Be.command(Gp.indexOf(Ei+", "+Fi)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ei+", "+Fi+")",Dr.commandStr),[Td[Ei],Td[Fi],Td[Er],Td[ma]]},function(Xr,Ei,Er){var Fi=Xr.constants.blendFuncs;Be.optional(function(){Xr.assert(Ei,Er+"&&typeof "+Er+'==="object"',"invalid blend func, must be an object")});function ma(Ss,ou){var ju=Ei.def('"',Ss,ou,'" in ',Er,"?",Er,".",Ss,ou,":",Er,".",Ss);return Be.optional(function(){Xr.assert(Ei,ju+" in "+Fi,"invalid "+Oi+"."+Ss+ou+", must be one of "+Object.keys(Td))}),ju}var eo=ma("src","RGB"),lo=ma("dst","RGB");Be.optional(function(){var Ss=Xr.constants.invalidBlendCombinations;Xr.assert(Ei,Ss+".indexOf("+eo+'+", "+'+lo+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ua=Ei.def(Fi,"[",eo,"]"),No=Ei.def(Fi,"[",ma("src","Alpha"),"]"),Ya=Ei.def(Fi,"[",lo,"]"),Su=Ei.def(Fi,"[",ma("dst","Alpha"),"]");return[Ua,Ya,No,Su]});case Yo:return Ki(function(Xr){if(typeof Xr=="string")return Be.commandParameter(Xr,jr,"invalid "+Oi,Dr.commandStr),[jr[Xr],jr[Xr]];if(typeof Xr=="object")return Be.commandParameter(Xr.rgb,jr,Oi+".rgb",Dr.commandStr),Be.commandParameter(Xr.alpha,jr,Oi+".alpha",Dr.commandStr),[jr[Xr.rgb],jr[Xr.alpha]];Be.commandRaise("invalid blend.equation",Dr.commandStr)},function(Xr,Ei,Er){var Fi=Xr.constants.blendEquations,ma=Ei.def(),eo=Ei.def(),lo=Xr.cond("typeof ",Er,'==="string"');return Be.optional(function(){function Ua(No,Ya,Su){Xr.assert(No,Su+" in "+Fi,"invalid "+Ya+", must be one of "+Object.keys(jr))}Ua(lo.then,Oi,Er),Xr.assert(lo.else,Er+"&&typeof "+Er+'==="object"',"invalid "+Oi),Ua(lo.else,Oi+".rgb",Er+".rgb"),Ua(lo.else,Oi+".alpha",Er+".alpha")}),lo.then(ma,"=",eo,"=",Fi,"[",Er,"];"),lo.else(ma,"=",Fi,"[",Er,".rgb];",eo,"=",Fi,"[",Er,".alpha];"),Ei(lo),[ma,eo]});case ho:return Ki(function(Xr){return Be.command(Mi(Xr)&&Xr.length===4,"blend.color must be a 4d array",Dr.commandStr),ur(4,function(Ei){return+Xr[Ei]})},function(Xr,Ei,Er){return Be.optional(function(){Xr.assert(Ei,Xr.shared.isArrayLike+"("+Er+")&&"+Er+".length===4","blend.color must be a 4d array")}),ur(4,function(Fi){return Ei.def("+",Er,"[",Fi,"]")})});case Tp:return Ki(function(Xr){return Be.commandType(Xr,"number",Bi,Dr.commandStr),Xr|0},function(Xr,Ei,Er){return Be.optional(function(){Xr.assert(Ei,"typeof "+Er+'==="number"',"invalid stencil.mask")}),Ei.def(Er,"|0")});case Z0:return Ki(function(Xr){Be.commandType(Xr,"object",Bi,Dr.commandStr);var Ei=Xr.cmp||"keep",Er=Xr.ref||0,Fi="mask"in Xr?Xr.mask:-1;return Be.commandParameter(Ei,Dh,Oi+".cmp",Dr.commandStr),Be.commandType(Er,"number",Oi+".ref",Dr.commandStr),Be.commandType(Fi,"number",Oi+".mask",Dr.commandStr),[Dh[Ei],Er,Fi]},function(Xr,Ei,Er){var Fi=Xr.constants.compareFuncs;Be.optional(function(){function Ua(){Xr.assert(Ei,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ua(Er+"&&typeof ",Er,'==="object"'),Ua('!("cmp" in ',Er,")||(",Er,".cmp in ",Fi,")")});var ma=Ei.def('"cmp" in ',Er,"?",Fi,"[",Er,".cmp]",":",tu),eo=Ei.def(Er,".ref|0"),lo=Ei.def('"mask" in ',Er,"?",Er,".mask|0:-1");return[ma,eo,lo]});case wh:case Sc:return Ki(function(Xr){Be.commandType(Xr,"object",Bi,Dr.commandStr);var Ei=Xr.fail||"keep",Er=Xr.zfail||"keep",Fi=Xr.zpass||"keep";return Be.commandParameter(Ei,Kf,Oi+".fail",Dr.commandStr),Be.commandParameter(Er,Kf,Oi+".zfail",Dr.commandStr),Be.commandParameter(Fi,Kf,Oi+".zpass",Dr.commandStr),[Oi===Sc?Ul:pl,Kf[Ei],Kf[Er],Kf[Fi]]},function(Xr,Ei,Er){var Fi=Xr.constants.stencilOps;Be.optional(function(){Xr.assert(Ei,Er+"&&typeof "+Er+'==="object"',"invalid "+Oi)});function ma(eo){return Be.optional(function(){Xr.assert(Ei,'!("'+eo+'" in '+Er+")||("+Er+"."+eo+" in "+Fi+")","invalid "+Oi+"."+eo+", must be one of "+Object.keys(Kf))}),Ei.def('"',eo,'" in ',Er,"?",Fi,"[",Er,".",eo,"]:",tu)}return[Oi===Sc?Ul:pl,ma("fail"),ma("zfail"),ma("zpass")]});case Qu:return Ki(function(Xr){Be.commandType(Xr,"object",Bi,Dr.commandStr);var Ei=Xr.factor|0,Er=Xr.units|0;return Be.commandType(Ei,"number",Bi+".factor",Dr.commandStr),Be.commandType(Er,"number",Bi+".units",Dr.commandStr),[Ei,Er]},function(Xr,Ei,Er){Be.optional(function(){Xr.assert(Ei,Er+"&&typeof "+Er+'==="object"',"invalid "+Oi)});var Fi=Ei.def(Er,".factor|0"),ma=Ei.def(Er,".units|0");return[Fi,ma]});case rc:return Ki(function(Xr){var Ei=0;return Xr==="front"?Ei=pl:Xr==="back"&&(Ei=Ul),Be.command(!!Ei,Bi,Dr.commandStr),Ei},function(Xr,Ei,Er){return Be.optional(function(){Xr.assert(Ei,Er+'==="front"||'+Er+'==="back"',"invalid cull.face")}),Ei.def(Er,'==="front"?',pl,":",Ul)});case zc:return Ki(function(Xr){return Be.command(typeof Xr=="number"&&Xr>=zn.lineWidthDims[0]&&Xr<=zn.lineWidthDims[1],"invalid line width, must be a positive number between "+zn.lineWidthDims[0]+" and "+zn.lineWidthDims[1],Dr.commandStr),Xr},function(Xr,Ei,Er){return Be.optional(function(){Xr.assert(Ei,"typeof "+Er+'==="number"&&'+Er+">="+zn.lineWidthDims[0]+"&&"+Er+"<="+zn.lineWidthDims[1],"invalid line width")}),Er});case Du:return Ki(function(Xr){return Be.commandParameter(Xr,lh,Bi,Dr.commandStr),lh[Xr]},function(Xr,Ei,Er){return Be.optional(function(){Xr.assert(Ei,Er+'==="cw"||'+Er+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ei.def(Er+'==="cw"?'+ad+":"+ja)});case Gl:return Ki(function(Xr){return Be.command(Mi(Xr)&&Xr.length===4,"color.mask must be length 4 array",Dr.commandStr),Xr.map(function(Ei){return!!Ei})},function(Xr,Ei,Er){return Be.optional(function(){Xr.assert(Ei,Xr.shared.isArrayLike+"("+Er+")&&"+Er+".length===4","invalid color.mask")}),ur(4,function(Fi){return"!!"+Er+"["+Fi+"]"})});case Gh:return Ki(function(Xr){Be.command(typeof Xr=="object"&&Xr,Bi,Dr.commandStr);var Ei="value"in Xr?Xr.value:1,Er=!!Xr.invert;return Be.command(typeof Ei=="number"&&Ei>=0&&Ei<=1,"sample.coverage.value must be a number between 0 and 1",Dr.commandStr),[Ei,Er]},function(Xr,Ei,Er){Be.optional(function(){Xr.assert(Ei,Er+"&&typeof "+Er+'==="object"',"invalid sample.coverage")});var Fi=Ei.def('"value" in ',Er,"?+",Er,".value:1"),ma=Ei.def("!!",Er,".invert");return[Fi,ma]})}}),Na}function gd(Kn,Dr){var ii=Kn.static,Pa=Kn.dynamic,Na={};return Object.keys(ii).forEach(function(Oi){var Bi=ii[Oi],Ki;if(typeof Bi=="number"||typeof Bi=="boolean")Ki=Yi(function(){return Bi});else if(typeof Bi=="function"){var Xr=Bi._reglType;Xr==="texture2d"||Xr==="textureCube"?Ki=Yi(function(Ei){return Ei.link(Bi)}):Xr==="framebuffer"||Xr==="framebufferCube"?(Be.command(Bi.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Oi+'"',Dr.commandStr),Ki=Yi(function(Ei){return Ei.link(Bi.color[0])})):Be.commandRaise('invalid data for uniform "'+Oi+'"',Dr.commandStr)}else Mi(Bi)?Ki=Yi(function(Ei){var Er=Ei.global.def("[",ur(Bi.length,function(Fi){return Be.command(typeof Bi[Fi]=="number"||typeof Bi[Fi]=="boolean","invalid uniform "+Oi,Ei.commandStr),Bi[Fi]}),"]");return Er}):Be.commandRaise('invalid or missing data for uniform "'+Oi+'"',Dr.commandStr);Ki.value=Bi,Na[Oi]=Ki}),Object.keys(Pa).forEach(function(Oi){var Bi=Pa[Oi];Na[Oi]=Zo(Bi,function(Ki,Xr){return Ki.invoke(Xr,Bi)})}),Na}function ku(Kn,Dr){var ii=Kn.static,Pa=Kn.dynamic,Na={};return Object.keys(ii).forEach(function(Oi){var Bi=ii[Oi],Ki=ot.id(Oi),Xr=new gr;if(wp(Bi))Xr.state=is,Xr.buffer=qn.getBuffer(qn.create(Bi,Ih,!1,!0)),Xr.type=0;else{var Ei=qn.getBuffer(Bi);if(Ei)Xr.state=is,Xr.buffer=Ei,Xr.type=0;else if(Be.command(typeof Bi=="object"&&Bi,"invalid data for attribute "+Oi,Dr.commandStr),"constant"in Bi){var Er=Bi.constant;Xr.buffer="null",Xr.state=Co,typeof Er=="number"?Xr.x=Er:(Be.command(Mi(Er)&&Er.length>0&&Er.length<=4,"invalid constant for attribute "+Oi,Dr.commandStr),Xa.forEach(function(Ya,Su){Su<Er.length&&(Xr[Ya]=Er[Su])}))}else{wp(Bi.buffer)?Ei=qn.getBuffer(qn.create(Bi.buffer,Ih,!1,!0)):Ei=qn.getBuffer(Bi.buffer),Be.command(!!Ei,'missing buffer for attribute "'+Oi+'"',Dr.commandStr);var Fi=Bi.offset|0;Be.command(Fi>=0,'invalid offset for attribute "'+Oi+'"',Dr.commandStr);var ma=Bi.stride|0;Be.command(ma>=0&&ma<256,'invalid stride for attribute "'+Oi+'", must be integer betweeen [0, 255]',Dr.commandStr);var eo=Bi.size|0;Be.command(!("size"in Bi)||eo>0&&eo<=4,'invalid size for attribute "'+Oi+'", must be 1,2,3,4',Dr.commandStr);var lo=!!Bi.normalized,Ua=0;"type"in Bi&&(Be.commandParameter(Bi.type,Po,"invalid type for attribute "+Oi,Dr.commandStr),Ua=Po[Bi.type]);var No=Bi.divisor|0;"divisor"in Bi&&(Be.command(No===0||Vi,'cannot specify divisor for attribute "'+Oi+'", instancing not supported',Dr.commandStr),Be.command(No>=0,'invalid divisor for attribute "'+Oi+'"',Dr.commandStr)),Be.optional(function(){var Ya=Dr.commandStr,Su=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Bi).forEach(function(Ss){Be.command(Su.indexOf(Ss)>=0,'unknown parameter "'+Ss+'" for attribute pointer "'+Oi+'" (valid parameters are '+Su+")",Ya)})}),Xr.buffer=Ei,Xr.state=is,Xr.size=eo,Xr.normalized=lo,Xr.type=Ua||Ei.dtype,Xr.offset=Fi,Xr.stride=ma,Xr.divisor=No}}Na[Oi]=Yi(function(Ya,Su){var Ss=Ya.attribCache;if(Ki in Ss)return Ss[Ki];var ou={isStream:!1};return Object.keys(Xr).forEach(function(ju){ou[ju]=Xr[ju]}),Xr.buffer&&(ou.buffer=Ya.link(Xr.buffer),ou.type=ou.type||ou.buffer+".dtype"),Ss[Ki]=ou,ou})}),Object.keys(Pa).forEach(function(Oi){var Bi=Pa[Oi];function Ki(Xr,Ei){var Er=Xr.invoke(Ei,Bi),Fi=Xr.shared,ma=Xr.constants,eo=Fi.isBufferArgs,lo=Fi.buffer;Be.optional(function(){Xr.assert(Ei,Er+"&&(typeof "+Er+'==="object"||typeof '+Er+'==="function")&&('+eo+"("+Er+")||"+lo+".getBuffer("+Er+")||"+lo+".getBuffer("+Er+".buffer)||"+eo+"("+Er+'.buffer)||("constant" in '+Er+"&&(typeof "+Er+'.constant==="number"||'+Fi.isArrayLike+"("+Er+".constant))))",'invalid dynamic attribute "'+Oi+'"')});var Ua={isStream:Ei.def(!1)},No=new gr;No.state=is,Object.keys(No).forEach(function(ou){Ua[ou]=Ei.def(""+No[ou])});var Ya=Ua.buffer,Su=Ua.type;Ei("if(",eo,"(",Er,")){",Ua.isStream,"=true;",Ya,"=",lo,".createStream(",Ih,",",Er,");",Su,"=",Ya,".dtype;","}else{",Ya,"=",lo,".getBuffer(",Er,");","if(",Ya,"){",Su,"=",Ya,".dtype;",'}else if("constant" in ',Er,"){",Ua.state,"=",Co,";","if(typeof "+Er+'.constant === "number"){',Ua[Xa[0]],"=",Er,".constant;",Xa.slice(1).map(function(ou){return Ua[ou]}).join("="),"=0;","}else{",Xa.map(function(ou,ju){return Ua[ou]+"="+Er+".constant.length>"+ju+"?"+Er+".constant["+ju+"]:0;"}).join(""),"}}else{","if(",eo,"(",Er,".buffer)){",Ya,"=",lo,".createStream(",Ih,",",Er,".buffer);","}else{",Ya,"=",lo,".getBuffer(",Er,".buffer);","}",Su,'="type" in ',Er,"?",ma.glTypes,"[",Er,".type]:",Ya,".dtype;",Ua.normalized,"=!!",Er,".normalized;");function Ss(ou){Ei(Ua[ou],"=",Er,".",ou,"|0;")}return Ss("size"),Ss("offset"),Ss("stride"),Ss("divisor"),Ei("}}"),Ei.exit("if(",Ua.isStream,"){",lo,".destroyStream(",Ya,");","}"),Ua}Na[Oi]=Zo(Bi,Ki)}),Na}function Rf(Kn,Dr){var ii=Kn.static,Pa=Kn.dynamic;if(hd in ii){var Na=ii[hd];return Na!==null&&bi.getVAO(Na)===null&&(Na=bi.createVAO(Na)),Yi(function(Bi){return Bi.link(bi.getVAO(Na))})}else if(hd in Pa){var Oi=Pa[hd];return Zo(Oi,function(Bi,Ki){var Xr=Bi.invoke(Ki,Oi);return Ki.def(Bi.shared.vao+".getVAO("+Xr+")")})}return null}function sl(Kn){var Dr=Kn.static,ii=Kn.dynamic,Pa={};return Object.keys(Dr).forEach(function(Na){var Oi=Dr[Na];Pa[Na]=Yi(function(Bi,Ki){return typeof Oi=="number"||typeof Oi=="boolean"?""+Oi:Bi.link(Oi)})}),Object.keys(ii).forEach(function(Na){var Oi=ii[Na];Pa[Na]=Zo(Oi,function(Bi,Ki){return Bi.invoke(Ki,Oi)})}),Pa}function af(Kn,Dr,ii,Pa,Na){var Oi=Kn.static,Bi=Kn.dynamic;Be.optional(function(){var Ss=[Xc,P0,Rd,oh,nf,Sl,zd,Zd,gf,hd].concat(ka);function ou(ju){Object.keys(ju).forEach(function(cc){Be.command(Ss.indexOf(cc)>=0,'unknown parameter "'+cc+'"',Na.commandStr)})}ou(Oi),ou(Bi)});var Ki=Gu(Kn,Dr),Xr=Ls(Kn,Na),Ei=ll(Kn,Xr,Na),Er=dl(Kn,Na),Fi=pd(Kn,Na),ma=cl(Kn,Na,Ki);function eo(Ss){var ou=Ei[Ss];ou&&(Fi[Ss]=ou)}eo(ah),eo(qa(m0));var lo=Object.keys(Fi).length>0,Ua={framebuffer:Xr,draw:Er,shader:ma,state:Fi,dirty:lo,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ua.profile=kt(Kn,Na),Ua.uniforms=gd(ii,Na),Ua.drawVAO=Ua.scopeVAO=Rf(Kn,Na),!Ua.drawVAO&&ma.program&&!Ki&&Wt.angle_instanced_arrays){var No=!0,Ya=ma.program.attributes.map(function(Ss){var ou=Dr.static[Ss];return No=No&&!!ou,ou});if(No&&Ya.length>0){var Su=bi.getVAO(bi.createVAO(Ya));Ua.drawVAO=new Mn(null,null,null,function(Ss,ou){return Ss.link(Su)}),Ua.useVAO=!0}}return Ki?Ua.useVAO=!0:Ua.attributes=ku(Dr,Na),Ua.context=sl(Pa,Na),Ua}function Qc(Kn,Dr,ii){var Pa=Kn.shared,Na=Pa.context,Oi=Kn.scope();Object.keys(ii).forEach(function(Bi){Dr.save(Na,"."+Bi);var Ki=ii[Bi];Oi(Na,".",Bi,"=",Ki.append(Kn,Dr),";")}),Dr(Oi)}function Pf(Kn,Dr,ii,Pa){var Na=Kn.shared,Oi=Na.gl,Bi=Na.framebuffer,Ki;da&&(Ki=Dr.def(Na.extensions,".webgl_draw_buffers"));var Xr=Kn.constants,Ei=Xr.drawBuffer,Er=Xr.backBuffer,Fi;ii?Fi=ii.append(Kn,Dr):Fi=Dr.def(Bi,".next"),Pa||Dr("if(",Fi,"!==",Bi,".cur){"),Dr("if(",Fi,"){",Oi,".bindFramebuffer(",fu,",",Fi,".framebuffer);"),da&&Dr(Ki,".drawBuffersWEBGL(",Ei,"[",Fi,".colorAttachments.length]);"),Dr("}else{",Oi,".bindFramebuffer(",fu,",null);"),da&&Dr(Ki,".drawBuffersWEBGL(",Er,");"),Dr("}",Bi,".cur=",Fi,";"),Pa||Dr("}")}function If(Kn,Dr,ii){var Pa=Kn.shared,Na=Pa.gl,Oi=Kn.current,Bi=Kn.next,Ki=Pa.current,Xr=Pa.next,Ei=Kn.cond(Ki,".dirty");ka.forEach(function(Er){var Fi=qa(Er);if(!(Fi in ii.state)){var ma,eo;if(Fi in Bi){ma=Bi[Fi],eo=Oi[Fi];var lo=ur(na[Fi].length,function(No){return Ei.def(ma,"[",No,"]")});Ei(Kn.cond(lo.map(function(No,Ya){return No+"!=="+eo+"["+Ya+"]"}).join("||")).then(Na,".",aa[Fi],"(",lo,");",lo.map(function(No,Ya){return eo+"["+Ya+"]="+No}).join(";"),";"))}else{ma=Ei.def(Xr,".",Fi);var Ua=Kn.cond(ma,"!==",Ki,".",Fi);Ei(Ua),Fi in no?Ua(Kn.cond(ma).then(Na,".enable(",no[Fi],");").else(Na,".disable(",no[Fi],");"),Ki,".",Fi,"=",ma,";"):Ua(Na,".",aa[Fi],"(",ma,");",Ki,".",Fi,"=",ma,";")}}}),Object.keys(ii.state).length===0&&Ei(Ki,".dirty=false;"),Dr(Ei)}function wd(Kn,Dr,ii,Pa){var Na=Kn.shared,Oi=Kn.current,Bi=Na.current,Ki=Na.gl;un(Object.keys(ii)).forEach(function(Xr){var Ei=ii[Xr];if(!(Pa&&!Pa(Ei))){var Er=Ei.append(Kn,Dr);if(no[Xr]){var Fi=no[Xr];kr(Ei)?Er?Dr(Ki,".enable(",Fi,");"):Dr(Ki,".disable(",Fi,");"):Dr(Kn.cond(Er).then(Ki,".enable(",Fi,");").else(Ki,".disable(",Fi,");")),Dr(Bi,".",Xr,"=",Er,";")}else if(Mi(Er)){var ma=Oi[Xr];Dr(Ki,".",aa[Xr],"(",Er,");",Er.map(function(eo,lo){return ma+"["+lo+"]="+eo}).join(";"),";")}else Dr(Ki,".",aa[Xr],"(",Er,");",Bi,".",Xr,"=",Er,";")}})}function Rc(Kn,Dr){Vi&&(Kn.instancing=Dr.def(Kn.shared.extensions,".angle_instanced_arrays"))}function Bu(Kn,Dr,ii,Pa,Na){var Oi=Kn.shared,Bi=Kn.stats,Ki=Oi.current,Xr=Oi.timer,Ei=ii.profile;function Er(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var Fi,ma;function eo(Ss){Fi=Dr.def(),Ss(Fi,"=",Er(),";"),typeof Na=="string"?Ss(Bi,".count+=",Na,";"):Ss(Bi,".count++;"),Fr&&(Pa?(ma=Dr.def(),Ss(ma,"=",Xr,".getNumPendingQueries();")):Ss(Xr,".beginQuery(",Bi,");"))}function lo(Ss){Ss(Bi,".cpuTime+=",Er(),"-",Fi,";"),Fr&&(Pa?Ss(Xr,".pushScopeStats(",ma,",",Xr,".getNumPendingQueries(),",Bi,");"):Ss(Xr,".endQuery();"))}function Ua(Ss){var ou=Dr.def(Ki,".profile");Dr(Ki,".profile=",Ss,";"),Dr.exit(Ki,".profile=",ou,";")}var No;if(Ei){if(kr(Ei)){Ei.enable?(eo(Dr),lo(Dr.exit),Ua("true")):Ua("false");return}No=Ei.append(Kn,Dr),Ua(No)}else No=Dr.def(Ki,".profile");var Ya=Kn.block();eo(Ya),Dr("if(",No,"){",Ya,"}");var Su=Kn.block();lo(Su),Dr.exit("if(",No,"){",Su,"}")}function of(Kn,Dr,ii,Pa,Na){var Oi=Kn.shared;function Bi(Xr){switch(Xr){case Od:case N:case Ft:return 2;case Ed:case F:case kn:return 3;case id:case ce:case si:return 4;default:return 1}}function Ki(Xr,Ei,Er){var Fi=Oi.gl,ma=Dr.def(Xr,".location"),eo=Dr.def(Oi.attributes,"[",ma,"]"),lo=Er.state,Ua=Er.buffer,No=[Er.x,Er.y,Er.z,Er.w],Ya=["buffer","normalized","offset","stride"];function Su(){Dr("if(!",eo,".buffer){",Fi,".enableVertexAttribArray(",ma,");}");var ou=Er.type,ju;if(Er.size?ju=Dr.def(Er.size,"||",Ei):ju=Ei,Dr("if(",eo,".type!==",ou,"||",eo,".size!==",ju,"||",Ya.map(function(od){return eo+"."+od+"!=="+Er[od]}).join("||"),"){",Fi,".bindBuffer(",Ih,",",Ua,".buffer);",Fi,".vertexAttribPointer(",[ma,ju,ou,Er.normalized,Er.stride,Er.offset],");",eo,".type=",ou,";",eo,".size=",ju,";",Ya.map(function(od){return eo+"."+od+"="+Er[od]+";"}).join(""),"}"),Vi){var cc=Er.divisor;Dr("if(",eo,".divisor!==",cc,"){",Kn.instancing,".vertexAttribDivisorANGLE(",[ma,cc],");",eo,".divisor=",cc,";}")}}function Ss(){Dr("if(",eo,".buffer){",Fi,".disableVertexAttribArray(",ma,");",eo,".buffer=null;","}if(",Xa.map(function(ou,ju){return eo+"."+ou+"!=="+No[ju]}).join("||"),"){",Fi,".vertexAttrib4f(",ma,",",No,");",Xa.map(function(ou,ju){return eo+"."+ou+"="+No[ju]+";"}).join(""),"}")}lo===is?Su():lo===Co?Ss():(Dr("if(",lo,"===",is,"){"),Su(),Dr("}else{"),Ss(),Dr("}"))}Pa.forEach(function(Xr){var Ei=Xr.name,Er=ii.attributes[Ei],Fi;if(Er){if(!Na(Er))return;Fi=Er.append(Kn,Dr)}else{if(!Na(os))return;var ma=Kn.scopeAttrib(Ei);Be.optional(function(){Kn.assert(Dr,ma+".state","missing attribute "+Ei)}),Fi={},Object.keys(new gr).forEach(function(eo){Fi[eo]=Dr.def(ma,".",eo)})}Ki(Kn.link(Xr),Bi(Xr.info.type),Fi)})}function El(Kn,Dr,ii,Pa,Na){for(var Oi=Kn.shared,Bi=Oi.gl,Ki,Xr=0;Xr<Pa.length;++Xr){var Ei=Pa[Xr],Er=Ei.name,Fi=Ei.info.type,ma=ii.uniforms[Er],eo=Kn.link(Ei),lo=eo+".location",Ua;if(ma){if(!Na(ma))continue;if(kr(ma)){var No=ma.value;if(Be.command(No!==null&&typeof No!="undefined",'missing uniform "'+Er+'"',Kn.commandStr),Fi===Gs||Fi===lu){Be.command(typeof No=="function"&&(Fi===Gs&&(No._reglType==="texture2d"||No._reglType==="framebuffer")||Fi===lu&&(No._reglType==="textureCube"||No._reglType==="framebufferCube")),"invalid texture for uniform "+Er,Kn.commandStr);var Ya=Kn.link(No._texture||No.color[0]._texture);Dr(Bi,".uniform1i(",lo,",",Ya+".bind());"),Dr.exit(Ya,".unbind();")}else if(Fi===ki||Fi===ro||Fi===bo){Be.optional(function(){Be.command(Mi(No),"invalid matrix for uniform "+Er,Kn.commandStr),Be.command(Fi===ki&&No.length===4||Fi===ro&&No.length===9||Fi===bo&&No.length===16,"invalid length for matrix uniform "+Er,Kn.commandStr)});var Su=Kn.global.def("new Float32Array(["+Array.prototype.slice.call(No)+"])"),Ss=2;Fi===ro?Ss=3:Fi===bo&&(Ss=4),Dr(Bi,".uniformMatrix",Ss,"fv(",lo,",false,",Su,");")}else{switch(Fi){case wf:Be.commandType(No,"number","uniform "+Er,Kn.commandStr),Ki="1f";break;case Od:Be.command(Mi(No)&&No.length===2,"uniform "+Er,Kn.commandStr),Ki="2f";break;case Ed:Be.command(Mi(No)&&No.length===3,"uniform "+Er,Kn.commandStr),Ki="3f";break;case id:Be.command(Mi(No)&&No.length===4,"uniform "+Er,Kn.commandStr),Ki="4f";break;case ht:Be.commandType(No,"boolean","uniform "+Er,Kn.commandStr),Ki="1i";break;case uh:Be.commandType(No,"number","uniform "+Er,Kn.commandStr),Ki="1i";break;case Ft:Be.command(Mi(No)&&No.length===2,"uniform "+Er,Kn.commandStr),Ki="2i";break;case N:Be.command(Mi(No)&&No.length===2,"uniform "+Er,Kn.commandStr),Ki="2i";break;case kn:Be.command(Mi(No)&&No.length===3,"uniform "+Er,Kn.commandStr),Ki="3i";break;case F:Be.command(Mi(No)&&No.length===3,"uniform "+Er,Kn.commandStr),Ki="3i";break;case si:Be.command(Mi(No)&&No.length===4,"uniform "+Er,Kn.commandStr),Ki="4i";break;case ce:Be.command(Mi(No)&&No.length===4,"uniform "+Er,Kn.commandStr),Ki="4i";break}Dr(Bi,".uniform",Ki,"(",lo,",",Mi(No)?Array.prototype.slice.call(No):No,");")}continue}else Ua=ma.append(Kn,Dr)}else{if(!Na(os))continue;Ua=Dr.def(Oi.uniforms,"[",ot.id(Er),"]")}Fi===Gs?Dr("if(",Ua,"&&",Ua,'._reglType==="framebuffer"){',Ua,"=",Ua,".color[0];","}"):Fi===lu&&Dr("if(",Ua,"&&",Ua,'._reglType==="framebufferCube"){',Ua,"=",Ua,".color[0];","}"),Be.optional(function(){function $h(tp,Yp){Kn.assert(Dr,tp,'bad data or missing for uniform "'+Er+'".  '+Yp)}function bm(tp){$h("typeof "+Ua+'==="'+tp+'"',"invalid type, expected "+tp)}function b0(tp,Yp){$h(Oi.isArrayLike+"("+Ua+")&&"+Ua+".length==="+tp,"invalid vector, should have length "+tp,Kn.commandStr)}function o1(tp){$h("typeof "+Ua+'==="function"&&'+Ua+'._reglType==="texture'+(tp===y0?"2d":"Cube")+'"',"invalid texture type",Kn.commandStr)}switch(Fi){case uh:bm("number");break;case N:b0(2,"number");break;case F:b0(3,"number");break;case ce:b0(4,"number");break;case wf:bm("number");break;case Od:b0(2,"number");break;case Ed:b0(3,"number");break;case id:b0(4,"number");break;case ht:bm("boolean");break;case Ft:b0(2,"boolean");break;case kn:b0(3,"boolean");break;case si:b0(4,"boolean");break;case ki:b0(4,"number");break;case ro:b0(9,"number");break;case bo:b0(16,"number");break;case Gs:o1(y0);break;case lu:o1(Cd);break}});var ou=1;switch(Fi){case Gs:case lu:var ju=Dr.def(Ua,"._texture");Dr(Bi,".uniform1i(",lo,",",ju,".bind());"),Dr.exit(ju,".unbind();");continue;case uh:case ht:Ki="1i";break;case N:case Ft:Ki="2i",ou=2;break;case F:case kn:Ki="3i",ou=3;break;case ce:case si:Ki="4i",ou=4;break;case wf:Ki="1f";break;case Od:Ki="2f",ou=2;break;case Ed:Ki="3f",ou=3;break;case id:Ki="4f",ou=4;break;case ki:Ki="Matrix2fv";break;case ro:Ki="Matrix3fv";break;case bo:Ki="Matrix4fv";break}if(Dr(Bi,".uniform",Ki,"(",lo,","),Ki.charAt(0)==="M"){var cc=Math.pow(Fi-ki+2,2),od=Kn.global.def("new Float32Array(",cc,")");Dr("false,(Array.isArray(",Ua,")||",Ua," instanceof Float32Array)?",Ua,":(",ur(cc,function($h){return od+"["+$h+"]="+Ua+"["+$h+"]"}),",",od,")")}else ou>1?Dr(ur(ou,function($h){return Ua+"["+$h+"]"})):Dr(Ua);Dr(");")}}function vs(Kn,Dr,ii,Pa){var Na=Kn.shared,Oi=Na.gl,Bi=Na.draw,Ki=Pa.draw;function Xr(){var ju=Ki.elements,cc,od=Dr;return ju?((ju.contextDep&&Pa.contextDynamic||ju.propDep)&&(od=ii),cc=ju.append(Kn,od)):cc=od.def(Bi,".",oh),cc&&od("if("+cc+")"+Oi+".bindBuffer("+Ap+","+cc+".buffer.buffer);"),cc}function Ei(){var ju=Ki.count,cc,od=Dr;return ju?((ju.contextDep&&Pa.contextDynamic||ju.propDep)&&(od=ii),cc=ju.append(Kn,od),Be.optional(function(){ju.MISSING&&Kn.assert(Dr,"false","missing vertex count"),ju.DYNAMIC&&Kn.assert(od,cc+">=0","missing vertex count")})):(cc=od.def(Bi,".",zd),Be.optional(function(){Kn.assert(od,cc+">=0","missing vertex count")})),cc}var Er=Xr();function Fi(ju){var cc=Ki[ju];return cc?cc.contextDep&&Pa.contextDynamic||cc.propDep?cc.append(Kn,ii):cc.append(Kn,Dr):Dr.def(Bi,".",ju)}var ma=Fi(nf),eo=Fi(Sl),lo=Ei();if(typeof lo=="number"){if(lo===0)return}else ii("if(",lo,"){"),ii.exit("}");var Ua,No;Vi&&(Ua=Fi(Zd),No=Kn.instancing);var Ya=Er+".type",Su=Ki.elements&&kr(Ki.elements);function Ss(){function ju(){ii(No,".drawElementsInstancedANGLE(",[ma,lo,Ya,eo+"<<(("+Ya+"-"+ts+")>>1)",Ua],");")}function cc(){ii(No,".drawArraysInstancedANGLE(",[ma,eo,lo,Ua],");")}Er?Su?ju():(ii("if(",Er,"){"),ju(),ii("}else{"),cc(),ii("}")):cc()}function ou(){function ju(){ii(Oi+".drawElements("+[ma,lo,Ya,eo+"<<(("+Ya+"-"+ts+")>>1)"]+");")}function cc(){ii(Oi+".drawArrays("+[ma,eo,lo]+");")}Er?Su?ju():(ii("if(",Er,"){"),ju(),ii("}else{"),cc(),ii("}")):cc()}Vi&&(typeof Ua!="number"||Ua>=0)?typeof Ua=="string"?(ii("if(",Ua,">0){"),Ss(),ii("}else if(",Ua,"<0){"),ou(),ii("}")):Ss():ou()}function qs(Kn,Dr,ii,Pa,Na){var Oi=bu(),Bi=Oi.proc("body",Na);return Be.optional(function(){Oi.commandStr=Dr.commandStr,Oi.command=Oi.link(Dr.commandStr)}),Vi&&(Oi.instancing=Bi.def(Oi.shared.extensions,".angle_instanced_arrays")),Kn(Oi,Bi,ii,Pa),Oi.compile().body}function uu(Kn,Dr,ii,Pa){Rc(Kn,Dr),ii.useVAO?ii.drawVAO?Dr(Kn.shared.vao,".setVAO(",ii.drawVAO.append(Kn,Dr),");"):Dr(Kn.shared.vao,".setVAO(",Kn.shared.vao,".targetVAO);"):(Dr(Kn.shared.vao,".setVAO(null);"),of(Kn,Dr,ii,Pa.attributes,function(){return!0})),El(Kn,Dr,ii,Pa.uniforms,function(){return!0}),vs(Kn,Dr,Dr,ii)}function Tf(Kn,Dr){var ii=Kn.proc("draw",1);Rc(Kn,ii),Qc(Kn,ii,Dr.context),Pf(Kn,ii,Dr.framebuffer),If(Kn,ii,Dr),wd(Kn,ii,Dr.state),Bu(Kn,ii,Dr,!1,!0);var Pa=Dr.shader.progVar.append(Kn,ii);if(ii(Kn.shared.gl,".useProgram(",Pa,".program);"),Dr.shader.program)uu(Kn,ii,Dr,Dr.shader.program);else{ii(Kn.shared.vao,".setVAO(null);");var Na=Kn.global.def("{}"),Oi=ii.def(Pa,".id"),Bi=ii.def(Na,"[",Oi,"]");ii(Kn.cond(Bi).then(Bi,".call(this,a0);").else(Bi,"=",Na,"[",Oi,"]=",Kn.link(function(Ki){return qs(uu,Kn,Dr,Ki,1)}),"(",Pa,");",Bi,".call(this,a0);"))}Object.keys(Dr.state).length>0&&ii(Kn.shared.current,".dirty=true;")}function s0(Kn,Dr,ii,Pa){Kn.batchId="a1",Rc(Kn,Dr);function Na(){return!0}of(Kn,Dr,ii,Pa.attributes,Na),El(Kn,Dr,ii,Pa.uniforms,Na),vs(Kn,Dr,Dr,ii)}function qr(Kn,Dr,ii,Pa){Rc(Kn,Dr);var Na=ii.contextDep,Oi=Dr.def(),Bi="a0",Ki="a1",Xr=Dr.def();Kn.shared.props=Xr,Kn.batchId=Oi;var Ei=Kn.scope(),Er=Kn.scope();Dr(Ei.entry,"for(",Oi,"=0;",Oi,"<",Ki,";++",Oi,"){",Xr,"=",Bi,"[",Oi,"];",Er,"}",Ei.exit);function Fi(Ya){return Ya.contextDep&&Na||Ya.propDep}function ma(Ya){return!Fi(Ya)}if(ii.needsContext&&Qc(Kn,Er,ii.context),ii.needsFramebuffer&&Pf(Kn,Er,ii.framebuffer),wd(Kn,Er,ii.state,Fi),ii.profile&&Fi(ii.profile)&&Bu(Kn,Er,ii,!1,!0),Pa)ii.useVAO?ii.drawVAO?Fi(ii.drawVAO)?Er(Kn.shared.vao,".setVAO(",ii.drawVAO.append(Kn,Er),");"):Ei(Kn.shared.vao,".setVAO(",ii.drawVAO.append(Kn,Ei),");"):Ei(Kn.shared.vao,".setVAO(",Kn.shared.vao,".targetVAO);"):(Ei(Kn.shared.vao,".setVAO(null);"),of(Kn,Ei,ii,Pa.attributes,ma),of(Kn,Er,ii,Pa.attributes,Fi)),El(Kn,Ei,ii,Pa.uniforms,ma),El(Kn,Er,ii,Pa.uniforms,Fi),vs(Kn,Ei,Er,ii);else{var eo=Kn.global.def("{}"),lo=ii.shader.progVar.append(Kn,Er),Ua=Er.def(lo,".id"),No=Er.def(eo,"[",Ua,"]");Er(Kn.shared.gl,".useProgram(",lo,".program);","if(!",No,"){",No,"=",eo,"[",Ua,"]=",Kn.link(function(Ya){return qs(s0,Kn,ii,Ya,2)}),"(",lo,");}",No,".call(this,a0[",Oi,"],",Oi,");")}}function Ra(Kn,Dr){var ii=Kn.proc("batch",2);Kn.batchId="0",Rc(Kn,ii);var Pa=!1,Na=!0;Object.keys(Dr.context).forEach(function(eo){Pa=Pa||Dr.context[eo].propDep}),Pa||(Qc(Kn,ii,Dr.context),Na=!1);var Oi=Dr.framebuffer,Bi=!1;Oi?(Oi.propDep?Pa=Bi=!0:Oi.contextDep&&Pa&&(Bi=!0),Bi||Pf(Kn,ii,Oi)):Pf(Kn,ii,null),Dr.state.viewport&&Dr.state.viewport.propDep&&(Pa=!0);function Ki(eo){return eo.contextDep&&Pa||eo.propDep}If(Kn,ii,Dr),wd(Kn,ii,Dr.state,function(eo){return!Ki(eo)}),(!Dr.profile||!Ki(Dr.profile))&&Bu(Kn,ii,Dr,!1,"a1"),Dr.contextDep=Pa,Dr.needsContext=Na,Dr.needsFramebuffer=Bi;var Xr=Dr.shader.progVar;if(Xr.contextDep&&Pa||Xr.propDep)qr(Kn,ii,Dr,null);else{var Ei=Xr.append(Kn,ii);if(ii(Kn.shared.gl,".useProgram(",Ei,".program);"),Dr.shader.program)qr(Kn,ii,Dr,Dr.shader.program);else{ii(Kn.shared.vao,".setVAO(null);");var Er=Kn.global.def("{}"),Fi=ii.def(Ei,".id"),ma=ii.def(Er,"[",Fi,"]");ii(Kn.cond(ma).then(ma,".call(this,a0,a1);").else(ma,"=",Er,"[",Fi,"]=",Kn.link(function(eo){return qs(qr,Kn,Dr,eo,2)}),"(",Ei,");",ma,".call(this,a0,a1);"))}}Object.keys(Dr.state).length>0&&ii(Kn.shared.current,".dirty=true;")}function La(Kn,Dr){var ii=Kn.proc("scope",3);Kn.batchId="a2";var Pa=Kn.shared,Na=Pa.current;Qc(Kn,ii,Dr.context),Dr.framebuffer&&Dr.framebuffer.append(Kn,ii),un(Object.keys(Dr.state)).forEach(function(Bi){var Ki=Dr.state[Bi],Xr=Ki.append(Kn,ii);Mi(Xr)?Xr.forEach(function(Ei,Er){ii.set(Kn.next[Bi],"["+Er+"]",Ei)}):ii.set(Pa.next,"."+Bi,Xr)}),Bu(Kn,ii,Dr,!0,!0),[oh,Sl,zd,Zd,nf].forEach(function(Bi){var Ki=Dr.draw[Bi];Ki&&ii.set(Pa.draw,"."+Bi,""+Ki.append(Kn,ii))}),Object.keys(Dr.uniforms).forEach(function(Bi){ii.set(Pa.uniforms,"["+ot.id(Bi)+"]",Dr.uniforms[Bi].append(Kn,ii))}),Object.keys(Dr.attributes).forEach(function(Bi){var Ki=Dr.attributes[Bi].append(Kn,ii),Xr=Kn.scopeAttrib(Bi);Object.keys(new gr).forEach(function(Ei){ii.set(Xr,"."+Ei,Ki[Ei])})}),Dr.scopeVAO&&ii.set(Pa.vao,".targetVAO",Dr.scopeVAO.append(Kn,ii));function Oi(Bi){var Ki=Dr.shader[Bi];Ki&&ii.set(Pa.shader,"."+Bi,Ki.append(Kn,ii))}Oi(P0),Oi(Rd),Object.keys(Dr.state).length>0&&(ii(Na,".dirty=true;"),ii.exit(Na,".dirty=true;")),ii("a1(",Kn.shared.context,",a0,",Kn.batchId,");")}function _s(Kn){if(!(typeof Kn!="object"||Mi(Kn))){for(var Dr=Object.keys(Kn),ii=0;ii<Dr.length;++ii)if(Nn.isDynamic(Kn[Dr[ii]]))return!0;return!1}}function Al(Kn,Dr,ii){var Pa=Dr.static[ii];if(!Pa||!_s(Pa))return;var Na=Kn.global,Oi=Object.keys(Pa),Bi=!1,Ki=!1,Xr=!1,Ei=Kn.global.def("{}");Oi.forEach(function(Fi){var ma=Pa[Fi];if(Nn.isDynamic(ma)){typeof ma=="function"&&(ma=Pa[Fi]=Nn.unbox(ma));var eo=Zo(ma,null);Bi=Bi||eo.thisDep,Xr=Xr||eo.propDep,Ki=Ki||eo.contextDep}else{switch(Na(Ei,".",Fi,"="),typeof ma){case"number":Na(ma);break;case"string":Na('"',ma,'"');break;case"object":Array.isArray(ma)&&Na("[",ma.join(),"]");break;default:Na(Kn.link(ma));break}Na(";")}});function Er(Fi,ma){Oi.forEach(function(eo){var lo=Pa[eo];if(Nn.isDynamic(lo)){var Ua=Fi.invoke(ma,lo);ma(Ei,".",eo,"=",Ua,";")}})}Dr.dynamic[ii]=new Nn.DynamicVariable(_h,{thisDep:Bi,contextDep:Ki,propDep:Xr,ref:Ei,append:Er}),delete Dr.static[ii]}function mf(Kn,Dr,ii,Pa,Na){var Oi=bu();Oi.stats=Oi.link(Na),Object.keys(Dr.static).forEach(function(Ki){Al(Oi,Dr,Ki)}),Ph.forEach(function(Ki){Al(Oi,Kn,Ki)});var Bi=af(Kn,Dr,ii,Pa,Oi);return Tf(Oi,Bi),La(Oi,Bi),Ra(Oi,Bi),Oi.compile()}return{next:Ja,current:na,procs:function(){var Kn=bu(),Dr=Kn.proc("poll"),ii=Kn.proc("refresh"),Pa=Kn.block();Dr(Pa),ii(Pa);var Na=Kn.shared,Oi=Na.gl,Bi=Na.next,Ki=Na.current;Pa(Ki,".dirty=false;"),Pf(Kn,Dr),Pf(Kn,ii,null,!0);var Xr;Vi&&(Xr=Kn.link(Vi)),Wt.oes_vertex_array_object&&ii(Kn.link(Wt.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Ei=0;Ei<zn.maxAttributes;++Ei){var Er=ii.def(Na.attributes,"[",Ei,"]"),Fi=Kn.cond(Er,".buffer");Fi.then(Oi,".enableVertexAttribArray(",Ei,");",Oi,".bindBuffer(",Ih,",",Er,".buffer.buffer);",Oi,".vertexAttribPointer(",Ei,",",Er,".size,",Er,".type,",Er,".normalized,",Er,".stride,",Er,".offset);").else(Oi,".disableVertexAttribArray(",Ei,");",Oi,".vertexAttrib4f(",Ei,",",Er,".x,",Er,".y,",Er,".z,",Er,".w);",Er,".buffer=null;"),ii(Fi),Vi&&ii(Xr,".vertexAttribDivisorANGLE(",Ei,",",Er,".divisor);")}return ii(Kn.shared.vao,".currentVAO=null;",Kn.shared.vao,".setVAO(",Kn.shared.vao,".targetVAO);"),Object.keys(no).forEach(function(ma){var eo=no[ma],lo=Pa.def(Bi,".",ma),Ua=Kn.block();Ua("if(",lo,"){",Oi,".enable(",eo,")}else{",Oi,".disable(",eo,")}",Ki,".",ma,"=",lo,";"),ii(Ua),Dr("if(",lo,"!==",Ki,".",ma,"){",Ua,"}")}),Object.keys(aa).forEach(function(ma){var eo=aa[ma],lo=na[ma],Ua,No,Ya=Kn.block();if(Ya(Oi,".",eo,"("),Mi(lo)){var Su=lo.length;Ua=Kn.global.def(Bi,".",ma),No=Kn.global.def(Ki,".",ma),Ya(ur(Su,function(Ss){return Ua+"["+Ss+"]"}),");",ur(Su,function(Ss){return No+"["+Ss+"]="+Ua+"["+Ss+"];"}).join("")),Dr("if(",ur(Su,function(Ss){return Ua+"["+Ss+"]!=="+No+"["+Ss+"]"}).join("||"),"){",Ya,"}")}else Ua=Pa.def(Bi,".",ma),No=Pa.def(Ki,".",ma),Ya(Ua,");",Ki,".",ma,"=",Ua,";"),Dr("if(",Ua,"!==",No,"){",Ya,"}");ii(Ya)}),Kn.compile()}(),compile:mf}}function Pu(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var tl=34918,rl=34919,Mf=35007,lc=function(Te,ot){if(!ot.ext_disjoint_timer_query)return null;var Wt=[];function zn(){return Wt.pop()||ot.ext_disjoint_timer_query.createQueryEXT()}function qn(Vi){Wt.push(Vi)}var sr=[];function Qn(Vi){var da=zn();ot.ext_disjoint_timer_query.beginQueryEXT(Mf,da),sr.push(da),Fr(sr.length-1,sr.length,Vi)}function Qr(){ot.ext_disjoint_timer_query.endQueryEXT(Mf)}function Or(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var bi=[];function Pi(){return bi.pop()||new Or}function zr(Vi){bi.push(Vi)}var Tr=[];function Fr(Vi,da,na){var Ja=Pi();Ja.startQueryIndex=Vi,Ja.endQueryIndex=da,Ja.sum=0,Ja.stats=na,Tr.push(Ja)}var ri=[],gr=[];function jr(){var Vi,da,na=sr.length;if(na!==0){gr.length=Math.max(gr.length,na+1),ri.length=Math.max(ri.length,na+1),ri[0]=0,gr[0]=0;var Ja=0;for(Vi=0,da=0;da<sr.length;++da){var ka=sr[da];ot.ext_disjoint_timer_query.getQueryObjectEXT(ka,rl)?(Ja+=ot.ext_disjoint_timer_query.getQueryObjectEXT(ka,tl),qn(ka)):sr[Vi++]=ka,ri[da+1]=Ja,gr[da+1]=Vi}for(sr.length=Vi,Vi=0,da=0;da<Tr.length;++da){var no=Tr[da],aa=no.startQueryIndex,qa=no.endQueryIndex;no.sum+=ri[qa]-ri[aa];var _o=gr[aa],Ts=gr[qa];Ts===_o?(no.stats.gpuTime+=no.sum/1e6,zr(no)):(no.startQueryIndex=_o,no.endQueryIndex=Ts,Tr[Vi++]=no)}Tr.length=Vi}}return{beginQuery:Qn,endQuery:Qr,pushScopeStats:Fr,update:jr,getNumPendingQueries:function(){return sr.length},clear:function(){Wt.push.apply(Wt,sr);for(var Vi=0;Vi<Wt.length;Vi++)ot.ext_disjoint_timer_query.deleteQueryEXT(Wt[Vi]);sr.length=0,Wt.length=0},restore:function(){sr.length=0,Wt.length=0}}},ic=16384,W=256,X=1024,E=34962,x="webglcontextlost",V="webglcontextrestored",pe=1,he=2,ke=3;function bt(Te,ot){for(var Wt=0;Wt<Te.length;++Wt)if(Te[Wt]===ot)return Wt;return-1}function qt(Te){var ot=hn(Te);if(!ot)return null;var Wt=ot.gl,zn=Wt.getContextAttributes(),qn=Wt.isContextLost(),sr=pr(Wt,ot);if(!sr)return null;var Qn=nt(),Qr=Pu(),Or=sr.extensions,bi=lc(Wt,Or),Pi=wn(),zr=Wt.drawingBufferWidth,Tr=Wt.drawingBufferHeight,Fr={tick:0,time:0,viewportWidth:zr,viewportHeight:Tr,framebufferWidth:zr,framebufferHeight:Tr,drawingBufferWidth:zr,drawingBufferHeight:Tr,pixelRatio:ot.pixelRatio},ri={},gr={elements:null,primitive:4,count:-1,offset:0,instances:-1},jr=on(Wt,Or),Vi=mi(Wt,Qr,ot,na),da=Yc(Wt,Or,jr,Qr,Vi);function na(vs){return da.destroyBuffer(vs)}var Ja=hi(Wt,Or,Vi,Qr),ka=nc(Wt,Qn,Qr,ot),no=Yf(Wt,Or,jr,function(){_o.procs.poll()},Fr,Qr,ot),aa=sc(Wt,Or,jr,Qr,ot),qa=yc(Wt,Or,jr,no,aa,Qr),_o=yu(Wt,Qn,Or,jr,Vi,Ja,no,qa,ri,da,ka,gr,Fr,bi,ot),Ts=we(Wt,qa,_o.procs.poll,Fr,zn,Or,jr),to=_o.next,Ir=Wt.canvas,me=[],bu=[],kt=[],Ls=[ot.onDestroy],ll=null;function Gu(){if(me.length===0){bi&&bi.update(),ll=null;return}ll=$n.next(Gu),wd();for(var vs=me.length-1;vs>=0;--vs){var qs=me[vs];qs&&qs(Fr,null,0)}Wt.flush(),bi&&bi.update()}function cl(){!ll&&me.length>0&&(ll=$n.next(Gu))}function dl(){ll&&($n.cancel(Gu),ll=null)}function pd(vs){vs.preventDefault(),qn=!0,dl(),bu.forEach(function(qs){qs()})}function gd(vs){Wt.getError(),qn=!1,sr.restore(),ka.restore(),Vi.restore(),no.restore(),aa.restore(),qa.restore(),da.restore(),bi&&bi.restore(),_o.procs.refresh(),cl(),kt.forEach(function(qs){qs()})}Ir&&(Ir.addEventListener(x,pd,!1),Ir.addEventListener(V,gd,!1));function ku(){me.length=0,dl(),Ir&&(Ir.removeEventListener(x,pd),Ir.removeEventListener(V,gd)),ka.clear(),qa.clear(),aa.clear(),no.clear(),Ja.clear(),Vi.clear(),da.clear(),bi&&bi.clear(),Ls.forEach(function(vs){vs()})}function Rf(vs){Be(!!vs,"invalid args to regl({...})"),Be.type(vs,"object","invalid args to regl({...})");function qs(Na){var Oi=A({},Na);delete Oi.uniforms,delete Oi.attributes,delete Oi.context,delete Oi.vao,"stencil"in Oi&&Oi.stencil.op&&(Oi.stencil.opBack=Oi.stencil.opFront=Oi.stencil.op,delete Oi.stencil.op);function Bi(Ki){if(Ki in Oi){var Xr=Oi[Ki];delete Oi[Ki],Object.keys(Xr).forEach(function(Ei){Oi[Ki+"."+Ei]=Xr[Ei]})}}return Bi("blend"),Bi("depth"),Bi("cull"),Bi("stencil"),Bi("polygonOffset"),Bi("scissor"),Bi("sample"),"vao"in Na&&(Oi.vao=Na.vao),Oi}function uu(Na){var Oi={},Bi={};return Object.keys(Na).forEach(function(Ki){var Xr=Na[Ki];Nn.isDynamic(Xr)?Bi[Ki]=Nn.unbox(Xr,Ki):Oi[Ki]=Xr}),{dynamic:Bi,static:Oi}}var Tf=uu(vs.context||{}),s0=uu(vs.uniforms||{}),qr=uu(vs.attributes||{}),Ra=uu(qs(vs)),La={gpuTime:0,cpuTime:0,count:0},_s=_o.compile(Ra,qr,s0,Tf,La),Al=_s.draw,mf=_s.batch,Kn=_s.scope,Dr=[];function ii(Na){for(;Dr.length<Na;)Dr.push(null);return Dr}function Pa(Na,Oi){var Bi;if(qn&&Be.raise("context lost"),typeof Na=="function")return Kn.call(this,null,Na,0);if(typeof Oi=="function")if(typeof Na=="number")for(Bi=0;Bi<Na;++Bi)Kn.call(this,null,Oi,Bi);else if(Array.isArray(Na))for(Bi=0;Bi<Na.length;++Bi)Kn.call(this,Na[Bi],Oi,Bi);else return Kn.call(this,Na,Oi,0);else if(typeof Na=="number"){if(Na>0)return mf.call(this,ii(Na|0),Na|0)}else if(Array.isArray(Na)){if(Na.length)return mf.call(this,Na,Na.length)}else return Al.call(this,Na)}return A(Pa,{stats:La})}var sl=qa.setFBO=Rf({framebuffer:Nn.define.call(null,pe,"framebuffer")});function af(vs,qs){var uu=0;_o.procs.poll();var Tf=qs.color;Tf&&(Wt.clearColor(+Tf[0]||0,+Tf[1]||0,+Tf[2]||0,+Tf[3]||0),uu|=ic),"depth"in qs&&(Wt.clearDepth(+qs.depth),uu|=W),"stencil"in qs&&(Wt.clearStencil(qs.stencil|0),uu|=X),Be(!!uu,"called regl.clear with no buffer specified"),Wt.clear(uu)}function Qc(vs){if(Be(typeof vs=="object"&&vs,"regl.clear() takes an object as input"),"framebuffer"in vs)if(vs.framebuffer&&vs.framebuffer_reglType==="framebufferCube")for(var qs=0;qs<6;++qs)sl(A({framebuffer:vs.framebuffer.faces[qs]},vs),af);else sl(vs,af);else af(null,vs)}function Pf(vs){Be.type(vs,"function","regl.frame() callback must be a function"),me.push(vs);function qs(){var uu=bt(me,vs);Be(uu>=0,"cannot cancel a frame twice");function Tf(){var s0=bt(me,Tf);me[s0]=me[me.length-1],me.length-=1,me.length<=0&&dl()}me[uu]=Tf}return cl(),{cancel:qs}}function If(){var vs=to.viewport,qs=to.scissor_box;vs[0]=vs[1]=qs[0]=qs[1]=0,Fr.viewportWidth=Fr.framebufferWidth=Fr.drawingBufferWidth=vs[2]=qs[2]=Wt.drawingBufferWidth,Fr.viewportHeight=Fr.framebufferHeight=Fr.drawingBufferHeight=vs[3]=qs[3]=Wt.drawingBufferHeight}function wd(){Fr.tick+=1,Fr.time=Bu(),If(),_o.procs.poll()}function Rc(){If(),_o.procs.refresh(),bi&&bi.update()}function Bu(){return(wn()-Pi)/1e3}Rc();function of(vs,qs){Be.type(qs,"function","listener callback must be a function");var uu;switch(vs){case"frame":return Pf(qs);case"lost":uu=bu;break;case"restore":uu=kt;break;case"destroy":uu=Ls;break;default:Be.raise("invalid event, must be one of frame,lost,restore,destroy")}return uu.push(qs),{cancel:function(){for(var Tf=0;Tf<uu.length;++Tf)if(uu[Tf]===qs){uu[Tf]=uu[uu.length-1],uu.pop();return}}}}var El=A(Rf,{clear:Qc,prop:Nn.define.bind(null,pe),context:Nn.define.bind(null,he),this:Nn.define.bind(null,ke),draw:Rf({}),buffer:function(vs){return Vi.create(vs,E,!1,!1)},elements:function(vs){return Ja.create(vs,!1)},texture:no.create2D,cube:no.createCube,renderbuffer:aa.create,framebuffer:qa.create,framebufferCube:qa.createCube,vao:da.createVAO,attributes:zn,frame:Pf,on:of,limits:jr,hasExtension:function(vs){return jr.extensions.indexOf(vs.toLowerCase())>=0},read:Ts,destroy:ku,_gl:Wt,_refresh:Rc,poll:function(){wd(),bi&&bi.update()},now:Bu,stats:Qr});return ot.onDone(null,El),El}return qt})},19787:function(cn,Ne){"use strict";var A,w,B,ne;if(typeof performance=="object"&&typeof performance.now=="function"){var ue=performance;Ne.unstable_now=function(){return ue.now()}}else{var j=Date,q=j.now();Ne.unstable_now=function(){return j.now()-q}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var Y=null,K=null,H=function(){if(Y!==null)try{var He=Ne.unstable_now();Y(!0,He),Y=null}catch(_t){throw setTimeout(H,0),_t}};A=function(He){Y!==null?setTimeout(A,0,He):(Y=He,setTimeout(H,0))},w=function(He,_t){K=setTimeout(He,_t)},B=function(){clearTimeout(K)},Ne.unstable_shouldYield=function(){return!1},ne=Ne.unstable_forceFrameRate=function(){}}else{var ae=window.setTimeout,ie=window.clearTimeout;if(typeof console!="undefined"){var le=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof le!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var se=!1,ge=null,ye=-1,ve=5,fe=0;Ne.unstable_shouldYield=function(){return Ne.unstable_now()>=fe},ne=function(){},Ne.unstable_forceFrameRate=function(He){0>He||125<He?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<He?Math.floor(1e3/He):5};var Fe=new MessageChannel,yt=Fe.port2;Fe.port1.onmessage=function(){if(ge!==null){var He=Ne.unstable_now();fe=He+ve;try{ge(!0,He)?yt.postMessage(null):(se=!1,ge=null)}catch(_t){throw yt.postMessage(null),_t}}else se=!1},A=function(He){ge=He,se||(se=!0,yt.postMessage(null))},w=function(He,_t){ye=ae(function(){He(Ne.unstable_now())},_t)},B=function(){ie(ye),ye=-1}}function gt(He,_t){var Bt=He.length;He.push(_t);e:for(;;){var At=Bt-1>>>1,Je=He[At];if(Je!==void 0&&0<Ke(Je,_t))He[At]=_t,He[Bt]=Je,Bt=At;else break e}}function pt(He){return He=He[0],He===void 0?null:He}function lt(He){var _t=He[0];if(_t!==void 0){var Bt=He.pop();if(Bt!==_t){He[0]=Bt;e:for(var At=0,Je=He.length;At<Je;){var zt=2*(At+1)-1,mn=He[zt],Ot=zt+1,Xe=He[Ot];if(mn!==void 0&&0>Ke(mn,Bt))Xe!==void 0&&0>Ke(Xe,mn)?(He[At]=Xe,He[Ot]=Bt,At=Ot):(He[At]=mn,He[zt]=Bt,At=zt);else if(Xe!==void 0&&0>Ke(Xe,Bt))He[At]=Xe,He[Ot]=Bt,At=Ot;else break e}}return _t}return null}function Ke(He,_t){var Bt=He.sortIndex-_t.sortIndex;return Bt!==0?Bt:He.id-_t.id}var Ue=[],Pt=[],Gt=1,rn=null,_n=3,qe=!1,Nt=!1,ft=!1;function ln(He){for(var _t=pt(Pt);_t!==null;){if(_t.callback===null)lt(Pt);else if(_t.startTime<=He)lt(Pt),_t.sortIndex=_t.expirationTime,gt(Ue,_t);else break;_t=pt(Pt)}}function tt(He){if(ft=!1,ln(He),!Nt)if(pt(Ue)!==null)Nt=!0,A(Pe);else{var _t=pt(Pt);_t!==null&&w(tt,_t.startTime-He)}}function Pe(He,_t){Nt=!1,ft&&(ft=!1,B()),qe=!0;var Bt=_n;try{for(ln(_t),rn=pt(Ue);rn!==null&&(!(rn.expirationTime>_t)||He&&!Ne.unstable_shouldYield());){var At=rn.callback;if(typeof At=="function"){rn.callback=null,_n=rn.priorityLevel;var Je=At(rn.expirationTime<=_t);_t=Ne.unstable_now(),typeof Je=="function"?rn.callback=Je:rn===pt(Ue)&&lt(Ue),ln(_t)}else lt(Ue);rn=pt(Ue)}if(rn!==null)var zt=!0;else{var mn=pt(Pt);mn!==null&&w(tt,mn.startTime-_t),zt=!1}return zt}finally{rn=null,_n=Bt,qe=!1}}var Qe=ne;Ne.unstable_IdlePriority=5,Ne.unstable_ImmediatePriority=1,Ne.unstable_LowPriority=4,Ne.unstable_NormalPriority=3,Ne.unstable_Profiling=null,Ne.unstable_UserBlockingPriority=2,Ne.unstable_cancelCallback=function(He){He.callback=null},Ne.unstable_continueExecution=function(){Nt||qe||(Nt=!0,A(Pe))},Ne.unstable_getCurrentPriorityLevel=function(){return _n},Ne.unstable_getFirstCallbackNode=function(){return pt(Ue)},Ne.unstable_next=function(He){switch(_n){case 1:case 2:case 3:var _t=3;break;default:_t=_n}var Bt=_n;_n=_t;try{return He()}finally{_n=Bt}},Ne.unstable_pauseExecution=function(){},Ne.unstable_requestPaint=Qe,Ne.unstable_runWithPriority=function(He,_t){switch(He){case 1:case 2:case 3:case 4:case 5:break;default:He=3}var Bt=_n;_n=He;try{return _t()}finally{_n=Bt}},Ne.unstable_scheduleCallback=function(He,_t,Bt){var At=Ne.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?At+Bt:At):Bt=At,He){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Bt+Je,He={id:Gt++,callback:_t,priorityLevel:He,startTime:Bt,expirationTime:Je,sortIndex:-1},Bt>At?(He.sortIndex=Bt,gt(Pt,He),pt(Ue)===null&&He===pt(Pt)&&(ft?B():ft=!0,w(tt,Bt-At))):(He.sortIndex=Je,gt(Ue,He),Nt||qe||(Nt=!0,A(Pe))),He},Ne.unstable_wrapCallback=function(He){var _t=_n;return function(){var Bt=_n;_n=_t;try{return He.apply(this,arguments)}finally{_n=Bt}}}},58051:function(cn,Ne,A){"use strict";cn.exports=A(19787)},27933:function(cn,Ne,A){"use strict";var w=A(48254),B=Array.prototype.concat,ne=Array.prototype.slice,ue=cn.exports=function(q){for(var Y=[],K=0,H=q.length;K<H;K++){var ae=q[K];w(ae)?Y=B.call(Y,ne.call(ae)):Y.push(ae)}return Y};ue.wrap=function(j){return function(){return j(ue(arguments))}}},4075:function(cn,Ne,A){"use strict";var w=this&&this.__importDefault||function(ue){return ue&&ue.__esModule?ue:{default:ue}};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=ne;var B=w(A(82640));function ne(ue,j){var q=null;if(!ue||typeof ue!="string")return q;var Y=(0,B.default)(ue),K=typeof j=="function";return Y.forEach(function(H){if(H.type==="declaration"){var ae=H.property,ie=H.value;K?j(ae,ie,H):ie&&(q=q||{},q[ae]=ie)}}),q}},28025:function(cn,Ne,A){"use strict";A.r(Ne),A.d(Ne,{ServerStyleSheet:function(){return Oo},StyleSheetConsumer:function(){return mi},StyleSheetContext:function(){return ai},StyleSheetManager:function(){return ia},ThemeConsumer:function(){return Bs},ThemeContext:function(){return ls},ThemeProvider:function(){return wt},__PRIVATE__:function(){return su},createGlobalStyle:function(){return ha},css:function(){return xr},default:function(){return Mi},isStyledComponent:function(){return Wi},keyframes:function(){return Qo},styled:function(){return Mi},useTheme:function(){return Xo},version:function(){return xa},withTheme:function(){return Cs}});var w=A(99938),B=A(75271),ne=A(50631),ue=A.n(ne),j="-ms-",q="-moz-",Y="-webkit-",K="comm",H="rule",ae="decl",ie="@page",le="@media",se="@import",ge="@charset",ye="@viewport",ve="@supports",fe="@document",Fe="@namespace",yt="@keyframes",gt="@font-face",pt="@counter-style",lt="@font-feature-values",Ke="@layer",Ue="@scope",Pt=Math.abs,Gt=String.fromCharCode,rn=Object.assign;function _n(xt,Zn){return tt(xt,0)^45?(((Zn<<2^tt(xt,0))<<2^tt(xt,1))<<2^tt(xt,2))<<2^tt(xt,3):0}function qe(xt){return xt.trim()}function Nt(xt,Zn){return(xt=Zn.exec(xt))?xt[0]:xt}function ft(xt,Zn,Cr){return xt.replace(Zn,Cr)}function ln(xt,Zn,Cr){return xt.indexOf(Zn,Cr)}function tt(xt,Zn){return xt.charCodeAt(Zn)|0}function Pe(xt,Zn,Cr){return xt.slice(Zn,Cr)}function Qe(xt){return xt.length}function He(xt){return xt.length}function _t(xt,Zn){return Zn.push(xt),xt}function Bt(xt,Zn){return xt.map(Zn).join("")}function At(xt,Zn){return xt.filter(function(Cr){return!Nt(Cr,Zn)})}var Je=1,zt=1,mn=0,Ot=0,Xe=0,ct="";function Rt(xt,Zn,Cr,Di,wa,Eo,yo,Wr){return{value:xt,root:Zn,parent:Cr,type:Di,props:wa,children:Eo,line:Je,column:zt,length:yo,return:"",siblings:Wr}}function Oe(xt,Zn){return rn(Rt("",null,null,"",null,null,0,xt.siblings),xt,{length:-xt.length},Zn)}function Ge(xt){for(;xt.root;)xt=Oe(xt.root,{children:[xt]});_t(xt,xt.siblings)}function Vt(){return Xe}function De(){return Xe=Ot>0?tt(ct,--Ot):0,zt--,Xe===10&&(zt=1,Je--),Xe}function et(){return Xe=Ot<mn?tt(ct,Ot++):0,zt++,Xe===10&&(zt=1,Je++),Xe}function Ce(){return tt(ct,Ot)}function J(){return Ot}function Le(xt,Zn){return Pe(ct,xt,Zn)}function Jt(xt){switch(xt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Be(xt){return Je=zt=1,mn=Qe(ct=xt),Ot=0,[]}function In(xt){return ct="",xt}function cr(xt){return qe(Le(Ot-1,Zr(xt===91?xt+2:xt===40?xt+1:xt)))}function bn(xt){return In(Nr(Be(xt)))}function ir(xt){for(;(Xe=Ce())&&Xe<33;)et();return Jt(xt)>2||Jt(Xe)>3?"":" "}function Nr(xt){for(;et();)switch(Jt(Xe)){case 0:append(Ln(Ot-1),xt);break;case 2:append(cr(Xe),xt);break;default:append(from(Xe),xt)}return xt}function Ar(xt,Zn){for(;--Zn&&et()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return Le(xt,J()+(Zn<6&&Ce()==32&&et()==32))}function Zr(xt){for(;et();)switch(Xe){case xt:return Ot;case 34:case 39:xt!==34&&xt!==39&&Zr(Xe);break;case 40:xt===41&&Zr(xt);break;case 92:et();break}return Ot}function wi(xt,Zn){for(;et()&&xt+Xe!==57;)if(xt+Xe===84&&Ce()===47)break;return"/*"+Le(Zn,Ot-1)+"*"+Gt(xt===47?xt:et())}function Ln(xt){for(;!Jt(Ce());)et();return Le(xt,Ot)}function Nn(xt,Zn){for(var Cr="",Di=0;Di<xt.length;Di++)Cr+=Zn(xt[Di],Di,xt,Zn)||"";return Cr}function $n(xt,Zn,Cr,Di){switch(xt.type){case Ke:if(xt.children.length)break;case se:case ae:return xt.return=xt.return||xt.value;case K:return"";case yt:return xt.return=xt.value+"{"+Nn(xt.children,Di)+"}";case H:if(!Qe(xt.value=xt.props.join(",")))return""}return Qe(Cr=Nn(xt.children,Di))?xt.return=xt.value+"{"+Cr+"}":""}function wn(xt,Zn,Cr){switch(_n(xt,Zn)){case 5103:return Y+"print-"+xt+xt;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Y+xt+xt;case 4789:return q+xt+xt;case 5349:case 4246:case 4810:case 6968:case 2756:return Y+xt+q+xt+j+xt+xt;case 5936:switch(tt(xt,Zn+11)){case 114:return Y+xt+j+ft(xt,/[svh]\w+-[tblr]{2}/,"tb")+xt;case 108:return Y+xt+j+ft(xt,/[svh]\w+-[tblr]{2}/,"tb-rl")+xt;case 45:return Y+xt+j+ft(xt,/[svh]\w+-[tblr]{2}/,"lr")+xt}case 6828:case 4268:case 2903:return Y+xt+j+xt+xt;case 6165:return Y+xt+j+"flex-"+xt+xt;case 5187:return Y+xt+ft(xt,/(\w+).+(:[^]+)/,Y+"box-$1$2"+j+"flex-$1$2")+xt;case 5443:return Y+xt+j+"flex-item-"+ft(xt,/flex-|-self/g,"")+(Nt(xt,/flex-|baseline/)?"":j+"grid-row-"+ft(xt,/flex-|-self/g,""))+xt;case 4675:return Y+xt+j+"flex-line-pack"+ft(xt,/align-content|flex-|-self/g,"")+xt;case 5548:return Y+xt+j+ft(xt,"shrink","negative")+xt;case 5292:return Y+xt+j+ft(xt,"basis","preferred-size")+xt;case 6060:return Y+"box-"+ft(xt,"-grow","")+Y+xt+j+ft(xt,"grow","positive")+xt;case 4554:return Y+ft(xt,/([^-])(transform)/g,"$1"+Y+"$2")+xt;case 6187:return ft(ft(ft(xt,/(zoom-|grab)/,Y+"$1"),/(image-set)/,Y+"$1"),xt,"")+xt;case 5495:case 3959:return ft(xt,/(image-set\([^]*)/,Y+"$1$`$1");case 4968:return ft(ft(xt,/(.+:)(flex-)?(.*)/,Y+"box-pack:$3"+j+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Y+xt+xt;case 4200:if(!Nt(xt,/flex-|baseline/))return j+"grid-column-align"+Pe(xt,Zn)+xt;break;case 2592:case 3360:return j+ft(xt,"template-","")+xt;case 4384:case 3616:return Cr&&Cr.some(function(Di,wa){return Zn=wa,Nt(Di.props,/grid-\w+-end/)})?~ln(xt+(Cr=Cr[Zn].value),"span",0)?xt:j+ft(xt,"-start","")+xt+j+"grid-row-span:"+(~ln(Cr,"span",0)?Nt(Cr,/\d+/):+Nt(Cr,/\d+/)-+Nt(xt,/\d+/))+";":j+ft(xt,"-start","")+xt;case 4896:case 4128:return Cr&&Cr.some(function(Di){return Nt(Di.props,/grid-\w+-start/)})?xt:j+ft(ft(xt,"-end","-span"),"span ","")+xt;case 4095:case 3583:case 4068:case 2532:return ft(xt,/(.+)-inline(.+)/,Y+"$1$2")+xt;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qe(xt)-1-Zn>6)switch(tt(xt,Zn+1)){case 109:if(tt(xt,Zn+4)!==45)break;case 102:return ft(xt,/(.+:)(.+)-([^]+)/,"$1"+Y+"$2-$3$1"+q+(tt(xt,Zn+3)==108?"$3":"$2-$3"))+xt;case 115:return~ln(xt,"stretch",0)?wn(ft(xt,"stretch","fill-available"),Zn,Cr)+xt:xt}break;case 5152:case 5920:return ft(xt,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(Di,wa,Eo,yo,Wr,hs,Ma){return j+wa+":"+Eo+Ma+(yo?j+wa+"-span:"+(Wr?hs:+hs-+Eo)+Ma:"")+xt});case 4949:if(tt(xt,Zn+6)===121)return ft(xt,":",":"+Y)+xt;break;case 6444:switch(tt(xt,tt(xt,14)===45?18:11)){case 120:return ft(xt,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Y+(tt(xt,14)===45?"inline-":"")+"box$3$1"+Y+"$2$3$1"+j+"$2box$3")+xt;case 100:return ft(xt,":",":"+j)+xt}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ft(xt,"scroll-","scroll-snap-")+xt}return xt}function nt(xt){var Zn=He(xt);return function(Cr,Di,wa,Eo){for(var yo="",Wr=0;Wr<Zn;Wr++)yo+=xt[Wr](Cr,Di,wa,Eo)||"";return yo}}function ze(xt){return function(Zn){Zn.root||(Zn=Zn.return)&&xt(Zn)}}function vt(xt,Zn,Cr,Di){if(xt.length>-1&&!xt.return)switch(xt.type){case ae:xt.return=wn(xt.value,xt.length,Cr);return;case yt:return Nn([Oe(xt,{value:ft(xt.value,"@","@"+Y)})],Di);case H:if(xt.length)return Bt(Cr=xt.props,function(wa){switch(Nt(wa,Di=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ge(Oe(xt,{props:[ft(wa,/:(read-\w+)/,":"+q+"$1")]})),Ge(Oe(xt,{props:[wa]})),rn(xt,{props:At(Cr,Di)});break;case"::placeholder":Ge(Oe(xt,{props:[ft(wa,/:(plac\w+)/,":"+Y+"input-$1")]})),Ge(Oe(xt,{props:[ft(wa,/:(plac\w+)/,":"+q+"$1")]})),Ge(Oe(xt,{props:[ft(wa,/:(plac\w+)/,j+"input-$1")]})),Ge(Oe(xt,{props:[wa]})),rn(xt,{props:At(Cr,Di)});break}return""})}}function $t(xt){switch(xt.type){case RULESET:xt.props=xt.props.map(function(Zn){return combine(tokenize(Zn),function(Cr,Di,wa){switch(charat(Cr,0)){case 12:return substr(Cr,1,strlen(Cr));case 0:case 40:case 43:case 62:case 126:return Cr;case 58:wa[++Di]==="global"&&(wa[Di]="",wa[++Di]="\f"+substr(wa[Di],Di=1,-1));case 32:return Di===1?"":Cr;default:switch(Di){case 0:return xt=Cr,sizeof(wa)>1?"":Cr;case(Di=sizeof(wa)-1):case 2:return Di===2?Cr+xt+xt:Cr+xt;default:return Cr}}})})}}function gn(xt){return In(at("",null,null,null,[""],xt=Be(xt),0,[0],xt))}function at(xt,Zn,Cr,Di,wa,Eo,yo,Wr,hs){for(var Ma=0,iu=0,au=yo,as=0,$s=0,Xs=0,Lu=1,Mu=1,Nl=1,Ks=0,nl="",hu=wa,oc=Eo,_l=Di,Ku=nl;Mu;)switch(Xs=Ks,Ks=et()){case 40:if(Xs!=108&&tt(Ku,au-1)==58){ln(Ku+=ft(cr(Ks),"&","&\f"),"&\f",Pt(Ma?Wr[Ma-1]:0))!=-1&&(Nl=-1);break}case 34:case 39:case 91:Ku+=cr(Ks);break;case 9:case 10:case 13:case 32:Ku+=ir(Xs);break;case 92:Ku+=Ar(J()-1,7);continue;case 47:switch(Ce()){case 42:case 47:_t(hn(wi(et(),J()),Zn,Cr,hs),hs);break;default:Ku+="/"}break;case 123*Lu:Wr[Ma++]=Qe(Ku)*Nl;case 125*Lu:case 59:case 0:switch(Ks){case 0:case 125:Mu=0;case 59+iu:Nl==-1&&(Ku=ft(Ku,/\f/g,"")),$s>0&&Qe(Ku)-au&&_t($s>32?pr(Ku+";",Di,Cr,au-1,hs):pr(ft(Ku," ","")+";",Di,Cr,au-2,hs),hs);break;case 59:Ku+=";";default:if(_t(_l=an(Ku,Zn,Cr,Ma,iu,wa,Wr,nl,hu=[],oc=[],au,Eo),Eo),Ks===123)if(iu===0)at(Ku,Zn,_l,_l,hu,Eo,au,Wr,oc);else switch(as===99&&tt(Ku,3)===110?100:as){case 100:case 108:case 109:case 115:at(xt,_l,_l,Di&&_t(an(xt,_l,_l,0,0,wa,Wr,nl,wa,hu=[],au,oc),oc),wa,oc,au,Wr,Di?hu:oc);break;default:at(Ku,_l,_l,_l,[""],oc,0,Wr,oc)}}Ma=iu=$s=0,Lu=Nl=1,nl=Ku="",au=yo;break;case 58:au=1+Qe(Ku),$s=Xs;default:if(Lu<1){if(Ks==123)--Lu;else if(Ks==125&&Lu++==0&&De()==125)continue}switch(Ku+=Gt(Ks),Ks*Lu){case 38:Nl=iu>0?1:(Ku+="\f",-1);break;case 44:Wr[Ma++]=(Qe(Ku)-1)*Nl,Nl=1;break;case 64:Ce()===45&&(Ku+=cr(et())),as=Ce(),iu=au=Qe(nl=Ku+=Ln(J())),Ks++;break;case 45:Xs===45&&Qe(Ku)==2&&(Lu=0)}}return Eo}function an(xt,Zn,Cr,Di,wa,Eo,yo,Wr,hs,Ma,iu,au){for(var as=wa-1,$s=wa===0?Eo:[""],Xs=He($s),Lu=0,Mu=0,Nl=0;Lu<Di;++Lu)for(var Ks=0,nl=Pe(xt,as+1,as=Pt(Mu=yo[Lu])),hu=xt;Ks<Xs;++Ks)(hu=qe(Mu>0?$s[Ks]+" "+nl:ft(nl,/&\f/g,$s[Ks])))&&(hs[Nl++]=hu);return Rt(xt,Zn,Cr,wa===0?H:Wr,hs,Ma,iu,au)}function hn(xt,Zn,Cr,Di){return Rt(xt,Zn,Cr,K,Gt(Vt()),Pe(xt,2,-2),0,Di)}function pr(xt,Zn,Cr,Di,wa){return Rt(xt,Zn,Cr,ae,Pe(xt,0,Di),Pe(xt,Di+1,-1),Di,wa)}var ur={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pi=A(14224),ar=typeof pi!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}!==void 0&&({NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_ATTR)||"data-styled",di="active",sa="data-styled-version",xa="6.1.13",za=`/*!sc*/
`,Ui=typeof window!="undefined"&&"HTMLElement"in window,Ao=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof pi!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY!==""?{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_SC_DISABLE_SPEEDY:typeof pi!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY!==void 0&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY!==""&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY!=="false"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.SC_DISABLE_SPEEDY),fs={},cs=/invalid hook call/i,ra=new Set,ms=function(xt,Zn){if(0)var Cr,Di,wa,Eo},xi=Object.freeze([]),Gn=Object.freeze({});function _e(xt,Zn,Cr){return Cr===void 0&&(Cr=Gn),xt.theme!==Cr.theme&&xt.theme||Zn||Cr.theme}var oi=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ka=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Cn=/(^-|-$)/g;function Un(xt){return xt.replace(Ka,"-").replace(Cn,"")}var tn=/(a)(d)/gi,It=52,Zt=function(xt){return String.fromCharCode(xt+(xt>25?39:97))};function $e(xt){var Zn,Cr="";for(Zn=Math.abs(xt);Zn>It;Zn=Zn/It|0)Cr=Zt(Zn%It)+Cr;return(Zt(Zn%It)+Cr).replace(tn,"$1-$2")}var Bn,Yn=5381,or=function(xt,Zn){for(var Cr=Zn.length;Cr;)xt=33*xt^Zn.charCodeAt(--Cr);return xt},Ze=function(xt){return or(Yn,xt)};function je(xt){return $e(Ze(xt)>>>0)}function st(xt){return xt.displayName||xt.name||"Component"}function St(xt){return typeof xt=="string"&&!0}var En=typeof Symbol=="function"&&Symbol.for,fn=En?Symbol.for("react.memo"):60115,sn=En?Symbol.for("react.forward_ref"):60112,Pn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Hn={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ut={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Yt=((Bn={})[sn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bn[fn]=Ut,Bn);function Xt(xt){return("type"in(Zn=xt)&&Zn.type.$$typeof)===fn?Ut:"$$typeof"in xt?Yt[xt.$$typeof]:Pn;var Zn}var jt=Object.defineProperty,fr=Object.getOwnPropertyNames,vr=Object.getOwnPropertySymbols,yr=Object.getOwnPropertyDescriptor,Br=Object.getPrototypeOf,Gi=Object.prototype;function qi(xt,Zn,Cr){if(typeof Zn!="string"){if(Gi){var Di=Br(Zn);Di&&Di!==Gi&&qi(xt,Di,Cr)}var wa=fr(Zn);vr&&(wa=wa.concat(vr(Zn)));for(var Eo=Xt(xt),yo=Xt(Zn),Wr=0;Wr<wa.length;++Wr){var hs=wa[Wr];if(!(hs in Hn||Cr&&Cr[hs]||yo&&hs in yo||Eo&&hs in Eo)){var Ma=yr(Zn,hs);try{jt(xt,hs,Ma)}catch(iu){}}}}return xt}function $i(xt){return typeof xt=="function"}function Wi(xt){return typeof xt=="object"&&"styledComponentId"in xt}function Ii(xt,Zn){return xt&&Zn?"".concat(xt," ").concat(Zn):xt||Zn||""}function Qa(xt,Zn){if(xt.length===0)return"";for(var Cr=xt[0],Di=1;Di<xt.length;Di++)Cr+=Zn?Zn+xt[Di]:xt[Di];return Cr}function on(xt){return xt!==null&&typeof xt=="object"&&xt.constructor.name===Object.name&&!("props"in xt&&xt.$$typeof)}function dn(xt,Zn,Cr){if(Cr===void 0&&(Cr=!1),!Cr&&!on(xt)&&!Array.isArray(xt))return Zn;if(Array.isArray(Zn))for(var Di=0;Di<Zn.length;Di++)xt[Di]=dn(xt[Di],Zn[Di]);else if(on(Zn))for(var Di in Zn)xt[Di]=dn(xt[Di],Zn[Di]);return xt}function jn(xt,Zn){Object.defineProperty(xt,"toString",{value:Zn})}var Ur={};function Yr(){for(var xt=[],Zn=0;Zn<arguments.length;Zn++)xt[Zn]=arguments[Zn];for(var Cr=xt[0],Di=[],wa=1,Eo=xt.length;wa<Eo;wa+=1)Di.push(xt[wa]);return Di.forEach(function(yo){Cr=Cr.replace(/%[a-z]/,yo)}),Cr}function Et(xt){for(var Zn=[],Cr=1;Cr<arguments.length;Cr++)Zn[Cr-1]=arguments[Cr];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(xt," for more information.").concat(Zn.length>0?" Args: ".concat(Zn.join(", ")):""))}var Ct=function(){function xt(Zn){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=Zn}return xt.prototype.indexOfGroup=function(Zn){for(var Cr=0,Di=0;Di<Zn;Di++)Cr+=this.groupSizes[Di];return Cr},xt.prototype.insertRules=function(Zn,Cr){if(Zn>=this.groupSizes.length){for(var Di=this.groupSizes,wa=Di.length,Eo=wa;Zn>=Eo;)if((Eo<<=1)<0)throw Et(16,"".concat(Zn));this.groupSizes=new Uint32Array(Eo),this.groupSizes.set(Di),this.length=Eo;for(var yo=wa;yo<Eo;yo++)this.groupSizes[yo]=0}for(var Wr=this.indexOfGroup(Zn+1),hs=(yo=0,Cr.length);yo<hs;yo++)this.tag.insertRule(Wr,Cr[yo])&&(this.groupSizes[Zn]++,Wr++)},xt.prototype.clearGroup=function(Zn){if(Zn<this.length){var Cr=this.groupSizes[Zn],Di=this.indexOfGroup(Zn),wa=Di+Cr;this.groupSizes[Zn]=0;for(var Eo=Di;Eo<wa;Eo++)this.tag.deleteRule(Di)}},xt.prototype.getGroup=function(Zn){var Cr="";if(Zn>=this.length||this.groupSizes[Zn]===0)return Cr;for(var Di=this.groupSizes[Zn],wa=this.indexOfGroup(Zn),Eo=wa+Di,yo=wa;yo<Eo;yo++)Cr+="".concat(this.tag.getRule(yo)).concat(za);return Cr},xt}(),xn=null,Xn=new Map,mt=new Map,vn=1,tr=function(xt){if(Xn.has(xt))return Xn.get(xt);for(;mt.has(vn);)vn++;var Zn=vn++;return Xn.set(xt,Zn),mt.set(Zn,xt),Zn},Mr=function(xt,Zn){vn=Zn+1,Xn.set(xt,Zn),mt.set(Zn,xt)},ui="style[".concat(ar,"][").concat(sa,'="').concat(xa,'"]'),Ri=new RegExp("^".concat(ar,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Aa=function(xt,Zn,Cr){for(var Di,wa=Cr.split(","),Eo=0,yo=wa.length;Eo<yo;Eo++)(Di=wa[Eo])&&xt.registerName(Zn,Di)},Ga=function(xt,Zn){for(var Cr,Di=((Cr=Zn.textContent)!==null&&Cr!==void 0?Cr:"").split(za),wa=[],Eo=0,yo=Di.length;Eo<yo;Eo++){var Wr=Di[Eo].trim();if(Wr){var hs=Wr.match(Ri);if(hs){var Ma=0|parseInt(hs[1],10),iu=hs[2];Ma!==0&&(Mr(iu,Ma),Aa(xt,iu,hs[3]),xt.getTag().insertRules(Ma,wa)),wa.length=0}else wa.push(Wr)}}},vo=function(xt){for(var Zn=document.querySelectorAll(ui),Cr=0,Di=Zn.length;Cr<Di;Cr++){var wa=Zn[Cr];wa&&wa.getAttribute(ar)!==di&&(Ga(xt,wa),wa.parentNode&&wa.parentNode.removeChild(wa))}};function To(){return A.nc}var Po=function(xt){var Zn=document.head,Cr=xt||Zn,Di=document.createElement("style"),wa=function(Wr){var hs=Array.from(Wr.querySelectorAll("style[".concat(ar,"]")));return hs[hs.length-1]}(Cr),Eo=wa!==void 0?wa.nextSibling:null;Di.setAttribute(ar,di),Di.setAttribute(sa,xa);var yo=To();return yo&&Di.setAttribute("nonce",yo),Cr.insertBefore(Di,Eo),Di},ds=function(){function xt(Zn){this.element=Po(Zn),this.element.appendChild(document.createTextNode("")),this.sheet=function(Cr){if(Cr.sheet)return Cr.sheet;for(var Di=document.styleSheets,wa=0,Eo=Di.length;wa<Eo;wa++){var yo=Di[wa];if(yo.ownerNode===Cr)return yo}throw Et(17)}(this.element),this.length=0}return xt.prototype.insertRule=function(Zn,Cr){try{return this.sheet.insertRule(Cr,Zn),this.length++,!0}catch(Di){return!1}},xt.prototype.deleteRule=function(Zn){this.sheet.deleteRule(Zn),this.length--},xt.prototype.getRule=function(Zn){var Cr=this.sheet.cssRules[Zn];return Cr&&Cr.cssText?Cr.cssText:""},xt}(),Za=function(){function xt(Zn){this.element=Po(Zn),this.nodes=this.element.childNodes,this.length=0}return xt.prototype.insertRule=function(Zn,Cr){if(Zn<=this.length&&Zn>=0){var Di=document.createTextNode(Cr);return this.element.insertBefore(Di,this.nodes[Zn]||null),this.length++,!0}return!1},xt.prototype.deleteRule=function(Zn){this.element.removeChild(this.nodes[Zn]),this.length--},xt.prototype.getRule=function(Zn){return Zn<this.length?this.nodes[Zn].textContent:""},xt}(),ks=function(){function xt(Zn){this.rules=[],this.length=0}return xt.prototype.insertRule=function(Zn,Cr){return Zn<=this.length&&(this.rules.splice(Zn,0,Cr),this.length++,!0)},xt.prototype.deleteRule=function(Zn){this.rules.splice(Zn,1),this.length--},xt.prototype.getRule=function(Zn){return Zn<this.length?this.rules[Zn]:""},xt}(),oo=Ui,nu={isServer:!Ui,useCSSOMInjection:!Ao},wu=function(){function xt(Zn,Cr,Di){Zn===void 0&&(Zn=Gn),Cr===void 0&&(Cr={});var wa=this;this.options=(0,w.pi)((0,w.pi)({},nu),Zn),this.gs=Cr,this.names=new Map(Di),this.server=!!Zn.isServer,!this.server&&Ui&&oo&&(oo=!1,vo(this)),jn(this,function(){return function(Eo){for(var yo=Eo.getTag(),Wr=yo.length,hs="",Ma=function(au){var as=function(Nl){return mt.get(Nl)}(au);if(as===void 0)return"continue";var $s=Eo.names.get(as),Xs=yo.getGroup(au);if($s===void 0||!$s.size||Xs.length===0)return"continue";var Lu="".concat(ar,".g").concat(au,'[id="').concat(as,'"]'),Mu="";$s!==void 0&&$s.forEach(function(Nl){Nl.length>0&&(Mu+="".concat(Nl,","))}),hs+="".concat(Xs).concat(Lu,'{content:"').concat(Mu,'"}').concat(za)},iu=0;iu<Wr;iu++)Ma(iu);return hs}(wa)})}return xt.registerId=function(Zn){return tr(Zn)},xt.prototype.rehydrate=function(){!this.server&&Ui&&vo(this)},xt.prototype.reconstructWithOptions=function(Zn,Cr){return Cr===void 0&&(Cr=!0),new xt((0,w.pi)((0,w.pi)({},this.options),Zn),this.gs,Cr&&this.names||void 0)},xt.prototype.allocateGSInstance=function(Zn){return this.gs[Zn]=(this.gs[Zn]||0)+1},xt.prototype.getTag=function(){return this.tag||(this.tag=(Zn=function(Cr){var Di=Cr.useCSSOMInjection,wa=Cr.target;return Cr.isServer?new ks(wa):Di?new ds(wa):new Za(wa)}(this.options),new Ct(Zn)));var Zn},xt.prototype.hasNameForId=function(Zn,Cr){return this.names.has(Zn)&&this.names.get(Zn).has(Cr)},xt.prototype.registerName=function(Zn,Cr){if(tr(Zn),this.names.has(Zn))this.names.get(Zn).add(Cr);else{var Di=new Set;Di.add(Cr),this.names.set(Zn,Di)}},xt.prototype.insertRules=function(Zn,Cr,Di){this.registerName(Zn,Cr),this.getTag().insertRules(tr(Zn),Di)},xt.prototype.clearNames=function(Zn){this.names.has(Zn)&&this.names.get(Zn).clear()},xt.prototype.clearRules=function(Zn){this.getTag().clearGroup(tr(Zn)),this.clearNames(Zn)},xt.prototype.clearTag=function(){this.tag=void 0},xt}(),Ll=/&/g,Si=/^\s*\/\/.*$/gm;function Sn(xt,Zn){return xt.map(function(Cr){return Cr.type==="rule"&&(Cr.value="".concat(Zn," ").concat(Cr.value),Cr.value=Cr.value.replaceAll(",",",".concat(Zn," ")),Cr.props=Cr.props.map(function(Di){return"".concat(Zn," ").concat(Di)})),Array.isArray(Cr.children)&&Cr.type!=="@keyframes"&&(Cr.children=Sn(Cr.children,Zn)),Cr})}function Qt(xt){var Zn,Cr,Di,wa=xt===void 0?Gn:xt,Eo=wa.options,yo=Eo===void 0?Gn:Eo,Wr=wa.plugins,hs=Wr===void 0?xi:Wr,Ma=function(as,$s,Xs){return Xs.startsWith(Cr)&&Xs.endsWith(Cr)&&Xs.replaceAll(Cr,"").length>0?".".concat(Zn):as},iu=hs.slice();iu.push(function(as){as.type===H&&as.value.includes("&")&&(as.props[0]=as.props[0].replace(Ll,Cr).replace(Di,Ma))}),yo.prefix&&iu.push(vt),iu.push($n);var au=function(as,$s,Xs,Lu){$s===void 0&&($s=""),Xs===void 0&&(Xs=""),Lu===void 0&&(Lu="&"),Zn=Lu,Cr=$s,Di=new RegExp("\\".concat(Cr,"\\b"),"g");var Mu=as.replace(Si,""),Nl=gn(Xs||$s?"".concat(Xs," ").concat($s," { ").concat(Mu," }"):Mu);yo.namespace&&(Nl=Sn(Nl,yo.namespace));var Ks=[];return Nn(Nl,nt(iu.concat(ze(function(nl){return Ks.push(nl)})))),Ks};return au.hash=hs.length?hs.reduce(function(as,$s){return $s.name||Et(15),or(as,$s.name)},Yn).toString():"",au}var rr=new wu,rt=Qt(),ai=B.createContext({shouldForwardProp:void 0,styleSheet:rr,stylis:rt}),mi=ai.Consumer,_a=B.createContext(void 0);function Xi(){return(0,B.useContext)(ai)}function ia(xt){var Zn=(0,B.useState)(xt.stylisPlugins),Cr=Zn[0],Di=Zn[1],wa=Xi().styleSheet,Eo=(0,B.useMemo)(function(){var hs=wa;return xt.sheet?hs=xt.sheet:xt.target&&(hs=hs.reconstructWithOptions({target:xt.target},!1)),xt.disableCSSOMInjection&&(hs=hs.reconstructWithOptions({useCSSOMInjection:!1})),hs},[xt.disableCSSOMInjection,xt.sheet,xt.target,wa]),yo=(0,B.useMemo)(function(){return Qt({options:{namespace:xt.namespace,prefix:xt.enableVendorPrefixes},plugins:Cr})},[xt.enableVendorPrefixes,xt.namespace,Cr]);(0,B.useEffect)(function(){ue()(Cr,xt.stylisPlugins)||Di(xt.stylisPlugins)},[xt.stylisPlugins]);var Wr=(0,B.useMemo)(function(){return{shouldForwardProp:xt.shouldForwardProp,styleSheet:Eo,stylis:yo}},[xt.shouldForwardProp,Eo,yo]);return B.createElement(ai.Provider,{value:Wr},B.createElement(_a.Provider,{value:yo},xt.children))}var ua=function(){function xt(Zn,Cr){var Di=this;this.inject=function(wa,Eo){Eo===void 0&&(Eo=rt);var yo=Di.name+Eo.hash;wa.hasNameForId(Di.id,yo)||wa.insertRules(Di.id,yo,Eo(Di.rules,yo,"@keyframes"))},this.name=Zn,this.id="sc-keyframes-".concat(Zn),this.rules=Cr,jn(this,function(){throw Et(12,String(Di.name))})}return xt.prototype.getName=function(Zn){return Zn===void 0&&(Zn=rt),this.name+Zn.hash},xt}(),co=function(xt){return xt>="A"&&xt<="Z"};function Ro(xt){for(var Zn="",Cr=0;Cr<xt.length;Cr++){var Di=xt[Cr];if(Cr===1&&Di==="-"&&xt[0]==="-")return xt;co(Di)?Zn+="-"+Di.toLowerCase():Zn+=Di}return Zn.startsWith("ms-")?"-"+Zn:Zn}var As=function(xt){return xt==null||xt===!1||xt===""},So=function(xt){var Zn,Cr,Di=[];for(var wa in xt){var Eo=xt[wa];xt.hasOwnProperty(wa)&&!As(Eo)&&(Array.isArray(Eo)&&Eo.isCss||$i(Eo)?Di.push("".concat(Ro(wa),":"),Eo,";"):on(Eo)?Di.push.apply(Di,(0,w.ev)((0,w.ev)(["".concat(wa," {")],So(Eo),!1),["}"],!1)):Di.push("".concat(Ro(wa),": ").concat((Zn=wa,(Cr=Eo)==null||typeof Cr=="boolean"||Cr===""?"":typeof Cr!="number"||Cr===0||Zn in ur||Zn.startsWith("--")?String(Cr).trim():"".concat(Cr,"px")),";")))}return Di};function ao(xt,Zn,Cr,Di){if(As(xt))return[];if(Wi(xt))return[".".concat(xt.styledComponentId)];if($i(xt)){if(!$i(Eo=xt)||Eo.prototype&&Eo.prototype.isReactComponent||!Zn)return[xt];var wa=xt(Zn);return ao(wa,Zn,Cr,Di)}var Eo;return xt instanceof ua?Cr?(xt.inject(Cr,Di),[xt.getName(Di)]):[xt]:on(xt)?So(xt):Array.isArray(xt)?Array.prototype.concat.apply(xi,xt.map(function(yo){return ao(yo,Zn,Cr,Di)})):[xt.toString()]}function Wa(xt){for(var Zn=0;Zn<xt.length;Zn+=1){var Cr=xt[Zn];if($i(Cr)&&!Wi(Cr))return!1}return!0}var ns=Ze(xa),Do=function(){function xt(Zn,Cr,Di){this.rules=Zn,this.staticRulesId="",this.isStatic=(Di===void 0||Di.isStatic)&&Wa(Zn),this.componentId=Cr,this.baseHash=or(ns,Cr),this.baseStyle=Di,wu.registerId(Cr)}return xt.prototype.generateAndInjectStyles=function(Zn,Cr,Di){var wa=this.baseStyle?this.baseStyle.generateAndInjectStyles(Zn,Cr,Di):"";if(this.isStatic&&!Di.hash)if(this.staticRulesId&&Cr.hasNameForId(this.componentId,this.staticRulesId))wa=Ii(wa,this.staticRulesId);else{var Eo=Qa(ao(this.rules,Zn,Cr,Di)),yo=$e(or(this.baseHash,Eo)>>>0);if(!Cr.hasNameForId(this.componentId,yo)){var Wr=Di(Eo,".".concat(yo),void 0,this.componentId);Cr.insertRules(this.componentId,yo,Wr)}wa=Ii(wa,yo),this.staticRulesId=yo}else{for(var hs=or(this.baseHash,Di.hash),Ma="",iu=0;iu<this.rules.length;iu++){var au=this.rules[iu];if(typeof au=="string")Ma+=au;else if(au){var as=Qa(ao(au,Zn,Cr,Di));hs=or(hs,as+iu),Ma+=as}}if(Ma){var $s=$e(hs>>>0);Cr.hasNameForId(this.componentId,$s)||Cr.insertRules(this.componentId,$s,Di(Ma,".".concat($s),void 0,this.componentId)),wa=Ii(wa,$s)}}return wa},xt}(),ls=B.createContext(void 0),Bs=ls.Consumer;function Xo(){var xt=(0,B.useContext)(ls);if(!xt)throw Et(18);return xt}function wt(xt){var Zn=B.useContext(ls),Cr=(0,B.useMemo)(function(){return function(Di,wa){if(!Di)throw Et(14);if($i(Di)){var Eo=Di(wa);return Eo}if(Array.isArray(Di)||typeof Di!="object")throw Et(8);return wa?(0,w.pi)((0,w.pi)({},wa),Di):Di}(xt.theme,Zn)},[xt.theme,Zn]);return xt.children?B.createElement(ls.Provider,{value:Cr},xt.children):null}var er={},nn=new Set;function wr(xt,Zn,Cr){var Di=Wi(xt),wa=xt,Eo=!St(xt),yo=Zn.attrs,Wr=yo===void 0?xi:yo,hs=Zn.componentId,Ma=hs===void 0?function(hu,oc){var _l=typeof hu!="string"?"sc":Un(hu);er[_l]=(er[_l]||0)+1;var Ku="".concat(_l,"-").concat(je(xa+_l+er[_l]));return oc?"".concat(oc,"-").concat(Ku):Ku}(Zn.displayName,Zn.parentComponentId):hs,iu=Zn.displayName,au=iu===void 0?function(hu){return St(hu)?"styled.".concat(hu):"Styled(".concat(st(hu),")")}(xt):iu,as=Zn.displayName&&Zn.componentId?"".concat(Un(Zn.displayName),"-").concat(Zn.componentId):Zn.componentId||Ma,$s=Di&&wa.attrs?wa.attrs.concat(Wr).filter(Boolean):Wr,Xs=Zn.shouldForwardProp;if(Di&&wa.shouldForwardProp){var Lu=wa.shouldForwardProp;if(Zn.shouldForwardProp){var Mu=Zn.shouldForwardProp;Xs=function(hu,oc){return Lu(hu,oc)&&Mu(hu,oc)}}else Xs=Lu}var Nl=new Do(Cr,as,Di?wa.componentStyle:void 0);function Ks(hu,oc){return function(_l,Ku,Cf){var bc=_l.attrs,Sr=_l.componentStyle,li=_l.defaultProps,Ci=_l.foldedComponentIds,ti=_l.styledComponentId,ea=_l.target,mo=B.useContext(ls),so=Xi(),Io=_l.shouldForwardProp||so.shouldForwardProp,Ha=_e(Ku,mo,li)||Gn,wo=function(bs,Vs,vi){for(var fa,ta=(0,w.pi)((0,w.pi)({},Vs),{className:void 0,theme:vi}),fo=0;fo<bs.length;fo+=1){var Ko=$i(fa=bs[fo])?fa(ta):fa;for(var es in Ko)ta[es]=es==="className"?Ii(ta[es],Ko[es]):es==="style"?(0,w.pi)((0,w.pi)({},ta[es]),Ko[es]):Ko[es]}return Vs.className&&(ta.className=Ii(ta.className,Vs.className)),ta}(bc,Ku,Ha),zo=wo.as||ea,rs={};for(var Vo in wo)wo[Vo]===void 0||Vo[0]==="$"||Vo==="as"||Vo==="theme"&&wo.theme===Ha||(Vo==="forwardedAs"?rs.as=wo.forwardedAs:Io&&!Io(Vo,zo)||(rs[Vo]=wo[Vo]));var Fs=function(bs,Vs){var vi=Xi(),fa=bs.generateAndInjectStyles(Vs,vi.styleSheet,vi.stylis);return fa}(Sr,wo),_u=Ii(Ci,ti);return Fs&&(_u+=" "+Fs),wo.className&&(_u+=" "+wo.className),rs[St(zo)&&!oi.has(zo)?"class":"className"]=_u,rs.ref=Cf,(0,B.createElement)(zo,rs)}(nl,hu,oc)}Ks.displayName=au;var nl=B.forwardRef(Ks);return nl.attrs=$s,nl.componentStyle=Nl,nl.displayName=au,nl.shouldForwardProp=Xs,nl.foldedComponentIds=Di?Ii(wa.foldedComponentIds,wa.styledComponentId):"",nl.styledComponentId=as,nl.target=Di?wa.target:xt,Object.defineProperty(nl,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(hu){this._foldedDefaultProps=Di?function(oc){for(var _l=[],Ku=1;Ku<arguments.length;Ku++)_l[Ku-1]=arguments[Ku];for(var Cf=0,bc=_l;Cf<bc.length;Cf++)dn(oc,bc[Cf],!0);return oc}({},wa.defaultProps,hu):hu}}),jn(nl,function(){return".".concat(nl.styledComponentId)}),Eo&&qi(nl,xt,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),nl}function hi(xt,Zn){for(var Cr=[xt[0]],Di=0,wa=Zn.length;Di<wa;Di+=1)Cr.push(Zn[Di],xt[Di+1]);return Cr}var gi=function(xt){return Object.assign(xt,{isCss:!0})};function xr(xt){for(var Zn=[],Cr=1;Cr<arguments.length;Cr++)Zn[Cr-1]=arguments[Cr];if($i(xt)||on(xt))return gi(ao(hi(xi,(0,w.ev)([xt],Zn,!0))));var Di=xt;return Zn.length===0&&Di.length===1&&typeof Di[0]=="string"?ao(Di):gi(ao(hi(Di,Zn)))}function Ji(xt,Zn,Cr){if(Cr===void 0&&(Cr=Gn),!Zn)throw Et(1,Zn);var Di=function(wa){for(var Eo=[],yo=1;yo<arguments.length;yo++)Eo[yo-1]=arguments[yo];return xt(Zn,Cr,xr.apply(void 0,(0,w.ev)([wa],Eo,!1)))};return Di.attrs=function(wa){return Ji(xt,Zn,(0,w.pi)((0,w.pi)({},Cr),{attrs:Array.prototype.concat(Cr.attrs,wa).filter(Boolean)}))},Di.withConfig=function(wa){return Ji(xt,Zn,(0,w.pi)((0,w.pi)({},Cr),wa))},Di}var Ai=function(xt){return Ji(wr,xt)},Mi=Ai;oi.forEach(function(xt){Mi[xt]=Ai(xt)});var po=function(){function xt(Zn,Cr){this.rules=Zn,this.componentId=Cr,this.isStatic=Wa(Zn),wu.registerId(this.componentId+1)}return xt.prototype.createStyles=function(Zn,Cr,Di,wa){var Eo=wa(Qa(ao(this.rules,Cr,Di,wa)),""),yo=this.componentId+Zn;Di.insertRules(yo,yo,Eo)},xt.prototype.removeStyles=function(Zn,Cr){Cr.clearRules(this.componentId+Zn)},xt.prototype.renderStyles=function(Zn,Cr,Di,wa){Zn>2&&wu.registerId(this.componentId+Zn),this.removeStyles(Zn,Di),this.createStyles(Zn,Cr,Di,wa)},xt}();function ha(xt){for(var Zn=[],Cr=1;Cr<arguments.length;Cr++)Zn[Cr-1]=arguments[Cr];var Di=xr.apply(void 0,(0,w.ev)([xt],Zn,!1)),wa="sc-global-".concat(je(JSON.stringify(Di))),Eo=new po(Di,wa),yo=function(hs){var Ma=Xi(),iu=B.useContext(ls),au=B.useRef(Ma.styleSheet.allocateGSInstance(wa)).current;return Ma.styleSheet.server&&Wr(au,hs,Ma.styleSheet,iu,Ma.stylis),B.useLayoutEffect(function(){if(!Ma.styleSheet.server)return Wr(au,hs,Ma.styleSheet,iu,Ma.stylis),function(){return Eo.removeStyles(au,Ma.styleSheet)}},[au,hs,Ma.styleSheet,iu,Ma.stylis]),null};function Wr(hs,Ma,iu,au,as){if(Eo.isStatic)Eo.renderStyles(hs,fs,iu,as);else{var $s=(0,w.pi)((0,w.pi)({},Ma),{theme:_e(Ma,au,yo.defaultProps)});Eo.renderStyles(hs,$s,iu,as)}}return B.memo(yo)}function Qo(xt){for(var Zn=[],Cr=1;Cr<arguments.length;Cr++)Zn[Cr-1]=arguments[Cr];var Di=Qa(xr.apply(void 0,(0,w.ev)([xt],Zn,!1))),wa=je(Di);return new ua(wa,Di)}function Cs(xt){var Zn=B.forwardRef(function(Cr,Di){var wa=_e(Cr,B.useContext(ls),xt.defaultProps);return B.createElement(xt,(0,w.pi)({},Cr,{theme:wa,ref:Di}))});return Zn.displayName="WithTheme(".concat(st(xt),")"),qi(Zn,xt)}var Oo=function(){function xt(){var Zn=this;this._emitSheetCSS=function(){var Cr=Zn.instance.toString();if(!Cr)return"";var Di=To(),wa=Qa([Di&&'nonce="'.concat(Di,'"'),"".concat(ar,'="true"'),"".concat(sa,'="').concat(xa,'"')].filter(Boolean)," ");return"<style ".concat(wa,">").concat(Cr,"</style>")},this.getStyleTags=function(){if(Zn.sealed)throw Et(2);return Zn._emitSheetCSS()},this.getStyleElement=function(){var Cr;if(Zn.sealed)throw Et(2);var Di=Zn.instance.toString();if(!Di)return[];var wa=((Cr={})[ar]="",Cr[sa]=xa,Cr.dangerouslySetInnerHTML={__html:Di},Cr),Eo=To();return Eo&&(wa.nonce=Eo),[B.createElement("style",(0,w.pi)({},wa,{key:"sc-0-0"}))]},this.seal=function(){Zn.sealed=!0},this.instance=new wu({isServer:!0}),this.sealed=!1}return xt.prototype.collectStyles=function(Zn){if(this.sealed)throw Et(2);return B.createElement(ia,{sheet:this.instance},Zn)},xt.prototype.interleaveWithNodeStream=function(Zn){throw Et(3)},xt}(),su={StyleSheet:wu,mainSheet:rr},ru="__sc-".concat(ar,"__")},48096:function(cn){(function(Ne,A){cn.exports=A()})(this,function(){"use strict";function Ne(Ke,Ue,Pt,Gt,rn,_n){if(!(rn-Gt<=Pt)){var qe=Gt+rn>>1;A(Ke,Ue,qe,Gt,rn,_n%2),Ne(Ke,Ue,Pt,Gt,qe-1,_n+1),Ne(Ke,Ue,Pt,qe+1,rn,_n+1)}}function A(Ke,Ue,Pt,Gt,rn,_n){for(;rn>Gt;){if(rn-Gt>600){var qe=rn-Gt+1,Nt=Pt-Gt+1,ft=Math.log(qe),ln=.5*Math.exp(2*ft/3),tt=.5*Math.sqrt(ft*ln*(qe-ln)/qe)*(Nt-qe/2<0?-1:1),Pe=Math.max(Gt,Math.floor(Pt-Nt*ln/qe+tt)),Qe=Math.min(rn,Math.floor(Pt+(qe-Nt)*ln/qe+tt));A(Ke,Ue,Pt,Pe,Qe,_n)}var He=Ue[2*Pt+_n],_t=Gt,Bt=rn;for(w(Ke,Ue,Gt,Pt),Ue[2*rn+_n]>He&&w(Ke,Ue,Gt,rn);_t<Bt;){for(w(Ke,Ue,_t,Bt),_t++,Bt--;Ue[2*_t+_n]<He;)_t++;for(;Ue[2*Bt+_n]>He;)Bt--}Ue[2*Gt+_n]===He?w(Ke,Ue,Gt,Bt):(Bt++,w(Ke,Ue,Bt,rn)),Bt<=Pt&&(Gt=Bt+1),Pt<=Bt&&(rn=Bt-1)}}function w(Ke,Ue,Pt,Gt){B(Ke,Pt,Gt),B(Ue,2*Pt,2*Gt),B(Ue,2*Pt+1,2*Gt+1)}function B(Ke,Ue,Pt){var Gt=Ke[Ue];Ke[Ue]=Ke[Pt],Ke[Pt]=Gt}function ne(Ke,Ue,Pt,Gt,rn,_n,qe){for(var Nt=[0,Ke.length-1,0],ft=[],ln,tt;Nt.length;){var Pe=Nt.pop(),Qe=Nt.pop(),He=Nt.pop();if(Qe-He<=qe){for(var _t=He;_t<=Qe;_t++)ln=Ue[2*_t],tt=Ue[2*_t+1],ln>=Pt&&ln<=rn&&tt>=Gt&&tt<=_n&&ft.push(Ke[_t]);continue}var Bt=Math.floor((He+Qe)/2);ln=Ue[2*Bt],tt=Ue[2*Bt+1],ln>=Pt&&ln<=rn&&tt>=Gt&&tt<=_n&&ft.push(Ke[Bt]);var At=(Pe+1)%2;(Pe===0?Pt<=ln:Gt<=tt)&&(Nt.push(He),Nt.push(Bt-1),Nt.push(At)),(Pe===0?rn>=ln:_n>=tt)&&(Nt.push(Bt+1),Nt.push(Qe),Nt.push(At))}return ft}function ue(Ke,Ue,Pt,Gt,rn,_n){for(var qe=[0,Ke.length-1,0],Nt=[],ft=rn*rn;qe.length;){var ln=qe.pop(),tt=qe.pop(),Pe=qe.pop();if(tt-Pe<=_n){for(var Qe=Pe;Qe<=tt;Qe++)j(Ue[2*Qe],Ue[2*Qe+1],Pt,Gt)<=ft&&Nt.push(Ke[Qe]);continue}var He=Math.floor((Pe+tt)/2),_t=Ue[2*He],Bt=Ue[2*He+1];j(_t,Bt,Pt,Gt)<=ft&&Nt.push(Ke[He]);var At=(ln+1)%2;(ln===0?Pt-rn<=_t:Gt-rn<=Bt)&&(qe.push(Pe),qe.push(He-1),qe.push(At)),(ln===0?Pt+rn>=_t:Gt+rn>=Bt)&&(qe.push(He+1),qe.push(tt),qe.push(At))}return Nt}function j(Ke,Ue,Pt,Gt){var rn=Ke-Pt,_n=Ue-Gt;return rn*rn+_n*_n}var q=function(Ke){return Ke[0]},Y=function(Ke){return Ke[1]},K=function(Ue,Pt,Gt,rn,_n){Pt===void 0&&(Pt=q),Gt===void 0&&(Gt=Y),rn===void 0&&(rn=64),_n===void 0&&(_n=Float64Array),this.nodeSize=rn,this.points=Ue;for(var qe=Ue.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new qe(Ue.length),ft=this.coords=new _n(Ue.length*2),ln=0;ln<Ue.length;ln++)Nt[ln]=ln,ft[2*ln]=Pt(Ue[ln]),ft[2*ln+1]=Gt(Ue[ln]);Ne(Nt,ft,rn,0,Nt.length-1,0)};K.prototype.range=function(Ue,Pt,Gt,rn){return ne(this.ids,this.coords,Ue,Pt,Gt,rn,this.nodeSize)},K.prototype.within=function(Ue,Pt,Gt){return ue(this.ids,this.coords,Ue,Pt,Gt,this.nodeSize)};var H={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ke){return Ke}},ae=Math.fround||function(Ke){return function(Ue){return Ke[0]=+Ue,Ke[0]}}(new Float32Array(1)),ie=function(Ue){this.options=gt(Object.create(H),Ue),this.trees=new Array(this.options.maxZoom+1)};ie.prototype.load=function(Ue){var Pt=this.options,Gt=Pt.log,rn=Pt.minZoom,_n=Pt.maxZoom,qe=Pt.nodeSize;Gt&&console.time("total time");var Nt="prepare "+Ue.length+" points";Gt&&console.time(Nt),this.points=Ue;for(var ft=[],ln=0;ln<Ue.length;ln++)Ue[ln].geometry&&ft.push(se(Ue[ln],ln));this.trees[_n+1]=new K(ft,pt,lt,qe,Float32Array),Gt&&console.timeEnd(Nt);for(var tt=_n;tt>=rn;tt--){var Pe=+Date.now();ft=this._cluster(ft,tt),this.trees[tt]=new K(ft,pt,lt,qe,Float32Array),Gt&&console.log("z%d: %d clusters in %dms",tt,ft.length,+Date.now()-Pe)}return Gt&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(Ue,Pt){var Gt=((Ue[0]+180)%360+360)%360-180,rn=Math.max(-90,Math.min(90,Ue[1])),_n=Ue[2]===180?180:((Ue[2]+180)%360+360)%360-180,qe=Math.max(-90,Math.min(90,Ue[3]));if(Ue[2]-Ue[0]>=360)Gt=-180,_n=180;else if(Gt>_n){var Nt=this.getClusters([Gt,rn,180,qe],Pt),ft=this.getClusters([-180,rn,_n,qe],Pt);return Nt.concat(ft)}for(var ln=this.trees[this._limitZoom(Pt)],tt=ln.range(ve(Gt),fe(qe),ve(_n),fe(rn)),Pe=[],Qe=0,He=tt;Qe<He.length;Qe+=1){var _t=He[Qe],Bt=ln.points[_t];Pe.push(Bt.numPoints?ge(Bt):this.points[Bt.index])}return Pe},ie.prototype.getChildren=function(Ue){var Pt=this._getOriginId(Ue),Gt=this._getOriginZoom(Ue),rn="No cluster with the specified id.",_n=this.trees[Gt];if(!_n)throw new Error(rn);var qe=_n.points[Pt];if(!qe)throw new Error(rn);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Gt-1)),ft=_n.within(qe.x,qe.y,Nt),ln=[],tt=0,Pe=ft;tt<Pe.length;tt+=1){var Qe=Pe[tt],He=_n.points[Qe];He.parentId===Ue&&ln.push(He.numPoints?ge(He):this.points[He.index])}if(ln.length===0)throw new Error(rn);return ln},ie.prototype.getLeaves=function(Ue,Pt,Gt){Pt=Pt||10,Gt=Gt||0;var rn=[];return this._appendLeaves(rn,Ue,Pt,Gt,0),rn},ie.prototype.getTile=function(Ue,Pt,Gt){var rn=this.trees[this._limitZoom(Ue)],_n=Math.pow(2,Ue),qe=this.options,Nt=qe.extent,ft=qe.radius,ln=ft/Nt,tt=(Gt-ln)/_n,Pe=(Gt+1+ln)/_n,Qe={features:[]};return this._addTileFeatures(rn.range((Pt-ln)/_n,tt,(Pt+1+ln)/_n,Pe),rn.points,Pt,Gt,_n,Qe),Pt===0&&this._addTileFeatures(rn.range(1-ln/_n,tt,1,Pe),rn.points,_n,Gt,_n,Qe),Pt===_n-1&&this._addTileFeatures(rn.range(0,tt,ln/_n,Pe),rn.points,-1,Gt,_n,Qe),Qe.features.length?Qe:null},ie.prototype.getClusterExpansionZoom=function(Ue){for(var Pt=this._getOriginZoom(Ue)-1;Pt<=this.options.maxZoom;){var Gt=this.getChildren(Ue);if(Pt++,Gt.length!==1)break;Ue=Gt[0].properties.cluster_id}return Pt},ie.prototype._appendLeaves=function(Ue,Pt,Gt,rn,_n){for(var qe=this.getChildren(Pt),Nt=0,ft=qe;Nt<ft.length;Nt+=1){var ln=ft[Nt],tt=ln.properties;if(tt&&tt.cluster?_n+tt.point_count<=rn?_n+=tt.point_count:_n=this._appendLeaves(Ue,tt.cluster_id,Gt,rn,_n):_n<rn?_n++:Ue.push(ln),Ue.length===Gt)break}return _n},ie.prototype._addTileFeatures=function(Ue,Pt,Gt,rn,_n,qe){for(var Nt=0,ft=Ue;Nt<ft.length;Nt+=1){var ln=ft[Nt],tt=Pt[ln],Pe=tt.numPoints,Qe=void 0,He=void 0,_t=void 0;if(Pe)Qe=ye(tt),He=tt.x,_t=tt.y;else{var Bt=this.points[tt.index];Qe=Bt.properties,He=ve(Bt.geometry.coordinates[0]),_t=fe(Bt.geometry.coordinates[1])}var At={type:1,geometry:[[Math.round(this.options.extent*(He*_n-Gt)),Math.round(this.options.extent*(_t*_n-rn))]],tags:Qe},Je=void 0;Pe?Je=tt.id:this.options.generateId?Je=tt.index:this.points[tt.index].id&&(Je=this.points[tt.index].id),Je!==void 0&&(At.id=Je),qe.features.push(At)}},ie.prototype._limitZoom=function(Ue){return Math.max(this.options.minZoom,Math.min(Math.floor(+Ue),this.options.maxZoom+1))},ie.prototype._cluster=function(Ue,Pt){for(var Gt=[],rn=this.options,_n=rn.radius,qe=rn.extent,Nt=rn.reduce,ft=rn.minPoints,ln=_n/(qe*Math.pow(2,Pt)),tt=0;tt<Ue.length;tt++){var Pe=Ue[tt];if(!(Pe.zoom<=Pt)){Pe.zoom=Pt;for(var Qe=this.trees[Pt+1],He=Qe.within(Pe.x,Pe.y,ln),_t=Pe.numPoints||1,Bt=_t,At=0,Je=He;At<Je.length;At+=1){var zt=Je[At],mn=Qe.points[zt];mn.zoom>Pt&&(Bt+=mn.numPoints||1)}if(Bt>_t&&Bt>=ft){for(var Ot=Pe.x*_t,Xe=Pe.y*_t,ct=Nt&&_t>1?this._map(Pe,!0):null,Rt=(tt<<5)+(Pt+1)+this.points.length,Oe=0,Ge=He;Oe<Ge.length;Oe+=1){var Vt=Ge[Oe],De=Qe.points[Vt];if(!(De.zoom<=Pt)){De.zoom=Pt;var et=De.numPoints||1;Ot+=De.x*et,Xe+=De.y*et,De.parentId=Rt,Nt&&(ct||(ct=this._map(Pe,!0)),Nt(ct,this._map(De)))}}Pe.parentId=Rt,Gt.push(le(Ot/Bt,Xe/Bt,Rt,Bt,ct))}else if(Gt.push(Pe),Bt>1)for(var Ce=0,J=He;Ce<J.length;Ce+=1){var Le=J[Ce],Jt=Qe.points[Le];Jt.zoom<=Pt||(Jt.zoom=Pt,Gt.push(Jt))}}}return Gt},ie.prototype._getOriginId=function(Ue){return Ue-this.points.length>>5},ie.prototype._getOriginZoom=function(Ue){return(Ue-this.points.length)%32},ie.prototype._map=function(Ue,Pt){if(Ue.numPoints)return Pt?gt({},Ue.properties):Ue.properties;var Gt=this.points[Ue.index].properties,rn=this.options.map(Gt);return Pt&&rn===Gt?gt({},rn):rn};function le(Ke,Ue,Pt,Gt,rn){return{x:ae(Ke),y:ae(Ue),zoom:1/0,id:Pt,parentId:-1,numPoints:Gt,properties:rn}}function se(Ke,Ue){var Pt=Ke.geometry.coordinates,Gt=Pt[0],rn=Pt[1];return{x:ae(ve(Gt)),y:ae(fe(rn)),zoom:1/0,index:Ue,parentId:-1}}function ge(Ke){return{type:"Feature",id:Ke.id,properties:ye(Ke),geometry:{type:"Point",coordinates:[Fe(Ke.x),yt(Ke.y)]}}}function ye(Ke){var Ue=Ke.numPoints,Pt=Ue>=1e4?Math.round(Ue/1e3)+"k":Ue>=1e3?Math.round(Ue/100)/10+"k":Ue;return gt(gt({},Ke.properties),{cluster:!0,cluster_id:Ke.id,point_count:Ue,point_count_abbreviated:Pt})}function ve(Ke){return Ke/360+.5}function fe(Ke){var Ue=Math.sin(Ke*Math.PI/180),Pt=.5-.25*Math.log((1+Ue)/(1-Ue))/Math.PI;return Pt<0?0:Pt>1?1:Pt}function Fe(Ke){return(Ke-.5)*360}function yt(Ke){var Ue=(180-Ke*360)*Math.PI/180;return 360*Math.atan(Math.exp(Ue))/Math.PI-90}function gt(Ke,Ue){for(var Pt in Ue)Ke[Pt]=Ue[Pt];return Ke}function pt(Ke){return Ke.x}function lt(Ke){return Ke.y}return ie})},38498:function(cn,Ne,A){var w=A(78770);function B(ne){if(Array.isArray(ne))return w(ne)}cn.exports=B,cn.exports.__esModule=!0,cn.exports.default=cn.exports},20698:function(cn){function Ne(A){if(typeof Symbol!="undefined"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}cn.exports=Ne,cn.exports.__esModule=!0,cn.exports.default=cn.exports},91162:function(cn){function Ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}cn.exports=Ne,cn.exports.__esModule=!0,cn.exports.default=cn.exports},67825:function(cn,Ne,A){var w=A(64382);function B(ne,ue){if(ne==null)return{};var j=w(ne,ue),q,Y;if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(ne);for(Y=0;Y<K.length;Y++)q=K[Y],!(ue.indexOf(q)>=0)&&Object.prototype.propertyIsEnumerable.call(ne,q)&&(j[q]=ne[q])}return j}cn.exports=B,cn.exports.__esModule=!0,cn.exports.default=cn.exports},64382:function(cn){function Ne(A,w){if(A==null)return{};var B={},ne=Object.keys(A),ue,j;for(j=0;j<ne.length;j++)ue=ne[j],!(w.indexOf(ue)>=0)&&(B[ue]=A[ue]);return B}cn.exports=Ne,cn.exports.__esModule=!0,cn.exports.default=cn.exports},53649:function(cn){function Ne(A,w){return w||(w=A.slice(0)),Object.freeze(Object.defineProperties(A,{raw:{value:Object.freeze(w)}}))}cn.exports=Ne,cn.exports.__esModule=!0,cn.exports.default=cn.exports},15558:function(cn,Ne,A){var w=A(38498),B=A(20698),ne=A(31479),ue=A(91162);function j(q){return w(q)||B(q)||ne(q)||ue()}cn.exports=j,cn.exports.__esModule=!0,cn.exports.default=cn.exports},81517:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});function w(ne,ue,j,q,Y,K,H){try{var ae=ne[K](H),ie=ae.value}catch(le){return void j(le)}ae.done?ue(ie):Promise.resolve(ie).then(q,Y)}function B(ne){return function(){var ue=this,j=arguments;return new Promise(function(q,Y){var K=ne.apply(ue,j);function H(ie){w(K,q,Y,H,ae,"next",ie)}function ae(ie){w(K,q,Y,H,ae,"throw",ie)}H(void 0)})}}},76082:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return ue}});var w=A(52601),B=A(95531),ne=A(57520);function ue(j,q,Y){return q=(0,w.Z)(q),(0,ne.Z)(j,(0,B.Z)()?Reflect.construct(q,Y||[],(0,w.Z)(j).constructor):q.apply(j,Y))}},58171:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});var w=A(30124);function B(ne,ue){var j=typeof Symbol!="undefined"&&ne[Symbol.iterator]||ne["@@iterator"];if(!j){if(Array.isArray(ne)||(j=(0,w.Z)(ne))||ue&&ne&&typeof ne.length=="number"){j&&(ne=j);var q=0,Y=function(){};return{s:Y,n:function(){return q>=ne.length?{done:!0}:{done:!1,value:ne[q++]}},e:function(le){throw le},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var K,H=!0,ae=!1;return{s:function(){j=j.call(ne)},n:function(){var le=j.next();return H=le.done,le},e:function(le){ae=!0,K=le},f:function(){try{H||j.return==null||j.return()}finally{if(ae)throw K}}}}},69501:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return B}});var w=A(24744);function B(){"use strict";B=function(){return ue};var ne,ue={},j=Object.prototype,q=j.hasOwnProperty,Y=Object.defineProperty||function(Qe,He,_t){Qe[He]=_t.value},K=typeof Symbol=="function"?Symbol:{},H=K.iterator||"@@iterator",ae=K.asyncIterator||"@@asyncIterator",ie=K.toStringTag||"@@toStringTag";function le(Qe,He,_t){return Object.defineProperty(Qe,He,{value:_t,enumerable:!0,configurable:!0,writable:!0}),Qe[He]}try{le({},"")}catch(Qe){le=function(_t,Bt,At){return _t[Bt]=At}}function se(Qe,He,_t,Bt){var At=He&&He.prototype instanceof gt?He:gt,Je=Object.create(At.prototype),zt=new tt(Bt||[]);return Y(Je,"_invoke",{value:qe(Qe,_t,zt)}),Je}function ge(Qe,He,_t){try{return{type:"normal",arg:Qe.call(He,_t)}}catch(Bt){return{type:"throw",arg:Bt}}}ue.wrap=se;var ye="suspendedStart",ve="suspendedYield",fe="executing",Fe="completed",yt={};function gt(){}function pt(){}function lt(){}var Ke={};le(Ke,H,function(){return this});var Ue=Object.getPrototypeOf,Pt=Ue&&Ue(Ue(Pe([])));Pt&&Pt!==j&&q.call(Pt,H)&&(Ke=Pt);var Gt=lt.prototype=gt.prototype=Object.create(Ke);function rn(Qe){["next","throw","return"].forEach(function(He){le(Qe,He,function(_t){return this._invoke(He,_t)})})}function _n(Qe,He){function _t(At,Je,zt,mn){var Ot=ge(Qe[At],Qe,Je);if(Ot.type!=="throw"){var Xe=Ot.arg,ct=Xe.value;return ct&&(0,w.Z)(ct)=="object"&&q.call(ct,"__await")?He.resolve(ct.__await).then(function(Rt){_t("next",Rt,zt,mn)},function(Rt){_t("throw",Rt,zt,mn)}):He.resolve(ct).then(function(Rt){Xe.value=Rt,zt(Xe)},function(Rt){return _t("throw",Rt,zt,mn)})}mn(Ot.arg)}var Bt;Y(this,"_invoke",{value:function(Je,zt){function mn(){return new He(function(Ot,Xe){_t(Je,zt,Ot,Xe)})}return Bt=Bt?Bt.then(mn,mn):mn()}})}function qe(Qe,He,_t){var Bt=ye;return function(At,Je){if(Bt===fe)throw Error("Generator is already running");if(Bt===Fe){if(At==="throw")throw Je;return{value:ne,done:!0}}for(_t.method=At,_t.arg=Je;;){var zt=_t.delegate;if(zt){var mn=Nt(zt,_t);if(mn){if(mn===yt)continue;return mn}}if(_t.method==="next")_t.sent=_t._sent=_t.arg;else if(_t.method==="throw"){if(Bt===ye)throw Bt=Fe,_t.arg;_t.dispatchException(_t.arg)}else _t.method==="return"&&_t.abrupt("return",_t.arg);Bt=fe;var Ot=ge(Qe,He,_t);if(Ot.type==="normal"){if(Bt=_t.done?Fe:ve,Ot.arg===yt)continue;return{value:Ot.arg,done:_t.done}}Ot.type==="throw"&&(Bt=Fe,_t.method="throw",_t.arg=Ot.arg)}}}function Nt(Qe,He){var _t=He.method,Bt=Qe.iterator[_t];if(Bt===ne)return He.delegate=null,_t==="throw"&&Qe.iterator.return&&(He.method="return",He.arg=ne,Nt(Qe,He),He.method==="throw")||_t!=="return"&&(He.method="throw",He.arg=new TypeError("The iterator does not provide a '"+_t+"' method")),yt;var At=ge(Bt,Qe.iterator,He.arg);if(At.type==="throw")return He.method="throw",He.arg=At.arg,He.delegate=null,yt;var Je=At.arg;return Je?Je.done?(He[Qe.resultName]=Je.value,He.next=Qe.nextLoc,He.method!=="return"&&(He.method="next",He.arg=ne),He.delegate=null,yt):Je:(He.method="throw",He.arg=new TypeError("iterator result is not an object"),He.delegate=null,yt)}function ft(Qe){var He={tryLoc:Qe[0]};1 in Qe&&(He.catchLoc=Qe[1]),2 in Qe&&(He.finallyLoc=Qe[2],He.afterLoc=Qe[3]),this.tryEntries.push(He)}function ln(Qe){var He=Qe.completion||{};He.type="normal",delete He.arg,Qe.completion=He}function tt(Qe){this.tryEntries=[{tryLoc:"root"}],Qe.forEach(ft,this),this.reset(!0)}function Pe(Qe){if(Qe||Qe===""){var He=Qe[H];if(He)return He.call(Qe);if(typeof Qe.next=="function")return Qe;if(!isNaN(Qe.length)){var _t=-1,Bt=function At(){for(;++_t<Qe.length;)if(q.call(Qe,_t))return At.value=Qe[_t],At.done=!1,At;return At.value=ne,At.done=!0,At};return Bt.next=Bt}}throw new TypeError((0,w.Z)(Qe)+" is not iterable")}return pt.prototype=lt,Y(Gt,"constructor",{value:lt,configurable:!0}),Y(lt,"constructor",{value:pt,configurable:!0}),pt.displayName=le(lt,ie,"GeneratorFunction"),ue.isGeneratorFunction=function(Qe){var He=typeof Qe=="function"&&Qe.constructor;return!!He&&(He===pt||(He.displayName||He.name)==="GeneratorFunction")},ue.mark=function(Qe){return Object.setPrototypeOf?Object.setPrototypeOf(Qe,lt):(Qe.__proto__=lt,le(Qe,ie,"GeneratorFunction")),Qe.prototype=Object.create(Gt),Qe},ue.awrap=function(Qe){return{__await:Qe}},rn(_n.prototype),le(_n.prototype,ae,function(){return this}),ue.AsyncIterator=_n,ue.async=function(Qe,He,_t,Bt,At){At===void 0&&(At=Promise);var Je=new _n(se(Qe,He,_t,Bt),At);return ue.isGeneratorFunction(He)?Je:Je.next().then(function(zt){return zt.done?zt.value:Je.next()})},rn(Gt),le(Gt,ie,"Generator"),le(Gt,H,function(){return this}),le(Gt,"toString",function(){return"[object Generator]"}),ue.keys=function(Qe){var He=Object(Qe),_t=[];for(var Bt in He)_t.push(Bt);return _t.reverse(),function At(){for(;_t.length;){var Je=_t.pop();if(Je in He)return At.value=Je,At.done=!1,At}return At.done=!0,At}},ue.values=Pe,tt.prototype={constructor:tt,reset:function(He){if(this.prev=0,this.next=0,this.sent=this._sent=ne,this.done=!1,this.delegate=null,this.method="next",this.arg=ne,this.tryEntries.forEach(ln),!He)for(var _t in this)_t.charAt(0)==="t"&&q.call(this,_t)&&!isNaN(+_t.slice(1))&&(this[_t]=ne)},stop:function(){this.done=!0;var He=this.tryEntries[0].completion;if(He.type==="throw")throw He.arg;return this.rval},dispatchException:function(He){if(this.done)throw He;var _t=this;function Bt(Xe,ct){return zt.type="throw",zt.arg=He,_t.next=Xe,ct&&(_t.method="next",_t.arg=ne),!!ct}for(var At=this.tryEntries.length-1;At>=0;--At){var Je=this.tryEntries[At],zt=Je.completion;if(Je.tryLoc==="root")return Bt("end");if(Je.tryLoc<=this.prev){var mn=q.call(Je,"catchLoc"),Ot=q.call(Je,"finallyLoc");if(mn&&Ot){if(this.prev<Je.catchLoc)return Bt(Je.catchLoc,!0);if(this.prev<Je.finallyLoc)return Bt(Je.finallyLoc)}else if(mn){if(this.prev<Je.catchLoc)return Bt(Je.catchLoc,!0)}else{if(!Ot)throw Error("try statement without catch or finally");if(this.prev<Je.finallyLoc)return Bt(Je.finallyLoc)}}}},abrupt:function(He,_t){for(var Bt=this.tryEntries.length-1;Bt>=0;--Bt){var At=this.tryEntries[Bt];if(At.tryLoc<=this.prev&&q.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var Je=At;break}}Je&&(He==="break"||He==="continue")&&Je.tryLoc<=_t&&_t<=Je.finallyLoc&&(Je=null);var zt=Je?Je.completion:{};return zt.type=He,zt.arg=_t,Je?(this.method="next",this.next=Je.finallyLoc,yt):this.complete(zt)},complete:function(He,_t){if(He.type==="throw")throw He.arg;return He.type==="break"||He.type==="continue"?this.next=He.arg:He.type==="return"?(this.rval=this.arg=He.arg,this.method="return",this.next="end"):He.type==="normal"&&_t&&(this.next=_t),yt},finish:function(He){for(var _t=this.tryEntries.length-1;_t>=0;--_t){var Bt=this.tryEntries[_t];if(Bt.finallyLoc===He)return this.complete(Bt.completion,Bt.afterLoc),ln(Bt),yt}},catch:function(He){for(var _t=this.tryEntries.length-1;_t>=0;--_t){var Bt=this.tryEntries[_t];if(Bt.tryLoc===He){var At=Bt.completion;if(At.type==="throw"){var Je=At.arg;ln(Bt)}return Je}}throw Error("illegal catch attempt")},delegateYield:function(He,_t,Bt){return this.delegate={iterator:Pe(He),resultName:_t,nextLoc:Bt},this.method==="next"&&(this.arg=ne),yt}},ue}},13157:function(cn,Ne,A){"use strict";A.d(Ne,{B8:function(){return Ue},Il:function(){return B},J5:function(){return ue},SU:function(){return Ke},Ss:function(){return Pt},ZP:function(){return gt},xV:function(){return ne}});var w=A(41842);function B(){}var ne=.7,ue=1/ne,j="\\s*([+-]?\\d+)\\s*",q="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K=/^#([0-9a-f]{3,8})$/,H=new RegExp("^rgb\\(".concat(j,",").concat(j,",").concat(j,"\\)$")),ae=new RegExp("^rgb\\(".concat(Y,",").concat(Y,",").concat(Y,"\\)$")),ie=new RegExp("^rgba\\(".concat(j,",").concat(j,",").concat(j,",").concat(q,"\\)$")),le=new RegExp("^rgba\\(".concat(Y,",").concat(Y,",").concat(Y,",").concat(q,"\\)$")),se=new RegExp("^hsl\\(".concat(q,",").concat(Y,",").concat(Y,"\\)$")),ge=new RegExp("^hsla\\(".concat(q,",").concat(Y,",").concat(Y,",").concat(q,"\\)$")),ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};(0,w.Z)(B,gt,{copy:function(Je){return Object.assign(new this.constructor,this,Je)},displayable:function(){return this.rgb().displayable()},hex:ve,formatHex:ve,formatHex8:fe,formatHsl:Fe,formatRgb:yt,toString:yt});function ve(){return this.rgb().formatHex()}function fe(){return this.rgb().formatHex8()}function Fe(){return tt(this).formatHsl()}function yt(){return this.rgb().formatRgb()}function gt(At){var Je,zt;return At=(At+"").trim().toLowerCase(),(Je=K.exec(At))?(zt=Je[1].length,Je=parseInt(Je[1],16),zt===6?pt(Je):zt===3?new Pt(Je>>8&15|Je>>4&240,Je>>4&15|Je&240,(Je&15)<<4|Je&15,1):zt===8?lt(Je>>24&255,Je>>16&255,Je>>8&255,(Je&255)/255):zt===4?lt(Je>>12&15|Je>>8&240,Je>>8&15|Je>>4&240,Je>>4&15|Je&240,((Je&15)<<4|Je&15)/255):null):(Je=H.exec(At))?new Pt(Je[1],Je[2],Je[3],1):(Je=ae.exec(At))?new Pt(Je[1]*255/100,Je[2]*255/100,Je[3]*255/100,1):(Je=ie.exec(At))?lt(Je[1],Je[2],Je[3],Je[4]):(Je=le.exec(At))?lt(Je[1]*255/100,Je[2]*255/100,Je[3]*255/100,Je[4]):(Je=se.exec(At))?ln(Je[1],Je[2]/100,Je[3]/100,1):(Je=ge.exec(At))?ln(Je[1],Je[2]/100,Je[3]/100,Je[4]):ye.hasOwnProperty(At)?pt(ye[At]):At==="transparent"?new Pt(NaN,NaN,NaN,0):null}function pt(At){return new Pt(At>>16&255,At>>8&255,At&255,1)}function lt(At,Je,zt,mn){return mn<=0&&(At=Je=zt=NaN),new Pt(At,Je,zt,mn)}function Ke(At){return At instanceof B||(At=gt(At)),At?(At=At.rgb(),new Pt(At.r,At.g,At.b,At.opacity)):new Pt}function Ue(At,Je,zt,mn){return arguments.length===1?Ke(At):new Pt(At,Je,zt,mn==null?1:mn)}function Pt(At,Je,zt,mn){this.r=+At,this.g=+Je,this.b=+zt,this.opacity=+mn}(0,w.Z)(Pt,Ue,(0,w.l)(B,{brighter:function(Je){return Je=Je==null?ue:Math.pow(ue,Je),new Pt(this.r*Je,this.g*Je,this.b*Je,this.opacity)},darker:function(Je){return Je=Je==null?ne:Math.pow(ne,Je),new Pt(this.r*Je,this.g*Je,this.b*Je,this.opacity)},rgb:function(){return this},clamp:function(){return new Pt(Nt(this.r),Nt(this.g),Nt(this.b),qe(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gt,formatHex:Gt,formatHex8:rn,formatRgb:_n,toString:_n}));function Gt(){return"#".concat(ft(this.r)).concat(ft(this.g)).concat(ft(this.b))}function rn(){return"#".concat(ft(this.r)).concat(ft(this.g)).concat(ft(this.b)).concat(ft((isNaN(this.opacity)?1:this.opacity)*255))}function _n(){var At=qe(this.opacity);return"".concat(At===1?"rgb(":"rgba(").concat(Nt(this.r),", ").concat(Nt(this.g),", ").concat(Nt(this.b)).concat(At===1?")":", ".concat(At,")"))}function qe(At){return isNaN(At)?1:Math.max(0,Math.min(1,At))}function Nt(At){return Math.max(0,Math.min(255,Math.round(At)||0))}function ft(At){return At=Nt(At),(At<16?"0":"")+At.toString(16)}function ln(At,Je,zt,mn){return mn<=0?At=Je=zt=NaN:zt<=0||zt>=1?At=Je=NaN:Je<=0&&(At=NaN),new Qe(At,Je,zt,mn)}function tt(At){if(At instanceof Qe)return new Qe(At.h,At.s,At.l,At.opacity);if(At instanceof B||(At=gt(At)),!At)return new Qe;if(At instanceof Qe)return At;At=At.rgb();var Je=At.r/255,zt=At.g/255,mn=At.b/255,Ot=Math.min(Je,zt,mn),Xe=Math.max(Je,zt,mn),ct=NaN,Rt=Xe-Ot,Oe=(Xe+Ot)/2;return Rt?(Je===Xe?ct=(zt-mn)/Rt+(zt<mn)*6:zt===Xe?ct=(mn-Je)/Rt+2:ct=(Je-zt)/Rt+4,Rt/=Oe<.5?Xe+Ot:2-Xe-Ot,ct*=60):Rt=Oe>0&&Oe<1?0:ct,new Qe(ct,Rt,Oe,At.opacity)}function Pe(At,Je,zt,mn){return arguments.length===1?tt(At):new Qe(At,Je,zt,mn==null?1:mn)}function Qe(At,Je,zt,mn){this.h=+At,this.s=+Je,this.l=+zt,this.opacity=+mn}(0,w.Z)(Qe,Pe,(0,w.l)(B,{brighter:function(Je){return Je=Je==null?ue:Math.pow(ue,Je),new Qe(this.h,this.s,this.l*Je,this.opacity)},darker:function(Je){return Je=Je==null?ne:Math.pow(ne,Je),new Qe(this.h,this.s,this.l*Je,this.opacity)},rgb:function(){var Je=this.h%360+(this.h<0)*360,zt=isNaN(Je)||isNaN(this.s)?0:this.s,mn=this.l,Ot=mn+(mn<.5?mn:1-mn)*zt,Xe=2*mn-Ot;return new Pt(Bt(Je>=240?Je-240:Je+120,Xe,Ot),Bt(Je,Xe,Ot),Bt(Je<120?Je+240:Je-120,Xe,Ot),this.opacity)},clamp:function(){return new Qe(He(this.h),_t(this.s),_t(this.l),qe(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Je=qe(this.opacity);return"".concat(Je===1?"hsl(":"hsla(").concat(He(this.h),", ").concat(_t(this.s)*100,"%, ").concat(_t(this.l)*100,"%").concat(Je===1?")":", ".concat(Je,")"))}}));function He(At){return At=(At||0)%360,At<0?At+360:At}function _t(At){return Math.max(0,Math.min(1,At||0))}function Bt(At,Je,zt){return(At<60?Je+(zt-Je)*At/60:At<180?zt:At<240?Je+(zt-Je)*(240-At)/60:Je)*255}},41842:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return w},l:function(){return B}});function w(ne,ue,j){ne.prototype=ue.prototype=j,j.constructor=ne}function B(ne,ue){var j=Object.create(ne.prototype);for(var q in ue)j[q]=ue[q];return j}},41730:function(cn,Ne,A){"use strict";A.d(Ne,{ZP:function(){return pt}});const w=-1,B=0,ne=1,ue=2,j=3,q=4,Y=5,K=6,H=7,ae=8,ie=typeof self=="object"?self:globalThis,le=(lt,Ke)=>{const Ue=(Gt,rn)=>(lt.set(rn,Gt),Gt),Pt=Gt=>{if(lt.has(Gt))return lt.get(Gt);const[rn,_n]=Ke[Gt];switch(rn){case B:case w:return Ue(_n,Gt);case ne:{const qe=Ue([],Gt);for(const Nt of _n)qe.push(Pt(Nt));return qe}case ue:{const qe=Ue({},Gt);for(const[Nt,ft]of _n)qe[Pt(Nt)]=Pt(ft);return qe}case j:return Ue(new Date(_n),Gt);case q:{const{source:qe,flags:Nt}=_n;return Ue(new RegExp(qe,Nt),Gt)}case Y:{const qe=Ue(new Map,Gt);for(const[Nt,ft]of _n)qe.set(Pt(Nt),Pt(ft));return qe}case K:{const qe=Ue(new Set,Gt);for(const Nt of _n)qe.add(Pt(Nt));return qe}case H:{const{name:qe,message:Nt}=_n;return Ue(new ie[qe](Nt),Gt)}case ae:return Ue(BigInt(_n),Gt);case"BigInt":return Ue(Object(BigInt(_n)),Gt)}return Ue(new ie[rn](_n),Gt)};return Pt},se=lt=>le(new Map,lt)(0),ge="",{toString:ye}={},{keys:ve}=Object,fe=lt=>{const Ke=typeof lt;if(Ke!=="object"||!lt)return[B,Ke];const Ue=ye.call(lt).slice(8,-1);switch(Ue){case"Array":return[ne,ge];case"Object":return[ue,ge];case"Date":return[j,ge];case"RegExp":return[q,ge];case"Map":return[Y,ge];case"Set":return[K,ge]}return Ue.includes("Array")?[ne,Ue]:Ue.includes("Error")?[H,Ue]:[ue,Ue]},Fe=([lt,Ke])=>lt===B&&(Ke==="function"||Ke==="symbol"),yt=(lt,Ke,Ue,Pt)=>{const Gt=(_n,qe)=>{const Nt=Pt.push(_n)-1;return Ue.set(qe,Nt),Nt},rn=_n=>{if(Ue.has(_n))return Ue.get(_n);let[qe,Nt]=fe(_n);switch(qe){case B:{let ln=_n;switch(Nt){case"bigint":qe=ae,ln=_n.toString();break;case"function":case"symbol":if(lt)throw new TypeError("unable to serialize "+Nt);ln=null;break;case"undefined":return Gt([w],_n)}return Gt([qe,ln],_n)}case ne:{if(Nt)return Gt([Nt,[..._n]],_n);const ln=[],tt=Gt([qe,ln],_n);for(const Pe of _n)ln.push(rn(Pe));return tt}case ue:{if(Nt)switch(Nt){case"BigInt":return Gt([Nt,_n.toString()],_n);case"Boolean":case"Number":case"String":return Gt([Nt,_n.valueOf()],_n)}if(Ke&&"toJSON"in _n)return rn(_n.toJSON());const ln=[],tt=Gt([qe,ln],_n);for(const Pe of ve(_n))(lt||!Fe(fe(_n[Pe])))&&ln.push([rn(Pe),rn(_n[Pe])]);return tt}case j:return Gt([qe,_n.toISOString()],_n);case q:{const{source:ln,flags:tt}=_n;return Gt([qe,{source:ln,flags:tt}],_n)}case Y:{const ln=[],tt=Gt([qe,ln],_n);for(const[Pe,Qe]of _n)(lt||!(Fe(fe(Pe))||Fe(fe(Qe))))&&ln.push([rn(Pe),rn(Qe)]);return tt}case K:{const ln=[],tt=Gt([qe,ln],_n);for(const Pe of _n)(lt||!Fe(fe(Pe)))&&ln.push(rn(Pe));return tt}}const{message:ft}=_n;return Gt([qe,{name:Nt,message:ft}],_n)};return rn},gt=(lt,{json:Ke,lossy:Ue}={})=>{const Pt=[];return yt(!(Ke||Ue),!!Ke,new Map,Pt)(lt),Pt};var pt=typeof structuredClone=="function"?(lt,Ke)=>Ke&&("json"in Ke||"lossy"in Ke)?se(gt(lt,Ke)):structuredClone(lt):(lt,Ke)=>se(gt(lt,Ke))},57529:function(cn,Ne,A){"use strict";A.d(Ne,{P:function(){return B},Q:function(){return w}});function w(ne){const ue=[],j=String(ne||"");let q=j.indexOf(","),Y=0,K=!1;for(;!K;){q===-1&&(q=j.length,K=!0);const H=j.slice(Y,q).trim();(H||!K)&&ue.push(H),Y=q+1,q=j.indexOf(",",Y)}return ue}function B(ne,ue){const j=ue||{};return(ne[ne.length-1]===""?[...ne,""]:ne).join((j.padRight?" ":"")+","+(j.padLeft===!1?"":" ")).trim()}},4729:function(cn,Ne,A){"use strict";A.d(Ne,{ok:function(){return ne},t1:function(){return ue}});function w(j){return j}function B(){}function ne(){}function ue(){}},73983:function(cn,Ne,A){"use strict";var w=A(2337);Ne.Z=w},66711:function(cn,Ne,A){"use strict";var w=A(99615),B=w.Z.Symbol;Ne.Z=B},33918:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return ve}});var w=A(66711),B=Object.prototype,ne=B.hasOwnProperty,ue=B.toString,j=w.Z?w.Z.toStringTag:void 0;function q(fe){var Fe=ne.call(fe,j),yt=fe[j];try{fe[j]=void 0;var gt=!0}catch(lt){}var pt=ue.call(fe);return gt&&(Fe?fe[j]=yt:delete fe[j]),pt}var Y=q,K=Object.prototype,H=K.toString;function ae(fe){return H.call(fe)}var ie=ae,le="[object Null]",se="[object Undefined]",ge=w.Z?w.Z.toStringTag:void 0;function ye(fe){return fe==null?fe===void 0?se:le:ge&&ge in Object(fe)?Y(fe):ie(fe)}var ve=ye},97889:function(cn,Ne){"use strict";var A=typeof global=="object"&&global&&global.Object===Object&&global;Ne.Z=A},99615:function(cn,Ne,A){"use strict";var w=A(97889),B=typeof self=="object"&&self&&self.Object===Object&&self,ne=w.Z||B||Function("return this")();Ne.Z=ne},13795:function(cn,Ne){"use strict";function A(w){return w!=null&&typeof w=="object"}Ne.Z=A},11721:function(cn,Ne,A){"use strict";A.d(Ne,{B:function(){return B}});const w={};function B(q,Y){const K=Y||w,H=typeof K.includeImageAlt=="boolean"?K.includeImageAlt:!0,ae=typeof K.includeHtml=="boolean"?K.includeHtml:!0;return ne(q,H,ae)}function ne(q,Y,K){if(j(q)){if("value"in q)return q.type==="html"&&!K?"":q.value;if(Y&&"alt"in q&&q.alt)return q.alt;if("children"in q)return ue(q.children,Y,K)}return Array.isArray(q)?ue(q,Y,K):""}function ue(q,Y,K){const H=[];let ae=-1;for(;++ae<q.length;)H[ae]=ne(q[ae],Y,K);return H.join("")}function j(q){return!!(q&&typeof q=="object")}},90924:function(cn,Ne,A){"use strict";A.d(Ne,{w:function(){return ne}});var w=A(60403),B=A(6020);const ne={partial:!0,tokenize:ue};function ue(j,q,Y){return K;function K(ae){return(0,B.xz)(ae)?(0,w.f)(j,H,"linePrefix")(ae):H(ae)}function H(ae){return ae===null||(0,B.Ch)(ae)?q(ae):Y(ae)}}},60403:function(cn,Ne,A){"use strict";A.d(Ne,{f:function(){return B}});var w=A(6020);function B(ne,ue,j,q){const Y=q?q-1:Number.POSITIVE_INFINITY;let K=0;return H;function H(ie){return(0,w.xz)(ie)?(ne.enter(j),ae(ie)):ue(ie)}function ae(ie){return(0,w.xz)(ie)&&K++<Y?(ne.consume(ie),ae):(ne.exit(j),ue(ie))}}},6020:function(cn,Ne,A){"use strict";A.d(Ne,{AF:function(){return q},Av:function(){return ue},B8:function(){return le},Ch:function(){return K},H$:function(){return B},Xh:function(){return ie},jv:function(){return w},n9:function(){return ne},pY:function(){return j},sR:function(){return Y},xz:function(){return ae},z3:function(){return H}});const w=se(/[A-Za-z]/),B=se(/[\dA-Za-z]/),ne=se(/[#-'*+\--9=?A-Z^-~]/);function ue(ge){return ge!==null&&(ge<32||ge===127)}const j=se(/\d/),q=se(/[\dA-Fa-f]/),Y=se(/[!-/:-@[-`{-~]/);function K(ge){return ge!==null&&ge<-2}function H(ge){return ge!==null&&(ge<0||ge===32)}function ae(ge){return ge===-2||ge===-1||ge===32}const ie=se(new RegExp("\\p{P}|\\p{S}","u")),le=se(/\s/);function se(ge){return ye;function ye(ve){return ve!==null&&ve>-1&&ge.test(String.fromCharCode(ve))}}},57974:function(cn,Ne,A){"use strict";A.d(Ne,{V:function(){return B},d:function(){return w}});function w(ne,ue,j,q){const Y=ne.length;let K=0,H;if(ue<0?ue=-ue>Y?0:Y+ue:ue=ue>Y?Y:ue,j=j>0?j:0,q.length<1e4)H=Array.from(q),H.unshift(ue,j),ne.splice(...H);else for(j&&ne.splice(ue,j);K<q.length;)H=q.slice(K,K+1e4),H.unshift(ue,0),ne.splice(...H),K+=1e4,ue+=1e4}function B(ne,ue){return ne.length>0?(w(ne,ne.length,0,ue),ne):ue}},72147:function(cn,Ne,A){"use strict";A.d(Ne,{r:function(){return B}});var w=A(6020);function B(ne){if(ne===null||(0,w.z3)(ne)||(0,w.B8)(ne))return 1;if((0,w.Xh)(ne))return 2}},33850:function(cn,Ne,A){"use strict";A.d(Ne,{W:function(){return ne}});var w=A(57974);const B={}.hasOwnProperty;function ne(K){const H={};let ae=-1;for(;++ae<K.length;)ue(H,K[ae]);return H}function ue(K,H){let ae;for(ae in H){const le=(B.call(K,ae)?K[ae]:void 0)||(K[ae]={}),se=H[ae];let ge;if(se)for(ge in se){B.call(le,ge)||(le[ge]=[]);const ye=se[ge];j(le[ge],Array.isArray(ye)?ye:ye?[ye]:[])}}}function j(K,H){let ae=-1;const ie=[];for(;++ae<H.length;)(H[ae].add==="after"?K:ie).push(H[ae]);(0,w.d)(K,0,0,ie)}function q(K){const H={};let ae=-1;for(;++ae<K.length;)Y(H,K[ae]);return H}function Y(K,H){let ae;for(ae in H){const le=(B.call(K,ae)?K[ae]:void 0)||(K[ae]={}),se=H[ae];let ge;if(se)for(ge in se)le[ge]=se[ge]}}},23185:function(cn,Ne,A){"use strict";A.d(Ne,{d:function(){return w}});function w(B){return B.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}},797:function(cn,Ne,A){"use strict";A.d(Ne,{C:function(){return w}});function w(B,ne,ue){const j=[];let q=-1;for(;++q<B.length;){const Y=B[q].resolveAll;Y&&!j.includes(Y)&&(ne=Y(ne,ue),j.push(Y))}return ne}},73749:function(cn,Ne,A){"use strict";A.d(Ne,{dy:function(){return ve},YP:function(){return fe}});class w{constructor(yt,gt,pt){this.property=yt,this.normal=gt,pt&&(this.space=pt)}}w.prototype.property={},w.prototype.normal={},w.prototype.space=null;function B(Fe,yt){const gt={},pt={};let lt=-1;for(;++lt<Fe.length;)Object.assign(gt,Fe[lt].property),Object.assign(pt,Fe[lt].normal);return new w(gt,pt,yt)}var ne=A(40471),ue=A(90333);const j={}.hasOwnProperty;function q(Fe){const yt={},gt={};let pt;for(pt in Fe.properties)if(j.call(Fe.properties,pt)){const lt=Fe.properties[pt],Ke=new ue.I(pt,Fe.transform(Fe.attributes||{},pt),lt,Fe.space);Fe.mustUseProperty&&Fe.mustUseProperty.includes(pt)&&(Ke.mustUseProperty=!0),yt[pt]=Ke,gt[(0,ne.F)(pt)]=pt,gt[(0,ne.F)(Ke.attribute)]=pt}return new w(yt,gt,Fe.space)}const Y=q({space:"xlink",transform(Fe,yt){return"xlink:"+yt.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),K=q({space:"xml",transform(Fe,yt){return"xml:"+yt.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function H(Fe,yt){return yt in Fe?Fe[yt]:yt}function ae(Fe,yt){return H(Fe,yt.toLowerCase())}const ie=q({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ae,properties:{xmlns:null,xmlnsXLink:null}});var le=A(9452);const se=q({transform(Fe,yt){return yt==="role"?yt:"aria-"+yt.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:le.booleanish,ariaAutoComplete:null,ariaBusy:le.booleanish,ariaChecked:le.booleanish,ariaColCount:le.number,ariaColIndex:le.number,ariaColSpan:le.number,ariaControls:le.spaceSeparated,ariaCurrent:null,ariaDescribedBy:le.spaceSeparated,ariaDetails:null,ariaDisabled:le.booleanish,ariaDropEffect:le.spaceSeparated,ariaErrorMessage:null,ariaExpanded:le.booleanish,ariaFlowTo:le.spaceSeparated,ariaGrabbed:le.booleanish,ariaHasPopup:null,ariaHidden:le.booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:le.spaceSeparated,ariaLevel:le.number,ariaLive:null,ariaModal:le.booleanish,ariaMultiLine:le.booleanish,ariaMultiSelectable:le.booleanish,ariaOrientation:null,ariaOwns:le.spaceSeparated,ariaPlaceholder:null,ariaPosInSet:le.number,ariaPressed:le.booleanish,ariaReadOnly:le.booleanish,ariaRelevant:null,ariaRequired:le.booleanish,ariaRoleDescription:le.spaceSeparated,ariaRowCount:le.number,ariaRowIndex:le.number,ariaRowSpan:le.number,ariaSelected:le.booleanish,ariaSetSize:le.number,ariaSort:null,ariaValueMax:le.number,ariaValueMin:le.number,ariaValueNow:le.number,ariaValueText:null,role:null}}),ge=q({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ae,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:le.commaSeparated,acceptCharset:le.spaceSeparated,accessKey:le.spaceSeparated,action:null,allow:null,allowFullScreen:le.boolean,allowPaymentRequest:le.boolean,allowUserMedia:le.boolean,alt:null,as:null,async:le.boolean,autoCapitalize:null,autoComplete:le.spaceSeparated,autoFocus:le.boolean,autoPlay:le.boolean,blocking:le.spaceSeparated,capture:null,charSet:null,checked:le.boolean,cite:null,className:le.spaceSeparated,cols:le.number,colSpan:null,content:null,contentEditable:le.booleanish,controls:le.boolean,controlsList:le.spaceSeparated,coords:le.number|le.commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:le.boolean,defer:le.boolean,dir:null,dirName:null,disabled:le.boolean,download:le.overloadedBoolean,draggable:le.booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:le.boolean,formTarget:null,headers:le.spaceSeparated,height:le.number,hidden:le.boolean,high:le.number,href:null,hrefLang:null,htmlFor:le.spaceSeparated,httpEquiv:le.spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:le.boolean,inputMode:null,integrity:null,is:null,isMap:le.boolean,itemId:null,itemProp:le.spaceSeparated,itemRef:le.spaceSeparated,itemScope:le.boolean,itemType:le.spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:le.boolean,low:le.number,manifest:null,max:null,maxLength:le.number,media:null,method:null,min:null,minLength:le.number,multiple:le.boolean,muted:le.boolean,name:null,nonce:null,noModule:le.boolean,noValidate:le.boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:le.boolean,optimum:le.number,pattern:null,ping:le.spaceSeparated,placeholder:null,playsInline:le.boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:le.boolean,referrerPolicy:null,rel:le.spaceSeparated,required:le.boolean,reversed:le.boolean,rows:le.number,rowSpan:le.number,sandbox:le.spaceSeparated,scope:null,scoped:le.boolean,seamless:le.boolean,selected:le.boolean,shadowRootClonable:le.boolean,shadowRootDelegatesFocus:le.boolean,shadowRootMode:null,shape:null,size:le.number,sizes:null,slot:null,span:le.number,spellCheck:le.booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le.number,step:null,style:null,tabIndex:le.number,target:null,title:null,translate:null,type:null,typeMustMatch:le.boolean,useMap:null,value:le.booleanish,width:le.number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:le.spaceSeparated,axis:null,background:null,bgColor:null,border:le.number,borderColor:null,bottomMargin:le.number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:le.boolean,declare:le.boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:le.number,leftMargin:le.number,link:null,longDesc:null,lowSrc:null,marginHeight:le.number,marginWidth:le.number,noResize:le.boolean,noHref:le.boolean,noShade:le.boolean,noWrap:le.boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:le.number,rules:null,scheme:null,scrolling:le.booleanish,standby:null,summary:null,text:null,topMargin:le.number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le.number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:le.boolean,disableRemotePlayback:le.boolean,prefix:null,property:null,results:le.number,security:null,unselectable:null}}),ye=q({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:H,properties:{about:le.commaOrSpaceSeparated,accentHeight:le.number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le.number,amplitude:le.number,arabicForm:null,ascent:le.number,attributeName:null,attributeType:null,azimuth:le.number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le.number,by:null,calcMode:null,capHeight:le.number,className:le.spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le.number,diffuseConstant:le.number,direction:null,display:null,dur:null,divisor:le.number,dominantBaseline:null,download:le.boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:le.number,enableBackground:null,end:null,event:null,exponent:le.number,externalResourcesRequired:null,fill:null,fillOpacity:le.number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:le.commaSeparated,g2:le.commaSeparated,glyphName:le.commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le.number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le.number,horizOriginX:le.number,horizOriginY:le.number,id:null,ideographic:le.number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le.number,k:le.number,k1:le.number,k2:le.number,k3:le.number,k4:le.number,kernelMatrix:le.commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le.number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le.number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le.number,overlineThickness:le.number,paintOrder:null,panose1:null,path:null,pathLength:le.number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:le.spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le.number,pointsAtY:le.number,pointsAtZ:le.number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:le.commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:le.commaOrSpaceSeparated,rev:le.commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:le.commaOrSpaceSeparated,requiredFeatures:le.commaOrSpaceSeparated,requiredFonts:le.commaOrSpaceSeparated,requiredFormats:le.commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le.number,specularExponent:le.number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le.number,strikethroughThickness:le.number,string:null,stroke:null,strokeDashArray:le.commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le.number,strokeOpacity:le.number,strokeWidth:null,style:null,surfaceScale:le.number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:le.commaOrSpaceSeparated,tabIndex:le.number,tableValues:null,target:null,targetX:le.number,targetY:le.number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:le.commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le.number,underlineThickness:le.number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le.number,values:null,vAlphabetic:le.number,vMathematical:le.number,vectorEffect:null,vHanging:le.number,vIdeographic:le.number,version:null,vertAdvY:le.number,vertOriginX:le.number,vertOriginY:le.number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le.number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ve=B([K,Y,ie,se,ge],"html"),fe=B([K,Y,ie,se,ye],"svg")},49402:function(cn,Ne,A){"use strict";A.d(Ne,{s:function(){return Y}});var w=A(40471),B=A(90333),ne=A(20584);const ue=/^data[-\w.:]+$/i,j=/-[a-z]/g,q=/[A-Z]/g;function Y(ae,ie){const le=(0,w.F)(ie);let se=ie,ge=ne.k;if(le in ae.normal)return ae.property[ae.normal[le]];if(le.length>4&&le.slice(0,4)==="data"&&ue.test(ie)){if(ie.charAt(4)==="-"){const ye=ie.slice(5).replace(j,H);se="data"+ye.charAt(0).toUpperCase()+ye.slice(1)}else{const ye=ie.slice(4);if(!j.test(ye)){let ve=ye.replace(q,K);ve.charAt(0)!=="-"&&(ve="-"+ve),ie="data"+ve}}ge=B.I}return new ge(se,ie)}function K(ae){return"-"+ae.toLowerCase()}function H(ae){return ae.charAt(1).toUpperCase()}},40471:function(cn,Ne,A){"use strict";A.d(Ne,{F:function(){return w}});function w(B){return B.toLowerCase()}},90333:function(cn,Ne,A){"use strict";A.d(Ne,{I:function(){return ue}});var w=A(20584),B=A(9452);const ne=Object.keys(B);class ue extends w.k{constructor(Y,K,H,ae){let ie=-1;if(super(Y,K),j(this,"space",ae),typeof H=="number")for(;++ie<ne.length;){const le=ne[ie];j(this,ne[ie],(H&B[le])===B[le])}}}ue.prototype.defined=!0;function j(q,Y,K){K&&(q[Y]=K)}},20584:function(cn,Ne,A){"use strict";A.d(Ne,{k:function(){return w}});class w{constructor(ne,ue){this.property=ne,this.attribute=ue}}w.prototype.space=null,w.prototype.boolean=!1,w.prototype.booleanish=!1,w.prototype.overloadedBoolean=!1,w.prototype.number=!1,w.prototype.commaSeparated=!1,w.prototype.spaceSeparated=!1,w.prototype.commaOrSpaceSeparated=!1,w.prototype.mustUseProperty=!1,w.prototype.defined=!1},9452:function(cn,Ne,A){"use strict";A.r(Ne),A.d(Ne,{boolean:function(){return B},booleanish:function(){return ne},commaOrSpaceSeparated:function(){return K},commaSeparated:function(){return Y},number:function(){return j},overloadedBoolean:function(){return ue},spaceSeparated:function(){return q}});let w=0;const B=H(),ne=H(),ue=H(),j=H(),q=H(),Y=H(),K=H();function H(){return p0(2,++w)}},20274:function(cn,Ne,A){"use strict";A.d(Ne,{U:function(){return sc}});var w={};A.r(w),A.d(w,{attentionMarkers:function(){return hi},contentInitial:function(){return Bs},disable:function(){return gi},document:function(){return ls},flow:function(){return wt},flowInitial:function(){return Xo},insideSpan:function(){return wr},string:function(){return er},text:function(){return nn}});var B=A(4729),ne=A(57529);const ue=/[$_\p{ID_Start}]/u,j=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,q=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,Y=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,K=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H={};function ae(ee){return ee?ue.test(String.fromCodePoint(ee)):!1}function ie(ee,Me){const Tt=(Me||H).jsx?q:j;return ee?Tt.test(String.fromCodePoint(ee)):!1}function le(ee,Me){return((Me||H).jsx?K:Y).test(ee)}const se=/[ \t\n\f\r]/g;function ge(ee){return typeof ee=="object"?ee.type==="text"?ye(ee.value):!1:ye(ee)}function ye(ee){return ee.replace(se,"")===""}var ve=A(73749),fe=A(49402);const Fe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var yt=A(83135),gt=A(4075),pt=gt.default||gt,lt=A(42740);function Ke(ee){return!ee||typeof ee!="object"?"":"position"in ee||"type"in ee?Pt(ee.position):"start"in ee||"end"in ee?Pt(ee):"line"in ee||"column"in ee?Ue(ee):""}function Ue(ee){return Gt(ee&&ee.line)+":"+Gt(ee&&ee.column)}function Pt(ee){return Ue(ee&&ee.start)+"-"+Ue(ee&&ee.end)}function Gt(ee){return ee&&typeof ee=="number"?ee:1}class rn extends Error{constructor(Me,Ve,Tt){super(),typeof Ve=="string"&&(Tt=Ve,Ve=void 0);let pn="",yn={},Vn=!1;if(Ve&&("line"in Ve&&"column"in Ve?yn={place:Ve}:"start"in Ve&&"end"in Ve?yn={place:Ve}:"type"in Ve?yn={ancestors:[Ve],place:Ve.position}:yn=us({},Ve)),typeof Me=="string"?pn=Me:!yn.cause&&Me&&(Vn=!0,pn=Me.message,yn.cause=Me),!yn.ruleId&&!yn.source&&typeof Tt=="string"){const Zi=Tt.indexOf(":");Zi===-1?yn.ruleId=Tt:(yn.source=Tt.slice(0,Zi),yn.ruleId=Tt.slice(Zi+1))}if(!yn.place&&yn.ancestors&&yn.ancestors){const Zi=yn.ancestors[yn.ancestors.length-1];Zi&&(yn.place=Zi.position)}const Pr=yn.place&&"start"in yn.place?yn.place.start:yn.place;this.ancestors=yn.ancestors||void 0,this.cause=yn.cause||void 0,this.column=Pr?Pr.column:void 0,this.fatal=void 0,this.file,this.message=pn,this.line=Pr?Pr.line:void 0,this.name=Ke(yn.place)||"1:1",this.place=yn.place||void 0,this.reason=this.message,this.ruleId=yn.ruleId||void 0,this.source=yn.source||void 0,this.stack=Vn&&yn.cause&&typeof yn.cause.stack=="string"?yn.cause.stack:"",this.actual,this.expected,this.note,this.url}}rn.prototype.file="",rn.prototype.name="",rn.prototype.reason="",rn.prototype.message="",rn.prototype.stack="",rn.prototype.column=void 0,rn.prototype.line=void 0,rn.prototype.ancestors=void 0,rn.prototype.cause=void 0,rn.prototype.fatal=void 0,rn.prototype.place=void 0,rn.prototype.ruleId=void 0,rn.prototype.source=void 0;const _n={}.hasOwnProperty,qe=new Map,Nt=/[A-Z]/g,ft=/-([a-z])/g,ln=new Set(["table","tbody","thead","tfoot","tr"]),tt=new Set(["td","th"]),Pe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Qe(ee,Me){if(!Me||Me.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const Ve=Me.filePath||void 0;let Tt;if(Me.development){if(typeof Me.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");Tt=Rt(Ve,Me.jsxDEV)}else{if(typeof Me.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof Me.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");Tt=ct(Ve,Me.jsx,Me.jsxs)}const pn={Fragment:Me.Fragment,ancestors:[],components:Me.components||{},create:Tt,elementAttributeNameCase:Me.elementAttributeNameCase||"react",evaluater:Me.createEvaluater?Me.createEvaluater():void 0,filePath:Ve,ignoreInvalidStyle:Me.ignoreInvalidStyle||!1,passKeys:Me.passKeys!==!1,passNode:Me.passNode||!1,schema:Me.space==="svg"?ve.YP:ve.dy,stylePropertyNameCase:Me.stylePropertyNameCase||"dom",tableCellAlignToStyle:Me.tableCellAlignToStyle!==!1},yn=He(pn,ee,void 0);return yn&&typeof yn!="string"?yn:pn.create(ee,pn.Fragment,{children:yn||void 0},void 0)}function He(ee,Me,Ve){if(Me.type==="element")return _t(ee,Me,Ve);if(Me.type==="mdxFlowExpression"||Me.type==="mdxTextExpression")return Bt(ee,Me);if(Me.type==="mdxJsxFlowElement"||Me.type==="mdxJsxTextElement")return Je(ee,Me,Ve);if(Me.type==="mdxjsEsm")return At(ee,Me);if(Me.type==="root")return zt(ee,Me,Ve);if(Me.type==="text")return mn(ee,Me)}function _t(ee,Me,Ve){const Tt=ee.schema;let pn=Tt;Me.tagName.toLowerCase()==="svg"&&Tt.space==="html"&&(pn=ve.YP,ee.schema=pn),ee.ancestors.push(Me);const yn=Ce(ee,Me.tagName,!1),Vn=Oe(ee,Me);let Pr=Vt(ee,Me);return ln.has(Me.tagName)&&(Pr=Pr.filter(function(Zi){return typeof Zi=="string"?!ge(Zi):!0})),Ot(ee,Vn,yn,Me),Xe(Vn,Pr),ee.ancestors.pop(),ee.schema=Tt,ee.create(Me,yn,Vn,Ve)}function Bt(ee,Me){if(Me.data&&Me.data.estree&&ee.evaluater){const Tt=Me.data.estree.body[0];return(0,B.ok)(Tt.type==="ExpressionStatement"),ee.evaluater.evaluateExpression(Tt.expression)}J(ee,Me.position)}function At(ee,Me){if(Me.data&&Me.data.estree&&ee.evaluater)return ee.evaluater.evaluateProgram(Me.data.estree);J(ee,Me.position)}function Je(ee,Me,Ve){const Tt=ee.schema;let pn=Tt;Me.name==="svg"&&Tt.space==="html"&&(pn=ve.YP,ee.schema=pn),ee.ancestors.push(Me);const yn=Me.name===null?ee.Fragment:Ce(ee,Me.name,!0),Vn=Ge(ee,Me),Pr=Vt(ee,Me);return Ot(ee,Vn,yn,Me),Xe(Vn,Pr),ee.ancestors.pop(),ee.schema=Tt,ee.create(Me,yn,Vn,Ve)}function zt(ee,Me,Ve){const Tt={};return Xe(Tt,Vt(ee,Me)),ee.create(Me,ee.Fragment,Tt,Ve)}function mn(ee,Me){return Me.value}function Ot(ee,Me,Ve,Tt){typeof Ve!="string"&&Ve!==ee.Fragment&&ee.passNode&&(Me.node=Tt)}function Xe(ee,Me){if(Me.length>0){const Ve=Me.length>1?Me:Me[0];Ve&&(ee.children=Ve)}}function ct(ee,Me,Ve){return Tt;function Tt(pn,yn,Vn,Pr){const ji=Array.isArray(Vn.children)?Ve:Me;return Pr?ji(yn,Vn,Pr):ji(yn,Vn)}}function Rt(ee,Me){return Ve;function Ve(Tt,pn,yn,Vn){const Pr=Array.isArray(yn.children),Zi=(0,lt.Pk)(Tt);return Me(pn,yn,Vn,Pr,{columnNumber:Zi?Zi.column-1:void 0,fileName:ee,lineNumber:Zi?Zi.line:void 0},void 0)}}function Oe(ee,Me){const Ve={};let Tt,pn;for(pn in Me.properties)if(pn!=="children"&&_n.call(Me.properties,pn)){const yn=De(ee,pn,Me.properties[pn]);if(yn){const[Vn,Pr]=yn;ee.tableCellAlignToStyle&&Vn==="align"&&typeof Pr=="string"&&tt.has(Me.tagName)?Tt=Pr:Ve[Vn]=Pr}}if(Tt){const yn=Ve.style||(Ve.style={});yn[ee.stylePropertyNameCase==="css"?"text-align":"textAlign"]=Tt}return Ve}function Ge(ee,Me){const Ve={};for(const Tt of Me.attributes)if(Tt.type==="mdxJsxExpressionAttribute")if(Tt.data&&Tt.data.estree&&ee.evaluater){const yn=Tt.data.estree.body[0];(0,B.ok)(yn.type==="ExpressionStatement");const Vn=yn.expression;(0,B.ok)(Vn.type==="ObjectExpression");const Pr=Vn.properties[0];(0,B.ok)(Pr.type==="SpreadElement"),Object.assign(Ve,ee.evaluater.evaluateExpression(Pr.argument))}else J(ee,Me.position);else{const pn=Tt.name;let yn;if(Tt.value&&typeof Tt.value=="object")if(Tt.value.data&&Tt.value.data.estree&&ee.evaluater){const Pr=Tt.value.data.estree.body[0];(0,B.ok)(Pr.type==="ExpressionStatement"),yn=ee.evaluater.evaluateExpression(Pr.expression)}else J(ee,Me.position);else yn=Tt.value===null?!0:Tt.value;Ve[pn]=yn}return Ve}function Vt(ee,Me){const Ve=[];let Tt=-1;const pn=ee.passKeys?new Map:qe;for(;++Tt<Me.children.length;){const yn=Me.children[Tt];let Vn;if(ee.passKeys){const Zi=yn.type==="element"?yn.tagName:yn.type==="mdxJsxFlowElement"||yn.type==="mdxJsxTextElement"?yn.name:void 0;if(Zi){const ji=pn.get(Zi)||0;Vn=Zi+"-"+ji,pn.set(Zi,ji+1)}}const Pr=He(ee,yn,Vn);Pr!==void 0&&Ve.push(Pr)}return Ve}function De(ee,Me,Ve){const Tt=(0,fe.s)(ee.schema,Me);if(!(Ve==null||typeof Ve=="number"&&Number.isNaN(Ve))){if(Array.isArray(Ve)&&(Ve=Tt.commaSeparated?(0,ne.P)(Ve):(0,yt.P)(Ve)),Tt.property==="style"){let pn=typeof Ve=="object"?Ve:et(ee,String(Ve));return ee.stylePropertyNameCase==="css"&&(pn=Le(pn)),["style",pn]}return[ee.elementAttributeNameCase==="react"&&Tt.space?Fe[Tt.property]||Tt.property:Tt.attribute,Ve]}}function et(ee,Me){const Ve={};try{pt(Me,Tt)}catch(pn){if(!ee.ignoreInvalidStyle){const yn=pn,Vn=new rn("Cannot parse `style` attribute",{ancestors:ee.ancestors,cause:yn,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw Vn.file=ee.filePath||void 0,Vn.url=Pe+"#cannot-parse-style-attribute",Vn}}return Ve;function Tt(pn,yn){let Vn=pn;Vn.slice(0,2)!=="--"&&(Vn.slice(0,4)==="-ms-"&&(Vn="ms-"+Vn.slice(4)),Vn=Vn.replace(ft,Be)),Ve[Vn]=yn}}function Ce(ee,Me,Ve){let Tt;if(!Ve)Tt={type:"Literal",value:Me};else if(Me.includes(".")){const pn=Me.split(".");let yn=-1,Vn;for(;++yn<pn.length;){const Pr=le(pn[yn])?{type:"Identifier",name:pn[yn]}:{type:"Literal",value:pn[yn]};Vn=Vn?{type:"MemberExpression",object:Vn,property:Pr,computed:!!(yn&&Pr.type==="Literal"),optional:!1}:Pr}(0,B.ok)(Vn,"always a result"),Tt=Vn}else Tt=le(Me)&&!/^[a-z]/.test(Me)?{type:"Identifier",name:Me}:{type:"Literal",value:Me};if(Tt.type==="Literal"){const pn=Tt.value;return _n.call(ee.components,pn)?ee.components[pn]:pn}if(ee.evaluater)return ee.evaluater.evaluateExpression(Tt);J(ee)}function J(ee,Me){const Ve=new rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:ee.ancestors,place:Me,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw Ve.file=ee.filePath||void 0,Ve.url=Pe+"#cannot-handle-mdx-estrees-without-createevaluater",Ve}function Le(ee){const Me={};let Ve;for(Ve in ee)_n.call(ee,Ve)&&(Me[Jt(Ve)]=ee[Ve]);return Me}function Jt(ee){let Me=ee.replace(Nt,In);return Me.slice(0,3)==="ms-"&&(Me="-"+Me),Me}function Be(ee,Me){return Me.toUpperCase()}function In(ee){return"-"+ee.toLowerCase()}const cr={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var bn=A(52676),ir=A(11721),Nr=A(57974);class Ar{constructor(Me){this.left=Me?[...Me]:[],this.right=[]}get(Me){if(Me<0||Me>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+Me+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return Me<this.left.length?this.left[Me]:this.right[this.right.length-Me+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(Me,Ve){const Tt=Ve==null?Number.POSITIVE_INFINITY:Ve;return Tt<this.left.length?this.left.slice(Me,Tt):Me>this.left.length?this.right.slice(this.right.length-Tt+this.left.length,this.right.length-Me+this.left.length).reverse():this.left.slice(Me).concat(this.right.slice(this.right.length-Tt+this.left.length).reverse())}splice(Me,Ve,Tt){const pn=Ve||0;this.setCursor(Math.trunc(Me));const yn=this.right.splice(this.right.length-pn,Number.POSITIVE_INFINITY);return Tt&&Zr(this.left,Tt),yn.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(Me){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(Me)}pushMany(Me){this.setCursor(Number.POSITIVE_INFINITY),Zr(this.left,Me)}unshift(Me){this.setCursor(0),this.right.push(Me)}unshiftMany(Me){this.setCursor(0),Zr(this.right,Me.reverse())}setCursor(Me){if(!(Me===this.left.length||Me>this.left.length&&this.right.length===0||Me<0&&this.left.length===0))if(Me<this.left.length){const Ve=this.left.splice(Me,Number.POSITIVE_INFINITY);Zr(this.right,Ve.reverse())}else{const Ve=this.right.splice(this.left.length+this.right.length-Me,Number.POSITIVE_INFINITY);Zr(this.left,Ve.reverse())}}}function Zr(ee,Me){let Ve=0;if(Me.length<1e4)ee.push(...Me);else for(;Ve<Me.length;)ee.push(...Me.slice(Ve,Ve+1e4)),Ve+=1e4}function wi(ee){const Me={};let Ve=-1,Tt,pn,yn,Vn,Pr,Zi,ji;const Dt=new Ar(ee);for(;++Ve<Dt.length;){for(;Ve in Me;)Ve=Me[Ve];if(Tt=Dt.get(Ve),Ve&&Tt[1].type==="chunkFlow"&&Dt.get(Ve-1)[1].type==="listItemPrefix"&&(Zi=Tt[1]._tokenizer.events,yn=0,yn<Zi.length&&Zi[yn][1].type==="lineEndingBlank"&&(yn+=2),yn<Zi.length&&Zi[yn][1].type==="content"))for(;++yn<Zi.length&&Zi[yn][1].type!=="content";)Zi[yn][1].type==="chunkText"&&(Zi[yn][1]._isInFirstContentOfListItem=!0,yn++);if(Tt[0]==="enter")Tt[1].contentType&&(Object.assign(Me,Ln(Dt,Ve)),Ve=Me[Ve],ji=!0);else if(Tt[1]._container){for(yn=Ve,pn=void 0;yn--&&(Vn=Dt.get(yn),Vn[1].type==="lineEnding"||Vn[1].type==="lineEndingBlank");)Vn[0]==="enter"&&(pn&&(Dt.get(pn)[1].type="lineEndingBlank"),Vn[1].type="lineEnding",pn=yn);pn&&(Tt[1].end=us({},Dt.get(pn)[1].start),Pr=Dt.slice(pn,Ve),Pr.unshift(Tt),Dt.splice(pn,Ve-pn+1,Pr))}}return(0,Nr.d)(ee,0,Number.POSITIVE_INFINITY,Dt.slice(0)),!ji}function Ln(ee,Me){const Ve=ee.get(Me)[1],Tt=ee.get(Me)[2];let pn=Me-1;const yn=[],Vn=Ve._tokenizer||Tt.parser[Ve.contentType](Ve.start),Pr=Vn.events,Zi=[],ji={};let Dt,Ta,ba=-1,yi=Ve,ko=0,pu=0;const gu=[pu];for(;yi;){for(;ee.get(++pn)[1]!==yi;);yn.push(pn),yi._tokenizer||(Dt=Tt.sliceStream(yi),yi.next||Dt.push(null),Ta&&Vn.defineSkip(yi.start),yi._isInFirstContentOfListItem&&(Vn._gfmTasklistFirstContentOfListItem=!0),Vn.write(Dt),yi._isInFirstContentOfListItem&&(Vn._gfmTasklistFirstContentOfListItem=void 0)),Ta=yi,yi=yi.next}for(yi=Ve;++ba<Pr.length;)Pr[ba][0]==="exit"&&Pr[ba-1][0]==="enter"&&Pr[ba][1].type===Pr[ba-1][1].type&&Pr[ba][1].start.line!==Pr[ba][1].end.line&&(pu=ba+1,gu.push(pu),yi._tokenizer=void 0,yi.previous=void 0,yi=yi.next);for(Vn.events=[],yi?(yi._tokenizer=void 0,yi.previous=void 0):gu.pop(),ba=gu.length;ba--;){const ps=Pr.slice(gu[ba],gu[ba+1]),Zs=yn.pop();Zi.push([Zs,Zs+ps.length-1]),ee.splice(Zs,2,ps)}for(Zi.reverse(),ba=-1;++ba<Zi.length;)ji[ko+Zi[ba][0]]=ko+Zi[ba][1],ko+=Zi[ba][1]-Zi[ba][0]-1;return ji}function Nn(ee){for(;!wi(ee););return ee}var $n=A(33850),wn=A(60403),nt=A(6020);const ze={tokenize:vt};function vt(ee){const Me=ee.attempt(this.parser.constructs.contentInitial,Tt,pn);let Ve;return Me;function Tt(Pr){if(Pr===null){ee.consume(Pr);return}return ee.enter("lineEnding"),ee.consume(Pr),ee.exit("lineEnding"),(0,wn.f)(ee,Me,"linePrefix")}function pn(Pr){return ee.enter("paragraph"),yn(Pr)}function yn(Pr){const Zi=ee.enter("chunkText",{contentType:"text",previous:Ve});return Ve&&(Ve.next=Zi),Ve=Zi,Vn(Pr)}function Vn(Pr){if(Pr===null){ee.exit("chunkText"),ee.exit("paragraph"),ee.consume(Pr);return}return(0,nt.Ch)(Pr)?(ee.consume(Pr),ee.exit("chunkText"),yn):(ee.consume(Pr),Vn)}}const $t={tokenize:at},gn={tokenize:an};function at(ee){const Me=this,Ve=[];let Tt=0,pn,yn,Vn;return Pr;function Pr(ss){if(Tt<Ve.length){const wl=Ve[Tt];return Me.containerState=wl[1],ee.attempt(wl[0].continuation,Zi,ji)(ss)}return ji(ss)}function Zi(ss){if(Tt++,Me.containerState._closeFlow){Me.containerState._closeFlow=void 0,pn&&Zs();const wl=Me.events.length;let ol=wl,Lo;for(;ol--;)if(Me.events[ol][0]==="exit"&&Me.events[ol][1].type==="chunkFlow"){Lo=Me.events[ol][1].end;break}ps(Tt);let Fl=wl;for(;Fl<Me.events.length;)Me.events[Fl][1].end=us({},Lo),Fl++;return(0,Nr.d)(Me.events,ol+1,0,Me.events.slice(wl)),Me.events.length=Fl,ji(ss)}return Pr(ss)}function ji(ss){if(Tt===Ve.length){if(!pn)return ba(ss);if(pn.currentConstruct&&pn.currentConstruct.concrete)return ko(ss);Me.interrupt=!!(pn.currentConstruct&&!pn._gfmTableDynamicInterruptHack)}return Me.containerState={},ee.check(gn,Dt,Ta)(ss)}function Dt(ss){return pn&&Zs(),ps(Tt),ba(ss)}function Ta(ss){return Me.parser.lazy[Me.now().line]=Tt!==Ve.length,Vn=Me.now().offset,ko(ss)}function ba(ss){return Me.containerState={},ee.attempt(gn,yi,ko)(ss)}function yi(ss){return Tt++,Ve.push([Me.currentConstruct,Me.containerState]),ba(ss)}function ko(ss){if(ss===null){pn&&Zs(),ps(0),ee.consume(ss);return}return pn=pn||Me.parser.flow(Me.now()),ee.enter("chunkFlow",{_tokenizer:pn,contentType:"flow",previous:yn}),pu(ss)}function pu(ss){if(ss===null){gu(ee.exit("chunkFlow"),!0),ps(0),ee.consume(ss);return}return(0,nt.Ch)(ss)?(ee.consume(ss),gu(ee.exit("chunkFlow")),Tt=0,Me.interrupt=void 0,Pr):(ee.consume(ss),pu)}function gu(ss,wl){const ol=Me.sliceStream(ss);if(wl&&ol.push(null),ss.previous=yn,yn&&(yn.next=ss),yn=ss,pn.defineSkip(ss.start),pn.write(ol),Me.parser.lazy[ss.start.line]){let Lo=pn.events.length;for(;Lo--;)if(pn.events[Lo][1].start.offset<Vn&&(!pn.events[Lo][1].end||pn.events[Lo][1].end.offset>Vn))return;const Fl=Me.events.length;let Rl=Fl,Kl,xu;for(;Rl--;)if(Me.events[Rl][0]==="exit"&&Me.events[Rl][1].type==="chunkFlow"){if(Kl){xu=Me.events[Rl][1].end;break}Kl=!0}for(ps(Tt),Lo=Fl;Lo<Me.events.length;)Me.events[Lo][1].end=us({},xu),Lo++;(0,Nr.d)(Me.events,Rl+1,0,Me.events.slice(Fl)),Me.events.length=Lo}}function ps(ss){let wl=Ve.length;for(;wl-- >ss;){const ol=Ve[wl];Me.containerState=ol[1],ol[0].exit.call(Me,ee)}Ve.length=ss}function Zs(){pn.write([null]),yn=void 0,pn=void 0,Me.containerState._closeFlow=void 0}}function an(ee,Me,Ve){return(0,wn.f)(ee,ee.attempt(this.parser.constructs.document,Me,Ve),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}var hn=A(90924);const pr={resolve:pi,tokenize:ar},ur={partial:!0,tokenize:di};function pi(ee){return wi(ee),ee}function ar(ee,Me){let Ve;return Tt;function Tt(Pr){return ee.enter("content"),Ve=ee.enter("chunkContent",{contentType:"content"}),pn(Pr)}function pn(Pr){return Pr===null?yn(Pr):(0,nt.Ch)(Pr)?ee.check(ur,Vn,yn)(Pr):(ee.consume(Pr),pn)}function yn(Pr){return ee.exit("chunkContent"),ee.exit("content"),Me(Pr)}function Vn(Pr){return ee.consume(Pr),ee.exit("chunkContent"),Ve.next=ee.enter("chunkContent",{contentType:"content",previous:Ve}),Ve=Ve.next,pn}}function di(ee,Me,Ve){const Tt=this;return pn;function pn(Vn){return ee.exit("chunkContent"),ee.enter("lineEnding"),ee.consume(Vn),ee.exit("lineEnding"),(0,wn.f)(ee,yn,"linePrefix")}function yn(Vn){if(Vn===null||(0,nt.Ch)(Vn))return Ve(Vn);const Pr=Tt.events[Tt.events.length-1];return!Tt.parser.constructs.disable.null.includes("codeIndented")&&Pr&&Pr[1].type==="linePrefix"&&Pr[2].sliceSerialize(Pr[1],!0).length>=4?Me(Vn):ee.interrupt(Tt.parser.constructs.flow,Ve,Me)(Vn)}}const sa={tokenize:xa};function xa(ee){const Me=this,Ve=ee.attempt(hn.w,Tt,ee.attempt(this.parser.constructs.flowInitial,pn,(0,wn.f)(ee,ee.attempt(this.parser.constructs.flow,pn,ee.attempt(pr,pn)),"linePrefix")));return Ve;function Tt(yn){if(yn===null){ee.consume(yn);return}return ee.enter("lineEndingBlank"),ee.consume(yn),ee.exit("lineEndingBlank"),Me.currentConstruct=void 0,Ve}function pn(yn){if(yn===null){ee.consume(yn);return}return ee.enter("lineEnding"),ee.consume(yn),ee.exit("lineEnding"),Me.currentConstruct=void 0,Ve}}const za={resolveAll:cs()},Ui=fs("string"),Ao=fs("text");function fs(ee){return{resolveAll:cs(ee==="text"?ra:void 0),tokenize:Me};function Me(Ve){const Tt=this,pn=this.parser.constructs[ee],yn=Ve.attempt(pn,Vn,Pr);return Vn;function Vn(Dt){return ji(Dt)?yn(Dt):Pr(Dt)}function Pr(Dt){if(Dt===null){Ve.consume(Dt);return}return Ve.enter("data"),Ve.consume(Dt),Zi}function Zi(Dt){return ji(Dt)?(Ve.exit("data"),yn(Dt)):(Ve.consume(Dt),Zi)}function ji(Dt){if(Dt===null)return!0;const Ta=pn[Dt];let ba=-1;if(Ta)for(;++ba<Ta.length;){const yi=Ta[ba];if(!yi.previous||yi.previous.call(Tt,Tt.previous))return!0}return!1}}}function cs(ee){return Me;function Me(Ve,Tt){let pn=-1,yn;for(;++pn<=Ve.length;)yn===void 0?Ve[pn]&&Ve[pn][1].type==="data"&&(yn=pn,pn++):(!Ve[pn]||Ve[pn][1].type!=="data")&&(pn!==yn+2&&(Ve[yn][1].end=Ve[pn-1][1].end,Ve.splice(yn+2,pn-yn-2),pn=yn+2),yn=void 0);return ee?ee(Ve,Tt):Ve}}function ra(ee,Me){let Ve=0;for(;++Ve<=ee.length;)if((Ve===ee.length||ee[Ve][1].type==="lineEnding")&&ee[Ve-1][1].type==="data"){const Tt=ee[Ve-1][1],pn=Me.sliceStream(Tt);let yn=pn.length,Vn=-1,Pr=0,Zi;for(;yn--;){const ji=pn[yn];if(typeof ji=="string"){for(Vn=ji.length;ji.charCodeAt(Vn-1)===32;)Pr++,Vn--;if(Vn)break;Vn=-1}else if(ji===-2)Zi=!0,Pr++;else if(ji!==-1){yn++;break}}if(Pr){const ji={type:Ve===ee.length||Zi||Pr<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:yn?Vn:Tt.start._bufferIndex+Vn,_index:Tt.start._index+yn,line:Tt.end.line,column:Tt.end.column-Pr,offset:Tt.end.offset-Pr},end:us({},Tt.end)};Tt.end=us({},ji.start),Tt.start.offset===Tt.end.offset?Object.assign(Tt,ji):(ee.splice(Ve,0,["enter",ji,Me],["exit",ji,Me]),Ve+=2)}Ve++}return ee}const ms={name:"thematicBreak",tokenize:xi};function xi(ee,Me,Ve){let Tt=0,pn;return yn;function yn(ji){return ee.enter("thematicBreak"),Vn(ji)}function Vn(ji){return pn=ji,Pr(ji)}function Pr(ji){return ji===pn?(ee.enter("thematicBreakSequence"),Zi(ji)):Tt>=3&&(ji===null||(0,nt.Ch)(ji))?(ee.exit("thematicBreak"),Me(ji)):Ve(ji)}function Zi(ji){return ji===pn?(ee.consume(ji),Tt++,Zi):(ee.exit("thematicBreakSequence"),(0,nt.xz)(ji)?(0,wn.f)(ee,Pr,"whitespace")(ji):Pr(ji))}}const Gn={continuation:{tokenize:Cn},exit:tn,name:"list",tokenize:Ka},_e={partial:!0,tokenize:It},oi={partial:!0,tokenize:Un};function Ka(ee,Me,Ve){const Tt=this,pn=Tt.events[Tt.events.length-1];let yn=pn&&pn[1].type==="linePrefix"?pn[2].sliceSerialize(pn[1],!0).length:0,Vn=0;return Pr;function Pr(yi){const ko=Tt.containerState.type||(yi===42||yi===43||yi===45?"listUnordered":"listOrdered");if(ko==="listUnordered"?!Tt.containerState.marker||yi===Tt.containerState.marker:(0,nt.pY)(yi)){if(Tt.containerState.type||(Tt.containerState.type=ko,ee.enter(ko,{_container:!0})),ko==="listUnordered")return ee.enter("listItemPrefix"),yi===42||yi===45?ee.check(ms,Ve,ji)(yi):ji(yi);if(!Tt.interrupt||yi===49)return ee.enter("listItemPrefix"),ee.enter("listItemValue"),Zi(yi)}return Ve(yi)}function Zi(yi){return(0,nt.pY)(yi)&&++Vn<10?(ee.consume(yi),Zi):(!Tt.interrupt||Vn<2)&&(Tt.containerState.marker?yi===Tt.containerState.marker:yi===41||yi===46)?(ee.exit("listItemValue"),ji(yi)):Ve(yi)}function ji(yi){return ee.enter("listItemMarker"),ee.consume(yi),ee.exit("listItemMarker"),Tt.containerState.marker=Tt.containerState.marker||yi,ee.check(hn.w,Tt.interrupt?Ve:Dt,ee.attempt(_e,ba,Ta))}function Dt(yi){return Tt.containerState.initialBlankLine=!0,yn++,ba(yi)}function Ta(yi){return(0,nt.xz)(yi)?(ee.enter("listItemPrefixWhitespace"),ee.consume(yi),ee.exit("listItemPrefixWhitespace"),ba):Ve(yi)}function ba(yi){return Tt.containerState.size=yn+Tt.sliceSerialize(ee.exit("listItemPrefix"),!0).length,Me(yi)}}function Cn(ee,Me,Ve){const Tt=this;return Tt.containerState._closeFlow=void 0,ee.check(hn.w,pn,yn);function pn(Pr){return Tt.containerState.furtherBlankLines=Tt.containerState.furtherBlankLines||Tt.containerState.initialBlankLine,(0,wn.f)(ee,Me,"listItemIndent",Tt.containerState.size+1)(Pr)}function yn(Pr){return Tt.containerState.furtherBlankLines||!(0,nt.xz)(Pr)?(Tt.containerState.furtherBlankLines=void 0,Tt.containerState.initialBlankLine=void 0,Vn(Pr)):(Tt.containerState.furtherBlankLines=void 0,Tt.containerState.initialBlankLine=void 0,ee.attempt(oi,Me,Vn)(Pr))}function Vn(Pr){return Tt.containerState._closeFlow=!0,Tt.interrupt=void 0,(0,wn.f)(ee,ee.attempt(Gn,Me,Ve),"linePrefix",Tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Pr)}}function Un(ee,Me,Ve){const Tt=this;return(0,wn.f)(ee,pn,"listItemIndent",Tt.containerState.size+1);function pn(yn){const Vn=Tt.events[Tt.events.length-1];return Vn&&Vn[1].type==="listItemIndent"&&Vn[2].sliceSerialize(Vn[1],!0).length===Tt.containerState.size?Me(yn):Ve(yn)}}function tn(ee){ee.exit(this.containerState.type)}function It(ee,Me,Ve){const Tt=this;return(0,wn.f)(ee,pn,"listItemPrefixWhitespace",Tt.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function pn(yn){const Vn=Tt.events[Tt.events.length-1];return!(0,nt.xz)(yn)&&Vn&&Vn[1].type==="listItemPrefixWhitespace"?Me(yn):Ve(yn)}}const Zt={continuation:{tokenize:Bn},exit:Yn,name:"blockQuote",tokenize:$e};function $e(ee,Me,Ve){const Tt=this;return pn;function pn(Vn){if(Vn===62){const Pr=Tt.containerState;return Pr.open||(ee.enter("blockQuote",{_container:!0}),Pr.open=!0),ee.enter("blockQuotePrefix"),ee.enter("blockQuoteMarker"),ee.consume(Vn),ee.exit("blockQuoteMarker"),yn}return Ve(Vn)}function yn(Vn){return(0,nt.xz)(Vn)?(ee.enter("blockQuotePrefixWhitespace"),ee.consume(Vn),ee.exit("blockQuotePrefixWhitespace"),ee.exit("blockQuotePrefix"),Me):(ee.exit("blockQuotePrefix"),Me(Vn))}}function Bn(ee,Me,Ve){const Tt=this;return pn;function pn(Vn){return(0,nt.xz)(Vn)?(0,wn.f)(ee,yn,"linePrefix",Tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Vn):yn(Vn)}function yn(Vn){return ee.attempt(Zt,Me,Ve)(Vn)}}function Yn(ee){ee.exit("blockQuote")}function or(ee,Me,Ve,Tt,pn,yn,Vn,Pr,Zi){const ji=Zi||Number.POSITIVE_INFINITY;let Dt=0;return Ta;function Ta(ps){return ps===60?(ee.enter(Tt),ee.enter(pn),ee.enter(yn),ee.consume(ps),ee.exit(yn),ba):ps===null||ps===32||ps===41||(0,nt.Av)(ps)?Ve(ps):(ee.enter(Tt),ee.enter(Vn),ee.enter(Pr),ee.enter("chunkString",{contentType:"string"}),pu(ps))}function ba(ps){return ps===62?(ee.enter(yn),ee.consume(ps),ee.exit(yn),ee.exit(pn),ee.exit(Tt),Me):(ee.enter(Pr),ee.enter("chunkString",{contentType:"string"}),yi(ps))}function yi(ps){return ps===62?(ee.exit("chunkString"),ee.exit(Pr),ba(ps)):ps===null||ps===60||(0,nt.Ch)(ps)?Ve(ps):(ee.consume(ps),ps===92?ko:yi)}function ko(ps){return ps===60||ps===62||ps===92?(ee.consume(ps),yi):yi(ps)}function pu(ps){return!Dt&&(ps===null||ps===41||(0,nt.z3)(ps))?(ee.exit("chunkString"),ee.exit(Pr),ee.exit(Vn),ee.exit(Tt),Me(ps)):Dt<ji&&ps===40?(ee.consume(ps),Dt++,pu):ps===41?(ee.consume(ps),Dt--,pu):ps===null||ps===32||ps===40||(0,nt.Av)(ps)?Ve(ps):(ee.consume(ps),ps===92?gu:pu)}function gu(ps){return ps===40||ps===41||ps===92?(ee.consume(ps),pu):pu(ps)}}function Ze(ee,Me,Ve,Tt,pn,yn){const Vn=this;let Pr=0,Zi;return ji;function ji(yi){return ee.enter(Tt),ee.enter(pn),ee.consume(yi),ee.exit(pn),ee.enter(yn),Dt}function Dt(yi){return Pr>999||yi===null||yi===91||yi===93&&!Zi||yi===94&&!Pr&&"_hiddenFootnoteSupport"in Vn.parser.constructs?Ve(yi):yi===93?(ee.exit(yn),ee.enter(pn),ee.consume(yi),ee.exit(pn),ee.exit(Tt),Me):(0,nt.Ch)(yi)?(ee.enter("lineEnding"),ee.consume(yi),ee.exit("lineEnding"),Dt):(ee.enter("chunkString",{contentType:"string"}),Ta(yi))}function Ta(yi){return yi===null||yi===91||yi===93||(0,nt.Ch)(yi)||Pr++>999?(ee.exit("chunkString"),Dt(yi)):(ee.consume(yi),Zi||(Zi=!(0,nt.xz)(yi)),yi===92?ba:Ta)}function ba(yi){return yi===91||yi===92||yi===93?(ee.consume(yi),Pr++,Ta):Ta(yi)}}function je(ee,Me,Ve,Tt,pn,yn){let Vn;return Pr;function Pr(ba){return ba===34||ba===39||ba===40?(ee.enter(Tt),ee.enter(pn),ee.consume(ba),ee.exit(pn),Vn=ba===40?41:ba,Zi):Ve(ba)}function Zi(ba){return ba===Vn?(ee.enter(pn),ee.consume(ba),ee.exit(pn),ee.exit(Tt),Me):(ee.enter(yn),ji(ba))}function ji(ba){return ba===Vn?(ee.exit(yn),Zi(Vn)):ba===null?Ve(ba):(0,nt.Ch)(ba)?(ee.enter("lineEnding"),ee.consume(ba),ee.exit("lineEnding"),(0,wn.f)(ee,ji,"linePrefix")):(ee.enter("chunkString",{contentType:"string"}),Dt(ba))}function Dt(ba){return ba===Vn||ba===null||(0,nt.Ch)(ba)?(ee.exit("chunkString"),ji(ba)):(ee.consume(ba),ba===92?Ta:Dt)}function Ta(ba){return ba===Vn||ba===92?(ee.consume(ba),Dt):Dt(ba)}}function st(ee,Me){let Ve;return Tt;function Tt(pn){return(0,nt.Ch)(pn)?(ee.enter("lineEnding"),ee.consume(pn),ee.exit("lineEnding"),Ve=!0,Tt):(0,nt.xz)(pn)?(0,wn.f)(ee,Tt,Ve?"linePrefix":"lineSuffix")(pn):Me(pn)}}var St=A(23185);const En={name:"definition",tokenize:sn},fn={partial:!0,tokenize:Pn};function sn(ee,Me,Ve){const Tt=this;let pn;return yn;function yn(yi){return ee.enter("definition"),Vn(yi)}function Vn(yi){return Ze.call(Tt,ee,Pr,Ve,"definitionLabel","definitionLabelMarker","definitionLabelString")(yi)}function Pr(yi){return pn=(0,St.d)(Tt.sliceSerialize(Tt.events[Tt.events.length-1][1]).slice(1,-1)),yi===58?(ee.enter("definitionMarker"),ee.consume(yi),ee.exit("definitionMarker"),Zi):Ve(yi)}function Zi(yi){return(0,nt.z3)(yi)?st(ee,ji)(yi):ji(yi)}function ji(yi){return or(ee,Dt,Ve,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(yi)}function Dt(yi){return ee.attempt(fn,Ta,Ta)(yi)}function Ta(yi){return(0,nt.xz)(yi)?(0,wn.f)(ee,ba,"whitespace")(yi):ba(yi)}function ba(yi){return yi===null||(0,nt.Ch)(yi)?(ee.exit("definition"),Tt.parser.defined.push(pn),Me(yi)):Ve(yi)}}function Pn(ee,Me,Ve){return Tt;function Tt(Pr){return(0,nt.z3)(Pr)?st(ee,pn)(Pr):Ve(Pr)}function pn(Pr){return je(ee,yn,Ve,"definitionTitle","definitionTitleMarker","definitionTitleString")(Pr)}function yn(Pr){return(0,nt.xz)(Pr)?(0,wn.f)(ee,Vn,"whitespace")(Pr):Vn(Pr)}function Vn(Pr){return Pr===null||(0,nt.Ch)(Pr)?Me(Pr):Ve(Pr)}}const Hn={name:"codeIndented",tokenize:Yt},Ut={partial:!0,tokenize:Xt};function Yt(ee,Me,Ve){const Tt=this;return pn;function pn(ji){return ee.enter("codeIndented"),(0,wn.f)(ee,yn,"linePrefix",5)(ji)}function yn(ji){const Dt=Tt.events[Tt.events.length-1];return Dt&&Dt[1].type==="linePrefix"&&Dt[2].sliceSerialize(Dt[1],!0).length>=4?Vn(ji):Ve(ji)}function Vn(ji){return ji===null?Zi(ji):(0,nt.Ch)(ji)?ee.attempt(Ut,Vn,Zi)(ji):(ee.enter("codeFlowValue"),Pr(ji))}function Pr(ji){return ji===null||(0,nt.Ch)(ji)?(ee.exit("codeFlowValue"),Vn(ji)):(ee.consume(ji),Pr)}function Zi(ji){return ee.exit("codeIndented"),Me(ji)}}function Xt(ee,Me,Ve){const Tt=this;return pn;function pn(Vn){return Tt.parser.lazy[Tt.now().line]?Ve(Vn):(0,nt.Ch)(Vn)?(ee.enter("lineEnding"),ee.consume(Vn),ee.exit("lineEnding"),pn):(0,wn.f)(ee,yn,"linePrefix",5)(Vn)}function yn(Vn){const Pr=Tt.events[Tt.events.length-1];return Pr&&Pr[1].type==="linePrefix"&&Pr[2].sliceSerialize(Pr[1],!0).length>=4?Me(Vn):(0,nt.Ch)(Vn)?pn(Vn):Ve(Vn)}}const jt={name:"headingAtx",resolve:fr,tokenize:vr};function fr(ee,Me){let Ve=ee.length-2,Tt=3,pn,yn;return ee[Tt][1].type==="whitespace"&&(Tt+=2),Ve-2>Tt&&ee[Ve][1].type==="whitespace"&&(Ve-=2),ee[Ve][1].type==="atxHeadingSequence"&&(Tt===Ve-1||Ve-4>Tt&&ee[Ve-2][1].type==="whitespace")&&(Ve-=Tt+1===Ve?2:4),Ve>Tt&&(pn={type:"atxHeadingText",start:ee[Tt][1].start,end:ee[Ve][1].end},yn={type:"chunkText",start:ee[Tt][1].start,end:ee[Ve][1].end,contentType:"text"},(0,Nr.d)(ee,Tt,Ve-Tt+1,[["enter",pn,Me],["enter",yn,Me],["exit",yn,Me],["exit",pn,Me]])),ee}function vr(ee,Me,Ve){let Tt=0;return pn;function pn(Dt){return ee.enter("atxHeading"),yn(Dt)}function yn(Dt){return ee.enter("atxHeadingSequence"),Vn(Dt)}function Vn(Dt){return Dt===35&&Tt++<6?(ee.consume(Dt),Vn):Dt===null||(0,nt.z3)(Dt)?(ee.exit("atxHeadingSequence"),Pr(Dt)):Ve(Dt)}function Pr(Dt){return Dt===35?(ee.enter("atxHeadingSequence"),Zi(Dt)):Dt===null||(0,nt.Ch)(Dt)?(ee.exit("atxHeading"),Me(Dt)):(0,nt.xz)(Dt)?(0,wn.f)(ee,Pr,"whitespace")(Dt):(ee.enter("atxHeadingText"),ji(Dt))}function Zi(Dt){return Dt===35?(ee.consume(Dt),Zi):(ee.exit("atxHeadingSequence"),Pr(Dt))}function ji(Dt){return Dt===null||Dt===35||(0,nt.z3)(Dt)?(ee.exit("atxHeadingText"),Pr(Dt)):(ee.consume(Dt),ji)}}const yr={name:"setextUnderline",resolveTo:Br,tokenize:Gi};function Br(ee,Me){let Ve=ee.length,Tt,pn,yn;for(;Ve--;)if(ee[Ve][0]==="enter"){if(ee[Ve][1].type==="content"){Tt=Ve;break}ee[Ve][1].type==="paragraph"&&(pn=Ve)}else ee[Ve][1].type==="content"&&ee.splice(Ve,1),!yn&&ee[Ve][1].type==="definition"&&(yn=Ve);const Vn={type:"setextHeading",start:us({},ee[pn][1].start),end:us({},ee[ee.length-1][1].end)};return ee[pn][1].type="setextHeadingText",yn?(ee.splice(pn,0,["enter",Vn,Me]),ee.splice(yn+1,0,["exit",ee[Tt][1],Me]),ee[Tt][1].end=us({},ee[yn][1].end)):ee[Tt][1]=Vn,ee.push(["exit",Vn,Me]),ee}function Gi(ee,Me,Ve){const Tt=this;let pn;return yn;function yn(ji){let Dt=Tt.events.length,Ta;for(;Dt--;)if(Tt.events[Dt][1].type!=="lineEnding"&&Tt.events[Dt][1].type!=="linePrefix"&&Tt.events[Dt][1].type!=="content"){Ta=Tt.events[Dt][1].type==="paragraph";break}return!Tt.parser.lazy[Tt.now().line]&&(Tt.interrupt||Ta)?(ee.enter("setextHeadingLine"),pn=ji,Vn(ji)):Ve(ji)}function Vn(ji){return ee.enter("setextHeadingLineSequence"),Pr(ji)}function Pr(ji){return ji===pn?(ee.consume(ji),Pr):(ee.exit("setextHeadingLineSequence"),(0,nt.xz)(ji)?(0,wn.f)(ee,Zi,"lineSuffix")(ji):Zi(ji))}function Zi(ji){return ji===null||(0,nt.Ch)(ji)?(ee.exit("setextHeadingLine"),Me(ji)):Ve(ji)}}const qi=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$i=["pre","script","style","textarea"],Wi={concrete:!0,name:"htmlFlow",resolveTo:on,tokenize:dn},Ii={partial:!0,tokenize:Ur},Qa={partial:!0,tokenize:jn};function on(ee){let Me=ee.length;for(;Me--&&!(ee[Me][0]==="enter"&&ee[Me][1].type==="htmlFlow"););return Me>1&&ee[Me-2][1].type==="linePrefix"&&(ee[Me][1].start=ee[Me-2][1].start,ee[Me+1][1].start=ee[Me-2][1].start,ee.splice(Me-2,2)),ee}function dn(ee,Me,Ve){const Tt=this;let pn,yn,Vn,Pr,Zi;return ji;function ji(Li){return Dt(Li)}function Dt(Li){return ee.enter("htmlFlow"),ee.enter("htmlFlowData"),ee.consume(Li),Ta}function Ta(Li){return Li===33?(ee.consume(Li),ba):Li===47?(ee.consume(Li),yn=!0,pu):Li===63?(ee.consume(Li),pn=3,Tt.interrupt?Me:Hi):(0,nt.jv)(Li)?(ee.consume(Li),Vn=String.fromCharCode(Li),gu):Ve(Li)}function ba(Li){return Li===45?(ee.consume(Li),pn=2,yi):Li===91?(ee.consume(Li),pn=5,Pr=0,ko):(0,nt.jv)(Li)?(ee.consume(Li),pn=4,Tt.interrupt?Me:Hi):Ve(Li)}function yi(Li){return Li===45?(ee.consume(Li),Tt.interrupt?Me:Hi):Ve(Li)}function ko(Li){const $o="CDATA[";return Li===$o.charCodeAt(Pr++)?(ee.consume(Li),Pr===$o.length?Tt.interrupt?Me:Vl:ko):Ve(Li)}function pu(Li){return(0,nt.jv)(Li)?(ee.consume(Li),Vn=String.fromCharCode(Li),gu):Ve(Li)}function gu(Li){if(Li===null||Li===47||Li===62||(0,nt.z3)(Li)){const $o=Li===47,$c=Vn.toLowerCase();return!$o&&!yn&&$i.includes($c)?(pn=1,Tt.interrupt?Me(Li):Vl(Li)):qi.includes(Vn.toLowerCase())?(pn=6,$o?(ee.consume(Li),ps):Tt.interrupt?Me(Li):Vl(Li)):(pn=7,Tt.interrupt&&!Tt.parser.lazy[Tt.now().line]?Ve(Li):yn?Zs(Li):ss(Li))}return Li===45||(0,nt.H$)(Li)?(ee.consume(Li),Vn+=String.fromCharCode(Li),gu):Ve(Li)}function ps(Li){return Li===62?(ee.consume(Li),Tt.interrupt?Me:Vl):Ve(Li)}function Zs(Li){return(0,nt.xz)(Li)?(ee.consume(Li),Zs):xu(Li)}function ss(Li){return Li===47?(ee.consume(Li),xu):Li===58||Li===95||(0,nt.jv)(Li)?(ee.consume(Li),wl):(0,nt.xz)(Li)?(ee.consume(Li),ss):xu(Li)}function wl(Li){return Li===45||Li===46||Li===58||Li===95||(0,nt.H$)(Li)?(ee.consume(Li),wl):ol(Li)}function ol(Li){return Li===61?(ee.consume(Li),Lo):(0,nt.xz)(Li)?(ee.consume(Li),ol):ss(Li)}function Lo(Li){return Li===null||Li===60||Li===61||Li===62||Li===96?Ve(Li):Li===34||Li===39?(ee.consume(Li),Zi=Li,Fl):(0,nt.xz)(Li)?(ee.consume(Li),Lo):Rl(Li)}function Fl(Li){return Li===Zi?(ee.consume(Li),Zi=null,Kl):Li===null||(0,nt.Ch)(Li)?Ve(Li):(ee.consume(Li),Fl)}function Rl(Li){return Li===null||Li===34||Li===39||Li===47||Li===60||Li===61||Li===62||Li===96||(0,nt.z3)(Li)?ol(Li):(ee.consume(Li),Rl)}function Kl(Li){return Li===47||Li===62||(0,nt.xz)(Li)?ss(Li):Ve(Li)}function xu(Li){return Li===62?(ee.consume(Li),xc):Ve(Li)}function xc(Li){return Li===null||(0,nt.Ch)(Li)?Vl(Li):(0,nt.xz)(Li)?(ee.consume(Li),xc):Ve(Li)}function Vl(Li){return Li===45&&pn===2?(ee.consume(Li),vu):Li===60&&pn===1?(ee.consume(Li),yc):Li===62&&pn===4?(ee.consume(Li),Yc):Li===63&&pn===3?(ee.consume(Li),Hi):Li===93&&pn===5?(ee.consume(Li),pc):(0,nt.Ch)(Li)&&(pn===6||pn===7)?(ee.exit("htmlFlowData"),ee.check(Ii,js,Js)(Li)):Li===null||(0,nt.Ch)(Li)?(ee.exit("htmlFlowData"),Js(Li)):(ee.consume(Li),Vl)}function Js(Li){return ee.check(Qa,mu,js)(Li)}function mu(Li){return ee.enter("lineEnding"),ee.consume(Li),ee.exit("lineEnding"),Nu}function Nu(Li){return Li===null||(0,nt.Ch)(Li)?Js(Li):(ee.enter("htmlFlowData"),Vl(Li))}function vu(Li){return Li===45?(ee.consume(Li),Hi):Vl(Li)}function yc(Li){return Li===47?(ee.consume(Li),Vn="",bl):Vl(Li)}function bl(Li){if(Li===62){const $o=Vn.toLowerCase();return $i.includes($o)?(ee.consume(Li),Yc):Vl(Li)}return(0,nt.jv)(Li)&&Vn.length<8?(ee.consume(Li),Vn+=String.fromCharCode(Li),bl):Vl(Li)}function pc(Li){return Li===93?(ee.consume(Li),Hi):Vl(Li)}function Hi(Li){return Li===62?(ee.consume(Li),Yc):Li===45&&pn===2?(ee.consume(Li),Hi):Vl(Li)}function Yc(Li){return Li===null||(0,nt.Ch)(Li)?(ee.exit("htmlFlowData"),js(Li)):(ee.consume(Li),Yc)}function js(Li){return ee.exit("htmlFlow"),Me(Li)}}function jn(ee,Me,Ve){const Tt=this;return pn;function pn(Vn){return(0,nt.Ch)(Vn)?(ee.enter("lineEnding"),ee.consume(Vn),ee.exit("lineEnding"),yn):Ve(Vn)}function yn(Vn){return Tt.parser.lazy[Tt.now().line]?Ve(Vn):Me(Vn)}}function Ur(ee,Me,Ve){return Tt;function Tt(pn){return ee.enter("lineEnding"),ee.consume(pn),ee.exit("lineEnding"),ee.attempt(hn.w,Me,Ve)}}const Yr={partial:!0,tokenize:xn},Et={concrete:!0,name:"codeFenced",tokenize:Ct};function Ct(ee,Me,Ve){const Tt=this,pn={partial:!0,tokenize:ol};let yn=0,Vn=0,Pr;return Zi;function Zi(Lo){return ji(Lo)}function ji(Lo){const Fl=Tt.events[Tt.events.length-1];return yn=Fl&&Fl[1].type==="linePrefix"?Fl[2].sliceSerialize(Fl[1],!0).length:0,Pr=Lo,ee.enter("codeFenced"),ee.enter("codeFencedFence"),ee.enter("codeFencedFenceSequence"),Dt(Lo)}function Dt(Lo){return Lo===Pr?(Vn++,ee.consume(Lo),Dt):Vn<3?Ve(Lo):(ee.exit("codeFencedFenceSequence"),(0,nt.xz)(Lo)?(0,wn.f)(ee,Ta,"whitespace")(Lo):Ta(Lo))}function Ta(Lo){return Lo===null||(0,nt.Ch)(Lo)?(ee.exit("codeFencedFence"),Tt.interrupt?Me(Lo):ee.check(Yr,pu,wl)(Lo)):(ee.enter("codeFencedFenceInfo"),ee.enter("chunkString",{contentType:"string"}),ba(Lo))}function ba(Lo){return Lo===null||(0,nt.Ch)(Lo)?(ee.exit("chunkString"),ee.exit("codeFencedFenceInfo"),Ta(Lo)):(0,nt.xz)(Lo)?(ee.exit("chunkString"),ee.exit("codeFencedFenceInfo"),(0,wn.f)(ee,yi,"whitespace")(Lo)):Lo===96&&Lo===Pr?Ve(Lo):(ee.consume(Lo),ba)}function yi(Lo){return Lo===null||(0,nt.Ch)(Lo)?Ta(Lo):(ee.enter("codeFencedFenceMeta"),ee.enter("chunkString",{contentType:"string"}),ko(Lo))}function ko(Lo){return Lo===null||(0,nt.Ch)(Lo)?(ee.exit("chunkString"),ee.exit("codeFencedFenceMeta"),Ta(Lo)):Lo===96&&Lo===Pr?Ve(Lo):(ee.consume(Lo),ko)}function pu(Lo){return ee.attempt(pn,wl,gu)(Lo)}function gu(Lo){return ee.enter("lineEnding"),ee.consume(Lo),ee.exit("lineEnding"),ps}function ps(Lo){return yn>0&&(0,nt.xz)(Lo)?(0,wn.f)(ee,Zs,"linePrefix",yn+1)(Lo):Zs(Lo)}function Zs(Lo){return Lo===null||(0,nt.Ch)(Lo)?ee.check(Yr,pu,wl)(Lo):(ee.enter("codeFlowValue"),ss(Lo))}function ss(Lo){return Lo===null||(0,nt.Ch)(Lo)?(ee.exit("codeFlowValue"),Zs(Lo)):(ee.consume(Lo),ss)}function wl(Lo){return ee.exit("codeFenced"),Me(Lo)}function ol(Lo,Fl,Rl){let Kl=0;return xu;function xu(Nu){return Lo.enter("lineEnding"),Lo.consume(Nu),Lo.exit("lineEnding"),xc}function xc(Nu){return Lo.enter("codeFencedFence"),(0,nt.xz)(Nu)?(0,wn.f)(Lo,Vl,"linePrefix",Tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Nu):Vl(Nu)}function Vl(Nu){return Nu===Pr?(Lo.enter("codeFencedFenceSequence"),Js(Nu)):Rl(Nu)}function Js(Nu){return Nu===Pr?(Kl++,Lo.consume(Nu),Js):Kl>=Vn?(Lo.exit("codeFencedFenceSequence"),(0,nt.xz)(Nu)?(0,wn.f)(Lo,mu,"whitespace")(Nu):mu(Nu)):Rl(Nu)}function mu(Nu){return Nu===null||(0,nt.Ch)(Nu)?(Lo.exit("codeFencedFence"),Fl(Nu)):Rl(Nu)}}}function xn(ee,Me,Ve){const Tt=this;return pn;function pn(Vn){return Vn===null?Ve(Vn):(ee.enter("lineEnding"),ee.consume(Vn),ee.exit("lineEnding"),yn)}function yn(Vn){return Tt.parser.lazy[Tt.now().line]?Ve(Vn):Me(Vn)}}const Xn=document.createElement("i");function mt(ee){const Me="&"+ee+";";Xn.innerHTML=Me;const Ve=Xn.textContent;return Ve.charCodeAt(Ve.length-1)===59&&ee!=="semi"||Ve===Me?!1:Ve}const vn={name:"characterReference",tokenize:tr};function tr(ee,Me,Ve){const Tt=this;let pn=0,yn,Vn;return Pr;function Pr(Ta){return ee.enter("characterReference"),ee.enter("characterReferenceMarker"),ee.consume(Ta),ee.exit("characterReferenceMarker"),Zi}function Zi(Ta){return Ta===35?(ee.enter("characterReferenceMarkerNumeric"),ee.consume(Ta),ee.exit("characterReferenceMarkerNumeric"),ji):(ee.enter("characterReferenceValue"),yn=31,Vn=nt.H$,Dt(Ta))}function ji(Ta){return Ta===88||Ta===120?(ee.enter("characterReferenceMarkerHexadecimal"),ee.consume(Ta),ee.exit("characterReferenceMarkerHexadecimal"),ee.enter("characterReferenceValue"),yn=6,Vn=nt.AF,Dt):(ee.enter("characterReferenceValue"),yn=7,Vn=nt.pY,Dt(Ta))}function Dt(Ta){if(Ta===59&&pn){const ba=ee.exit("characterReferenceValue");return Vn===nt.H$&&!mt(Tt.sliceSerialize(ba))?Ve(Ta):(ee.enter("characterReferenceMarker"),ee.consume(Ta),ee.exit("characterReferenceMarker"),ee.exit("characterReference"),Me)}return Vn(Ta)&&pn++<yn?(ee.consume(Ta),Dt):Ve(Ta)}}const Mr={name:"characterEscape",tokenize:ui};function ui(ee,Me,Ve){return Tt;function Tt(yn){return ee.enter("characterEscape"),ee.enter("escapeMarker"),ee.consume(yn),ee.exit("escapeMarker"),pn}function pn(yn){return(0,nt.sR)(yn)?(ee.enter("characterEscapeValue"),ee.consume(yn),ee.exit("characterEscapeValue"),ee.exit("characterEscape"),Me):Ve(yn)}}const Ri={name:"lineEnding",tokenize:Aa};function Aa(ee,Me){return Ve;function Ve(Tt){return ee.enter("lineEnding"),ee.consume(Tt),ee.exit("lineEnding"),(0,wn.f)(ee,Me,"linePrefix")}}var Ga=A(797);const vo={name:"labelEnd",resolveAll:Za,resolveTo:ks,tokenize:oo},To={tokenize:nu},Po={tokenize:wu},ds={tokenize:Ll};function Za(ee){let Me=-1;const Ve=[];for(;++Me<ee.length;){const Tt=ee[Me][1];if(Ve.push(ee[Me]),Tt.type==="labelImage"||Tt.type==="labelLink"||Tt.type==="labelEnd"){const pn=Tt.type==="labelImage"?4:2;Tt.type="data",Me+=pn}}return ee.length!==Ve.length&&(0,Nr.d)(ee,0,ee.length,Ve),ee}function ks(ee,Me){let Ve=ee.length,Tt=0,pn,yn,Vn,Pr;for(;Ve--;)if(pn=ee[Ve][1],yn){if(pn.type==="link"||pn.type==="labelLink"&&pn._inactive)break;ee[Ve][0]==="enter"&&pn.type==="labelLink"&&(pn._inactive=!0)}else if(Vn){if(ee[Ve][0]==="enter"&&(pn.type==="labelImage"||pn.type==="labelLink")&&!pn._balanced&&(yn=Ve,pn.type!=="labelLink")){Tt=2;break}}else pn.type==="labelEnd"&&(Vn=Ve);const Zi={type:ee[yn][1].type==="labelLink"?"link":"image",start:us({},ee[yn][1].start),end:us({},ee[ee.length-1][1].end)},ji={type:"label",start:us({},ee[yn][1].start),end:us({},ee[Vn][1].end)},Dt={type:"labelText",start:us({},ee[yn+Tt+2][1].end),end:us({},ee[Vn-2][1].start)};return Pr=[["enter",Zi,Me],["enter",ji,Me]],Pr=(0,Nr.V)(Pr,ee.slice(yn+1,yn+Tt+3)),Pr=(0,Nr.V)(Pr,[["enter",Dt,Me]]),Pr=(0,Nr.V)(Pr,(0,Ga.C)(Me.parser.constructs.insideSpan.null,ee.slice(yn+Tt+4,Vn-3),Me)),Pr=(0,Nr.V)(Pr,[["exit",Dt,Me],ee[Vn-2],ee[Vn-1],["exit",ji,Me]]),Pr=(0,Nr.V)(Pr,ee.slice(Vn+1)),Pr=(0,Nr.V)(Pr,[["exit",Zi,Me]]),(0,Nr.d)(ee,yn,ee.length,Pr),ee}function oo(ee,Me,Ve){const Tt=this;let pn=Tt.events.length,yn,Vn;for(;pn--;)if((Tt.events[pn][1].type==="labelImage"||Tt.events[pn][1].type==="labelLink")&&!Tt.events[pn][1]._balanced){yn=Tt.events[pn][1];break}return Pr;function Pr(ba){return yn?yn._inactive?Ta(ba):(Vn=Tt.parser.defined.includes((0,St.d)(Tt.sliceSerialize({start:yn.end,end:Tt.now()}))),ee.enter("labelEnd"),ee.enter("labelMarker"),ee.consume(ba),ee.exit("labelMarker"),ee.exit("labelEnd"),Zi):Ve(ba)}function Zi(ba){return ba===40?ee.attempt(To,Dt,Vn?Dt:Ta)(ba):ba===91?ee.attempt(Po,Dt,Vn?ji:Ta)(ba):Vn?Dt(ba):Ta(ba)}function ji(ba){return ee.attempt(ds,Dt,Ta)(ba)}function Dt(ba){return Me(ba)}function Ta(ba){return yn._balanced=!0,Ve(ba)}}function nu(ee,Me,Ve){return Tt;function Tt(Ta){return ee.enter("resource"),ee.enter("resourceMarker"),ee.consume(Ta),ee.exit("resourceMarker"),pn}function pn(Ta){return(0,nt.z3)(Ta)?st(ee,yn)(Ta):yn(Ta)}function yn(Ta){return Ta===41?Dt(Ta):or(ee,Vn,Pr,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(Ta)}function Vn(Ta){return(0,nt.z3)(Ta)?st(ee,Zi)(Ta):Dt(Ta)}function Pr(Ta){return Ve(Ta)}function Zi(Ta){return Ta===34||Ta===39||Ta===40?je(ee,ji,Ve,"resourceTitle","resourceTitleMarker","resourceTitleString")(Ta):Dt(Ta)}function ji(Ta){return(0,nt.z3)(Ta)?st(ee,Dt)(Ta):Dt(Ta)}function Dt(Ta){return Ta===41?(ee.enter("resourceMarker"),ee.consume(Ta),ee.exit("resourceMarker"),ee.exit("resource"),Me):Ve(Ta)}}function wu(ee,Me,Ve){const Tt=this;return pn;function pn(Pr){return Ze.call(Tt,ee,yn,Vn,"reference","referenceMarker","referenceString")(Pr)}function yn(Pr){return Tt.parser.defined.includes((0,St.d)(Tt.sliceSerialize(Tt.events[Tt.events.length-1][1]).slice(1,-1)))?Me(Pr):Ve(Pr)}function Vn(Pr){return Ve(Pr)}}function Ll(ee,Me,Ve){return Tt;function Tt(yn){return ee.enter("reference"),ee.enter("referenceMarker"),ee.consume(yn),ee.exit("referenceMarker"),pn}function pn(yn){return yn===93?(ee.enter("referenceMarker"),ee.consume(yn),ee.exit("referenceMarker"),ee.exit("reference"),Me):Ve(yn)}}const Si={name:"labelStartImage",resolveAll:vo.resolveAll,tokenize:Sn};function Sn(ee,Me,Ve){const Tt=this;return pn;function pn(Pr){return ee.enter("labelImage"),ee.enter("labelImageMarker"),ee.consume(Pr),ee.exit("labelImageMarker"),yn}function yn(Pr){return Pr===91?(ee.enter("labelMarker"),ee.consume(Pr),ee.exit("labelMarker"),ee.exit("labelImage"),Vn):Ve(Pr)}function Vn(Pr){return Pr===94&&"_hiddenFootnoteSupport"in Tt.parser.constructs?Ve(Pr):Me(Pr)}}var Qt=A(72147);const rr={name:"attention",resolveAll:rt,tokenize:ai};function rt(ee,Me){let Ve=-1,Tt,pn,yn,Vn,Pr,Zi,ji,Dt;for(;++Ve<ee.length;)if(ee[Ve][0]==="enter"&&ee[Ve][1].type==="attentionSequence"&&ee[Ve][1]._close){for(Tt=Ve;Tt--;)if(ee[Tt][0]==="exit"&&ee[Tt][1].type==="attentionSequence"&&ee[Tt][1]._open&&Me.sliceSerialize(ee[Tt][1]).charCodeAt(0)===Me.sliceSerialize(ee[Ve][1]).charCodeAt(0)){if((ee[Tt][1]._close||ee[Ve][1]._open)&&(ee[Ve][1].end.offset-ee[Ve][1].start.offset)%3&&!((ee[Tt][1].end.offset-ee[Tt][1].start.offset+ee[Ve][1].end.offset-ee[Ve][1].start.offset)%3))continue;Zi=ee[Tt][1].end.offset-ee[Tt][1].start.offset>1&&ee[Ve][1].end.offset-ee[Ve][1].start.offset>1?2:1;const Ta=us({},ee[Tt][1].end),ba=us({},ee[Ve][1].start);mi(Ta,-Zi),mi(ba,Zi),Vn={type:Zi>1?"strongSequence":"emphasisSequence",start:Ta,end:us({},ee[Tt][1].end)},Pr={type:Zi>1?"strongSequence":"emphasisSequence",start:us({},ee[Ve][1].start),end:ba},yn={type:Zi>1?"strongText":"emphasisText",start:us({},ee[Tt][1].end),end:us({},ee[Ve][1].start)},pn={type:Zi>1?"strong":"emphasis",start:us({},Vn.start),end:us({},Pr.end)},ee[Tt][1].end=us({},Vn.start),ee[Ve][1].start=us({},Pr.end),ji=[],ee[Tt][1].end.offset-ee[Tt][1].start.offset&&(ji=(0,Nr.V)(ji,[["enter",ee[Tt][1],Me],["exit",ee[Tt][1],Me]])),ji=(0,Nr.V)(ji,[["enter",pn,Me],["enter",Vn,Me],["exit",Vn,Me],["enter",yn,Me]]),ji=(0,Nr.V)(ji,(0,Ga.C)(Me.parser.constructs.insideSpan.null,ee.slice(Tt+1,Ve),Me)),ji=(0,Nr.V)(ji,[["exit",yn,Me],["enter",Pr,Me],["exit",Pr,Me],["exit",pn,Me]]),ee[Ve][1].end.offset-ee[Ve][1].start.offset?(Dt=2,ji=(0,Nr.V)(ji,[["enter",ee[Ve][1],Me],["exit",ee[Ve][1],Me]])):Dt=0,(0,Nr.d)(ee,Tt-1,Ve-Tt+3,ji),Ve=Tt+ji.length-Dt-2;break}}for(Ve=-1;++Ve<ee.length;)ee[Ve][1].type==="attentionSequence"&&(ee[Ve][1].type="data");return ee}function ai(ee,Me){const Ve=this.parser.constructs.attentionMarkers.null,Tt=this.previous,pn=(0,Qt.r)(Tt);let yn;return Vn;function Vn(Zi){return yn=Zi,ee.enter("attentionSequence"),Pr(Zi)}function Pr(Zi){if(Zi===yn)return ee.consume(Zi),Pr;const ji=ee.exit("attentionSequence"),Dt=(0,Qt.r)(Zi),Ta=!Dt||Dt===2&&pn||Ve.includes(Zi),ba=!pn||pn===2&&Dt||Ve.includes(Tt);return ji._open=!!(yn===42?Ta:Ta&&(pn||!ba)),ji._close=!!(yn===42?ba:ba&&(Dt||!Ta)),Me(Zi)}}function mi(ee,Me){ee.column+=Me,ee.offset+=Me,ee._bufferIndex+=Me}const _a={name:"autolink",tokenize:Xi};function Xi(ee,Me,Ve){let Tt=0;return pn;function pn(yi){return ee.enter("autolink"),ee.enter("autolinkMarker"),ee.consume(yi),ee.exit("autolinkMarker"),ee.enter("autolinkProtocol"),yn}function yn(yi){return(0,nt.jv)(yi)?(ee.consume(yi),Vn):yi===64?Ve(yi):ji(yi)}function Vn(yi){return yi===43||yi===45||yi===46||(0,nt.H$)(yi)?(Tt=1,Pr(yi)):ji(yi)}function Pr(yi){return yi===58?(ee.consume(yi),Tt=0,Zi):(yi===43||yi===45||yi===46||(0,nt.H$)(yi))&&Tt++<32?(ee.consume(yi),Pr):(Tt=0,ji(yi))}function Zi(yi){return yi===62?(ee.exit("autolinkProtocol"),ee.enter("autolinkMarker"),ee.consume(yi),ee.exit("autolinkMarker"),ee.exit("autolink"),Me):yi===null||yi===32||yi===60||(0,nt.Av)(yi)?Ve(yi):(ee.consume(yi),Zi)}function ji(yi){return yi===64?(ee.consume(yi),Dt):(0,nt.n9)(yi)?(ee.consume(yi),ji):Ve(yi)}function Dt(yi){return(0,nt.H$)(yi)?Ta(yi):Ve(yi)}function Ta(yi){return yi===46?(ee.consume(yi),Tt=0,Dt):yi===62?(ee.exit("autolinkProtocol").type="autolinkEmail",ee.enter("autolinkMarker"),ee.consume(yi),ee.exit("autolinkMarker"),ee.exit("autolink"),Me):ba(yi)}function ba(yi){if((yi===45||(0,nt.H$)(yi))&&Tt++<63){const ko=yi===45?ba:Ta;return ee.consume(yi),ko}return Ve(yi)}}const ia={name:"htmlText",tokenize:ua};function ua(ee,Me,Ve){const Tt=this;let pn,yn,Vn;return Pr;function Pr(Hi){return ee.enter("htmlText"),ee.enter("htmlTextData"),ee.consume(Hi),Zi}function Zi(Hi){return Hi===33?(ee.consume(Hi),ji):Hi===47?(ee.consume(Hi),ol):Hi===63?(ee.consume(Hi),ss):(0,nt.jv)(Hi)?(ee.consume(Hi),Rl):Ve(Hi)}function ji(Hi){return Hi===45?(ee.consume(Hi),Dt):Hi===91?(ee.consume(Hi),yn=0,ko):(0,nt.jv)(Hi)?(ee.consume(Hi),Zs):Ve(Hi)}function Dt(Hi){return Hi===45?(ee.consume(Hi),yi):Ve(Hi)}function Ta(Hi){return Hi===null?Ve(Hi):Hi===45?(ee.consume(Hi),ba):(0,nt.Ch)(Hi)?(Vn=Ta,yc(Hi)):(ee.consume(Hi),Ta)}function ba(Hi){return Hi===45?(ee.consume(Hi),yi):Ta(Hi)}function yi(Hi){return Hi===62?vu(Hi):Hi===45?ba(Hi):Ta(Hi)}function ko(Hi){const Yc="CDATA[";return Hi===Yc.charCodeAt(yn++)?(ee.consume(Hi),yn===Yc.length?pu:ko):Ve(Hi)}function pu(Hi){return Hi===null?Ve(Hi):Hi===93?(ee.consume(Hi),gu):(0,nt.Ch)(Hi)?(Vn=pu,yc(Hi)):(ee.consume(Hi),pu)}function gu(Hi){return Hi===93?(ee.consume(Hi),ps):pu(Hi)}function ps(Hi){return Hi===62?vu(Hi):Hi===93?(ee.consume(Hi),ps):pu(Hi)}function Zs(Hi){return Hi===null||Hi===62?vu(Hi):(0,nt.Ch)(Hi)?(Vn=Zs,yc(Hi)):(ee.consume(Hi),Zs)}function ss(Hi){return Hi===null?Ve(Hi):Hi===63?(ee.consume(Hi),wl):(0,nt.Ch)(Hi)?(Vn=ss,yc(Hi)):(ee.consume(Hi),ss)}function wl(Hi){return Hi===62?vu(Hi):ss(Hi)}function ol(Hi){return(0,nt.jv)(Hi)?(ee.consume(Hi),Lo):Ve(Hi)}function Lo(Hi){return Hi===45||(0,nt.H$)(Hi)?(ee.consume(Hi),Lo):Fl(Hi)}function Fl(Hi){return(0,nt.Ch)(Hi)?(Vn=Fl,yc(Hi)):(0,nt.xz)(Hi)?(ee.consume(Hi),Fl):vu(Hi)}function Rl(Hi){return Hi===45||(0,nt.H$)(Hi)?(ee.consume(Hi),Rl):Hi===47||Hi===62||(0,nt.z3)(Hi)?Kl(Hi):Ve(Hi)}function Kl(Hi){return Hi===47?(ee.consume(Hi),vu):Hi===58||Hi===95||(0,nt.jv)(Hi)?(ee.consume(Hi),xu):(0,nt.Ch)(Hi)?(Vn=Kl,yc(Hi)):(0,nt.xz)(Hi)?(ee.consume(Hi),Kl):vu(Hi)}function xu(Hi){return Hi===45||Hi===46||Hi===58||Hi===95||(0,nt.H$)(Hi)?(ee.consume(Hi),xu):xc(Hi)}function xc(Hi){return Hi===61?(ee.consume(Hi),Vl):(0,nt.Ch)(Hi)?(Vn=xc,yc(Hi)):(0,nt.xz)(Hi)?(ee.consume(Hi),xc):Kl(Hi)}function Vl(Hi){return Hi===null||Hi===60||Hi===61||Hi===62||Hi===96?Ve(Hi):Hi===34||Hi===39?(ee.consume(Hi),pn=Hi,Js):(0,nt.Ch)(Hi)?(Vn=Vl,yc(Hi)):(0,nt.xz)(Hi)?(ee.consume(Hi),Vl):(ee.consume(Hi),mu)}function Js(Hi){return Hi===pn?(ee.consume(Hi),pn=void 0,Nu):Hi===null?Ve(Hi):(0,nt.Ch)(Hi)?(Vn=Js,yc(Hi)):(ee.consume(Hi),Js)}function mu(Hi){return Hi===null||Hi===34||Hi===39||Hi===60||Hi===61||Hi===96?Ve(Hi):Hi===47||Hi===62||(0,nt.z3)(Hi)?Kl(Hi):(ee.consume(Hi),mu)}function Nu(Hi){return Hi===47||Hi===62||(0,nt.z3)(Hi)?Kl(Hi):Ve(Hi)}function vu(Hi){return Hi===62?(ee.consume(Hi),ee.exit("htmlTextData"),ee.exit("htmlText"),Me):Ve(Hi)}function yc(Hi){return ee.exit("htmlTextData"),ee.enter("lineEnding"),ee.consume(Hi),ee.exit("lineEnding"),bl}function bl(Hi){return(0,nt.xz)(Hi)?(0,wn.f)(ee,pc,"linePrefix",Tt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Hi):pc(Hi)}function pc(Hi){return ee.enter("htmlTextData"),Vn(Hi)}}const co={name:"labelStartLink",resolveAll:vo.resolveAll,tokenize:Ro};function Ro(ee,Me,Ve){const Tt=this;return pn;function pn(Vn){return ee.enter("labelLink"),ee.enter("labelMarker"),ee.consume(Vn),ee.exit("labelMarker"),ee.exit("labelLink"),yn}function yn(Vn){return Vn===94&&"_hiddenFootnoteSupport"in Tt.parser.constructs?Ve(Vn):Me(Vn)}}const As={name:"hardBreakEscape",tokenize:So};function So(ee,Me,Ve){return Tt;function Tt(yn){return ee.enter("hardBreakEscape"),ee.consume(yn),pn}function pn(yn){return(0,nt.Ch)(yn)?(ee.exit("hardBreakEscape"),Me(yn)):Ve(yn)}}const ao={name:"codeText",previous:ns,resolve:Wa,tokenize:Do};function Wa(ee){let Me=ee.length-4,Ve=3,Tt,pn;if((ee[Ve][1].type==="lineEnding"||ee[Ve][1].type==="space")&&(ee[Me][1].type==="lineEnding"||ee[Me][1].type==="space")){for(Tt=Ve;++Tt<Me;)if(ee[Tt][1].type==="codeTextData"){ee[Ve][1].type="codeTextPadding",ee[Me][1].type="codeTextPadding",Ve+=2,Me-=2;break}}for(Tt=Ve-1,Me++;++Tt<=Me;)pn===void 0?Tt!==Me&&ee[Tt][1].type!=="lineEnding"&&(pn=Tt):(Tt===Me||ee[Tt][1].type==="lineEnding")&&(ee[pn][1].type="codeTextData",Tt!==pn+2&&(ee[pn][1].end=ee[Tt-1][1].end,ee.splice(pn+2,Tt-pn-2),Me-=Tt-pn-2,Tt=pn+2),pn=void 0);return ee}function ns(ee){return ee!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Do(ee,Me,Ve){const Tt=this;let pn=0,yn,Vn;return Pr;function Pr(ba){return ee.enter("codeText"),ee.enter("codeTextSequence"),Zi(ba)}function Zi(ba){return ba===96?(ee.consume(ba),pn++,Zi):(ee.exit("codeTextSequence"),ji(ba))}function ji(ba){return ba===null?Ve(ba):ba===32?(ee.enter("space"),ee.consume(ba),ee.exit("space"),ji):ba===96?(Vn=ee.enter("codeTextSequence"),yn=0,Ta(ba)):(0,nt.Ch)(ba)?(ee.enter("lineEnding"),ee.consume(ba),ee.exit("lineEnding"),ji):(ee.enter("codeTextData"),Dt(ba))}function Dt(ba){return ba===null||ba===32||ba===96||(0,nt.Ch)(ba)?(ee.exit("codeTextData"),ji(ba)):(ee.consume(ba),Dt)}function Ta(ba){return ba===96?(ee.consume(ba),yn++,Ta):yn===pn?(ee.exit("codeTextSequence"),ee.exit("codeText"),Me(ba)):(Vn.type="codeTextData",Dt(ba))}}const ls={42:Gn,43:Gn,45:Gn,48:Gn,49:Gn,50:Gn,51:Gn,52:Gn,53:Gn,54:Gn,55:Gn,56:Gn,57:Gn,62:Zt},Bs={91:En},Xo={[-2]:Hn,[-1]:Hn,32:Hn},wt={35:jt,42:ms,45:[yr,ms],60:Wi,61:yr,95:ms,96:Et,126:Et},er={38:vn,92:Mr},nn={[-5]:Ri,[-4]:Ri,[-3]:Ri,33:Si,38:vn,42:rr,60:[_a,ia],91:co,92:[As,Mr],93:vo,95:rr,96:ao},wr={null:[rr,za]},hi={null:[42,95]},gi={null:[]};function xr(ee,Me,Ve){let Tt={_bufferIndex:-1,_index:0,line:Ve&&Ve.line||1,column:Ve&&Ve.column||1,offset:Ve&&Ve.offset||0};const pn={},yn=[];let Vn=[],Pr=[],Zi=!0;const ji={attempt:Kl(Fl),check:Kl(Rl),consume:wl,enter:ol,exit:Lo,interrupt:Kl(Rl,{interrupt:!0})},Dt={code:null,containerState:{},defineSkip:ps,events:[],now:gu,parser:ee,previous:null,sliceSerialize:ko,sliceStream:pu,write:yi};let Ta=Me.tokenize.call(Dt,ji),ba;return Me.resolveAll&&yn.push(Me),Dt;function yi(Js){return Vn=(0,Nr.V)(Vn,Js),Zs(),Vn[Vn.length-1]!==null?[]:(xu(Me,0),Dt.events=(0,Ga.C)(yn,Dt.events,Dt),Dt.events)}function ko(Js,mu){return Ai(pu(Js),mu)}function pu(Js){return Ji(Vn,Js)}function gu(){const{_bufferIndex:Js,_index:mu,line:Nu,column:vu,offset:yc}=Tt;return{_bufferIndex:Js,_index:mu,line:Nu,column:vu,offset:yc}}function ps(Js){pn[Js.line]=Js.column,Vl()}function Zs(){let Js;for(;Tt._index<Vn.length;){const mu=Vn[Tt._index];if(typeof mu=="string")for(Js=Tt._index,Tt._bufferIndex<0&&(Tt._bufferIndex=0);Tt._index===Js&&Tt._bufferIndex<mu.length;)ss(mu.charCodeAt(Tt._bufferIndex));else ss(mu)}}function ss(Js){Zi=void 0,ba=Js,Ta=Ta(Js)}function wl(Js){(0,nt.Ch)(Js)?(Tt.line++,Tt.column=1,Tt.offset+=Js===-3?2:1,Vl()):Js!==-1&&(Tt.column++,Tt.offset++),Tt._bufferIndex<0?Tt._index++:(Tt._bufferIndex++,Tt._bufferIndex===Vn[Tt._index].length&&(Tt._bufferIndex=-1,Tt._index++)),Dt.previous=Js,Zi=!0}function ol(Js,mu){const Nu=mu||{};return Nu.type=Js,Nu.start=gu(),Dt.events.push(["enter",Nu,Dt]),Pr.push(Nu),Nu}function Lo(Js){const mu=Pr.pop();return mu.end=gu(),Dt.events.push(["exit",mu,Dt]),mu}function Fl(Js,mu){xu(Js,mu.from)}function Rl(Js,mu){mu.restore()}function Kl(Js,mu){return Nu;function Nu(vu,yc,bl){let pc,Hi,Yc,js;return Array.isArray(vu)?$o(vu):"tokenize"in vu?$o([vu]):Li(vu);function Li(qu){return b;function b(L){const we=L!==null&&qu[L],On=L!==null&&qu.null,_i=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(On)?On:On?[On]:[]];return $o(_i)(L)}}function $o(qu){return pc=qu,Hi=0,qu.length===0?bl:$c(qu[Hi])}function $c(qu){return b;function b(L){return js=xc(),Yc=qu,qu.partial||(Dt.currentConstruct=qu),qu.name&&Dt.parser.constructs.disable.null.includes(qu.name)?rd(L):qu.tokenize.call(mu?Object.assign(Object.create(Dt),mu):Dt,ji,nc,rd)(L)}}function nc(qu){return Zi=!0,Js(Yc,js),yc}function rd(qu){return Zi=!0,js.restore(),++Hi<pc.length?$c(pc[Hi]):bl}}}function xu(Js,mu){Js.resolveAll&&!yn.includes(Js)&&yn.push(Js),Js.resolve&&(0,Nr.d)(Dt.events,mu,Dt.events.length-mu,Js.resolve(Dt.events.slice(mu),Dt)),Js.resolveTo&&(Dt.events=Js.resolveTo(Dt.events,Dt))}function xc(){const Js=gu(),mu=Dt.previous,Nu=Dt.currentConstruct,vu=Dt.events.length,yc=Array.from(Pr);return{from:vu,restore:bl};function bl(){Tt=Js,Dt.previous=mu,Dt.currentConstruct=Nu,Dt.events.length=vu,Pr=yc,Vl()}}function Vl(){Tt.line in pn&&Tt.column<2&&(Tt.column=pn[Tt.line],Tt.offset+=pn[Tt.line]-1)}}function Ji(ee,Me){const Ve=Me.start._index,Tt=Me.start._bufferIndex,pn=Me.end._index,yn=Me.end._bufferIndex;let Vn;if(Ve===pn)Vn=[ee[Ve].slice(Tt,yn)];else{if(Vn=ee.slice(Ve,pn),Tt>-1){const Pr=Vn[0];typeof Pr=="string"?Vn[0]=Pr.slice(Tt):Vn.shift()}yn>0&&Vn.push(ee[pn].slice(0,yn))}return Vn}function Ai(ee,Me){let Ve=-1;const Tt=[];let pn;for(;++Ve<ee.length;){const yn=ee[Ve];let Vn;if(typeof yn=="string")Vn=yn;else switch(yn){case-5:{Vn="\r";break}case-4:{Vn=`
`;break}case-3:{Vn=`\r
`;break}case-2:{Vn=Me?" ":"	";break}case-1:{if(!Me&&pn)continue;Vn=" ";break}default:Vn=String.fromCharCode(yn)}pn=yn===-2,Tt.push(Vn)}return Tt.join("")}function Mi(ee){const Me=ee||{},Tt={constructs:(0,$n.W)([w,...Me.extensions||[]]),content:pn(ze),defined:[],document:pn($t),flow:pn(sa),lazy:{},string:pn(Ui),text:pn(Ao)};return Tt;function pn(yn){return Vn;function Vn(Pr){return xr(Tt,yn,Pr)}}}const po=/[\0\t\n\r]/g;function ha(){let ee=1,Me="",Ve=!0,Tt;return pn;function pn(yn,Vn,Pr){const Zi=[];let ji,Dt,Ta,ba,yi;for(yn=Me+(typeof yn=="string"?yn.toString():new TextDecoder(Vn||void 0).decode(yn)),Ta=0,Me="",Ve&&(yn.charCodeAt(0)===65279&&Ta++,Ve=void 0);Ta<yn.length;){if(po.lastIndex=Ta,ji=po.exec(yn),ba=ji&&ji.index!==void 0?ji.index:yn.length,yi=yn.charCodeAt(ba),!ji){Me=yn.slice(Ta);break}if(yi===10&&Ta===ba&&Tt)Zi.push(-3),Tt=void 0;else switch(Tt&&(Zi.push(-5),Tt=void 0),Ta<ba&&(Zi.push(yn.slice(Ta,ba)),ee+=ba-Ta),yi){case 0:{Zi.push(65533),ee++;break}case 9:{for(Dt=Math.ceil(ee/4)*4,Zi.push(-2);ee++<Dt;)Zi.push(-1);break}case 10:{Zi.push(-4),ee=1;break}default:Tt=!0,ee=1}Ta=ba+1}return Pr&&(Tt&&Zi.push(-5),Me&&Zi.push(Me),Zi.push(null)),Zi}}function Qo(ee,Me){const Ve=Number.parseInt(ee,Me);return Ve<9||Ve===11||Ve>13&&Ve<32||Ve>126&&Ve<160||Ve>55295&&Ve<57344||Ve>64975&&Ve<65008||(Ve&65535)===65535||(Ve&65535)===65534||Ve>1114111?"\uFFFD":String.fromCodePoint(Ve)}const Cs=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Oo(ee){return ee.replace(Cs,su)}function su(ee,Me,Ve){if(Me)return Me;if(Ve.charCodeAt(0)===35){const pn=Ve.charCodeAt(1),yn=pn===120||pn===88;return Qo(Ve.slice(yn?2:1),yn?16:10)}return mt(Ve)||ee}const ru={}.hasOwnProperty;function xt(ee,Me,Ve){return typeof Me!="string"&&(Ve=Me,Me=void 0),Zn(Ve)(Nn(Mi(Ve).document().write(ha()(ee,Me,!0))))}function Zn(ee){const Me={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:yn(Vu),autolinkProtocol:Kl,autolinkEmail:Kl,atxHeading:yn(Xa),blockQuote:yn(L),characterEscape:Kl,characterReference:Kl,codeFenced:yn(we),codeFencedFenceInfo:Vn,codeFencedFenceMeta:Vn,codeIndented:yn(we,Vn),codeText:yn(On,Vn),codeTextData:Kl,data:Kl,codeFlowValue:Kl,definition:yn(_i),definitionDestinationString:Vn,definitionLabelString:Vn,definitionTitleString:Vn,emphasis:yn(Oa),hardBreakEscape:yn(ts),hardBreakTrailing:yn(ts),htmlFlow:yn(is,Vn),htmlFlowData:Kl,htmlText:yn(is,Vn),htmlTextData:Kl,image:yn(Co),label:Vn,link:yn(Vu),listItem:yn(ef),listItemValue:ba,listOrdered:yn(ul,Ta),listUnordered:yn(ul),paragraph:yn(Tc),reference:Li,referenceString:Vn,resourceDestinationString:Vn,resourceTitleString:Vn,setextHeading:yn(Xa),strong:yn(_h),thematicBreak:yn(rh)},exit:{atxHeading:Zi(),atxHeadingSequence:ol,autolink:Zi(),autolinkEmail:b,autolinkProtocol:qu,blockQuote:Zi(),characterEscapeValue:xu,characterReferenceMarkerHexadecimal:$c,characterReferenceMarkerNumeric:$c,characterReferenceValue:nc,characterReference:rd,codeFenced:Zi(gu),codeFencedFence:pu,codeFencedFenceInfo:yi,codeFencedFenceMeta:ko,codeFlowValue:xu,codeIndented:Zi(ps),codeText:Zi(Nu),codeTextData:xu,data:xu,definition:Zi(),definitionDestinationString:wl,definitionLabelString:Zs,definitionTitleString:ss,emphasis:Zi(),hardBreakEscape:Zi(Vl),hardBreakTrailing:Zi(Vl),htmlFlow:Zi(Js),htmlFlowData:xu,htmlText:Zi(mu),htmlTextData:xu,image:Zi(yc),label:pc,labelText:bl,lineEnding:xc,link:Zi(vu),listItem:Zi(),listOrdered:Zi(),listUnordered:Zi(),paragraph:Zi(),referenceString:$o,resourceDestinationString:Hi,resourceTitleString:Yc,resource:js,setextHeading:Zi(Rl),setextHeadingLineSequence:Fl,setextHeadingText:Lo,strong:Zi(),thematicBreak:Zi()}};Di(Me,(ee||{}).mdastExtensions||[]);const Ve={};return Tt;function Tt(ho){let Yo={type:"root",children:[]};const cu={stack:[Yo],tokenStack:[],config:Me,enter:Pr,exit:ji,buffer:Vn,resume:Dt,data:Ve},el=[];let Hs=-1;for(;++Hs<ho.length;)if(ho[Hs][1].type==="listOrdered"||ho[Hs][1].type==="listUnordered")if(ho[Hs][0]==="enter")el.push(Hs);else{const Xf=el.pop();Hs=pn(ho,Xf,Hs)}for(Hs=-1;++Hs<ho.length;){const Xf=Me[ho[Hs][0]];ru.call(Xf,ho[Hs][1].type)&&Xf[ho[Hs][1].type].call(Object.assign({sliceSerialize:ho[Hs][2].sliceSerialize},cu),ho[Hs][1])}if(cu.tokenStack.length>0){const Xf=cu.tokenStack[cu.tokenStack.length-1];(Xf[1]||Eo).call(cu,void 0,Xf[0])}for(Yo.position={start:Cr(ho.length>0?ho[0][1].start:{line:1,column:1,offset:0}),end:Cr(ho.length>0?ho[ho.length-2][1].end:{line:1,column:1,offset:0})},Hs=-1;++Hs<Me.transforms.length;)Yo=Me.transforms[Hs](Yo)||Yo;return Yo}function pn(ho,Yo,cu){let el=Yo-1,Hs=-1,Xf=!1,tf,Gl,Uf,rc;for(;++el<=cu;){const Du=ho[el];switch(Du[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Du[0]==="enter"?Hs++:Hs--,rc=void 0;break}case"lineEndingBlank":{Du[0]==="enter"&&(tf&&!rc&&!Hs&&!Uf&&(Uf=el),rc=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rc=void 0}if(!Hs&&Du[0]==="enter"&&Du[1].type==="listItemPrefix"||Hs===-1&&Du[0]==="exit"&&(Du[1].type==="listUnordered"||Du[1].type==="listOrdered")){if(tf){let zc=el;for(Gl=void 0;zc--;){const zf=ho[zc];if(zf[1].type==="lineEnding"||zf[1].type==="lineEndingBlank"){if(zf[0]==="exit")continue;Gl&&(ho[Gl][1].type="lineEndingBlank",Xf=!0),zf[1].type="lineEnding",Gl=zc}else if(!(zf[1].type==="linePrefix"||zf[1].type==="blockQuotePrefix"||zf[1].type==="blockQuotePrefixWhitespace"||zf[1].type==="blockQuoteMarker"||zf[1].type==="listItemIndent"))break}Uf&&(!Gl||Uf<Gl)&&(tf._spread=!0),tf.end=Object.assign({},Gl?ho[Gl][1].start:Du[1].end),ho.splice(Gl||el,0,["exit",tf,Du[2]]),el++,cu++}if(Du[1].type==="listItemPrefix"){const zc={type:"listItem",_spread:!1,start:Object.assign({},Du[1].start),end:void 0};tf=zc,ho.splice(el,0,["enter",zc,Du[2]]),el++,cu++,Uf=void 0,rc=!0}}}return ho[Yo][1]._spread=Xf,cu}function yn(ho,Yo){return cu;function cu(el){Pr.call(this,ho(el),el),Yo&&Yo.call(this,el)}}function Vn(){this.stack.push({type:"fragment",children:[]})}function Pr(ho,Yo,cu){this.stack[this.stack.length-1].children.push(ho),this.stack.push(ho),this.tokenStack.push([Yo,cu||void 0]),ho.position={start:Cr(Yo.start),end:void 0}}function Zi(ho){return Yo;function Yo(cu){ho&&ho.call(this,cu),ji.call(this,cu)}}function ji(ho,Yo){const cu=this.stack.pop(),el=this.tokenStack.pop();if(el)el[0].type!==ho.type&&(Yo?Yo.call(this,ho,el[0]):(el[1]||Eo).call(this,ho,el[0]));else throw new Error("Cannot close `"+ho.type+"` ("+Ke({start:ho.start,end:ho.end})+"): it\u2019s not open");cu.position.end=Cr(ho.end)}function Dt(){return(0,ir.B)(this.stack.pop())}function Ta(){this.data.expectingFirstListItemValue=!0}function ba(ho){if(this.data.expectingFirstListItemValue){const Yo=this.stack[this.stack.length-2];Yo.start=Number.parseInt(this.sliceSerialize(ho),10),this.data.expectingFirstListItemValue=void 0}}function yi(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.lang=ho}function ko(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.meta=ho}function pu(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function gu(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.value=ho.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function ps(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.value=ho.replace(/(\r?\n|\r)$/g,"")}function Zs(ho){const Yo=this.resume(),cu=this.stack[this.stack.length-1];cu.label=Yo,cu.identifier=(0,St.d)(this.sliceSerialize(ho)).toLowerCase()}function ss(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.title=ho}function wl(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.url=ho}function ol(ho){const Yo=this.stack[this.stack.length-1];if(!Yo.depth){const cu=this.sliceSerialize(ho).length;Yo.depth=cu}}function Lo(){this.data.setextHeadingSlurpLineEnding=!0}function Fl(ho){const Yo=this.stack[this.stack.length-1];Yo.depth=this.sliceSerialize(ho).codePointAt(0)===61?1:2}function Rl(){this.data.setextHeadingSlurpLineEnding=void 0}function Kl(ho){const cu=this.stack[this.stack.length-1].children;let el=cu[cu.length-1];(!el||el.type!=="text")&&(el=bh(),el.position={start:Cr(ho.start),end:void 0},cu.push(el)),this.stack.push(el)}function xu(ho){const Yo=this.stack.pop();Yo.value+=this.sliceSerialize(ho),Yo.position.end=Cr(ho.end)}function xc(ho){const Yo=this.stack[this.stack.length-1];if(this.data.atHardBreak){const cu=Yo.children[Yo.children.length-1];cu.position.end=Cr(ho.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&Me.canContainEols.includes(Yo.type)&&(Kl.call(this,ho),xu.call(this,ho))}function Vl(){this.data.atHardBreak=!0}function Js(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.value=ho}function mu(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.value=ho}function Nu(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.value=ho}function vu(){const ho=this.stack[this.stack.length-1];if(this.data.inReference){const Yo=this.data.referenceType||"shortcut";ho.type+="Reference",ho.referenceType=Yo,delete ho.url,delete ho.title}else delete ho.identifier,delete ho.label;this.data.referenceType=void 0}function yc(){const ho=this.stack[this.stack.length-1];if(this.data.inReference){const Yo=this.data.referenceType||"shortcut";ho.type+="Reference",ho.referenceType=Yo,delete ho.url,delete ho.title}else delete ho.identifier,delete ho.label;this.data.referenceType=void 0}function bl(ho){const Yo=this.sliceSerialize(ho),cu=this.stack[this.stack.length-2];cu.label=Oo(Yo),cu.identifier=(0,St.d)(Yo).toLowerCase()}function pc(){const ho=this.stack[this.stack.length-1],Yo=this.resume(),cu=this.stack[this.stack.length-1];if(this.data.inReference=!0,cu.type==="link"){const el=ho.children;cu.children=el}else cu.alt=Yo}function Hi(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.url=ho}function Yc(){const ho=this.resume(),Yo=this.stack[this.stack.length-1];Yo.title=ho}function js(){this.data.inReference=void 0}function Li(){this.data.referenceType="collapsed"}function $o(ho){const Yo=this.resume(),cu=this.stack[this.stack.length-1];cu.label=Yo,cu.identifier=(0,St.d)(this.sliceSerialize(ho)).toLowerCase(),this.data.referenceType="full"}function $c(ho){this.data.characterReferenceType=ho.type}function nc(ho){const Yo=this.sliceSerialize(ho),cu=this.data.characterReferenceType;let el;cu?(el=Qo(Yo,cu==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):el=mt(Yo);const Hs=this.stack[this.stack.length-1];Hs.value+=el}function rd(ho){const Yo=this.stack.pop();Yo.position.end=Cr(ho.end)}function qu(ho){xu.call(this,ho);const Yo=this.stack[this.stack.length-1];Yo.url=this.sliceSerialize(ho)}function b(ho){xu.call(this,ho);const Yo=this.stack[this.stack.length-1];Yo.url="mailto:"+this.sliceSerialize(ho)}function L(){return{type:"blockquote",children:[]}}function we(){return{type:"code",lang:null,meta:null,value:""}}function On(){return{type:"inlineCode",value:""}}function _i(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oa(){return{type:"emphasis",children:[]}}function Xa(){return{type:"heading",depth:0,children:[]}}function ts(){return{type:"break"}}function is(){return{type:"html",value:""}}function Co(){return{type:"image",title:null,url:"",alt:null}}function Vu(){return{type:"link",title:null,url:"",children:[]}}function ul(ho){return{type:"list",ordered:ho.type==="listOrdered",start:null,spread:ho._spread,children:[]}}function ef(ho){return{type:"listItem",spread:ho._spread,checked:null,children:[]}}function Tc(){return{type:"paragraph",children:[]}}function _h(){return{type:"strong",children:[]}}function bh(){return{type:"text",value:""}}function rh(){return{type:"thematicBreak"}}}function Cr(ee){return{line:ee.line,column:ee.column,offset:ee.offset}}function Di(ee,Me){let Ve=-1;for(;++Ve<Me.length;){const Tt=Me[Ve];Array.isArray(Tt)?Di(ee,Tt):wa(ee,Tt)}}function wa(ee,Me){let Ve;for(Ve in Me)if(ru.call(Me,Ve))switch(Ve){case"canContainEols":{const Tt=Me[Ve];Tt&&ee[Ve].push(...Tt);break}case"transforms":{const Tt=Me[Ve];Tt&&ee[Ve].push(...Tt);break}case"enter":case"exit":{const Tt=Me[Ve];Tt&&Object.assign(ee[Ve],Tt);break}}}function Eo(ee,Me){throw ee?new Error("Cannot close `"+ee.type+"` ("+Ke({start:ee.start,end:ee.end})+"): a different token (`"+Me.type+"`, "+Ke({start:Me.start,end:Me.end})+") is open"):new Error("Cannot close document, a token (`"+Me.type+"`, "+Ke({start:Me.start,end:Me.end})+") is still open")}function yo(ee){const Me=this;Me.parser=Ve;function Ve(Tt){return xt(Tt,g0(us(us({},Me.data("settings")),ee),{extensions:Me.data("micromarkExtensions")||[],mdastExtensions:Me.data("fromMarkdownExtensions")||[]}))}}var Wr=A(41730);function hs(ee,Me){const Ve=encode(Ma(ee||""));if(!Me)return Ve;const Tt=Ve.indexOf(":"),pn=Ve.indexOf("?"),yn=Ve.indexOf("#"),Vn=Ve.indexOf("/");return Tt<0||Vn>-1&&Tt>Vn||pn>-1&&Tt>pn||yn>-1&&Tt>yn||Me.test(Ve.slice(0,Tt))?Ve:""}function Ma(ee){const Me=[];let Ve=-1,Tt=0,pn=0;for(;++Ve<ee.length;){const yn=ee.charCodeAt(Ve);let Vn="";if(yn===37&&(0,nt.H$)(ee.charCodeAt(Ve+1))&&(0,nt.H$)(ee.charCodeAt(Ve+2)))pn=2;else if(yn<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(yn))||(Vn=String.fromCharCode(yn));else if(yn>55295&&yn<57344){const Pr=ee.charCodeAt(Ve+1);yn<56320&&Pr>56319&&Pr<57344?(Vn=String.fromCharCode(yn,Pr),pn=1):Vn="\uFFFD"}else Vn=String.fromCharCode(yn);Vn&&(Me.push(ee.slice(Tt,Ve),encodeURIComponent(Vn)),Tt=Ve+pn+1,Vn=""),pn&&(Ve+=pn,pn=0)}return Me.join("")+ee.slice(Tt)}function iu(ee,Me){const Ve=[{type:"text",value:"\u21A9"}];return Me>1&&Ve.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(Me)}]}),Ve}function au(ee,Me){return"Back to reference "+(ee+1)+(Me>1?"-"+Me:"")}function as(ee){const Me=typeof ee.options.clobberPrefix=="string"?ee.options.clobberPrefix:"user-content-",Ve=ee.options.footnoteBackContent||iu,Tt=ee.options.footnoteBackLabel||au,pn=ee.options.footnoteLabel||"Footnotes",yn=ee.options.footnoteLabelTagName||"h2",Vn=ee.options.footnoteLabelProperties||{className:["sr-only"]},Pr=[];let Zi=-1;for(;++Zi<ee.footnoteOrder.length;){const ji=ee.footnoteById.get(ee.footnoteOrder[Zi]);if(!ji)continue;const Dt=ee.all(ji),Ta=String(ji.identifier).toUpperCase(),ba=Ma(Ta.toLowerCase());let yi=0;const ko=[],pu=ee.footnoteCounts.get(Ta);for(;pu!==void 0&&++yi<=pu;){ko.length>0&&ko.push({type:"text",value:" "});let Zs=typeof Ve=="string"?Ve:Ve(Zi,yi);typeof Zs=="string"&&(Zs={type:"text",value:Zs}),ko.push({type:"element",tagName:"a",properties:{href:"#"+Me+"fnref-"+ba+(yi>1?"-"+yi:""),dataFootnoteBackref:"",ariaLabel:typeof Tt=="string"?Tt:Tt(Zi,yi),className:["data-footnote-backref"]},children:Array.isArray(Zs)?Zs:[Zs]})}const gu=Dt[Dt.length-1];if(gu&&gu.type==="element"&&gu.tagName==="p"){const Zs=gu.children[gu.children.length-1];Zs&&Zs.type==="text"?Zs.value+=" ":gu.children.push({type:"text",value:" "}),gu.children.push(...ko)}else Dt.push(...ko);const ps={type:"element",tagName:"li",properties:{id:Me+"fn-"+ba},children:ee.wrap(Dt,!0)};ee.patch(ji,ps),Pr.push(ps)}if(Pr.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:yn,properties:g0(us({},(0,Wr.ZP)(Vn)),{id:"footnote-label"}),children:[{type:"text",value:pn}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:ee.wrap(Pr,!0)},{type:"text",value:`
`}]}}var $s=A(25709);function Xs(ee,Me){const Ve={type:"element",tagName:"blockquote",properties:{},children:ee.wrap(ee.all(Me),!0)};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function Lu(ee,Me){const Ve={type:"element",tagName:"br",properties:{},children:[]};return ee.patch(Me,Ve),[ee.applyData(Me,Ve),{type:"text",value:`
`}]}function Mu(ee,Me){const Ve=Me.value?Me.value+`
`:"",Tt={};Me.lang&&(Tt.className=["language-"+Me.lang]);let pn={type:"element",tagName:"code",properties:Tt,children:[{type:"text",value:Ve}]};return Me.meta&&(pn.data={meta:Me.meta}),ee.patch(Me,pn),pn=ee.applyData(Me,pn),pn={type:"element",tagName:"pre",properties:{},children:[pn]},ee.patch(Me,pn),pn}function Nl(ee,Me){const Ve={type:"element",tagName:"del",properties:{},children:ee.all(Me)};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function Ks(ee,Me){const Ve={type:"element",tagName:"em",properties:{},children:ee.all(Me)};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function nl(ee,Me){const Ve=typeof ee.options.clobberPrefix=="string"?ee.options.clobberPrefix:"user-content-",Tt=String(Me.identifier).toUpperCase(),pn=Ma(Tt.toLowerCase()),yn=ee.footnoteOrder.indexOf(Tt);let Vn,Pr=ee.footnoteCounts.get(Tt);Pr===void 0?(Pr=0,ee.footnoteOrder.push(Tt),Vn=ee.footnoteOrder.length):Vn=yn+1,Pr+=1,ee.footnoteCounts.set(Tt,Pr);const Zi={type:"element",tagName:"a",properties:{href:"#"+Ve+"fn-"+pn,id:Ve+"fnref-"+pn+(Pr>1?"-"+Pr:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(Vn)}]};ee.patch(Me,Zi);const ji={type:"element",tagName:"sup",properties:{},children:[Zi]};return ee.patch(Me,ji),ee.applyData(Me,ji)}function hu(ee,Me){const Ve={type:"element",tagName:"h"+Me.depth,properties:{},children:ee.all(Me)};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function oc(ee,Me){if(ee.options.allowDangerousHtml){const Ve={type:"raw",value:Me.value};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}}function _l(ee,Me){const Ve=Me.referenceType;let Tt="]";if(Ve==="collapsed"?Tt+="[]":Ve==="full"&&(Tt+="["+(Me.label||Me.identifier)+"]"),Me.type==="imageReference")return[{type:"text",value:"!["+Me.alt+Tt}];const pn=ee.all(Me),yn=pn[0];yn&&yn.type==="text"?yn.value="["+yn.value:pn.unshift({type:"text",value:"["});const Vn=pn[pn.length-1];return Vn&&Vn.type==="text"?Vn.value+=Tt:pn.push({type:"text",value:Tt}),pn}function Ku(ee,Me){const Ve=String(Me.identifier).toUpperCase(),Tt=ee.definitionById.get(Ve);if(!Tt)return _l(ee,Me);const pn={src:Ma(Tt.url||""),alt:Me.alt};Tt.title!==null&&Tt.title!==void 0&&(pn.title=Tt.title);const yn={type:"element",tagName:"img",properties:pn,children:[]};return ee.patch(Me,yn),ee.applyData(Me,yn)}function Cf(ee,Me){const Ve={src:Ma(Me.url)};Me.alt!==null&&Me.alt!==void 0&&(Ve.alt=Me.alt),Me.title!==null&&Me.title!==void 0&&(Ve.title=Me.title);const Tt={type:"element",tagName:"img",properties:Ve,children:[]};return ee.patch(Me,Tt),ee.applyData(Me,Tt)}function bc(ee,Me){const Ve={type:"text",value:Me.value.replace(/\r?\n|\r/g," ")};ee.patch(Me,Ve);const Tt={type:"element",tagName:"code",properties:{},children:[Ve]};return ee.patch(Me,Tt),ee.applyData(Me,Tt)}function Sr(ee,Me){const Ve=String(Me.identifier).toUpperCase(),Tt=ee.definitionById.get(Ve);if(!Tt)return _l(ee,Me);const pn={href:Ma(Tt.url||"")};Tt.title!==null&&Tt.title!==void 0&&(pn.title=Tt.title);const yn={type:"element",tagName:"a",properties:pn,children:ee.all(Me)};return ee.patch(Me,yn),ee.applyData(Me,yn)}function li(ee,Me){const Ve={href:Ma(Me.url)};Me.title!==null&&Me.title!==void 0&&(Ve.title=Me.title);const Tt={type:"element",tagName:"a",properties:Ve,children:ee.all(Me)};return ee.patch(Me,Tt),ee.applyData(Me,Tt)}function Ci(ee,Me,Ve){const Tt=ee.all(Me),pn=Ve?ti(Ve):ea(Me),yn={},Vn=[];if(typeof Me.checked=="boolean"){const Dt=Tt[0];let Ta;Dt&&Dt.type==="element"&&Dt.tagName==="p"?Ta=Dt:(Ta={type:"element",tagName:"p",properties:{},children:[]},Tt.unshift(Ta)),Ta.children.length>0&&Ta.children.unshift({type:"text",value:" "}),Ta.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:Me.checked,disabled:!0},children:[]}),yn.className=["task-list-item"]}let Pr=-1;for(;++Pr<Tt.length;){const Dt=Tt[Pr];(pn||Pr!==0||Dt.type!=="element"||Dt.tagName!=="p")&&Vn.push({type:"text",value:`
`}),Dt.type==="element"&&Dt.tagName==="p"&&!pn?Vn.push(...Dt.children):Vn.push(Dt)}const Zi=Tt[Tt.length-1];Zi&&(pn||Zi.type!=="element"||Zi.tagName!=="p")&&Vn.push({type:"text",value:`
`});const ji={type:"element",tagName:"li",properties:yn,children:Vn};return ee.patch(Me,ji),ee.applyData(Me,ji)}function ti(ee){let Me=!1;if(ee.type==="list"){Me=ee.spread||!1;const Ve=ee.children;let Tt=-1;for(;!Me&&++Tt<Ve.length;)Me=ea(Ve[Tt])}return Me}function ea(ee){const Me=ee.spread;return Me==null?ee.children.length>1:Me}function mo(ee,Me){const Ve={},Tt=ee.all(Me);let pn=-1;for(typeof Me.start=="number"&&Me.start!==1&&(Ve.start=Me.start);++pn<Tt.length;){const Vn=Tt[pn];if(Vn.type==="element"&&Vn.tagName==="li"&&Vn.properties&&Array.isArray(Vn.properties.className)&&Vn.properties.className.includes("task-list-item")){Ve.className=["contains-task-list"];break}}const yn={type:"element",tagName:Me.ordered?"ol":"ul",properties:Ve,children:ee.wrap(Tt,!0)};return ee.patch(Me,yn),ee.applyData(Me,yn)}function so(ee,Me){const Ve={type:"element",tagName:"p",properties:{},children:ee.all(Me)};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function Io(ee,Me){const Ve={type:"root",children:ee.wrap(ee.all(Me))};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function Ha(ee,Me){const Ve={type:"element",tagName:"strong",properties:{},children:ee.all(Me)};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function wo(ee,Me){const Ve=ee.all(Me),Tt=Ve.shift(),pn=[];if(Tt){const Vn={type:"element",tagName:"thead",properties:{},children:ee.wrap([Tt],!0)};ee.patch(Me.children[0],Vn),pn.push(Vn)}if(Ve.length>0){const Vn={type:"element",tagName:"tbody",properties:{},children:ee.wrap(Ve,!0)},Pr=(0,lt.Pk)(Me.children[1]),Zi=(0,lt.rb)(Me.children[Me.children.length-1]);Pr&&Zi&&(Vn.position={start:Pr,end:Zi}),pn.push(Vn)}const yn={type:"element",tagName:"table",properties:{},children:ee.wrap(pn,!0)};return ee.patch(Me,yn),ee.applyData(Me,yn)}function zo(ee,Me,Ve){const Tt=Ve?Ve.children:void 0,yn=(Tt?Tt.indexOf(Me):1)===0?"th":"td",Vn=Ve&&Ve.type==="table"?Ve.align:void 0,Pr=Vn?Vn.length:Me.children.length;let Zi=-1;const ji=[];for(;++Zi<Pr;){const Ta=Me.children[Zi],ba={},yi=Vn?Vn[Zi]:void 0;yi&&(ba.align=yi);let ko={type:"element",tagName:yn,properties:ba,children:[]};Ta&&(ko.children=ee.all(Ta),ee.patch(Ta,ko),ko=ee.applyData(Ta,ko)),ji.push(ko)}const Dt={type:"element",tagName:"tr",properties:{},children:ee.wrap(ji,!0)};return ee.patch(Me,Dt),ee.applyData(Me,Dt)}function rs(ee,Me){const Ve={type:"element",tagName:"td",properties:{},children:ee.all(Me)};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}const Vo=9,Fs=32;function _u(ee){const Me=String(ee),Ve=/\r?\n|\r/g;let Tt=Ve.exec(Me),pn=0;const yn=[];for(;Tt;)yn.push(bs(Me.slice(pn,Tt.index),pn>0,!0),Tt[0]),pn=Tt.index+Tt[0].length,Tt=Ve.exec(Me);return yn.push(bs(Me.slice(pn),pn>0,!1)),yn.join("")}function bs(ee,Me,Ve){let Tt=0,pn=ee.length;if(Me){let yn=ee.codePointAt(Tt);for(;yn===Vo||yn===Fs;)Tt++,yn=ee.codePointAt(Tt)}if(Ve){let yn=ee.codePointAt(pn-1);for(;yn===Vo||yn===Fs;)pn--,yn=ee.codePointAt(pn-1)}return pn>Tt?ee.slice(Tt,pn):""}function Vs(ee,Me){const Ve={type:"text",value:_u(String(Me.value))};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}function vi(ee,Me){const Ve={type:"element",tagName:"hr",properties:{},children:[]};return ee.patch(Me,Ve),ee.applyData(Me,Ve)}const fa={blockquote:Xs,break:Lu,code:Mu,delete:Nl,emphasis:Ks,footnoteReference:nl,heading:hu,html:oc,imageReference:Ku,image:Cf,inlineCode:bc,linkReference:Sr,link:li,listItem:Ci,list:mo,paragraph:so,root:Io,strong:Ha,table:wo,tableCell:rs,tableRow:zo,text:Vs,thematicBreak:vi,toml:ta,yaml:ta,definition:ta,footnoteDefinition:ta};function ta(){}const fo={}.hasOwnProperty,Ko={};function es(ee,Me){const Ve=Me||Ko,Tt=new Map,pn=new Map,yn=new Map,Vn=us(us({},fa),Ve.handlers),Pr={all:ji,applyData:ys,definitionById:Tt,footnoteById:pn,footnoteCounts:yn,footnoteOrder:[],handlers:Vn,one:Zi,options:Ve,patch:Mo,wrap:ec};return(0,$s.Vn)(ee,function(Dt){if(Dt.type==="definition"||Dt.type==="footnoteDefinition"){const Ta=Dt.type==="definition"?Tt:pn,ba=String(Dt.identifier).toUpperCase();Ta.has(ba)||Ta.set(ba,Dt)}}),Pr;function Zi(Dt,Ta){const ba=Dt.type,yi=Pr.handlers[ba];if(fo.call(Pr.handlers,ba)&&yi)return yi(Pr,Dt,Ta);if(Pr.options.passThrough&&Pr.options.passThrough.includes(ba)){if("children"in Dt){const pu=Dt,{children:gu}=pu,ps=J0(pu,["children"]),Zs=(0,Wr.ZP)(ps);return Zs.children=Pr.all(Dt),Zs}return(0,Wr.ZP)(Dt)}return(Pr.options.unknownHandler||Bc)(Pr,Dt,Ta)}function ji(Dt){const Ta=[];if("children"in Dt){const ba=Dt.children;let yi=-1;for(;++yi<ba.length;){const ko=Pr.one(ba[yi],Dt);if(ko){if(yi&&ba[yi-1].type==="break"&&(!Array.isArray(ko)&&ko.type==="text"&&(ko.value=ff(ko.value)),!Array.isArray(ko)&&ko.type==="element")){const pu=ko.children[0];pu&&pu.type==="text"&&(pu.value=ff(pu.value))}Array.isArray(ko)?Ta.push(...ko):Ta.push(ko)}}}return Ta}}function Mo(ee,Me){ee.position&&(Me.position=(0,lt.FK)(ee))}function ys(ee,Me){let Ve=Me;if(ee&&ee.data){const Tt=ee.data.hName,pn=ee.data.hChildren,yn=ee.data.hProperties;if(typeof Tt=="string")if(Ve.type==="element")Ve.tagName=Tt;else{const Vn="children"in Ve?Ve.children:[Ve];Ve={type:"element",tagName:Tt,properties:{},children:Vn}}Ve.type==="element"&&yn&&Object.assign(Ve.properties,(0,Wr.ZP)(yn)),"children"in Ve&&Ve.children&&pn!==null&&pn!==void 0&&(Ve.children=pn)}return Ve}function Bc(ee,Me){const Ve=Me.data||{},Tt="value"in Me&&!(fo.call(Ve,"hProperties")||fo.call(Ve,"hChildren"))?{type:"text",value:Me.value}:{type:"element",tagName:"div",properties:{},children:ee.all(Me)};return ee.patch(Me,Tt),ee.applyData(Me,Tt)}function ec(ee,Me){const Ve=[];let Tt=-1;for(Me&&Ve.push({type:"text",value:`
`});++Tt<ee.length;)Tt&&Ve.push({type:"text",value:`
`}),Ve.push(ee[Tt]);return Me&&ee.length>0&&Ve.push({type:"text",value:`
`}),Ve}function ff(ee){let Me=0,Ve=ee.charCodeAt(Me);for(;Ve===9||Ve===32;)Me++,Ve=ee.charCodeAt(Me);return ee.slice(Me)}function ld(ee,Me){const Ve=es(ee,Me),Tt=Ve.one(ee,void 0),pn=as(Ve),yn=Array.isArray(Tt)?{type:"root",children:Tt}:Tt||{type:"root",children:[]};return pn&&((0,B.ok)("children"in yn),yn.children.push({type:"text",value:`
`},pn)),yn}function Ol(ee,Me){return ee&&"run"in ee?function(Ve,Tt){return t3(this,null,function*(){const pn=ld(Ve,us({file:Tt},Me));yield ee.run(pn,Tt)})}:function(Ve,Tt){return ld(Ve,us({file:Tt},ee||Me))}}function al(ee){if(ee)throw ee}var Dl=A(27396);function Vc(ee){if(typeof ee!="object"||ee===null)return!1;const Me=Object.getPrototypeOf(ee);return(Me===null||Me===Object.prototype||Object.getPrototypeOf(Me)===null)&&!(Symbol.toStringTag in ee)&&!(Symbol.iterator in ee)}function Qs(){const ee=[],Me={run:Ve,use:Tt};return Me;function Ve(...pn){let yn=-1;const Vn=pn.pop();if(typeof Vn!="function")throw new TypeError("Expected function as last argument, not "+Vn);Pr(null,...pn);function Pr(Zi,...ji){const Dt=ee[++yn];let Ta=-1;if(Zi){Vn(Zi);return}for(;++Ta<pn.length;)(ji[Ta]===null||ji[Ta]===void 0)&&(ji[Ta]=pn[Ta]);pn=ji,Dt?$u(Dt,Pr)(...ji):Vn(null,...ji)}}function Tt(pn){if(typeof pn!="function")throw new TypeError("Expected `middelware` to be a function, not "+pn);return ee.push(pn),Me}}function $u(ee,Me){let Ve;return Tt;function Tt(...Vn){const Pr=ee.length>Vn.length;let Zi;Pr&&Vn.push(pn);try{Zi=ee.apply(this,Vn)}catch(ji){const Dt=ji;if(Pr&&Ve)throw Dt;return pn(Dt)}Pr||(Zi&&Zi.then&&typeof Zi.then=="function"?Zi.then(yn,pn):Zi instanceof Error?pn(Zi):yn(Zi))}function pn(Vn,...Pr){Ve||(Ve=!0,Me(Vn,...Pr))}function yn(Vn){pn(null,Vn)}}const Ru={basename:Wl,dirname:tc,extname:Ec,join:cd,sep:"/"};function Wl(ee,Me){if(Me!==void 0&&typeof Me!="string")throw new TypeError('"ext" argument must be a string');ed(ee);let Ve=0,Tt=-1,pn=ee.length,yn;if(Me===void 0||Me.length===0||Me.length>ee.length){for(;pn--;)if(ee.codePointAt(pn)===47){if(yn){Ve=pn+1;break}}else Tt<0&&(yn=!0,Tt=pn+1);return Tt<0?"":ee.slice(Ve,Tt)}if(Me===ee)return"";let Vn=-1,Pr=Me.length-1;for(;pn--;)if(ee.codePointAt(pn)===47){if(yn){Ve=pn+1;break}}else Vn<0&&(yn=!0,Vn=pn+1),Pr>-1&&(ee.codePointAt(pn)===Me.codePointAt(Pr--)?Pr<0&&(Tt=pn):(Pr=-1,Tt=Vn));return Ve===Tt?Tt=Vn:Tt<0&&(Tt=ee.length),ee.slice(Ve,Tt)}function tc(ee){if(ed(ee),ee.length===0)return".";let Me=-1,Ve=ee.length,Tt;for(;--Ve;)if(ee.codePointAt(Ve)===47){if(Tt){Me=Ve;break}}else Tt||(Tt=!0);return Me<0?ee.codePointAt(0)===47?"/":".":Me===1&&ee.codePointAt(0)===47?"//":ee.slice(0,Me)}function Ec(ee){ed(ee);let Me=ee.length,Ve=-1,Tt=0,pn=-1,yn=0,Vn;for(;Me--;){const Pr=ee.codePointAt(Me);if(Pr===47){if(Vn){Tt=Me+1;break}continue}Ve<0&&(Vn=!0,Ve=Me+1),Pr===46?pn<0?pn=Me:yn!==1&&(yn=1):pn>-1&&(yn=-1)}return pn<0||Ve<0||yn===0||yn===1&&pn===Ve-1&&pn===Tt+1?"":ee.slice(pn,Ve)}function cd(...ee){let Me=-1,Ve;for(;++Me<ee.length;)ed(ee[Me]),ee[Me]&&(Ve=Ve===void 0?ee[Me]:Ve+"/"+ee[Me]);return Ve===void 0?".":wc(Ve)}function wc(ee){ed(ee);const Me=ee.codePointAt(0)===47;let Ve=Tl(ee,!Me);return Ve.length===0&&!Me&&(Ve="."),Ve.length>0&&ee.codePointAt(ee.length-1)===47&&(Ve+="/"),Me?"/"+Ve:Ve}function Tl(ee,Me){let Ve="",Tt=0,pn=-1,yn=0,Vn=-1,Pr,Zi;for(;++Vn<=ee.length;){if(Vn<ee.length)Pr=ee.codePointAt(Vn);else{if(Pr===47)break;Pr=47}if(Pr===47){if(!(pn===Vn-1||yn===1))if(pn!==Vn-1&&yn===2){if(Ve.length<2||Tt!==2||Ve.codePointAt(Ve.length-1)!==46||Ve.codePointAt(Ve.length-2)!==46){if(Ve.length>2){if(Zi=Ve.lastIndexOf("/"),Zi!==Ve.length-1){Zi<0?(Ve="",Tt=0):(Ve=Ve.slice(0,Zi),Tt=Ve.length-1-Ve.lastIndexOf("/")),pn=Vn,yn=0;continue}}else if(Ve.length>0){Ve="",Tt=0,pn=Vn,yn=0;continue}}Me&&(Ve=Ve.length>0?Ve+"/..":"..",Tt=2)}else Ve.length>0?Ve+="/"+ee.slice(pn+1,Vn):Ve=ee.slice(pn+1,Vn),Tt=Vn-pn-1;pn=Vn,yn=0}else Pr===46&&yn>-1?yn++:yn=-1}return Ve}function ed(ee){if(typeof ee!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ee))}const Fc={cwd:hc};function hc(){return"/"}function Sd(ee){return!!(ee!==null&&typeof ee=="object"&&"href"in ee&&ee.href&&"protocol"in ee&&ee.protocol&&ee.auth===void 0)}function Oh(ee){if(typeof ee=="string")ee=new URL(ee);else if(!Sd(ee)){const Me=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+ee+"`");throw Me.code="ERR_INVALID_ARG_TYPE",Me}if(ee.protocol!=="file:"){const Me=new TypeError("The URL must be of scheme file");throw Me.code="ERR_INVALID_URL_SCHEME",Me}return Fd(ee)}function Fd(ee){if(ee.hostname!==""){const Tt=new TypeError('File URL host must be "localhost" or empty on darwin');throw Tt.code="ERR_INVALID_FILE_URL_HOST",Tt}const Me=ee.pathname;let Ve=-1;for(;++Ve<Me.length;)if(Me.codePointAt(Ve)===37&&Me.codePointAt(Ve+1)===50){const Tt=Me.codePointAt(Ve+2);if(Tt===70||Tt===102){const pn=new TypeError("File URL path must not include encoded / characters");throw pn.code="ERR_INVALID_FILE_URL_PATH",pn}}return decodeURIComponent(Me)}const $d=["history","path","basename","stem","extname","dirname"];class Xd{constructor(Me){let Ve;Me?Sd(Me)?Ve={path:Me}:typeof Me=="string"||md(Me)?Ve={value:Me}:Ve=Me:Ve={},this.cwd="cwd"in Ve?"":Fc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let Tt=-1;for(;++Tt<$d.length;){const yn=$d[Tt];yn in Ve&&Ve[yn]!==void 0&&Ve[yn]!==null&&(this[yn]=yn==="history"?[...Ve[yn]]:Ve[yn])}let pn;for(pn in Ve)$d.includes(pn)||(this[pn]=Ve[pn])}get basename(){return typeof this.path=="string"?Ru.basename(this.path):void 0}set basename(Me){Mc(Me,"basename"),fd(Me,"basename"),this.path=Ru.join(this.dirname||"",Me)}get dirname(){return typeof this.path=="string"?Ru.dirname(this.path):void 0}set dirname(Me){Uc(this.basename,"dirname"),this.path=Ru.join(Me||"",this.basename)}get extname(){return typeof this.path=="string"?Ru.extname(this.path):void 0}set extname(Me){if(fd(Me,"extname"),Uc(this.dirname,"extname"),Me){if(Me.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(Me.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ru.join(this.dirname,this.stem+(Me||""))}get path(){return this.history[this.history.length-1]}set path(Me){Sd(Me)&&(Me=Oh(Me)),Mc(Me,"path"),this.path!==Me&&this.history.push(Me)}get stem(){return typeof this.path=="string"?Ru.basename(this.path,this.extname):void 0}set stem(Me){Mc(Me,"stem"),fd(Me,"stem"),this.path=Ru.join(this.dirname||"",Me+(this.extname||""))}fail(Me,Ve,Tt){const pn=this.message(Me,Ve,Tt);throw pn.fatal=!0,pn}info(Me,Ve,Tt){const pn=this.message(Me,Ve,Tt);return pn.fatal=void 0,pn}message(Me,Ve,Tt){const pn=new rn(Me,Ve,Tt);return this.path&&(pn.name=this.path+":"+pn.name,pn.file=this.path),pn.fatal=!1,this.messages.push(pn),pn}toString(Me){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(Me||void 0).decode(this.value)}}function fd(ee,Me){if(ee&&ee.includes(Ru.sep))throw new Error("`"+Me+"` cannot be a path: did not expect `"+Ru.sep+"`")}function Mc(ee,Me){if(!ee)throw new Error("`"+Me+"` cannot be empty")}function Uc(ee,Me){if(!ee)throw new Error("Setting `"+Me+"` requires `path` to be set too")}function md(ee){return!!(ee&&typeof ee=="object"&&"byteLength"in ee&&"byteOffset"in ee)}const vd=function(ee){const Tt=this.constructor.prototype,pn=Tt[ee],yn=function(){return pn.apply(yn,arguments)};return Object.setPrototypeOf(yn,Tt),yn},yd={}.hasOwnProperty;class df extends vd{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Qs()}copy(){const Me=new df;let Ve=-1;for(;++Ve<this.attachers.length;){const Tt=this.attachers[Ve];Me.use(...Tt)}return Me.data(Dl(!0,{},this.namespace)),Me}data(Me,Ve){return typeof Me=="string"?arguments.length===2?(td("data",this.frozen),this.namespace[Me]=Ve,this):yd.call(this.namespace,Me)&&this.namespace[Me]||void 0:Me?(td("data",this.frozen),this.namespace=Me,this):this.namespace}freeze(){if(this.frozen)return this;const Me=this;for(;++this.freezeIndex<this.attachers.length;){const[Ve,...Tt]=this.attachers[this.freezeIndex];if(Tt[0]===!1)continue;Tt[0]===!0&&(Tt[0]=void 0);const pn=Ve.call(Me,...Tt);typeof pn=="function"&&this.transformers.use(pn)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(Me){this.freeze();const Ve=Bl(Me),Tt=this.parser||this.Parser;return Yf("parse",Tt),Tt(String(Ve),Ve)}process(Me,Ve){const Tt=this;return this.freeze(),Yf("process",this.parser||this.Parser),$f("process",this.compiler||this.Compiler),Ve?pn(void 0,Ve):new Promise(pn);function pn(yn,Vn){const Pr=Bl(Me),Zi=Tt.parse(Pr);Tt.run(Zi,Pr,function(Dt,Ta,ba){if(Dt||!Ta||!ba)return ji(Dt);const yi=Ta,ko=Tt.stringify(yi,ba);Of(ko)?ba.value=ko:ba.result=ko,ji(Dt,ba)});function ji(Dt,Ta){Dt||!Ta?Vn(Dt):yn?yn(Ta):((0,B.ok)(Ve,"`done` is defined if `resolve` is not"),Ve(void 0,Ta))}}}processSync(Me){let Ve=!1,Tt;return this.freeze(),Yf("processSync",this.parser||this.Parser),$f("processSync",this.compiler||this.Compiler),this.process(Me,pn),kl("processSync","process",Ve),(0,B.ok)(Tt,"we either bailed on an error or have a tree"),Tt;function pn(yn,Vn){Ve=!0,al(yn),Tt=Vn}}run(Me,Ve,Tt){Ad(Me),this.freeze();const pn=this.transformers;return!Tt&&typeof Ve=="function"&&(Tt=Ve,Ve=void 0),Tt?yn(void 0,Tt):new Promise(yn);function yn(Vn,Pr){(0,B.ok)(typeof Ve!="function","`file` can\u2019t be a `done` anymore, we checked");const Zi=Bl(Ve);pn.run(Me,Zi,ji);function ji(Dt,Ta,ba){const yi=Ta||Me;Dt?Pr(Dt):Vn?Vn(yi):((0,B.ok)(Tt,"`done` is defined if `resolve` is not"),Tt(void 0,yi,ba))}}}runSync(Me,Ve){let Tt=!1,pn;return this.run(Me,Ve,yn),kl("runSync","run",Tt),(0,B.ok)(pn,"we either bailed on an error or have a tree"),pn;function yn(Vn,Pr){al(Vn),pn=Pr,Tt=!0}}stringify(Me,Ve){this.freeze();const Tt=Bl(Ve),pn=this.compiler||this.Compiler;return $f("stringify",pn),Ad(Me),pn(Me,Tt)}use(Me,...Ve){const Tt=this.attachers,pn=this.namespace;if(td("use",this.frozen),Me!=null)if(typeof Me=="function")Zi(Me,Ve);else if(typeof Me=="object")Array.isArray(Me)?Pr(Me):Vn(Me);else throw new TypeError("Expected usable value, not `"+Me+"`");return this;function yn(ji){if(typeof ji=="function")Zi(ji,[]);else if(typeof ji=="object")if(Array.isArray(ji)){const[Dt,...Ta]=ji;Zi(Dt,Ta)}else Vn(ji);else throw new TypeError("Expected usable value, not `"+ji+"`")}function Vn(ji){if(!("plugins"in ji)&&!("settings"in ji))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");Pr(ji.plugins),ji.settings&&(pn.settings=Dl(!0,pn.settings,ji.settings))}function Pr(ji){let Dt=-1;if(ji!=null)if(Array.isArray(ji))for(;++Dt<ji.length;){const Ta=ji[Dt];yn(Ta)}else throw new TypeError("Expected a list of plugins, not `"+ji+"`")}function Zi(ji,Dt){let Ta=-1,ba=-1;for(;++Ta<Tt.length;)if(Tt[Ta][0]===ji){ba=Ta;break}if(ba===-1)Tt.push([ji,...Dt]);else if(Dt.length>0){let[yi,...ko]=Dt;const pu=Tt[ba][1];Vc(pu)&&Vc(yi)&&(yi=Dl(!0,pu,yi)),Tt[ba]=[ji,yi,...ko]}}}}const Ef=new df().freeze();function Yf(ee,Me){if(typeof Me!="function")throw new TypeError("Cannot `"+ee+"` without `parser`")}function $f(ee,Me){if(typeof Me!="function")throw new TypeError("Cannot `"+ee+"` without `compiler`")}function td(ee,Me){if(Me)throw new Error("Cannot call `"+ee+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ad(ee){if(!Vc(ee)||typeof ee.type!="string")throw new TypeError("Expected node, got `"+ee+"`")}function kl(ee,Me,Ve){if(!Ve)throw new Error("`"+ee+"` finished async. Use `"+Me+"` instead")}function Bl(ee){return _d(ee)?ee:new Xd(ee)}function _d(ee){return!!(ee&&typeof ee=="object"&&"message"in ee&&"messages"in ee)}function Of(ee){return typeof ee=="string"||hf(ee)}function hf(ee){return!!(ee&&typeof ee=="object"&&"byteLength"in ee&&"byteOffset"in ee)}const Ud="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dd=[],pf={allowDangerousHtml:!0},nd=/^(https?|ircs?|mailto|xmpp)$/i,Kd=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sc(ee){const Me=ee.allowedElements,Ve=ee.allowElement,Tt=ee.children||"",pn=ee.className,yn=ee.components,Vn=ee.disallowedElements,Pr=ee.rehypePlugins||dd,Zi=ee.remarkPlugins||dd,ji=ee.remarkRehypeOptions?us(us({},ee.remarkRehypeOptions),pf):pf,Dt=ee.skipHtml,Ta=ee.unwrapDisallowed,ba=ee.urlTransform||Gc,yi=Ef().use(yo).use(Zi).use(Ol,ji).use(Pr),ko=new Xd;typeof Tt=="string"?ko.value=Tt:(0,B.t1)("Unexpected value `"+Tt+"` for `children` prop, expected `string`"),Me&&Vn&&(0,B.t1)("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other");for(const Zs of Kd)Object.hasOwn(ee,Zs.from)&&(0,B.t1)("Unexpected `"+Zs.from+"` prop, "+(Zs.to?"use `"+Zs.to+"` instead":"remove it")+" (see <"+Ud+"#"+Zs.id+"> for more info)");const pu=yi.parse(ko);let gu=yi.runSync(pu,ko);return pn&&(gu={type:"element",tagName:"div",properties:{className:pn},children:gu.type==="root"?gu.children:[gu]}),(0,$s.Vn)(gu,ps),Qe(gu,{Fragment:bn.Fragment,components:yn,ignoreInvalidStyle:!0,jsx:bn.jsx,jsxs:bn.jsxs,passKeys:!0,passNode:!0});function ps(Zs,ss,wl){if(Zs.type==="raw"&&wl&&typeof ss=="number")return Dt?wl.children.splice(ss,1):wl.children[ss]={type:"text",value:Zs.value},ss;if(Zs.type==="element"){let ol;for(ol in cr)if(Object.hasOwn(cr,ol)&&Object.hasOwn(Zs.properties,ol)){const Lo=Zs.properties[ol],Fl=cr[ol];(Fl===null||Fl.includes(Zs.tagName))&&(Zs.properties[ol]=ba(String(Lo||""),ol,Zs))}}if(Zs.type==="element"){let ol=Me?!Me.includes(Zs.tagName):Vn?Vn.includes(Zs.tagName):!1;if(!ol&&Ve&&typeof ss=="number"&&(ol=!Ve(Zs,ss,wl)),ol&&wl&&typeof ss=="number")return Ta&&Zs.children?wl.children.splice(ss,1,...Zs.children):wl.children.splice(ss,1),ss}}}function Gc(ee){const Me=ee.indexOf(":"),Ve=ee.indexOf("?"),Tt=ee.indexOf("#"),pn=ee.indexOf("/");return Me<0||pn>-1&&Me>pn||Ve>-1&&Me>Ve||Tt>-1&&Me>Tt||nd.test(ee.slice(0,Me))?ee:""}},92763:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return qu}});var w=A(41730),B=A(4729),ne=A(73749),ue=A(57529);const j=/[#.]/g;function q(b,L){const we=b||"",On={};let _i=0,Oa,Xa;for(;_i<we.length;){j.lastIndex=_i;const ts=j.exec(we),is=we.slice(_i,ts?ts.index:we.length);is&&(Oa?Oa==="#"?On.id=is:Array.isArray(On.className)?On.className.push(is):On.className=[is]:Xa=is,_i+=is.length),ts&&(Oa=ts[0],_i++)}return{type:"element",tagName:Xa||L||"div",properties:On,children:[]}}var Y=A(49402),K=A(40471),H=A(83135);const ae={}.hasOwnProperty;function ie(b,L,we){const On=we&&fe(we);function _i(Oa,Xa,...ts){let is=-1,Co;if(Oa==null){Co={type:"root",children:[]};const Vu=Xa;ts.unshift(Vu)}else if(Co=q(Oa,L),Co.tagName=Co.tagName.toLowerCase(),On&&ae.call(On,Co.tagName)&&(Co.tagName=On[Co.tagName]),le(Xa))ts.unshift(Xa);else{let Vu;for(Vu in Xa)ae.call(Xa,Vu)&&se(b,Co.properties,Vu,Xa[Vu])}for(;++is<ts.length;)ge(Co.children,ts[is]);return Co.type==="element"&&Co.tagName==="template"&&(Co.content={type:"root",children:Co.children},Co.children=[]),Co}return _i}function le(b){if(b===null||typeof b!="object"||Array.isArray(b))return!0;if(typeof b.type!="string")return!1;const L=b,we=Object.keys(b);for(const On of we){const _i=L[On];if(_i&&typeof _i=="object"){if(!Array.isArray(_i))return!0;const Oa=_i;for(const Xa of Oa)if(typeof Xa!="number"&&typeof Xa!="string")return!0}}return!!("children"in b&&Array.isArray(b.children))}function se(b,L,we,On){const _i=(0,Y.s)(b,we);let Oa=-1,Xa;if(On!=null){if(typeof On=="number"){if(Number.isNaN(On))return;Xa=On}else typeof On=="boolean"?Xa=On:typeof On=="string"?_i.spaceSeparated?Xa=(0,H.Q)(On):_i.commaSeparated?Xa=(0,ue.Q)(On):_i.commaOrSpaceSeparated?Xa=(0,H.Q)((0,ue.Q)(On).join(" ")):Xa=ye(_i,_i.property,On):Array.isArray(On)?Xa=On.concat():Xa=_i.property==="style"?ve(On):String(On);if(Array.isArray(Xa)){const ts=[];for(;++Oa<Xa.length;){const is=ye(_i,_i.property,Xa[Oa]);ts[Oa]=is}Xa=ts}if(_i.property==="className"&&Array.isArray(L.className)){const ts=Xa;Xa=L.className.concat(ts)}L[_i.property]=Xa}}function ge(b,L){let we=-1;if(L!=null)if(typeof L=="string"||typeof L=="number")b.push({type:"text",value:String(L)});else if(Array.isArray(L))for(;++we<L.length;)ge(b,L[we]);else if(typeof L=="object"&&"type"in L)L.type==="root"?ge(b,L.children):b.push(L);else throw new Error("Expected node, nodes, or string, got `"+L+"`")}function ye(b,L,we){if(typeof we=="string"){if(b.number&&we&&!Number.isNaN(Number(we)))return Number(we);if((b.boolean||b.overloadedBoolean)&&(we===""||(0,K.F)(we)===(0,K.F)(L)))return!0}return we}function ve(b){const L=[];let we;for(we in b)ae.call(b,we)&&L.push([we,b[we]].join(": "));return L.join("; ")}function fe(b){const L={};let we=-1;for(;++we<b.length;)L[b[we].toLowerCase()]=b[we];return L}const Fe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],yt=ie(ne.dy,"div"),gt=ie(ne.YP,"g",Fe);function pt(b){const L=String(b),we=[];return{toOffset:_i,toPoint:On};function On(Oa){if(typeof Oa=="number"&&Oa>-1&&Oa<=L.length){let Xa=0;for(;;){let ts=we[Xa];if(ts===void 0){const is=lt(L,we[Xa-1]);ts=is===-1?L.length+1:is+1,we[Xa]=ts}if(ts>Oa)return{line:Xa+1,column:Oa-(Xa>0?we[Xa-1]:0)+1,offset:Oa};Xa++}}}function _i(Oa){if(Oa&&typeof Oa.line=="number"&&typeof Oa.column=="number"&&!Number.isNaN(Oa.line)&&!Number.isNaN(Oa.column)){for(;we.length<Oa.line;){const ts=we[we.length-1],is=lt(L,ts),Co=is===-1?L.length+1:is+1;if(ts===Co)break;we.push(Co)}const Xa=(Oa.line>1?we[Oa.line-2]:0)+Oa.column-1;if(Xa<we[Oa.line-1])return Xa}}}function lt(b,L){const we=b.indexOf("\r",L),On=b.indexOf(`
`,L);return On===-1?we:we===-1||we+1===On?On:we<On?we:On}const Ke={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ue={}.hasOwnProperty,Pt=Object.prototype;function Gt(b,L){const we=L||{};return rn({file:we.file||void 0,location:!1,schema:we.space==="svg"?ne.YP:ne.dy,verbose:we.verbose||!1},b)}function rn(b,L){let we;switch(L.nodeName){case"#comment":{const On=L;return we={type:"comment",value:On.data},Nt(b,On,we),we}case"#document":case"#document-fragment":{const On=L,_i="mode"in On?On.mode==="quirks"||On.mode==="limited-quirks":!1;if(we={type:"root",children:_n(b,L.childNodes),data:{quirksMode:_i}},b.file&&b.location){const Oa=String(b.file),Xa=pt(Oa),ts=Xa.toPoint(0),is=Xa.toPoint(Oa.length);(0,B.ok)(ts,"expected `start`"),(0,B.ok)(is,"expected `end`"),we.position={start:ts,end:is}}return we}case"#documentType":{const On=L;return we={type:"doctype"},Nt(b,On,we),we}case"#text":{const On=L;return we={type:"text",value:On.value},Nt(b,On,we),we}default:return we=qe(b,L),we}}function _n(b,L){let we=-1;const On=[];for(;++we<L.length;){const _i=rn(b,L[we]);On.push(_i)}return On}function qe(b,L){const we=b.schema;b.schema=L.namespaceURI===Ke.svg?ne.YP:ne.dy;let On=-1;const _i={};for(;++On<L.attrs.length;){const ts=L.attrs[On],is=(ts.prefix?ts.prefix+":":"")+ts.name;Ue.call(Pt,is)||(_i[is]=ts.value)}const Xa=(b.schema.space==="svg"?gt:yt)(L.tagName,_i,_n(b,L.childNodes));if(Nt(b,L,Xa),Xa.tagName==="template"){const ts=L,is=ts.sourceCodeLocation,Co=is&&is.startTag&&ln(is.startTag),Vu=is&&is.endTag&&ln(is.endTag),ul=rn(b,ts.content);Co&&Vu&&b.file&&(ul.position={start:Co.end,end:Vu.start}),Xa.content=ul}return b.schema=we,Xa}function Nt(b,L,we){if("sourceCodeLocation"in L&&L.sourceCodeLocation&&b.file){const On=ft(b,we,L.sourceCodeLocation);On&&(b.location=!0,we.position=On)}}function ft(b,L,we){const On=ln(we);if(L.type==="element"){const _i=L.children[L.children.length-1];if(On&&!we.endTag&&_i&&_i.position&&_i.position.end&&(On.end=Object.assign({},_i.position.end)),b.verbose){const Oa={};let Xa;if(we.attrs)for(Xa in we.attrs)Ue.call(we.attrs,Xa)&&(Oa[(0,Y.s)(b.schema,Xa).property]=ln(we.attrs[Xa]));(0,B.ok)(we.startTag,"a start tag should exist");const ts=ln(we.startTag),is=we.endTag?ln(we.endTag):void 0,Co={opening:ts};is&&(Co.closing=is),Co.properties=Oa,L.data={position:Co}}}return On}function ln(b){const L=tt({line:b.startLine,column:b.startCol,offset:b.startOffset}),we=tt({line:b.endLine,column:b.endCol,offset:b.endOffset});return L||we?{start:L,end:we}:void 0}function tt(b){return b.line&&b.column?b:void 0}const Pe={}.hasOwnProperty;function Qe(b,L){const we=L||{};function On(_i,...Oa){let Xa=On.invalid;const ts=On.handlers;if(_i&&Pe.call(_i,b)){const is=String(_i[b]);Xa=Pe.call(ts,is)?ts[is]:On.unknown}if(Xa)return Xa.call(this,_i,...Oa)}return On.handlers=we.handlers||{},On.invalid=we.invalid,On.unknown=we.unknown,On}const He={},_t={}.hasOwnProperty,Bt=Qe("type",{handlers:{root:Je,element:ct,text:Ot,comment:Xe,doctype:mn}});function At(b,L){const On=(L||He).space;return Bt(b,On==="svg"?ne.YP:ne.dy)}function Je(b,L){const we={nodeName:"#document",mode:(b.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return we.childNodes=Oe(b.children,we,L),Ge(b,we),we}function zt(b,L){const we={nodeName:"#document-fragment",childNodes:[]};return we.childNodes=Oe(b.children,we,L),Ge(b,we),we}function mn(b){const L={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Ge(b,L),L}function Ot(b){const L={nodeName:"#text",value:b.value,parentNode:null};return Ge(b,L),L}function Xe(b){const L={nodeName:"#comment",data:b.value,parentNode:null};return Ge(b,L),L}function ct(b,L){const we=L;let On=we;b.type==="element"&&b.tagName.toLowerCase()==="svg"&&we.space==="html"&&(On=ne.YP);const _i=[];let Oa;if(b.properties){for(Oa in b.properties)if(Oa!=="children"&&_t.call(b.properties,Oa)){const is=Rt(On,Oa,b.properties[Oa]);is&&_i.push(is)}}const Xa=On.space;(0,B.ok)(Xa);const ts={nodeName:b.tagName,tagName:b.tagName,attrs:_i,namespaceURI:Ke[Xa],childNodes:[],parentNode:null};return ts.childNodes=Oe(b.children,ts,On),Ge(b,ts),b.tagName==="template"&&b.content&&(ts.content=zt(b.content,On)),ts}function Rt(b,L,we){const On=(0,Y.s)(b,L);if(we===!1||we===null||we===void 0||typeof we=="number"&&Number.isNaN(we)||!we&&On.boolean)return;Array.isArray(we)&&(we=On.commaSeparated?(0,ue.P)(we):(0,H.P)(we));const _i={name:On.attribute,value:we===!0?"":String(we)};if(On.space&&On.space!=="html"&&On.space!=="svg"){const Oa=_i.name.indexOf(":");Oa<0?_i.prefix="":(_i.name=_i.name.slice(Oa+1),_i.prefix=On.attribute.slice(0,Oa)),_i.namespace=Ke[On.space]}return _i}function Oe(b,L,we){let On=-1;const _i=[];if(b)for(;++On<b.length;){const Oa=Bt(b[On],we);Oa.parentNode=L,_i.push(Oa)}return _i}function Ge(b,L){const we=b.position;we&&we.start&&we.end&&((0,B.ok)(typeof we.start.offset=="number"),(0,B.ok)(typeof we.end.offset=="number"),L.sourceCodeLocation={startLine:we.start.line,startCol:we.start.column,startOffset:we.start.offset,endLine:we.end.line,endCol:we.end.column,endOffset:we.end.offset})}const Vt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],De=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),et="\uFFFD";var Ce;(function(b){b[b.EOF=-1]="EOF",b[b.NULL=0]="NULL",b[b.TABULATION=9]="TABULATION",b[b.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",b[b.LINE_FEED=10]="LINE_FEED",b[b.FORM_FEED=12]="FORM_FEED",b[b.SPACE=32]="SPACE",b[b.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",b[b.QUOTATION_MARK=34]="QUOTATION_MARK",b[b.AMPERSAND=38]="AMPERSAND",b[b.APOSTROPHE=39]="APOSTROPHE",b[b.HYPHEN_MINUS=45]="HYPHEN_MINUS",b[b.SOLIDUS=47]="SOLIDUS",b[b.DIGIT_0=48]="DIGIT_0",b[b.DIGIT_9=57]="DIGIT_9",b[b.SEMICOLON=59]="SEMICOLON",b[b.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",b[b.EQUALS_SIGN=61]="EQUALS_SIGN",b[b.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",b[b.QUESTION_MARK=63]="QUESTION_MARK",b[b.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",b[b.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",b[b.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",b[b.GRAVE_ACCENT=96]="GRAVE_ACCENT",b[b.LATIN_SMALL_A=97]="LATIN_SMALL_A",b[b.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(Ce||(Ce={}));const J={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Le(b){return b>=55296&&b<=57343}function Jt(b){return b>=56320&&b<=57343}function Be(b,L){return(b-55296)*1024+9216+L}function In(b){return b!==32&&b!==10&&b!==13&&b!==9&&b!==12&&b>=1&&b<=31||b>=127&&b<=159}function cr(b){return b>=64976&&b<=65007||De.has(b)}var bn;(function(b){b.controlCharacterInInputStream="control-character-in-input-stream",b.noncharacterInInputStream="noncharacter-in-input-stream",b.surrogateInInputStream="surrogate-in-input-stream",b.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",b.endTagWithAttributes="end-tag-with-attributes",b.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",b.unexpectedSolidusInTag="unexpected-solidus-in-tag",b.unexpectedNullCharacter="unexpected-null-character",b.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",b.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",b.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",b.missingEndTagName="missing-end-tag-name",b.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",b.unknownNamedCharacterReference="unknown-named-character-reference",b.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",b.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",b.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",b.eofBeforeTagName="eof-before-tag-name",b.eofInTag="eof-in-tag",b.missingAttributeValue="missing-attribute-value",b.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",b.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",b.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",b.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",b.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",b.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",b.missingDoctypePublicIdentifier="missing-doctype-public-identifier",b.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",b.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",b.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",b.cdataInHtmlContent="cdata-in-html-content",b.incorrectlyOpenedComment="incorrectly-opened-comment",b.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",b.eofInDoctype="eof-in-doctype",b.nestedComment="nested-comment",b.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",b.eofInComment="eof-in-comment",b.incorrectlyClosedComment="incorrectly-closed-comment",b.eofInCdata="eof-in-cdata",b.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",b.nullCharacterReference="null-character-reference",b.surrogateCharacterReference="surrogate-character-reference",b.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",b.controlCharacterReference="control-character-reference",b.noncharacterCharacterReference="noncharacter-character-reference",b.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",b.missingDoctypeName="missing-doctype-name",b.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",b.duplicateAttribute="duplicate-attribute",b.nonConformingDoctype="non-conforming-doctype",b.missingDoctype="missing-doctype",b.misplacedDoctype="misplaced-doctype",b.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",b.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",b.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",b.openElementsLeftAfterEof="open-elements-left-after-eof",b.abandonedHeadElementChild="abandoned-head-element-child",b.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",b.nestedNoscriptInHead="nested-noscript-in-head",b.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(bn||(bn={}));const ir=65536;class Nr{constructor(L){this.handler=L,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=ir,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(L,we){const{line:On,col:_i,offset:Oa}=this,Xa=_i+we,ts=Oa+we;return{code:L,startLine:On,endLine:On,startCol:Xa,endCol:Xa,startOffset:ts,endOffset:ts}}_err(L){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(L,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(L){if(this.pos!==this.html.length-1){const we=this.html.charCodeAt(this.pos+1);if(Jt(we))return this.pos++,this._addGap(),Be(L,we)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Ce.EOF;return this._err(bn.surrogateInInputStream),L}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(L,we){this.html.length>0?this.html+=L:this.html=L,this.endOfChunkHit=!1,this.lastChunkWritten=we}insertHtmlAtCurrentPos(L){this.html=this.html.substring(0,this.pos+1)+L+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(L,we){if(this.pos+L.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(we)return this.html.startsWith(L,this.pos);for(let On=0;On<L.length;On++)if((this.html.charCodeAt(this.pos+On)|32)!==L.charCodeAt(On))return!1;return!0}peek(L){const we=this.pos+L;if(we>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Ce.EOF;const On=this.html.charCodeAt(we);return On===Ce.CARRIAGE_RETURN?Ce.LINE_FEED:On}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Ce.EOF;let L=this.html.charCodeAt(this.pos);return L===Ce.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Ce.LINE_FEED):L===Ce.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Le(L)&&(L=this._processSurrogate(L)),this.handler.onParseError===null||L>31&&L<127||L===Ce.LINE_FEED||L===Ce.CARRIAGE_RETURN||L>159&&L<64976||this._checkForProblematicCharacters(L),L)}_checkForProblematicCharacters(L){In(L)?this._err(bn.controlCharacterInInputStream):cr(L)&&this._err(bn.noncharacterInInputStream)}retreat(L){for(this.pos-=L;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ar;(function(b){b[b.CHARACTER=0]="CHARACTER",b[b.NULL_CHARACTER=1]="NULL_CHARACTER",b[b.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",b[b.START_TAG=3]="START_TAG",b[b.END_TAG=4]="END_TAG",b[b.COMMENT=5]="COMMENT",b[b.DOCTYPE=6]="DOCTYPE",b[b.EOF=7]="EOF",b[b.HIBERNATION=8]="HIBERNATION"})(Ar||(Ar={}));function Zr(b,L){for(let we=b.attrs.length-1;we>=0;we--)if(b.attrs[we].name===L)return b.attrs[we].value;return null}var wi=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(b=>b.charCodeAt(0))),Ln=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(b=>b.charCodeAt(0))),Nn;const $n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),wn=(Nn=String.fromCodePoint)!==null&&Nn!==void 0?Nn:function(b){let L="";return b>65535&&(b-=65536,L+=String.fromCharCode(b>>>10&1023|55296),b=56320|b&1023),L+=String.fromCharCode(b),L};function nt(b){var L;return b>=55296&&b<=57343||b>1114111?65533:(L=$n.get(b))!==null&&L!==void 0?L:b}function ze(b){return wn(nt(b))}var vt;(function(b){b[b.NUM=35]="NUM",b[b.SEMI=59]="SEMI",b[b.EQUALS=61]="EQUALS",b[b.ZERO=48]="ZERO",b[b.NINE=57]="NINE",b[b.LOWER_A=97]="LOWER_A",b[b.LOWER_F=102]="LOWER_F",b[b.LOWER_X=120]="LOWER_X",b[b.LOWER_Z=122]="LOWER_Z",b[b.UPPER_A=65]="UPPER_A",b[b.UPPER_F=70]="UPPER_F",b[b.UPPER_Z=90]="UPPER_Z"})(vt||(vt={}));const $t=32;var gn;(function(b){b[b.VALUE_LENGTH=49152]="VALUE_LENGTH",b[b.BRANCH_LENGTH=16256]="BRANCH_LENGTH",b[b.JUMP_TABLE=127]="JUMP_TABLE"})(gn||(gn={}));function at(b){return b>=vt.ZERO&&b<=vt.NINE}function an(b){return b>=vt.UPPER_A&&b<=vt.UPPER_F||b>=vt.LOWER_A&&b<=vt.LOWER_F}function hn(b){return b>=vt.UPPER_A&&b<=vt.UPPER_Z||b>=vt.LOWER_A&&b<=vt.LOWER_Z||at(b)}function pr(b){return b===vt.EQUALS||hn(b)}var ur;(function(b){b[b.EntityStart=0]="EntityStart",b[b.NumericStart=1]="NumericStart",b[b.NumericDecimal=2]="NumericDecimal",b[b.NumericHex=3]="NumericHex",b[b.NamedEntity=4]="NamedEntity"})(ur||(ur={}));var pi;(function(b){b[b.Legacy=0]="Legacy",b[b.Strict=1]="Strict",b[b.Attribute=2]="Attribute"})(pi||(pi={}));class ar{constructor(L,we,On){this.decodeTree=L,this.emitCodePoint=we,this.errors=On,this.state=ur.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=pi.Strict}startEntity(L){this.decodeMode=L,this.state=ur.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(L,we){switch(this.state){case ur.EntityStart:return L.charCodeAt(we)===vt.NUM?(this.state=ur.NumericStart,this.consumed+=1,this.stateNumericStart(L,we+1)):(this.state=ur.NamedEntity,this.stateNamedEntity(L,we));case ur.NumericStart:return this.stateNumericStart(L,we);case ur.NumericDecimal:return this.stateNumericDecimal(L,we);case ur.NumericHex:return this.stateNumericHex(L,we);case ur.NamedEntity:return this.stateNamedEntity(L,we)}}stateNumericStart(L,we){return we>=L.length?-1:(L.charCodeAt(we)|$t)===vt.LOWER_X?(this.state=ur.NumericHex,this.consumed+=1,this.stateNumericHex(L,we+1)):(this.state=ur.NumericDecimal,this.stateNumericDecimal(L,we))}addToNumericResult(L,we,On,_i){if(we!==On){const Oa=On-we;this.result=this.result*Math.pow(_i,Oa)+parseInt(L.substr(we,Oa),_i),this.consumed+=Oa}}stateNumericHex(L,we){const On=we;for(;we<L.length;){const _i=L.charCodeAt(we);if(at(_i)||an(_i))we+=1;else return this.addToNumericResult(L,On,we,16),this.emitNumericEntity(_i,3)}return this.addToNumericResult(L,On,we,16),-1}stateNumericDecimal(L,we){const On=we;for(;we<L.length;){const _i=L.charCodeAt(we);if(at(_i))we+=1;else return this.addToNumericResult(L,On,we,10),this.emitNumericEntity(_i,2)}return this.addToNumericResult(L,On,we,10),-1}emitNumericEntity(L,we){var On;if(this.consumed<=we)return(On=this.errors)===null||On===void 0||On.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(L===vt.SEMI)this.consumed+=1;else if(this.decodeMode===pi.Strict)return 0;return this.emitCodePoint(nt(this.result),this.consumed),this.errors&&(L!==vt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(L,we){const{decodeTree:On}=this;let _i=On[this.treeIndex],Oa=(_i&gn.VALUE_LENGTH)>>14;for(;we<L.length;we++,this.excess++){const Xa=L.charCodeAt(we);if(this.treeIndex=sa(On,_i,this.treeIndex+Math.max(1,Oa),Xa),this.treeIndex<0)return this.result===0||this.decodeMode===pi.Attribute&&(Oa===0||pr(Xa))?0:this.emitNotTerminatedNamedEntity();if(_i=On[this.treeIndex],Oa=(_i&gn.VALUE_LENGTH)>>14,Oa!==0){if(Xa===vt.SEMI)return this.emitNamedEntityData(this.treeIndex,Oa,this.consumed+this.excess);this.decodeMode!==pi.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var L;const{result:we,decodeTree:On}=this,_i=(On[we]&gn.VALUE_LENGTH)>>14;return this.emitNamedEntityData(we,_i,this.consumed),(L=this.errors)===null||L===void 0||L.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(L,we,On){const{decodeTree:_i}=this;return this.emitCodePoint(we===1?_i[L]&~gn.VALUE_LENGTH:_i[L+1],On),we===3&&this.emitCodePoint(_i[L+2],On),On}end(){var L;switch(this.state){case ur.NamedEntity:return this.result!==0&&(this.decodeMode!==pi.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ur.NumericDecimal:return this.emitNumericEntity(0,2);case ur.NumericHex:return this.emitNumericEntity(0,3);case ur.NumericStart:return(L=this.errors)===null||L===void 0||L.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ur.EntityStart:return 0}}}function di(b){let L="";const we=new ar(b,On=>L+=wn(On));return function(_i,Oa){let Xa=0,ts=0;for(;(ts=_i.indexOf("&",ts))>=0;){L+=_i.slice(Xa,ts),we.startEntity(Oa);const Co=we.write(_i,ts+1);if(Co<0){Xa=ts+we.end();break}Xa=ts+Co,ts=Co===0?Xa+1:Xa}const is=L+_i.slice(Xa);return L="",is}}function sa(b,L,we,On){const _i=(L&gn.BRANCH_LENGTH)>>7,Oa=L&gn.JUMP_TABLE;if(_i===0)return Oa!==0&&On===Oa?we:-1;if(Oa){const is=On-Oa;return is<0||is>=_i?-1:b[we+is]-1}let Xa=we,ts=Xa+_i-1;for(;Xa<=ts;){const is=Xa+ts>>>1,Co=b[is];if(Co<On)Xa=is+1;else if(Co>On)ts=is-1;else return b[is+_i]}return-1}const xa=di(wi),za=di(Ln);function Ui(b,L=pi.Legacy){return xa(b,L)}function Ao(b){return xa(b,pi.Attribute)}function fs(b){return xa(b,pi.Strict)}function cs(b){return za(b,pi.Strict)}var ra;(function(b){b.HTML="http://www.w3.org/1999/xhtml",b.MATHML="http://www.w3.org/1998/Math/MathML",b.SVG="http://www.w3.org/2000/svg",b.XLINK="http://www.w3.org/1999/xlink",b.XML="http://www.w3.org/XML/1998/namespace",b.XMLNS="http://www.w3.org/2000/xmlns/"})(ra||(ra={}));var ms;(function(b){b.TYPE="type",b.ACTION="action",b.ENCODING="encoding",b.PROMPT="prompt",b.NAME="name",b.COLOR="color",b.FACE="face",b.SIZE="size"})(ms||(ms={}));var xi;(function(b){b.NO_QUIRKS="no-quirks",b.QUIRKS="quirks",b.LIMITED_QUIRKS="limited-quirks"})(xi||(xi={}));var Gn;(function(b){b.A="a",b.ADDRESS="address",b.ANNOTATION_XML="annotation-xml",b.APPLET="applet",b.AREA="area",b.ARTICLE="article",b.ASIDE="aside",b.B="b",b.BASE="base",b.BASEFONT="basefont",b.BGSOUND="bgsound",b.BIG="big",b.BLOCKQUOTE="blockquote",b.BODY="body",b.BR="br",b.BUTTON="button",b.CAPTION="caption",b.CENTER="center",b.CODE="code",b.COL="col",b.COLGROUP="colgroup",b.DD="dd",b.DESC="desc",b.DETAILS="details",b.DIALOG="dialog",b.DIR="dir",b.DIV="div",b.DL="dl",b.DT="dt",b.EM="em",b.EMBED="embed",b.FIELDSET="fieldset",b.FIGCAPTION="figcaption",b.FIGURE="figure",b.FONT="font",b.FOOTER="footer",b.FOREIGN_OBJECT="foreignObject",b.FORM="form",b.FRAME="frame",b.FRAMESET="frameset",b.H1="h1",b.H2="h2",b.H3="h3",b.H4="h4",b.H5="h5",b.H6="h6",b.HEAD="head",b.HEADER="header",b.HGROUP="hgroup",b.HR="hr",b.HTML="html",b.I="i",b.IMG="img",b.IMAGE="image",b.INPUT="input",b.IFRAME="iframe",b.KEYGEN="keygen",b.LABEL="label",b.LI="li",b.LINK="link",b.LISTING="listing",b.MAIN="main",b.MALIGNMARK="malignmark",b.MARQUEE="marquee",b.MATH="math",b.MENU="menu",b.META="meta",b.MGLYPH="mglyph",b.MI="mi",b.MO="mo",b.MN="mn",b.MS="ms",b.MTEXT="mtext",b.NAV="nav",b.NOBR="nobr",b.NOFRAMES="noframes",b.NOEMBED="noembed",b.NOSCRIPT="noscript",b.OBJECT="object",b.OL="ol",b.OPTGROUP="optgroup",b.OPTION="option",b.P="p",b.PARAM="param",b.PLAINTEXT="plaintext",b.PRE="pre",b.RB="rb",b.RP="rp",b.RT="rt",b.RTC="rtc",b.RUBY="ruby",b.S="s",b.SCRIPT="script",b.SEARCH="search",b.SECTION="section",b.SELECT="select",b.SOURCE="source",b.SMALL="small",b.SPAN="span",b.STRIKE="strike",b.STRONG="strong",b.STYLE="style",b.SUB="sub",b.SUMMARY="summary",b.SUP="sup",b.TABLE="table",b.TBODY="tbody",b.TEMPLATE="template",b.TEXTAREA="textarea",b.TFOOT="tfoot",b.TD="td",b.TH="th",b.THEAD="thead",b.TITLE="title",b.TR="tr",b.TRACK="track",b.TT="tt",b.U="u",b.UL="ul",b.SVG="svg",b.VAR="var",b.WBR="wbr",b.XMP="xmp"})(Gn||(Gn={}));var _e;(function(b){b[b.UNKNOWN=0]="UNKNOWN",b[b.A=1]="A",b[b.ADDRESS=2]="ADDRESS",b[b.ANNOTATION_XML=3]="ANNOTATION_XML",b[b.APPLET=4]="APPLET",b[b.AREA=5]="AREA",b[b.ARTICLE=6]="ARTICLE",b[b.ASIDE=7]="ASIDE",b[b.B=8]="B",b[b.BASE=9]="BASE",b[b.BASEFONT=10]="BASEFONT",b[b.BGSOUND=11]="BGSOUND",b[b.BIG=12]="BIG",b[b.BLOCKQUOTE=13]="BLOCKQUOTE",b[b.BODY=14]="BODY",b[b.BR=15]="BR",b[b.BUTTON=16]="BUTTON",b[b.CAPTION=17]="CAPTION",b[b.CENTER=18]="CENTER",b[b.CODE=19]="CODE",b[b.COL=20]="COL",b[b.COLGROUP=21]="COLGROUP",b[b.DD=22]="DD",b[b.DESC=23]="DESC",b[b.DETAILS=24]="DETAILS",b[b.DIALOG=25]="DIALOG",b[b.DIR=26]="DIR",b[b.DIV=27]="DIV",b[b.DL=28]="DL",b[b.DT=29]="DT",b[b.EM=30]="EM",b[b.EMBED=31]="EMBED",b[b.FIELDSET=32]="FIELDSET",b[b.FIGCAPTION=33]="FIGCAPTION",b[b.FIGURE=34]="FIGURE",b[b.FONT=35]="FONT",b[b.FOOTER=36]="FOOTER",b[b.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",b[b.FORM=38]="FORM",b[b.FRAME=39]="FRAME",b[b.FRAMESET=40]="FRAMESET",b[b.H1=41]="H1",b[b.H2=42]="H2",b[b.H3=43]="H3",b[b.H4=44]="H4",b[b.H5=45]="H5",b[b.H6=46]="H6",b[b.HEAD=47]="HEAD",b[b.HEADER=48]="HEADER",b[b.HGROUP=49]="HGROUP",b[b.HR=50]="HR",b[b.HTML=51]="HTML",b[b.I=52]="I",b[b.IMG=53]="IMG",b[b.IMAGE=54]="IMAGE",b[b.INPUT=55]="INPUT",b[b.IFRAME=56]="IFRAME",b[b.KEYGEN=57]="KEYGEN",b[b.LABEL=58]="LABEL",b[b.LI=59]="LI",b[b.LINK=60]="LINK",b[b.LISTING=61]="LISTING",b[b.MAIN=62]="MAIN",b[b.MALIGNMARK=63]="MALIGNMARK",b[b.MARQUEE=64]="MARQUEE",b[b.MATH=65]="MATH",b[b.MENU=66]="MENU",b[b.META=67]="META",b[b.MGLYPH=68]="MGLYPH",b[b.MI=69]="MI",b[b.MO=70]="MO",b[b.MN=71]="MN",b[b.MS=72]="MS",b[b.MTEXT=73]="MTEXT",b[b.NAV=74]="NAV",b[b.NOBR=75]="NOBR",b[b.NOFRAMES=76]="NOFRAMES",b[b.NOEMBED=77]="NOEMBED",b[b.NOSCRIPT=78]="NOSCRIPT",b[b.OBJECT=79]="OBJECT",b[b.OL=80]="OL",b[b.OPTGROUP=81]="OPTGROUP",b[b.OPTION=82]="OPTION",b[b.P=83]="P",b[b.PARAM=84]="PARAM",b[b.PLAINTEXT=85]="PLAINTEXT",b[b.PRE=86]="PRE",b[b.RB=87]="RB",b[b.RP=88]="RP",b[b.RT=89]="RT",b[b.RTC=90]="RTC",b[b.RUBY=91]="RUBY",b[b.S=92]="S",b[b.SCRIPT=93]="SCRIPT",b[b.SEARCH=94]="SEARCH",b[b.SECTION=95]="SECTION",b[b.SELECT=96]="SELECT",b[b.SOURCE=97]="SOURCE",b[b.SMALL=98]="SMALL",b[b.SPAN=99]="SPAN",b[b.STRIKE=100]="STRIKE",b[b.STRONG=101]="STRONG",b[b.STYLE=102]="STYLE",b[b.SUB=103]="SUB",b[b.SUMMARY=104]="SUMMARY",b[b.SUP=105]="SUP",b[b.TABLE=106]="TABLE",b[b.TBODY=107]="TBODY",b[b.TEMPLATE=108]="TEMPLATE",b[b.TEXTAREA=109]="TEXTAREA",b[b.TFOOT=110]="TFOOT",b[b.TD=111]="TD",b[b.TH=112]="TH",b[b.THEAD=113]="THEAD",b[b.TITLE=114]="TITLE",b[b.TR=115]="TR",b[b.TRACK=116]="TRACK",b[b.TT=117]="TT",b[b.U=118]="U",b[b.UL=119]="UL",b[b.SVG=120]="SVG",b[b.VAR=121]="VAR",b[b.WBR=122]="WBR",b[b.XMP=123]="XMP"})(_e||(_e={}));const oi=new Map([[Gn.A,_e.A],[Gn.ADDRESS,_e.ADDRESS],[Gn.ANNOTATION_XML,_e.ANNOTATION_XML],[Gn.APPLET,_e.APPLET],[Gn.AREA,_e.AREA],[Gn.ARTICLE,_e.ARTICLE],[Gn.ASIDE,_e.ASIDE],[Gn.B,_e.B],[Gn.BASE,_e.BASE],[Gn.BASEFONT,_e.BASEFONT],[Gn.BGSOUND,_e.BGSOUND],[Gn.BIG,_e.BIG],[Gn.BLOCKQUOTE,_e.BLOCKQUOTE],[Gn.BODY,_e.BODY],[Gn.BR,_e.BR],[Gn.BUTTON,_e.BUTTON],[Gn.CAPTION,_e.CAPTION],[Gn.CENTER,_e.CENTER],[Gn.CODE,_e.CODE],[Gn.COL,_e.COL],[Gn.COLGROUP,_e.COLGROUP],[Gn.DD,_e.DD],[Gn.DESC,_e.DESC],[Gn.DETAILS,_e.DETAILS],[Gn.DIALOG,_e.DIALOG],[Gn.DIR,_e.DIR],[Gn.DIV,_e.DIV],[Gn.DL,_e.DL],[Gn.DT,_e.DT],[Gn.EM,_e.EM],[Gn.EMBED,_e.EMBED],[Gn.FIELDSET,_e.FIELDSET],[Gn.FIGCAPTION,_e.FIGCAPTION],[Gn.FIGURE,_e.FIGURE],[Gn.FONT,_e.FONT],[Gn.FOOTER,_e.FOOTER],[Gn.FOREIGN_OBJECT,_e.FOREIGN_OBJECT],[Gn.FORM,_e.FORM],[Gn.FRAME,_e.FRAME],[Gn.FRAMESET,_e.FRAMESET],[Gn.H1,_e.H1],[Gn.H2,_e.H2],[Gn.H3,_e.H3],[Gn.H4,_e.H4],[Gn.H5,_e.H5],[Gn.H6,_e.H6],[Gn.HEAD,_e.HEAD],[Gn.HEADER,_e.HEADER],[Gn.HGROUP,_e.HGROUP],[Gn.HR,_e.HR],[Gn.HTML,_e.HTML],[Gn.I,_e.I],[Gn.IMG,_e.IMG],[Gn.IMAGE,_e.IMAGE],[Gn.INPUT,_e.INPUT],[Gn.IFRAME,_e.IFRAME],[Gn.KEYGEN,_e.KEYGEN],[Gn.LABEL,_e.LABEL],[Gn.LI,_e.LI],[Gn.LINK,_e.LINK],[Gn.LISTING,_e.LISTING],[Gn.MAIN,_e.MAIN],[Gn.MALIGNMARK,_e.MALIGNMARK],[Gn.MARQUEE,_e.MARQUEE],[Gn.MATH,_e.MATH],[Gn.MENU,_e.MENU],[Gn.META,_e.META],[Gn.MGLYPH,_e.MGLYPH],[Gn.MI,_e.MI],[Gn.MO,_e.MO],[Gn.MN,_e.MN],[Gn.MS,_e.MS],[Gn.MTEXT,_e.MTEXT],[Gn.NAV,_e.NAV],[Gn.NOBR,_e.NOBR],[Gn.NOFRAMES,_e.NOFRAMES],[Gn.NOEMBED,_e.NOEMBED],[Gn.NOSCRIPT,_e.NOSCRIPT],[Gn.OBJECT,_e.OBJECT],[Gn.OL,_e.OL],[Gn.OPTGROUP,_e.OPTGROUP],[Gn.OPTION,_e.OPTION],[Gn.P,_e.P],[Gn.PARAM,_e.PARAM],[Gn.PLAINTEXT,_e.PLAINTEXT],[Gn.PRE,_e.PRE],[Gn.RB,_e.RB],[Gn.RP,_e.RP],[Gn.RT,_e.RT],[Gn.RTC,_e.RTC],[Gn.RUBY,_e.RUBY],[Gn.S,_e.S],[Gn.SCRIPT,_e.SCRIPT],[Gn.SEARCH,_e.SEARCH],[Gn.SECTION,_e.SECTION],[Gn.SELECT,_e.SELECT],[Gn.SOURCE,_e.SOURCE],[Gn.SMALL,_e.SMALL],[Gn.SPAN,_e.SPAN],[Gn.STRIKE,_e.STRIKE],[Gn.STRONG,_e.STRONG],[Gn.STYLE,_e.STYLE],[Gn.SUB,_e.SUB],[Gn.SUMMARY,_e.SUMMARY],[Gn.SUP,_e.SUP],[Gn.TABLE,_e.TABLE],[Gn.TBODY,_e.TBODY],[Gn.TEMPLATE,_e.TEMPLATE],[Gn.TEXTAREA,_e.TEXTAREA],[Gn.TFOOT,_e.TFOOT],[Gn.TD,_e.TD],[Gn.TH,_e.TH],[Gn.THEAD,_e.THEAD],[Gn.TITLE,_e.TITLE],[Gn.TR,_e.TR],[Gn.TRACK,_e.TRACK],[Gn.TT,_e.TT],[Gn.U,_e.U],[Gn.UL,_e.UL],[Gn.SVG,_e.SVG],[Gn.VAR,_e.VAR],[Gn.WBR,_e.WBR],[Gn.XMP,_e.XMP]]);function Ka(b){var L;return(L=oi.get(b))!==null&&L!==void 0?L:_e.UNKNOWN}const Cn=_e,Un={[ra.HTML]:new Set([Cn.ADDRESS,Cn.APPLET,Cn.AREA,Cn.ARTICLE,Cn.ASIDE,Cn.BASE,Cn.BASEFONT,Cn.BGSOUND,Cn.BLOCKQUOTE,Cn.BODY,Cn.BR,Cn.BUTTON,Cn.CAPTION,Cn.CENTER,Cn.COL,Cn.COLGROUP,Cn.DD,Cn.DETAILS,Cn.DIR,Cn.DIV,Cn.DL,Cn.DT,Cn.EMBED,Cn.FIELDSET,Cn.FIGCAPTION,Cn.FIGURE,Cn.FOOTER,Cn.FORM,Cn.FRAME,Cn.FRAMESET,Cn.H1,Cn.H2,Cn.H3,Cn.H4,Cn.H5,Cn.H6,Cn.HEAD,Cn.HEADER,Cn.HGROUP,Cn.HR,Cn.HTML,Cn.IFRAME,Cn.IMG,Cn.INPUT,Cn.LI,Cn.LINK,Cn.LISTING,Cn.MAIN,Cn.MARQUEE,Cn.MENU,Cn.META,Cn.NAV,Cn.NOEMBED,Cn.NOFRAMES,Cn.NOSCRIPT,Cn.OBJECT,Cn.OL,Cn.P,Cn.PARAM,Cn.PLAINTEXT,Cn.PRE,Cn.SCRIPT,Cn.SECTION,Cn.SELECT,Cn.SOURCE,Cn.STYLE,Cn.SUMMARY,Cn.TABLE,Cn.TBODY,Cn.TD,Cn.TEMPLATE,Cn.TEXTAREA,Cn.TFOOT,Cn.TH,Cn.THEAD,Cn.TITLE,Cn.TR,Cn.TRACK,Cn.UL,Cn.WBR,Cn.XMP]),[ra.MATHML]:new Set([Cn.MI,Cn.MO,Cn.MN,Cn.MS,Cn.MTEXT,Cn.ANNOTATION_XML]),[ra.SVG]:new Set([Cn.TITLE,Cn.FOREIGN_OBJECT,Cn.DESC]),[ra.XLINK]:new Set,[ra.XML]:new Set,[ra.XMLNS]:new Set},tn=new Set([Cn.H1,Cn.H2,Cn.H3,Cn.H4,Cn.H5,Cn.H6]),It=new Set([Gn.STYLE,Gn.SCRIPT,Gn.XMP,Gn.IFRAME,Gn.NOEMBED,Gn.NOFRAMES,Gn.PLAINTEXT]);function Zt(b,L){return It.has(b)||L&&b===Gn.NOSCRIPT}var $e;(function(b){b[b.DATA=0]="DATA",b[b.RCDATA=1]="RCDATA",b[b.RAWTEXT=2]="RAWTEXT",b[b.SCRIPT_DATA=3]="SCRIPT_DATA",b[b.PLAINTEXT=4]="PLAINTEXT",b[b.TAG_OPEN=5]="TAG_OPEN",b[b.END_TAG_OPEN=6]="END_TAG_OPEN",b[b.TAG_NAME=7]="TAG_NAME",b[b.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",b[b.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",b[b.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",b[b.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",b[b.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",b[b.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",b[b.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",b[b.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",b[b.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",b[b.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",b[b.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",b[b.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",b[b.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",b[b.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",b[b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",b[b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",b[b.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",b[b.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",b[b.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",b[b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",b[b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",b[b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",b[b.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",b[b.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",b[b.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",b[b.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",b[b.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",b[b.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",b[b.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",b[b.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",b[b.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",b[b.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",b[b.BOGUS_COMMENT=40]="BOGUS_COMMENT",b[b.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",b[b.COMMENT_START=42]="COMMENT_START",b[b.COMMENT_START_DASH=43]="COMMENT_START_DASH",b[b.COMMENT=44]="COMMENT",b[b.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",b[b.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",b[b.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",b[b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",b[b.COMMENT_END_DASH=49]="COMMENT_END_DASH",b[b.COMMENT_END=50]="COMMENT_END",b[b.COMMENT_END_BANG=51]="COMMENT_END_BANG",b[b.DOCTYPE=52]="DOCTYPE",b[b.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",b[b.DOCTYPE_NAME=54]="DOCTYPE_NAME",b[b.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",b[b.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",b[b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",b[b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",b[b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",b[b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",b[b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",b[b.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",b[b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",b[b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",b[b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",b[b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",b[b.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",b[b.CDATA_SECTION=68]="CDATA_SECTION",b[b.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",b[b.CDATA_SECTION_END=70]="CDATA_SECTION_END",b[b.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",b[b.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})($e||($e={}));const Bn={DATA:$e.DATA,RCDATA:$e.RCDATA,RAWTEXT:$e.RAWTEXT,SCRIPT_DATA:$e.SCRIPT_DATA,PLAINTEXT:$e.PLAINTEXT,CDATA_SECTION:$e.CDATA_SECTION};function Yn(b){return b>=Ce.DIGIT_0&&b<=Ce.DIGIT_9}function or(b){return b>=Ce.LATIN_CAPITAL_A&&b<=Ce.LATIN_CAPITAL_Z}function Ze(b){return b>=Ce.LATIN_SMALL_A&&b<=Ce.LATIN_SMALL_Z}function je(b){return Ze(b)||or(b)}function st(b){return je(b)||Yn(b)}function St(b){return b+32}function En(b){return b===Ce.SPACE||b===Ce.LINE_FEED||b===Ce.TABULATION||b===Ce.FORM_FEED}function fn(b){return En(b)||b===Ce.SOLIDUS||b===Ce.GREATER_THAN_SIGN}function sn(b){return b===Ce.NULL?bn.nullCharacterReference:b>1114111?bn.characterReferenceOutsideUnicodeRange:Le(b)?bn.surrogateCharacterReference:cr(b)?bn.noncharacterCharacterReference:In(b)||b===Ce.CARRIAGE_RETURN?bn.controlCharacterReference:null}class Pn{constructor(L,we){this.options=L,this.handler=we,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=$e.DATA,this.returnState=$e.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Nr(we),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ar(wi,(On,_i)=>{this.preprocessor.pos=this.entityStartPos+_i-1,this._flushCodePointConsumedAsCharacterReference(On)},we.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(bn.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:On=>{this._err(bn.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+On)},validateNumericCharacterReference:On=>{const _i=sn(On);_i&&this._err(_i,1)}}:void 0)}_err(L,we=0){var On,_i;(_i=(On=this.handler).onParseError)===null||_i===void 0||_i.call(On,this.preprocessor.getError(L,we))}getCurrentLocation(L){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-L,startOffset:this.preprocessor.offset-L,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const L=this._consume();this._ensureHibernation()||this._callState(L)}this.inLoop=!1}}pause(){this.paused=!0}resume(L){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||L==null||L())}write(L,we,On){this.active=!0,this.preprocessor.write(L,we),this._runParsingLoop(),this.paused||On==null||On()}insertHtmlAtCurrentPos(L){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(L),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(L){this.consumedAfterSnapshot+=L;for(let we=0;we<L;we++)this.preprocessor.advance()}_consumeSequenceIfMatch(L,we){return this.preprocessor.startsWith(L,we)?(this._advanceBy(L.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ar.START_TAG,tagName:"",tagID:_e.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ar.END_TAG,tagName:"",tagID:_e.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(L){this.currentToken={type:Ar.COMMENT,data:"",location:this.getCurrentLocation(L)}}_createDoctypeToken(L){this.currentToken={type:Ar.DOCTYPE,name:L,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(L,we){this.currentCharacterToken={type:L,chars:we,location:this.currentLocation}}_createAttr(L){this.currentAttr={name:L,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var L,we;const On=this.currentToken;if(Zr(On,this.currentAttr.name)===null){if(On.attrs.push(this.currentAttr),On.location&&this.currentLocation){const _i=(L=(we=On.location).attrs)!==null&&L!==void 0?L:we.attrs=Object.create(null);_i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(bn.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(L){this._emitCurrentCharacterToken(L.location),this.currentToken=null,L.location&&(L.location.endLine=this.preprocessor.line,L.location.endCol=this.preprocessor.col+1,L.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const L=this.currentToken;this.prepareToken(L),L.tagID=Ka(L.tagName),L.type===Ar.START_TAG?(this.lastStartTagName=L.tagName,this.handler.onStartTag(L)):(L.attrs.length>0&&this._err(bn.endTagWithAttributes),L.selfClosing&&this._err(bn.endTagWithTrailingSolidus),this.handler.onEndTag(L)),this.preprocessor.dropParsedChunk()}emitCurrentComment(L){this.prepareToken(L),this.handler.onComment(L),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(L){this.prepareToken(L),this.handler.onDoctype(L),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(L){if(this.currentCharacterToken){switch(L&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=L.startLine,this.currentCharacterToken.location.endCol=L.startCol,this.currentCharacterToken.location.endOffset=L.startOffset),this.currentCharacterToken.type){case Ar.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ar.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ar.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const L=this.getCurrentLocation(0);L&&(L.endLine=L.startLine,L.endCol=L.startCol,L.endOffset=L.startOffset),this._emitCurrentCharacterToken(L),this.handler.onEof({type:Ar.EOF,location:L}),this.active=!1}_appendCharToCurrentCharacterToken(L,we){if(this.currentCharacterToken)if(this.currentCharacterToken.type===L){this.currentCharacterToken.chars+=we;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(L,we)}_emitCodePoint(L){const we=En(L)?Ar.WHITESPACE_CHARACTER:L===Ce.NULL?Ar.NULL_CHARACTER:Ar.CHARACTER;this._appendCharToCurrentCharacterToken(we,String.fromCodePoint(L))}_emitChars(L){this._appendCharToCurrentCharacterToken(Ar.CHARACTER,L)}_startCharacterReference(){this.returnState=this.state,this.state=$e.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?pi.Attribute:pi.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===$e.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===$e.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===$e.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(L){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(L):this._emitCodePoint(L)}_callState(L){switch(this.state){case $e.DATA:{this._stateData(L);break}case $e.RCDATA:{this._stateRcdata(L);break}case $e.RAWTEXT:{this._stateRawtext(L);break}case $e.SCRIPT_DATA:{this._stateScriptData(L);break}case $e.PLAINTEXT:{this._statePlaintext(L);break}case $e.TAG_OPEN:{this._stateTagOpen(L);break}case $e.END_TAG_OPEN:{this._stateEndTagOpen(L);break}case $e.TAG_NAME:{this._stateTagName(L);break}case $e.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(L);break}case $e.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(L);break}case $e.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(L);break}case $e.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(L);break}case $e.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(L);break}case $e.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(L);break}case $e.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(L);break}case $e.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(L);break}case $e.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(L);break}case $e.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(L);break}case $e.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(L);break}case $e.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(L);break}case $e.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(L);break}case $e.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(L);break}case $e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(L);break}case $e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(L);break}case $e.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(L);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(L);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(L);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(L);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(L);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(L);break}case $e.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(L);break}case $e.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(L);break}case $e.ATTRIBUTE_NAME:{this._stateAttributeName(L);break}case $e.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(L);break}case $e.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(L);break}case $e.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(L);break}case $e.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(L);break}case $e.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(L);break}case $e.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(L);break}case $e.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(L);break}case $e.BOGUS_COMMENT:{this._stateBogusComment(L);break}case $e.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(L);break}case $e.COMMENT_START:{this._stateCommentStart(L);break}case $e.COMMENT_START_DASH:{this._stateCommentStartDash(L);break}case $e.COMMENT:{this._stateComment(L);break}case $e.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(L);break}case $e.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(L);break}case $e.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(L);break}case $e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(L);break}case $e.COMMENT_END_DASH:{this._stateCommentEndDash(L);break}case $e.COMMENT_END:{this._stateCommentEnd(L);break}case $e.COMMENT_END_BANG:{this._stateCommentEndBang(L);break}case $e.DOCTYPE:{this._stateDoctype(L);break}case $e.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(L);break}case $e.DOCTYPE_NAME:{this._stateDoctypeName(L);break}case $e.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(L);break}case $e.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(L);break}case $e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(L);break}case $e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(L);break}case $e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(L);break}case $e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(L);break}case $e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(L);break}case $e.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(L);break}case $e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(L);break}case $e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(L);break}case $e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(L);break}case $e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(L);break}case $e.BOGUS_DOCTYPE:{this._stateBogusDoctype(L);break}case $e.CDATA_SECTION:{this._stateCdataSection(L);break}case $e.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(L);break}case $e.CDATA_SECTION_END:{this._stateCdataSectionEnd(L);break}case $e.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case $e.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(L);break}default:throw new Error("Unknown state")}}_stateData(L){switch(L){case Ce.LESS_THAN_SIGN:{this.state=$e.TAG_OPEN;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._emitCodePoint(L);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(L)}}_stateRcdata(L){switch(L){case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.LESS_THAN_SIGN:{this.state=$e.RCDATA_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._emitChars(et);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(L)}}_stateRawtext(L){switch(L){case Ce.LESS_THAN_SIGN:{this.state=$e.RAWTEXT_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._emitChars(et);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(L)}}_stateScriptData(L){switch(L){case Ce.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._emitChars(et);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(L)}}_statePlaintext(L){switch(L){case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._emitChars(et);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(L)}}_stateTagOpen(L){if(je(L))this._createStartTagToken(),this.state=$e.TAG_NAME,this._stateTagName(L);else switch(L){case Ce.EXCLAMATION_MARK:{this.state=$e.MARKUP_DECLARATION_OPEN;break}case Ce.SOLIDUS:{this.state=$e.END_TAG_OPEN;break}case Ce.QUESTION_MARK:{this._err(bn.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=$e.BOGUS_COMMENT,this._stateBogusComment(L);break}case Ce.EOF:{this._err(bn.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(bn.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=$e.DATA,this._stateData(L)}}_stateEndTagOpen(L){if(je(L))this._createEndTagToken(),this.state=$e.TAG_NAME,this._stateTagName(L);else switch(L){case Ce.GREATER_THAN_SIGN:{this._err(bn.missingEndTagName),this.state=$e.DATA;break}case Ce.EOF:{this._err(bn.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(bn.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=$e.BOGUS_COMMENT,this._stateBogusComment(L)}}_stateTagName(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=$e.BEFORE_ATTRIBUTE_NAME;break}case Ce.SOLIDUS:{this.state=$e.SELF_CLOSING_START_TAG;break}case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentTagToken();break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.tagName+=et;break}case Ce.EOF:{this._err(bn.eofInTag),this._emitEOFToken();break}default:we.tagName+=String.fromCodePoint(or(L)?St(L):L)}}_stateRcdataLessThanSign(L){L===Ce.SOLIDUS?this.state=$e.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=$e.RCDATA,this._stateRcdata(L))}_stateRcdataEndTagOpen(L){je(L)?(this.state=$e.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(L)):(this._emitChars("</"),this.state=$e.RCDATA,this._stateRcdata(L))}handleSpecialEndTag(L){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const we=this.currentToken;switch(we.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=$e.BEFORE_ATTRIBUTE_NAME,!1;case Ce.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=$e.SELF_CLOSING_START_TAG,!1;case Ce.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=$e.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(L){this.handleSpecialEndTag(L)&&(this._emitChars("</"),this.state=$e.RCDATA,this._stateRcdata(L))}_stateRawtextLessThanSign(L){L===Ce.SOLIDUS?this.state=$e.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=$e.RAWTEXT,this._stateRawtext(L))}_stateRawtextEndTagOpen(L){je(L)?(this.state=$e.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(L)):(this._emitChars("</"),this.state=$e.RAWTEXT,this._stateRawtext(L))}_stateRawtextEndTagName(L){this.handleSpecialEndTag(L)&&(this._emitChars("</"),this.state=$e.RAWTEXT,this._stateRawtext(L))}_stateScriptDataLessThanSign(L){switch(L){case Ce.SOLIDUS:{this.state=$e.SCRIPT_DATA_END_TAG_OPEN;break}case Ce.EXCLAMATION_MARK:{this.state=$e.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=$e.SCRIPT_DATA,this._stateScriptData(L)}}_stateScriptDataEndTagOpen(L){je(L)?(this.state=$e.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(L)):(this._emitChars("</"),this.state=$e.SCRIPT_DATA,this._stateScriptData(L))}_stateScriptDataEndTagName(L){this.handleSpecialEndTag(L)&&(this._emitChars("</"),this.state=$e.SCRIPT_DATA,this._stateScriptData(L))}_stateScriptDataEscapeStart(L){L===Ce.HYPHEN_MINUS?(this.state=$e.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=$e.SCRIPT_DATA,this._stateScriptData(L))}_stateScriptDataEscapeStartDash(L){L===Ce.HYPHEN_MINUS?(this.state=$e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=$e.SCRIPT_DATA,this._stateScriptData(L))}_stateScriptDataEscaped(L){switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._emitChars(et);break}case Ce.EOF:{this._err(bn.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(L)}}_stateScriptDataEscapedDash(L){switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_ESCAPED,this._emitChars(et);break}case Ce.EOF:{this._err(bn.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(L)}}_stateScriptDataEscapedDashDash(L){switch(L){case Ce.HYPHEN_MINUS:{this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ce.GREATER_THAN_SIGN:{this.state=$e.SCRIPT_DATA,this._emitChars(">");break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_ESCAPED,this._emitChars(et);break}case Ce.EOF:{this._err(bn.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(L)}}_stateScriptDataEscapedLessThanSign(L){L===Ce.SOLIDUS?this.state=$e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:je(L)?(this._emitChars("<"),this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(L)):(this._emitChars("<"),this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(L))}_stateScriptDataEscapedEndTagOpen(L){je(L)?(this.state=$e.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(L)):(this._emitChars("</"),this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(L))}_stateScriptDataEscapedEndTagName(L){this.handleSpecialEndTag(L)&&(this._emitChars("</"),this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(L))}_stateScriptDataDoubleEscapeStart(L){if(this.preprocessor.startsWith(J.SCRIPT,!1)&&fn(this.preprocessor.peek(J.SCRIPT.length))){this._emitCodePoint(L);for(let we=0;we<J.SCRIPT.length;we++)this._emitCodePoint(this._consume());this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=$e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(L))}_stateScriptDataDoubleEscaped(L){switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._emitChars(et);break}case Ce.EOF:{this._err(bn.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(L)}}_stateScriptDataDoubleEscapedDash(L){switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(et);break}case Ce.EOF:{this._err(bn.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(L)}}_stateScriptDataDoubleEscapedDashDash(L){switch(L){case Ce.HYPHEN_MINUS:{this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ce.GREATER_THAN_SIGN:{this.state=$e.SCRIPT_DATA,this._emitChars(">");break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(et);break}case Ce.EOF:{this._err(bn.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(L)}}_stateScriptDataDoubleEscapedLessThanSign(L){L===Ce.SOLIDUS?(this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(L))}_stateScriptDataDoubleEscapeEnd(L){if(this.preprocessor.startsWith(J.SCRIPT,!1)&&fn(this.preprocessor.peek(J.SCRIPT.length))){this._emitCodePoint(L);for(let we=0;we<J.SCRIPT.length;we++)this._emitCodePoint(this._consume());this.state=$e.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=$e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(L))}_stateBeforeAttributeName(L){switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.SOLIDUS:case Ce.GREATER_THAN_SIGN:case Ce.EOF:{this.state=$e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(L);break}case Ce.EQUALS_SIGN:{this._err(bn.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=$e.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=$e.ATTRIBUTE_NAME,this._stateAttributeName(L)}}_stateAttributeName(L){switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:case Ce.SOLIDUS:case Ce.GREATER_THAN_SIGN:case Ce.EOF:{this._leaveAttrName(),this.state=$e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(L);break}case Ce.EQUALS_SIGN:{this._leaveAttrName(),this.state=$e.BEFORE_ATTRIBUTE_VALUE;break}case Ce.QUOTATION_MARK:case Ce.APOSTROPHE:case Ce.LESS_THAN_SIGN:{this._err(bn.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(L);break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.currentAttr.name+=et;break}default:this.currentAttr.name+=String.fromCodePoint(or(L)?St(L):L)}}_stateAfterAttributeName(L){switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.SOLIDUS:{this.state=$e.SELF_CLOSING_START_TAG;break}case Ce.EQUALS_SIGN:{this.state=$e.BEFORE_ATTRIBUTE_VALUE;break}case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentTagToken();break}case Ce.EOF:{this._err(bn.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=$e.ATTRIBUTE_NAME,this._stateAttributeName(L)}}_stateBeforeAttributeValue(L){switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.QUOTATION_MARK:{this.state=$e.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this.state=$e.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.missingAttributeValue),this.state=$e.DATA,this.emitCurrentTagToken();break}default:this.state=$e.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(L)}}_stateAttributeValueDoubleQuoted(L){switch(L){case Ce.QUOTATION_MARK:{this.state=$e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.currentAttr.value+=et;break}case Ce.EOF:{this._err(bn.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(L)}}_stateAttributeValueSingleQuoted(L){switch(L){case Ce.APOSTROPHE:{this.state=$e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.currentAttr.value+=et;break}case Ce.EOF:{this._err(bn.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(L)}}_stateAttributeValueUnquoted(L){switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this._leaveAttrValue(),this.state=$e.BEFORE_ATTRIBUTE_NAME;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$e.DATA,this.emitCurrentTagToken();break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this.currentAttr.value+=et;break}case Ce.QUOTATION_MARK:case Ce.APOSTROPHE:case Ce.LESS_THAN_SIGN:case Ce.EQUALS_SIGN:case Ce.GRAVE_ACCENT:{this._err(bn.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(L);break}case Ce.EOF:{this._err(bn.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(L)}}_stateAfterAttributeValueQuoted(L){switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this._leaveAttrValue(),this.state=$e.BEFORE_ATTRIBUTE_NAME;break}case Ce.SOLIDUS:{this._leaveAttrValue(),this.state=$e.SELF_CLOSING_START_TAG;break}case Ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$e.DATA,this.emitCurrentTagToken();break}case Ce.EOF:{this._err(bn.eofInTag),this._emitEOFToken();break}default:this._err(bn.missingWhitespaceBetweenAttributes),this.state=$e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(L)}}_stateSelfClosingStartTag(L){switch(L){case Ce.GREATER_THAN_SIGN:{const we=this.currentToken;we.selfClosing=!0,this.state=$e.DATA,this.emitCurrentTagToken();break}case Ce.EOF:{this._err(bn.eofInTag),this._emitEOFToken();break}default:this._err(bn.unexpectedSolidusInTag),this.state=$e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(L)}}_stateBogusComment(L){const we=this.currentToken;switch(L){case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentComment(we);break}case Ce.EOF:{this.emitCurrentComment(we),this._emitEOFToken();break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.data+=et;break}default:we.data+=String.fromCodePoint(L)}}_stateMarkupDeclarationOpen(L){this._consumeSequenceIfMatch(J.DASH_DASH,!0)?(this._createCommentToken(J.DASH_DASH.length+1),this.state=$e.COMMENT_START):this._consumeSequenceIfMatch(J.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(J.DOCTYPE.length+1),this.state=$e.DOCTYPE):this._consumeSequenceIfMatch(J.CDATA_START,!0)?this.inForeignNode?this.state=$e.CDATA_SECTION:(this._err(bn.cdataInHtmlContent),this._createCommentToken(J.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=$e.BOGUS_COMMENT):this._ensureHibernation()||(this._err(bn.incorrectlyOpenedComment),this._createCommentToken(2),this.state=$e.BOGUS_COMMENT,this._stateBogusComment(L))}_stateCommentStart(L){switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.COMMENT_START_DASH;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.abruptClosingOfEmptyComment),this.state=$e.DATA;const we=this.currentToken;this.emitCurrentComment(we);break}default:this.state=$e.COMMENT,this._stateComment(L)}}_stateCommentStartDash(L){const we=this.currentToken;switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.COMMENT_END;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.abruptClosingOfEmptyComment),this.state=$e.DATA,this.emitCurrentComment(we);break}case Ce.EOF:{this._err(bn.eofInComment),this.emitCurrentComment(we),this._emitEOFToken();break}default:we.data+="-",this.state=$e.COMMENT,this._stateComment(L)}}_stateComment(L){const we=this.currentToken;switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.COMMENT_END_DASH;break}case Ce.LESS_THAN_SIGN:{we.data+="<",this.state=$e.COMMENT_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.data+=et;break}case Ce.EOF:{this._err(bn.eofInComment),this.emitCurrentComment(we),this._emitEOFToken();break}default:we.data+=String.fromCodePoint(L)}}_stateCommentLessThanSign(L){const we=this.currentToken;switch(L){case Ce.EXCLAMATION_MARK:{we.data+="!",this.state=$e.COMMENT_LESS_THAN_SIGN_BANG;break}case Ce.LESS_THAN_SIGN:{we.data+="<";break}default:this.state=$e.COMMENT,this._stateComment(L)}}_stateCommentLessThanSignBang(L){L===Ce.HYPHEN_MINUS?this.state=$e.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=$e.COMMENT,this._stateComment(L))}_stateCommentLessThanSignBangDash(L){L===Ce.HYPHEN_MINUS?this.state=$e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=$e.COMMENT_END_DASH,this._stateCommentEndDash(L))}_stateCommentLessThanSignBangDashDash(L){L!==Ce.GREATER_THAN_SIGN&&L!==Ce.EOF&&this._err(bn.nestedComment),this.state=$e.COMMENT_END,this._stateCommentEnd(L)}_stateCommentEndDash(L){const we=this.currentToken;switch(L){case Ce.HYPHEN_MINUS:{this.state=$e.COMMENT_END;break}case Ce.EOF:{this._err(bn.eofInComment),this.emitCurrentComment(we),this._emitEOFToken();break}default:we.data+="-",this.state=$e.COMMENT,this._stateComment(L)}}_stateCommentEnd(L){const we=this.currentToken;switch(L){case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentComment(we);break}case Ce.EXCLAMATION_MARK:{this.state=$e.COMMENT_END_BANG;break}case Ce.HYPHEN_MINUS:{we.data+="-";break}case Ce.EOF:{this._err(bn.eofInComment),this.emitCurrentComment(we),this._emitEOFToken();break}default:we.data+="--",this.state=$e.COMMENT,this._stateComment(L)}}_stateCommentEndBang(L){const we=this.currentToken;switch(L){case Ce.HYPHEN_MINUS:{we.data+="--!",this.state=$e.COMMENT_END_DASH;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.incorrectlyClosedComment),this.state=$e.DATA,this.emitCurrentComment(we);break}case Ce.EOF:{this._err(bn.eofInComment),this.emitCurrentComment(we),this._emitEOFToken();break}default:we.data+="--!",this.state=$e.COMMENT,this._stateComment(L)}}_stateDoctype(L){switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=$e.BEFORE_DOCTYPE_NAME;break}case Ce.GREATER_THAN_SIGN:{this.state=$e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(L);break}case Ce.EOF:{this._err(bn.eofInDoctype),this._createDoctypeToken(null);const we=this.currentToken;we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.missingWhitespaceBeforeDoctypeName),this.state=$e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(L)}}_stateBeforeDoctypeName(L){if(or(L))this._createDoctypeToken(String.fromCharCode(St(L))),this.state=$e.DOCTYPE_NAME;else switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.NULL:{this._err(bn.unexpectedNullCharacter),this._createDoctypeToken(et),this.state=$e.DOCTYPE_NAME;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.missingDoctypeName),this._createDoctypeToken(null);const we=this.currentToken;we.forceQuirks=!0,this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.EOF:{this._err(bn.eofInDoctype),this._createDoctypeToken(null);const we=this.currentToken;we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(L)),this.state=$e.DOCTYPE_NAME}}_stateDoctypeName(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=$e.AFTER_DOCTYPE_NAME;break}case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentDoctype(we);break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.name+=et;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:we.name+=String.fromCodePoint(or(L)?St(L):L)}}_stateAfterDoctypeName(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentDoctype(we);break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(J.PUBLIC,!1)?this.state=$e.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(J.SYSTEM,!1)?this.state=$e.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(bn.invalidCharacterSequenceAfterDoctypeName),we.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L))}}_stateAfterDoctypePublicKeyword(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=$e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ce.QUOTATION_MARK:{this._err(bn.missingWhitespaceAfterDoctypePublicKeyword),we.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this._err(bn.missingWhitespaceAfterDoctypePublicKeyword),we.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.missingDoctypePublicIdentifier),we.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(we);break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.missingQuoteBeforeDoctypePublicIdentifier),we.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L)}}_stateBeforeDoctypePublicIdentifier(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.QUOTATION_MARK:{we.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{we.publicId="",this.state=$e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.missingDoctypePublicIdentifier),we.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(we);break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.missingQuoteBeforeDoctypePublicIdentifier),we.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L)}}_stateDoctypePublicIdentifierDoubleQuoted(L){const we=this.currentToken;switch(L){case Ce.QUOTATION_MARK:{this.state=$e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.publicId+=et;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.abruptDoctypePublicIdentifier),we.forceQuirks=!0,this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:we.publicId+=String.fromCodePoint(L)}}_stateDoctypePublicIdentifierSingleQuoted(L){const we=this.currentToken;switch(L){case Ce.APOSTROPHE:{this.state=$e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.publicId+=et;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.abruptDoctypePublicIdentifier),we.forceQuirks=!0,this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:we.publicId+=String.fromCodePoint(L)}}_stateAfterDoctypePublicIdentifier(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=$e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA,this.emitCurrentDoctype(we);break}case Ce.QUOTATION_MARK:{this._err(bn.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this._err(bn.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.missingQuoteBeforeDoctypeSystemIdentifier),we.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L)}}_stateBetweenDoctypePublicAndSystemIdentifiers(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.QUOTATION_MARK:{we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.missingQuoteBeforeDoctypeSystemIdentifier),we.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L)}}_stateAfterDoctypeSystemKeyword(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=$e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ce.QUOTATION_MARK:{this._err(bn.missingWhitespaceAfterDoctypeSystemKeyword),we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this._err(bn.missingWhitespaceAfterDoctypeSystemKeyword),we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.missingDoctypeSystemIdentifier),we.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(we);break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.missingQuoteBeforeDoctypeSystemIdentifier),we.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L)}}_stateBeforeDoctypeSystemIdentifier(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.QUOTATION_MARK:{we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{we.systemId="",this.state=$e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.missingDoctypeSystemIdentifier),we.forceQuirks=!0,this.state=$e.DATA,this.emitCurrentDoctype(we);break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.missingQuoteBeforeDoctypeSystemIdentifier),we.forceQuirks=!0,this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L)}}_stateDoctypeSystemIdentifierDoubleQuoted(L){const we=this.currentToken;switch(L){case Ce.QUOTATION_MARK:{this.state=$e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.systemId+=et;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.abruptDoctypeSystemIdentifier),we.forceQuirks=!0,this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:we.systemId+=String.fromCodePoint(L)}}_stateDoctypeSystemIdentifierSingleQuoted(L){const we=this.currentToken;switch(L){case Ce.APOSTROPHE:{this.state=$e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter),we.systemId+=et;break}case Ce.GREATER_THAN_SIGN:{this._err(bn.abruptDoctypeSystemIdentifier),we.forceQuirks=!0,this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:we.systemId+=String.fromCodePoint(L)}}_stateAfterDoctypeSystemIdentifier(L){const we=this.currentToken;switch(L){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.EOF:{this._err(bn.eofInDoctype),we.forceQuirks=!0,this.emitCurrentDoctype(we),this._emitEOFToken();break}default:this._err(bn.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=$e.BOGUS_DOCTYPE,this._stateBogusDoctype(L)}}_stateBogusDoctype(L){const we=this.currentToken;switch(L){case Ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(we),this.state=$e.DATA;break}case Ce.NULL:{this._err(bn.unexpectedNullCharacter);break}case Ce.EOF:{this.emitCurrentDoctype(we),this._emitEOFToken();break}default:}}_stateCdataSection(L){switch(L){case Ce.RIGHT_SQUARE_BRACKET:{this.state=$e.CDATA_SECTION_BRACKET;break}case Ce.EOF:{this._err(bn.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(L)}}_stateCdataSectionBracket(L){L===Ce.RIGHT_SQUARE_BRACKET?this.state=$e.CDATA_SECTION_END:(this._emitChars("]"),this.state=$e.CDATA_SECTION,this._stateCdataSection(L))}_stateCdataSectionEnd(L){switch(L){case Ce.GREATER_THAN_SIGN:{this.state=$e.DATA;break}case Ce.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=$e.CDATA_SECTION,this._stateCdataSection(L)}}_stateCharacterReference(){let L=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(L<0)if(this.preprocessor.lastChunkWritten)L=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}L===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(Ce.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&st(this.preprocessor.peek(1))?$e.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(L){st(L)?this._flushCodePointConsumedAsCharacterReference(L):(L===Ce.SEMICOLON&&this._err(bn.unknownNamedCharacterReference),this.state=this.returnState,this._callState(L))}}const Hn=new Set([_e.DD,_e.DT,_e.LI,_e.OPTGROUP,_e.OPTION,_e.P,_e.RB,_e.RP,_e.RT,_e.RTC]),Ut=new Set([...Hn,_e.CAPTION,_e.COLGROUP,_e.TBODY,_e.TD,_e.TFOOT,_e.TH,_e.THEAD,_e.TR]),Yt=new Set([_e.APPLET,_e.CAPTION,_e.HTML,_e.MARQUEE,_e.OBJECT,_e.TABLE,_e.TD,_e.TEMPLATE,_e.TH]),Xt=new Set([...Yt,_e.OL,_e.UL]),jt=new Set([...Yt,_e.BUTTON]),fr=new Set([_e.ANNOTATION_XML,_e.MI,_e.MN,_e.MO,_e.MS,_e.MTEXT]),vr=new Set([_e.DESC,_e.FOREIGN_OBJECT,_e.TITLE]),yr=new Set([_e.TR,_e.TEMPLATE,_e.HTML]),Br=new Set([_e.TBODY,_e.TFOOT,_e.THEAD,_e.TEMPLATE,_e.HTML]),Gi=new Set([_e.TABLE,_e.TEMPLATE,_e.HTML]),qi=new Set([_e.TD,_e.TH]);class $i{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(L,we,On){this.treeAdapter=we,this.handler=On,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=_e.UNKNOWN,this.current=L}_indexOf(L){return this.items.lastIndexOf(L,this.stackTop)}_isInTemplate(){return this.currentTagId===_e.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ra.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(L,we){this.stackTop++,this.items[this.stackTop]=L,this.current=L,this.tagIDs[this.stackTop]=we,this.currentTagId=we,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(L,we,!0)}pop(){const L=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(L,!0)}replace(L,we){const On=this._indexOf(L);this.items[On]=we,On===this.stackTop&&(this.current=we)}insertAfter(L,we,On){const _i=this._indexOf(L)+1;this.items.splice(_i,0,we),this.tagIDs.splice(_i,0,On),this.stackTop++,_i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,_i===this.stackTop)}popUntilTagNamePopped(L){let we=this.stackTop+1;do we=this.tagIDs.lastIndexOf(L,we-1);while(we>0&&this.treeAdapter.getNamespaceURI(this.items[we])!==ra.HTML);this.shortenToLength(we<0?0:we)}shortenToLength(L){for(;this.stackTop>=L;){const we=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(we,this.stackTop<L)}}popUntilElementPopped(L){const we=this._indexOf(L);this.shortenToLength(we<0?0:we)}popUntilPopped(L,we){const On=this._indexOfTagNames(L,we);this.shortenToLength(On<0?0:On)}popUntilNumberedHeaderPopped(){this.popUntilPopped(tn,ra.HTML)}popUntilTableCellPopped(){this.popUntilPopped(qi,ra.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(L,we){for(let On=this.stackTop;On>=0;On--)if(L.has(this.tagIDs[On])&&this.treeAdapter.getNamespaceURI(this.items[On])===we)return On;return-1}clearBackTo(L,we){const On=this._indexOfTagNames(L,we);this.shortenToLength(On+1)}clearBackToTableContext(){this.clearBackTo(Gi,ra.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Br,ra.HTML)}clearBackToTableRowContext(){this.clearBackTo(yr,ra.HTML)}remove(L){const we=this._indexOf(L);we>=0&&(we===this.stackTop?this.pop():(this.items.splice(we,1),this.tagIDs.splice(we,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(L,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===_e.BODY?this.items[1]:null}contains(L){return this._indexOf(L)>-1}getCommonAncestor(L){const we=this._indexOf(L)-1;return we>=0?this.items[we]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===_e.HTML}hasInDynamicScope(L,we){for(let On=this.stackTop;On>=0;On--){const _i=this.tagIDs[On];switch(this.treeAdapter.getNamespaceURI(this.items[On])){case ra.HTML:{if(_i===L)return!0;if(we.has(_i))return!1;break}case ra.SVG:{if(vr.has(_i))return!1;break}case ra.MATHML:{if(fr.has(_i))return!1;break}}}return!0}hasInScope(L){return this.hasInDynamicScope(L,Yt)}hasInListItemScope(L){return this.hasInDynamicScope(L,Xt)}hasInButtonScope(L){return this.hasInDynamicScope(L,jt)}hasNumberedHeaderInScope(){for(let L=this.stackTop;L>=0;L--){const we=this.tagIDs[L];switch(this.treeAdapter.getNamespaceURI(this.items[L])){case ra.HTML:{if(tn.has(we))return!0;if(Yt.has(we))return!1;break}case ra.SVG:{if(vr.has(we))return!1;break}case ra.MATHML:{if(fr.has(we))return!1;break}}}return!0}hasInTableScope(L){for(let we=this.stackTop;we>=0;we--)if(this.treeAdapter.getNamespaceURI(this.items[we])===ra.HTML)switch(this.tagIDs[we]){case L:return!0;case _e.TABLE:case _e.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let L=this.stackTop;L>=0;L--)if(this.treeAdapter.getNamespaceURI(this.items[L])===ra.HTML)switch(this.tagIDs[L]){case _e.TBODY:case _e.THEAD:case _e.TFOOT:return!0;case _e.TABLE:case _e.HTML:return!1}return!0}hasInSelectScope(L){for(let we=this.stackTop;we>=0;we--)if(this.treeAdapter.getNamespaceURI(this.items[we])===ra.HTML)switch(this.tagIDs[we]){case L:return!0;case _e.OPTION:case _e.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Hn.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Ut.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(L){for(;this.currentTagId!==L&&Ut.has(this.currentTagId);)this.pop()}}const Wi=3;var Ii;(function(b){b[b.Marker=0]="Marker",b[b.Element=1]="Element"})(Ii||(Ii={}));const Qa={type:Ii.Marker};class on{constructor(L){this.treeAdapter=L,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(L,we){const On=[],_i=we.length,Oa=this.treeAdapter.getTagName(L),Xa=this.treeAdapter.getNamespaceURI(L);for(let ts=0;ts<this.entries.length;ts++){const is=this.entries[ts];if(is.type===Ii.Marker)break;const{element:Co}=is;if(this.treeAdapter.getTagName(Co)===Oa&&this.treeAdapter.getNamespaceURI(Co)===Xa){const Vu=this.treeAdapter.getAttrList(Co);Vu.length===_i&&On.push({idx:ts,attrs:Vu})}}return On}_ensureNoahArkCondition(L){if(this.entries.length<Wi)return;const we=this.treeAdapter.getAttrList(L),On=this._getNoahArkConditionCandidates(L,we);if(On.length<Wi)return;const _i=new Map(we.map(Xa=>[Xa.name,Xa.value]));let Oa=0;for(let Xa=0;Xa<On.length;Xa++){const ts=On[Xa];ts.attrs.every(is=>_i.get(is.name)===is.value)&&(Oa+=1,Oa>=Wi&&this.entries.splice(ts.idx,1))}}insertMarker(){this.entries.unshift(Qa)}pushElement(L,we){this._ensureNoahArkCondition(L),this.entries.unshift({type:Ii.Element,element:L,token:we})}insertElementAfterBookmark(L,we){const On=this.entries.indexOf(this.bookmark);this.entries.splice(On,0,{type:Ii.Element,element:L,token:we})}removeEntry(L){const we=this.entries.indexOf(L);we>=0&&this.entries.splice(we,1)}clearToLastMarker(){const L=this.entries.indexOf(Qa);L>=0?this.entries.splice(0,L+1):this.entries.length=0}getElementEntryInScopeWithTagName(L){const we=this.entries.find(On=>On.type===Ii.Marker||this.treeAdapter.getTagName(On.element)===L);return we&&we.type===Ii.Element?we:null}getElementEntry(L){return this.entries.find(we=>we.type===Ii.Element&&we.element===L)}}const dn={createDocument(){return{nodeName:"#document",mode:xi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(b,L,we){return{nodeName:b,tagName:b,attrs:we,namespaceURI:L,childNodes:[],parentNode:null}},createCommentNode(b){return{nodeName:"#comment",data:b,parentNode:null}},createTextNode(b){return{nodeName:"#text",value:b,parentNode:null}},appendChild(b,L){b.childNodes.push(L),L.parentNode=b},insertBefore(b,L,we){const On=b.childNodes.indexOf(we);b.childNodes.splice(On,0,L),L.parentNode=b},setTemplateContent(b,L){b.content=L},getTemplateContent(b){return b.content},setDocumentType(b,L,we,On){const _i=b.childNodes.find(Oa=>Oa.nodeName==="#documentType");if(_i)_i.name=L,_i.publicId=we,_i.systemId=On;else{const Oa={nodeName:"#documentType",name:L,publicId:we,systemId:On,parentNode:null};dn.appendChild(b,Oa)}},setDocumentMode(b,L){b.mode=L},getDocumentMode(b){return b.mode},detachNode(b){if(b.parentNode){const L=b.parentNode.childNodes.indexOf(b);b.parentNode.childNodes.splice(L,1),b.parentNode=null}},insertText(b,L){if(b.childNodes.length>0){const we=b.childNodes[b.childNodes.length-1];if(dn.isTextNode(we)){we.value+=L;return}}dn.appendChild(b,dn.createTextNode(L))},insertTextBefore(b,L,we){const On=b.childNodes[b.childNodes.indexOf(we)-1];On&&dn.isTextNode(On)?On.value+=L:dn.insertBefore(b,dn.createTextNode(L),we)},adoptAttributes(b,L){const we=new Set(b.attrs.map(On=>On.name));for(let On=0;On<L.length;On++)we.has(L[On].name)||b.attrs.push(L[On])},getFirstChild(b){return b.childNodes[0]},getChildNodes(b){return b.childNodes},getParentNode(b){return b.parentNode},getAttrList(b){return b.attrs},getTagName(b){return b.tagName},getNamespaceURI(b){return b.namespaceURI},getTextNodeContent(b){return b.value},getCommentNodeContent(b){return b.data},getDocumentTypeNodeName(b){return b.name},getDocumentTypeNodePublicId(b){return b.publicId},getDocumentTypeNodeSystemId(b){return b.systemId},isTextNode(b){return b.nodeName==="#text"},isCommentNode(b){return b.nodeName==="#comment"},isDocumentTypeNode(b){return b.nodeName==="#documentType"},isElementNode(b){return Object.prototype.hasOwnProperty.call(b,"tagName")},setNodeSourceCodeLocation(b,L){b.sourceCodeLocation=L},getNodeSourceCodeLocation(b){return b.sourceCodeLocation},updateNodeSourceCodeLocation(b,L){b.sourceCodeLocation=us(us({},b.sourceCodeLocation),L)}},jn="html",Ur="about:legacy-compat",Yr="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Et=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Ct=[...Et,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],xn=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Xn=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],mt=[...Xn,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function vn(b,L){return L.some(we=>b.startsWith(we))}function tr(b){return b.name===jn&&b.publicId===null&&(b.systemId===null||b.systemId===Ur)}function Mr(b){if(b.name!==jn)return xi.QUIRKS;const{systemId:L}=b;if(L&&L.toLowerCase()===Yr)return xi.QUIRKS;let{publicId:we}=b;if(we!==null){if(we=we.toLowerCase(),xn.has(we))return xi.QUIRKS;let On=L===null?Ct:Et;if(vn(we,On))return xi.QUIRKS;if(On=L===null?Xn:mt,vn(we,On))return xi.LIMITED_QUIRKS}return xi.NO_QUIRKS}const ui={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Ri="definitionurl",Aa="definitionURL",Ga=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(b=>[b.toLowerCase(),b])),vo=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ra.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ra.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ra.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ra.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ra.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ra.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ra.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ra.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ra.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ra.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ra.XMLNS}]]),To=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(b=>[b.toLowerCase(),b])),Po=new Set([_e.B,_e.BIG,_e.BLOCKQUOTE,_e.BODY,_e.BR,_e.CENTER,_e.CODE,_e.DD,_e.DIV,_e.DL,_e.DT,_e.EM,_e.EMBED,_e.H1,_e.H2,_e.H3,_e.H4,_e.H5,_e.H6,_e.HEAD,_e.HR,_e.I,_e.IMG,_e.LI,_e.LISTING,_e.MENU,_e.META,_e.NOBR,_e.OL,_e.P,_e.PRE,_e.RUBY,_e.S,_e.SMALL,_e.SPAN,_e.STRONG,_e.STRIKE,_e.SUB,_e.SUP,_e.TABLE,_e.TT,_e.U,_e.UL,_e.VAR]);function ds(b){const L=b.tagID;return L===_e.FONT&&b.attrs.some(({name:On})=>On===ms.COLOR||On===ms.SIZE||On===ms.FACE)||Po.has(L)}function Za(b){for(let L=0;L<b.attrs.length;L++)if(b.attrs[L].name===Ri){b.attrs[L].name=Aa;break}}function ks(b){for(let L=0;L<b.attrs.length;L++){const we=Ga.get(b.attrs[L].name);we!=null&&(b.attrs[L].name=we)}}function oo(b){for(let L=0;L<b.attrs.length;L++){const we=vo.get(b.attrs[L].name);we&&(b.attrs[L].prefix=we.prefix,b.attrs[L].name=we.name,b.attrs[L].namespace=we.namespace)}}function nu(b){const L=To.get(b.tagName);L!=null&&(b.tagName=L,b.tagID=Ka(b.tagName))}function wu(b,L){return L===ra.MATHML&&(b===_e.MI||b===_e.MO||b===_e.MN||b===_e.MS||b===_e.MTEXT)}function Ll(b,L,we){if(L===ra.MATHML&&b===_e.ANNOTATION_XML){for(let On=0;On<we.length;On++)if(we[On].name===ms.ENCODING){const _i=we[On].value.toLowerCase();return _i===ui.TEXT_HTML||_i===ui.APPLICATION_XML}}return L===ra.SVG&&(b===_e.FOREIGN_OBJECT||b===_e.DESC||b===_e.TITLE)}function Si(b,L,we,On){return(!On||On===ra.HTML)&&Ll(b,L,we)||(!On||On===ra.MATHML)&&wu(b,L)}const Sn="hidden",Qt=8,rr=3;var rt;(function(b){b[b.INITIAL=0]="INITIAL",b[b.BEFORE_HTML=1]="BEFORE_HTML",b[b.BEFORE_HEAD=2]="BEFORE_HEAD",b[b.IN_HEAD=3]="IN_HEAD",b[b.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",b[b.AFTER_HEAD=5]="AFTER_HEAD",b[b.IN_BODY=6]="IN_BODY",b[b.TEXT=7]="TEXT",b[b.IN_TABLE=8]="IN_TABLE",b[b.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",b[b.IN_CAPTION=10]="IN_CAPTION",b[b.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",b[b.IN_TABLE_BODY=12]="IN_TABLE_BODY",b[b.IN_ROW=13]="IN_ROW",b[b.IN_CELL=14]="IN_CELL",b[b.IN_SELECT=15]="IN_SELECT",b[b.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",b[b.IN_TEMPLATE=17]="IN_TEMPLATE",b[b.AFTER_BODY=18]="AFTER_BODY",b[b.IN_FRAMESET=19]="IN_FRAMESET",b[b.AFTER_FRAMESET=20]="AFTER_FRAMESET",b[b.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",b[b.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(rt||(rt={}));const ai={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},mi=new Set([_e.TABLE,_e.TBODY,_e.TFOOT,_e.THEAD,_e.TR]),_a={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:dn,onParseError:null};class Xi{constructor(L,we,On=null,_i=null){this.fragmentContext=On,this.scriptHandler=_i,this.currentToken=null,this.stopped=!1,this.insertionMode=rt.INITIAL,this.originalInsertionMode=rt.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=us(us({},_a),L),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=we!=null?we:this.treeAdapter.createDocument(),this.tokenizer=new Pn(this.options,this),this.activeFormattingElements=new on(this.treeAdapter),this.fragmentContextID=On?Ka(this.treeAdapter.getTagName(On)):_e.UNKNOWN,this._setContextModes(On!=null?On:this.document,this.fragmentContextID),this.openElements=new $i(this.document,this.treeAdapter,this)}static parse(L,we){const On=new this(we);return On.tokenizer.write(L,!0),On.document}static getFragmentParser(L,we){const On=us(us({},_a),we);L!=null||(L=On.treeAdapter.createElement(Gn.TEMPLATE,ra.HTML,[]));const _i=On.treeAdapter.createElement("documentmock",ra.HTML,[]),Oa=new this(On,_i,L);return Oa.fragmentContextID===_e.TEMPLATE&&Oa.tmplInsertionModeStack.unshift(rt.IN_TEMPLATE),Oa._initTokenizerForFragmentParsing(),Oa._insertFakeRootElement(),Oa._resetInsertionMode(),Oa._findFormInFragmentContext(),Oa}getFragment(){const L=this.treeAdapter.getFirstChild(this.document),we=this.treeAdapter.createDocumentFragment();return this._adoptNodes(L,we),we}_err(L,we,On){var _i;if(!this.onParseError)return;const Oa=(_i=L.location)!==null&&_i!==void 0?_i:ai,Xa={code:we,startLine:Oa.startLine,startCol:Oa.startCol,startOffset:Oa.startOffset,endLine:On?Oa.startLine:Oa.endLine,endCol:On?Oa.startCol:Oa.endCol,endOffset:On?Oa.startOffset:Oa.endOffset};this.onParseError(Xa)}onItemPush(L,we,On){var _i,Oa;(Oa=(_i=this.treeAdapter).onItemPush)===null||Oa===void 0||Oa.call(_i,L),On&&this.openElements.stackTop>0&&this._setContextModes(L,we)}onItemPop(L,we){var On,_i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(L,this.currentToken),(_i=(On=this.treeAdapter).onItemPop)===null||_i===void 0||_i.call(On,L,this.openElements.current),we){let Oa,Xa;this.openElements.stackTop===0&&this.fragmentContext?(Oa=this.fragmentContext,Xa=this.fragmentContextID):{current:Oa,currentTagId:Xa}=this.openElements,this._setContextModes(Oa,Xa)}}_setContextModes(L,we){const On=L===this.document||this.treeAdapter.getNamespaceURI(L)===ra.HTML;this.currentNotInHTML=!On,this.tokenizer.inForeignNode=!On&&!this._isIntegrationPoint(we,L)}_switchToTextParsing(L,we){this._insertElement(L,ra.HTML),this.tokenizer.state=we,this.originalInsertionMode=this.insertionMode,this.insertionMode=rt.TEXT}switchToPlaintextParsing(){this.insertionMode=rt.TEXT,this.originalInsertionMode=rt.IN_BODY,this.tokenizer.state=Bn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let L=this.fragmentContext;for(;L;){if(this.treeAdapter.getTagName(L)===Gn.FORM){this.formElement=L;break}L=this.treeAdapter.getParentNode(L)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ra.HTML))switch(this.fragmentContextID){case _e.TITLE:case _e.TEXTAREA:{this.tokenizer.state=Bn.RCDATA;break}case _e.STYLE:case _e.XMP:case _e.IFRAME:case _e.NOEMBED:case _e.NOFRAMES:case _e.NOSCRIPT:{this.tokenizer.state=Bn.RAWTEXT;break}case _e.SCRIPT:{this.tokenizer.state=Bn.SCRIPT_DATA;break}case _e.PLAINTEXT:{this.tokenizer.state=Bn.PLAINTEXT;break}default:}}_setDocumentType(L){const we=L.name||"",On=L.publicId||"",_i=L.systemId||"";if(this.treeAdapter.setDocumentType(this.document,we,On,_i),L.location){const Xa=this.treeAdapter.getChildNodes(this.document).find(ts=>this.treeAdapter.isDocumentTypeNode(ts));Xa&&this.treeAdapter.setNodeSourceCodeLocation(Xa,L.location)}}_attachElementToTree(L,we){if(this.options.sourceCodeLocationInfo){const On=we&&g0(us({},we),{startTag:we});this.treeAdapter.setNodeSourceCodeLocation(L,On)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(L);else{const On=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(On,L)}}_appendElement(L,we){const On=this.treeAdapter.createElement(L.tagName,we,L.attrs);this._attachElementToTree(On,L.location)}_insertElement(L,we){const On=this.treeAdapter.createElement(L.tagName,we,L.attrs);this._attachElementToTree(On,L.location),this.openElements.push(On,L.tagID)}_insertFakeElement(L,we){const On=this.treeAdapter.createElement(L,ra.HTML,[]);this._attachElementToTree(On,null),this.openElements.push(On,we)}_insertTemplate(L){const we=this.treeAdapter.createElement(L.tagName,ra.HTML,L.attrs),On=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(we,On),this._attachElementToTree(we,L.location),this.openElements.push(we,L.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(On,null)}_insertFakeRootElement(){const L=this.treeAdapter.createElement(Gn.HTML,ra.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(L,null),this.treeAdapter.appendChild(this.openElements.current,L),this.openElements.push(L,_e.HTML)}_appendCommentNode(L,we){const On=this.treeAdapter.createCommentNode(L.data);this.treeAdapter.appendChild(we,On),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(On,L.location)}_insertCharacters(L){let we,On;if(this._shouldFosterParentOnInsertion()?({parent:we,beforeElement:On}=this._findFosterParentingLocation(),On?this.treeAdapter.insertTextBefore(we,L.chars,On):this.treeAdapter.insertText(we,L.chars)):(we=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(we,L.chars)),!L.location)return;const _i=this.treeAdapter.getChildNodes(we),Oa=On?_i.lastIndexOf(On):_i.length,Xa=_i[Oa-1];if(this.treeAdapter.getNodeSourceCodeLocation(Xa)){const{endLine:is,endCol:Co,endOffset:Vu}=L.location;this.treeAdapter.updateNodeSourceCodeLocation(Xa,{endLine:is,endCol:Co,endOffset:Vu})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(Xa,L.location)}_adoptNodes(L,we){for(let On=this.treeAdapter.getFirstChild(L);On;On=this.treeAdapter.getFirstChild(L))this.treeAdapter.detachNode(On),this.treeAdapter.appendChild(we,On)}_setEndLocation(L,we){if(this.treeAdapter.getNodeSourceCodeLocation(L)&&we.location){const On=we.location,_i=this.treeAdapter.getTagName(L),Oa=we.type===Ar.END_TAG&&_i===we.tagName?{endTag:us({},On),endLine:On.endLine,endCol:On.endCol,endOffset:On.endOffset}:{endLine:On.startLine,endCol:On.startCol,endOffset:On.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(L,Oa)}}shouldProcessStartTagTokenInForeignContent(L){if(!this.currentNotInHTML)return!1;let we,On;return this.openElements.stackTop===0&&this.fragmentContext?(we=this.fragmentContext,On=this.fragmentContextID):{current:we,currentTagId:On}=this.openElements,L.tagID===_e.SVG&&this.treeAdapter.getTagName(we)===Gn.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(we)===ra.MATHML?!1:this.tokenizer.inForeignNode||(L.tagID===_e.MGLYPH||L.tagID===_e.MALIGNMARK)&&!this._isIntegrationPoint(On,we,ra.HTML)}_processToken(L){switch(L.type){case Ar.CHARACTER:{this.onCharacter(L);break}case Ar.NULL_CHARACTER:{this.onNullCharacter(L);break}case Ar.COMMENT:{this.onComment(L);break}case Ar.DOCTYPE:{this.onDoctype(L);break}case Ar.START_TAG:{this._processStartTag(L);break}case Ar.END_TAG:{this.onEndTag(L);break}case Ar.EOF:{this.onEof(L);break}case Ar.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(L);break}}}_isIntegrationPoint(L,we,On){const _i=this.treeAdapter.getNamespaceURI(we),Oa=this.treeAdapter.getAttrList(we);return Si(L,_i,Oa,On)}_reconstructActiveFormattingElements(){const L=this.activeFormattingElements.entries.length;if(L){const we=this.activeFormattingElements.entries.findIndex(_i=>_i.type===Ii.Marker||this.openElements.contains(_i.element)),On=we<0?L-1:we-1;for(let _i=On;_i>=0;_i--){const Oa=this.activeFormattingElements.entries[_i];this._insertElement(Oa.token,this.treeAdapter.getNamespaceURI(Oa.element)),Oa.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=rt.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(_e.P),this.openElements.popUntilTagNamePopped(_e.P)}_resetInsertionMode(){for(let L=this.openElements.stackTop;L>=0;L--)switch(L===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[L]){case _e.TR:{this.insertionMode=rt.IN_ROW;return}case _e.TBODY:case _e.THEAD:case _e.TFOOT:{this.insertionMode=rt.IN_TABLE_BODY;return}case _e.CAPTION:{this.insertionMode=rt.IN_CAPTION;return}case _e.COLGROUP:{this.insertionMode=rt.IN_COLUMN_GROUP;return}case _e.TABLE:{this.insertionMode=rt.IN_TABLE;return}case _e.BODY:{this.insertionMode=rt.IN_BODY;return}case _e.FRAMESET:{this.insertionMode=rt.IN_FRAMESET;return}case _e.SELECT:{this._resetInsertionModeForSelect(L);return}case _e.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case _e.HTML:{this.insertionMode=this.headElement?rt.AFTER_HEAD:rt.BEFORE_HEAD;return}case _e.TD:case _e.TH:{if(L>0){this.insertionMode=rt.IN_CELL;return}break}case _e.HEAD:{if(L>0){this.insertionMode=rt.IN_HEAD;return}break}}this.insertionMode=rt.IN_BODY}_resetInsertionModeForSelect(L){if(L>0)for(let we=L-1;we>0;we--){const On=this.openElements.tagIDs[we];if(On===_e.TEMPLATE)break;if(On===_e.TABLE){this.insertionMode=rt.IN_SELECT_IN_TABLE;return}}this.insertionMode=rt.IN_SELECT}_isElementCausesFosterParenting(L){return mi.has(L)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let L=this.openElements.stackTop;L>=0;L--){const we=this.openElements.items[L];switch(this.openElements.tagIDs[L]){case _e.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(we)===ra.HTML)return{parent:this.treeAdapter.getTemplateContent(we),beforeElement:null};break}case _e.TABLE:{const On=this.treeAdapter.getParentNode(we);return On?{parent:On,beforeElement:we}:{parent:this.openElements.items[L-1],beforeElement:null}}default:}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(L){const we=this._findFosterParentingLocation();we.beforeElement?this.treeAdapter.insertBefore(we.parent,L,we.beforeElement):this.treeAdapter.appendChild(we.parent,L)}_isSpecialElement(L,we){const On=this.treeAdapter.getNamespaceURI(L);return Un[On].has(we)}onCharacter(L){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pf(this,L);return}switch(this.insertionMode){case rt.INITIAL:{Xo(this,L);break}case rt.BEFORE_HTML:{nn(this,L);break}case rt.BEFORE_HEAD:{gi(this,L);break}case rt.IN_HEAD:{Mi(this,L);break}case rt.IN_HEAD_NO_SCRIPT:{Qo(this,L);break}case rt.AFTER_HEAD:{su(this,L);break}case rt.IN_BODY:case rt.IN_CAPTION:case rt.IN_CELL:case rt.IN_TEMPLATE:{Zn(this,L);break}case rt.TEXT:case rt.IN_SELECT:case rt.IN_SELECT_IN_TABLE:{this._insertCharacters(L);break}case rt.IN_TABLE:case rt.IN_TABLE_BODY:case rt.IN_ROW:{ys(this,L);break}case rt.IN_TABLE_TEXT:{tc(this,L);break}case rt.IN_COLUMN_GROUP:{hc(this,L);break}case rt.AFTER_BODY:{td(this,L);break}case rt.AFTER_AFTER_BODY:{hf(this,L);break}default:}}onNullCharacter(L){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){dd(this,L);return}switch(this.insertionMode){case rt.INITIAL:{Xo(this,L);break}case rt.BEFORE_HTML:{nn(this,L);break}case rt.BEFORE_HEAD:{gi(this,L);break}case rt.IN_HEAD:{Mi(this,L);break}case rt.IN_HEAD_NO_SCRIPT:{Qo(this,L);break}case rt.AFTER_HEAD:{su(this,L);break}case rt.TEXT:{this._insertCharacters(L);break}case rt.IN_TABLE:case rt.IN_TABLE_BODY:case rt.IN_ROW:{ys(this,L);break}case rt.IN_COLUMN_GROUP:{hc(this,L);break}case rt.AFTER_BODY:{td(this,L);break}case rt.AFTER_AFTER_BODY:{hf(this,L);break}default:}}onComment(L){if(this.skipNextNewLine=!1,this.currentNotInHTML){Wa(this,L);return}switch(this.insertionMode){case rt.INITIAL:case rt.BEFORE_HTML:case rt.BEFORE_HEAD:case rt.IN_HEAD:case rt.IN_HEAD_NO_SCRIPT:case rt.AFTER_HEAD:case rt.IN_BODY:case rt.IN_TABLE:case rt.IN_CAPTION:case rt.IN_COLUMN_GROUP:case rt.IN_TABLE_BODY:case rt.IN_ROW:case rt.IN_CELL:case rt.IN_SELECT:case rt.IN_SELECT_IN_TABLE:case rt.IN_TEMPLATE:case rt.IN_FRAMESET:case rt.AFTER_FRAMESET:{Wa(this,L);break}case rt.IN_TABLE_TEXT:{Ec(this,L);break}case rt.AFTER_BODY:{ns(this,L);break}case rt.AFTER_AFTER_BODY:case rt.AFTER_AFTER_FRAMESET:{Do(this,L);break}default:}}onDoctype(L){switch(this.skipNextNewLine=!1,this.insertionMode){case rt.INITIAL:{Bs(this,L);break}case rt.BEFORE_HEAD:case rt.IN_HEAD:case rt.IN_HEAD_NO_SCRIPT:case rt.AFTER_HEAD:{this._err(L,bn.misplacedDoctype);break}case rt.IN_TABLE_TEXT:{Ec(this,L);break}default:}}onStartTag(L){this.skipNextNewLine=!1,this.currentToken=L,this._processStartTag(L),L.selfClosing&&!L.ackSelfClosing&&this._err(L,bn.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(L){this.shouldProcessStartTagTokenInForeignContent(L)?Kd(this,L):this._startTagOutsideForeignContent(L)}_startTagOutsideForeignContent(L){switch(this.insertionMode){case rt.INITIAL:{Xo(this,L);break}case rt.BEFORE_HTML:{wt(this,L);break}case rt.BEFORE_HEAD:{wr(this,L);break}case rt.IN_HEAD:{xr(this,L);break}case rt.IN_HEAD_NO_SCRIPT:{po(this,L);break}case rt.AFTER_HEAD:{Cs(this,L);break}case rt.IN_BODY:{Ha(this,L);break}case rt.IN_TABLE:{Qs(this,L);break}case rt.IN_TABLE_TEXT:{Ec(this,L);break}case rt.IN_CAPTION:{wc(this,L);break}case rt.IN_COLUMN_GROUP:{ed(this,L);break}case rt.IN_TABLE_BODY:{Sd(this,L);break}case rt.IN_ROW:{Fd(this,L);break}case rt.IN_CELL:{Xd(this,L);break}case rt.IN_SELECT:{Mc(this,L);break}case rt.IN_SELECT_IN_TABLE:{md(this,L);break}case rt.IN_TEMPLATE:{yd(this,L);break}case rt.AFTER_BODY:{Yf(this,L);break}case rt.IN_FRAMESET:{Ad(this,L);break}case rt.AFTER_FRAMESET:{Bl(this,L);break}case rt.AFTER_AFTER_BODY:{Of(this,L);break}case rt.AFTER_AFTER_FRAMESET:{Ud(this,L);break}default:}}onEndTag(L){this.skipNextNewLine=!1,this.currentToken=L,this.currentNotInHTML?sc(this,L):this._endTagOutsideForeignContent(L)}_endTagOutsideForeignContent(L){switch(this.insertionMode){case rt.INITIAL:{Xo(this,L);break}case rt.BEFORE_HTML:{er(this,L);break}case rt.BEFORE_HEAD:{hi(this,L);break}case rt.IN_HEAD:{Ji(this,L);break}case rt.IN_HEAD_NO_SCRIPT:{ha(this,L);break}case rt.AFTER_HEAD:{Oo(this,L);break}case rt.IN_BODY:{fo(this,L);break}case rt.TEXT:{es(this,L);break}case rt.IN_TABLE:{$u(this,L);break}case rt.IN_TABLE_TEXT:{Ec(this,L);break}case rt.IN_CAPTION:{Tl(this,L);break}case rt.IN_COLUMN_GROUP:{Fc(this,L);break}case rt.IN_TABLE_BODY:{Oh(this,L);break}case rt.IN_ROW:{$d(this,L);break}case rt.IN_CELL:{fd(this,L);break}case rt.IN_SELECT:{Uc(this,L);break}case rt.IN_SELECT_IN_TABLE:{vd(this,L);break}case rt.IN_TEMPLATE:{df(this,L);break}case rt.AFTER_BODY:{$f(this,L);break}case rt.IN_FRAMESET:{kl(this,L);break}case rt.AFTER_FRAMESET:{_d(this,L);break}case rt.AFTER_AFTER_BODY:{hf(this,L);break}default:}}onEof(L){switch(this.insertionMode){case rt.INITIAL:{Xo(this,L);break}case rt.BEFORE_HTML:{nn(this,L);break}case rt.BEFORE_HEAD:{gi(this,L);break}case rt.IN_HEAD:{Mi(this,L);break}case rt.IN_HEAD_NO_SCRIPT:{Qo(this,L);break}case rt.AFTER_HEAD:{su(this,L);break}case rt.IN_BODY:case rt.IN_TABLE:case rt.IN_CAPTION:case rt.IN_COLUMN_GROUP:case rt.IN_TABLE_BODY:case rt.IN_ROW:case rt.IN_CELL:case rt.IN_SELECT:case rt.IN_SELECT_IN_TABLE:{Ko(this,L);break}case rt.TEXT:{Mo(this,L);break}case rt.IN_TABLE_TEXT:{Ec(this,L);break}case rt.IN_TEMPLATE:{Ef(this,L);break}case rt.AFTER_BODY:case rt.IN_FRAMESET:case rt.AFTER_FRAMESET:case rt.AFTER_AFTER_BODY:case rt.AFTER_AFTER_FRAMESET:{ls(this,L);break}default:}}onWhitespaceCharacter(L){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,L.chars.charCodeAt(0)===Ce.LINE_FEED)){if(L.chars.length===1)return;L.chars=L.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(L);return}switch(this.insertionMode){case rt.IN_HEAD:case rt.IN_HEAD_NO_SCRIPT:case rt.AFTER_HEAD:case rt.TEXT:case rt.IN_COLUMN_GROUP:case rt.IN_SELECT:case rt.IN_SELECT_IN_TABLE:case rt.IN_FRAMESET:case rt.AFTER_FRAMESET:{this._insertCharacters(L);break}case rt.IN_BODY:case rt.IN_CAPTION:case rt.IN_CELL:case rt.IN_TEMPLATE:case rt.AFTER_BODY:case rt.AFTER_AFTER_BODY:case rt.AFTER_AFTER_FRAMESET:{xt(this,L);break}case rt.IN_TABLE:case rt.IN_TABLE_BODY:case rt.IN_ROW:{ys(this,L);break}case rt.IN_TABLE_TEXT:{Wl(this,L);break}default:}}}function ia(b,L){let we=b.activeFormattingElements.getElementEntryInScopeWithTagName(L.tagName);return we?b.openElements.contains(we.element)?b.openElements.hasInScope(L.tagID)||(we=null):(b.activeFormattingElements.removeEntry(we),we=null):ta(b,L),we}function ua(b,L){let we=null,On=b.openElements.stackTop;for(;On>=0;On--){const _i=b.openElements.items[On];if(_i===L.element)break;b._isSpecialElement(_i,b.openElements.tagIDs[On])&&(we=_i)}return we||(b.openElements.shortenToLength(On<0?0:On),b.activeFormattingElements.removeEntry(L)),we}function co(b,L,we){let On=L,_i=b.openElements.getCommonAncestor(L);for(let Oa=0,Xa=_i;Xa!==we;Oa++,Xa=_i){_i=b.openElements.getCommonAncestor(Xa);const ts=b.activeFormattingElements.getElementEntry(Xa),is=ts&&Oa>=rr;!ts||is?(is&&b.activeFormattingElements.removeEntry(ts),b.openElements.remove(Xa)):(Xa=Ro(b,ts),On===L&&(b.activeFormattingElements.bookmark=ts),b.treeAdapter.detachNode(On),b.treeAdapter.appendChild(Xa,On),On=Xa)}return On}function Ro(b,L){const we=b.treeAdapter.getNamespaceURI(L.element),On=b.treeAdapter.createElement(L.token.tagName,we,L.token.attrs);return b.openElements.replace(L.element,On),L.element=On,On}function As(b,L,we){const On=b.treeAdapter.getTagName(L),_i=Ka(On);if(b._isElementCausesFosterParenting(_i))b._fosterParentElement(we);else{const Oa=b.treeAdapter.getNamespaceURI(L);_i===_e.TEMPLATE&&Oa===ra.HTML&&(L=b.treeAdapter.getTemplateContent(L)),b.treeAdapter.appendChild(L,we)}}function So(b,L,we){const On=b.treeAdapter.getNamespaceURI(we.element),{token:_i}=we,Oa=b.treeAdapter.createElement(_i.tagName,On,_i.attrs);b._adoptNodes(L,Oa),b.treeAdapter.appendChild(L,Oa),b.activeFormattingElements.insertElementAfterBookmark(Oa,_i),b.activeFormattingElements.removeEntry(we),b.openElements.remove(we.element),b.openElements.insertAfter(L,Oa,_i.tagID)}function ao(b,L){for(let we=0;we<Qt;we++){const On=ia(b,L);if(!On)break;const _i=ua(b,On);if(!_i)break;b.activeFormattingElements.bookmark=On;const Oa=co(b,_i,On.element),Xa=b.openElements.getCommonAncestor(On.element);b.treeAdapter.detachNode(Oa),Xa&&As(b,Xa,Oa),So(b,_i,On)}}function Wa(b,L){b._appendCommentNode(L,b.openElements.currentTmplContentOrNode)}function ns(b,L){b._appendCommentNode(L,b.openElements.items[0])}function Do(b,L){b._appendCommentNode(L,b.document)}function ls(b,L){if(b.stopped=!0,L.location){const we=b.fragmentContext?0:2;for(let On=b.openElements.stackTop;On>=we;On--)b._setEndLocation(b.openElements.items[On],L);if(!b.fragmentContext&&b.openElements.stackTop>=0){const On=b.openElements.items[0],_i=b.treeAdapter.getNodeSourceCodeLocation(On);if(_i&&!_i.endTag&&(b._setEndLocation(On,L),b.openElements.stackTop>=1)){const Oa=b.openElements.items[1],Xa=b.treeAdapter.getNodeSourceCodeLocation(Oa);Xa&&!Xa.endTag&&b._setEndLocation(Oa,L)}}}}function Bs(b,L){b._setDocumentType(L);const we=L.forceQuirks?xi.QUIRKS:Mr(L);tr(L)||b._err(L,bn.nonConformingDoctype),b.treeAdapter.setDocumentMode(b.document,we),b.insertionMode=rt.BEFORE_HTML}function Xo(b,L){b._err(L,bn.missingDoctype,!0),b.treeAdapter.setDocumentMode(b.document,xi.QUIRKS),b.insertionMode=rt.BEFORE_HTML,b._processToken(L)}function wt(b,L){L.tagID===_e.HTML?(b._insertElement(L,ra.HTML),b.insertionMode=rt.BEFORE_HEAD):nn(b,L)}function er(b,L){const we=L.tagID;(we===_e.HTML||we===_e.HEAD||we===_e.BODY||we===_e.BR)&&nn(b,L)}function nn(b,L){b._insertFakeRootElement(),b.insertionMode=rt.BEFORE_HEAD,b._processToken(L)}function wr(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.HEAD:{b._insertElement(L,ra.HTML),b.headElement=b.openElements.current,b.insertionMode=rt.IN_HEAD;break}default:gi(b,L)}}function hi(b,L){const we=L.tagID;we===_e.HEAD||we===_e.BODY||we===_e.HTML||we===_e.BR?gi(b,L):b._err(L,bn.endTagWithoutMatchingOpenElement)}function gi(b,L){b._insertFakeElement(Gn.HEAD,_e.HEAD),b.headElement=b.openElements.current,b.insertionMode=rt.IN_HEAD,b._processToken(L)}function xr(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.BASE:case _e.BASEFONT:case _e.BGSOUND:case _e.LINK:case _e.META:{b._appendElement(L,ra.HTML),L.ackSelfClosing=!0;break}case _e.TITLE:{b._switchToTextParsing(L,Bn.RCDATA);break}case _e.NOSCRIPT:{b.options.scriptingEnabled?b._switchToTextParsing(L,Bn.RAWTEXT):(b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_HEAD_NO_SCRIPT);break}case _e.NOFRAMES:case _e.STYLE:{b._switchToTextParsing(L,Bn.RAWTEXT);break}case _e.SCRIPT:{b._switchToTextParsing(L,Bn.SCRIPT_DATA);break}case _e.TEMPLATE:{b._insertTemplate(L),b.activeFormattingElements.insertMarker(),b.framesetOk=!1,b.insertionMode=rt.IN_TEMPLATE,b.tmplInsertionModeStack.unshift(rt.IN_TEMPLATE);break}case _e.HEAD:{b._err(L,bn.misplacedStartTagForHeadElement);break}default:Mi(b,L)}}function Ji(b,L){switch(L.tagID){case _e.HEAD:{b.openElements.pop(),b.insertionMode=rt.AFTER_HEAD;break}case _e.BODY:case _e.BR:case _e.HTML:{Mi(b,L);break}case _e.TEMPLATE:{Ai(b,L);break}default:b._err(L,bn.endTagWithoutMatchingOpenElement)}}function Ai(b,L){b.openElements.tmplCount>0?(b.openElements.generateImpliedEndTagsThoroughly(),b.openElements.currentTagId!==_e.TEMPLATE&&b._err(L,bn.closingOfElementWithOpenChildElements),b.openElements.popUntilTagNamePopped(_e.TEMPLATE),b.activeFormattingElements.clearToLastMarker(),b.tmplInsertionModeStack.shift(),b._resetInsertionMode()):b._err(L,bn.endTagWithoutMatchingOpenElement)}function Mi(b,L){b.openElements.pop(),b.insertionMode=rt.AFTER_HEAD,b._processToken(L)}function po(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.BASEFONT:case _e.BGSOUND:case _e.HEAD:case _e.LINK:case _e.META:case _e.NOFRAMES:case _e.STYLE:{xr(b,L);break}case _e.NOSCRIPT:{b._err(L,bn.nestedNoscriptInHead);break}default:Qo(b,L)}}function ha(b,L){switch(L.tagID){case _e.NOSCRIPT:{b.openElements.pop(),b.insertionMode=rt.IN_HEAD;break}case _e.BR:{Qo(b,L);break}default:b._err(L,bn.endTagWithoutMatchingOpenElement)}}function Qo(b,L){const we=L.type===Ar.EOF?bn.openElementsLeftAfterEof:bn.disallowedContentInNoscriptInHead;b._err(L,we),b.openElements.pop(),b.insertionMode=rt.IN_HEAD,b._processToken(L)}function Cs(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.BODY:{b._insertElement(L,ra.HTML),b.framesetOk=!1,b.insertionMode=rt.IN_BODY;break}case _e.FRAMESET:{b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_FRAMESET;break}case _e.BASE:case _e.BASEFONT:case _e.BGSOUND:case _e.LINK:case _e.META:case _e.NOFRAMES:case _e.SCRIPT:case _e.STYLE:case _e.TEMPLATE:case _e.TITLE:{b._err(L,bn.abandonedHeadElementChild),b.openElements.push(b.headElement,_e.HEAD),xr(b,L),b.openElements.remove(b.headElement);break}case _e.HEAD:{b._err(L,bn.misplacedStartTagForHeadElement);break}default:su(b,L)}}function Oo(b,L){switch(L.tagID){case _e.BODY:case _e.HTML:case _e.BR:{su(b,L);break}case _e.TEMPLATE:{Ai(b,L);break}default:b._err(L,bn.endTagWithoutMatchingOpenElement)}}function su(b,L){b._insertFakeElement(Gn.BODY,_e.BODY),b.insertionMode=rt.IN_BODY,ru(b,L)}function ru(b,L){switch(L.type){case Ar.CHARACTER:{Zn(b,L);break}case Ar.WHITESPACE_CHARACTER:{xt(b,L);break}case Ar.COMMENT:{Wa(b,L);break}case Ar.START_TAG:{Ha(b,L);break}case Ar.END_TAG:{fo(b,L);break}case Ar.EOF:{Ko(b,L);break}default:}}function xt(b,L){b._reconstructActiveFormattingElements(),b._insertCharacters(L)}function Zn(b,L){b._reconstructActiveFormattingElements(),b._insertCharacters(L),b.framesetOk=!1}function Cr(b,L){b.openElements.tmplCount===0&&b.treeAdapter.adoptAttributes(b.openElements.items[0],L.attrs)}function Di(b,L){const we=b.openElements.tryPeekProperlyNestedBodyElement();we&&b.openElements.tmplCount===0&&(b.framesetOk=!1,b.treeAdapter.adoptAttributes(we,L.attrs))}function wa(b,L){const we=b.openElements.tryPeekProperlyNestedBodyElement();b.framesetOk&&we&&(b.treeAdapter.detachNode(we),b.openElements.popAllUpToHtmlElement(),b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_FRAMESET)}function Eo(b,L){b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._insertElement(L,ra.HTML)}function yo(b,L){b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),tn.has(b.openElements.currentTagId)&&b.openElements.pop(),b._insertElement(L,ra.HTML)}function Wr(b,L){b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._insertElement(L,ra.HTML),b.skipNextNewLine=!0,b.framesetOk=!1}function hs(b,L){const we=b.openElements.tmplCount>0;(!b.formElement||we)&&(b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._insertElement(L,ra.HTML),we||(b.formElement=b.openElements.current))}function Ma(b,L){b.framesetOk=!1;const we=L.tagID;for(let On=b.openElements.stackTop;On>=0;On--){const _i=b.openElements.tagIDs[On];if(we===_e.LI&&_i===_e.LI||(we===_e.DD||we===_e.DT)&&(_i===_e.DD||_i===_e.DT)){b.openElements.generateImpliedEndTagsWithExclusion(_i),b.openElements.popUntilTagNamePopped(_i);break}if(_i!==_e.ADDRESS&&_i!==_e.DIV&&_i!==_e.P&&b._isSpecialElement(b.openElements.items[On],_i))break}b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._insertElement(L,ra.HTML)}function iu(b,L){b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._insertElement(L,ra.HTML),b.tokenizer.state=Bn.PLAINTEXT}function au(b,L){b.openElements.hasInScope(_e.BUTTON)&&(b.openElements.generateImpliedEndTags(),b.openElements.popUntilTagNamePopped(_e.BUTTON)),b._reconstructActiveFormattingElements(),b._insertElement(L,ra.HTML),b.framesetOk=!1}function as(b,L){const we=b.activeFormattingElements.getElementEntryInScopeWithTagName(Gn.A);we&&(ao(b,L),b.openElements.remove(we.element),b.activeFormattingElements.removeEntry(we)),b._reconstructActiveFormattingElements(),b._insertElement(L,ra.HTML),b.activeFormattingElements.pushElement(b.openElements.current,L)}function $s(b,L){b._reconstructActiveFormattingElements(),b._insertElement(L,ra.HTML),b.activeFormattingElements.pushElement(b.openElements.current,L)}function Xs(b,L){b._reconstructActiveFormattingElements(),b.openElements.hasInScope(_e.NOBR)&&(ao(b,L),b._reconstructActiveFormattingElements()),b._insertElement(L,ra.HTML),b.activeFormattingElements.pushElement(b.openElements.current,L)}function Lu(b,L){b._reconstructActiveFormattingElements(),b._insertElement(L,ra.HTML),b.activeFormattingElements.insertMarker(),b.framesetOk=!1}function Mu(b,L){b.treeAdapter.getDocumentMode(b.document)!==xi.QUIRKS&&b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._insertElement(L,ra.HTML),b.framesetOk=!1,b.insertionMode=rt.IN_TABLE}function Nl(b,L){b._reconstructActiveFormattingElements(),b._appendElement(L,ra.HTML),b.framesetOk=!1,L.ackSelfClosing=!0}function Ks(b){const L=Zr(b,ms.TYPE);return L!=null&&L.toLowerCase()===Sn}function nl(b,L){b._reconstructActiveFormattingElements(),b._appendElement(L,ra.HTML),Ks(L)||(b.framesetOk=!1),L.ackSelfClosing=!0}function hu(b,L){b._appendElement(L,ra.HTML),L.ackSelfClosing=!0}function oc(b,L){b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._appendElement(L,ra.HTML),b.framesetOk=!1,L.ackSelfClosing=!0}function _l(b,L){L.tagName=Gn.IMG,L.tagID=_e.IMG,Nl(b,L)}function Ku(b,L){b._insertElement(L,ra.HTML),b.skipNextNewLine=!0,b.tokenizer.state=Bn.RCDATA,b.originalInsertionMode=b.insertionMode,b.framesetOk=!1,b.insertionMode=rt.TEXT}function Cf(b,L){b.openElements.hasInButtonScope(_e.P)&&b._closePElement(),b._reconstructActiveFormattingElements(),b.framesetOk=!1,b._switchToTextParsing(L,Bn.RAWTEXT)}function bc(b,L){b.framesetOk=!1,b._switchToTextParsing(L,Bn.RAWTEXT)}function Sr(b,L){b._switchToTextParsing(L,Bn.RAWTEXT)}function li(b,L){b._reconstructActiveFormattingElements(),b._insertElement(L,ra.HTML),b.framesetOk=!1,b.insertionMode=b.insertionMode===rt.IN_TABLE||b.insertionMode===rt.IN_CAPTION||b.insertionMode===rt.IN_TABLE_BODY||b.insertionMode===rt.IN_ROW||b.insertionMode===rt.IN_CELL?rt.IN_SELECT_IN_TABLE:rt.IN_SELECT}function Ci(b,L){b.openElements.currentTagId===_e.OPTION&&b.openElements.pop(),b._reconstructActiveFormattingElements(),b._insertElement(L,ra.HTML)}function ti(b,L){b.openElements.hasInScope(_e.RUBY)&&b.openElements.generateImpliedEndTags(),b._insertElement(L,ra.HTML)}function ea(b,L){b.openElements.hasInScope(_e.RUBY)&&b.openElements.generateImpliedEndTagsWithExclusion(_e.RTC),b._insertElement(L,ra.HTML)}function mo(b,L){b._reconstructActiveFormattingElements(),Za(L),oo(L),L.selfClosing?b._appendElement(L,ra.MATHML):b._insertElement(L,ra.MATHML),L.ackSelfClosing=!0}function so(b,L){b._reconstructActiveFormattingElements(),ks(L),oo(L),L.selfClosing?b._appendElement(L,ra.SVG):b._insertElement(L,ra.SVG),L.ackSelfClosing=!0}function Io(b,L){b._reconstructActiveFormattingElements(),b._insertElement(L,ra.HTML)}function Ha(b,L){switch(L.tagID){case _e.I:case _e.S:case _e.B:case _e.U:case _e.EM:case _e.TT:case _e.BIG:case _e.CODE:case _e.FONT:case _e.SMALL:case _e.STRIKE:case _e.STRONG:{$s(b,L);break}case _e.A:{as(b,L);break}case _e.H1:case _e.H2:case _e.H3:case _e.H4:case _e.H5:case _e.H6:{yo(b,L);break}case _e.P:case _e.DL:case _e.OL:case _e.UL:case _e.DIV:case _e.DIR:case _e.NAV:case _e.MAIN:case _e.MENU:case _e.ASIDE:case _e.CENTER:case _e.FIGURE:case _e.FOOTER:case _e.HEADER:case _e.HGROUP:case _e.DIALOG:case _e.DETAILS:case _e.ADDRESS:case _e.ARTICLE:case _e.SEARCH:case _e.SECTION:case _e.SUMMARY:case _e.FIELDSET:case _e.BLOCKQUOTE:case _e.FIGCAPTION:{Eo(b,L);break}case _e.LI:case _e.DD:case _e.DT:{Ma(b,L);break}case _e.BR:case _e.IMG:case _e.WBR:case _e.AREA:case _e.EMBED:case _e.KEYGEN:{Nl(b,L);break}case _e.HR:{oc(b,L);break}case _e.RB:case _e.RTC:{ti(b,L);break}case _e.RT:case _e.RP:{ea(b,L);break}case _e.PRE:case _e.LISTING:{Wr(b,L);break}case _e.XMP:{Cf(b,L);break}case _e.SVG:{so(b,L);break}case _e.HTML:{Cr(b,L);break}case _e.BASE:case _e.LINK:case _e.META:case _e.STYLE:case _e.TITLE:case _e.SCRIPT:case _e.BGSOUND:case _e.BASEFONT:case _e.TEMPLATE:{xr(b,L);break}case _e.BODY:{Di(b,L);break}case _e.FORM:{hs(b,L);break}case _e.NOBR:{Xs(b,L);break}case _e.MATH:{mo(b,L);break}case _e.TABLE:{Mu(b,L);break}case _e.INPUT:{nl(b,L);break}case _e.PARAM:case _e.TRACK:case _e.SOURCE:{hu(b,L);break}case _e.IMAGE:{_l(b,L);break}case _e.BUTTON:{au(b,L);break}case _e.APPLET:case _e.OBJECT:case _e.MARQUEE:{Lu(b,L);break}case _e.IFRAME:{bc(b,L);break}case _e.SELECT:{li(b,L);break}case _e.OPTION:case _e.OPTGROUP:{Ci(b,L);break}case _e.NOEMBED:case _e.NOFRAMES:{Sr(b,L);break}case _e.FRAMESET:{wa(b,L);break}case _e.TEXTAREA:{Ku(b,L);break}case _e.NOSCRIPT:{b.options.scriptingEnabled?Sr(b,L):Io(b,L);break}case _e.PLAINTEXT:{iu(b,L);break}case _e.COL:case _e.TH:case _e.TD:case _e.TR:case _e.HEAD:case _e.FRAME:case _e.TBODY:case _e.TFOOT:case _e.THEAD:case _e.CAPTION:case _e.COLGROUP:break;default:Io(b,L)}}function wo(b,L){if(b.openElements.hasInScope(_e.BODY)&&(b.insertionMode=rt.AFTER_BODY,b.options.sourceCodeLocationInfo)){const we=b.openElements.tryPeekProperlyNestedBodyElement();we&&b._setEndLocation(we,L)}}function zo(b,L){b.openElements.hasInScope(_e.BODY)&&(b.insertionMode=rt.AFTER_BODY,$f(b,L))}function rs(b,L){const we=L.tagID;b.openElements.hasInScope(we)&&(b.openElements.generateImpliedEndTags(),b.openElements.popUntilTagNamePopped(we))}function Vo(b){const L=b.openElements.tmplCount>0,{formElement:we}=b;L||(b.formElement=null),(we||L)&&b.openElements.hasInScope(_e.FORM)&&(b.openElements.generateImpliedEndTags(),L?b.openElements.popUntilTagNamePopped(_e.FORM):we&&b.openElements.remove(we))}function Fs(b){b.openElements.hasInButtonScope(_e.P)||b._insertFakeElement(Gn.P,_e.P),b._closePElement()}function _u(b){b.openElements.hasInListItemScope(_e.LI)&&(b.openElements.generateImpliedEndTagsWithExclusion(_e.LI),b.openElements.popUntilTagNamePopped(_e.LI))}function bs(b,L){const we=L.tagID;b.openElements.hasInScope(we)&&(b.openElements.generateImpliedEndTagsWithExclusion(we),b.openElements.popUntilTagNamePopped(we))}function Vs(b){b.openElements.hasNumberedHeaderInScope()&&(b.openElements.generateImpliedEndTags(),b.openElements.popUntilNumberedHeaderPopped())}function vi(b,L){const we=L.tagID;b.openElements.hasInScope(we)&&(b.openElements.generateImpliedEndTags(),b.openElements.popUntilTagNamePopped(we),b.activeFormattingElements.clearToLastMarker())}function fa(b){b._reconstructActiveFormattingElements(),b._insertFakeElement(Gn.BR,_e.BR),b.openElements.pop(),b.framesetOk=!1}function ta(b,L){const we=L.tagName,On=L.tagID;for(let _i=b.openElements.stackTop;_i>0;_i--){const Oa=b.openElements.items[_i],Xa=b.openElements.tagIDs[_i];if(On===Xa&&(On!==_e.UNKNOWN||b.treeAdapter.getTagName(Oa)===we)){b.openElements.generateImpliedEndTagsWithExclusion(On),b.openElements.stackTop>=_i&&b.openElements.shortenToLength(_i);break}if(b._isSpecialElement(Oa,Xa))break}}function fo(b,L){switch(L.tagID){case _e.A:case _e.B:case _e.I:case _e.S:case _e.U:case _e.EM:case _e.TT:case _e.BIG:case _e.CODE:case _e.FONT:case _e.NOBR:case _e.SMALL:case _e.STRIKE:case _e.STRONG:{ao(b,L);break}case _e.P:{Fs(b);break}case _e.DL:case _e.UL:case _e.OL:case _e.DIR:case _e.DIV:case _e.NAV:case _e.PRE:case _e.MAIN:case _e.MENU:case _e.ASIDE:case _e.BUTTON:case _e.CENTER:case _e.FIGURE:case _e.FOOTER:case _e.HEADER:case _e.HGROUP:case _e.DIALOG:case _e.ADDRESS:case _e.ARTICLE:case _e.DETAILS:case _e.SEARCH:case _e.SECTION:case _e.SUMMARY:case _e.LISTING:case _e.FIELDSET:case _e.BLOCKQUOTE:case _e.FIGCAPTION:{rs(b,L);break}case _e.LI:{_u(b);break}case _e.DD:case _e.DT:{bs(b,L);break}case _e.H1:case _e.H2:case _e.H3:case _e.H4:case _e.H5:case _e.H6:{Vs(b);break}case _e.BR:{fa(b);break}case _e.BODY:{wo(b,L);break}case _e.HTML:{zo(b,L);break}case _e.FORM:{Vo(b);break}case _e.APPLET:case _e.OBJECT:case _e.MARQUEE:{vi(b,L);break}case _e.TEMPLATE:{Ai(b,L);break}default:ta(b,L)}}function Ko(b,L){b.tmplInsertionModeStack.length>0?Ef(b,L):ls(b,L)}function es(b,L){var we;L.tagID===_e.SCRIPT&&((we=b.scriptHandler)===null||we===void 0||we.call(b,b.openElements.current)),b.openElements.pop(),b.insertionMode=b.originalInsertionMode}function Mo(b,L){b._err(L,bn.eofInElementThatCanContainOnlyText),b.openElements.pop(),b.insertionMode=b.originalInsertionMode,b.onEof(L)}function ys(b,L){if(mi.has(b.openElements.currentTagId))switch(b.pendingCharacterTokens.length=0,b.hasNonWhitespacePendingCharacterToken=!1,b.originalInsertionMode=b.insertionMode,b.insertionMode=rt.IN_TABLE_TEXT,L.type){case Ar.CHARACTER:{tc(b,L);break}case Ar.WHITESPACE_CHARACTER:{Wl(b,L);break}}else Ru(b,L)}function Bc(b,L){b.openElements.clearBackToTableContext(),b.activeFormattingElements.insertMarker(),b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_CAPTION}function ec(b,L){b.openElements.clearBackToTableContext(),b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_COLUMN_GROUP}function ff(b,L){b.openElements.clearBackToTableContext(),b._insertFakeElement(Gn.COLGROUP,_e.COLGROUP),b.insertionMode=rt.IN_COLUMN_GROUP,ed(b,L)}function ld(b,L){b.openElements.clearBackToTableContext(),b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_TABLE_BODY}function Ol(b,L){b.openElements.clearBackToTableContext(),b._insertFakeElement(Gn.TBODY,_e.TBODY),b.insertionMode=rt.IN_TABLE_BODY,Sd(b,L)}function al(b,L){b.openElements.hasInTableScope(_e.TABLE)&&(b.openElements.popUntilTagNamePopped(_e.TABLE),b._resetInsertionMode(),b._processStartTag(L))}function Dl(b,L){Ks(L)?b._appendElement(L,ra.HTML):Ru(b,L),L.ackSelfClosing=!0}function Vc(b,L){!b.formElement&&b.openElements.tmplCount===0&&(b._insertElement(L,ra.HTML),b.formElement=b.openElements.current,b.openElements.pop())}function Qs(b,L){switch(L.tagID){case _e.TD:case _e.TH:case _e.TR:{Ol(b,L);break}case _e.STYLE:case _e.SCRIPT:case _e.TEMPLATE:{xr(b,L);break}case _e.COL:{ff(b,L);break}case _e.FORM:{Vc(b,L);break}case _e.TABLE:{al(b,L);break}case _e.TBODY:case _e.TFOOT:case _e.THEAD:{ld(b,L);break}case _e.INPUT:{Dl(b,L);break}case _e.CAPTION:{Bc(b,L);break}case _e.COLGROUP:{ec(b,L);break}default:Ru(b,L)}}function $u(b,L){switch(L.tagID){case _e.TABLE:{b.openElements.hasInTableScope(_e.TABLE)&&(b.openElements.popUntilTagNamePopped(_e.TABLE),b._resetInsertionMode());break}case _e.TEMPLATE:{Ai(b,L);break}case _e.BODY:case _e.CAPTION:case _e.COL:case _e.COLGROUP:case _e.HTML:case _e.TBODY:case _e.TD:case _e.TFOOT:case _e.TH:case _e.THEAD:case _e.TR:break;default:Ru(b,L)}}function Ru(b,L){const we=b.fosterParentingEnabled;b.fosterParentingEnabled=!0,ru(b,L),b.fosterParentingEnabled=we}function Wl(b,L){b.pendingCharacterTokens.push(L)}function tc(b,L){b.pendingCharacterTokens.push(L),b.hasNonWhitespacePendingCharacterToken=!0}function Ec(b,L){let we=0;if(b.hasNonWhitespacePendingCharacterToken)for(;we<b.pendingCharacterTokens.length;we++)Ru(b,b.pendingCharacterTokens[we]);else for(;we<b.pendingCharacterTokens.length;we++)b._insertCharacters(b.pendingCharacterTokens[we]);b.insertionMode=b.originalInsertionMode,b._processToken(L)}const cd=new Set([_e.CAPTION,_e.COL,_e.COLGROUP,_e.TBODY,_e.TD,_e.TFOOT,_e.TH,_e.THEAD,_e.TR]);function wc(b,L){const we=L.tagID;cd.has(we)?b.openElements.hasInTableScope(_e.CAPTION)&&(b.openElements.generateImpliedEndTags(),b.openElements.popUntilTagNamePopped(_e.CAPTION),b.activeFormattingElements.clearToLastMarker(),b.insertionMode=rt.IN_TABLE,Qs(b,L)):Ha(b,L)}function Tl(b,L){const we=L.tagID;switch(we){case _e.CAPTION:case _e.TABLE:{b.openElements.hasInTableScope(_e.CAPTION)&&(b.openElements.generateImpliedEndTags(),b.openElements.popUntilTagNamePopped(_e.CAPTION),b.activeFormattingElements.clearToLastMarker(),b.insertionMode=rt.IN_TABLE,we===_e.TABLE&&$u(b,L));break}case _e.BODY:case _e.COL:case _e.COLGROUP:case _e.HTML:case _e.TBODY:case _e.TD:case _e.TFOOT:case _e.TH:case _e.THEAD:case _e.TR:break;default:fo(b,L)}}function ed(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.COL:{b._appendElement(L,ra.HTML),L.ackSelfClosing=!0;break}case _e.TEMPLATE:{xr(b,L);break}default:hc(b,L)}}function Fc(b,L){switch(L.tagID){case _e.COLGROUP:{b.openElements.currentTagId===_e.COLGROUP&&(b.openElements.pop(),b.insertionMode=rt.IN_TABLE);break}case _e.TEMPLATE:{Ai(b,L);break}case _e.COL:break;default:hc(b,L)}}function hc(b,L){b.openElements.currentTagId===_e.COLGROUP&&(b.openElements.pop(),b.insertionMode=rt.IN_TABLE,b._processToken(L))}function Sd(b,L){switch(L.tagID){case _e.TR:{b.openElements.clearBackToTableBodyContext(),b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_ROW;break}case _e.TH:case _e.TD:{b.openElements.clearBackToTableBodyContext(),b._insertFakeElement(Gn.TR,_e.TR),b.insertionMode=rt.IN_ROW,Fd(b,L);break}case _e.CAPTION:case _e.COL:case _e.COLGROUP:case _e.TBODY:case _e.TFOOT:case _e.THEAD:{b.openElements.hasTableBodyContextInTableScope()&&(b.openElements.clearBackToTableBodyContext(),b.openElements.pop(),b.insertionMode=rt.IN_TABLE,Qs(b,L));break}default:Qs(b,L)}}function Oh(b,L){const we=L.tagID;switch(L.tagID){case _e.TBODY:case _e.TFOOT:case _e.THEAD:{b.openElements.hasInTableScope(we)&&(b.openElements.clearBackToTableBodyContext(),b.openElements.pop(),b.insertionMode=rt.IN_TABLE);break}case _e.TABLE:{b.openElements.hasTableBodyContextInTableScope()&&(b.openElements.clearBackToTableBodyContext(),b.openElements.pop(),b.insertionMode=rt.IN_TABLE,$u(b,L));break}case _e.BODY:case _e.CAPTION:case _e.COL:case _e.COLGROUP:case _e.HTML:case _e.TD:case _e.TH:case _e.TR:break;default:$u(b,L)}}function Fd(b,L){switch(L.tagID){case _e.TH:case _e.TD:{b.openElements.clearBackToTableRowContext(),b._insertElement(L,ra.HTML),b.insertionMode=rt.IN_CELL,b.activeFormattingElements.insertMarker();break}case _e.CAPTION:case _e.COL:case _e.COLGROUP:case _e.TBODY:case _e.TFOOT:case _e.THEAD:case _e.TR:{b.openElements.hasInTableScope(_e.TR)&&(b.openElements.clearBackToTableRowContext(),b.openElements.pop(),b.insertionMode=rt.IN_TABLE_BODY,Sd(b,L));break}default:Qs(b,L)}}function $d(b,L){switch(L.tagID){case _e.TR:{b.openElements.hasInTableScope(_e.TR)&&(b.openElements.clearBackToTableRowContext(),b.openElements.pop(),b.insertionMode=rt.IN_TABLE_BODY);break}case _e.TABLE:{b.openElements.hasInTableScope(_e.TR)&&(b.openElements.clearBackToTableRowContext(),b.openElements.pop(),b.insertionMode=rt.IN_TABLE_BODY,Oh(b,L));break}case _e.TBODY:case _e.TFOOT:case _e.THEAD:{(b.openElements.hasInTableScope(L.tagID)||b.openElements.hasInTableScope(_e.TR))&&(b.openElements.clearBackToTableRowContext(),b.openElements.pop(),b.insertionMode=rt.IN_TABLE_BODY,Oh(b,L));break}case _e.BODY:case _e.CAPTION:case _e.COL:case _e.COLGROUP:case _e.HTML:case _e.TD:case _e.TH:break;default:$u(b,L)}}function Xd(b,L){const we=L.tagID;cd.has(we)?(b.openElements.hasInTableScope(_e.TD)||b.openElements.hasInTableScope(_e.TH))&&(b._closeTableCell(),Fd(b,L)):Ha(b,L)}function fd(b,L){const we=L.tagID;switch(we){case _e.TD:case _e.TH:{b.openElements.hasInTableScope(we)&&(b.openElements.generateImpliedEndTags(),b.openElements.popUntilTagNamePopped(we),b.activeFormattingElements.clearToLastMarker(),b.insertionMode=rt.IN_ROW);break}case _e.TABLE:case _e.TBODY:case _e.TFOOT:case _e.THEAD:case _e.TR:{b.openElements.hasInTableScope(we)&&(b._closeTableCell(),$d(b,L));break}case _e.BODY:case _e.CAPTION:case _e.COL:case _e.COLGROUP:case _e.HTML:break;default:fo(b,L)}}function Mc(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.OPTION:{b.openElements.currentTagId===_e.OPTION&&b.openElements.pop(),b._insertElement(L,ra.HTML);break}case _e.OPTGROUP:{b.openElements.currentTagId===_e.OPTION&&b.openElements.pop(),b.openElements.currentTagId===_e.OPTGROUP&&b.openElements.pop(),b._insertElement(L,ra.HTML);break}case _e.HR:{b.openElements.currentTagId===_e.OPTION&&b.openElements.pop(),b.openElements.currentTagId===_e.OPTGROUP&&b.openElements.pop(),b._appendElement(L,ra.HTML),L.ackSelfClosing=!0;break}case _e.INPUT:case _e.KEYGEN:case _e.TEXTAREA:case _e.SELECT:{b.openElements.hasInSelectScope(_e.SELECT)&&(b.openElements.popUntilTagNamePopped(_e.SELECT),b._resetInsertionMode(),L.tagID!==_e.SELECT&&b._processStartTag(L));break}case _e.SCRIPT:case _e.TEMPLATE:{xr(b,L);break}default:}}function Uc(b,L){switch(L.tagID){case _e.OPTGROUP:{b.openElements.stackTop>0&&b.openElements.currentTagId===_e.OPTION&&b.openElements.tagIDs[b.openElements.stackTop-1]===_e.OPTGROUP&&b.openElements.pop(),b.openElements.currentTagId===_e.OPTGROUP&&b.openElements.pop();break}case _e.OPTION:{b.openElements.currentTagId===_e.OPTION&&b.openElements.pop();break}case _e.SELECT:{b.openElements.hasInSelectScope(_e.SELECT)&&(b.openElements.popUntilTagNamePopped(_e.SELECT),b._resetInsertionMode());break}case _e.TEMPLATE:{Ai(b,L);break}default:}}function md(b,L){const we=L.tagID;we===_e.CAPTION||we===_e.TABLE||we===_e.TBODY||we===_e.TFOOT||we===_e.THEAD||we===_e.TR||we===_e.TD||we===_e.TH?(b.openElements.popUntilTagNamePopped(_e.SELECT),b._resetInsertionMode(),b._processStartTag(L)):Mc(b,L)}function vd(b,L){const we=L.tagID;we===_e.CAPTION||we===_e.TABLE||we===_e.TBODY||we===_e.TFOOT||we===_e.THEAD||we===_e.TR||we===_e.TD||we===_e.TH?b.openElements.hasInTableScope(we)&&(b.openElements.popUntilTagNamePopped(_e.SELECT),b._resetInsertionMode(),b.onEndTag(L)):Uc(b,L)}function yd(b,L){switch(L.tagID){case _e.BASE:case _e.BASEFONT:case _e.BGSOUND:case _e.LINK:case _e.META:case _e.NOFRAMES:case _e.SCRIPT:case _e.STYLE:case _e.TEMPLATE:case _e.TITLE:{xr(b,L);break}case _e.CAPTION:case _e.COLGROUP:case _e.TBODY:case _e.TFOOT:case _e.THEAD:{b.tmplInsertionModeStack[0]=rt.IN_TABLE,b.insertionMode=rt.IN_TABLE,Qs(b,L);break}case _e.COL:{b.tmplInsertionModeStack[0]=rt.IN_COLUMN_GROUP,b.insertionMode=rt.IN_COLUMN_GROUP,ed(b,L);break}case _e.TR:{b.tmplInsertionModeStack[0]=rt.IN_TABLE_BODY,b.insertionMode=rt.IN_TABLE_BODY,Sd(b,L);break}case _e.TD:case _e.TH:{b.tmplInsertionModeStack[0]=rt.IN_ROW,b.insertionMode=rt.IN_ROW,Fd(b,L);break}default:b.tmplInsertionModeStack[0]=rt.IN_BODY,b.insertionMode=rt.IN_BODY,Ha(b,L)}}function df(b,L){L.tagID===_e.TEMPLATE&&Ai(b,L)}function Ef(b,L){b.openElements.tmplCount>0?(b.openElements.popUntilTagNamePopped(_e.TEMPLATE),b.activeFormattingElements.clearToLastMarker(),b.tmplInsertionModeStack.shift(),b._resetInsertionMode(),b.onEof(L)):ls(b,L)}function Yf(b,L){L.tagID===_e.HTML?Ha(b,L):td(b,L)}function $f(b,L){var we;if(L.tagID===_e.HTML){if(b.fragmentContext||(b.insertionMode=rt.AFTER_AFTER_BODY),b.options.sourceCodeLocationInfo&&b.openElements.tagIDs[0]===_e.HTML){b._setEndLocation(b.openElements.items[0],L);const On=b.openElements.items[1];On&&!(!((we=b.treeAdapter.getNodeSourceCodeLocation(On))===null||we===void 0)&&we.endTag)&&b._setEndLocation(On,L)}}else td(b,L)}function td(b,L){b.insertionMode=rt.IN_BODY,ru(b,L)}function Ad(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.FRAMESET:{b._insertElement(L,ra.HTML);break}case _e.FRAME:{b._appendElement(L,ra.HTML),L.ackSelfClosing=!0;break}case _e.NOFRAMES:{xr(b,L);break}default:}}function kl(b,L){L.tagID===_e.FRAMESET&&!b.openElements.isRootHtmlElementCurrent()&&(b.openElements.pop(),!b.fragmentContext&&b.openElements.currentTagId!==_e.FRAMESET&&(b.insertionMode=rt.AFTER_FRAMESET))}function Bl(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.NOFRAMES:{xr(b,L);break}default:}}function _d(b,L){L.tagID===_e.HTML&&(b.insertionMode=rt.AFTER_AFTER_FRAMESET)}function Of(b,L){L.tagID===_e.HTML?Ha(b,L):hf(b,L)}function hf(b,L){b.insertionMode=rt.IN_BODY,ru(b,L)}function Ud(b,L){switch(L.tagID){case _e.HTML:{Ha(b,L);break}case _e.NOFRAMES:{xr(b,L);break}default:}}function dd(b,L){L.chars=et,b._insertCharacters(L)}function pf(b,L){b._insertCharacters(L),b.framesetOk=!1}function nd(b){for(;b.treeAdapter.getNamespaceURI(b.openElements.current)!==ra.HTML&&!b._isIntegrationPoint(b.openElements.currentTagId,b.openElements.current);)b.openElements.pop()}function Kd(b,L){if(ds(L))nd(b),b._startTagOutsideForeignContent(L);else{const we=b._getAdjustedCurrentElement(),On=b.treeAdapter.getNamespaceURI(we);On===ra.MATHML?Za(L):On===ra.SVG&&(nu(L),ks(L)),oo(L),L.selfClosing?b._appendElement(L,On):b._insertElement(L,On),L.ackSelfClosing=!0}}function sc(b,L){if(L.tagID===_e.P||L.tagID===_e.BR){nd(b),b._endTagOutsideForeignContent(L);return}for(let we=b.openElements.stackTop;we>0;we--){const On=b.openElements.items[we];if(b.treeAdapter.getNamespaceURI(On)===ra.HTML){b._endTagOutsideForeignContent(L);break}const _i=b.treeAdapter.getTagName(On);if(_i.toLowerCase()===L.tagName){L.tagName=_i,b.openElements.shortenToLength(we);break}}}const Gc=/["&'<>$\x80-\uFFFF]/g,ee=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Me=String.prototype.codePointAt!=null?(b,L)=>b.codePointAt(L):(b,L)=>(b.charCodeAt(L)&64512)===55296?(b.charCodeAt(L)-55296)*1024+b.charCodeAt(L+1)-56320+65536:b.charCodeAt(L);function Ve(b){let L="",we=0,On;for(;(On=Gc.exec(b))!==null;){const _i=On.index,Oa=b.charCodeAt(_i),Xa=ee.get(Oa);Xa!==void 0?(L+=b.substring(we,_i)+Xa,we=_i+1):(L+=`${b.substring(we,_i)}&#x${Me(b,_i).toString(16)};`,we=Gc.lastIndex+=+((Oa&64512)===55296))}return L+b.substr(we)}const Tt=null;function pn(b,L){return function(On){let _i,Oa=0,Xa="";for(;_i=b.exec(On);)Oa!==_i.index&&(Xa+=On.substring(Oa,_i.index)),Xa+=L.get(_i[0].charCodeAt(0)),Oa=_i.index+1;return Xa+On.substring(Oa)}}const yn=pn(/[&<>'"]/g,ee),Vn=pn(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Pr=pn(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),Zi=new Set([Gn.AREA,Gn.BASE,Gn.BASEFONT,Gn.BGSOUND,Gn.BR,Gn.COL,Gn.EMBED,Gn.FRAME,Gn.HR,Gn.IMG,Gn.INPUT,Gn.KEYGEN,Gn.LINK,Gn.META,Gn.PARAM,Gn.SOURCE,Gn.TRACK,Gn.WBR]);function ji(b,L){return L.treeAdapter.isElementNode(b)&&L.treeAdapter.getNamespaceURI(b)===NS.HTML&&Zi.has(L.treeAdapter.getTagName(b))}const Dt={treeAdapter:dn,scriptingEnabled:!0};function Ta(b,L){const we=us(us({},Dt),L);return ji(b,we)?"":yi(b,we)}function ba(b,L){const we=us(us({},Dt),L);return ko(b,we)}function yi(b,L){let we="";const On=L.treeAdapter.isElementNode(b)&&L.treeAdapter.getTagName(b)===$.TEMPLATE&&L.treeAdapter.getNamespaceURI(b)===NS.HTML?L.treeAdapter.getTemplateContent(b):b,_i=L.treeAdapter.getChildNodes(On);if(_i)for(const Oa of _i)we+=ko(Oa,L);return we}function ko(b,L){return L.treeAdapter.isElementNode(b)?pu(b,L):L.treeAdapter.isTextNode(b)?ps(b,L):L.treeAdapter.isCommentNode(b)?Zs(b,L):L.treeAdapter.isDocumentTypeNode(b)?ss(b,L):""}function pu(b,L){const we=L.treeAdapter.getTagName(b);return`<${we}${gu(b,L)}>${ji(b,L)?"":`${yi(b,L)}</${we}>`}`}function gu(b,{treeAdapter:L}){let we="";for(const On of L.getAttrList(b)){if(we+=" ",On.namespace)switch(On.namespace){case NS.XML:{we+=`xml:${On.name}`;break}case NS.XMLNS:{On.name!=="xmlns"&&(we+="xmlns:"),we+=On.name;break}case NS.XLINK:{we+=`xlink:${On.name}`;break}default:we+=`${On.prefix}:${On.name}`}else we+=On.name;we+=`="${escapeAttribute(On.value)}"`}return we}function ps(b,L){const{treeAdapter:we}=L,On=we.getTextNodeContent(b),_i=we.getParentNode(b),Oa=_i&&we.isElementNode(_i)&&we.getTagName(_i);return Oa&&we.getNamespaceURI(_i)===NS.HTML&&hasUnescapedText(Oa,L.scriptingEnabled)?On:escapeText(On)}function Zs(b,{treeAdapter:L}){return`<!--${L.getCommentNodeContent(b)}-->`}function ss(b,{treeAdapter:L}){return`<!DOCTYPE ${L.getDocumentTypeNodeName(b)}>`}function wl(b,L){return Parser.parse(b,L)}function ol(b,L,we){typeof b=="string"&&(we=L,L=b,b=null);const On=Parser.getFragmentParser(b,we);return On.tokenizer.write(L,!0),On.getFragment()}var Lo=A(42740),Fl=A(25709);const Rl=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Kl=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),xu={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function xc(b,L){const we=$c(b),On=Qe("type",{handlers:{root:Js,element:mu,text:Nu,comment:bl,doctype:vu,raw:pc},unknown:Hi}),_i={parser:we?new Xi(xu):Xi.getFragmentParser(void 0,xu),handle(ts){On(ts,_i)},stitches:!1,options:L||{}};On(b,_i),Yc(_i,(0,Lo.Pk)());const Oa=we?_i.parser.document:_i.parser.getFragment(),Xa=Gt(Oa,{file:_i.options.file});return _i.stitches&&(0,Fl.Vn)(Xa,"comment",function(ts,is,Co){const Vu=ts;if(Vu.value.stitch&&Co&&is!==void 0){const ul=Co.children;return ul[is]=Vu.value.stitch,is}}),Xa.type==="root"&&Xa.children.length===1&&Xa.children[0].type===b.type?Xa.children[0]:Xa}function Vl(b,L){let we=-1;if(b)for(;++we<b.length;)L.handle(b[we])}function Js(b,L){Vl(b.children,L)}function mu(b,L){Li(b,L),Vl(b.children,L),$o(b,L)}function Nu(b,L){L.parser.tokenizer.state>4&&(L.parser.tokenizer.state=0);const we={type:Ar.CHARACTER,chars:b.value,location:nc(b)};Yc(L,(0,Lo.Pk)(b)),L.parser.currentToken=we,L.parser._processToken(L.parser.currentToken)}function vu(b,L){const we={type:Ar.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:nc(b)};Yc(L,(0,Lo.Pk)(b)),L.parser.currentToken=we,L.parser._processToken(L.parser.currentToken)}function yc(b,L){L.stitches=!0;const we=rd(b);if("children"in b&&"children"in we){const On=xc({type:"root",children:b.children},L.options);we.children=On.children}bl({type:"comment",value:{stitch:we}},L)}function bl(b,L){const we=b.value,On={type:Ar.COMMENT,data:we,location:nc(b)};Yc(L,(0,Lo.Pk)(b)),L.parser.currentToken=On,L.parser._processToken(L.parser.currentToken)}function pc(b,L){if(L.parser.tokenizer.preprocessor.html="",L.parser.tokenizer.preprocessor.pos=-1,L.parser.tokenizer.preprocessor.lastGapPos=-2,L.parser.tokenizer.preprocessor.gapStack=[],L.parser.tokenizer.preprocessor.skipNextNewLine=!1,L.parser.tokenizer.preprocessor.lastChunkWritten=!1,L.parser.tokenizer.preprocessor.endOfChunkHit=!1,L.parser.tokenizer.preprocessor.isEol=!1,js(L,(0,Lo.Pk)(b)),L.parser.tokenizer.write(L.options.tagfilter?b.value.replace(Rl,"&lt;$1$2"):b.value,!1),L.parser.tokenizer._runParsingLoop(),L.parser.tokenizer.state===72||L.parser.tokenizer.state===78){L.parser.tokenizer.preprocessor.lastChunkWritten=!0;const we=L.parser.tokenizer._consume();L.parser.tokenizer._callState(we)}}function Hi(b,L){const we=b;if(L.options.passThrough&&L.options.passThrough.includes(we.type))yc(we,L);else{let On="";throw Kl.has(we.type)&&(On=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+we.type+"` node"+On)}}function Yc(b,L){js(b,L);const we=b.parser.tokenizer.currentCharacterToken;we&&we.location&&(we.location.endLine=b.parser.tokenizer.preprocessor.line,we.location.endCol=b.parser.tokenizer.preprocessor.col+1,we.location.endOffset=b.parser.tokenizer.preprocessor.offset+1,b.parser.currentToken=we,b.parser._processToken(b.parser.currentToken)),b.parser.tokenizer.paused=!1,b.parser.tokenizer.inLoop=!1,b.parser.tokenizer.active=!1,b.parser.tokenizer.returnState=Bn.DATA,b.parser.tokenizer.charRefCode=-1,b.parser.tokenizer.consumedAfterSnapshot=-1,b.parser.tokenizer.currentLocation=null,b.parser.tokenizer.currentCharacterToken=null,b.parser.tokenizer.currentToken=null,b.parser.tokenizer.currentAttr={name:"",value:""}}function js(b,L){if(L&&L.offset!==void 0){const we={startLine:L.line,startCol:L.column,startOffset:L.offset,endLine:-1,endCol:-1,endOffset:-1};b.parser.tokenizer.preprocessor.lineStartPos=-L.column+1,b.parser.tokenizer.preprocessor.droppedBufferSize=L.offset,b.parser.tokenizer.preprocessor.line=L.line,b.parser.tokenizer.currentLocation=we}}function Li(b,L){const we=b.tagName.toLowerCase();if(L.parser.tokenizer.state===Bn.PLAINTEXT)return;Yc(L,(0,Lo.Pk)(b));const On=L.parser.openElements.current;let _i="namespaceURI"in On?On.namespaceURI:Ke.html;_i===Ke.html&&we==="svg"&&(_i=Ke.svg);const Oa=At(g0(us({},b),{children:[]}),{space:_i===Ke.svg?"svg":"html"}),Xa={type:Ar.START_TAG,tagName:we,tagID:Ka(we),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in Oa?Oa.attrs:[],location:nc(b)};L.parser.currentToken=Xa,L.parser._processToken(L.parser.currentToken),L.parser.tokenizer.lastStartTagName=we}function $o(b,L){const we=b.tagName.toLowerCase();if(!L.parser.tokenizer.inForeignNode&&Vt.includes(we)||L.parser.tokenizer.state===Bn.PLAINTEXT)return;Yc(L,(0,Lo.rb)(b));const On={type:Ar.END_TAG,tagName:we,tagID:Ka(we),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:nc(b)};L.parser.currentToken=On,L.parser._processToken(L.parser.currentToken),we===L.parser.tokenizer.lastStartTagName&&(L.parser.tokenizer.state===Bn.RCDATA||L.parser.tokenizer.state===Bn.RAWTEXT||L.parser.tokenizer.state===Bn.SCRIPT_DATA)&&(L.parser.tokenizer.state=Bn.DATA)}function $c(b){const L=b.type==="root"?b.children[0]:b;return!!(L&&(L.type==="doctype"||L.type==="element"&&L.tagName.toLowerCase()==="html"))}function nc(b){const L=(0,Lo.Pk)(b)||{line:void 0,column:void 0,offset:void 0},we=(0,Lo.rb)(b)||{line:void 0,column:void 0,offset:void 0};return{startLine:L.line,startCol:L.column,startOffset:L.offset,endLine:we.line,endCol:we.column,endOffset:we.offset}}function rd(b){return"children"in b?(0,w.ZP)(g0(us({},b),{children:[]})):(0,w.ZP)(b)}function qu(b){return function(L,we){return xc(L,g0(us({},b),{file:we}))}}},70077:function(cn,Ne,A){"use strict";A.d(Ne,{Z:function(){return Xo}});function w(wt,er){const nn=String(wt);if(typeof er!="string")throw new TypeError("Expected character");let wr=0,hi=nn.indexOf(er);for(;hi!==-1;)wr++,hi=nn.indexOf(er,hi+er.length);return wr}var B=A(4729),ne=A(6020);function ue(wt){if(typeof wt!="string")throw new TypeError("Expected a string");return wt.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var j=A(34505),q=A(11135);function Y(wt,er,nn){const wr=nn||{},hi=(0,q.O)(wr.ignore||[]),gi=K(er);let xr=-1;for(;++xr<gi.length;)(0,j.S4)(wt,"text",Ji);function Ji(Mi,po){let ha=-1,Qo;for(;++ha<po.length;){const Cs=po[ha],Oo=Qo?Qo.children:void 0;if(hi(Cs,Oo?Oo.indexOf(Cs):void 0,Qo))return;Qo=Cs}if(Qo)return Ai(Mi,po)}function Ai(Mi,po){const ha=po[po.length-1],Qo=gi[xr][0],Cs=gi[xr][1];let Oo=0;const ru=ha.children.indexOf(Mi);let xt=!1,Zn=[];Qo.lastIndex=0;let Cr=Qo.exec(Mi.value);for(;Cr;){const Di=Cr.index,wa={index:Cr.index,input:Cr.input,stack:[...po,Mi]};let Eo=Cs(...Cr,wa);if(typeof Eo=="string"&&(Eo=Eo.length>0?{type:"text",value:Eo}:void 0),Eo===!1?Qo.lastIndex=Di+1:(Oo!==Di&&Zn.push({type:"text",value:Mi.value.slice(Oo,Di)}),Array.isArray(Eo)?Zn.push(...Eo):Eo&&Zn.push(Eo),Oo=Di+Cr[0].length,xt=!0),!Qo.global)break;Cr=Qo.exec(Mi.value)}return xt?(Oo<Mi.value.length&&Zn.push({type:"text",value:Mi.value.slice(Oo)}),ha.children.splice(ru,1,...Zn)):Zn=[Mi],ru+Zn.length}}function K(wt){const er=[];if(!Array.isArray(wt))throw new TypeError("Expected find and replace tuple or list of tuples");const nn=!wt[0]||Array.isArray(wt[0])?wt:[wt];let wr=-1;for(;++wr<nn.length;){const hi=nn[wr];er.push([H(hi[0]),ae(hi[1])])}return er}function H(wt){return typeof wt=="string"?new RegExp(ue(wt),"g"):wt}function ae(wt){return typeof wt=="function"?wt:function(){return wt}}const ie="phrasing",le=["autolink","link","image","label"];function se(){return{transforms:[pt],enter:{literalAutolink:ye,literalAutolinkEmail:ve,literalAutolinkHttp:ve,literalAutolinkWww:ve},exit:{literalAutolink:gt,literalAutolinkEmail:yt,literalAutolinkHttp:fe,literalAutolinkWww:Fe}}}function ge(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ie,notInConstruct:le},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ie,notInConstruct:le},{character:":",before:"[ps]",after:"\\/",inConstruct:ie,notInConstruct:le}]}}function ye(wt){this.enter({type:"link",title:null,url:"",children:[]},wt)}function ve(wt){this.config.enter.autolinkProtocol.call(this,wt)}function fe(wt){this.config.exit.autolinkProtocol.call(this,wt)}function Fe(wt){this.config.exit.data.call(this,wt);const er=this.stack[this.stack.length-1];(0,B.ok)(er.type==="link"),er.url="http://"+this.sliceSerialize(wt)}function yt(wt){this.config.exit.autolinkEmail.call(this,wt)}function gt(wt){this.exit(wt)}function pt(wt){Y(wt,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,lt],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Ke]],{ignore:["link","linkReference"]})}function lt(wt,er,nn,wr,hi){let gi="";if(!Gt(hi)||(/^w/i.test(er)&&(nn=er+nn,er="",gi="http://"),!Ue(nn)))return!1;const xr=Pt(nn+wr);if(!xr[0])return!1;const Ji={type:"link",title:null,url:gi+er+xr[0],children:[{type:"text",value:er+xr[0]}]};return xr[1]?[Ji,{type:"text",value:xr[1]}]:Ji}function Ke(wt,er,nn,wr){return!Gt(wr,!0)||/[-\d_]$/.test(nn)?!1:{type:"link",title:null,url:"mailto:"+er+"@"+nn,children:[{type:"text",value:er+"@"+nn}]}}function Ue(wt){const er=wt.split(".");return!(er.length<2||er[er.length-1]&&(/_/.test(er[er.length-1])||!/[a-zA-Z\d]/.test(er[er.length-1]))||er[er.length-2]&&(/_/.test(er[er.length-2])||!/[a-zA-Z\d]/.test(er[er.length-2])))}function Pt(wt){const er=/[!"&'),.:;<>?\]}]+$/.exec(wt);if(!er)return[wt,void 0];wt=wt.slice(0,er.index);let nn=er[0],wr=nn.indexOf(")");const hi=w(wt,"(");let gi=w(wt,")");for(;wr!==-1&&hi>gi;)wt+=nn.slice(0,wr+1),nn=nn.slice(wr+1),wr=nn.indexOf(")"),gi++;return[wt,nn]}function Gt(wt,er){const nn=wt.input.charCodeAt(wt.index-1);return(wt.index===0||(0,ne.B8)(nn)||(0,ne.Xh)(nn))&&(!er||nn!==47)}var rn=A(23185);Bt.peek=At;function _n(){return{enter:{gfmFootnoteDefinition:Nt,gfmFootnoteDefinitionLabelString:ft,gfmFootnoteCall:Pe,gfmFootnoteCallString:Qe},exit:{gfmFootnoteDefinition:tt,gfmFootnoteDefinitionLabelString:ln,gfmFootnoteCall:_t,gfmFootnoteCallString:He}}}function qe(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:Je,footnoteReference:Bt}}}function Nt(wt){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},wt)}function ft(){this.buffer()}function ln(wt){const er=this.resume(),nn=this.stack[this.stack.length-1];(0,B.ok)(nn.type==="footnoteDefinition"),nn.label=er,nn.identifier=(0,rn.d)(this.sliceSerialize(wt)).toLowerCase()}function tt(wt){this.exit(wt)}function Pe(wt){this.enter({type:"footnoteReference",identifier:"",label:""},wt)}function Qe(){this.buffer()}function He(wt){const er=this.resume(),nn=this.stack[this.stack.length-1];(0,B.ok)(nn.type==="footnoteReference"),nn.label=er,nn.identifier=(0,rn.d)(this.sliceSerialize(wt)).toLowerCase()}function _t(wt){this.exit(wt)}function Bt(wt,er,nn,wr){const hi=nn.createTracker(wr);let gi=hi.move("[^");const xr=nn.enter("footnoteReference"),Ji=nn.enter("reference");return gi+=hi.move(nn.safe(nn.associationId(wt),g0(us({},hi.current()),{before:gi,after:"]"}))),Ji(),xr(),gi+=hi.move("]"),gi}function At(){return"["}function Je(wt,er,nn,wr){const hi=nn.createTracker(wr);let gi=hi.move("[^");const xr=nn.enter("footnoteDefinition"),Ji=nn.enter("label");return gi+=hi.move(nn.safe(nn.associationId(wt),g0(us({},hi.current()),{before:gi,after:"]"}))),Ji(),gi+=hi.move("]:"+(wt.children&&wt.children.length>0?" ":"")),hi.shift(4),gi+=hi.move(nn.indentLines(nn.containerFlow(wt,hi.current()),zt)),xr(),gi}function zt(wt,er,nn){return er===0?wt:(nn?"":"    ")+wt}const mn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Oe.peek=Ge;function Ot(){return{canContainEols:["delete"],enter:{strikethrough:ct},exit:{strikethrough:Rt}}}function Xe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:mn}],handlers:{delete:Oe}}}function ct(wt){this.enter({type:"delete",children:[]},wt)}function Rt(wt){this.exit(wt)}function Oe(wt,er,nn,wr){const hi=nn.createTracker(wr),gi=nn.enter("strikethrough");let xr=hi.move("~~");return xr+=nn.containerPhrasing(wt,g0(us({},hi.current()),{before:xr,after:"~"})),xr+=hi.move("~~"),gi(),xr}function Ge(){return"~"}function Vt(wt){return wt.length}function De(wt,er){const nn=er||{},wr=(nn.align||[]).concat(),hi=nn.stringLength||Vt,gi=[],xr=[],Ji=[],Ai=[];let Mi=0,po=-1;for(;++po<wt.length;){const su=[],ru=[];let xt=-1;for(wt[po].length>Mi&&(Mi=wt[po].length);++xt<wt[po].length;){const Zn=et(wt[po][xt]);if(nn.alignDelimiters!==!1){const Cr=hi(Zn);ru[xt]=Cr,(Ai[xt]===void 0||Cr>Ai[xt])&&(Ai[xt]=Cr)}su.push(Zn)}xr[po]=su,Ji[po]=ru}let ha=-1;if(typeof wr=="object"&&"length"in wr)for(;++ha<Mi;)gi[ha]=Ce(wr[ha]);else{const su=Ce(wr);for(;++ha<Mi;)gi[ha]=su}ha=-1;const Qo=[],Cs=[];for(;++ha<Mi;){const su=gi[ha];let ru="",xt="";su===99?(ru=":",xt=":"):su===108?ru=":":su===114&&(xt=":");let Zn=nn.alignDelimiters===!1?1:Math.max(1,Ai[ha]-ru.length-xt.length);const Cr=ru+"-".repeat(Zn)+xt;nn.alignDelimiters!==!1&&(Zn=ru.length+Zn+xt.length,Zn>Ai[ha]&&(Ai[ha]=Zn),Cs[ha]=Zn),Qo[ha]=Cr}xr.splice(1,0,Qo),Ji.splice(1,0,Cs),po=-1;const Oo=[];for(;++po<xr.length;){const su=xr[po],ru=Ji[po];ha=-1;const xt=[];for(;++ha<Mi;){const Zn=su[ha]||"";let Cr="",Di="";if(nn.alignDelimiters!==!1){const wa=Ai[ha]-(ru[ha]||0),Eo=gi[ha];Eo===114?Cr=" ".repeat(wa):Eo===99?wa%2?(Cr=" ".repeat(wa/2+.5),Di=" ".repeat(wa/2-.5)):(Cr=" ".repeat(wa/2),Di=Cr):Di=" ".repeat(wa)}nn.delimiterStart!==!1&&!ha&&xt.push("|"),nn.padding!==!1&&!(nn.alignDelimiters===!1&&Zn==="")&&(nn.delimiterStart!==!1||ha)&&xt.push(" "),nn.alignDelimiters!==!1&&xt.push(Cr),xt.push(Zn),nn.alignDelimiters!==!1&&xt.push(Di),nn.padding!==!1&&xt.push(" "),(nn.delimiterEnd!==!1||ha!==Mi-1)&&xt.push("|")}Oo.push(nn.delimiterEnd===!1?xt.join("").replace(/ +$/,""):xt.join(""))}return Oo.join(`
`)}function et(wt){return wt==null?"":String(wt)}function Ce(wt){const er=typeof wt=="string"?wt.codePointAt(0):0;return er===67||er===99?99:er===76||er===108?108:er===82||er===114?114:0}function J(wt,er,nn,wr){const hi=nn.enter("blockquote"),gi=nn.createTracker(wr);gi.move("> "),gi.shift(2);const xr=nn.indentLines(nn.containerFlow(wt,gi.current()),Le);return hi(),xr}function Le(wt,er,nn){return">"+(nn?"":" ")+wt}function Jt(wt,er){return Be(wt,er.inConstruct,!0)&&!Be(wt,er.notInConstruct,!1)}function Be(wt,er,nn){if(typeof er=="string"&&(er=[er]),!er||er.length===0)return nn;let wr=-1;for(;++wr<er.length;)if(wt.includes(er[wr]))return!0;return!1}function In(wt,er,nn,wr){let hi=-1;for(;++hi<nn.unsafe.length;)if(nn.unsafe[hi].character===`
`&&Jt(nn.stack,nn.unsafe[hi]))return/[ \t]/.test(wr.before)?"":" ";return`\\
`}function cr(wt,er){const nn=String(wt);let wr=nn.indexOf(er),hi=wr,gi=0,xr=0;if(typeof er!="string")throw new TypeError("Expected substring");for(;wr!==-1;)wr===hi?++gi>xr&&(xr=gi):gi=1,hi=wr+er.length,wr=nn.indexOf(er,hi);return xr}function bn(wt,er){return!!(er.options.fences===!1&&wt.value&&!wt.lang&&/[^ \r\n]/.test(wt.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(wt.value))}function ir(wt){const er=wt.options.fence||"`";if(er!=="`"&&er!=="~")throw new Error("Cannot serialize code with `"+er+"` for `options.fence`, expected `` ` `` or `~`");return er}function Nr(wt,er,nn,wr){const hi=ir(nn),gi=wt.value||"",xr=hi==="`"?"GraveAccent":"Tilde";if(bn(wt,nn)){const ha=nn.enter("codeIndented"),Qo=nn.indentLines(gi,Ar);return ha(),Qo}const Ji=nn.createTracker(wr),Ai=hi.repeat(Math.max(cr(gi,hi)+1,3)),Mi=nn.enter("codeFenced");let po=Ji.move(Ai);if(wt.lang){const ha=nn.enter(`codeFencedLang${xr}`);po+=Ji.move(nn.safe(wt.lang,us({before:po,after:" ",encode:["`"]},Ji.current()))),ha()}if(wt.lang&&wt.meta){const ha=nn.enter(`codeFencedMeta${xr}`);po+=Ji.move(" "),po+=Ji.move(nn.safe(wt.meta,us({before:po,after:`
`,encode:["`"]},Ji.current()))),ha()}return po+=Ji.move(`
`),gi&&(po+=Ji.move(gi+`
`)),po+=Ji.move(Ai),Mi(),po}function Ar(wt,er,nn){return(nn?"":"    ")+wt}function Zr(wt){const er=wt.options.quote||'"';if(er!=='"'&&er!=="'")throw new Error("Cannot serialize title with `"+er+"` for `options.quote`, expected `\"`, or `'`");return er}function wi(wt,er,nn,wr){const hi=Zr(nn),gi=hi==='"'?"Quote":"Apostrophe",xr=nn.enter("definition");let Ji=nn.enter("label");const Ai=nn.createTracker(wr);let Mi=Ai.move("[");return Mi+=Ai.move(nn.safe(nn.associationId(wt),us({before:Mi,after:"]"},Ai.current()))),Mi+=Ai.move("]: "),Ji(),!wt.url||/[\0- \u007F]/.test(wt.url)?(Ji=nn.enter("destinationLiteral"),Mi+=Ai.move("<"),Mi+=Ai.move(nn.safe(wt.url,us({before:Mi,after:">"},Ai.current()))),Mi+=Ai.move(">")):(Ji=nn.enter("destinationRaw"),Mi+=Ai.move(nn.safe(wt.url,us({before:Mi,after:wt.title?" ":`
`},Ai.current())))),Ji(),wt.title&&(Ji=nn.enter(`title${gi}`),Mi+=Ai.move(" "+hi),Mi+=Ai.move(nn.safe(wt.title,us({before:Mi,after:hi},Ai.current()))),Mi+=Ai.move(hi),Ji()),xr(),Mi}function Ln(wt){const er=wt.options.emphasis||"*";if(er!=="*"&&er!=="_")throw new Error("Cannot serialize emphasis with `"+er+"` for `options.emphasis`, expected `*`, or `_`");return er}function Nn(wt){return"&#x"+wt.toString(16).toUpperCase()+";"}var $n=A(72147);function wn(wt,er,nn){const wr=(0,$n.r)(wt),hi=(0,$n.r)(er);return wr===void 0?hi===void 0?nn==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:hi===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:wr===1?hi===void 0?{inside:!1,outside:!1}:hi===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:hi===void 0?{inside:!1,outside:!1}:hi===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}nt.peek=ze;function nt(wt,er,nn,wr){const hi=Ln(nn),gi=nn.enter("emphasis"),xr=nn.createTracker(wr),Ji=xr.move(hi);let Ai=xr.move(nn.containerPhrasing(wt,us({after:hi,before:Ji},xr.current())));const Mi=Ai.charCodeAt(0),po=wn(wr.before.charCodeAt(wr.before.length-1),Mi,hi);po.inside&&(Ai=Nn(Mi)+Ai.slice(1));const ha=Ai.charCodeAt(Ai.length-1),Qo=wn(wr.after.charCodeAt(0),ha,hi);Qo.inside&&(Ai=Ai.slice(0,-1)+Nn(ha));const Cs=xr.move(hi);return gi(),nn.attentionEncodeSurroundingInfo={after:Qo.outside,before:po.outside},Ji+Ai+Cs}function ze(wt,er,nn){return nn.options.emphasis||"*"}var vt=A(25709),$t=A(11721);function gn(wt,er){let nn=!1;return(0,vt.Vn)(wt,function(wr){if("value"in wr&&/\r?\n|\r/.test(wr.value)||wr.type==="break")return nn=!0,j.BK}),!!((!wt.depth||wt.depth<3)&&(0,$t.B)(wt)&&(er.options.setext||nn))}function at(wt,er,nn,wr){const hi=Math.max(Math.min(6,wt.depth||1),1),gi=nn.createTracker(wr);if(gn(wt,nn)){const po=nn.enter("headingSetext"),ha=nn.enter("phrasing"),Qo=nn.containerPhrasing(wt,g0(us({},gi.current()),{before:`
`,after:`
`}));return ha(),po(),Qo+`
`+(hi===1?"=":"-").repeat(Qo.length-(Math.max(Qo.lastIndexOf("\r"),Qo.lastIndexOf(`
`))+1))}const xr="#".repeat(hi),Ji=nn.enter("headingAtx"),Ai=nn.enter("phrasing");gi.move(xr+" ");let Mi=nn.containerPhrasing(wt,us({before:"# ",after:`
`},gi.current()));return/^[\t ]/.test(Mi)&&(Mi=Nn(Mi.charCodeAt(0))+Mi.slice(1)),Mi=Mi?xr+" "+Mi:xr,nn.options.closeAtx&&(Mi+=" "+xr),Ai(),Ji(),Mi}an.peek=hn;function an(wt){return wt.value||""}function hn(){return"<"}pr.peek=ur;function pr(wt,er,nn,wr){const hi=Zr(nn),gi=hi==='"'?"Quote":"Apostrophe",xr=nn.enter("image");let Ji=nn.enter("label");const Ai=nn.createTracker(wr);let Mi=Ai.move("![");return Mi+=Ai.move(nn.safe(wt.alt,us({before:Mi,after:"]"},Ai.current()))),Mi+=Ai.move("]("),Ji(),!wt.url&&wt.title||/[\0- \u007F]/.test(wt.url)?(Ji=nn.enter("destinationLiteral"),Mi+=Ai.move("<"),Mi+=Ai.move(nn.safe(wt.url,us({before:Mi,after:">"},Ai.current()))),Mi+=Ai.move(">")):(Ji=nn.enter("destinationRaw"),Mi+=Ai.move(nn.safe(wt.url,us({before:Mi,after:wt.title?" ":")"},Ai.current())))),Ji(),wt.title&&(Ji=nn.enter(`title${gi}`),Mi+=Ai.move(" "+hi),Mi+=Ai.move(nn.safe(wt.title,us({before:Mi,after:hi},Ai.current()))),Mi+=Ai.move(hi),Ji()),Mi+=Ai.move(")"),xr(),Mi}function ur(){return"!"}pi.peek=ar;function pi(wt,er,nn,wr){const hi=wt.referenceType,gi=nn.enter("imageReference");let xr=nn.enter("label");const Ji=nn.createTracker(wr);let Ai=Ji.move("![");const Mi=nn.safe(wt.alt,us({before:Ai,after:"]"},Ji.current()));Ai+=Ji.move(Mi+"]["),xr();const po=nn.stack;nn.stack=[],xr=nn.enter("reference");const ha=nn.safe(nn.associationId(wt),us({before:Ai,after:"]"},Ji.current()));return xr(),nn.stack=po,gi(),hi==="full"||!Mi||Mi!==ha?Ai+=Ji.move(ha+"]"):hi==="shortcut"?Ai=Ai.slice(0,-1):Ai+=Ji.move("]"),Ai}function ar(){return"!"}di.peek=sa;function di(wt,er,nn){let wr=wt.value||"",hi="`",gi=-1;for(;new RegExp("(^|[^`])"+hi+"([^`]|$)").test(wr);)hi+="`";for(/[^ \r\n]/.test(wr)&&(/^[ \r\n]/.test(wr)&&/[ \r\n]$/.test(wr)||/^`|`$/.test(wr))&&(wr=" "+wr+" ");++gi<nn.unsafe.length;){const xr=nn.unsafe[gi],Ji=nn.compilePattern(xr);let Ai;if(xr.atBreak)for(;Ai=Ji.exec(wr);){let Mi=Ai.index;wr.charCodeAt(Mi)===10&&wr.charCodeAt(Mi-1)===13&&Mi--,wr=wr.slice(0,Mi)+" "+wr.slice(Ai.index+1)}}return hi+wr+hi}function sa(){return"`"}function xa(wt,er){const nn=(0,$t.B)(wt);return!!(!er.options.resourceLink&&wt.url&&!wt.title&&wt.children&&wt.children.length===1&&wt.children[0].type==="text"&&(nn===wt.url||"mailto:"+nn===wt.url)&&/^[a-z][a-z+.-]+:/i.test(wt.url)&&!/[\0- <>\u007F]/.test(wt.url))}za.peek=Ui;function za(wt,er,nn,wr){const hi=Zr(nn),gi=hi==='"'?"Quote":"Apostrophe",xr=nn.createTracker(wr);let Ji,Ai;if(xa(wt,nn)){const po=nn.stack;nn.stack=[],Ji=nn.enter("autolink");let ha=xr.move("<");return ha+=xr.move(nn.containerPhrasing(wt,us({before:ha,after:">"},xr.current()))),ha+=xr.move(">"),Ji(),nn.stack=po,ha}Ji=nn.enter("link"),Ai=nn.enter("label");let Mi=xr.move("[");return Mi+=xr.move(nn.containerPhrasing(wt,us({before:Mi,after:"]("},xr.current()))),Mi+=xr.move("]("),Ai(),!wt.url&&wt.title||/[\0- \u007F]/.test(wt.url)?(Ai=nn.enter("destinationLiteral"),Mi+=xr.move("<"),Mi+=xr.move(nn.safe(wt.url,us({before:Mi,after:">"},xr.current()))),Mi+=xr.move(">")):(Ai=nn.enter("destinationRaw"),Mi+=xr.move(nn.safe(wt.url,us({before:Mi,after:wt.title?" ":")"},xr.current())))),Ai(),wt.title&&(Ai=nn.enter(`title${gi}`),Mi+=xr.move(" "+hi),Mi+=xr.move(nn.safe(wt.title,us({before:Mi,after:hi},xr.current()))),Mi+=xr.move(hi),Ai()),Mi+=xr.move(")"),Ji(),Mi}function Ui(wt,er,nn){return xa(wt,nn)?"<":"["}Ao.peek=fs;function Ao(wt,er,nn,wr){const hi=wt.referenceType,gi=nn.enter("linkReference");let xr=nn.enter("label");const Ji=nn.createTracker(wr);let Ai=Ji.move("[");const Mi=nn.containerPhrasing(wt,us({before:Ai,after:"]"},Ji.current()));Ai+=Ji.move(Mi+"]["),xr();const po=nn.stack;nn.stack=[],xr=nn.enter("reference");const ha=nn.safe(nn.associationId(wt),us({before:Ai,after:"]"},Ji.current()));return xr(),nn.stack=po,gi(),hi==="full"||!Mi||Mi!==ha?Ai+=Ji.move(ha+"]"):hi==="shortcut"?Ai=Ai.slice(0,-1):Ai+=Ji.move("]"),Ai}function fs(){return"["}function cs(wt){const er=wt.options.bullet||"*";if(er!=="*"&&er!=="+"&&er!=="-")throw new Error("Cannot serialize items with `"+er+"` for `options.bullet`, expected `*`, `+`, or `-`");return er}function ra(wt){const er=cs(wt),nn=wt.options.bulletOther;if(!nn)return er==="*"?"-":"*";if(nn!=="*"&&nn!=="+"&&nn!=="-")throw new Error("Cannot serialize items with `"+nn+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(nn===er)throw new Error("Expected `bullet` (`"+er+"`) and `bulletOther` (`"+nn+"`) to be different");return nn}function ms(wt){const er=wt.options.bulletOrdered||".";if(er!=="."&&er!==")")throw new Error("Cannot serialize items with `"+er+"` for `options.bulletOrdered`, expected `.` or `)`");return er}function xi(wt){const er=wt.options.rule||"*";if(er!=="*"&&er!=="-"&&er!=="_")throw new Error("Cannot serialize rules with `"+er+"` for `options.rule`, expected `*`, `-`, or `_`");return er}function Gn(wt,er,nn,wr){const hi=nn.enter("list"),gi=nn.bulletCurrent;let xr=wt.ordered?ms(nn):cs(nn);const Ji=wt.ordered?xr==="."?")":".":ra(nn);let Ai=er&&nn.bulletLastUsed?xr===nn.bulletLastUsed:!1;if(!wt.ordered){const po=wt.children?wt.children[0]:void 0;if((xr==="*"||xr==="-")&&po&&(!po.children||!po.children[0])&&nn.stack[nn.stack.length-1]==="list"&&nn.stack[nn.stack.length-2]==="listItem"&&nn.stack[nn.stack.length-3]==="list"&&nn.stack[nn.stack.length-4]==="listItem"&&nn.indexStack[nn.indexStack.length-1]===0&&nn.indexStack[nn.indexStack.length-2]===0&&nn.indexStack[nn.indexStack.length-3]===0&&(Ai=!0),xi(nn)===xr&&po){let ha=-1;for(;++ha<wt.children.length;){const Qo=wt.children[ha];if(Qo&&Qo.type==="listItem"&&Qo.children&&Qo.children[0]&&Qo.children[0].type==="thematicBreak"){Ai=!0;break}}}}Ai&&(xr=Ji),nn.bulletCurrent=xr;const Mi=nn.containerFlow(wt,wr);return nn.bulletLastUsed=xr,nn.bulletCurrent=gi,hi(),Mi}function _e(wt){const er=wt.options.listItemIndent||"one";if(er!=="tab"&&er!=="one"&&er!=="mixed")throw new Error("Cannot serialize items with `"+er+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return er}function oi(wt,er,nn,wr){const hi=_e(nn);let gi=nn.bulletCurrent||cs(nn);er&&er.type==="list"&&er.ordered&&(gi=(typeof er.start=="number"&&er.start>-1?er.start:1)+(nn.options.incrementListMarker===!1?0:er.children.indexOf(wt))+gi);let xr=gi.length+1;(hi==="tab"||hi==="mixed"&&(er&&er.type==="list"&&er.spread||wt.spread))&&(xr=Math.ceil(xr/4)*4);const Ji=nn.createTracker(wr);Ji.move(gi+" ".repeat(xr-gi.length)),Ji.shift(xr);const Ai=nn.enter("listItem"),Mi=nn.indentLines(nn.containerFlow(wt,Ji.current()),po);return Ai(),Mi;function po(ha,Qo,Cs){return Qo?(Cs?"":" ".repeat(xr))+ha:(Cs?gi:gi+" ".repeat(xr-gi.length))+ha}}function Ka(wt,er,nn,wr){const hi=nn.enter("paragraph"),gi=nn.enter("phrasing"),xr=nn.containerPhrasing(wt,wr);return gi(),hi(),xr}const Cn=(0,q.O)(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Un(wt,er,nn,wr){return(wt.children.some(function(xr){return Cn(xr)})?nn.containerPhrasing:nn.containerFlow).call(nn,wt,wr)}function tn(wt){const er=wt.options.strong||"*";if(er!=="*"&&er!=="_")throw new Error("Cannot serialize strong with `"+er+"` for `options.strong`, expected `*`, or `_`");return er}It.peek=Zt;function It(wt,er,nn,wr){const hi=tn(nn),gi=nn.enter("strong"),xr=nn.createTracker(wr),Ji=xr.move(hi+hi);let Ai=xr.move(nn.containerPhrasing(wt,us({after:hi,before:Ji},xr.current())));const Mi=Ai.charCodeAt(0),po=wn(wr.before.charCodeAt(wr.before.length-1),Mi,hi);po.inside&&(Ai=Nn(Mi)+Ai.slice(1));const ha=Ai.charCodeAt(Ai.length-1),Qo=wn(wr.after.charCodeAt(0),ha,hi);Qo.inside&&(Ai=Ai.slice(0,-1)+Nn(ha));const Cs=xr.move(hi+hi);return gi(),nn.attentionEncodeSurroundingInfo={after:Qo.outside,before:po.outside},Ji+Ai+Cs}function Zt(wt,er,nn){return nn.options.strong||"*"}function $e(wt,er,nn,wr){return nn.safe(wt.value,wr)}function Bn(wt){const er=wt.options.ruleRepetition||3;if(er<3)throw new Error("Cannot serialize rules with repetition `"+er+"` for `options.ruleRepetition`, expected `3` or more");return er}function Yn(wt,er,nn){const wr=(xi(nn)+(nn.options.ruleSpaces?" ":"")).repeat(Bn(nn));return nn.options.ruleSpaces?wr.slice(0,-1):wr}const or={blockquote:J,break:In,code:Nr,definition:wi,emphasis:nt,hardBreak:In,heading:at,html:an,image:pr,imageReference:pi,inlineCode:di,link:za,linkReference:Ao,list:Gn,listItem:oi,paragraph:Ka,root:Un,strong:It,text:$e,thematicBreak:Yn};function Ze(){return{enter:{table:je,tableData:fn,tableHeader:fn,tableRow:St},exit:{codeText:sn,table:st,tableData:En,tableHeader:En,tableRow:En}}}function je(wt){const er=wt._align;(0,B.ok)(er,"expected `_align` on table"),this.enter({type:"table",align:er.map(function(nn){return nn==="none"?null:nn}),children:[]},wt),this.data.inTable=!0}function st(wt){this.exit(wt),this.data.inTable=void 0}function St(wt){this.enter({type:"tableRow",children:[]},wt)}function En(wt){this.exit(wt)}function fn(wt){this.enter({type:"tableCell",children:[]},wt)}function sn(wt){let er=this.resume();this.data.inTable&&(er=er.replace(/\\([\\|])/g,Pn));const nn=this.stack[this.stack.length-1];(0,B.ok)(nn.type==="inlineCode"),nn.value=er,this.exit(wt)}function Pn(wt,er){return er==="|"?er:wt}function Hn(wt){const er=wt||{},nn=er.tableCellPadding,wr=er.tablePipeAlign,hi=er.stringLength,gi=nn?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:Qo,table:xr,tableCell:Ai,tableRow:Ji}};function xr(Cs,Oo,su,ru){return Mi(po(Cs,su,ru),Cs.align)}function Ji(Cs,Oo,su,ru){const xt=ha(Cs,su,ru),Zn=Mi([xt]);return Zn.slice(0,Zn.indexOf(`
`))}function Ai(Cs,Oo,su,ru){const xt=su.enter("tableCell"),Zn=su.enter("phrasing"),Cr=su.containerPhrasing(Cs,g0(us({},ru),{before:gi,after:gi}));return Zn(),xt(),Cr}function Mi(Cs,Oo){return De(Cs,{align:Oo,alignDelimiters:wr,padding:nn,stringLength:hi})}function po(Cs,Oo,su){const ru=Cs.children;let xt=-1;const Zn=[],Cr=Oo.enter("table");for(;++xt<ru.length;)Zn[xt]=ha(ru[xt],Oo,su);return Cr(),Zn}function ha(Cs,Oo,su){const ru=Cs.children;let xt=-1;const Zn=[],Cr=Oo.enter("tableRow");for(;++xt<ru.length;)Zn[xt]=Ai(ru[xt],Cs,Oo,su);return Cr(),Zn}function Qo(Cs,Oo,su){let ru=or.inlineCode(Cs,Oo,su);return su.stack.includes("tableCell")&&(ru=ru.replace(/\|/g,"\\$&")),ru}}function Ut(){return{exit:{taskListCheckValueChecked:Xt,taskListCheckValueUnchecked:Xt,paragraph:jt}}}function Yt(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:fr}}}function Xt(wt){const er=this.stack[this.stack.length-2];(0,B.ok)(er.type==="listItem"),er.checked=wt.type==="taskListCheckValueChecked"}function jt(wt){const er=this.stack[this.stack.length-2];if(er&&er.type==="listItem"&&typeof er.checked=="boolean"){const nn=this.stack[this.stack.length-1];(0,B.ok)(nn.type==="paragraph");const wr=nn.children[0];if(wr&&wr.type==="text"){const hi=er.children;let gi=-1,xr;for(;++gi<hi.length;){const Ji=hi[gi];if(Ji.type==="paragraph"){xr=Ji;break}}xr===nn&&(wr.value=wr.value.slice(1),wr.value.length===0?nn.children.shift():nn.position&&wr.position&&typeof wr.position.start.offset=="number"&&(wr.position.start.column++,wr.position.start.offset++,nn.position.start=Object.assign({},wr.position.start)))}}this.exit(wt)}function fr(wt,er,nn,wr){const hi=wt.children[0],gi=typeof wt.checked=="boolean"&&hi&&hi.type==="paragraph",xr="["+(wt.checked?"x":" ")+"] ",Ji=nn.createTracker(wr);gi&&Ji.move(xr);let Ai=or.listItem(wt,er,nn,us(us({},wr),Ji.current()));return gi&&(Ai=Ai.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,Mi)),Ai;function Mi(po){return po+xr}}function vr(){return[se(),_n(),Ot(),Ze(),Ut()]}function yr(wt){return{extensions:[ge(),qe(),Xe(),Hn(wt),Yt()]}}var Br=A(33850);const Gi={tokenize:Xn,partial:!0},qi={tokenize:mt,partial:!0},$i={tokenize:vn,partial:!0},Wi={tokenize:tr,partial:!0},Ii={tokenize:Mr,partial:!0},Qa={name:"wwwAutolink",tokenize:Ct,previous:ui},on={name:"protocolAutolink",tokenize:xn,previous:Ri},dn={name:"emailAutolink",tokenize:Et,previous:Aa},jn={};function Ur(){return{text:jn}}let Yr=48;for(;Yr<123;)jn[Yr]=dn,Yr++,Yr===58?Yr=65:Yr===91&&(Yr=97);jn[43]=dn,jn[45]=dn,jn[46]=dn,jn[95]=dn,jn[72]=[dn,on],jn[104]=[dn,on],jn[87]=[dn,Qa],jn[119]=[dn,Qa];function Et(wt,er,nn){const wr=this;let hi,gi;return xr;function xr(ha){return!Ga(ha)||!Aa.call(wr,wr.previous)||vo(wr.events)?nn(ha):(wt.enter("literalAutolink"),wt.enter("literalAutolinkEmail"),Ji(ha))}function Ji(ha){return Ga(ha)?(wt.consume(ha),Ji):ha===64?(wt.consume(ha),Ai):nn(ha)}function Ai(ha){return ha===46?wt.check(Ii,po,Mi)(ha):ha===45||ha===95||(0,ne.H$)(ha)?(gi=!0,wt.consume(ha),Ai):po(ha)}function Mi(ha){return wt.consume(ha),hi=!0,Ai}function po(ha){return gi&&hi&&(0,ne.jv)(wr.previous)?(wt.exit("literalAutolinkEmail"),wt.exit("literalAutolink"),er(ha)):nn(ha)}}function Ct(wt,er,nn){const wr=this;return hi;function hi(xr){return xr!==87&&xr!==119||!ui.call(wr,wr.previous)||vo(wr.events)?nn(xr):(wt.enter("literalAutolink"),wt.enter("literalAutolinkWww"),wt.check(Gi,wt.attempt(qi,wt.attempt($i,gi),nn),nn)(xr))}function gi(xr){return wt.exit("literalAutolinkWww"),wt.exit("literalAutolink"),er(xr)}}function xn(wt,er,nn){const wr=this;let hi="",gi=!1;return xr;function xr(ha){return(ha===72||ha===104)&&Ri.call(wr,wr.previous)&&!vo(wr.events)?(wt.enter("literalAutolink"),wt.enter("literalAutolinkHttp"),hi+=String.fromCodePoint(ha),wt.consume(ha),Ji):nn(ha)}function Ji(ha){if((0,ne.jv)(ha)&&hi.length<5)return hi+=String.fromCodePoint(ha),wt.consume(ha),Ji;if(ha===58){const Qo=hi.toLowerCase();if(Qo==="http"||Qo==="https")return wt.consume(ha),Ai}return nn(ha)}function Ai(ha){return ha===47?(wt.consume(ha),gi?Mi:(gi=!0,Ai)):nn(ha)}function Mi(ha){return ha===null||(0,ne.Av)(ha)||(0,ne.z3)(ha)||(0,ne.B8)(ha)||(0,ne.Xh)(ha)?nn(ha):wt.attempt(qi,wt.attempt($i,po),nn)(ha)}function po(ha){return wt.exit("literalAutolinkHttp"),wt.exit("literalAutolink"),er(ha)}}function Xn(wt,er,nn){let wr=0;return hi;function hi(xr){return(xr===87||xr===119)&&wr<3?(wr++,wt.consume(xr),hi):xr===46&&wr===3?(wt.consume(xr),gi):nn(xr)}function gi(xr){return xr===null?nn(xr):er(xr)}}function mt(wt,er,nn){let wr,hi,gi;return xr;function xr(Mi){return Mi===46||Mi===95?wt.check(Wi,Ai,Ji)(Mi):Mi===null||(0,ne.z3)(Mi)||(0,ne.B8)(Mi)||Mi!==45&&(0,ne.Xh)(Mi)?Ai(Mi):(gi=!0,wt.consume(Mi),xr)}function Ji(Mi){return Mi===95?wr=!0:(hi=wr,wr=void 0),wt.consume(Mi),xr}function Ai(Mi){return hi||wr||!gi?nn(Mi):er(Mi)}}function vn(wt,er){let nn=0,wr=0;return hi;function hi(xr){return xr===40?(nn++,wt.consume(xr),hi):xr===41&&wr<nn?gi(xr):xr===33||xr===34||xr===38||xr===39||xr===41||xr===42||xr===44||xr===46||xr===58||xr===59||xr===60||xr===63||xr===93||xr===95||xr===126?wt.check(Wi,er,gi)(xr):xr===null||(0,ne.z3)(xr)||(0,ne.B8)(xr)?er(xr):(wt.consume(xr),hi)}function gi(xr){return xr===41&&wr++,wt.consume(xr),hi}}function tr(wt,er,nn){return wr;function wr(Ji){return Ji===33||Ji===34||Ji===39||Ji===41||Ji===42||Ji===44||Ji===46||Ji===58||Ji===59||Ji===63||Ji===95||Ji===126?(wt.consume(Ji),wr):Ji===38?(wt.consume(Ji),gi):Ji===93?(wt.consume(Ji),hi):Ji===60||Ji===null||(0,ne.z3)(Ji)||(0,ne.B8)(Ji)?er(Ji):nn(Ji)}function hi(Ji){return Ji===null||Ji===40||Ji===91||(0,ne.z3)(Ji)||(0,ne.B8)(Ji)?er(Ji):wr(Ji)}function gi(Ji){return(0,ne.jv)(Ji)?xr(Ji):nn(Ji)}function xr(Ji){return Ji===59?(wt.consume(Ji),wr):(0,ne.jv)(Ji)?(wt.consume(Ji),xr):nn(Ji)}}function Mr(wt,er,nn){return wr;function wr(gi){return wt.consume(gi),hi}function hi(gi){return(0,ne.H$)(gi)?nn(gi):er(gi)}}function ui(wt){return wt===null||wt===40||wt===42||wt===95||wt===91||wt===93||wt===126||(0,ne.z3)(wt)}function Ri(wt){return!(0,ne.jv)(wt)}function Aa(wt){return!(wt===47||Ga(wt))}function Ga(wt){return wt===43||wt===45||wt===46||wt===95||(0,ne.H$)(wt)}function vo(wt){let er=wt.length,nn=!1;for(;er--;){const wr=wt[er][1];if((wr.type==="labelLink"||wr.type==="labelImage")&&!wr._balanced){nn=!0;break}if(wr._gfmAutolinkLiteralWalkedInto){nn=!1;break}}return wt.length>0&&!nn&&(wt[wt.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),nn}var To=A(90924),Po=A(60403);const ds={tokenize:Sn,partial:!0};function Za(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:wu,continuation:{tokenize:Ll},exit:Si}},text:{91:{name:"gfmFootnoteCall",tokenize:nu},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ks,resolveTo:oo}}}}function ks(wt,er,nn){const wr=this;let hi=wr.events.length;const gi=wr.parser.gfmFootnotes||(wr.parser.gfmFootnotes=[]);let xr;for(;hi--;){const Ai=wr.events[hi][1];if(Ai.type==="labelImage"){xr=Ai;break}if(Ai.type==="gfmFootnoteCall"||Ai.type==="labelLink"||Ai.type==="label"||Ai.type==="image"||Ai.type==="link")break}return Ji;function Ji(Ai){if(!xr||!xr._balanced)return nn(Ai);const Mi=(0,rn.d)(wr.sliceSerialize({start:xr.end,end:wr.now()}));return Mi.codePointAt(0)!==94||!gi.includes(Mi.slice(1))?nn(Ai):(wt.enter("gfmFootnoteCallLabelMarker"),wt.consume(Ai),wt.exit("gfmFootnoteCallLabelMarker"),er(Ai))}}function oo(wt,er){let nn=wt.length,wr;for(;nn--;)if(wt[nn][1].type==="labelImage"&&wt[nn][0]==="enter"){wr=wt[nn][1];break}wt[nn+1][1].type="data",wt[nn+3][1].type="gfmFootnoteCallLabelMarker";const hi={type:"gfmFootnoteCall",start:Object.assign({},wt[nn+3][1].start),end:Object.assign({},wt[wt.length-1][1].end)},gi={type:"gfmFootnoteCallMarker",start:Object.assign({},wt[nn+3][1].end),end:Object.assign({},wt[nn+3][1].end)};gi.end.column++,gi.end.offset++,gi.end._bufferIndex++;const xr={type:"gfmFootnoteCallString",start:Object.assign({},gi.end),end:Object.assign({},wt[wt.length-1][1].start)},Ji={type:"chunkString",contentType:"string",start:Object.assign({},xr.start),end:Object.assign({},xr.end)},Ai=[wt[nn+1],wt[nn+2],["enter",hi,er],wt[nn+3],wt[nn+4],["enter",gi,er],["exit",gi,er],["enter",xr,er],["enter",Ji,er],["exit",Ji,er],["exit",xr,er],wt[wt.length-2],wt[wt.length-1],["exit",hi,er]];return wt.splice(nn,wt.length-nn+1,...Ai),wt}function nu(wt,er,nn){const wr=this,hi=wr.parser.gfmFootnotes||(wr.parser.gfmFootnotes=[]);let gi=0,xr;return Ji;function Ji(ha){return wt.enter("gfmFootnoteCall"),wt.enter("gfmFootnoteCallLabelMarker"),wt.consume(ha),wt.exit("gfmFootnoteCallLabelMarker"),Ai}function Ai(ha){return ha!==94?nn(ha):(wt.enter("gfmFootnoteCallMarker"),wt.consume(ha),wt.exit("gfmFootnoteCallMarker"),wt.enter("gfmFootnoteCallString"),wt.enter("chunkString").contentType="string",Mi)}function Mi(ha){if(gi>999||ha===93&&!xr||ha===null||ha===91||(0,ne.z3)(ha))return nn(ha);if(ha===93){wt.exit("chunkString");const Qo=wt.exit("gfmFootnoteCallString");return hi.includes((0,rn.d)(wr.sliceSerialize(Qo)))?(wt.enter("gfmFootnoteCallLabelMarker"),wt.consume(ha),wt.exit("gfmFootnoteCallLabelMarker"),wt.exit("gfmFootnoteCall"),er):nn(ha)}return(0,ne.z3)(ha)||(xr=!0),gi++,wt.consume(ha),ha===92?po:Mi}function po(ha){return ha===91||ha===92||ha===93?(wt.consume(ha),gi++,Mi):Mi(ha)}}function wu(wt,er,nn){const wr=this,hi=wr.parser.gfmFootnotes||(wr.parser.gfmFootnotes=[]);let gi,xr=0,Ji;return Ai;function Ai(Oo){return wt.enter("gfmFootnoteDefinition")._container=!0,wt.enter("gfmFootnoteDefinitionLabel"),wt.enter("gfmFootnoteDefinitionLabelMarker"),wt.consume(Oo),wt.exit("gfmFootnoteDefinitionLabelMarker"),Mi}function Mi(Oo){return Oo===94?(wt.enter("gfmFootnoteDefinitionMarker"),wt.consume(Oo),wt.exit("gfmFootnoteDefinitionMarker"),wt.enter("gfmFootnoteDefinitionLabelString"),wt.enter("chunkString").contentType="string",po):nn(Oo)}function po(Oo){if(xr>999||Oo===93&&!Ji||Oo===null||Oo===91||(0,ne.z3)(Oo))return nn(Oo);if(Oo===93){wt.exit("chunkString");const su=wt.exit("gfmFootnoteDefinitionLabelString");return gi=(0,rn.d)(wr.sliceSerialize(su)),wt.enter("gfmFootnoteDefinitionLabelMarker"),wt.consume(Oo),wt.exit("gfmFootnoteDefinitionLabelMarker"),wt.exit("gfmFootnoteDefinitionLabel"),Qo}return(0,ne.z3)(Oo)||(Ji=!0),xr++,wt.consume(Oo),Oo===92?ha:po}function ha(Oo){return Oo===91||Oo===92||Oo===93?(wt.consume(Oo),xr++,po):po(Oo)}function Qo(Oo){return Oo===58?(wt.enter("definitionMarker"),wt.consume(Oo),wt.exit("definitionMarker"),hi.includes(gi)||hi.push(gi),(0,Po.f)(wt,Cs,"gfmFootnoteDefinitionWhitespace")):nn(Oo)}function Cs(Oo){return er(Oo)}}function Ll(wt,er,nn){return wt.check(To.w,er,wt.attempt(ds,er,nn))}function Si(wt){wt.exit("gfmFootnoteDefinition")}function Sn(wt,er,nn){const wr=this;return(0,Po.f)(wt,hi,"gfmFootnoteDefinitionIndent",5);function hi(gi){const xr=wr.events[wr.events.length-1];return xr&&xr[1].type==="gfmFootnoteDefinitionIndent"&&xr[2].sliceSerialize(xr[1],!0).length===4?er(gi):nn(gi)}}var Qt=A(57974),rr=A(797);function rt(wt){let nn=(wt||{}).singleTilde;const wr={name:"strikethrough",tokenize:gi,resolveAll:hi};return nn==null&&(nn=!0),{text:{126:wr},insideSpan:{null:[wr]},attentionMarkers:{null:[126]}};function hi(xr,Ji){let Ai=-1;for(;++Ai<xr.length;)if(xr[Ai][0]==="enter"&&xr[Ai][1].type==="strikethroughSequenceTemporary"&&xr[Ai][1]._close){let Mi=Ai;for(;Mi--;)if(xr[Mi][0]==="exit"&&xr[Mi][1].type==="strikethroughSequenceTemporary"&&xr[Mi][1]._open&&xr[Ai][1].end.offset-xr[Ai][1].start.offset===xr[Mi][1].end.offset-xr[Mi][1].start.offset){xr[Ai][1].type="strikethroughSequence",xr[Mi][1].type="strikethroughSequence";const po={type:"strikethrough",start:Object.assign({},xr[Mi][1].start),end:Object.assign({},xr[Ai][1].end)},ha={type:"strikethroughText",start:Object.assign({},xr[Mi][1].end),end:Object.assign({},xr[Ai][1].start)},Qo=[["enter",po,Ji],["enter",xr[Mi][1],Ji],["exit",xr[Mi][1],Ji],["enter",ha,Ji]],Cs=Ji.parser.constructs.insideSpan.null;Cs&&(0,Qt.d)(Qo,Qo.length,0,(0,rr.C)(Cs,xr.slice(Mi+1,Ai),Ji)),(0,Qt.d)(Qo,Qo.length,0,[["exit",ha,Ji],["enter",xr[Ai][1],Ji],["exit",xr[Ai][1],Ji],["exit",po,Ji]]),(0,Qt.d)(xr,Mi-1,Ai-Mi+3,Qo),Ai=Mi+Qo.length-2;break}}for(Ai=-1;++Ai<xr.length;)xr[Ai][1].type==="strikethroughSequenceTemporary"&&(xr[Ai][1].type="data");return xr}function gi(xr,Ji,Ai){const Mi=this.previous,po=this.events;let ha=0;return Qo;function Qo(Oo){return Mi===126&&po[po.length-1][1].type!=="characterEscape"?Ai(Oo):(xr.enter("strikethroughSequenceTemporary"),Cs(Oo))}function Cs(Oo){const su=(0,$n.r)(Mi);if(Oo===126)return ha>1?Ai(Oo):(xr.consume(Oo),ha++,Cs);if(ha<2&&!nn)return Ai(Oo);const ru=xr.exit("strikethroughSequenceTemporary"),xt=(0,$n.r)(Oo);return ru._open=!xt||xt===2&&!!su,ru._close=!su||su===2&&!!xt,Ji(Oo)}}}class ai{constructor(){this.map=[]}add(er,nn,wr){mi(this,er,nn,wr)}consume(er){if(this.map.sort(function(gi,xr){return gi[0]-xr[0]}),this.map.length===0)return;let nn=this.map.length;const wr=[];for(;nn>0;)nn-=1,wr.push(er.slice(this.map[nn][0]+this.map[nn][1]),this.map[nn][2]),er.length=this.map[nn][0];wr.push([...er]),er.length=0;let hi=wr.pop();for(;hi;)er.push(...hi),hi=wr.pop();this.map.length=0}}function mi(wt,er,nn,wr){let hi=0;if(!(nn===0&&wr.length===0)){for(;hi<wt.map.length;){if(wt.map[hi][0]===er){wt.map[hi][1]+=nn,wt.map[hi][2].push(...wr);return}hi+=1}wt.map.push([er,nn,wr])}}function _a(wt,er){let nn=!1;const wr=[];for(;er<wt.length;){const hi=wt[er];if(nn){if(hi[0]==="enter")hi[1].type==="tableContent"&&wr.push(wt[er+1][1].type==="tableDelimiterMarker"?"left":"none");else if(hi[1].type==="tableContent"){if(wt[er-1][1].type==="tableDelimiterMarker"){const gi=wr.length-1;wr[gi]=wr[gi]==="left"?"center":"right"}}else if(hi[1].type==="tableDelimiterRow")break}else hi[0]==="enter"&&hi[1].type==="tableDelimiterRow"&&(nn=!0);er+=1}return wr}function Xi(){return{flow:{null:{name:"table",tokenize:ia,resolveAll:ua}}}}function ia(wt,er,nn){const wr=this;let hi=0,gi=0,xr;return Ji;function Ji(Ma){let iu=wr.events.length-1;for(;iu>-1;){const $s=wr.events[iu][1].type;if($s==="lineEnding"||$s==="linePrefix")iu--;else break}const au=iu>-1?wr.events[iu][1].type:null,as=au==="tableHead"||au==="tableRow"?Eo:Ai;return as===Eo&&wr.parser.lazy[wr.now().line]?nn(Ma):as(Ma)}function Ai(Ma){return wt.enter("tableHead"),wt.enter("tableRow"),Mi(Ma)}function Mi(Ma){return Ma===124||(xr=!0,gi+=1),po(Ma)}function po(Ma){return Ma===null?nn(Ma):(0,ne.Ch)(Ma)?gi>1?(gi=0,wr.interrupt=!0,wt.exit("tableRow"),wt.enter("lineEnding"),wt.consume(Ma),wt.exit("lineEnding"),Cs):nn(Ma):(0,ne.xz)(Ma)?(0,Po.f)(wt,po,"whitespace")(Ma):(gi+=1,xr&&(xr=!1,hi+=1),Ma===124?(wt.enter("tableCellDivider"),wt.consume(Ma),wt.exit("tableCellDivider"),xr=!0,po):(wt.enter("data"),ha(Ma)))}function ha(Ma){return Ma===null||Ma===124||(0,ne.z3)(Ma)?(wt.exit("data"),po(Ma)):(wt.consume(Ma),Ma===92?Qo:ha)}function Qo(Ma){return Ma===92||Ma===124?(wt.consume(Ma),ha):ha(Ma)}function Cs(Ma){return wr.interrupt=!1,wr.parser.lazy[wr.now().line]?nn(Ma):(wt.enter("tableDelimiterRow"),xr=!1,(0,ne.xz)(Ma)?(0,Po.f)(wt,Oo,"linePrefix",wr.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ma):Oo(Ma))}function Oo(Ma){return Ma===45||Ma===58?ru(Ma):Ma===124?(xr=!0,wt.enter("tableCellDivider"),wt.consume(Ma),wt.exit("tableCellDivider"),su):wa(Ma)}function su(Ma){return(0,ne.xz)(Ma)?(0,Po.f)(wt,ru,"whitespace")(Ma):ru(Ma)}function ru(Ma){return Ma===58?(gi+=1,xr=!0,wt.enter("tableDelimiterMarker"),wt.consume(Ma),wt.exit("tableDelimiterMarker"),xt):Ma===45?(gi+=1,xt(Ma)):Ma===null||(0,ne.Ch)(Ma)?Di(Ma):wa(Ma)}function xt(Ma){return Ma===45?(wt.enter("tableDelimiterFiller"),Zn(Ma)):wa(Ma)}function Zn(Ma){return Ma===45?(wt.consume(Ma),Zn):Ma===58?(xr=!0,wt.exit("tableDelimiterFiller"),wt.enter("tableDelimiterMarker"),wt.consume(Ma),wt.exit("tableDelimiterMarker"),Cr):(wt.exit("tableDelimiterFiller"),Cr(Ma))}function Cr(Ma){return(0,ne.xz)(Ma)?(0,Po.f)(wt,Di,"whitespace")(Ma):Di(Ma)}function Di(Ma){return Ma===124?Oo(Ma):Ma===null||(0,ne.Ch)(Ma)?!xr||hi!==gi?wa(Ma):(wt.exit("tableDelimiterRow"),wt.exit("tableHead"),er(Ma)):wa(Ma)}function wa(Ma){return nn(Ma)}function Eo(Ma){return wt.enter("tableRow"),yo(Ma)}function yo(Ma){return Ma===124?(wt.enter("tableCellDivider"),wt.consume(Ma),wt.exit("tableCellDivider"),yo):Ma===null||(0,ne.Ch)(Ma)?(wt.exit("tableRow"),er(Ma)):(0,ne.xz)(Ma)?(0,Po.f)(wt,yo,"whitespace")(Ma):(wt.enter("data"),Wr(Ma))}function Wr(Ma){return Ma===null||Ma===124||(0,ne.z3)(Ma)?(wt.exit("data"),yo(Ma)):(wt.consume(Ma),Ma===92?hs:Wr)}function hs(Ma){return Ma===92||Ma===124?(wt.consume(Ma),Wr):Wr(Ma)}}function ua(wt,er){let nn=-1,wr=!0,hi=0,gi=[0,0,0,0],xr=[0,0,0,0],Ji=!1,Ai=0,Mi,po,ha;const Qo=new ai;for(;++nn<wt.length;){const Cs=wt[nn],Oo=Cs[1];Cs[0]==="enter"?Oo.type==="tableHead"?(Ji=!1,Ai!==0&&(Ro(Qo,er,Ai,Mi,po),po=void 0,Ai=0),Mi={type:"table",start:Object.assign({},Oo.start),end:Object.assign({},Oo.end)},Qo.add(nn,0,[["enter",Mi,er]])):Oo.type==="tableRow"||Oo.type==="tableDelimiterRow"?(wr=!0,ha=void 0,gi=[0,0,0,0],xr=[0,nn+1,0,0],Ji&&(Ji=!1,po={type:"tableBody",start:Object.assign({},Oo.start),end:Object.assign({},Oo.end)},Qo.add(nn,0,[["enter",po,er]])),hi=Oo.type==="tableDelimiterRow"?2:po?3:1):hi&&(Oo.type==="data"||Oo.type==="tableDelimiterMarker"||Oo.type==="tableDelimiterFiller")?(wr=!1,xr[2]===0&&(gi[1]!==0&&(xr[0]=xr[1],ha=co(Qo,er,gi,hi,void 0,ha),gi=[0,0,0,0]),xr[2]=nn)):Oo.type==="tableCellDivider"&&(wr?wr=!1:(gi[1]!==0&&(xr[0]=xr[1],ha=co(Qo,er,gi,hi,void 0,ha)),gi=xr,xr=[gi[1],nn,0,0])):Oo.type==="tableHead"?(Ji=!0,Ai=nn):Oo.type==="tableRow"||Oo.type==="tableDelimiterRow"?(Ai=nn,gi[1]!==0?(xr[0]=xr[1],ha=co(Qo,er,gi,hi,nn,ha)):xr[1]!==0&&(ha=co(Qo,er,xr,hi,nn,ha)),hi=0):hi&&(Oo.type==="data"||Oo.type==="tableDelimiterMarker"||Oo.type==="tableDelimiterFiller")&&(xr[3]=nn)}for(Ai!==0&&Ro(Qo,er,Ai,Mi,po),Qo.consume(er.events),nn=-1;++nn<er.events.length;){const Cs=er.events[nn];Cs[0]==="enter"&&Cs[1].type==="table"&&(Cs[1]._align=_a(er.events,nn))}return wt}function co(wt,er,nn,wr,hi,gi){const xr=wr===1?"tableHeader":wr===2?"tableDelimiter":"tableData",Ji="tableContent";nn[0]!==0&&(gi.end=Object.assign({},As(er.events,nn[0])),wt.add(nn[0],0,[["exit",gi,er]]));const Ai=As(er.events,nn[1]);if(gi={type:xr,start:Object.assign({},Ai),end:Object.assign({},Ai)},wt.add(nn[1],0,[["enter",gi,er]]),nn[2]!==0){const Mi=As(er.events,nn[2]),po=As(er.events,nn[3]),ha={type:Ji,start:Object.assign({},Mi),end:Object.assign({},po)};if(wt.add(nn[2],0,[["enter",ha,er]]),wr!==2){const Qo=er.events[nn[2]],Cs=er.events[nn[3]];if(Qo[1].end=Object.assign({},Cs[1].end),Qo[1].type="chunkText",Qo[1].contentType="text",nn[3]>nn[2]+1){const Oo=nn[2]+1,su=nn[3]-nn[2]-1;wt.add(Oo,su,[])}}wt.add(nn[3]+1,0,[["exit",ha,er]])}return hi!==void 0&&(gi.end=Object.assign({},As(er.events,hi)),wt.add(hi,0,[["exit",gi,er]]),gi=void 0),gi}function Ro(wt,er,nn,wr,hi){const gi=[],xr=As(er.events,nn);hi&&(hi.end=Object.assign({},xr),gi.push(["exit",hi,er])),wr.end=Object.assign({},xr),gi.push(["exit",wr,er]),wt.add(nn+1,0,gi)}function As(wt,er){const nn=wt[er],wr=nn[0]==="enter"?"start":"end";return nn[1][wr]}const So={name:"tasklistCheck",tokenize:Wa};function ao(){return{text:{91:So}}}function Wa(wt,er,nn){const wr=this;return hi;function hi(Ai){return wr.previous!==null||!wr._gfmTasklistFirstContentOfListItem?nn(Ai):(wt.enter("taskListCheck"),wt.enter("taskListCheckMarker"),wt.consume(Ai),wt.exit("taskListCheckMarker"),gi)}function gi(Ai){return(0,ne.z3)(Ai)?(wt.enter("taskListCheckValueUnchecked"),wt.consume(Ai),wt.exit("taskListCheckValueUnchecked"),xr):Ai===88||Ai===120?(wt.enter("taskListCheckValueChecked"),wt.consume(Ai),wt.exit("taskListCheckValueChecked"),xr):nn(Ai)}function xr(Ai){return Ai===93?(wt.enter("taskListCheckMarker"),wt.consume(Ai),wt.exit("taskListCheckMarker"),wt.exit("taskListCheck"),Ji):nn(Ai)}function Ji(Ai){return(0,ne.Ch)(Ai)?er(Ai):(0,ne.xz)(Ai)?wt.check({tokenize:ns},er,nn)(Ai):nn(Ai)}}function ns(wt,er,nn){return(0,Po.f)(wt,wr,"whitespace");function wr(hi){return hi===null?nn(hi):er(hi)}}function Do(wt){return(0,Br.W)([Ur(),Za(),rt(wt),Xi(),ao()])}function ls(wt){return combineHtmlExtensions([gfmAutolinkLiteralHtml(),gfmFootnoteHtml(wt),gfmStrikethroughHtml(),gfmTableHtml(),gfmTagfilterHtml(),gfmTaskListItemHtml()])}const Bs={};function Xo(wt){const er=this,nn=wt||Bs,wr=er.data(),hi=wr.micromarkExtensions||(wr.micromarkExtensions=[]),gi=wr.fromMarkdownExtensions||(wr.fromMarkdownExtensions=[]),xr=wr.toMarkdownExtensions||(wr.toMarkdownExtensions=[]);hi.push(Do(nn)),gi.push(vr()),xr.push(yr(nn))}},83135:function(cn,Ne,A){"use strict";A.d(Ne,{P:function(){return B},Q:function(){return w}});function w(ne){const ue=String(ne||"").trim();return ue?ue.split(/[ \t\n\r\f]+/g):[]}function B(ne){return ne.join(" ").trim()}},99938:function(cn,Ne,A){"use strict";A.d(Ne,{CR:function(){return fe},Q_:function(){return qe},XA:function(){return ve},ZT:function(){return B},_T:function(){return ue},ev:function(){return gt},pi:function(){return ne}});var w=function(He,_t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,At){Bt.__proto__=At}||function(Bt,At){for(var Je in At)Object.prototype.hasOwnProperty.call(At,Je)&&(Bt[Je]=At[Je])},w(He,_t)};function B(He,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Class extends value "+String(_t)+" is not a constructor or null");w(He,_t);function Bt(){this.constructor=He}He.prototype=_t===null?Object.create(_t):(Bt.prototype=_t.prototype,new Bt)}var ne=function(){return ne=Object.assign||function(_t){for(var Bt,At=1,Je=arguments.length;At<Je;At++){Bt=arguments[At];for(var zt in Bt)Object.prototype.hasOwnProperty.call(Bt,zt)&&(_t[zt]=Bt[zt])}return _t},ne.apply(this,arguments)};function ue(He,_t){var Bt={};for(var At in He)Object.prototype.hasOwnProperty.call(He,At)&&_t.indexOf(At)<0&&(Bt[At]=He[At]);if(He!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Je=0,At=Object.getOwnPropertySymbols(He);Je<At.length;Je++)_t.indexOf(At[Je])<0&&Object.prototype.propertyIsEnumerable.call(He,At[Je])&&(Bt[At[Je]]=He[At[Je]]);return Bt}function j(He,_t,Bt,At){var Je=arguments.length,zt=Je<3?_t:At===null?At=Object.getOwnPropertyDescriptor(_t,Bt):At,mn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")zt=Reflect.decorate(He,_t,Bt,At);else for(var Ot=He.length-1;Ot>=0;Ot--)(mn=He[Ot])&&(zt=(Je<3?mn(zt):Je>3?mn(_t,Bt,zt):mn(_t,Bt))||zt);return Je>3&&zt&&Object.defineProperty(_t,Bt,zt),zt}function q(He,_t){return function(Bt,At){_t(Bt,At,He)}}function Y(He,_t,Bt,At,Je,zt){function mn(J){if(J!==void 0&&typeof J!="function")throw new TypeError("Function expected");return J}for(var Ot=At.kind,Xe=Ot==="getter"?"get":Ot==="setter"?"set":"value",ct=!_t&&He?At.static?He:He.prototype:null,Rt=_t||(ct?Object.getOwnPropertyDescriptor(ct,At.name):{}),Oe,Ge=!1,Vt=Bt.length-1;Vt>=0;Vt--){var De={};for(var et in At)De[et]=et==="access"?{}:At[et];for(var et in At.access)De.access[et]=At.access[et];De.addInitializer=function(J){if(Ge)throw new TypeError("Cannot add initializers after decoration has completed");zt.push(mn(J||null))};var Ce=(0,Bt[Vt])(Ot==="accessor"?{get:Rt.get,set:Rt.set}:Rt[Xe],De);if(Ot==="accessor"){if(Ce===void 0)continue;if(Ce===null||typeof Ce!="object")throw new TypeError("Object expected");(Oe=mn(Ce.get))&&(Rt.get=Oe),(Oe=mn(Ce.set))&&(Rt.set=Oe),(Oe=mn(Ce.init))&&Je.unshift(Oe)}else(Oe=mn(Ce))&&(Ot==="field"?Je.unshift(Oe):Rt[Xe]=Oe)}ct&&Object.defineProperty(ct,At.name,Rt),Ge=!0}function K(He,_t,Bt){for(var At=arguments.length>2,Je=0;Je<_t.length;Je++)Bt=At?_t[Je].call(He,Bt):_t[Je].call(He);return At?Bt:void 0}function H(He){return typeof He=="symbol"?He:"".concat(He)}function ae(He,_t,Bt){return typeof _t=="symbol"&&(_t=_t.description?"[".concat(_t.description,"]"):""),Object.defineProperty(He,"name",{configurable:!0,value:Bt?"".concat(Bt," ",_t):_t})}function ie(He,_t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(He,_t)}function le(He,_t,Bt,At){function Je(zt){return zt instanceof Bt?zt:new Bt(function(mn){mn(zt)})}return new(Bt||(Bt=Promise))(function(zt,mn){function Ot(Rt){try{ct(At.next(Rt))}catch(Oe){mn(Oe)}}function Xe(Rt){try{ct(At.throw(Rt))}catch(Oe){mn(Oe)}}function ct(Rt){Rt.done?zt(Rt.value):Je(Rt.value).then(Ot,Xe)}ct((At=At.apply(He,_t||[])).next())})}function se(He,_t){var Bt={label:0,sent:function(){if(zt[0]&1)throw zt[1];return zt[1]},trys:[],ops:[]},At,Je,zt,mn;return mn={next:Ot(0),throw:Ot(1),return:Ot(2)},typeof Symbol=="function"&&(mn[Symbol.iterator]=function(){return this}),mn;function Ot(ct){return function(Rt){return Xe([ct,Rt])}}function Xe(ct){if(At)throw new TypeError("Generator is already executing.");for(;mn&&(mn=0,ct[0]&&(Bt=0)),Bt;)try{if(At=1,Je&&(zt=ct[0]&2?Je.return:ct[0]?Je.throw||((zt=Je.return)&&zt.call(Je),0):Je.next)&&!(zt=zt.call(Je,ct[1])).done)return zt;switch(Je=0,zt&&(ct=[ct[0]&2,zt.value]),ct[0]){case 0:case 1:zt=ct;break;case 4:return Bt.label++,{value:ct[1],done:!1};case 5:Bt.label++,Je=ct[1],ct=[0];continue;case 7:ct=Bt.ops.pop(),Bt.trys.pop();continue;default:if(zt=Bt.trys,!(zt=zt.length>0&&zt[zt.length-1])&&(ct[0]===6||ct[0]===2)){Bt=0;continue}if(ct[0]===3&&(!zt||ct[1]>zt[0]&&ct[1]<zt[3])){Bt.label=ct[1];break}if(ct[0]===6&&Bt.label<zt[1]){Bt.label=zt[1],zt=ct;break}if(zt&&Bt.label<zt[2]){Bt.label=zt[2],Bt.ops.push(ct);break}zt[2]&&Bt.ops.pop(),Bt.trys.pop();continue}ct=_t.call(He,Bt)}catch(Rt){ct=[6,Rt],Je=0}finally{At=zt=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}}var ge=Object.create?function(He,_t,Bt,At){At===void 0&&(At=Bt);var Je=Object.getOwnPropertyDescriptor(_t,Bt);(!Je||("get"in Je?!_t.__esModule:Je.writable||Je.configurable))&&(Je={enumerable:!0,get:function(){return _t[Bt]}}),Object.defineProperty(He,At,Je)}:function(He,_t,Bt,At){At===void 0&&(At=Bt),He[At]=_t[Bt]};function ye(He,_t){for(var Bt in He)Bt!=="default"&&!Object.prototype.hasOwnProperty.call(_t,Bt)&&ge(_t,He,Bt)}function ve(He){var _t=typeof Symbol=="function"&&Symbol.iterator,Bt=_t&&He[_t],At=0;if(Bt)return Bt.call(He);if(He&&typeof He.length=="number")return{next:function(){return He&&At>=He.length&&(He=void 0),{value:He&&He[At++],done:!He}}};throw new TypeError(_t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(He,_t){var Bt=typeof Symbol=="function"&&He[Symbol.iterator];if(!Bt)return He;var At=Bt.call(He),Je,zt=[],mn;try{for(;(_t===void 0||_t-- >0)&&!(Je=At.next()).done;)zt.push(Je.value)}catch(Ot){mn={error:Ot}}finally{try{Je&&!Je.done&&(Bt=At.return)&&Bt.call(At)}finally{if(mn)throw mn.error}}return zt}function Fe(){for(var He=[],_t=0;_t<arguments.length;_t++)He=He.concat(fe(arguments[_t]));return He}function yt(){for(var He=0,_t=0,Bt=arguments.length;_t<Bt;_t++)He+=arguments[_t].length;for(var At=Array(He),Je=0,_t=0;_t<Bt;_t++)for(var zt=arguments[_t],mn=0,Ot=zt.length;mn<Ot;mn++,Je++)At[Je]=zt[mn];return At}function gt(He,_t,Bt){if(Bt||arguments.length===2)for(var At=0,Je=_t.length,zt;At<Je;At++)(zt||!(At in _t))&&(zt||(zt=Array.prototype.slice.call(_t,0,At)),zt[At]=_t[At]);return He.concat(zt||Array.prototype.slice.call(_t))}function pt(He){return this instanceof pt?(this.v=He,this):new pt(He)}function lt(He,_t,Bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At=Bt.apply(He,_t||[]),Je,zt=[];return Je={},mn("next"),mn("throw"),mn("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function mn(Ge){At[Ge]&&(Je[Ge]=function(Vt){return new Promise(function(De,et){zt.push([Ge,Vt,De,et])>1||Ot(Ge,Vt)})})}function Ot(Ge,Vt){try{Xe(At[Ge](Vt))}catch(De){Oe(zt[0][3],De)}}function Xe(Ge){Ge.value instanceof pt?Promise.resolve(Ge.value.v).then(ct,Rt):Oe(zt[0][2],Ge)}function ct(Ge){Ot("next",Ge)}function Rt(Ge){Ot("throw",Ge)}function Oe(Ge,Vt){Ge(Vt),zt.shift(),zt.length&&Ot(zt[0][0],zt[0][1])}}function Ke(He){var _t,Bt;return _t={},At("next"),At("throw",function(Je){throw Je}),At("return"),_t[Symbol.iterator]=function(){return this},_t;function At(Je,zt){_t[Je]=He[Je]?function(mn){return(Bt=!Bt)?{value:pt(He[Je](mn)),done:!1}:zt?zt(mn):mn}:zt}}function Ue(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t=He[Symbol.asyncIterator],Bt;return _t?_t.call(He):(He=typeof ve=="function"?ve(He):He[Symbol.iterator](),Bt={},At("next"),At("throw"),At("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt);function At(zt){Bt[zt]=He[zt]&&function(mn){return new Promise(function(Ot,Xe){mn=He[zt](mn),Je(Ot,Xe,mn.done,mn.value)})}}function Je(zt,mn,Ot,Xe){Promise.resolve(Xe).then(function(ct){zt({value:ct,done:Ot})},mn)}}function Pt(He,_t){return Object.defineProperty?Object.defineProperty(He,"raw",{value:_t}):He.raw=_t,He}var Gt=Object.create?function(He,_t){Object.defineProperty(He,"default",{enumerable:!0,value:_t})}:function(He,_t){He.default=_t};function rn(He){if(He&&He.__esModule)return He;var _t={};if(He!=null)for(var Bt in He)Bt!=="default"&&Object.prototype.hasOwnProperty.call(He,Bt)&&ge(_t,He,Bt);return Gt(_t,He),_t}function _n(He){return He&&He.__esModule?He:{default:He}}function qe(He,_t,Bt,At){if(Bt==="a"&&!At)throw new TypeError("Private accessor was defined without a getter");if(typeof _t=="function"?He!==_t||!At:!_t.has(He))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Bt==="m"?At:Bt==="a"?At.call(He):At?At.value:_t.get(He)}function Nt(He,_t,Bt,At,Je){if(At==="m")throw new TypeError("Private method is not writable");if(At==="a"&&!Je)throw new TypeError("Private accessor was defined without a setter");if(typeof _t=="function"?He!==_t||!Je:!_t.has(He))throw new TypeError("Cannot write private member to an object whose class did not declare it");return At==="a"?Je.call(He,Bt):Je?Je.value=Bt:_t.set(He,Bt),Bt}function ft(He,_t){if(_t===null||typeof _t!="object"&&typeof _t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof He=="function"?_t===He:He.has(_t)}function ln(He,_t,Bt){if(_t!=null){if(typeof _t!="object"&&typeof _t!="function")throw new TypeError("Object expected.");var At;if(Bt){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");At=_t[Symbol.asyncDispose]}if(At===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");At=_t[Symbol.dispose]}if(typeof At!="function")throw new TypeError("Object not disposable.");He.stack.push({value:_t,dispose:At,async:Bt})}else Bt&&He.stack.push({async:!0});return _t}var tt=typeof SuppressedError=="function"?SuppressedError:function(He,_t,Bt){var At=new Error(Bt);return At.name="SuppressedError",At.error=He,At.suppressed=_t,At};function Pe(He){function _t(At){He.error=He.hasError?new tt(At,He.error,"An error was suppressed during disposal."):At,He.hasError=!0}function Bt(){for(;He.stack.length;){var At=He.stack.pop();try{var Je=At.dispose&&At.dispose.call(At.value);if(At.async)return Promise.resolve(Je).then(Bt,function(zt){return _t(zt),Bt()})}catch(zt){_t(zt)}}if(He.hasError)throw He.error}return Bt()}var Qe={__extends:B,__assign:ne,__rest:ue,__decorate:j,__param:q,__metadata:ie,__awaiter:le,__generator:se,__createBinding:ge,__exportStar:ye,__values:ve,__read:fe,__spread:Fe,__spreadArrays:yt,__spreadArray:gt,__await:pt,__asyncGenerator:lt,__asyncDelegator:Ke,__asyncValues:Ue,__makeTemplateObject:Pt,__importStar:rn,__importDefault:_n,__classPrivateFieldGet:qe,__classPrivateFieldSet:Nt,__classPrivateFieldIn:ft,__addDisposableResource:ln,__disposeResources:Pe}},11135:function(cn,Ne,A){"use strict";A.d(Ne,{O:function(){return B}});const w=function(H,ae,ie,le,se){const ge=B(ae);if(ie!=null&&(typeof ie!="number"||ie<0||ie===Number.POSITIVE_INFINITY))throw new Error("Expected positive finite index");if(le!=null&&(!w(le)||!le.children))throw new Error("Expected parent node");if(le==null!=(ie==null))throw new Error("Expected both parent and index");return K(H)?ge.call(se,H,ie,le):!1},B=function(H){if(H==null)return Y;if(typeof H=="function")return q(H);if(typeof H=="object")return Array.isArray(H)?ne(H):ue(H);if(typeof H=="string")return j(H);throw new Error("Expected function, string, or object as test")};function ne(H){const ae=[];let ie=-1;for(;++ie<H.length;)ae[ie]=B(H[ie]);return q(le);function le(...se){let ge=-1;for(;++ge<ae.length;)if(ae[ge].apply(this,se))return!0;return!1}}function ue(H){const ae=H;return q(ie);function ie(le){const se=le;let ge;for(ge in H)if(se[ge]!==ae[ge])return!1;return!0}}function j(H){return q(ae);function ae(ie){return ie&&ie.type===H}}function q(H){return ae;function ae(ie,le,se){return!!(K(ie)&&H.call(this,ie,typeof le=="number"?le:void 0,se||void 0))}}function Y(){return!0}function K(H){return H!==null&&typeof H=="object"&&"type"in H}},42740:function(cn,Ne,A){"use strict";A.d(Ne,{FK:function(){return ue},Pk:function(){return B},rb:function(){return w}});const w=ne("end"),B=ne("start");function ne(j){return q;function q(Y){const K=Y&&Y.position&&Y.position[j]||{};if(typeof K.line=="number"&&K.line>0&&typeof K.column=="number"&&K.column>0)return{line:K.line,column:K.column,offset:typeof K.offset=="number"&&K.offset>-1?K.offset:void 0}}}function ue(j){const q=B(j),Y=w(j);if(q&&Y)return{start:q,end:Y}}},34505:function(cn,Ne,A){"use strict";A.d(Ne,{BK:function(){return j},S4:function(){return Y}});var w=A(11135);function B(H){return H}const ne=[],ue=!0,j=!1,q="skip";function Y(H,ae,ie,le){let se;typeof ae=="function"&&typeof ie!="function"?(le=ie,ie=ae):se=ae;const ge=(0,w.O)(se),ye=le?-1:1;ve(H,void 0,[])();function ve(fe,Fe,yt){const gt=fe&&typeof fe=="object"?fe:{};if(typeof gt.type=="string"){const lt=typeof gt.tagName=="string"?gt.tagName:typeof gt.name=="string"?gt.name:void 0;Object.defineProperty(pt,"name",{value:"node ("+(fe.type+(lt?"<"+lt+">":""))+")"})}return pt;function pt(){let lt=ne,Ke,Ue,Pt;if((!ae||ge(fe,Fe,yt[yt.length-1]||void 0))&&(lt=K(ie(fe,yt)),lt[0]===j))return lt;if("children"in fe&&fe.children){const Gt=fe;if(Gt.children&&lt[0]!==q)for(Ue=(le?Gt.children.length:-1)+ye,Pt=yt.concat(Gt);Ue>-1&&Ue<Gt.children.length;){const rn=Gt.children[Ue];if(Ke=ve(rn,Ue,Pt)(),Ke[0]===j)return Ke;Ue=typeof Ke[1]=="number"?Ke[1]:Ue+ye}}return lt}}}function K(H){return Array.isArray(H)?H:typeof H=="number"?[ue,H]:H==null?ne:[H]}},25709:function(cn,Ne,A){"use strict";A.d(Ne,{Vn:function(){return B}});var w=A(34505);function B(ne,ue,j,q){let Y,K,H;typeof ue=="function"&&typeof j!="function"?(K=void 0,H=ue,Y=j):(K=ue,H=j,Y=q),(0,w.S4)(ne,K,ae,Y);function ae(ie,le){const se=le[le.length-1],ge=se?se.children.indexOf(ie):void 0;return H(ie,ge,se)}}}}]);
}());