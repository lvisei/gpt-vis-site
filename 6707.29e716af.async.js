!(function(){var Qn=Object.defineProperty,Hn=Object.defineProperties;var jn=Object.getOwnPropertyDescriptors;var Xn=Object.getOwnPropertySymbols;var _n=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable;var Kn=(f,x,t)=>x in f?Qn(f,x,{enumerable:!0,configurable:!0,writable:!0,value:t}):f[x]=t,xn=(f,x)=>{for(var t in x||(x={}))_n.call(x,t)&&Kn(f,t,x[t]);if(Xn)for(var t of Xn(x))qn.call(x,t)&&Kn(f,t,x[t]);return f},Yn=(f,x)=>Hn(f,jn(x));var ue=(f,x,t)=>Kn(f,typeof x!="symbol"?x+"":x,t);(self.webpackChunk_antv_gpt_vis=self.webpackChunk_antv_gpt_vis||[]).push([[6707],{80216:function(f,x){"use strict";var t="*",r=function(){function d(){this._events={}}return d.prototype.on=function(a,v,u){return this._events[a]||(this._events[a]=[]),this._events[a].push({callback:v,once:!!u}),this},d.prototype.once=function(a,v){return this.on(a,v,!0)},d.prototype.emit=function(a){for(var v=this,u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var g=this._events[a]||[],c=this._events[t]||[],o=function(i){for(var h=i.length,p=0;p<h;p++)if(i[p]){var y=i[p],A=y.callback,Y=y.once;Y&&(i.splice(p,1),i.length===0&&delete v._events[a],h--,p--),A.apply(v,u)}};o(g),o(c)},d.prototype.off=function(a,v){if(!a)this._events={};else if(!v)delete this._events[a];else{for(var u=this._events[a]||[],l=u.length,g=0;g<l;g++)u[g].callback===v&&(u.splice(g,1),l--,g--);u.length===0&&delete this._events[a]}return this},d.prototype.getEvents=function(){return this._events},d}();x.Z=r},16754:function(f,x,t){"use strict";t.d(x,{k:function(){return l}});var r=t(80216);function d(g,c,o,i){for(;g.length;){const h=g.shift();if(o(h))return!0;c.add(h.id),i(h.id).forEach(y=>{c.has(y.id)||(c.add(y.id),g.push(y))})}return!1}function a(g,c,o,i){if(o(g))return!0;c.add(g.id);for(const p of i(g.id))if(!c.has(p.id)&&a(p,c,o,i))return!0;return!1}const v=()=>!0;class u{constructor(c){ue(this,"graph");ue(this,"nodeFilter");ue(this,"edgeFilter");ue(this,"cacheEnabled");ue(this,"inEdgesMap",new Map);ue(this,"outEdgesMap",new Map);ue(this,"bothEdgesMap",new Map);ue(this,"allNodesMap",new Map);ue(this,"allEdgesMap",new Map);ue(this,"clearCache",()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()});ue(this,"refreshCache",()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(c=>c.id))});ue(this,"updateCache",c=>{const o=new Set;c.forEach(i=>{const h=this.bothEdgesMap.get(i);if(h&&h.forEach(p=>o.add(p.id)),!this.hasNode(i))this.inEdgesMap.delete(i),this.outEdgesMap.delete(i),this.bothEdgesMap.delete(i),this.allNodesMap.delete(i);else{const p=this.graph.getRelatedEdges(i,"in").filter(this.edgeFilter),y=this.graph.getRelatedEdges(i,"out").filter(this.edgeFilter),A=Array.from(new Set([...p,...y]));A.forEach(Y=>o.add(Y.id)),this.inEdgesMap.set(i,p),this.outEdgesMap.set(i,y),this.bothEdgesMap.set(i,A),this.allNodesMap.set(i,this.graph.getNode(i))}}),o.forEach(i=>{this.hasEdge(i)?this.allEdgesMap.set(i,this.graph.getEdge(i)):this.allEdgesMap.delete(i)})});ue(this,"handleGraphChanged",c=>{const o=new Set;c.changes.forEach(i=>{switch(i.type){case"NodeAdded":o.add(i.value.id);break;case"NodeDataUpdated":o.add(i.id);break;case"EdgeAdded":o.add(i.value.source),o.add(i.value.target);break;case"EdgeUpdated":(i.propertyName==="source"||i.propertyName==="target")&&(o.add(i.oldValue),o.add(i.newValue));break;case"EdgeDataUpdated":if(c.graph.hasEdge(i.id)){const h=c.graph.getEdge(i.id);o.add(h.source),o.add(h.target)}break;case"EdgeRemoved":o.add(i.value.source),o.add(i.value.target);break;case"NodeRemoved":o.add(i.value.id);break;default:break}}),this.updateCache(o)});this.graph=c.graph;const o=c.nodeFilter||v,i=c.edgeFilter||v;this.nodeFilter=o,this.edgeFilter=h=>{const{source:p,target:y}=this.graph.getEdgeDetail(h.id);return!o(p)||!o(y)?!1:i(h,p,y)},c.cache==="auto"?(this.cacheEnabled=!0,this.startAutoCache()):c.cache==="manual"?this.cacheEnabled=!0:this.cacheEnabled=!1}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(c){this.getNode(c)}hasNode(c){if(!this.graph.hasNode(c))return!1;const o=this.graph.getNode(c);return this.nodeFilter(o)}areNeighbors(c,o){return this.checkNodeExistence(c),this.getNeighbors(o).some(i=>i.id===c)}getNode(c){const o=this.graph.getNode(c);if(!this.nodeFilter(o))throw new Error("Node not found for id: "+c);return o}getRelatedEdges(c,o){return this.checkNodeExistence(c),this.cacheEnabled?o==="in"?this.inEdgesMap.get(c):o==="out"?this.outEdgesMap.get(c):this.bothEdgesMap.get(c):this.graph.getRelatedEdges(c,o).filter(this.edgeFilter)}getDegree(c,o){return this.getRelatedEdges(c,o).length}getSuccessors(c){const i=this.getRelatedEdges(c,"out").map(h=>this.getNode(h.target));return Array.from(new Set(i))}getPredecessors(c){const i=this.getRelatedEdges(c,"in").map(h=>this.getNode(h.source));return Array.from(new Set(i))}getNeighbors(c){const o=this.getPredecessors(c),i=this.getSuccessors(c);return Array.from(new Set([...o,...i]))}hasEdge(c){if(!this.graph.hasEdge(c))return!1;const o=this.graph.getEdge(c);return this.edgeFilter(o)}getEdge(c){const o=this.graph.getEdge(c);if(!this.edgeFilter(o))throw new Error("Edge not found for id: "+c);return o}getEdgeDetail(c){const o=this.getEdge(c);return{edge:o,source:this.getNode(o.source),target:this.getNode(o.target)}}hasTreeStructure(c){return this.graph.hasTreeStructure(c)}getRoots(c){return this.graph.getRoots(c).filter(this.nodeFilter)}getChildren(c,o){return this.checkNodeExistence(c),this.graph.getChildren(c,o).filter(this.nodeFilter)}getParent(c,o){this.checkNodeExistence(c);const i=this.graph.getParent(c,o);return!i||!this.nodeFilter(i)?null:i}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(c,o,i="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];d([this.getNode(c)],new Set,o,h)}dfs(c,o,i="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];a(this.getNode(c),new Set,o,h)}}class l extends r.Z{constructor(o){super();ue(this,"nodeMap",new Map);ue(this,"edgeMap",new Map);ue(this,"inEdgesMap",new Map);ue(this,"outEdgesMap",new Map);ue(this,"bothEdgesMap",new Map);ue(this,"treeIndices",new Map);ue(this,"changes",[]);ue(this,"batchCount",0);ue(this,"onChanged",()=>{});ue(this,"batch",o=>{this.batchCount+=1,o(),this.batchCount-=1,this.batchCount||this.commit()});o&&(o.nodes&&this.addNodes(o.nodes),o.edges&&this.addEdges(o.edges),o.tree&&this.addTree(o.tree),o.onChanged&&(this.onChanged=o.onChanged))}commit(){const o=this.changes;this.changes=[];const i={graph:this,changes:o};this.emit("changed",i),this.onChanged(i)}reduceChanges(o){let i=[];return o.forEach(h=>{switch(h.type){case"NodeRemoved":{let p=!1;i=i.filter(y=>{if(y.type==="NodeAdded"){const A=y.value.id===h.value.id;return A&&(p=!0),!A}else{if(y.type==="NodeDataUpdated")return y.id!==h.value.id;if(y.type==="TreeStructureChanged")return y.nodeId!==h.value.id}return!0}),p||i.push(h);break}case"EdgeRemoved":{let p=!1;i=i.filter(y=>{if(y.type==="EdgeAdded"){const A=y.value.id===h.value.id;return A&&(p=!0),!A}else if(y.type==="EdgeDataUpdated"||y.type==="EdgeUpdated")return y.id!==h.value.id;return!0}),p||i.push(h);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const p=i.findIndex(A=>A.type===h.type&&A.id===h.id&&(h.propertyName===void 0||A.propertyName===h.propertyName)),y=i[p];y?h.propertyName!==void 0?y.newValue=h.newValue:(i.splice(p,1),i.push(h)):i.push(h);break}case"TreeStructureDetached":{i=i.filter(p=>p.type==="TreeStructureAttached"||p.type==="TreeStructureChanged"?p.treeKey!==h.treeKey:!0),i.push(h);break}case"TreeStructureChanged":{const p=i.find(y=>y.type==="TreeStructureChanged"&&y.treeKey===h.treeKey&&y.nodeId===h.nodeId);p?p.newParentId=h.newParentId:i.push(h);break}default:i.push(h);break}}),i}checkNodeExistence(o){this.getNode(o)}hasNode(o){return this.nodeMap.has(o)}areNeighbors(o,i){return this.getNeighbors(i).some(h=>h.id===o)}getNode(o){const i=this.nodeMap.get(o);if(!i)throw new Error("Node not found for id: "+o);return i}getRelatedEdges(o,i){if(this.checkNodeExistence(o),i==="in"){const h=this.inEdgesMap.get(o);return Array.from(h)}else if(i==="out"){const h=this.outEdgesMap.get(o);return Array.from(h)}else{const h=this.bothEdgesMap.get(o);return Array.from(h)}}getDegree(o,i){return this.getRelatedEdges(o,i).length}getSuccessors(o){const h=this.getRelatedEdges(o,"out").map(p=>this.getNode(p.target));return Array.from(new Set(h))}getPredecessors(o){const h=this.getRelatedEdges(o,"in").map(p=>this.getNode(p.source));return Array.from(new Set(h))}getNeighbors(o){const i=this.getPredecessors(o),h=this.getSuccessors(o);return Array.from(new Set([...i,...h]))}doAddNode(o){if(this.hasNode(o.id))throw new Error("Node already exists: "+o.id);this.nodeMap.set(o.id,o),this.inEdgesMap.set(o.id,new Set),this.outEdgesMap.set(o.id,new Set),this.bothEdgesMap.set(o.id,new Set),this.treeIndices.forEach(i=>{i.childrenMap.set(o.id,new Set)}),this.changes.push({type:"NodeAdded",value:o})}addNodes(o){this.batch(()=>{for(const i of o)this.doAddNode(i)})}addNode(o){this.addNodes([o])}doRemoveNode(o){const i=this.getNode(o),h=this.bothEdgesMap.get(o);h==null||h.forEach(p=>this.doRemoveEdge(p.id)),this.nodeMap.delete(o),this.treeIndices.forEach(p=>{var A,Y;(A=p.childrenMap.get(o))==null||A.forEach($=>{p.parentMap.delete($.id)});const y=p.parentMap.get(o);y&&((Y=p.childrenMap.get(y.id))==null||Y.delete(i)),p.parentMap.delete(o),p.childrenMap.delete(o)}),this.bothEdgesMap.delete(o),this.inEdgesMap.delete(o),this.outEdgesMap.delete(o),this.changes.push({type:"NodeRemoved",value:i})}removeNodes(o){this.batch(()=>{o.forEach(i=>this.doRemoveNode(i))})}removeNode(o){this.removeNodes([o])}updateNodeDataProperty(o,i,h){const p=this.getNode(o);this.batch(()=>{const y=p.data[i],A=h;p.data[i]=A,this.changes.push({type:"NodeDataUpdated",id:o,propertyName:i,oldValue:y,newValue:A})})}mergeNodeData(o,i){this.batch(()=>{Object.entries(i).forEach(([h,p])=>{this.updateNodeDataProperty(o,h,p)})})}updateNodeData(...o){const i=o[0],h=this.getNode(i);if(typeof o[1]=="string"){this.updateNodeDataProperty(i,o[1],o[2]);return}let p;if(typeof o[1]=="function"){const y=o[1];p=y(h.data)}else typeof o[1]=="object"&&(p=o[1]);this.batch(()=>{const y=h.data,A=p;h.data=p,this.changes.push({type:"NodeDataUpdated",id:i,oldValue:y,newValue:A})})}checkEdgeExistence(o){if(!this.hasEdge(o))throw new Error("Edge not found for id: "+o)}hasEdge(o){return this.edgeMap.has(o)}getEdge(o){return this.checkEdgeExistence(o),this.edgeMap.get(o)}getEdgeDetail(o){const i=this.getEdge(o);return{edge:i,source:this.getNode(i.source),target:this.getNode(i.target)}}doAddEdge(o){if(this.hasEdge(o.id))throw new Error("Edge already exists: "+o.id);this.checkNodeExistence(o.source),this.checkNodeExistence(o.target),this.edgeMap.set(o.id,o);const i=this.inEdgesMap.get(o.target),h=this.outEdgesMap.get(o.source),p=this.bothEdgesMap.get(o.source),y=this.bothEdgesMap.get(o.target);i.add(o),h.add(o),p.add(o),y.add(o),this.changes.push({type:"EdgeAdded",value:o})}addEdges(o){this.batch(()=>{for(const i of o)this.doAddEdge(i)})}addEdge(o){this.addEdges([o])}doRemoveEdge(o){const i=this.getEdge(o),h=this.outEdgesMap.get(i.source),p=this.inEdgesMap.get(i.target),y=this.bothEdgesMap.get(i.source),A=this.bothEdgesMap.get(i.target);h.delete(i),p.delete(i),y.delete(i),A.delete(i),this.edgeMap.delete(o),this.changes.push({type:"EdgeRemoved",value:i})}removeEdges(o){this.batch(()=>{o.forEach(i=>this.doRemoveEdge(i))})}removeEdge(o){this.removeEdges([o])}updateEdgeSource(o,i){const h=this.getEdge(o);this.checkNodeExistence(i);const p=h.source,y=i;this.outEdgesMap.get(p).delete(h),this.bothEdgesMap.get(p).delete(h),this.outEdgesMap.get(y).add(h),this.bothEdgesMap.get(y).add(h),h.source=i,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:o,propertyName:"source",oldValue:p,newValue:y})})}updateEdgeTarget(o,i){const h=this.getEdge(o);this.checkNodeExistence(i);const p=h.target,y=i;this.inEdgesMap.get(p).delete(h),this.bothEdgesMap.get(p).delete(h),this.inEdgesMap.get(y).add(h),this.bothEdgesMap.get(y).add(h),h.target=i,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:o,propertyName:"target",oldValue:p,newValue:y})})}updateEdgeDataProperty(o,i,h){const p=this.getEdge(o);this.batch(()=>{const y=p.data[i],A=h;p.data[i]=A,this.changes.push({type:"EdgeDataUpdated",id:o,propertyName:i,oldValue:y,newValue:A})})}updateEdgeData(...o){const i=o[0],h=this.getEdge(i);if(typeof o[1]=="string"){this.updateEdgeDataProperty(i,o[1],o[2]);return}let p;if(typeof o[1]=="function"){const y=o[1];p=y(h.data)}else typeof o[1]=="object"&&(p=o[1]);this.batch(()=>{const y=h.data,A=p;h.data=p,this.changes.push({type:"EdgeDataUpdated",id:i,oldValue:y,newValue:A})})}mergeEdgeData(o,i){this.batch(()=>{Object.entries(i).forEach(([h,p])=>{this.updateEdgeDataProperty(o,h,p)})})}checkTreeExistence(o){if(!this.hasTreeStructure(o))throw new Error("Tree structure not found for treeKey: "+o)}hasTreeStructure(o){return this.treeIndices.has(o)}attachTreeStructure(o){this.treeIndices.has(o)||(this.treeIndices.set(o,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:o})}))}detachTreeStructure(o){this.checkTreeExistence(o),this.treeIndices.delete(o),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:o})})}addTree(o,i){this.batch(()=>{this.attachTreeStructure(i);const h=[],p=Array.isArray(o)?o:[o];for(;p.length;){const y=p.shift();h.push(y),y.children&&p.push(...y.children)}this.addNodes(h),h.forEach(y=>{var A;(A=y.children)==null||A.forEach(Y=>{this.setParent(Y.id,y.id,i)})})})}getRoots(o){return this.checkTreeExistence(o),this.getAllNodes().filter(i=>!this.getParent(i.id,o))}getChildren(o,i){this.checkNodeExistence(o),this.checkTreeExistence(i);const p=this.treeIndices.get(i).childrenMap.get(o);return Array.from(p||[])}getParent(o,i){return this.checkNodeExistence(o),this.checkTreeExistence(i),this.treeIndices.get(i).parentMap.get(o)||null}getAncestors(o,i){const h=[];let p=this.getNode(o),y;for(;y=this.getParent(p.id,i);)h.push(y),p=y;return h}setParent(o,i,h){var B,K;this.checkTreeExistence(h);const p=this.treeIndices.get(h);if(!p)return;const y=this.getNode(o),A=p.parentMap.get(o);if((A==null?void 0:A.id)===i)return;if(i==null){A&&((B=p.childrenMap.get(A.id))==null||B.delete(y)),p.parentMap.delete(o);return}const Y=this.getNode(i);p.parentMap.set(o,Y),A&&((K=p.childrenMap.get(A.id))==null||K.delete(y));let $=p.childrenMap.get(Y.id);$||($=new Set,p.childrenMap.set(Y.id,$)),$.add(y),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:h,nodeId:o,oldParentId:A==null?void 0:A.id,newParentId:Y.id})})}dfsTree(o,i,h){const p=y=>this.getChildren(y,h);return a(this.getNode(o),new Set,i,p)}bfsTree(o,i,h){const p=y=>this.getChildren(y,h);return d([this.getNode(o)],new Set,i,p)}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(o,i,h="out"){const p={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[h];return d([this.getNode(o)],new Set,i,p)}dfs(o,i,h="out"){const p={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[h];return a(this.getNode(o),new Set,i,p)}clone(){const o=this.getAllNodes().map(p=>Yn(xn({},p),{data:xn({},p.data)})),i=this.getAllEdges().map(p=>Yn(xn({},p),{data:xn({},p.data)})),h=new l({nodes:o,edges:i});return this.treeIndices.forEach(({parentMap:p,childrenMap:y},A)=>{const Y=new Map;p.forEach((B,K)=>{Y.set(K,h.getNode(B.id))});const $=new Map;y.forEach((B,K)=>{$.set(K,new Set(Array.from(B).map(z=>h.getNode(z.id))))}),h.treeIndices.set(A,{parentMap:Y,childrenMap:$})}),h}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(o){return new u(xn({graph:this},o))}}},71157:function(f,x,t){"use strict";t.d(x,{b:function(){return en}});var r=t(15767),d=t(16754),a=t(22355),v=t(54663);const u=(w,N)=>{if(w!=="next"&&w!=="prev")return N},l=w=>{w.prev.next=w.next,w.next.prev=w.prev,delete w.next,delete w.prev};class g{constructor(){const N={};N.prev=N,N.next=N.prev,this.shortcut=N}dequeue(){const N=this.shortcut,C=N.prev;if(C&&C!==N)return l(C),C}enqueue(N){const C=this.shortcut;N.prev&&N.next&&l(N),N.next=C.next,C.next.prev=N,C.next=N,N.prev=C}toString(){const N=[],C=this.shortcut;let W=C.prev;for(;W!==C;)N.push(JSON.stringify(W,u)),W=W==null?void 0:W.prev;return`[${N.join(", ")}]`}}class c extends g{}const o=()=>1,i=(w,N)=>{var C;if(w.getAllNodes().length<=1)return[];const W=y(w,N||o);return(C=h(W.graph,W.buckets,W.zeroIdx).map(Q=>w.getRelatedEdges(Q.v,"out").filter(({target:j})=>j===Q.w)))===null||C===void 0?void 0:C.flat()},h=(w,N,C)=>{let W=[];const X=N[N.length-1],Q=N[0];let j;for(;w.getAllNodes().length;){for(;j=Q.dequeue();)p(w,N,C,j);for(;j=X.dequeue();)p(w,N,C,j);if(w.getAllNodes().length){for(let _=N.length-2;_>0;--_)if(j=N[_].dequeue(),j){W=W.concat(p(w,N,C,j,!0));break}}}return W},p=(w,N,C,W,X)=>{var Q,j;const _=[];return w.hasNode(W.v)&&((Q=w.getRelatedEdges(W.v,"in"))===null||Q===void 0||Q.forEach(q=>{const ot=q.data.weight,dt=w.getNode(q.source);X&&_.push({v:q.source,w:q.target,in:0,out:0}),dt.data.out===void 0&&(dt.data.out=0),dt.data.out-=ot,A(N,C,Object.assign({v:dt.id},dt.data))}),(j=w.getRelatedEdges(W.v,"out"))===null||j===void 0||j.forEach(q=>{const ot=q.data.weight,dt=q.target,gt=w.getNode(dt);gt.data.in===void 0&&(gt.data.in=0),gt.data.in-=ot,A(N,C,Object.assign({v:gt.id},gt.data))}),w.removeNode(W.v)),X?_:void 0},y=(w,N)=>{const C=new d.k;let W=0,X=0;w.getAllNodes().forEach(q=>{C.addNode({id:q.id,data:{v:q.id,in:0,out:0}})}),w.getAllEdges().forEach(q=>{const ot=C.getRelatedEdges(q.source,"out").find(gt=>gt.target===q.target),dt=(N==null?void 0:N(q))||1;ot?C.updateEdgeData(ot==null?void 0:ot.id,Object.assign(Object.assign({},ot.data),{weight:ot.data.weight+dt})):C.addEdge({id:q.id,source:q.source,target:q.target,data:{weight:dt}}),X=Math.max(X,C.getNode(q.source).data.out+=dt),W=Math.max(W,C.getNode(q.target).data.in+=dt)});const Q=[],j=X+W+3;for(let q=0;q<j;q++)Q.push(new c);const _=W+1;return C.getAllNodes().forEach(q=>{A(Q,_,Object.assign({v:q.id},C.getNode(q.id).data))}),{buckets:Q,zeroIdx:_,graph:C}},A=(w,N,C)=>{C.out?C.in?w[C.out-C.in+N].enqueue(C):w[w.length-1].enqueue(C):w[0].enqueue(C)},Y=(w,N)=>{const W=N==="greedy"?i(w,(X=>Q=>Q.data.weight||1)(w)):$(w);W==null||W.forEach(X=>{const Q=X.data;w.removeEdge(X.id),Q.forwardName=X.data.name,Q.reversed=!0,w.addEdge({id:X.id,source:X.target,target:X.source,data:Object.assign({},Q)})})},$=w=>{const N=[],C={},W={},X=Q=>{W[Q]||(W[Q]=!0,C[Q]=!0,w.getRelatedEdges(Q,"out").forEach(j=>{C[j.target]?N.push(j):X(j.target)}),delete C[Q])};return w.getAllNodes().forEach(Q=>X(Q.id)),N},B=w=>{w.getAllEdges().forEach(N=>{const C=N.data;if(C.reversed){w.removeEdge(N.id);const W=C.forwardName;delete C.reversed,delete C.forwardName,w.addEdge({id:N.id,source:N.target,target:N.source,data:Object.assign(Object.assign({},C),{forwardName:W})})}})},K=(w,N)=>Number(w)-Number(N),z=(w,N,C,W)=>{let X;do X=`${W}${Math.random()}`;while(w.hasNode(X));return C.dummy=N,w.addNode({id:X,data:C}),X},G=w=>{const N=new d.k;return w.getAllNodes().forEach(C=>{N.addNode(Object.assign({},C))}),w.getAllEdges().forEach(C=>{const W=N.getRelatedEdges(C.source,"out").find(X=>X.target===C.target);W?N.updateEdgeData(W==null?void 0:W.id,Object.assign(Object.assign({},W.data),{weight:W.data.weight+C.data.weight||0,minlen:Math.max(W.data.minlen,C.data.minlen||1)})):N.addEdge({id:C.id,source:C.source,target:C.target,data:{weight:C.data.weight||0,minlen:C.data.minlen||1}})}),N},P=w=>{const N=new d.k;return w.getAllNodes().forEach(C=>{w.getChildren(C.id).length||N.addNode(Object.assign({},C))}),w.getAllEdges().forEach(C=>{N.addEdge(C)}),N},O=(w,N)=>w==null?void 0:w.reduce((C,W,X)=>(C[W]=N[X],C),{}),S=w=>{const N={};return w.getAllNodes().forEach(C=>{const W={};w.getRelatedEdges(C.id,"out").forEach(X=>{W[X.target]=(W[X.target]||0)+(X.data.weight||0)}),N[C.id]=W}),N},R=w=>{const N=w.getAllNodes(),C=N.map(W=>{const X={};return w.getRelatedEdges(W.id,"in").forEach(Q=>{X[Q.source]=(X[Q.source]||0)+Q.data.weight}),X});return O(N.map(W=>W.id),C)},M=(w,N)=>{const C=Number(w.x),W=Number(w.y),X=Number(N.x)-C,Q=Number(N.y)-W;let j=Number(w.width)/2,_=Number(w.height)/2;if(!X&&!Q)return{x:0,y:0};let q,ot;return Math.abs(Q)*j>Math.abs(X)*_?(Q<0&&(_=-_),q=_*X/Q,ot=_):(X<0&&(j=-j),q=j,ot=j*Q/X),{x:C+q,y:W+ot}},b=w=>{const N=[],C=V(w)+1;for(let W=0;W<C;W++)N.push([]);w.getAllNodes().forEach(W=>{const X=W.data.rank;X!==void 0&&N[X]&&N[X].push(W.id)});for(let W=0;W<C;W++)N[W]=N[W].sort((X,Q)=>K(w.getNode(X).data.order,w.getNode(Q).data.order));return N},D=w=>{const N=w.getAllNodes().filter(W=>W.data.rank!==void 0).map(W=>W.data.rank),C=Math.min(...N);w.getAllNodes().forEach(W=>{W.data.hasOwnProperty("rank")&&C!==1/0&&(W.data.rank-=C)})},T=(w,N=0)=>{const C=w.getAllNodes(),W=C.filter(_=>_.data.rank!==void 0).map(_=>_.data.rank),X=Math.min(...W),Q=[];C.forEach(_=>{const q=(_.data.rank||0)-X;Q[q]||(Q[q]=[]),Q[q].push(_.id)});let j=0;for(let _=0;_<Q.length;_++){const q=Q[_];q===void 0?_%N!==0&&(j-=1):j&&(q==null||q.forEach(ot=>{const dt=w.getNode(ot);dt&&(dt.data.rank=dt.data.rank||0,dt.data.rank+=j)}))}},Z=(w,N,C,W)=>{const X={width:0,height:0};return(0,a.Z)(C)&&(0,a.Z)(W)&&(X.rank=C,X.order=W),z(w,"border",X,N)},V=w=>{let N;return w.getAllNodes().forEach(C=>{const W=C.data.rank;W!==void 0&&(N===void 0||W>N)&&(N=W)}),N||(N=0),N},J=(w,N)=>{const C={lhs:[],rhs:[]};return w==null||w.forEach(W=>{N(W)?C.lhs.push(W):C.rhs.push(W)}),C},H=(w,N)=>w.reduce((C,W)=>{const X=N(C),Q=N(W);return X>Q?W:C}),st=(w,N,C,W,X,Q)=>{W.includes(N.id)||(W.push(N.id),C||Q.push(N.id),X(N.id).forEach(j=>st(w,j,C,W,X,Q)),C&&Q.push(N.id))},tt=(w,N,C,W)=>{const X=Array.isArray(N)?N:[N],Q=q=>W?w.getSuccessors(q):w.getNeighbors(q),j=[],_=[];return X.forEach(q=>{if(w.hasNode(q.id))st(w,q,C==="post",_,Q,j);else throw new Error(`Graph does not have node: ${q}`)}),j},it=w=>{const N=C=>{const W=w.getChildren(C),X=w.getNode(C);if(W!=null&&W.length&&W.forEach(Q=>N(Q.id)),X.data.hasOwnProperty("minRank")){X.data.borderLeft=[],X.data.borderRight=[];for(let Q=X.data.minRank,j=X.data.maxRank+1;Q<j;Q+=1)ft(w,"borderLeft","_bl",C,X,Q),ft(w,"borderRight","_br",C,X,Q)}};w.getRoots().forEach(C=>N(C.id))},ft=(w,N,C,W,X,Q)=>{const j={rank:Q,borderType:N,width:0,height:0},_=X.data[N][Q-1],q=z(w,"border",j,C);X.data[N][Q]=q,w.setParent(q,W),_&&w.addEdge({id:`e${Math.random()}`,source:_,target:q,data:{weight:1}})},vt=(w,N)=>{const C=N.toLowerCase();(C==="lr"||C==="rl")&&xt(w)},pt=(w,N)=>{const C=N.toLowerCase();(C==="bt"||C==="rl")&&et(w),(C==="lr"||C==="rl")&&(ht(w),xt(w))},xt=w=>{w.getAllNodes().forEach(N=>{wt(N)}),w.getAllEdges().forEach(N=>{wt(N)})},wt=w=>{const N=w.data.width;w.data.width=w.data.height,w.data.height=N},et=w=>{w.getAllNodes().forEach(N=>{at(N.data)}),w.getAllEdges().forEach(N=>{var C;(C=N.data.points)===null||C===void 0||C.forEach(W=>at(W)),N.data.hasOwnProperty("y")&&at(N.data)})},at=w=>{w!=null&&w.y&&(w.y=-w.y)},ht=w=>{w.getAllNodes().forEach(N=>{ct(N.data)}),w.getAllEdges().forEach(N=>{var C;(C=N.data.points)===null||C===void 0||C.forEach(W=>ct(W)),N.data.hasOwnProperty("x")&&ct(N.data)})},ct=w=>{const N=w.x;w.x=w.y,w.y=N},Nt=w=>{const N=z(w,"root",{},"_root"),C=bt(w);let W=Math.max(...Object.values(C));Math.abs(W)===1/0&&(W=1);const X=W-1,Q=2*X+1;w.getAllEdges().forEach(_=>{_.data.minlen*=Q});const j=St(w)+1;return w.getRoots().forEach(_=>{Et(w,N,Q,j,X,C,_.id)}),{nestingRoot:N,nodeRankFactor:Q}},Et=(w,N,C,W,X,Q,j)=>{const _=w.getChildren(j);if(!(_!=null&&_.length)){j!==N&&w.addEdge({id:`e${Math.random()}`,source:N,target:j,data:{weight:0,minlen:C}});return}const q=Z(w,"_bt"),ot=Z(w,"_bb"),dt=w.getNode(j);w.setParent(q,j),dt.data.borderTop=q,w.setParent(ot,j),dt.data.borderBottom=ot,_==null||_.forEach(gt=>{Et(w,N,C,W,X,Q,gt.id);const Pt=gt.data.borderTop?gt.data.borderTop:gt.id,Rt=gt.data.borderBottom?gt.data.borderBottom:gt.id,Ct=gt.data.borderTop?W:2*W,Gt=Pt!==Rt?1:X-Q[j]+1;w.addEdge({id:`e${Math.random()}`,source:q,target:Pt,data:{minlen:Gt,weight:Ct,nestingEdge:!0}}),w.addEdge({id:`e${Math.random()}`,source:Rt,target:ot,data:{minlen:Gt,weight:Ct,nestingEdge:!0}})}),w.getParent(j)||w.addEdge({id:`e${Math.random()}`,source:N,target:q,data:{weight:0,minlen:X+Q[j]}})},bt=w=>{const N={},C=(W,X)=>{const Q=w.getChildren(W);Q==null||Q.forEach(j=>C(j.id,X+1)),N[W]=X};return w.getRoots().forEach(W=>C(W.id,1)),N},St=w=>{let N=0;return w.getAllEdges().forEach(C=>{N+=C.data.weight}),N},Ft=(w,N)=>{N&&w.removeNode(N),w.getAllEdges().forEach(C=>{C.data.nestingEdge&&w.removeEdge(C.id)})},Ut="edge",Yt="edge-label",Wt=(w,N)=>{w.getAllEdges().forEach(C=>re(w,C,N))},re=(w,N,C)=>{let W=N.source,X=w.getNode(W).data.rank;const Q=N.target,j=w.getNode(Q).data.rank,_=N.data.labelRank;if(j===X+1)return;w.removeEdge(N.id);let q,ot,dt;for(dt=0,++X;X<j;++dt,++X)N.data.points=[],ot={originalEdge:N,width:0,height:0,rank:X},q=z(w,Ut,ot,"_d"),X===_&&(ot.width=N.data.width,ot.height=N.data.height,ot.dummy=Yt,ot.labelpos=N.data.labelpos),w.addEdge({id:`e${Math.random()}`,source:W,target:q,data:{weight:N.data.weight}}),dt===0&&C.push(q),W=q;w.addEdge({id:`e${Math.random()}`,source:W,target:Q,data:{weight:N.data.weight}})},Zt=(w,N)=>{N.forEach(C=>{let W=w.getNode(C);const{data:X}=W,Q=X.originalEdge;let j;Q&&w.addEdge(Q);let _=C;for(;W.data.dummy;)j=w.getSuccessors(_)[0],w.removeNode(_),Q.data.points.push({x:W.data.x,y:W.data.y}),W.data.dummy===Yt&&(Q.data.x=W.data.x,Q.data.y=W.data.y,Q.data.width=W.data.width,Q.data.height=W.data.height),_=j.id,W=w.getNode(_)})};var ce=t(12637);const Se=(w,N,C)=>{const W={};let X;C==null||C.forEach(Q=>{let j=w.getParent(Q),_,q;for(;j;){if(_=w.getParent(j.id),_?(q=W[_.id],W[_.id]=j.id):(q=X,X=j.id),q&&q!==j.id){N.hasNode(q)||N.addNode({id:q,data:{}}),N.hasNode(j.id)||N.addNode({id:j.id,data:{}}),N.hasEdge(`e${q}-${j.id}`)||N.addEdge({id:`e${q}-${j.id}`,source:q,target:j.id,data:{}});return}j=_}})},Ht=(w,N,C)=>{const W=be(w),X=new d.k({tree:[{id:W,children:[],data:{}}]});return w.getAllNodes().forEach(Q=>{const j=w.getParent(Q.id);(Q.data.rank===N||Q.data.minRank<=N&&N<=Q.data.maxRank)&&(X.hasNode(Q.id)||X.addNode(Object.assign({},Q)),j!=null&&j.id&&!X.hasNode(j==null?void 0:j.id)&&X.addNode(Object.assign({},j)),X.setParent(Q.id,(j==null?void 0:j.id)||W),w.getRelatedEdges(Q.id,C).forEach(_=>{const q=_.source===Q.id?_.target:_.source;X.hasNode(q)||X.addNode(Object.assign({},w.getNode(q)));const ot=X.getRelatedEdges(q,"out").find(({target:gt})=>gt===Q.id),dt=ot!==void 0?ot.data.weight:0;ot?X.updateEdgeData(ot.id,Object.assign(Object.assign({},ot.data),{weight:_.data.weight+dt})):X.addEdge({id:_.id,source:q,target:Q.id,data:{weight:_.data.weight+dt}})}),Q.data.hasOwnProperty("minRank")&&X.updateNodeData(Q.id,Object.assign(Object.assign({},Q.data),{borderLeft:Q.data.borderLeft[N],borderRight:Q.data.borderRight[N]})))}),X},be=w=>{let N;for(;w.hasNode(N=`_root${Math.random()}`););return N},fe=(w,N,C)=>{const W=O(C,C.map((dt,gt)=>gt)),Q=N.map(dt=>{const gt=w.getRelatedEdges(dt,"out").map(Pt=>({pos:W[Pt.target]||0,weight:Pt.data.weight}));return gt==null?void 0:gt.sort((Pt,Rt)=>Pt.pos-Rt.pos)}).flat().filter(dt=>dt!==void 0);let j=1;for(;j<C.length;)j<<=1;const _=2*j-1;j-=1;const q=Array(_).fill(0,0,_);let ot=0;return Q==null||Q.forEach(dt=>{if(dt){let gt=dt.pos+j;q[gt]+=dt.weight;let Pt=0;for(;gt>0;)gt%2&&(Pt+=q[gt+1]),gt=gt-1>>1,q[gt]+=dt.weight;ot+=dt.weight*Pt}}),ot},qt=(w,N)=>{let C=0;for(let W=1;W<(N==null?void 0:N.length);W+=1)C+=fe(w,N[W-1],N[W]);return C},Tt=w=>{const N={},C=w.getAllNodes(),W=C.map(ot=>{var dt;return(dt=ot.data.rank)!==null&&dt!==void 0?dt:-1/0}),X=Math.max(...W),Q=[];for(let ot=0;ot<X+1;ot++)Q.push([]);const j=C.sort((ot,dt)=>w.getNode(ot.id).data.rank-w.getNode(dt.id).data.rank),q=j.filter(ot=>w.getNode(ot.id).data.fixorder!==void 0).sort((ot,dt)=>w.getNode(ot.id).data.fixorder-w.getNode(dt.id).data.fixorder);return q==null||q.forEach(ot=>{isNaN(w.getNode(ot.id).data.rank)||Q[w.getNode(ot.id).data.rank].push(ot.id),N[ot.id]=!0}),j==null||j.forEach(ot=>w.dfsTree(ot.id,dt=>{if(N.hasOwnProperty(dt.id))return!0;N[dt.id]=!0,isNaN(dt.data.rank)||Q[dt.data.rank].push(dt.id)})),Q},de=(w,N)=>N.map(C=>{const W=w.getRelatedEdges(C,"in");if(!(W!=null&&W.length))return{v:C};const X={sum:0,weight:0};return W==null||W.forEach(Q=>{const j=w.getNode(Q.source);X.sum+=Q.data.weight*j.data.order,X.weight+=Q.data.weight}),{v:C,barycenter:X.sum/X.weight,weight:X.weight}}),ve=(w,N)=>{var C,W,X;const Q={};w==null||w.forEach((_,q)=>{Q[_.v]={i:q,indegree:0,in:[],out:[],vs:[_.v]};const ot=Q[_.v];_.barycenter!==void 0&&(ot.barycenter=_.barycenter,ot.weight=_.weight)}),(C=N.getAllEdges())===null||C===void 0||C.forEach(_=>{const q=Q[_.source],ot=Q[_.target];q!==void 0&&ot!==void 0&&(ot.indegree++,q.out.push(Q[_.target]))});const j=(X=(W=Object.values(Q)).filter)===null||X===void 0?void 0:X.call(W,_=>!_.indegree);return ne(j)},ne=w=>{var N,C;const W=[],X=q=>ot=>{ot.merged||(ot.barycenter===void 0||q.barycenter===void 0||ot.barycenter>=q.barycenter)&&me(q,ot)},Q=q=>ot=>{ot.in.push(q),--ot.indegree===0&&w.push(ot)};for(;w!=null&&w.length;){const q=w.pop();W.push(q),(N=q.in.reverse())===null||N===void 0||N.forEach(ot=>X(q)(ot)),(C=q.out)===null||C===void 0||C.forEach(ot=>Q(q)(ot))}const j=W.filter(q=>!q.merged),_=["vs","i","barycenter","weight"];return j.map(q=>{const ot={};return _==null||_.forEach(dt=>{q[dt]!==void 0&&(ot[dt]=q[dt])}),ot})},me=(w,N)=>{var C;let W=0,X=0;w.weight&&(W+=w.barycenter*w.weight,X+=w.weight),N.weight&&(W+=N.barycenter*N.weight,X+=N.weight),w.vs=(C=N.vs)===null||C===void 0?void 0:C.concat(w.vs),w.barycenter=W/X,w.weight=X,w.i=Math.min(N.i,w.i),N.merged=!0};var ye=ve;const an=(w,N,C,W)=>{const X=J(w,Pt=>{const Rt=Pt.hasOwnProperty("fixorder")&&!isNaN(Pt.fixorder);return W?!Rt&&Pt.hasOwnProperty("barycenter"):Rt||Pt.hasOwnProperty("barycenter")}),Q=X.lhs,j=X.rhs.sort((Pt,Rt)=>-Pt.i- -Rt.i),_=[];let q=0,ot=0,dt=0;Q==null||Q.sort(dn(!!N,!!C)),dt=un(_,j,dt),Q==null||Q.forEach(Pt=>{var Rt;dt+=(Rt=Pt.vs)===null||Rt===void 0?void 0:Rt.length,_.push(Pt.vs),q+=Pt.barycenter*Pt.weight,ot+=Pt.weight,dt=un(_,j,dt)});const gt={vs:_.flat()};return ot&&(gt.barycenter=q/ot,gt.weight=ot),gt},un=(w,N,C)=>{let W=C,X;for(;N.length&&(X=N[N.length-1]).i<=W;)N.pop(),w==null||w.push(X.vs),W++;return W},dn=(w,N)=>(C,W)=>{if(C.fixorder!==void 0&&W.fixorder!==void 0)return C.fixorder-W.fixorder;if(C.barycenter<W.barycenter)return-1;if(C.barycenter>W.barycenter)return 1;if(N&&C.order!==void 0&&W.order!==void 0){if(C.order<W.order)return-1;if(C.order>W.order)return 1}return w?W.i-C.i:C.i-W.i},Ce=(w,N,C,W,X,Q)=>{var j,_,q,ot;let dt=w.getChildren(N).map(Qt=>Qt.id);const gt=w.getNode(N),Pt=gt?gt.data.borderLeft:void 0,Rt=gt?gt.data.borderRight:void 0,Ct={};Pt&&(dt=dt==null?void 0:dt.filter(Qt=>Qt!==Pt&&Qt!==Rt));const Gt=de(w,dt||[]);Gt==null||Gt.forEach(Qt=>{var le;if(!((le=w.getChildren(Qt.v))===null||le===void 0)&&le.length){const ie=Ce(w,Qt.v,C,W,Q);Ct[Qt.v]=ie,ie.hasOwnProperty("barycenter")&&Fn(Qt,ie)}});const Vt=ye(Gt,C);ze(Vt,Ct),(j=Vt.filter(Qt=>Qt.vs.length>0))===null||j===void 0||j.forEach(Qt=>{const le=w.getNode(Qt.vs[0]);le&&(Qt.fixorder=le.data.fixorder,Qt.order=le.data.order)});const zt=an(Vt,W,X,Q);if(Pt&&(zt.vs=[Pt,zt.vs,Rt].flat(),!((_=w.getPredecessors(Pt))===null||_===void 0)&&_.length)){const Qt=w.getNode(((q=w.getPredecessors(Pt))===null||q===void 0?void 0:q[0].id)||""),le=w.getNode(((ot=w.getPredecessors(Rt))===null||ot===void 0?void 0:ot[0].id)||"");zt.hasOwnProperty("barycenter")||(zt.barycenter=0,zt.weight=0),zt.barycenter=(zt.barycenter*zt.weight+Qt.data.order+le.data.order)/(zt.weight+2),zt.weight+=2}return zt},ze=(w,N)=>{w==null||w.forEach(C=>{var W;const X=(W=C.vs)===null||W===void 0?void 0:W.map(Q=>N[Q]?N[Q].vs:Q);C.vs=X.flat()})},Fn=(w,N)=>{w.barycenter!==void 0?(w.barycenter=(w.barycenter*w.weight+N.barycenter*N.weight)/(w.weight+N.weight),w.weight+=N.weight):(w.barycenter=N.barycenter,w.weight=N.weight)},cn=(w,N)=>{const C=V(w),W=[],X=[];for(let dt=1;dt<C+1;dt++)W.push(dt);for(let dt=C-1;dt>-1;dt--)X.push(dt);const Q=An(w,W,"in"),j=An(w,X,"out");let _=Tt(w);fn(w,_);let q=Number.POSITIVE_INFINITY,ot;for(let dt=0,gt=0;gt<4;++dt,++gt){Pn(dt%2?Q:j,dt%4>=2,!1,N),_=b(w);const Pt=qt(w,_);Pt<q&&(gt=0,ot=(0,ce.Z)(_),q=Pt)}_=Tt(w),fn(w,_);for(let dt=0,gt=0;gt<4;++dt,++gt){Pn(dt%2?Q:j,dt%4>=2,!0,N),_=b(w);const Pt=qt(w,_);Pt<q&&(gt=0,ot=(0,ce.Z)(_),q=Pt)}fn(w,ot)},An=(w,N,C)=>N.map(W=>Ht(w,W,C)),Pn=(w,N,C,W)=>{const X=new d.k;w==null||w.forEach(Q=>{var j;const _=Q.getRoots()[0].id,q=Ce(Q,_,X,N,C,W);for(let ot=0;ot<((j=q.vs)===null||j===void 0?void 0:j.length);ot++){const dt=Q.getNode(q.vs[ot]);dt&&(dt.data.order=ot)}Se(Q,X,q.vs)})},fn=(w,N)=>{N==null||N.forEach(C=>{C==null||C.forEach((W,X)=>{w.getNode(W).data.order=X})})},Ae=(w,N)=>{const W=w.getAllNodes().filter(j=>{var _;return!(!((_=w.getChildren(j.id))===null||_===void 0)&&_.length)}).map(j=>j.data.rank),X=Math.max(...W),Q=[];for(let j=0;j<X+1;j++)Q[j]=[];N==null||N.forEach(j=>{const _=w.getNode(j);!_||_.data.dummy||isNaN(_.data.rank)||(_.data.fixorder=Q[_.data.rank].length,Q[_.data.rank].push(j))})},zn=w=>{const N={};let C=0;const W=X=>{const Q=C;w.getChildren(X).forEach(j=>W(j.id)),N[X]={low:Q,lim:C++}};return w.getRoots().forEach(X=>W(X.id)),N},hn=(w,N,C,W)=>{var X,Q;const j=[],_=[],q=Math.min(N[C].low,N[W].low),ot=Math.max(N[C].lim,N[W].lim);let dt,gt;dt=C;do dt=(X=w.getParent(dt))===null||X===void 0?void 0:X.id,j.push(dt);while(dt&&(N[dt].low>q||ot>N[dt].lim));for(gt=dt,dt=W;dt&&dt!==gt;)_.push(dt),dt=(Q=w.getParent(dt))===null||Q===void 0?void 0:Q.id;return{lca:gt,path:j.concat(_.reverse())}},ke=(w,N)=>{const C=zn(w);N.forEach(W=>{var X,Q;let j=W,_=w.getNode(j);const q=_.data.originalEdge;if(!q)return;const ot=hn(w,C,q.source,q.target),dt=ot.path,gt=ot.lca;let Pt=0,Rt=dt[Pt],Ct=!0;for(;j!==q.target;){if(_=w.getNode(j),Ct){for(;Rt!==gt&&((X=w.getNode(Rt))===null||X===void 0?void 0:X.data.maxRank)<_.data.rank;)Pt++,Rt=dt[Pt];Rt===gt&&(Ct=!1)}if(!Ct){for(;Pt<dt.length-1&&((Q=w.getNode(dt[Pt+1]))===null||Q===void 0?void 0:Q.data.minRank)<=_.data.rank;)Pt++;Rt=dt[Pt]}w.hasNode(Rt)&&w.setParent(j,Rt),j=w.getSuccessors(j)[0].id}})},ln=(w,N)=>{const C={},W=(X,Q)=>{let j=0,_=0;const q=X.length,ot=Q==null?void 0:Q[(Q==null?void 0:Q.length)-1];return Q==null||Q.forEach((dt,gt)=>{var Pt;const Rt=kn(w,dt),Ct=Rt?w.getNode(Rt.id).data.order:q;(Rt||dt===ot)&&((Pt=Q.slice(_,gt+1))===null||Pt===void 0||Pt.forEach(Gt=>{var Vt;(Vt=w.getPredecessors(Gt))===null||Vt===void 0||Vt.forEach(zt=>{var Qt;const le=w.getNode(zt.id),ie=le.data.order;(ie<j||Ct<ie)&&!(le.data.dummy&&(!((Qt=w.getNode(Gt))===null||Qt===void 0)&&Qt.data.dummy))&&bn(C,zt.id,Gt)})}),_=gt+1,j=Ct)}),Q};return N!=null&&N.length&&N.reduce(W),C},Ye=(w,N)=>{const C={};function W(_,q,ot,dt,gt){var Pt,Rt;let Ct;for(let Gt=q;Gt<ot;Gt++)Ct=_[Gt],!((Pt=w.getNode(Ct))===null||Pt===void 0)&&Pt.data.dummy&&((Rt=w.getPredecessors(Ct))===null||Rt===void 0||Rt.forEach(Vt=>{const zt=w.getNode(Vt.id);zt.data.dummy&&(zt.data.order<dt||zt.data.order>gt)&&bn(C,Vt.id,Ct)}))}function X(_){return JSON.stringify(_.slice(1))}function Q(_,q){const ot=X(_);q.get(ot)||(W(..._),q.set(ot,!0))}const j=(_,q)=>{let ot=-1,dt,gt=0;const Pt=new Map;return q==null||q.forEach((Rt,Ct)=>{var Gt;if(((Gt=w.getNode(Rt))===null||Gt===void 0?void 0:Gt.data.dummy)==="border"){const Vt=w.getPredecessors(Rt)||[];Vt.length&&(dt=w.getNode(Vt[0].id).data.order,Q([q,gt,Ct,ot,dt],Pt),gt=Ct,ot=dt)}Q([q,gt,q.length,dt,_.length],Pt)}),q};return N!=null&&N.length&&N.reduce(j),C},kn=(w,N)=>{var C,W;if(!((C=w.getNode(N))===null||C===void 0)&&C.data.dummy)return(W=w.getPredecessors(N))===null||W===void 0?void 0:W.find(X=>w.getNode(X.id).data.dummy)},bn=(w,N,C)=>{let W=N,X=C;if(W>X){const j=W;W=X,X=j}let Q=w[W];Q||(w[W]=Q={}),Q[X]=!0},gn=(w,N,C)=>{let W=N,X=C;if(W>X){const Q=N;W=X,X=Q}return!!w[W]},Tn=(w,N,C,W)=>{const X={},Q={},j={};return N==null||N.forEach(_=>{_==null||_.forEach((q,ot)=>{X[q]=q,Q[q]=q,j[q]=ot})}),N==null||N.forEach(_=>{let q=-1;_==null||_.forEach(ot=>{let dt=W(ot).map(gt=>gt.id);if(dt.length){dt=dt.sort((Pt,Rt)=>j[Pt]-j[Rt]);const gt=(dt.length-1)/2;for(let Pt=Math.floor(gt),Rt=Math.ceil(gt);Pt<=Rt;++Pt){const Ct=dt[Pt];Q[ot]===ot&&q<j[Ct]&&!gn(C,ot,Ct)&&(Q[Ct]=ot,Q[ot]=X[ot]=X[Ct],q=j[Ct])}}})}),{root:X,align:Q}},In=(w,N,C,W,X,Q,j)=>{var _;const q={},ot=Bn(w,N,C,X,Q,j),dt=j?"borderLeft":"borderRight",gt=(Ct,Gt)=>{let Vt=ot.getAllNodes(),zt=Vt.pop();const Qt={};for(;zt;)Qt[zt.id]?Ct(zt.id):(Qt[zt.id]=!0,Vt.push(zt),Vt=Vt.concat(Gt(zt.id))),zt=Vt.pop()},Pt=Ct=>{q[Ct]=(ot.getRelatedEdges(Ct,"in")||[]).reduce((Gt,Vt)=>Math.max(Gt,(q[Vt.source]||0)+Vt.data.weight),0)},Rt=Ct=>{const Gt=(ot.getRelatedEdges(Ct,"out")||[]).reduce((zt,Qt)=>Math.min(zt,(q[Qt.target]||0)-Qt.data.weight),Number.POSITIVE_INFINITY),Vt=w.getNode(Ct);Gt!==Number.POSITIVE_INFINITY&&Vt.data.borderType!==dt&&(q[Ct]=Math.max(q[Ct],Gt))};return gt(Pt,ot.getPredecessors.bind(ot)),gt(Rt,ot.getSuccessors.bind(ot)),(_=Object.values(W))===null||_===void 0||_.forEach(Ct=>{q[Ct]=q[C[Ct]]}),q},Bn=(w,N,C,W,X,Q)=>{const j=new d.k,_=Wn(W,X,Q);return N==null||N.forEach(q=>{let ot;q==null||q.forEach(dt=>{const gt=C[dt];if(j.hasNode(gt)||j.addNode({id:gt,data:{}}),ot){const Pt=C[ot],Rt=j.getRelatedEdges(Pt,"out").find(Ct=>Ct.target===gt);Rt?j.updateEdgeData(Rt.id,Object.assign(Object.assign({},Rt.data),{weight:Math.max(_(w,dt,ot),Rt.data.weight||0)})):j.addEdge({id:`e${Math.random()}`,source:Pt,target:gt,data:{weight:Math.max(_(w,dt,ot),0)}})}ot=dt})}),j},Dn=(w,N)=>H(Object.values(N),C=>{var W;let X=Number.NEGATIVE_INFINITY,Q=Number.POSITIVE_INFINITY;return(W=Object.keys(C))===null||W===void 0||W.forEach(j=>{const _=C[j],q=Gn(w,j)/2;X=Math.max(_+q,X),Q=Math.min(_-q,Q)}),X-Q});function Rn(w,N){const C=Object.values(N),W=Math.min(...C),X=Math.max(...C);["u","d"].forEach(Q=>{["l","r"].forEach(j=>{const _=Q+j,q=w[_];let ot;if(q===N)return;const dt=Object.values(q);ot=j==="l"?W-Math.min(...dt):X-Math.max(...dt),ot&&(w[_]={},Object.keys(q).forEach(gt=>{w[_][gt]=q[gt]+ot}))})})}const Cn=(w,N)=>{const C={};return Object.keys(w.ul).forEach(W=>{if(N)C[W]=w[N.toLowerCase()][W];else{const X=Object.values(w).map(Q=>Q[W]);C[W]=(X[0]+X[1])/2}}),C},Un=(w,N)=>{const{align:C,nodesep:W=0,edgesep:X=0}=N||{},Q=buildLayerMatrix(w),j=Object.assign(ln(w,Q),Ye(w,Q)),_={};let q;["u","d"].forEach(dt=>{q=dt==="u"?Q:Object.values(Q).reverse(),["l","r"].forEach(gt=>{gt==="r"&&(q=q.map(Gt=>Object.values(Gt).reverse()));const Pt=(dt==="u"?w.getPredecessors:w.getSuccessors).bind(w),Rt=Tn(w,q,j,Pt),Ct=In(w,q,Rt.root,Rt.align,W,X,gt==="r");gt==="r"&&Object.keys(Ct).forEach(Gt=>{Ct[Gt]=-Ct[Gt]}),_[dt+gt]=Ct})});const ot=Dn(w,_);return Rn(_,ot),Cn(_,C)},Wn=(w,N,C)=>(W,X,Q)=>{const j=W.getNode(X),_=W.getNode(Q);let q=0,ot=0;if(q+=j.data.width/2,j.data.hasOwnProperty("labelpos"))switch((j.data.labelpos||"").toLowerCase()){case"l":ot=-j.data.width/2;break;case"r":ot=j.data.width/2;break}if(ot&&(q+=C?ot:-ot),ot=0,q+=(j.data.dummy?N:w)/2,q+=(_.data.dummy?N:w)/2,q+=_.data.width/2,_.data.labelpos)switch((_.data.labelpos||"").toLowerCase()){case"l":ot=_.data.width/2;break;case"r":ot=-_.data.width/2;break}return ot&&(q+=C?ot:-ot),ot=0,q},Gn=(w,N)=>w.getNode(N).data.width||0,Zn=(w,N)=>{const{ranksep:C=0}=N||{},W=b(w);let X=0;W==null||W.forEach(Q=>{const j=Q.map(q=>w.getNode(q).data.height),_=Math.max(...j,0);Q==null||Q.forEach(q=>{w.getNode(q).data.y=X+_/2}),X+=_+C})},Vn=(w,N)=>{const{align:C,nodesep:W=0,edgesep:X=0}=N||{},Q=b(w),j=Object.assign(ln(w,Q),Ye(w,Q)),_={};let q=[];["u","d"].forEach(dt=>{q=dt==="u"?Q:Object.values(Q).reverse(),["l","r"].forEach(gt=>{gt==="r"&&(q=q.map(Gt=>Object.values(Gt).reverse()));const Pt=(dt==="u"?w.getPredecessors:w.getSuccessors).bind(w),Rt=Tn(w,q,j,Pt),Ct=In(w,q,Rt.root,Rt.align,W,X,gt==="r");gt==="r"&&Object.keys(Ct).forEach(Gt=>Ct[Gt]=-Ct[Gt]),_[dt+gt]=Ct})});const ot=Dn(w,_);return ot&&Rn(_,ot),Cn(_,C)},vn=(w,N)=>{var C;const W=P(w);Zn(W,N);const X=Vn(W,N);(C=Object.keys(X))===null||C===void 0||C.forEach(Q=>{W.getNode(Q).data.x=X[Q]})},Mn=w=>{const N={},C=W=>{var X;const Q=w.getNode(W);if(!Q)return 0;if(N[W])return Q.data.rank;N[W]=!0;let j;return(X=w.getRelatedEdges(W,"out"))===null||X===void 0||X.forEach(_=>{const q=C(_.target),ot=_.data.minlen,dt=q-ot;dt&&(j===void 0||dt<j)&&(j=dt)}),j||(j=0),Q.data.rank=j,j};w.getAllNodes().filter(W=>w.getRelatedEdges(W.id,"in").length===0).forEach(W=>C(W.id))},Ln=w=>{const N={};let C;const W=j=>{var _;const q=w.getNode(j);if(!q)return 0;if(N[j])return q.data.rank;N[j]=!0;let ot;return(_=w.getRelatedEdges(j,"out"))===null||_===void 0||_.forEach(dt=>{const gt=W(dt.target),Pt=dt.data.minlen,Rt=gt-Pt;Rt&&(ot===void 0||Rt<ot)&&(ot=Rt)}),ot||(ot=0),(C===void 0||ot<C)&&(C=ot),q.data.rank=ot,ot};w.getAllNodes().filter(j=>w.getRelatedEdges(j.id,"in").length===0).forEach(j=>{j&&W(j.id)}),C===void 0&&(C=0);const X={},Q=(j,_)=>{var q;const ot=w.getNode(j),dt=isNaN(ot.data.layer)?_:ot.data.layer;(ot.data.rank===void 0||ot.data.rank<dt)&&(ot.data.rank=dt),!X[j]&&(X[j]=!0,(q=w.getRelatedEdges(j,"out"))===null||q===void 0||q.forEach(gt=>{Q(gt.target,dt+gt.data.minlen)}))};w.getAllNodes().forEach(j=>{const _=j.data;_&&(isNaN(_.layer)?_.rank-=C:Q(j.id,_.layer))})},I=(w,N)=>w.getNode(N.target).data.rank-w.getNode(N.source).data.rank-N.data.minlen,k=w=>{const N=new d.k({tree:[]}),C=w.getAllNodes()[0],W=w.getAllNodes().length;N.addNode(C);let X,Q;for(;m(N,w)<W;)X=s(N,w),Q=N.hasNode(X.source)?I(w,X):-I(w,X),E(N,w,Q);return N},m=(w,N)=>{const C=W=>{N.getRelatedEdges(W,"both").forEach(X=>{const Q=X.source,j=W===Q?X.target:Q;!w.hasNode(j)&&!I(N,X)&&(w.addNode({id:j,data:{}}),w.addEdge({id:X.id,source:W,target:j,data:{}}),C(j))})};return w.getAllNodes().forEach(W=>C(W.id)),w.getAllNodes().length},e=w=>{const N=new d.k({tree:[]}),C=w.getAllNodes()[0],W=w.getAllNodes().length;N.addNode(C);let X,Q;for(;n(N,w)<W;)X=s(N,w),Q=N.hasNode(X.source)?I(w,X):-I(w,X),E(N,w,Q);return N},n=(w,N)=>{const C=W=>{var X;(X=N.getRelatedEdges(W,"both"))===null||X===void 0||X.forEach(Q=>{const j=Q.source,_=W===j?Q.target:j;!w.hasNode(_)&&(N.getNode(_).data.layer!==void 0||!I(N,Q))&&(w.addNode({id:_,data:{}}),w.addEdge({id:Q.id,source:W,target:_,data:{}}),C(_))})};return w.getAllNodes().forEach(W=>C(W.id)),w.getAllNodes().length},s=(w,N)=>H(N.getAllEdges(),C=>w.hasNode(C.source)!==w.hasNode(C.target)?I(N,C):1/0),E=(w,N,C)=>{w.getAllNodes().forEach(W=>{const X=N.getNode(W.id);X.data.rank||(X.data.rank=0),X.data.rank+=C})},F=w=>{const N=G(w);Mn(N);const C=k(N);rt(C),L(C,N);let W,X;for(;W=Mt(C);)X=mt(C,N,W),It(C,N,W,X)},L=(w,N)=>{let C=tt(w,w.getAllNodes(),"post",!1);C=C.slice(0,(C==null?void 0:C.length)-1),C.forEach(W=>{U(w,N,W)})},U=(w,N,C)=>{const X=w.getNode(C).data.parent,Q=w.getRelatedEdges(C,"both").find(j=>j.target===X||j.source===X);Q.data.cutvalue=nt(w,N,C)},nt=(w,N,C)=>{const X=w.getNode(C).data.parent;let Q=!0,j=N.getRelatedEdges(C,"out").find(q=>q.target===X),_=0;return j||(Q=!1,j=N.getRelatedEdges(X,"out").find(q=>q.target===C)),_=j.data.weight,N.getRelatedEdges(C,"both").forEach(q=>{const ot=q.source===C,dt=ot?q.target:q.source;if(dt!==X){const gt=ot===Q,Pt=q.data.weight;if(_+=gt?Pt:-Pt,ut(w,C,dt)){const Rt=w.getRelatedEdges(C,"both").find(Ct=>Ct.source===dt||Ct.target===dt).data.cutvalue;_+=gt?-Rt:Rt}}}),_},rt=(w,N=w.getAllNodes()[0].id)=>{lt(w,{},1,N)},lt=(w,N,C,W,X)=>{var Q;const j=C;let _=C;const q=w.getNode(W);return N[W]=!0,(Q=w.getNeighbors(W))===null||Q===void 0||Q.forEach(ot=>{N[ot.id]||(_=lt(w,N,_,ot.id,W))}),q.data.low=j,q.data.lim=_++,X?q.data.parent=X:delete q.data.parent,_},Mt=w=>w.getAllEdges().find(N=>N.data.cutvalue<0),mt=(w,N,C)=>{let W=C.source,X=C.target;N.getRelatedEdges(W,"out").find(dt=>dt.target===X)||(W=C.target,X=C.source);const Q=w.getNode(W),j=w.getNode(X);let _=Q,q=!1;Q.data.lim>j.data.lim&&(_=j,q=!0);const ot=N.getAllEdges().filter(dt=>q===yt(w.getNode(dt.source),_)&&q!==yt(w.getNode(dt.target),_));return H(ot,dt=>I(N,dt))},It=(w,N,C,W)=>{const X=w.getRelatedEdges(C.source,"both").find(Q=>Q.source===C.target||Q.target===C.target);X&&w.removeEdge(X.id),w.addEdge({id:`e${Math.random()}`,source:W.source,target:W.target,data:{}}),rt(w),L(w,N),Bt(w,N)},Bt=(w,N)=>{const C=w.getAllNodes().find(X=>!X.data.parent);let W=tt(w,C,"pre",!1);W=W.slice(1),W.forEach(X=>{const Q=w.getNode(X).data.parent;let j=N.getRelatedEdges(X,"out").find(q=>q.target===Q),_=!1;!j&&N.hasNode(Q)&&(j=N.getRelatedEdges(Q,"out").find(q=>q.target===X),_=!0),N.getNode(X).data.rank=(N.hasNode(Q)&&N.getNode(Q).data.rank||0)+(_?j==null?void 0:j.data.minlen:-(j==null?void 0:j.data.minlen))})},ut=(w,N,C)=>w.getRelatedEdges(N,"both").find(W=>W.source===C||W.target===C),yt=(w,N)=>N.data.low<=w.data.lim&&w.data.lim<=N.data.lim,Ot=(w,N)=>{switch(N){case"network-simplex":jt(w);break;case"tight-tree":At(w);break;case"longest-path":Lt(w);break;default:At(w)}},Lt=Mn,At=w=>{Ln(w),e(w)},jt=w=>{F(w)},te=(w,N)=>{const{edgeLabelSpace:C,keepNodeOrder:W,prevGraph:X,rankdir:Q,ranksep:j}=N;!W&&X&&Jt(w,X);const _=We(w);C&&(N.ranksep=Ge(_,{rankdir:Q,ranksep:j}));let q;try{q=kt(_,N)}catch(ot){if(ot.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,ot);return}throw ot}return se(w,_),q},kt=(w,N)=>{const{acyclicer:C,ranker:W,rankdir:X="tb",nodeOrder:Q,keepNodeOrder:j,align:_,nodesep:q=50,edgesep:ot=20,ranksep:dt=50}=N;Nn(w),Y(w,C);const{nestingRoot:gt,nodeRankFactor:Pt}=Nt(w);Ot(P(w),W),he(w),T(w,Pt),Ft(w,gt),D(w),Be(w),Pe(w);const Rt=[];Wt(w,Rt),ke(w,Rt),it(w),j&&Ae(w,Q),cn(w,j),Qe(w),vt(w,X),vn(w,{align:_,nodesep:q,edgesep:ot,ranksep:dt}),qe(w),Je(w),Zt(w,Rt),$e(w),pt(w,X);const{width:Ct,height:Gt}=Fe(w);return pe(w),Xe(w),B(w),{width:Ct,height:Gt}},Jt=(w,N)=>{w.getAllNodes().forEach(C=>{const W=w.getNode(C.id);if(N.hasNode(C.id)){const X=N.getNode(C.id);W.data.fixorder=X.data._order,delete X.data._order}else delete W.data.fixorder})},se=(w,N)=>{w.getAllNodes().forEach(C=>{var W;const X=w.getNode(C.id);if(X){const Q=N.getNode(C.id);X.data.x=Q.data.x,X.data.y=Q.data.y,X.data._order=Q.data.order,X.data._rank=Q.data.rank,!((W=N.getChildren(C.id))===null||W===void 0)&&W.length&&(X.data.width=Q.data.width,X.data.height=Q.data.height)}}),w.getAllEdges().forEach(C=>{const W=w.getEdge(C.id),X=N.getEdge(C.id);W.data.points=X?X.data.points:[],X&&X.data.hasOwnProperty("x")&&(W.data.x=X.data.x,W.data.y=X.data.y)})},we=["width","height","layer","fixorder"],Dt={width:0,height:0},Me=["minlen","weight","width","height","labeloffset"],Ee={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ee=["labelpos"],We=w=>{const N=new d.k({tree:[]});return w.getAllNodes().forEach(C=>{const W=Ze(w.getNode(C.id).data),X=Object.assign(Object.assign({},Dt),W),Q=_t(X,we);N.hasNode(C.id)||N.addNode({id:C.id,data:Object.assign({},Q)});const j=w.hasTreeStructure("combo")?w.getParent(C.id,"combo"):w.getParent(C.id);(0,v.Z)(j)||(N.hasNode(j.id)||N.addNode(Object.assign({},j)),N.setParent(C.id,j.id))}),w.getAllEdges().forEach(C=>{const W=Ze(w.getEdge(C.id).data),X={};ee==null||ee.forEach(Q=>{W[Q]!==void 0&&(X[Q]=W[Q])}),N.addEdge({id:C.id,source:C.source,target:C.target,data:Object.assign({},Ee,_t(W,Me),X)})}),N},Ge=(w,N)=>{const{ranksep:C=0,rankdir:W}=N;return w.getAllNodes().forEach(X=>{isNaN(X.data.layer)||X.data.layer||(X.data.layer=0)}),w.getAllEdges().forEach(X=>{var Q;X.data.minlen*=2,((Q=X.data.labelpos)===null||Q===void 0?void 0:Q.toLowerCase())!=="c"&&(W==="TB"||W==="BT"?X.data.width+=X.data.labeloffset:X.data.height+=X.data.labeloffset)}),C/2},he=w=>{w.getAllEdges().forEach(N=>{if(N.data.width&&N.data.height){const C=w.getNode(N.source),W=w.getNode(N.target),X={e:N,rank:(W.data.rank-C.data.rank)/2+C.data.rank};z(w,"edge-proxy",X,"_ep")}})},Be=w=>{let N=0;return w.getAllNodes().forEach(C=>{var W,X;C.data.borderTop&&(C.data.minRank=(W=w.getNode(C.data.borderTop))===null||W===void 0?void 0:W.data.rank,C.data.maxRank=(X=w.getNode(C.data.borderBottom))===null||X===void 0?void 0:X.data.rank,N=Math.max(N,C.data.maxRank||-1/0))}),N},Pe=w=>{w.getAllNodes().forEach(N=>{N.data.dummy==="edge-proxy"&&(w.getEdge(N.data.e.id).data.labelRank=N.data.rank,w.removeNode(N.id))})},Fe=(w,N)=>{let C,W=0,X,Q=0;const{marginx:j=0,marginy:_=0}=N||{},q=ot=>{if(!ot.data)return;const dt=ot.data.x,gt=ot.data.y,Pt=ot.data.width,Rt=ot.data.height;!isNaN(dt)&&!isNaN(Pt)&&(C===void 0&&(C=dt-Pt/2),C=Math.min(C,dt-Pt/2),W=Math.max(W,dt+Pt/2)),!isNaN(gt)&&!isNaN(Rt)&&(X===void 0&&(X=gt-Rt/2),X=Math.min(X,gt-Rt/2),Q=Math.max(Q,gt+Rt/2))};return w.getAllNodes().forEach(ot=>{q(ot)}),w.getAllEdges().forEach(ot=>{ot!=null&&ot.data.hasOwnProperty("x")&&q(ot)}),C-=j,X-=_,w.getAllNodes().forEach(ot=>{ot.data.x-=C,ot.data.y-=X}),w.getAllEdges().forEach(ot=>{var dt;(dt=ot.data.points)===null||dt===void 0||dt.forEach(gt=>{gt.x-=C,gt.y-=X}),ot.data.hasOwnProperty("x")&&(ot.data.x-=C),ot.data.hasOwnProperty("y")&&(ot.data.y-=X)}),{width:W-C+j,height:Q-X+_}},pe=w=>{w.getAllEdges().forEach(N=>{const C=w.getNode(N.source),W=w.getNode(N.target);let X,Q;N.data.points?(X=N.data.points[0],Q=N.data.points[N.data.points.length-1]):(N.data.points=[],X={x:W.data.x,y:W.data.y},Q={x:C.data.x,y:C.data.y}),N.data.points.unshift(M(C.data,X)),N.data.points.push(M(W.data,Q))})},$e=w=>{w.getAllEdges().forEach(N=>{if(N.data.hasOwnProperty("x"))switch((N.data.labelpos==="l"||N.data.labelpos==="r")&&(N.data.width-=N.data.labeloffset),N.data.labelpos){case"l":N.data.x-=N.data.width/2+N.data.labeloffset;break;case"r":N.data.x+=N.data.width/2+N.data.labeloffset;break}})},Xe=w=>{w.getAllEdges().forEach(N=>{var C;N.data.reversed&&((C=N.data.points)===null||C===void 0||C.reverse())})},Je=w=>{w.getAllNodes().forEach(N=>{var C,W,X;if(!((C=w.getChildren(N.id))===null||C===void 0)&&C.length){const Q=w.getNode(N.id),j=w.getNode(Q.data.borderTop),_=w.getNode(Q.data.borderBottom),q=w.getNode(Q.data.borderLeft[((W=Q.data.borderLeft)===null||W===void 0?void 0:W.length)-1]),ot=w.getNode(Q.data.borderRight[((X=Q.data.borderRight)===null||X===void 0?void 0:X.length)-1]);Q.data.width=Math.abs((ot==null?void 0:ot.data.x)-(q==null?void 0:q.data.x))||10,Q.data.height=Math.abs((_==null?void 0:_.data.y)-(j==null?void 0:j.data.y))||10,Q.data.x=((q==null?void 0:q.data.x)||0)+Q.data.width/2,Q.data.y=((j==null?void 0:j.data.y)||0)+Q.data.height/2}}),w.getAllNodes().forEach(N=>{N.data.dummy==="border"&&w.removeNode(N.id)})},Nn=w=>{w.getAllEdges().forEach(N=>{if(N.source===N.target){const C=w.getNode(N.source);C.data.selfEdges||(C.data.selfEdges=[]),C.data.selfEdges.push(N),w.removeEdge(N.id)}})},Qe=w=>{const N=b(w);N==null||N.forEach(C=>{let W=0;C==null||C.forEach((X,Q)=>{var j;const _=w.getNode(X);_.data.order=Q+W,(j=_.data.selfEdges)===null||j===void 0||j.forEach(q=>{z(w,"selfedge",{width:q.data.width,height:q.data.height,rank:_.data.rank,order:Q+ ++W,e:q},"_se")}),delete _.data.selfEdges})})},qe=w=>{w.getAllNodes().forEach(N=>{const C=w.getNode(N.id);if(C.data.dummy==="selfedge"){const W=w.getNode(C.data.e.source),X=W.data.x+W.data.width/2,Q=W.data.y,j=C.data.x-X,_=W.data.height/2;w.hasEdge(C.data.e.id)?w.updateEdgeData(C.data.e.id,C.data.e.data):w.addEdge({id:C.data.e.id,source:C.data.e.source,target:C.data.e.target,data:C.data.e.data}),w.removeNode(N.id),C.data.e.data.points=[{x:X+2*j/3,y:Q-_},{x:X+5*j/6,y:Q-_},{y:Q,x:X+j},{x:X+5*j/6,y:Q+_},{x:X+2*j/3,y:Q+_}],C.data.e.data.x=C.data.x,C.data.e.data.y=C.data.y}})},_t=(w,N)=>{const C={};return N==null||N.forEach(W=>{w[W]!==void 0&&(C[W]=+w[W])}),C},Ze=(w={})=>{const N={};return Object.keys(w).forEach(C=>{N[C.toLowerCase()]=w[C]}),N};var He=t(52606),oe=t(85161),je=t(31107);const tn={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class en{constructor(N={}){this.options=N,this.id="antv-dagre",this.options=Object.assign(Object.assign({},tn),N)}execute(N,C){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,N,C)})}assign(N,C){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,N,C)})}genericDagreLayout(N,C,W){return(0,r.mG)(this,void 0,void 0,function*(){const X=Object.assign(Object.assign({},this.options),W),{nodeSize:Q,align:j,rankdir:_="TB",ranksep:q,nodesep:ot,ranksepFunc:dt,nodesepFunc:gt,edgeLabelSpace:Pt,ranker:Rt,nodeOrder:Ct,begin:Gt,controlPoints:Vt,radial:zt,sortByCombo:Qt,preset:le}=X,ie=new d.k({tree:[]}),Ue=(0,He.jE)(q||50,dt),pn=(0,He.jE)(ot||50,gt);let Ie=pn,nn=Ue;(_==="LR"||_==="RL")&&(Ie=Ue,nn=pn);const On=(0,He.tO)(10,Q,!1),mn=C.getAllNodes(),Ve=C.getAllEdges();mn.forEach($t=>{const xe=(0,je._)(On($t)),Ne=nn($t),Te=Ie($t),Oe=xe[0]+2*Te,Xt=xe[1]+2*Ne,Kt=$t.data.layer;(0,a.Z)(Kt)?ie.addNode({id:$t.id,data:{width:Oe,height:Xt,layer:Kt}}):ie.addNode({id:$t.id,data:{width:Oe,height:Xt}})}),Qt&&(ie.attachTreeStructure("combo"),mn.forEach($t=>{const{parentId:xe}=$t.data;xe!==void 0&&ie.hasNode(xe)&&ie.setParent($t.id,xe,"combo")})),Ve.forEach($t=>{ie.addEdge({id:$t.id,source:$t.source,target:$t.target,data:{weight:$t.data.weight||1}})});let rn;le!=null&&le.length&&(rn=new d.k({nodes:le})),te(ie,{prevGraph:rn,edgeLabelSpace:Pt,keepNodeOrder:!!Ct,nodeOrder:Ct||[],acyclicer:"greedy",ranker:Rt,rankdir:_,nodesep:ot,align:j});const Le=[0,0];if(Gt){let $t=1/0,xe=1/0;ie.getAllNodes().forEach(Ne=>{$t>Ne.data.x&&($t=Ne.data.x),xe>Ne.data.y&&(xe=Ne.data.y)}),ie.getAllEdges().forEach(Ne=>{var Te;(Te=Ne.data.points)===null||Te===void 0||Te.forEach(Oe=>{$t>Oe.x&&($t=Oe.x),xe>Oe.y&&(xe=Oe.y)})}),Le[0]=Gt[0]-$t,Le[1]=Gt[1]-xe}const on=_==="LR"||_==="RL";if(!zt){const $t=new Set,Ne=_==="BT"||_==="RL"?(Kt,ae)=>ae-Kt:(Kt,ae)=>Kt-ae;ie.getAllNodes().forEach(Kt=>{Kt.data.x=Kt.data.x+Le[0],Kt.data.y=Kt.data.y+Le[1],$t.add(on?Kt.data.x:Kt.data.y)});const Te=Array.from($t).sort(Ne),Oe=on?(Kt,ae)=>Kt.x!==ae.x:(Kt,ae)=>Kt.y!==ae.y,Xt=on?(Kt,ae,ge)=>{const De=Math.max(ae.y,ge.y),Re=Math.min(ae.y,ge.y);return Kt.filter(Ke=>Ke.y<=De&&Ke.y>=Re)}:(Kt,ae,ge)=>{const De=Math.max(ae.x,ge.x),Re=Math.min(ae.x,ge.x);return Kt.filter(Ke=>Ke.x<=De&&Ke.x>=Re)};ie.getAllEdges().forEach((Kt,ae)=>{var ge;Pt&&Vt&&Kt.data.type!=="loop"&&(Kt.data.controlPoints=_e((ge=Kt.data.points)===null||ge===void 0?void 0:ge.map(({x:De,y:Re})=>({x:De+Le[0],y:Re+Le[1]})),ie.getNode(Kt.source),ie.getNode(Kt.target),Te,on,Oe,Xt))})}let sn=[];sn=ie.getAllNodes().map($t=>(0,oe.u)($t));const yn=ie.getAllEdges();return N&&(sn.forEach($t=>{C.mergeNodeData($t.id,{x:$t.data.x,y:$t.data.y})}),yn.forEach($t=>{C.mergeEdgeData($t.id,{controlPoints:$t.data.controlPoints})})),{nodes:sn,edges:yn}})}}const _e=(w,N,C,W,X,Q,j)=>{let _=(w==null?void 0:w.slice(1,w.length-1))||[];if(N&&C){let{x:q,y:ot}=N.data,{x:dt,y:gt}=C.data;if(X&&(q=N.data.y,ot=N.data.x,dt=C.data.y,gt=C.data.x),gt!==ot&&q!==dt){const Pt=W.indexOf(ot),Rt=W[Pt+1];if(Rt){const Vt=_[0],zt=X?{x:(ot+Rt)/2,y:(Vt==null?void 0:Vt.y)||dt}:{x:(Vt==null?void 0:Vt.x)||dt,y:(ot+Rt)/2};(!Vt||Q(Vt,zt))&&_.unshift(zt)}const Ct=W.indexOf(gt),Gt=Math.abs(Ct-Pt);if(Gt===1)_=j(_,N.data,C.data),_.length||_.push(X?{x:(ot+gt)/2,y:q}:{x:q,y:(ot+gt)/2});else if(Gt>1){const Vt=W[Ct-1];if(Vt){const zt=_[_.length-1],Qt=X?{x:(gt+Vt)/2,y:(zt==null?void 0:zt.y)||dt}:{x:(zt==null?void 0:zt.x)||q,y:(gt+Vt)/2};(!zt||Q(zt,Qt))&&_.push(Qt)}}}}return _}},23230:function(f,x,t){"use strict";t.d(x,{S:function(){return l}});var r=t(15767),d=t(52606),a=t(85161),v=t(76991);const u={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class l{constructor(h={}){this.options=h,this.id="circular",this.options=Object.assign(Object.assign({},u),h)}execute(h,p){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,h,p)})}assign(h,p){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,h,p)})}genericCircularLayout(h,p,y){return(0,r.mG)(this,void 0,void 0,function*(){const A=Object.assign(Object.assign({},this.options),y),{width:Y,height:$,center:B,divisions:K,startAngle:z=0,endAngle:G=2*Math.PI,angleRatio:P,ordering:O,clockwise:S,nodeSpacing:R,nodeSize:M}=A,b=p.getAllNodes(),D=p.getAllEdges(),[T,Z,V]=o(Y,$,B),J=b==null?void 0:b.length;if(!J||J===1)return(0,v.P)(p,h,V);const H=(G-z)/J;let{radius:st,startRadius:tt,endRadius:it}=A;if(R){const wt=(0,d.jE)(10,R),et=(0,d.tO)(10,M);let at=-1/0;b.forEach(ct=>{const Nt=et(ct);at<Nt&&(at=Nt)});let ht=0;b.forEach((ct,Nt)=>{Nt===0?ht+=at||10:ht+=(wt(ct)||0)+(at||10)}),st=ht/(2*Math.PI)}else!st&&!tt&&!it?st=Math.min(Z,T)/2:!tt&&it?tt=it:tt&&!it&&(it=tt);const ft=H*P;let vt=[];O==="topology"?vt=g(p,b):O==="topology-directed"?vt=g(p,b,!0):O==="degree"?vt=c(p,b):vt=b.map(wt=>(0,a.u)(wt));const pt=Math.ceil(J/K);for(let wt=0;wt<J;++wt){let et=st;!et&&tt!==null&&it!==null&&(et=tt+wt*(it-tt)/(J-1)),et||(et=10+wt*100/(J-1));let at=z+wt%pt*ft+2*Math.PI/K*Math.floor(wt/pt);S||(at=G-wt%pt*ft-2*Math.PI/K*Math.floor(wt/pt)),vt[wt].data.x=V[0]+Math.cos(at)*et,vt[wt].data.y=V[1]+Math.sin(at)*et}return h&&vt.forEach(wt=>{p.mergeNodeData(wt.id,{x:wt.data.x,y:wt.data.y})}),{nodes:vt,edges:D}})}}const g=(i,h,p=!1)=>{const y=[(0,a.u)(h[0])],A={},Y=h.length;A[h[0].id]=!0;let $=0;return h.forEach((B,K)=>{if(K!==0)if((K===Y-1||i.getDegree(B.id,"both")!==i.getDegree(h[K+1].id,"both")||i.areNeighbors(y[$].id,B.id))&&!A[B.id])y.push((0,a.u)(B)),A[B.id]=!0,$++;else{const z=p?i.getSuccessors(y[$].id):i.getNeighbors(y[$].id);let G=!1;for(let O=0;O<z.length;O++){const S=z[O];if(i.getDegree(S.id)===i.getDegree(B.id)&&!A[S.id]){y.push((0,a.u)(S)),A[S.id]=!0,G=!0;break}}let P=0;for(;!G&&(A[h[P].id]||(y.push((0,a.u)(h[P])),A[h[P].id]=!0,G=!0),P++,P!==Y););}}),y};function c(i,h){const p=[];return h.forEach((y,A)=>{p.push((0,a.u)(y))}),p.sort((y,A)=>i.getDegree(y.id,"both")-i.getDegree(A.id,"both")),p}const o=(i,h,p)=>{let y=i,A=h,Y=p;return!y&&typeof window!="undefined"&&(y=window.innerWidth),!A&&typeof window!="undefined"&&(A=window.innerHeight),Y||(Y=[y/2,A/2]),[y,A,Y]}},63010:function(f,x,t){"use strict";t.d(x,{u:function(){return Y}});var r=t(15767),d=t(16754),a=t(22355),v=t(90079),u=t(48758),l=t(15173),g=t(86035),c=t(70564),o=t(28632),i=t(10589),h=t(27242),p=t(76991);const y={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},A={center:[0,0],comboPadding:10,treeKey:"combo"};class Y{constructor(K={}){this.options=K,this.id="comboCombined",this.options=Object.assign(Object.assign({},A),K)}execute(K,z){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,K,z)})}assign(K,z){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,K,z)})}genericComboCombinedLayout(K,z,G){return(0,r.mG)(this,void 0,void 0,function*(){const P=this.initVals(Object.assign(Object.assign({},this.options),G)),{center:O,treeKey:S,outerLayout:R}=P,M=z.getAllNodes().filter(et=>!et.data._isCombo),b=z.getAllNodes().filter(et=>et.data._isCombo),D=z.getAllEdges(),T=M==null?void 0:M.length;if(!T||T===1)return(0,p.P)(z,K,O);const Z=[],V=new Map;M.forEach(et=>{V.set(et.id,et)});const J=new Map;b.forEach(et=>{J.set(et.id,et)});const H=new Map,st=this.getInnerGraphs(z,S,V,J,D,P,H);yield Promise.all(st);const tt=new Map,it=[],ft=new Map;let vt=!0;z.getRoots(S).forEach(et=>{const at=H.get(et.id),ht=J.get(et.id)||V.get(et.id),ct={id:et.id,data:Object.assign(Object.assign({},et.data),{x:at.data.x||ht.data.x,y:at.data.y||ht.data.y,fx:at.data.fx||ht.data.fx,fy:at.data.fy||ht.data.fy,mass:at.data.mass||ht.data.mass,size:at.data.size})};it.push(ct),tt.set(et.id,!0),!isNaN(ct.data.x)&&ct.data.x!==0&&!isNaN(ct.data.y)&&ct.data.y!==0?vt=!1:(ct.data.x=Math.random()*100,ct.data.y=Math.random()*100),(0,i._)(z,[et],Nt=>{Nt.id!==et.id&&ft.set(Nt.id,et.id)},"TB",S)});const pt=[];D.forEach(et=>{const at=ft.get(et.source)||et.source,ht=ft.get(et.target)||et.target;at!==ht&&tt.has(at)&&tt.has(ht)&&pt.push({id:et.id,source:at,target:ht,data:{}})});let xt;if(it!=null&&it.length){if(it.length===1)it[0].data.x=O[0],it[0].data.y=O[1];else{const et=new d.k({nodes:it,edges:pt}),at=R||new g.y;vt&&y[at.id]&&(yield(it.length<100?new c.A:new l.W).assign(et));const ht=Object.assign({center:O,kg:5,preventOverlap:!0,animate:!1},at.id==="force"?{gravity:1,factor:4,linkDistance:(ct,Nt,Et)=>{const bt=Math.max(...Nt.data.size)||32,St=Math.max(...Et.data.size)||32;return bt/2+St/2+200}}:{});xt=yield $(at,et,ht)}H.forEach(et=>{var at;const ht=xt.nodes.find(Et=>Et.id===et.id);if(ht){const{x:Et,y:bt}=ht.data;et.data.visited=!0,et.data.x=Et,et.data.y=bt,Z.push({id:et.id,data:{x:Et,y:bt}})}const{x:ct,y:Nt}=et.data;(at=et.data.nodes)===null||at===void 0||at.forEach(Et=>{Z.push({id:Et.id,data:{x:Et.data.x+ct,y:Et.data.y+Nt}})})}),H.forEach(({data:et})=>{const{x:at,y:ht,visited:ct,nodes:Nt}=et;Nt==null||Nt.forEach(Et=>{if(!ct){const bt=Z.find(St=>St.id===Et.id);bt.data.x+=at||0,bt.data.y+=ht||0}})})}return K&&Z.forEach(et=>{z.mergeNodeData(et.id,{x:et.data.x,y:et.data.y})}),{nodes:Z,edges:D}})}initVals(K){const z=Object.assign({},K),{nodeSize:G,spacing:P,comboPadding:O}=K;let S,R;if((0,a.Z)(P)?R=()=>P:(0,v.Z)(P)?R=P:R=()=>0,z.spacing=R,!G)S=b=>{const D=R(b);return b.size?(0,h.k)(b.size)?((b.size[0]>b.size[1]?b.size[0]:b.size[1])+D)/2:(0,u.Z)(b.size)?((b.size.width>b.size.height?b.size.width:b.size.height)+D)/2:(b.size+D)/2:32+D/2};else if((0,v.Z)(G))S=b=>{const D=G(b),T=R(b);return(0,h.k)(b.size)?((b.size[0]>b.size[1]?b.size[0]:b.size[1])+T)/2:((D||32)+T)/2};else if((0,h.k)(G)){const D=(G[0]>G[1]?G[0]:G[1])/2;S=T=>D+R(T)/2}else{const b=G/2;S=D=>b+R(D)/2}z.nodeSize=S;let M;return(0,a.Z)(O)?M=()=>O:(0,h.k)(O)?M=()=>Math.max.apply(null,O):(0,v.Z)(O)?M=O:M=()=>0,z.comboPadding=M,z}getInnerGraphs(K,z,G,P,O,S,R){const{nodeSize:M,comboPadding:b,spacing:D,innerLayout:T}=S,Z=T||new l.W({}),V={center:[0,0],preventOverlap:!0,nodeSpacing:D},J=[],H=st=>{let tt=(b==null?void 0:b(st))||10;return(0,h.k)(tt)&&(tt=Math.max(...tt)),{size:tt?[tt*2,tt*2]:[30,30],padding:tt}};return K.getRoots(z).forEach(st=>{R.set(st.id,{id:st.id,data:{nodes:[],size:H(st).size}});let tt=Promise.resolve();(0,i._)(K,[st],it=>{var ft;if(!it.data._isCombo)return;const{size:vt,padding:pt}=H(it);if(!(!((ft=K.getChildren(it.id,z))===null||ft===void 0)&&ft.length))R.set(it.id,{id:it.id,data:Object.assign(Object.assign({},it.data),{size:vt})});else{const xt=R.get(it.id);R.set(it.id,{id:it.id,data:Object.assign({nodes:[]},xt==null?void 0:xt.data)});const wt=new Map,et=K.getChildren(it.id,z).map(ct=>{if(ct.data._isCombo)return R.has(ct.id)||R.set(ct.id,{id:ct.id,data:Object.assign({},ct.data)}),wt.set(ct.id,!0),R.get(ct.id);const Nt=G.get(ct.id)||P.get(ct.id);return wt.set(ct.id,!0),{id:ct.id,data:Object.assign(Object.assign({},Nt.data),ct.data)}}),at={nodes:et,edges:O.filter(ct=>wt.has(ct.source)&&wt.has(ct.target))};let ht=1/0;et.forEach(ct=>{var Nt;let{size:Et}=ct.data;Et||(Et=((Nt=R.get(ct.id))===null||Nt===void 0?void 0:Nt.data.size)||(M==null?void 0:M(ct))||[30,30]),(0,a.Z)(Et)&&(Et=[Et,Et]);const[bt,St]=Et;ht>bt&&(ht=bt),ht>St&&(ht=St),ct.data.size=Et}),tt=tt.then(()=>(0,r.mG)(this,void 0,void 0,function*(){const ct=new d.k(at);yield $(Z,ct,V,!0);const{minX:Nt,minY:Et,maxX:bt,maxY:St}=(0,i.H0)(et),Ft={x:(bt+Nt)/2,y:(St+Et)/2};at.nodes.forEach(Yt=>{Yt.data.x-=Ft.x,Yt.data.y-=Ft.y});const Ut=[Math.max(bt-Nt,ht)+pt*2,Math.max(St-Et,ht)+pt*2];R.get(it.id).data.size=Ut,R.get(it.id).data.nodes=et}))}return!0},"BT",z),J.push(tt)}),J}}function $(B,K,z,G){var P;return(0,r.mG)(this,void 0,void 0,function*(){return(0,o.h)(B)?(B.execute(K,z),B.stop(),B.tick((P=z.iterations)!==null&&P!==void 0?P:300)):G?yield B.assign(K,z):yield B.execute(K,z)})}},15173:function(f,x,t){"use strict";t.d(x,{W:function(){return h}});var r=t(15767),d=t(90079),a=t(22355),v=t(48758),u=t(43706),l=t(27242),g=t(85161),c=t(76991),o=t(31107);const i={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class h{constructor(y={}){this.options=y,this.id="concentric",this.options=Object.assign(Object.assign({},i),y)}execute(y,A){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,y,A)})}assign(y,A){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,y,A)})}genericConcentricLayout(y,A,Y){return(0,r.mG)(this,void 0,void 0,function*(){const $=Object.assign(Object.assign({},this.options),Y),{center:B,width:K,height:z,sortBy:G,maxLevelDiff:P,sweep:O,clockwise:S,equidistant:R,preventOverlap:M,startAngle:b=3/2*Math.PI,nodeSize:D,nodeSpacing:T}=$,Z=A.getAllNodes(),V=A.getAllEdges(),J=!K&&typeof window!="undefined"?window.innerWidth:K,H=!z&&typeof window!="undefined"?window.innerHeight:z,st=B||[J/2,H/2];if(!(Z!=null&&Z.length)||Z.length===1)return(0,c.P)(A,y,st);const tt=[];let it,ft=0;(0,l.k)(D)?it=Math.max(D[0],D[1]):(0,d.Z)(D)?(it=-1/0,Z.forEach(Et=>{const bt=Math.max(...(0,o._)(D(Et)));bt>it&&(it=bt)})):it=D,(0,l.k)(T)?ft=Math.max(T[0],T[1]):(0,a.Z)(T)&&(ft=T),Z.forEach(Et=>{const bt=(0,g.u)(Et);tt.push(bt);let St=it;const{data:Ft}=bt;(0,l.k)(Ft.size)?St=Math.max(Ft.size[0],Ft.size[1]):(0,a.Z)(Ft.size)?St=Ft.size:(0,v.Z)(Ft.size)&&(St=Math.max(Ft.size.width,Ft.size.height)),it=Math.max(it,St),(0,d.Z)(T)&&(ft=Math.max(T(Et),ft))});const vt={};tt.forEach((Et,bt)=>{vt[Et.id]=bt});let pt=G;(!(0,u.Z)(pt)||tt[0].data[pt]===void 0)&&(pt="degree"),pt==="degree"?tt.sort((Et,bt)=>A.getDegree(bt.id,"both")-A.getDegree(Et.id,"both")):tt.sort((Et,bt)=>bt.data[pt]-Et.data[pt]);const xt=tt[0],wt=(P||(pt==="degree"?A.getDegree(xt.id,"both"):xt.data[pt]))/4,et=[{nodes:[]}];let at=et[0];tt.forEach(Et=>{if(at.nodes.length>0){const bt=Math.abs(pt==="degree"?A.getDegree(at.nodes[0].id,"both")-A.getDegree(Et.id,"both"):at.nodes[0].data[pt]-Et.data[pt]);wt&&bt>=wt&&(at={nodes:[]},et.push(at))}at.nodes.push(Et)});let ht=it+ft;if(!M){const Et=et.length>0&&et[0].nodes.length>1,St=(Math.min(J,H)/2-ht)/(et.length+(Et?1:0));ht=Math.min(ht,St)}let ct=0;if(et.forEach(Et=>{const bt=O===void 0?2*Math.PI-2*Math.PI/Et.nodes.length:O;if(Et.dTheta=bt/Math.max(1,Et.nodes.length-1),Et.nodes.length>1&&M){const St=Math.cos(Et.dTheta)-Math.cos(0),Ft=Math.sin(Et.dTheta)-Math.sin(0),Ut=Math.sqrt(ht*ht/(St*St+Ft*Ft));ct=Math.max(Ut,ct)}Et.r=ct,ct+=ht}),R){let Et=0,bt=0;for(let St=0;St<et.length;St++){const Ut=(et[St].r||0)-bt;Et=Math.max(Et,Ut)}bt=0,et.forEach((St,Ft)=>{Ft===0&&(bt=St.r||0),St.r=bt,bt+=Et})}return et.forEach(Et=>{const bt=Et.dTheta||0,St=Et.r||0;Et.nodes.forEach((Ft,Ut)=>{const Yt=b+(S?1:-1)*bt*Ut;Ft.data.x=st[0]+St*Math.cos(Yt),Ft.data.y=st[1]+St*Math.sin(Yt)})}),y&&tt.forEach(Et=>A.mergeNodeData(Et.id,{x:Et.data.x,y:Et.data.y})),{nodes:tt,edges:V}})}}},2562:function(f,x,t){"use strict";t.d(x,{j:function(){return B}});var r=t(15767),d=t(11051),a=t(1819),v=t(44575),u=t(64681),l=t(4507),g=t(76265),c=t(61722),o=t(24211);function i(z){return z.x+z.vx}function h(z){return z.y+z.vy}function p(z){var G,P,O,S=1,R=1;typeof z!="function"&&(z=(0,c.Z)(z==null?1:+z));function M(){for(var T,Z=G.length,V,J,H,st,tt,it,ft=0;ft<R;++ft)for(V=(0,g.Z)(G,i,h).visitAfter(b),T=0;T<Z;++T)J=G[T],tt=P[J.index],it=tt*tt,H=J.x+J.vx,st=J.y+J.vy,V.visit(vt);function vt(pt,xt,wt,et,at){var ht=pt.data,ct=pt.r,Nt=tt+ct;if(ht){if(ht.index>J.index){var Et=H-ht.x-ht.vx,bt=st-ht.y-ht.vy,St=Et*Et+bt*bt;St<Nt*Nt&&(Et===0&&(Et=(0,o.Z)(O),St+=Et*Et),bt===0&&(bt=(0,o.Z)(O),St+=bt*bt),St=(Nt-(St=Math.sqrt(St)))/St*S,J.vx+=(Et*=St)*(Nt=(ct*=ct)/(it+ct)),J.vy+=(bt*=St)*Nt,ht.vx-=Et*(Nt=1-Nt),ht.vy-=bt*Nt)}return}return xt>H+Nt||et<H-Nt||wt>st+Nt||at<st-Nt}}function b(T){if(T.data)return T.r=P[T.data.index];for(var Z=T.r=0;Z<4;++Z)T[Z]&&T[Z].r>T.r&&(T.r=T[Z].r)}function D(){if(G){var T,Z=G.length,V;for(P=new Array(Z),T=0;T<Z;++T)V=G[T],P[V.index]=+z(V,T,G)}}return M.initialize=function(T,Z){G=T,O=Z,D()},M.iterations=function(T){return arguments.length?(R=+T,M):R},M.strength=function(T){return arguments.length?(S=+T,M):S},M.radius=function(T){return arguments.length?(z=typeof T=="function"?T:(0,c.Z)(+T),D(),M):z},M}function y(z,G,P){var O,S=(0,c.Z)(.1),R,M;typeof z!="function"&&(z=(0,c.Z)(+z)),G==null&&(G=0),P==null&&(P=0);function b(T){for(var Z=0,V=O.length;Z<V;++Z){var J=O[Z],H=J.x-G||1e-6,st=J.y-P||1e-6,tt=Math.sqrt(H*H+st*st),it=(M[Z]-tt)*R[Z]*T/tt;J.vx+=H*it,J.vy+=st*it}}function D(){if(O){var T,Z=O.length;for(R=new Array(Z),M=new Array(Z),T=0;T<Z;++T)M[T]=+z(O[T],T,O),R[T]=isNaN(M[T])?0:+S(O[T],T,O)}}return b.initialize=function(T){O=T,D()},b.strength=function(T){return arguments.length?(S=typeof T=="function"?T:(0,c.Z)(+T),D(),b):S},b.radius=function(T){return arguments.length?(z=typeof T=="function"?T:(0,c.Z)(+T),D(),b):z},b.x=function(T){return arguments.length?(G=+T,b):G},b.y=function(T){return arguments.length?(P=+T,b):P},b}var A=t(57280),Y=t(96207),$=t(42655);class B{constructor(G){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:v.Z,manyBody:u.Z,center:l.Z,collide:p,radial:y,x:A.Z,y:Y.Z},this.options={link:{id:P=>P.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},(0,d.Z)(this.options,G),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(G,P){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericLayout(!1,G,P)})}assign(G,P){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericLayout(!0,G,P)})}stop(){this.simulation.stop()}tick(G){return this.simulation.tick(G),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(G,P){const O=this.context.nodes.find(S=>S.id===G);O&&P.forEach((S,R)=>{if(typeof S=="number"||S===null){const M=["fx","fy","fz"][R];O[M]=S}})}getOptions(G){var P,O;const S=(0,d.Z)({},this.options,G);return S.collide&&((P=S.collide)===null||P===void 0?void 0:P.radius)===void 0&&(S.collide=S.collide||{},S.collide.radius=(O=S.nodeSize)!==null&&O!==void 0?O:10),S.iterations===void 0&&(S.link&&S.link.iterations===void 0&&(S.iterations=S.link.iterations),S.collide&&S.collide.iterations===void 0&&(S.iterations=S.collide.iterations)),this.context.options=S,S}genericLayout(G,P,O){var S;return(0,r.mG)(this,void 0,void 0,function*(){const R=this.getOptions(O),M=P.getAllNodes().map(({id:Z,data:V})=>Object.assign(Object.assign({id:Z},V),(0,a.Z)(V.data,this.config.inputNodeAttrs))),b=P.getAllEdges().map(Z=>Object.assign({},Z));Object.assign(this.context,{assign:G,nodes:M,edges:b,graph:P});const D=new Promise(Z=>{this.resolver=Z}),T=this.setSimulation(R);return T.nodes(M),(S=T.force("link"))===null||S===void 0||S.links(b),D})}getResult(){const{assign:G,nodes:P,edges:O,graph:S}=this.context,R=P.map(b=>({id:b.id,data:Object.assign(Object.assign({},b.data),(0,a.Z)(b,this.config.outputNodeAttrs))})),M=O.map(({id:b,source:D,target:T,data:Z})=>({id:b,source:typeof D=="object"?D.id:D,target:typeof T=="object"?T.id:T,data:Z}));return G&&R.forEach(b=>S.mergeNodeData(b.id,b.data)),{nodes:R,edges:M}}initSimulation(){return(0,$.Z)()}setSimulation(G){const P=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=P.on("tick",()=>{var O;return(O=G.onTick)===null||O===void 0?void 0:O.call(G,this.getResult())}).on("end",()=>{var O;return(O=this.resolver)===null||O===void 0?void 0:O.call(this,this.getResult())})),K(P,this.config.simulationAttrs.map(O=>[O,G[O]])),Object.entries(this.forceMap).forEach(([O,S])=>{const R=O;if(G[O]){let M=P.force(R);M||(M=S(),P.force(R,M)),K(M,Object.entries(G[R]))}else P.force(R,null)}),P}}const K=(z,G)=>G.reduce((P,[O,S])=>!P[O]||S===void 0?P:P[O].call(z,S),z)},89610:function(f,x,t){"use strict";t.d(x,{V:function(){return g}});var r=t(15767),d=t(22355),a=t(90079),v=t(6724),u=t.n(v),l=t(31107);class g{constructor(o){this.id="dagre",this.options={},Object.assign(this.options,g.defaultOptions,o)}execute(o,i){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,o,Object.assign(Object.assign({},this.options),i))})}assign(o,i){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,o,Object.assign(Object.assign({},this.options),i))})}genericDagreLayout(o,i,h){return(0,r.mG)(this,void 0,void 0,function*(){const{nodeSize:p}=h,y=new v.graphlib.Graph;y.setGraph(h),y.setDefaultEdgeLabel(()=>({}));const A=i.getAllNodes(),Y=i.getAllEdges();[...A,...Y].some(({id:B})=>(0,d.Z)(B))&&console.error("Dagre layout only support string id, it will convert number to string."),i.getAllNodes().forEach(B=>{const{id:K}=B,z=Object.assign({},B.data);if(p!==void 0){const[G,P]=(0,l._)((0,a.Z)(p)?p(B):p);Object.assign(z,{width:G,height:P})}y.setNode(K.toString(),z)}),i.getAllEdges().forEach(({id:B,source:K,target:z})=>{y.setEdge(K.toString(),z.toString(),{id:B})}),u().layout(y);const $={nodes:[],edges:[]};return y.nodes().forEach(B=>{const K=y.node(B);$.nodes.push({id:B,data:K}),o&&i.mergeNodeData(B,K)}),y.edges().forEach(B=>{const K=y.edge(B),{id:z}=K,G=(0,r._T)(K,["id"]),{v:P,w:O}=B;$.edges.push({id:z,source:P,target:O,data:G}),o&&i.mergeEdgeData(z,G)}),$})}}g.defaultOptions={}},74841:function(f,x,t){"use strict";t.d(x,{E:function(){return h}});var r=t(15767),d=t(16754),a=t(22355),v=t(85161),u=t(52606),l=t(76991);class g{constructor(y){this.id=y.id||0,this.rx=y.rx,this.ry=y.ry,this.fx=0,this.fy=0,this.mass=y.mass,this.degree=y.degree,this.g=y.g||0}distanceTo(y){const A=this.rx-y.rx,Y=this.ry-y.ry;return Math.hypot(A,Y)}setPos(y,A){this.rx=y,this.ry=A}resetForce(){this.fx=0,this.fy=0}addForce(y){const A=y.rx-this.rx,Y=y.ry-this.ry;let $=Math.hypot(A,Y);$=$<1e-4?1e-4:$;const B=this.g*(this.degree+1)*(y.degree+1)/$;this.fx+=B*A/$,this.fy+=B*Y/$}in(y){return y.contains(this.rx,this.ry)}add(y){const A=this.mass+y.mass,Y=(this.rx*this.mass+y.rx*y.mass)/A,$=(this.ry*this.mass+y.ry*y.mass)/A,B=this.degree+y.degree,K={rx:Y,ry:$,mass:A,degree:B};return new g(K)}}class c{constructor(y){this.xmid=y.xmid,this.ymid=y.ymid,this.length=y.length,this.massCenter=y.massCenter||[0,0],this.mass=y.mass||1}getLength(){return this.length}contains(y,A){const Y=this.length/2;return y<=this.xmid+Y&&y>=this.xmid-Y&&A<=this.ymid+Y&&A>=this.ymid-Y}NW(){const y=this.xmid-this.length/4,A=this.ymid+this.length/4,Y=this.length/2,$={xmid:y,ymid:A,length:Y};return new c($)}NE(){const y=this.xmid+this.length/4,A=this.ymid+this.length/4,Y=this.length/2,$={xmid:y,ymid:A,length:Y};return new c($)}SW(){const y=this.xmid-this.length/4,A=this.ymid-this.length/4,Y=this.length/2,$={xmid:y,ymid:A,length:Y};return new c($)}SE(){const y=this.xmid+this.length/4,A=this.ymid-this.length/4,Y=this.length/2,$={xmid:y,ymid:A,length:Y};return new c($)}}class o{constructor(y){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,y!=null&&(this.quad=y)}insert(y){if(this.body==null){this.body=y;return}this._isExternal()?(this.quad&&(this.NW=new o(this.quad.NW()),this.NE=new o(this.quad.NE()),this.SW=new o(this.quad.SW()),this.SE=new o(this.quad.SE())),this._putBody(this.body),this._putBody(y),this.body=this.body.add(y)):(this.body=this.body.add(y),this._putBody(y))}_putBody(y){this.quad&&(y.in(this.quad.NW())&&this.NW?this.NW.insert(y):y.in(this.quad.NE())&&this.NE?this.NE.insert(y):y.in(this.quad.SW())&&this.SW?this.SW.insert(y):y.in(this.quad.SE())&&this.SE&&this.SE.insert(y))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(y){if(!(this.body==null||y===this.body))if(this._isExternal())y.addForce(this.body);else{const A=this.quad?this.quad.getLength():0,Y=this.body.distanceTo(y);A/Y<this.theta?y.addForce(this.body):(this.NW&&this.NW.updateForce(y),this.NE&&this.NE.updateForce(y),this.SW&&this.SW.updateForce(y),this.SE&&this.SE.updateForce(y))}}}const i={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class h{constructor(y={}){this.options=y,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},i),y)}execute(y,A){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,y,A)})}assign(y,A){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,y,A)})}genericForceAtlas2Layout(y,A,Y){return(0,r.mG)(this,void 0,void 0,function*(){const $=A.getAllEdges(),B=A.getAllNodes(),K=this.formatOptions(Y,B.length),{width:z,height:G,prune:P,maxIteration:O,nodeSize:S,center:R}=K;if(!(B!=null&&B.length)||B.length===1)return(0,l.P)(A,y,R);const M=B.map(Z=>(0,v.u)(Z,[z,G])),b=$.filter(Z=>{const{source:V,target:J}=Z;return V!==J}),D=new d.k({nodes:M,edges:b}),T=this.getSizes(D,S);if(this.run(D,A,O,T,y,K),P){for(let V=0;V<b.length;V+=1){const{source:J,target:H}=b[V],st=D.getDegree(J),tt=D.getDegree(J);if(st<=1){const it=D.getNode(H);D.mergeNodeData(J,{x:it.data.x,y:it.data.y})}else if(tt<=1){const it=D.getNode(J);D.mergeNodeData(H,{x:it.data.x,y:it.data.y})}}const Z=Object.assign(Object.assign({},K),{prune:!1,barnesHut:!1});this.run(D,A,100,T,y,Z)}return{nodes:M,edges:$}})}getSizes(y,A){const Y=y.getAllNodes(),$={};for(let B=0;B<Y.length;B+=1){const K=Y[B];$[K.id]=(0,u.uE)(A,void 0)(K)}return $}formatOptions(y={},A){const Y=Object.assign(Object.assign({},this.options),y),{center:$,width:B,height:K,barnesHut:z,prune:G,maxIteration:P,kr:O,kg:S}=Y;return Y.width=!B&&typeof window!="undefined"?window.innerWidth:B,Y.height=!K&&typeof window!="undefined"?window.innerHeight:K,Y.center=$||[Y.width/2,Y.height/2],z===void 0&&A>250&&(Y.barnesHut=!0),G===void 0&&A>100&&(Y.prune=!0),P===0&&!G?(Y.maxIteration=250,A<=200&&A>100?Y.maxIteration=1e3:A>200&&(Y.maxIteration=1200)):P===0&&G&&(Y.maxIteration=100,A<=200&&A>100?Y.maxIteration=500:A>200&&(Y.maxIteration=950)),O||(Y.kr=50,A>100&&A<=500?Y.kr=20:A>500&&(Y.kr=1)),S||(Y.kg=20,A>100&&A<=500?Y.kg=10:A>500&&(Y.kg=1)),Y}run(y,A,Y,$,B,K){const{kr:z,barnesHut:G,onTick:P}=K,O=y.getAllNodes();let S=0,R=Y;const M={},b={},D={};for(let T=0;T<O.length;T+=1){const{data:Z,id:V}=O[T];if(M[V]=[0,0],G){const J={id:T,rx:Z.x,ry:Z.y,mass:1,g:z,degree:y.getDegree(V)};D[V]=new g(J)}}for(;R>0;)S=this.oneStep(y,{iter:R,preventOverlapIters:50,krPrime:100,sg:S,forces:M,preForces:b,bodies:D,sizes:$},K),R--,P==null||P({nodes:O,edges:A.getAllEdges()});return y}oneStep(y,A,Y){const{iter:$,preventOverlapIters:B,krPrime:K,sg:z,preForces:G,bodies:P,sizes:O}=A;let{forces:S}=A;const{preventOverlap:R,barnesHut:M}=Y,b=y.getAllNodes();for(let D=0;D<b.length;D+=1){const{id:T}=b[D];G[T]=[...S[T]],S[T]=[0,0]}return S=this.getAttrForces(y,$,B,O,S,Y),M&&(R&&$>B||!R)?S=this.getOptRepGraForces(y,S,P,Y):S=this.getRepGraForces(y,$,B,S,K,O,Y),this.updatePos(y,S,G,z,Y)}getAttrForces(y,A,Y,$,B,K){const{preventOverlap:z,dissuadeHubs:G,mode:P,prune:O}=K,S=y.getAllEdges();for(let R=0;R<S.length;R+=1){const{source:M,target:b}=S[R],D=y.getNode(M),T=y.getNode(b),Z=y.getDegree(M),V=y.getDegree(b);if(O&&(Z<=1||V<=1))continue;const J=[T.data.x-D.data.x,T.data.y-D.data.y];let H=Math.hypot(J[0],J[1]);H=H<1e-4?1e-4:H,J[0]=J[0]/H,J[1]=J[1]/H,z&&A<Y&&(H=H-$[M]-$[b]);let st=H,tt=st;P==="linlog"&&(st=Math.log(1+H),tt=st),G&&(st=H/Z,tt=H/V),z&&A<Y&&H<=0?(st=0,tt=0):z&&A<Y&&H>0&&(st=H,tt=H),B[M][0]+=st*J[0],B[b][0]-=tt*J[0],B[M][1]+=st*J[1],B[b][1]-=tt*J[1]}return B}getOptRepGraForces(y,A,Y,$){const{kg:B,center:K,prune:z}=$,G=y.getAllNodes(),P=G.length;let O=9e10,S=-9e10,R=9e10,M=-9e10;for(let V=0;V<P;V+=1){const{id:J,data:H}=G[V];z&&y.getDegree(J)<=1||(Y[J].setPos(H.x,H.y),H.x>=S&&(S=H.x),H.x<=O&&(O=H.x),H.y>=M&&(M=H.y),H.y<=R&&(R=H.y))}const b=Math.max(S-O,M-R),D={xmid:(S+O)/2,ymid:(M+R)/2,length:b,massCenter:K,mass:P},T=new c(D),Z=new o(T);for(let V=0;V<P;V+=1){const{id:J}=G[V];z&&y.getDegree(J)<=1||Y[J].in(T)&&Z.insert(Y[J])}for(let V=0;V<P;V+=1){const{id:J,data:H}=G[V],st=y.getDegree(J);if(z&&st<=1)continue;Y[J].resetForce(),Z.updateForce(Y[J]),A[J][0]-=Y[J].fx,A[J][1]-=Y[J].fy;const tt=[H.x-K[0],H.y-K[1]];let it=Math.hypot(tt[0],tt[1]);it=it<1e-4?1e-4:it,tt[0]=tt[0]/it,tt[1]=tt[1]/it;const ft=B*(st+1);A[J][0]-=ft*tt[0],A[J][1]-=ft*tt[1]}return A}getRepGraForces(y,A,Y,$,B,K,z){const{preventOverlap:G,kr:P,kg:O,center:S,prune:R}=z,M=y.getAllNodes(),b=M.length;for(let D=0;D<b;D+=1){const T=M[D],Z=y.getDegree(T.id);for(let st=D+1;st<b;st+=1){const tt=M[st],it=y.getDegree(tt.id);if(R&&(Z<=1||it<=1))continue;const ft=[tt.data.x-T.data.x,tt.data.y-T.data.y];let vt=Math.hypot(ft[0],ft[1]);vt=vt<1e-4?1e-4:vt,ft[0]=ft[0]/vt,ft[1]=ft[1]/vt,G&&A<Y&&(vt=vt-K[T.id]-K[tt.id]);let pt=P*(Z+1)*(it+1)/vt;G&&A<Y&&vt<0?pt=B*(Z+1)*(it+1):G&&A<Y&&vt===0?pt=0:G&&A<Y&&vt>0&&(pt=P*(Z+1)*(it+1)/vt),$[T.id][0]-=pt*ft[0],$[tt.id][0]+=pt*ft[0],$[T.id][1]-=pt*ft[1],$[tt.id][1]+=pt*ft[1]}const V=[T.data.x-S[0],T.data.y-S[1]],J=Math.hypot(V[0],V[1]);V[0]=V[0]/J,V[1]=V[1]/J;const H=O*(Z+1);$[T.id][0]-=H*V[0],$[T.id][1]-=H*V[1]}return $}updatePos(y,A,Y,$,B){const{ks:K,tao:z,prune:G,ksmax:P}=B,O=y.getAllNodes(),S=O.length,R=[],M=[];let b=0,D=0,T=$;for(let V=0;V<S;V+=1){const{id:J}=O[V],H=y.getDegree(J);if(G&&H<=1)continue;const st=[A[J][0]-Y[J][0],A[J][1]-Y[J][1]],tt=Math.hypot(st[0],st[1]),it=[A[J][0]+Y[J][0],A[J][1]+Y[J][1]],ft=Math.hypot(it[0],it[1]);R[V]=tt,M[V]=ft/2,b+=(H+1)*R[V],D+=(H+1)*M[V]}const Z=T;T=z*D/b,Z!==0&&(T=T>1.5*Z?1.5*Z:T);for(let V=0;V<S;V+=1){const{id:J,data:H}=O[V],st=y.getDegree(J);if(G&&st<=1||(0,a.Z)(H.fx)&&(0,a.Z)(H.fy))continue;let tt=K*T/(1+T*Math.sqrt(R[V])),it=Math.hypot(A[J][0],A[J][1]);it=it<1e-4?1e-4:it;const ft=P/it;tt=tt>ft?ft:tt;const vt=tt*A[J][0],pt=tt*A[J][1];y.mergeNodeData(J,{x:H.x+vt,y:H.y+pt})}return T}}},86035:function(f,x,t){"use strict";t.d(x,{y:function(){return A}});var r=t(15767),d=t(16754),a=t(22355),v=t(52606),u=t(76265),l=t(68091);const g=.81,c=.1;function o(G,P,O,S,R=2){const M=P/O,b=G.getAllNodes(),D=b.map((V,J)=>{const{nodeStrength:H,x:st,y:tt,z:it,size:ft}=V.data;return{x:st,y:tt,z:it,size:ft,index:J,id:V.id,vx:0,vy:0,vz:0,weight:M*H}}),T=(R===2?(0,u.Z)(D,V=>V.x,V=>V.y):(0,l.Z)(D,V=>V.x,V=>V.y,V=>V.z)).visitAfter(i),Z=new Map;return D.forEach(V=>{Z.set(V.id,V),p(V,T,R)}),D.map((V,J)=>{const{id:H,data:st}=b[J],{mass:tt=1}=st;S[H]={x:V.vx/tt,y:V.vy/tt,z:V.vz/tt}}),S}function i(G){let P=0,O=0,S=0,R=0,M=0;const b=G.length;if(b){for(let D=0;D<b;D++){const T=G[D];T&&T.weight&&(P+=T.weight,O+=T.x*T.weight,S+=T.y*T.weight,R+=T.z*T.weight,M+=T.size*T.weight)}G.x=O/P,G.y=S/P,G.z=R/P,G.size=M/P,G.weight=P}else{const D=G;G.x=D.data.x,G.y=D.data.y,G.z=D.data.z,G.size=D.data.size,G.weight=D.data.weight}}const h=(G,P,O,S,R,M,b)=>{var D;if(((D=G.data)===null||D===void 0?void 0:D.id)===M.id)return;const T=[O,S,R][b-1],Z=M.x-G.x||c,V=M.y-G.y||c,J=M.z-G.z||c,H=[Z,V,J],st=T-P;let tt=0;for(let vt=0;vt<b;vt++)tt+=H[vt]*H[vt];const ft=Math.sqrt(tt)*tt;if(st*st*g<tt){const vt=G.weight/ft;return M.vx+=Z*vt,M.vy+=V*vt,M.vz+=J*vt,!0}if(G.length)return!1;if(G.data!==M){const vt=G.data.weight/ft;M.vx+=Z*vt,M.vy+=V*vt,M.vz+=J*vt}};function p(G,P,O){P.visit((S,R,M,b,D)=>h(S,R,M,b,D,G,O))}const y={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class A{constructor(P={}){this.options=P,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},y),P)}execute(P,O){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericForceLayout(!1,P,O)})}assign(P,O){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,P,O)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(P=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let S=0;(this.judgingDistance>this.lastOptions.minMovement||S<1)&&S<P;S++)this.runOneStep(this.lastCalcGraph,this.lastGraph,S,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const O={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&O.nodes.forEach(S=>this.lastGraph.mergeNodeData(S.id,{x:S.data.x,y:S.data.y,z:this.options.dimensions===3?S.data.z:void 0})),O}genericForceLayout(P,O,S){return(0,r.mG)(this,void 0,void 0,function*(){const R=Object.assign(Object.assign({},this.options),S),M=O.getAllNodes(),b=O.getAllEdges(),D=this.formatOptions(R,O),{dimensions:T,width:Z,height:V,nodeSize:J,getMass:H,nodeStrength:st,edgeStrength:tt,linkDistance:it}=D,ft=M.map((ct,Nt)=>Object.assign(Object.assign({},ct),{data:Object.assign(Object.assign({},ct.data),{x:(0,a.Z)(ct.data.x)?ct.data.x:Math.random()*Z,y:(0,a.Z)(ct.data.y)?ct.data.y:Math.random()*V,z:(0,a.Z)(ct.data.z)?ct.data.z:Math.random()*Math.sqrt(Z*V),size:J(ct)||30,mass:H(ct),nodeStrength:st(ct)})})),vt=b.map(ct=>Object.assign(Object.assign({},ct),{data:Object.assign(Object.assign({},ct.data),{edgeStrength:tt(ct),linkDistance:it(ct,O.getNode(ct.source),O.getNode(ct.target))})}));if(!(M!=null&&M.length))return this.lastResult={nodes:[],edges:b},{nodes:[],edges:b};const pt={};M.forEach((ct,Nt)=>{pt[ct.id]={x:0,y:0,z:0}});const xt=new d.k({nodes:ft,edges:vt});this.formatCentripetal(D,xt);const{maxIteration:wt,minMovement:et,onTick:at}=D;if(this.lastLayoutNodes=ft,this.lastLayoutEdges=vt,this.lastAssign=P,this.lastGraph=O,this.lastCalcGraph=xt,this.lastOptions=D,this.lastVelMap=pt,typeof window=="undefined")return;let ht=0;return new Promise(ct=>{this.timeInterval=window.setInterval(()=>{(!M||!this.running)&&ct({nodes:z(O,ft),edges:b}),this.runOneStep(xt,O,ht,pt,D),this.updatePosition(O,xt,pt,D),P&&ft.forEach(Nt=>O.mergeNodeData(Nt.id,{x:Nt.data.x,y:Nt.data.y,z:T===3?Nt.data.z:void 0})),at==null||at({nodes:z(O,ft),edges:b}),ht++,(ht>=wt||this.judgingDistance<et)&&(window.clearInterval(this.timeInterval),ct({nodes:z(O,ft),edges:b}))},0),this.running=!0})})}formatOptions(P,O){const S=Object.assign({},P),{width:R,height:M,getMass:b}=P;S.width=!R&&typeof window!="undefined"?window.innerWidth:R,S.height=!M&&typeof window!="undefined"?window.innerHeight:M,P.center||(S.center=[S.width/2,S.height/2]),b||(S.getMass=T=>{let Z=1;(0,a.Z)(T==null?void 0:T.data.mass)&&(Z=T==null?void 0:T.data.mass);const V=O.getDegree(T.id,"both");return!V||V<5?Z:V*5*Z}),S.nodeSize=(0,v.uE)(P.nodeSize,P.nodeSpacing);const D=P.linkDistance?(0,v.jE)(1,P.linkDistance):T=>1+S.nodeSize(O.getNode(T.source))+S.nodeSize(O.getNode(T.target));return S.linkDistance=D,S.nodeStrength=(0,v.jE)(1,P.nodeStrength),S.edgeStrength=(0,v.jE)(1,P.edgeStrength),S}formatCentripetal(P,O){const{dimensions:S,centripetalOptions:R,center:M,clusterNodeStrength:b,leafCluster:D,clustering:T,nodeClusterBy:Z}=P,V=O.getAllNodes(),J=R||{leaf:2,single:2,others:1,center:vt=>({x:M[0],y:M[1],z:S===3?M[2]:void 0})};typeof b!="function"&&(P.clusterNodeStrength=vt=>b);let H,st;if(D&&Z&&(H=Y(O,Z),st=Array.from(new Set(V==null?void 0:V.map(vt=>vt.data[Z])))||[],P.centripetalOptions=Object.assign(J,{single:100,leaf:vt=>{const{siblingLeaves:pt,sameTypeLeaves:xt}=H[vt.id]||{};return(xt==null?void 0:xt.length)===(pt==null?void 0:pt.length)||(st==null?void 0:st.length)===1?1:P.clusterNodeStrength(vt)},others:1,center:vt=>{const pt=O.getDegree(vt.id,"both");if(!pt)return{x:100,y:100,z:0};let xt;if(pt===1){const{sameTypeLeaves:wt=[]}=H[vt.id]||{};wt.length===1?xt=void 0:wt.length>1&&(xt=K(wt))}else xt=void 0;return{x:xt==null?void 0:xt.x,y:xt==null?void 0:xt.y,z:xt==null?void 0:xt.z}}})),T&&Z){H||(H=Y(O,Z)),st||(st=Array.from(new Set(V.map(pt=>pt.data[Z])))),st=st.filter(pt=>pt!==void 0);const vt={};st.forEach(pt=>{const xt=V.filter(wt=>wt.data[Z]===pt).map(wt=>O.getNode(wt.id));vt[pt]=K(xt)}),P.centripetalOptions=Object.assign(J,{single:pt=>P.clusterNodeStrength(pt),leaf:pt=>P.clusterNodeStrength(pt),others:pt=>P.clusterNodeStrength(pt),center:pt=>{const xt=vt[pt.data[Z]];return{x:xt==null?void 0:xt.x,y:xt==null?void 0:xt.y,z:xt==null?void 0:xt.z}}})}const{leaf:tt,single:it,others:ft}=P.centripetalOptions||{};tt&&typeof tt!="function"&&(P.centripetalOptions.leaf=()=>tt),it&&typeof it!="function"&&(P.centripetalOptions.single=()=>it),ft&&typeof ft!="function"&&(P.centripetalOptions.others=()=>ft)}runOneStep(P,O,S,R,M){const b={},D=P.getAllNodes(),T=P.getAllEdges();if(!(D!=null&&D.length))return;const{monitor:Z}=M;if(this.calRepulsive(P,b,M),T&&this.calAttractive(P,b,M),this.calGravity(P,O,b,M),this.updateVelocity(P,b,R,M),Z){const V=this.calTotalEnergy(b,D);Z({energy:V,nodes:O.getAllNodes(),edges:O.getAllEdges(),iterations:S})}}calTotalEnergy(P,O){if(!(O!=null&&O.length))return 0;let S=0;return O.forEach((R,M)=>{const b=P[R.id].x,D=P[R.id].y,T=this.options.dimensions===3?P[R.id].z:0,Z=b*b+D*D+T*T,{mass:V=1}=R.data;S+=V*Z*.5}),S}calRepulsive(P,O,S){const{dimensions:R,factor:M,coulombDisScale:b}=S;o(P,M,b*b,O,R)}calAttractive(P,O,S){const{dimensions:R,nodeSize:M}=S;P.getAllEdges().forEach((b,D)=>{const{source:T,target:Z}=b,V=P.getNode(T),J=P.getNode(Z);if(!V||!J)return;let H=J.data.x-V.data.x,st=J.data.y-V.data.y,tt=R===3?J.data.z-V.data.z:0;!H&&!st&&(H=Math.random()*.01,st=Math.random()*.01,R===3&&!tt&&(tt=Math.random()*.01));const it=Math.sqrt(H*H+st*st+tt*tt);if(it<M(V)+M(J))return;const ft=H/it,vt=st/it,pt=tt/it,{linkDistance:xt=200,edgeStrength:wt=200}=b.data||{},at=(xt-it)*wt,ht=V.data.mass||1,ct=J.data.mass||1,Nt=1/ht,Et=1/ct,bt=ft*at,St=vt*at,Ft=pt*at;O[T].x-=bt*Nt,O[T].y-=St*Nt,O[T].z-=Ft*Nt,O[Z].x+=bt*Et,O[Z].y+=St*Et,O[Z].z+=Ft*Et})}calGravity(P,O,S,R){const{getCenter:M}=R,b=P.getAllNodes(),D=O.getAllNodes(),T=O.getAllEdges(),{width:Z,height:V,center:J,gravity:H,centripetalOptions:st}=R;b&&b.forEach(tt=>{const{id:it,data:ft}=tt,{mass:vt,x:pt,y:xt,z:wt}=ft,et=O.getNode(it);let at=0,ht=0,ct=0,Nt=H;const Et=P.getDegree(it,"in"),bt=P.getDegree(it,"out"),St=P.getDegree(it,"both"),Ft=M==null?void 0:M(et,St);if(Ft){const[Ut,Yt,Wt]=Ft;at=pt-Ut,ht=xt-Yt,Nt=Wt}else at=pt-J[0],ht=xt-J[1],ct=wt-J[2];if(Nt&&(S[it].x-=Nt*at/vt,S[it].y-=Nt*ht/vt,S[it].z-=Nt*ct/vt),st){const{leaf:Ut,single:Yt,others:Wt,center:re}=st,{x:Zt,y:ce,z:Se,centerStrength:Ht}=(re==null?void 0:re(et,D,T,Z,V))||{x:0,y:0,z:0,centerStrength:0};if(!(0,a.Z)(Zt)||!(0,a.Z)(ce))return;const be=(pt-Zt)/vt,fe=(xt-ce)/vt,qt=(wt-Se)/vt;if(Ht&&(S[it].x-=Ht*be,S[it].y-=Ht*fe,S[it].z-=Ht*qt),St===0){const de=Yt(et);if(!de)return;S[it].x-=de*be,S[it].y-=de*fe,S[it].z-=de*qt;return}if(Et===0||bt===0){const de=Ut(et,D,T);if(!de)return;S[it].x-=de*be,S[it].y-=de*fe,S[it].z-=de*qt;return}const Tt=Wt(et);if(!Tt)return;S[it].x-=Tt*be,S[it].y-=Tt*fe,S[it].z-=Tt*qt}})}updateVelocity(P,O,S,R){const{damping:M,maxSpeed:b,interval:D,dimensions:T}=R,Z=P.getAllNodes();Z!=null&&Z.length&&Z.forEach(V=>{const{id:J}=V;let H=(S[J].x+O[J].x*D)*M||.01,st=(S[J].y+O[J].y*D)*M||.01,tt=T===3?(S[J].z+O[J].z*D)*M||.01:0;const it=Math.sqrt(H*H+st*st+tt*tt);if(it>b){const ft=b/it;H=ft*H,st=ft*st,tt=ft*tt}S[J]={x:H,y:st,z:tt}})}updatePosition(P,O,S,R){const{distanceThresholdMode:M,interval:b,dimensions:D}=R,T=O.getAllNodes();if(!(T!=null&&T.length)){this.judgingDistance=0;return}let Z=0;M==="max"?this.judgingDistance=-1/0:M==="min"&&(this.judgingDistance=1/0),T.forEach(V=>{const{id:J}=V,H=P.getNode(J);if((0,a.Z)(H.data.fx)&&(0,a.Z)(H.data.fy)){O.mergeNodeData(J,{x:H.data.fx,y:H.data.fy,z:D===3?H.data.fz:void 0});return}const st=S[J].x*b,tt=S[J].y*b,it=D===3?S[J].z*b:0;O.mergeNodeData(J,{x:V.data.x+st,y:V.data.y+tt,z:V.data.z+it});const ft=Math.sqrt(st*st+tt*tt+it*it);switch(M){case"max":this.judgingDistance<ft&&(this.judgingDistance=ft);break;case"min":this.judgingDistance>ft&&(this.judgingDistance=ft);break;default:Z=Z+ft;break}}),(!M||M==="mean")&&(this.judgingDistance=Z/T.length)}}const Y=(G,P)=>{const O=G.getAllNodes();if(!(O!=null&&O.length))return{};const S={};return O.forEach((R,M)=>{G.getDegree(R.id,"both")===1&&(S[R.id]=$(G,"leaf",R,P))}),S},$=(G,P,O,S)=>{const R=G.getDegree(O.id,"in"),M=G.getDegree(O.id,"out");let b=O,D=[];R===0?(b=G.getSuccessors(O.id)[0],D=G.getNeighbors(b.id)):M===0&&(b=G.getPredecessors(O.id)[0],D=G.getNeighbors(b.id)),D=D.filter(Z=>G.getDegree(Z.id,"in")===0||G.getDegree(Z.id,"out")===0);const T=B(G,P,S,O,D);return{coreNode:b,siblingLeaves:D,sameTypeLeaves:T}},B=(G,P,O,S,R)=>{const M=S.data[O]||"";let b=(R==null?void 0:R.filter(D=>D.data[O]===M))||[];return P==="leaf"&&(b=b.filter(D=>G.getDegree(D.id,"in")===0||G.getDegree(D.id,"out")===0)),b},K=G=>{const P={x:0,y:0};G.forEach(S=>{const{x:R,y:M}=S.data;P.x+=R||0,P.y+=M||0});const O=G.length||1;return{x:P.x/O,y:P.y/O}},z=(G,P)=>P.map(O=>{const{id:S,data:R}=O,M=G.getNode(S);return Object.assign(Object.assign({},M),{data:Object.assign(Object.assign({},M.data),{x:R.x,y:R.y,z:R.z})})})},95840:function(f,x,t){"use strict";t.d(x,{O:function(){return g}});var r=t(15767),d=t(16754),a=t(22355),v=t(85161);const u={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},l=800;class g{constructor(o={}){this.options=o,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},u),o)}execute(o,i){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,o,i)})}assign(o,i){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,o,i)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(o=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let h=0;h<o;h++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const i={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&i.nodes.forEach(h=>this.lastGraph.mergeNodeData(h.id,{x:h.data.x,y:h.data.y,z:this.options.dimensions===3?h.data.z:void 0})),i}genericFruchtermanLayout(o,i,h){return(0,r.mG)(this,void 0,void 0,function*(){if(this.running)return;const p=this.formatOptions(h),{dimensions:y,width:A,height:Y,center:$,clustering:B,nodeClusterBy:K,maxIteration:z,onTick:G}=p,P=i.getAllNodes(),O=i.getAllEdges();if(!(P!=null&&P.length)){const D={nodes:[],edges:O};return this.lastResult=D,D}if(P.length===1){o&&i.mergeNodeData(P[0].id,{x:$[0],y:$[1],z:y===3?$[2]:void 0});const D={nodes:[Object.assign(Object.assign({},P[0]),{data:Object.assign(Object.assign({},P[0].data),{x:$[0],y:$[1],z:y===3?$[2]:void 0})})],edges:O};return this.lastResult=D,D}const S=P.map(D=>(0,v.u)(D,[A,Y])),R=new d.k({nodes:S,edges:O}),M={};if(B&&S.forEach(D=>{const T=D.data[K];M[T]||(M[T]={name:T,cx:0,cy:0,count:0})}),this.lastLayoutNodes=S,this.lastLayoutEdges=O,this.lastAssign=o,this.lastGraph=R,this.lastOptions=p,this.lastClusterMap=M,typeof window=="undefined")return;let b=0;return new Promise(D=>{this.timeInterval=window.setInterval(()=>{if(!this.running){D({nodes:S,edges:O});return}this.runOneStep(R,M,p),o&&S.forEach(({id:T,data:Z})=>i.mergeNodeData(T,{x:Z.x,y:Z.y,z:y===3?Z.z:void 0})),G==null||G({nodes:S,edges:O}),b++,b>=z&&(window.clearInterval(this.timeInterval),D({nodes:S,edges:O}))},0),this.running=!0})})}formatOptions(o={}){const i=Object.assign(Object.assign({},this.options),o),{clustering:h,nodeClusterBy:p}=i,{center:y,width:A,height:Y}=i;return i.width=!A&&typeof window!="undefined"?window.innerWidth:A,i.height=!Y&&typeof window!="undefined"?window.innerHeight:Y,i.center=y||[i.width/2,i.height/2],i.clustering=h&&!!p,i}runOneStep(o,i,h){const{dimensions:p,height:y,width:A,gravity:Y,center:$,speed:B,clustering:K,nodeClusterBy:z,clusterGravity:G}=h,P=y*A,O=Math.sqrt(P)/10,S=o.getAllNodes(),R=P/(S.length+1),M=Math.sqrt(R),b={};if(this.applyCalculate(o,b,M,R),K){for(const T in i)i[T].cx=0,i[T].cy=0,i[T].count=0;S.forEach(T=>{const{data:Z}=T,V=i[Z[z]];(0,a.Z)(Z.x)&&(V.cx+=Z.x),(0,a.Z)(Z.y)&&(V.cy+=Z.y),V.count++});for(const T in i)i[T].cx/=i[T].count,i[T].cy/=i[T].count;const D=G||Y;S.forEach((T,Z)=>{const{id:V,data:J}=T;if(!(0,a.Z)(J.x)||!(0,a.Z)(J.y))return;const H=i[J[z]],st=Math.sqrt((J.x-H.cx)*(J.x-H.cx)+(J.y-H.cy)*(J.y-H.cy)),tt=M*D;b[V].x-=tt*(J.x-H.cx)/st,b[V].y-=tt*(J.y-H.cy)/st})}S.forEach((D,T)=>{const{id:Z,data:V}=D;if(!(0,a.Z)(V.x)||!(0,a.Z)(V.y))return;const J=.01*M*Y;b[Z].x-=J*(V.x-$[0]),b[Z].y-=J*(V.y-$[1]),p===3&&(b[Z].z-=J*(V.z-$[2]))}),S.forEach((D,T)=>{const{id:Z,data:V}=D;if((0,a.Z)(V.fx)&&(0,a.Z)(V.fy)){V.x=V.fx,V.y=V.fy,p===3&&(V.z=V.fz);return}if(!(0,a.Z)(V.x)||!(0,a.Z)(V.y))return;const J=Math.sqrt(b[Z].x*b[Z].x+b[Z].y*b[Z].y+(p===3?b[Z].z*b[Z].z:0));if(J>0){const H=Math.min(O*(B/l),J);o.mergeNodeData(Z,{x:V.x+b[Z].x/J*H,y:V.y+b[Z].y/J*H,z:p===3?V.z+b[Z].z/J*H:void 0})}})}applyCalculate(o,i,h,p){this.calRepulsive(o,i,p),this.calAttractive(o,i,h)}calRepulsive(o,i,h){const p=o.getAllNodes();p.forEach(({data:y,id:A},Y)=>{i[A]={x:0,y:0,z:0},p.forEach(({data:$,id:B},K)=>{if(Y<=K||!(0,a.Z)(y.x)||!(0,a.Z)($.x)||!(0,a.Z)(y.y)||!(0,a.Z)($.y))return;let z=y.x-$.x,G=y.y-$.y,P=this.options.dimensions===3?y.z-$.z:0,O=z*z+G*G+P*P;O===0&&(O=1,z=.01,G=.01,P=.01);const S=h/O,R=z*S,M=G*S,b=P*S;i[A].x+=R,i[A].y+=M,i[B].x-=R,i[B].y-=M,this.options.dimensions===3&&(i[A].z+=b,i[B].z-=b)})})}calAttractive(o,i,h){o.getAllEdges().forEach(y=>{const{source:A,target:Y}=y;if(!A||!Y||A===Y)return;const{data:$}=o.getNode(A),{data:B}=o.getNode(Y);if(!(0,a.Z)(B.x)||!(0,a.Z)($.x)||!(0,a.Z)(B.y)||!(0,a.Z)($.y))return;const K=B.x-$.x,z=B.y-$.y,G=this.options.dimensions===3?B.z-$.z:0,P=Math.sqrt(K*K+z*z+G*G)/h,O=K*P,S=z*P,R=G*P;i[A].x+=O,i[A].y+=S,i[Y].x-=O,i[Y].y-=S,this.options.dimensions===3&&(i[A].z+=R,i[Y].z-=R)})}}},17162:function(f,x,t){"use strict";t.d(x,{M:function(){return o}});var r=t(15767),d=t(43706),a=t(22355),v=t(85161),u=t(52606),l=t(76991),g=t(31107);const c={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class o{constructor(B={}){this.options=B,this.id="grid",this.options=Object.assign(Object.assign({},c),B)}execute(B,K){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericGridLayout(!1,B,K)})}assign(B,K){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,B,K)})}genericGridLayout(B,K,z){return(0,r.mG)(this,void 0,void 0,function*(){const G=Object.assign(Object.assign({},this.options),z),{begin:P=[0,0],condense:O,preventOverlapPadding:S,preventOverlap:R,rows:M,cols:b,nodeSpacing:D,nodeSize:T,width:Z,height:V,position:J}=G;let{sortBy:H}=G;const st=K.getAllNodes(),tt=K.getAllEdges(),it=st==null?void 0:st.length;if(!it||it===1)return(0,l.P)(K,B,P);const ft=st.map(bt=>(0,v.u)(bt));H!=="id"&&(!(0,d.Z)(H)||ft[0].data[H]===void 0)&&(H="degree"),H==="degree"?ft.sort((bt,St)=>K.getDegree(St.id,"both")-K.getDegree(bt.id,"both")):H==="id"?ft.sort((bt,St)=>(0,a.Z)(St.id)&&(0,a.Z)(bt.id)?St.id-bt.id:`${bt.id}`.localeCompare(`${St.id}`)):ft.sort((bt,St)=>St.data[H]-bt.data[H]);const vt=!Z&&typeof window!="undefined"?window.innerWidth:Z,pt=!V&&typeof window!="undefined"?window.innerHeight:V,xt=it,wt={rows:M,cols:b};if(M!=null&&b!=null)wt.rows=M,wt.cols=b;else if(M!=null&&b==null)wt.rows=M,wt.cols=Math.ceil(xt/wt.rows);else if(M==null&&b!=null)wt.cols=b,wt.rows=Math.ceil(xt/wt.cols);else{const bt=Math.sqrt(xt*pt/vt);wt.rows=Math.round(bt),wt.cols=Math.round(vt/pt*bt)}if(wt.rows=Math.max(wt.rows,1),wt.cols=Math.max(wt.cols,1),wt.cols*wt.rows>xt){const bt=i(wt),St=h(wt);(bt-1)*St>=xt?i(wt,bt-1):(St-1)*bt>=xt&&h(wt,St-1)}else for(;wt.cols*wt.rows<xt;){const bt=i(wt),St=h(wt);(St+1)*bt>=xt?h(wt,St+1):i(wt,bt+1)}let et=O?0:vt/wt.cols,at=O?0:pt/wt.rows;if(R||D){const bt=(0,u.jE)(10,D),St=(0,u.tO)(30,T,!1);ft.forEach(Ft=>{(!Ft.data.x||!Ft.data.y)&&(Ft.data.x=0,Ft.data.y=0);const Ut=K.getNode(Ft.id),[Yt,Wt]=(0,g._)(St(Ut)||30),re=bt!==void 0?bt(Ft):S,Zt=Yt+re,ce=Wt+re;et=Math.max(et,Zt),at=Math.max(at,ce)})}const ht={},ct={row:0,col:0},Nt={};for(let bt=0;bt<ft.length;bt++){const St=ft[bt];let Ft;if(J&&(Ft=J(K.getNode(St.id))),Ft&&(Ft.row!==void 0||Ft.col!==void 0)){const Ut={row:Ft.row,col:Ft.col};if(Ut.col===void 0)for(Ut.col=0;p(ht,Ut);)Ut.col++;else if(Ut.row===void 0)for(Ut.row=0;p(ht,Ut);)Ut.row++;Nt[St.id]=Ut,y(ht,Ut)}Y(St,P,et,at,Nt,wt,ct,ht)}const Et={nodes:ft,edges:tt};return B&&ft.forEach(bt=>{K.mergeNodeData(bt.id,{x:bt.data.x,y:bt.data.y})}),Et})}}const i=($,B)=>{let K;const z=$.rows||5,G=$.cols||5;return B==null?K=Math.min(z,G):Math.min(z,G)===$.rows?$.rows=B:$.cols=B,K},h=($,B)=>{let K;const z=$.rows||5,G=$.cols||5;return B==null?K=Math.max(z,G):Math.max(z,G)===$.rows?$.rows=B:$.cols=B,K},p=($,B)=>$[`c-${B.row}-${B.col}`]||!1,y=($,B)=>$[`c-${B.row}-${B.col}`]=!0,A=($,B)=>{const K=$.cols||5;B.col++,B.col>=K&&(B.col=0,B.row++)},Y=($,B,K,z,G,P,O,S)=>{let R,M;const b=G[$.id];if(b)R=b.col*K+K/2+B[0],M=b.row*z+z/2+B[1];else{for(;p(S,O);)A(P,O);R=O.col*K+K/2+B[0],M=O.row*z+z/2+B[1],y(S,O),A(P,O)}$.data.x=R,$.data.y=M}},70564:function(f,x,t){"use strict";t.d(x,{A:function(){return g}});var r=t(15767),d=t(9523),a=t(10589),v=t(85161),u=t(76991);const l={center:[0,0],linkDistance:50};class g{constructor(h={}){this.options=h,this.id="mds",this.options=Object.assign(Object.assign({},l),h)}execute(h,p){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,h,p)})}assign(h,p){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,h,p)})}genericMDSLayout(h,p,y){return(0,r.mG)(this,void 0,void 0,function*(){const A=Object.assign(Object.assign({},this.options),y),{center:Y=[0,0],linkDistance:$=50}=A,B=p.getAllNodes(),K=p.getAllEdges();if(!(B!=null&&B.length)||B.length===1)return(0,u.P)(p,h,Y);const z=(0,a.zJ)({nodes:B,edges:K},!1),G=(0,a.qs)(z);c(G);const P=(0,a.nu)(G,$),O=o(P),S=[];return O.forEach((M,b)=>{const D=(0,v.u)(B[b]);D.data.x=M[0]+Y[0],D.data.y=M[1]+Y[1],S.push(D)}),h&&S.forEach(M=>p.mergeNodeData(M.id,{x:M.data.x,y:M.data.y})),{nodes:S,edges:K}})}}const c=i=>{let h=-999999;i.forEach(p=>{p.forEach(y=>{y!==1/0&&h<y&&(h=y)})}),i.forEach((p,y)=>{p.forEach((A,Y)=>{A===1/0&&(i[y][Y]=h)})})},o=i=>{const p=d.y3.mul(d.y3.pow(i,2),-.5),y=p.mean("row"),A=p.mean("column"),Y=p.mean();p.add(Y).subRowVector(y).subColumnVector(A);const $=new d.Sc(p),B=d.y3.sqrt($.diagonalMatrix).diagonal();return $.leftSingularVectors.toJSON().map(K=>d.y3.mul([K],[B]).toJSON()[0].splice(0,2))}},11900:function(f,x,t){"use strict";t.d(x,{D:function(){return Y}});var r=t(15767),d=t(43706),a=t(10589),v=t(52606),u=t(85161),l=t(76991),g=t(9523);const c=(P,O,S)=>{try{const R=g.y3.mul(g.y3.pow(O,2),-.5),M=R.mean("row"),b=R.mean("column"),D=R.mean();R.add(D).subRowVector(M).subColumnVector(b);const T=new g.Sc(R),Z=g.y3.sqrt(T.diagonalMatrix).diagonal();return T.leftSingularVectors.toJSON().map(V=>g.y3.mul([V],[Z]).toJSON()[0].splice(0,P))}catch(R){const M=[];for(let b=0;b<O.length;b++){const D=Math.random()*S,T=Math.random()*S;M.push([D,T])}return M}},o=800,i={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},h=(P,O)=>{const S=Object.assign(Object.assign({},i),O),{positions:R,iterations:M,width:b,k:D,speed:T=100,strictRadial:Z,focusIdx:V,radii:J=[],nodeSizeFunc:H}=S,st=P.getAllNodes(),tt=[],it=b/10;for(let ft=0;ft<M;ft++)R.forEach((vt,pt)=>{tt[pt]={x:0,y:0}}),p(st,R,tt,D,J,H),y(R,tt,T,Z,V,it,b,J);return R},p=(P,O,S,R,M,b)=>{O.forEach((D,T)=>{S[T]={x:0,y:0},O.forEach((Z,V)=>{if(T===V||M[T]!==M[V])return;let J=D.x-Z.x,H=D.y-Z.y,st=Math.sqrt(J*J+H*H);if(st===0){st=1;const tt=T>V?1:-1;J=.01*tt,H=.01*tt}if(st<b(P[T])/2+b(P[V])/2){const tt=R*R/st;S[T].x+=J/st*tt,S[T].y+=H/st*tt}})})},y=(P,O,S,R,M,b,D,T)=>{const Z=b||D/10;return R&&O.forEach((V,J)=>{const H=P[J].x-P[M].x,st=P[J].y-P[M].y,tt=Math.sqrt(H*H+st*st);let it=st/tt,ft=-H/tt;const vt=Math.sqrt(V.x*V.x+V.y*V.y);let pt=Math.acos((it*V.x+ft*V.y)/vt);pt>Math.PI/2&&(pt-=Math.PI/2,it*=-1,ft*=-1);const xt=Math.cos(pt)*vt;V.x=it*xt,V.y=ft*xt}),P.forEach((V,J)=>{if(J===M)return;const H=Math.sqrt(O[J].x*O[J].x+O[J].y*O[J].y);if(H>0&&J!==M){const st=Math.min(Z*(S/o),H);if(V.x+=O[J].x/H*st,V.y+=O[J].y/H*st,R){let tt=V.x-P[M].x,it=V.y-P[M].y;const ft=Math.sqrt(tt*tt+it*it);tt=tt/ft*T[J],it=it/ft*T[J],V.x=P[M].x+tt,V.y=P[M].y+it}}}),P},A={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class Y{constructor(O={}){this.options=O,this.id="radial",this.options=Object.assign(Object.assign({},A),O)}execute(O,S){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,O,S)})}assign(O,S){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,O,S)})}genericRadialLayout(O,S,R){return(0,r.mG)(this,void 0,void 0,function*(){const M=Object.assign(Object.assign({},this.options),R),{width:b,height:D,center:T,focusNode:Z,unitRadius:V,nodeSize:J,nodeSpacing:H,strictRadial:st,preventOverlap:tt,maxPreventOverlapIteration:it,sortBy:ft,linkDistance:vt=50,sortStrength:pt=10,maxIteration:xt=1e3}=M,wt=S.getAllNodes(),et=S.getAllEdges(),at=!b&&typeof window!="undefined"?window.innerWidth:b,ht=!D&&typeof window!="undefined"?window.innerHeight:D,ct=T||[at/2,ht/2];if(!(wt!=null&&wt.length)||wt.length===1)return(0,l.P)(S,O,ct);let Nt=wt[0];if((0,d.Z)(Z)){for(let ne=0;ne<wt.length;ne++)if(wt[ne].id===Z){Nt=wt[ne];break}}else Nt=Z||wt[0];const Et=K(wt,Nt.id),bt=(0,a.zJ)({nodes:wt,edges:et},!1),St=(0,a.qs)(bt),Ft=G(St,Et);z(St,Et,Ft+1);const Ut=St[Et];let Yt=at-ct[0]>ct[0]?ct[0]:at-ct[0],Wt=ht-ct[1]>ct[1]?ct[1]:ht-ct[1];Yt===0&&(Yt=at/2),Wt===0&&(Wt=ht/2);const re=Math.min(Yt,Wt),Zt=Math.max(...Ut),ce=[],Se=V||re/Zt;Ut.forEach((ne,me)=>{ce[me]=ne*Se});const Ht=$(wt,St,vt,ce,Se,ft,pt),be=B(Ht),fe=c(vt,Ht,vt);let qt=fe.map(([ne,me])=>({x:(isNaN(ne)?Math.random()*vt:ne)-fe[Et][0],y:(isNaN(me)?Math.random()*vt:me)-fe[Et][1]}));this.run(xt,qt,be,Ht,ce,Et);let Tt;if(tt){Tt=(0,v.uE)(J,H);const ne={nodes:wt,nodeSizeFunc:Tt,positions:qt,radii:ce,height:ht,width:at,strictRadial:!!st,focusIdx:Et,iterations:it||200,k:qt.length/4.5};qt=h(S,ne)}const de=[];return qt.forEach((ne,me)=>{const ye=(0,u.u)(wt[me]);ye.data.x=ne.x+ct[0],ye.data.y=ne.y+ct[1],de.push(ye)}),O&&de.forEach(ne=>S.mergeNodeData(ne.id,{x:ne.data.x,y:ne.data.y})),{nodes:de,edges:et}})}run(O,S,R,M,b,D){for(let T=0;T<=O;T++){const Z=T/O;this.oneIteration(Z,S,b,M,R,D)}}oneIteration(O,S,R,M,b,D){const T=1-O;S.forEach((Z,V)=>{const J=(0,a.$y)(Z,{x:0,y:0}),H=J===0?0:1/J;if(V===D)return;let st=0,tt=0,it=0;S.forEach((vt,pt)=>{if(V===pt)return;const xt=(0,a.$y)(Z,vt),wt=xt===0?0:1/xt,et=M[pt][V];it+=b[V][pt],st+=b[V][pt]*(vt.x+et*(Z.x-vt.x)*wt),tt+=b[V][pt]*(vt.y+et*(Z.y-vt.y)*wt)});const ft=R[V]===0?0:1/R[V];it*=T,it+=O*ft*ft,st*=T,st+=O*ft*Z.x*H,Z.x=st/it,tt*=T,tt+=O*ft*Z.y*H,Z.y=tt/it})}}const $=(P,O,S,R,M,b,D)=>{if(!P)return[];const T=[];if(O){const Z={};O.forEach((V,J)=>{const H=[];V.forEach((st,tt)=>{var it,ft;if(J===tt)H.push(0);else if(R[J]===R[tt])if(b==="data")H.push(st*(Math.abs(J-tt)*D)/(R[J]/M));else if(b){let vt,pt;if(Z[P[J].id])vt=Z[P[J].id];else{const xt=(b==="id"?P[J].id:(it=P[J].data)===null||it===void 0?void 0:it[b])||0;(0,d.Z)(xt)?vt=xt.charCodeAt(0):vt=xt,Z[P[J].id]=vt}if(Z[P[tt].id])pt=Z[P[tt].id];else{const xt=(b==="id"?P[tt].id:(ft=P[tt].data)===null||ft===void 0?void 0:ft[b])||0;(0,d.Z)(xt)?pt=xt.charCodeAt(0):pt=xt,Z[P[tt].id]=pt}H.push(st*(Math.abs(vt-pt)*D)/(R[J]/M))}else H.push(st*S/(R[J]/M));else{const vt=(S+M)/2;H.push(st*vt)}}),T.push(H)})}return T},B=P=>{const O=P.length,S=P[0].length,R=[];for(let M=0;M<O;M++){const b=[];for(let D=0;D<S;D++)P[M][D]!==0?b.push(1/(P[M][D]*P[M][D])):b.push(0);R.push(b)}return R},K=(P,O)=>{let S=-1;return P.forEach((R,M)=>{R.id===O&&(S=M)}),Math.max(S,0)},z=(P,O,S)=>{const R=P.length;for(let M=0;M<R;M++)if(P[O][M]===1/0){P[O][M]=S,P[M][O]=S;for(let b=0;b<R;b++)P[M][b]!==1/0&&P[O][b]===1/0&&(P[O][b]=S+P[M][b],P[b][O]=S+P[M][b])}for(let M=0;M<R;M++)if(M!==O){for(let b=0;b<R;b++)if(P[M][b]===1/0){let D=Math.abs(P[O][M]-P[O][b]);D=D===0?1:D,P[M][b]=D}}},G=(P,O)=>{let S=0;for(let R=0;R<P[O].length;R++)P[O][R]!==1/0&&(S=P[O][R]>S?P[O][R]:S);return S}},92875:function(f,x,t){"use strict";t.d(x,{_:function(){return a}});var r=t(15767);const d={center:[0,0],width:300,height:300};class a{constructor(u={}){this.options=u,this.id="random",this.options=Object.assign(Object.assign({},d),u)}execute(u,l){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,u,l)})}assign(u,l){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,u,l)})}genericRandomLayout(u,l,g){return(0,r.mG)(this,void 0,void 0,function*(){const c=Object.assign(Object.assign({},this.options),g),{center:o,width:i,height:h}=c,p=l.getAllNodes(),y=.9,A=!i&&typeof window!="undefined"?window.innerWidth:i,Y=!h&&typeof window!="undefined"?window.innerHeight:h,$=o||[A/2,Y/2],B=[];return p&&p.forEach(z=>{B.push({id:z.id,data:{x:(Math.random()-.5)*y*A+$[0],y:(Math.random()-.5)*y*Y+$[1]}})}),u&&B.forEach(z=>l.mergeNodeData(z.id,{x:z.data.x,y:z.data.y})),{nodes:B,edges:l.getAllEdges()}})}}},28632:function(f,x,t){"use strict";t.d(x,{h:function(){return r}});function r(d){return!!d.tick&&!!d.stop}},27242:function(f,x,t){"use strict";t.d(x,{k:function(){return r}});const r=Array.isArray},76991:function(f,x,t){"use strict";t.d(x,{P:function(){return r}});const r=(d,a,v)=>{const u=d.getAllNodes(),l=d.getAllEdges();if(!(u!=null&&u.length))return{nodes:[],edges:l};if(u.length===1)return a&&d.mergeNodeData(u[0].id,{x:v[0],y:v[1]}),{nodes:[Object.assign(Object.assign({},u[0]),{data:Object.assign(Object.assign({},u[0].data),{x:v[0],y:v[1]})})],edges:l}}},52606:function(f,x,t){"use strict";t.d(x,{jE:function(){return u},tO:function(){return l},uE:function(){return g}});var r=t(90079),d=t(22355),a=t(48758),v=t(31107);function u(c,o){let i;return(0,r.Z)(o)?i=o:(0,d.Z)(o)?i=()=>o:i=()=>c,i}function l(c,o,i=!0){return!o&&o!==0?h=>{const{size:p}=h.data||{};return p?Array.isArray(p)?i?Math.max(...p)||c:p:(0,a.Z)(p)&&p.width&&p.height?i?Math.max(p.width,p.height)||c:[p.width,p.height]:p:c}:(0,r.Z)(o)?o:(0,d.Z)(o)?()=>o:Array.isArray(o)?()=>i?Math.max(...o)||c:o:(0,a.Z)(o)&&o.width&&o.height?()=>i?Math.max(o.width,o.height)||c:[o.width,o.height]:()=>c}const g=(c,o,i=10)=>{let h;const p=typeof o=="function"?o:()=>o||0;return c?Array.isArray(c)?h=A=>c:(0,r.Z)(c)?h=c:h=A=>c:h=A=>{var Y,$,B;if(!((Y=A.data)===null||Y===void 0)&&Y.bboxSize)return($=A.data)===null||$===void 0?void 0:$.bboxSize;if(!((B=A.data)===null||B===void 0)&&B.size){const K=A.data.size;return Array.isArray(K)?K:(0,a.Z)(K)?[K.width,K.height]:K}return i},A=>{const Y=h(A),$=p(A);return Math.max(...(0,v._)(Y))+$}}},10589:function(f,x,t){"use strict";t.d(x,{$y:function(){return g},H0:function(){return l},_:function(){return c},nu:function(){return u},qs:function(){return a},zJ:function(){return v}});var r=t(22355),d=t(27242);const a=o=>{const i=[],h=o.length;for(let p=0;p<h;p+=1){i[p]=[];for(let y=0;y<h;y+=1)p===y?i[p][y]=0:o[p][y]===0||!o[p][y]?i[p][y]=1/0:i[p][y]=o[p][y]}for(let p=0;p<h;p+=1)for(let y=0;y<h;y+=1)for(let A=0;A<h;A+=1)i[y][A]>i[y][p]+i[p][A]&&(i[y][A]=i[y][p]+i[p][A]);return i},v=(o,i)=>{const{nodes:h,edges:p}=o,y=[],A={};if(!h)throw new Error("invalid nodes data!");return h&&h.forEach((Y,$)=>{A[Y.id]=$;const B=[];y.push(B)}),p==null||p.forEach(Y=>{const{source:$,target:B}=Y,K=A[$],z=A[B];K===void 0||z===void 0||(y[K][z]=1,i||(y[z][K]=1))}),y},u=(o,i)=>{const h=[];return o.forEach(p=>{const y=[];p.forEach(A=>{y.push(A*i)}),h.push(y)}),h},l=o=>{let i=1/0,h=1/0,p=-1/0,y=-1/0;return o.forEach(A=>{let Y=A.data.size;(0,d.k)(Y)?Y.length===1&&(Y=[Y[0],Y[0]]):(0,r.Z)(Y)?Y=[Y,Y]:(Y===void 0||isNaN(Y))&&(Y=[30,30]);const $=[Y[0]/2,Y[1]/2],B=A.data.x-$[0],K=A.data.x+$[0],z=A.data.y-$[1],G=A.data.y+$[1];i>B&&(i=B),h>z&&(h=z),p<K&&(p=K),y<G&&(y=G)}),{minX:i,minY:h,maxX:p,maxY:y}},g=(o,i)=>Math.sqrt((o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y)),c=(o,i,h,p="TB",y,A={})=>{if(!(i!=null&&i.length))return;const{stopBranchFn:Y,stopAllFn:$}=A;for(let B=0;B<i.length;B++){const K=i[B];if(o.hasNode(K.id)&&!(Y!=null&&Y(K))){if($!=null&&$(K))return;p==="TB"&&h(K),c(o,o.getChildren(K.id,y),h,p,y,A),p!=="TB"&&h(K)}}}},85161:function(f,x,t){"use strict";t.d(x,{u:function(){return a}});var r=t(22355);const d=v=>{if(v===null)return v;if(v instanceof Date)return new Date(v.getTime());if(v instanceof Array){const u=[];return v.forEach(l=>{u.push(l)}),u.map(l=>d(l))}if(typeof v=="object"){const u={};return Object.keys(v).forEach(l=>{u[l]=d(v[l])}),u}return v},a=(v,u)=>{const l=d(v);return l.data=l.data||{},u&&((0,r.Z)(l.data.x)||(l.data.x=Math.random()*u[0]),(0,r.Z)(l.data.y)||(l.data.y=Math.random()*u[1])),l}},31107:function(f,x,t){"use strict";t.d(x,{_:function(){return d}});var r=t(22355);function d(a){if(!a)return[0,0,0];if((0,r.Z)(a))return[a,a,a];if(a.length===0)return[0,0,0];const[v,u=v,l=v]=a;return[v,u,l]}},12637:function(f,x,t){"use strict";var r=t(18814),d=function(a){if(typeof a!="object"||a===null)return a;var v;if((0,r.Z)(a)){v=[];for(var u=0,l=a.length;u<l;u++)typeof a[u]=="object"&&a[u]!=null?v[u]=d(a[u]):v[u]=a[u]}else{v={};for(var g in a)typeof a[g]=="object"&&a[g]!=null?v[g]=d(a[g]):v[g]=a[g]}return v};x.Z=d},11051:function(f,x,t){"use strict";var r=t(18814),d=t(37090),a=5;function v(g,c){if(Object.hasOwn)return Object.hasOwn(g,c);if(g==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(g),c)}function u(g,c,o,i){o=o||0,i=i||a;for(var h in c)if(v(c,h)){var p=c[h];p!==null&&(0,d.Z)(p)?((0,d.Z)(g[h])||(g[h]={}),o<i?u(g[h],p,o+1,i):g[h]=c[h]):(0,r.Z)(p)?(g[h]=[],g[h]=g[h].concat(p)):p!==void 0&&(g[h]=p)}}var l=function(g){for(var c=[],o=1;o<arguments.length;o++)c[o-1]=arguments[o];for(var i=0;i<c.length;i+=1)u(g,c[i]);return g};x.Z=l},80821:function(f,x,t){"use strict";var r=t(18814),d=t(48758);function a(v,u){if(v){var l;if((0,r.Z)(v))for(var g=0,c=v.length;g<c&&(l=u(v[g],g),l!==!1);g++);else if((0,d.Z)(v)){for(var o in v)if(v.hasOwnProperty(o)&&(l=u(v[o],o),l===!1))break}}}x.Z=a},18814:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d){return Array.isArray(d)}},90079:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d){return typeof d=="function"}},54663:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d){return d==null}},22355:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d){return typeof d=="number"}},6358:function(f,x){"use strict";var t=function(r){return typeof r=="object"&&r!==null};x.Z=t},48758:function(f,x){"use strict";x.Z=function(t){var r=typeof t;return t!==null&&r==="object"||r==="function"}},37090:function(f,x,t){"use strict";var r=t(6358),d=t(16700),a=function(v){if(!(0,r.Z)(v)||!(0,d.Z)(v,"Object"))return!1;if(Object.getPrototypeOf(v)===null)return!0;for(var u=v;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(v)===u};x.Z=a},43706:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d){return typeof d=="string"}},16700:function(f,x){"use strict";var t={}.toString,r=function(d,a){return t.call(d)==="[object "+a+"]"};x.Z=r},1819:function(f,x,t){"use strict";var r=t(80821),d=t(37090),a=Object.prototype.hasOwnProperty;x.Z=function(v,u){if(v===null||!(0,d.Z)(v))return{};var l={};return(0,r.Z)(u,function(g){a.call(v,g)&&(l[g]=v[g])}),l}},42717:function(f,x,t){"use strict";var r,d=t(9504).default,a=t(38836).default,v=t(18733).default,u=t(2546).default,l=t(20910).default,g=t(62657).default,c=t(21742).default,o=t(83136).default,i=t(60967).default,h=t(82092).default,p=t(58568).default,y=t(48305).default,A=t(335).default,Y=t(90228).default,$=t(31759).default,B=t(25298).default,K=t(17069).default;r={value:!0};var z=t(60804),G=t(85650),P=" ".repeat(2),O=" ".repeat(4);function S(){return R(this)}function R(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=k.maxRows,e=m===void 0?15:m,n=k.maxColumns,s=n===void 0?10:n,E=k.maxNumSize,F=E===void 0?8:E,L=k.padMinus,U=L===void 0?"auto":L;return"".concat(I.constructor.name,` {
`).concat(P,`[
`).concat(O).concat(M(I,e,s,F,U),`
`).concat(P,`]
`).concat(P,"rows: ").concat(I.rows,`
`).concat(P,"columns: ").concat(I.columns,`
}`)}function M(I,k,m,e,n){var s=I.rows,E=I.columns,F=Math.min(s,k),L=Math.min(E,m),U=[];if(n==="auto"){n=!1;t:for(var nt=0;nt<F;nt++)for(var rt=0;rt<L;rt++)if(I.get(nt,rt)<0){n=!0;break t}}for(var lt=0;lt<F;lt++){for(var Mt=[],mt=0;mt<L;mt++)Mt.push(b(I.get(lt,mt),e,n));U.push("".concat(Mt.join(" ")))}return L!==E&&(U[U.length-1]+=" ... ".concat(E-m," more columns")),F!==s&&U.push("... ".concat(s-k," more rows")),U.join(`
`.concat(O))}function b(I,k,m){return(I>=0&&m?" ".concat(D(I,k-1)):D(I,k)).padEnd(k)}function D(I,k){var m=I.toString();if(m.length<=k)return m;var e=I.toFixed(k);if(e.length>k&&(e=I.toFixed(Math.max(0,k-(e.length-k)))),e.length<=k&&!e.startsWith("0.000")&&!e.startsWith("-0.000"))return e;var n=I.toExponential(k);return n.length>k&&(n=I.toExponential(Math.max(0,k-(n.length-k)))),n.slice(0)}function T(I,k){I.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},I.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e);return this},I.prototype.addM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e.get(n,s));return this},I.add=function(e,n){var s=new k(e);return s.add(n)},I.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},I.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e);return this},I.prototype.subM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e.get(n,s));return this},I.sub=function(e,n){var s=new k(e);return s.sub(n)},I.prototype.subtract=I.prototype.sub,I.prototype.subtractS=I.prototype.subS,I.prototype.subtractM=I.prototype.subM,I.subtract=I.sub,I.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},I.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e);return this},I.prototype.mulM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e.get(n,s));return this},I.mul=function(e,n){var s=new k(e);return s.mul(n)},I.prototype.multiply=I.prototype.mul,I.prototype.multiplyS=I.prototype.mulS,I.prototype.multiplyM=I.prototype.mulM,I.multiply=I.mul,I.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},I.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e);return this},I.prototype.divM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e.get(n,s));return this},I.div=function(e,n){var s=new k(e);return s.div(n)},I.prototype.divide=I.prototype.div,I.prototype.divideS=I.prototype.divS,I.prototype.divideM=I.prototype.divM,I.divide=I.div,I.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},I.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%e);return this},I.prototype.modM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%e.get(n,s));return this},I.mod=function(e,n){var s=new k(e);return s.mod(n)},I.prototype.modulus=I.prototype.mod,I.prototype.modulusS=I.prototype.modS,I.prototype.modulusM=I.prototype.modM,I.modulus=I.mod,I.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},I.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&e);return this},I.prototype.andM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&e.get(n,s));return this},I.and=function(e,n){var s=new k(e);return s.and(n)},I.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},I.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|e);return this},I.prototype.orM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|e.get(n,s));return this},I.or=function(e,n){var s=new k(e);return s.or(n)},I.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},I.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^e);return this},I.prototype.xorM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^e.get(n,s));return this},I.xor=function(e,n){var s=new k(e);return s.xor(n)},I.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},I.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<e);return this},I.prototype.leftShiftM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<e.get(n,s));return this},I.leftShift=function(e,n){var s=new k(e);return s.leftShift(n)},I.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},I.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>e);return this},I.prototype.signPropagatingRightShiftM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>e.get(n,s));return this},I.signPropagatingRightShift=function(e,n){var s=new k(e);return s.signPropagatingRightShift(n)},I.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},I.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>e);return this},I.prototype.rightShiftM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>e.get(n,s));return this},I.rightShift=function(e,n){var s=new k(e);return s.rightShift(n)},I.prototype.zeroFillRightShift=I.prototype.rightShift,I.prototype.zeroFillRightShiftS=I.prototype.rightShiftS,I.prototype.zeroFillRightShiftM=I.prototype.rightShiftM,I.zeroFillRightShift=I.rightShift,I.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},I.not=function(e){var n=new k(e);return n.not()},I.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},I.abs=function(e){var n=new k(e);return n.abs()},I.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},I.acos=function(e){var n=new k(e);return n.acos()},I.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},I.acosh=function(e){var n=new k(e);return n.acosh()},I.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},I.asin=function(e){var n=new k(e);return n.asin()},I.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},I.asinh=function(e){var n=new k(e);return n.asinh()},I.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},I.atan=function(e){var n=new k(e);return n.atan()},I.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},I.atanh=function(e){var n=new k(e);return n.atanh()},I.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},I.cbrt=function(e){var n=new k(e);return n.cbrt()},I.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},I.ceil=function(e){var n=new k(e);return n.ceil()},I.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},I.clz32=function(e){var n=new k(e);return n.clz32()},I.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},I.cos=function(e){var n=new k(e);return n.cos()},I.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},I.cosh=function(e){var n=new k(e);return n.cosh()},I.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},I.exp=function(e){var n=new k(e);return n.exp()},I.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},I.expm1=function(e){var n=new k(e);return n.expm1()},I.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},I.floor=function(e){var n=new k(e);return n.floor()},I.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},I.fround=function(e){var n=new k(e);return n.fround()},I.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},I.log=function(e){var n=new k(e);return n.log()},I.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},I.log1p=function(e){var n=new k(e);return n.log1p()},I.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},I.log10=function(e){var n=new k(e);return n.log10()},I.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},I.log2=function(e){var n=new k(e);return n.log2()},I.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},I.round=function(e){var n=new k(e);return n.round()},I.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},I.sign=function(e){var n=new k(e);return n.sign()},I.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},I.sin=function(e){var n=new k(e);return n.sin()},I.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},I.sinh=function(e){var n=new k(e);return n.sinh()},I.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},I.sqrt=function(e){var n=new k(e);return n.sqrt()},I.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},I.tan=function(e){var n=new k(e);return n.tan()},I.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},I.tanh=function(e){var n=new k(e);return n.tanh()},I.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},I.trunc=function(e){var n=new k(e);return n.trunc()},I.pow=function(e,n){var s=new k(e);return s.pow(n)},I.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},I.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,Math.pow(this.get(n,s),e));return this},I.prototype.powM=function(e){if(e=k.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,Math.pow(this.get(n,s),e.get(n,s)));return this}}function Z(I,k,m){var e=m?I.rows:I.rows-1;if(k<0||k>e)throw new RangeError("Row index out of range")}function V(I,k,m){var e=m?I.columns:I.columns-1;if(k<0||k>e)throw new RangeError("Column index out of range")}function J(I,k){if(k.to1DArray&&(k=k.to1DArray()),k.length!==I.columns)throw new RangeError("vector size must be the same as the number of columns");return k}function H(I,k){if(k.to1DArray&&(k=k.to1DArray()),k.length!==I.rows)throw new RangeError("vector size must be the same as the number of rows");return k}function st(I,k){if(!z.isAnyArray(k))throw new TypeError("row indices must be an array");for(var m=0;m<k.length;m++)if(k[m]<0||k[m]>=I.rows)throw new RangeError("row indices are out of range")}function tt(I,k){if(!z.isAnyArray(k))throw new TypeError("column indices must be an array");for(var m=0;m<k.length;m++)if(k[m]<0||k[m]>=I.columns)throw new RangeError("column indices are out of range")}function it(I,k,m,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(vt("startRow",k),vt("endRow",m),vt("startColumn",e),vt("endColumn",n),k>m||e>n||k<0||k>=I.rows||m<0||m>=I.rows||e<0||e>=I.columns||n<0||n>=I.columns)throw new RangeError("Submatrix indices are out of range")}function ft(I){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=[],e=0;e<I;e++)m.push(k);return m}function vt(I,k){if(typeof k!="number")throw new TypeError("".concat(I," must be a number"))}function pt(I){if(I.isEmpty())throw new Error("Empty matrix has no elements to index")}function xt(I){for(var k=ft(I.rows),m=0;m<I.rows;++m)for(var e=0;e<I.columns;++e)k[m]+=I.get(m,e);return k}function wt(I){for(var k=ft(I.columns),m=0;m<I.rows;++m)for(var e=0;e<I.columns;++e)k[e]+=I.get(m,e);return k}function et(I){for(var k=0,m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)k+=I.get(m,e);return k}function at(I){for(var k=ft(I.rows,1),m=0;m<I.rows;++m)for(var e=0;e<I.columns;++e)k[m]*=I.get(m,e);return k}function ht(I){for(var k=ft(I.columns,1),m=0;m<I.rows;++m)for(var e=0;e<I.columns;++e)k[e]*=I.get(m,e);return k}function ct(I){for(var k=1,m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)k*=I.get(m,e);return k}function Nt(I,k,m){for(var e=I.rows,n=I.columns,s=[],E=0;E<e;E++){for(var F=0,L=0,U=0,nt=0;nt<n;nt++)U=I.get(E,nt)-m[E],F+=U,L+=U*U;k?s.push((L-F*F/n)/(n-1)):s.push((L-F*F/n)/n)}return s}function Et(I,k,m){for(var e=I.rows,n=I.columns,s=[],E=0;E<n;E++){for(var F=0,L=0,U=0,nt=0;nt<e;nt++)U=I.get(nt,E)-m[E],F+=U,L+=U*U;k?s.push((L-F*F/e)/(e-1)):s.push((L-F*F/e)/e)}return s}function bt(I,k,m){for(var e=I.rows,n=I.columns,s=e*n,E=0,F=0,L=0,U=0;U<e;U++)for(var nt=0;nt<n;nt++)L=I.get(U,nt)-m,E+=L,F+=L*L;return k?(F-E*E/s)/(s-1):(F-E*E/s)/s}function St(I,k){for(var m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)I.set(m,e,I.get(m,e)-k[m])}function Ft(I,k){for(var m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)I.set(m,e,I.get(m,e)-k[e])}function Ut(I,k){for(var m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)I.set(m,e,I.get(m,e)-k)}function Yt(I){for(var k=[],m=0;m<I.rows;m++){for(var e=0,n=0;n<I.columns;n++)e+=Math.pow(I.get(m,n),2)/(I.columns-1);k.push(Math.sqrt(e))}return k}function Wt(I,k){for(var m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)I.set(m,e,I.get(m,e)/k[m])}function re(I){for(var k=[],m=0;m<I.columns;m++){for(var e=0,n=0;n<I.rows;n++)e+=Math.pow(I.get(n,m),2)/(I.rows-1);k.push(Math.sqrt(e))}return k}function Zt(I,k){for(var m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)I.set(m,e,I.get(m,e)/k[e])}function ce(I){for(var k=I.size-1,m=0,e=0;e<I.columns;e++)for(var n=0;n<I.rows;n++)m+=Math.pow(I.get(n,e),2)/k;return Math.sqrt(m)}function Se(I,k){for(var m=0;m<I.rows;m++)for(var e=0;e<I.columns;e++)I.set(m,e,I.get(m,e)/k)}var Ht=function(I){function k(){B(this,k)}return K(k,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e.call(this,n,s);return this}},{key:"to1DArray",value:function(){for(var e=[],n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e.push(this.get(n,s));return e}},{key:"to2DArray",value:function(){for(var e=[],n=0;n<this.rows;n++){e.push([]);for(var s=0;s<this.columns;s++)e[n].push(this.get(n,s))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var n=0;n<=e;n++)if(this.get(e,n)!==this.get(n,e))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var e=0,n=0,s=-1,E=!0,F=!1;e<this.rows&&E;){for(n=0,F=!1;n<this.columns&&F===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>s?(F=!0,s=n):(E=!1,F=!0);e++}return E}},{key:"isReducedEchelonForm",value:function(){for(var e=0,n=0,s=-1,E=!0,F=!1;e<this.rows&&E;){for(n=0,F=!1;n<this.columns&&F===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>s?(F=!0,s=n):(E=!1,F=!0);for(var L=n+1;L<this.rows;L++)this.get(e,L)!==0&&(E=!1);e++}return E}},{key:"echelonForm",value:function(){for(var e=this.clone(),n=0,s=0;n<e.rows&&s<e.columns;){for(var E=n,F=n;F<e.rows;F++)e.get(F,s)>e.get(E,s)&&(E=F);if(e.get(E,s)===0)s++;else{e.swapRows(n,E);for(var L=e.get(n,s),U=s;U<e.columns;U++)e.set(n,U,e.get(n,U)/L);for(var nt=n+1;nt<e.rows;nt++){var rt=e.get(nt,s)/e.get(n,s);e.set(nt,s,0);for(var lt=s+1;lt<e.columns;lt++)e.set(nt,lt,e.get(nt,lt)-e.get(n,lt)*rt)}n++,s++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),n=e.columns,s=e.rows,E=s-1;E>=0;)if(e.maxRow(E)===0)E--;else{for(var F=0,L=!1;F<s&&L===!1;)e.get(E,F)===1?L=!0:F++;for(var U=0;U<E;U++)for(var nt=e.get(U,F),rt=F;rt<n;rt++){var lt=e.get(U,rt)-nt*e.get(E,rt);e.set(U,rt,lt)}E--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($(e)!=="object")throw new TypeError("options must be an object");var n=e.rows,s=n===void 0?1:n,E=e.columns,F=E===void 0?1:E;if(!Number.isInteger(s)||s<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(F)||F<=0)throw new TypeError("columns must be a positive integer");for(var L=new Tt(this.rows*s,this.columns*F),U=0;U<s;U++)for(var nt=0;nt<F;nt++)L.setSubMatrix(this,this.rows*U,this.columns*nt);return L}},{key:"fill",value:function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){Z(this,e);for(var n=[],s=0;s<this.columns;s++)n.push(this.get(e,s));return n}},{key:"getRowVector",value:function(e){return Tt.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,n){Z(this,e),n=J(this,n);for(var s=0;s<this.columns;s++)this.set(e,s,n[s]);return this}},{key:"swapRows",value:function(e,n){Z(this,e),Z(this,n);for(var s=0;s<this.columns;s++){var E=this.get(e,s);this.set(e,s,this.get(n,s)),this.set(n,s,E)}return this}},{key:"getColumn",value:function(e){V(this,e);for(var n=[],s=0;s<this.rows;s++)n.push(this.get(s,e));return n}},{key:"getColumnVector",value:function(e){return Tt.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,n){V(this,e),n=H(this,n);for(var s=0;s<this.rows;s++)this.set(s,e,n[s]);return this}},{key:"swapColumns",value:function(e,n){V(this,e),V(this,n);for(var s=0;s<this.rows;s++){var E=this.get(s,e);this.set(s,e,this.get(s,n)),this.set(s,n,E)}return this}},{key:"addRowVector",value:function(e){e=J(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e[s]);return this}},{key:"subRowVector",value:function(e){e=J(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e[s]);return this}},{key:"mulRowVector",value:function(e){e=J(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e[s]);return this}},{key:"divRowVector",value:function(e){e=J(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e[s]);return this}},{key:"addColumnVector",value:function(e){e=H(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e[n]);return this}},{key:"subColumnVector",value:function(e){e=H(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e[n]);return this}},{key:"mulColumnVector",value:function(e){e=H(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e[n]);return this}},{key:"divColumnVector",value:function(e){e=H(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e[n]);return this}},{key:"mulRow",value:function(e,n){Z(this,e);for(var s=0;s<this.columns;s++)this.set(e,s,this.get(e,s)*n);return this}},{key:"mulColumn",value:function(e,n){V(this,e);for(var s=0;s<this.rows;s++)this.set(s,e,this.get(s,e)*n);return this}},{key:"max",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":{for(var n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)>n[s]&&(n[s]=this.get(s,E));return n}case"column":{for(var F=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),L=0;L<this.rows;L++)for(var U=0;U<this.columns;U++)this.get(L,U)>F[U]&&(F[U]=this.get(L,U));return F}case void 0:{for(var nt=this.get(0,0),rt=0;rt<this.rows;rt++)for(var lt=0;lt<this.columns;lt++)this.get(rt,lt)>nt&&(nt=this.get(rt,lt));return nt}default:throw new Error("invalid option: ".concat(e))}}},{key:"maxIndex",value:function(){pt(this);for(var e=this.get(0,0),n=[0,0],s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)>e&&(e=this.get(s,E),n[0]=s,n[1]=E);return n}},{key:"min",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":{for(var n=new Array(this.rows).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)<n[s]&&(n[s]=this.get(s,E));return n}case"column":{for(var F=new Array(this.columns).fill(Number.POSITIVE_INFINITY),L=0;L<this.rows;L++)for(var U=0;U<this.columns;U++)this.get(L,U)<F[U]&&(F[U]=this.get(L,U));return F}case void 0:{for(var nt=this.get(0,0),rt=0;rt<this.rows;rt++)for(var lt=0;lt<this.columns;lt++)this.get(rt,lt)<nt&&(nt=this.get(rt,lt));return nt}default:throw new Error("invalid option: ".concat(e))}}},{key:"minIndex",value:function(){pt(this);for(var e=this.get(0,0),n=[0,0],s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)<e&&(e=this.get(s,E),n[0]=s,n[1]=E);return n}},{key:"maxRow",value:function(e){if(Z(this,e),this.isEmpty())return NaN;for(var n=this.get(e,0),s=1;s<this.columns;s++)this.get(e,s)>n&&(n=this.get(e,s));return n}},{key:"maxRowIndex",value:function(e){Z(this,e),pt(this);for(var n=this.get(e,0),s=[e,0],E=1;E<this.columns;E++)this.get(e,E)>n&&(n=this.get(e,E),s[1]=E);return s}},{key:"minRow",value:function(e){if(Z(this,e),this.isEmpty())return NaN;for(var n=this.get(e,0),s=1;s<this.columns;s++)this.get(e,s)<n&&(n=this.get(e,s));return n}},{key:"minRowIndex",value:function(e){Z(this,e),pt(this);for(var n=this.get(e,0),s=[e,0],E=1;E<this.columns;E++)this.get(e,E)<n&&(n=this.get(e,E),s[1]=E);return s}},{key:"maxColumn",value:function(e){if(V(this,e),this.isEmpty())return NaN;for(var n=this.get(0,e),s=1;s<this.rows;s++)this.get(s,e)>n&&(n=this.get(s,e));return n}},{key:"maxColumnIndex",value:function(e){V(this,e),pt(this);for(var n=this.get(0,e),s=[0,e],E=1;E<this.rows;E++)this.get(E,e)>n&&(n=this.get(E,e),s[0]=E);return s}},{key:"minColumn",value:function(e){if(V(this,e),this.isEmpty())return NaN;for(var n=this.get(0,e),s=1;s<this.rows;s++)this.get(s,e)<n&&(n=this.get(s,e));return n}},{key:"minColumnIndex",value:function(e){V(this,e),pt(this);for(var n=this.get(0,e),s=[0,e],E=1;E<this.rows;E++)this.get(E,e)<n&&(n=this.get(E,e),s[0]=E);return s}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),n=[],s=0;s<e;s++)n.push(this.get(s,s));return n}},{key:"norm",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(e))}}},{key:"cumulativeSum",value:function(){for(var e=0,n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e+=this.get(n,s),this.set(n,s,e);return this}},{key:"dot",value:function(e){k.isMatrix(e)&&(e=e.to1DArray());var n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");for(var s=0,E=0;E<n.length;E++)s+=n[E]*e[E];return s}},{key:"mmul",value:function(e){e=Tt.checkMatrix(e);for(var n=this.rows,s=this.columns,E=e.columns,F=new Tt(n,E),L=new Float64Array(s),U=0;U<E;U++){for(var nt=0;nt<s;nt++)L[nt]=e.get(nt,U);for(var rt=0;rt<n;rt++){for(var lt=0,Mt=0;Mt<s;Mt++)lt+=this.get(rt,Mt)*L[Mt];F.set(rt,U,lt)}}return F}},{key:"mpow",value:function(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");for(var n=Tt.eye(this.rows),s=this,E=e;E>1;E/=2)E&1&&(n=n.mmul(s)),s=s.mmul(s);return n}},{key:"strassen2x2",value:function(e){e=Tt.checkMatrix(e);var n=new Tt(2,2),s=this.get(0,0),E=e.get(0,0),F=this.get(0,1),L=e.get(0,1),U=this.get(1,0),nt=e.get(1,0),rt=this.get(1,1),lt=e.get(1,1),Mt=(s+rt)*(E+lt),mt=(U+rt)*E,It=s*(L-lt),Bt=rt*(nt-E),ut=(s+F)*lt,yt=(U-s)*(E+L),Ot=(F-rt)*(nt+lt),Lt=Mt+Bt-ut+Ot,At=It+ut,jt=mt+Bt,te=Mt-mt+It+yt;return n.set(0,0,Lt),n.set(0,1,At),n.set(1,0,jt),n.set(1,1,te),n}},{key:"strassen3x3",value:function(e){e=Tt.checkMatrix(e);var n=new Tt(3,3),s=this.get(0,0),E=this.get(0,1),F=this.get(0,2),L=this.get(1,0),U=this.get(1,1),nt=this.get(1,2),rt=this.get(2,0),lt=this.get(2,1),Mt=this.get(2,2),mt=e.get(0,0),It=e.get(0,1),Bt=e.get(0,2),ut=e.get(1,0),yt=e.get(1,1),Ot=e.get(1,2),Lt=e.get(2,0),At=e.get(2,1),jt=e.get(2,2),te=(s+E+F-L-U-lt-Mt)*yt,kt=(s-L)*(-It+yt),Jt=U*(-mt+It+ut-yt-Ot-Lt+jt),se=(-s+L+U)*(mt-It+yt),we=(L+U)*(-mt+It),Dt=s*mt,Me=(-s+rt+lt)*(mt-Bt+Ot),Ee=(-s+rt)*(Bt-Ot),ee=(rt+lt)*(-mt+Bt),We=(s+E+F-U-nt-rt-lt)*Ot,Ge=lt*(-mt+Bt+ut-yt-Ot-Lt+At),he=(-F+lt+Mt)*(yt+Lt-At),Be=(F-Mt)*(yt-At),Pe=F*Lt,Fe=(lt+Mt)*(-Lt+At),pe=(-F+U+nt)*(Ot+Lt-jt),$e=(F-nt)*(Ot-jt),Xe=(U+nt)*(-Lt+jt),Je=E*ut,Nn=nt*At,Qe=L*Bt,qe=rt*It,_t=Mt*jt,Ze=Dt+Pe+Je,He=te+se+we+Dt+he+Pe+Fe,oe=Dt+Me+ee+We+Pe+pe+Xe,je=kt+Jt+se+Dt+Pe+pe+$e,tn=kt+se+we+Dt+Nn,en=Pe+pe+$e+Xe+Qe,_e=Dt+Me+Ee+Ge+he+Be+Pe,w=he+Be+Pe+Fe+qe,N=Dt+Me+Ee+ee+_t;return n.set(0,0,Ze),n.set(0,1,He),n.set(0,2,oe),n.set(1,0,je),n.set(1,1,tn),n.set(1,2,en),n.set(2,0,_e),n.set(2,1,w),n.set(2,2,N),n}},{key:"mmulStrassen",value:function(e){e=Tt.checkMatrix(e);var n=this.clone(),s=n.rows,E=n.columns,F=e.rows,L=e.columns;E!==F&&console.warn("Multiplying ".concat(s," x ").concat(E," and ").concat(F," x ").concat(L," matrix: dimensions do not match."));function U(Mt,mt,It){var Bt=Mt.rows,ut=Mt.columns;if(Bt===mt&&ut===It)return Mt;var yt=k.zeros(mt,It);return yt=yt.setSubMatrix(Mt,0,0),yt}var nt=Math.max(s,F),rt=Math.max(E,L);n=U(n,nt,rt),e=U(e,nt,rt);function lt(Mt,mt,It,Bt){if(It<=512||Bt<=512)return Mt.mmul(mt);It%2===1&&Bt%2===1?(Mt=U(Mt,It+1,Bt+1),mt=U(mt,It+1,Bt+1)):It%2===1?(Mt=U(Mt,It+1,Bt),mt=U(mt,It+1,Bt)):Bt%2===1&&(Mt=U(Mt,It,Bt+1),mt=U(mt,It,Bt+1));var ut=parseInt(Mt.rows/2,10),yt=parseInt(Mt.columns/2,10),Ot=Mt.subMatrix(0,ut-1,0,yt-1),Lt=mt.subMatrix(0,ut-1,0,yt-1),At=Mt.subMatrix(0,ut-1,yt,Mt.columns-1),jt=mt.subMatrix(0,ut-1,yt,mt.columns-1),te=Mt.subMatrix(ut,Mt.rows-1,0,yt-1),kt=mt.subMatrix(ut,mt.rows-1,0,yt-1),Jt=Mt.subMatrix(ut,Mt.rows-1,yt,Mt.columns-1),se=mt.subMatrix(ut,mt.rows-1,yt,mt.columns-1),we=lt(k.add(Ot,Jt),k.add(Lt,se),ut,yt),Dt=lt(k.add(te,Jt),Lt,ut,yt),Me=lt(Ot,k.sub(jt,se),ut,yt),Ee=lt(Jt,k.sub(kt,Lt),ut,yt),ee=lt(k.add(Ot,At),se,ut,yt),We=lt(k.sub(te,Ot),k.add(Lt,jt),ut,yt),Ge=lt(k.sub(At,Jt),k.add(kt,se),ut,yt),he=k.add(we,Ee);he.sub(ee),he.add(Ge);var Be=k.add(Me,ee),Pe=k.add(Dt,Ee),Fe=k.sub(we,Dt);Fe.add(Me),Fe.add(We);var pe=k.zeros(2*he.rows,2*he.columns);return pe=pe.setSubMatrix(he,0,0),pe=pe.setSubMatrix(Be,he.rows,0),pe=pe.setSubMatrix(Pe,0,he.columns),pe=pe.setSubMatrix(Fe,he.rows,he.columns),pe.subMatrix(0,It-1,0,Bt-1)}return lt(n,e,nt,rt)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($(e)!=="object")throw new TypeError("options must be an object");var n=e.min,s=n===void 0?0:n,E=e.max,F=E===void 0?1:E;if(!Number.isFinite(s))throw new TypeError("min must be a number");if(!Number.isFinite(F))throw new TypeError("max must be a number");if(s>=F)throw new RangeError("min must be smaller than max");for(var L=new Tt(this.rows,this.columns),U=0;U<this.rows;U++){var nt=this.getRow(U);nt.length>0&&G(nt,{min:s,max:F,output:nt}),L.setRow(U,nt)}return L}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($(e)!=="object")throw new TypeError("options must be an object");var n=e.min,s=n===void 0?0:n,E=e.max,F=E===void 0?1:E;if(!Number.isFinite(s))throw new TypeError("min must be a number");if(!Number.isFinite(F))throw new TypeError("max must be a number");if(s>=F)throw new RangeError("min must be smaller than max");for(var L=new Tt(this.rows,this.columns),U=0;U<this.columns;U++){var nt=this.getColumn(U);nt.length&&G(nt,{min:s,max:F,output:nt}),L.setColumn(U,nt)}return L}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),n=0;n<this.rows;n++)for(var s=0;s<e;s++){var E=this.get(n,s),F=this.get(n,this.columns-1-s);this.set(n,s,F),this.set(n,this.columns-1-s,E)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),n=0;n<this.columns;n++)for(var s=0;s<e;s++){var E=this.get(s,n),F=this.get(this.rows-1-s,n);this.set(s,n,F),this.set(this.rows-1-s,n,E)}return this}},{key:"kroneckerProduct",value:function(e){e=Tt.checkMatrix(e);for(var n=this.rows,s=this.columns,E=e.rows,F=e.columns,L=new Tt(n*E,s*F),U=0;U<n;U++)for(var nt=0;nt<s;nt++)for(var rt=0;rt<E;rt++)for(var lt=0;lt<F;lt++)L.set(E*U+rt,F*nt+lt,this.get(U,nt)*e.get(rt,lt));return L}},{key:"kroneckerSum",value:function(e){if(e=Tt.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var n=this.rows,s=e.rows,E=this.kroneckerProduct(Tt.eye(s,s)),F=Tt.eye(n,n).kroneckerProduct(e);return E.add(F)}},{key:"transpose",value:function(){for(var e=new Tt(this.columns,this.rows),n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e.set(s,n,this.get(n,s));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:be,n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:be,n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(e));return this}},{key:"subMatrix",value:function(e,n,s,E){it(this,e,n,s,E);for(var F=new Tt(n-e+1,E-s+1),L=e;L<=n;L++)for(var U=s;U<=E;U++)F.set(L-e,U-s,this.get(L,U));return F}},{key:"subMatrixRow",value:function(e,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.columns-1),n>s||n<0||n>=this.columns||s<0||s>=this.columns)throw new RangeError("Argument out of range");for(var E=new Tt(e.length,s-n+1),F=0;F<e.length;F++)for(var L=n;L<=s;L++){if(e[F]<0||e[F]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[F]));E.set(F,L-n,this.get(e[F],L))}return E}},{key:"subMatrixColumn",value:function(e,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.rows-1),n>s||n<0||n>=this.rows||s<0||s>=this.rows)throw new RangeError("Argument out of range");for(var E=new Tt(s-n+1,e.length),F=0;F<e.length;F++)for(var L=n;L<=s;L++){if(e[F]<0||e[F]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[F]));E.set(L-n,F,this.get(L,e[F]))}return E}},{key:"setSubMatrix",value:function(e,n,s){if(e=Tt.checkMatrix(e),e.isEmpty())return this;var E=n+e.rows-1,F=s+e.columns-1;it(this,n,E,s,F);for(var L=0;L<e.rows;L++)for(var U=0;U<e.columns;U++)this.set(n+L,s+U,e.get(L,U));return this}},{key:"selection",value:function(e,n){st(this,e),tt(this,n);for(var s=new Tt(e.length,n.length),E=0;E<e.length;E++)for(var F=e[E],L=0;L<n.length;L++){var U=n[L];s.set(E,L,this.get(F,U))}return s}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),n=0,s=0;s<e;s++)n+=this.get(s,s);return n}},{key:"clone",value:function(){return this.constructor.copy(this,new Tt(this.rows,this.columns))}},{key:"sum",value:function(e){switch(e){case"row":return xt(this);case"column":return wt(this);case void 0:return et(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return at(this);case"column":return ht(this);case void 0:return ct(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var n=this.sum(e);switch(e){case"row":{for(var s=0;s<this.rows;s++)n[s]/=this.columns;return n}case"column":{for(var E=0;E<this.columns;E++)n[E]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(e)==="object"&&(n=e,e=void 0),$(n)!=="object")throw new TypeError("options must be an object");var s=n,E=s.unbiased,F=E===void 0?!0:E,L=s.mean,U=L===void 0?this.mean(e):L;if(typeof F!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!z.isAnyArray(U))throw new TypeError("mean must be an array");return Nt(this,F,U)}case"column":{if(!z.isAnyArray(U))throw new TypeError("mean must be an array");return Et(this,F,U)}case void 0:{if(typeof U!="number")throw new TypeError("mean must be a number");return bt(this,F,U)}default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,n){$(e)==="object"&&(n=e,e=void 0);var s=this.variance(e,n);if(e===void 0)return Math.sqrt(s);for(var E=0;E<s.length;E++)s[E]=Math.sqrt(s[E]);return s}},{key:"center",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(e)==="object"&&(n=e,e=void 0),$(n)!=="object")throw new TypeError("options must be an object");var s=n,E=s.center,F=E===void 0?this.mean(e):E;switch(e){case"row":{if(!z.isAnyArray(F))throw new TypeError("center must be an array");return St(this,F),this}case"column":{if(!z.isAnyArray(F))throw new TypeError("center must be an array");return Ft(this,F),this}case void 0:{if(typeof F!="number")throw new TypeError("center must be a number");return Ut(this,F),this}default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(e)==="object"&&(n=e,e=void 0),$(n)!=="object")throw new TypeError("options must be an object");var s=n.scale;switch(e){case"row":{if(s===void 0)s=Yt(this);else if(!z.isAnyArray(s))throw new TypeError("scale must be an array");return Wt(this,s),this}case"column":{if(s===void 0)s=re(this);else if(!z.isAnyArray(s))throw new TypeError("scale must be an array");return Zt(this,s),this}case void 0:{if(s===void 0)s=ce(this);else if(typeof s!="number")throw new TypeError("scale must be a number");return Se(this,s),this}default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return R(this,e)}},{key:I,value:function(){return this.entries()}},{key:"entries",value:Y().mark(function m(){var e,n;return Y().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:e=0;case 1:if(!(e<this.rows)){E.next=12;break}n=0;case 3:if(!(n<this.columns)){E.next=9;break}return E.next=6,[e,n,this.get(e,n)];case 6:n++,E.next=3;break;case 9:e++,E.next=1;break;case 12:case"end":return E.stop()}},m,this)})},{key:"values",value:Y().mark(function m(){var e,n;return Y().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:e=0;case 1:if(!(e<this.rows)){E.next=12;break}n=0;case 3:if(!(n<this.columns)){E.next=9;break}return E.next=6,this.get(e,n);case 6:n++,E.next=3;break;case 9:e++,E.next=1;break;case 12:case"end":return E.stop()}},m,this)})}],[{key:"from1DArray",value:function(e,n,s){var E=e*n;if(E!==s.length)throw new RangeError("data length does not match given dimensions");for(var F=new Tt(e,n),L=0;L<e;L++)for(var U=0;U<n;U++)F.set(L,U,s[L*n+U]);return F}},{key:"rowVector",value:function(e){for(var n=new Tt(1,e.length),s=0;s<e.length;s++)n.set(0,s,e[s]);return n}},{key:"columnVector",value:function(e){for(var n=new Tt(e.length,1),s=0;s<e.length;s++)n.set(s,0,e[s]);return n}},{key:"zeros",value:function(e,n){return new Tt(e,n)}},{key:"ones",value:function(e,n){return new Tt(e,n).fill(1)}},{key:"rand",value:function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if($(s)!=="object")throw new TypeError("options must be an object");for(var E=s.random,F=E===void 0?Math.random:E,L=new Tt(e,n),U=0;U<e;U++)for(var nt=0;nt<n;nt++)L.set(U,nt,F());return L}},{key:"randInt",value:function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if($(s)!=="object")throw new TypeError("options must be an object");var E=s.min,F=E===void 0?0:E,L=s.max,U=L===void 0?1e3:L,nt=s.random,rt=nt===void 0?Math.random:nt;if(!Number.isInteger(F))throw new TypeError("min must be an integer");if(!Number.isInteger(U))throw new TypeError("max must be an integer");if(F>=U)throw new RangeError("min must be smaller than max");for(var lt=U-F,Mt=new Tt(e,n),mt=0;mt<e;mt++)for(var It=0;It<n;It++){var Bt=F+Math.round(rt()*lt);Mt.set(mt,It,Bt)}return Mt}},{key:"eye",value:function(e,n,s){n===void 0&&(n=e),s===void 0&&(s=1);for(var E=Math.min(e,n),F=this.zeros(e,n),L=0;L<E;L++)F.set(L,L,s);return F}},{key:"diag",value:function(e,n,s){var E=e.length;n===void 0&&(n=E),s===void 0&&(s=n);for(var F=Math.min(E,n,s),L=this.zeros(n,s),U=0;U<F;U++)L.set(U,U,e[U]);return L}},{key:"min",value:function(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);for(var s=e.rows,E=e.columns,F=new Tt(s,E),L=0;L<s;L++)for(var U=0;U<E;U++)F.set(L,U,Math.min(e.get(L,U),n.get(L,U)));return F}},{key:"max",value:function(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);for(var s=e.rows,E=e.columns,F=new this(s,E),L=0;L<s;L++)for(var U=0;U<E;U++)F.set(L,U,Math.max(e.get(L,U),n.get(L,U)));return F}},{key:"checkMatrix",value:function(e){return k.isMatrix(e)?e:new Tt(e)}},{key:"isMatrix",value:function(e){return e!=null&&e.klass==="Matrix"}},{key:"copy",value:function(e,n){var s=A(e.entries()),E;try{for(s.s();!(E=s.n()).done;){var F=y(E.value,3),L=F[0],U=F[1],nt=F[2];n.set(L,U,nt)}}catch(rt){s.e(rt)}finally{s.f()}return n}}]),k}(Symbol.iterator);Ht.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Ht.prototype[Symbol.for("nodejs.util.inspect.custom")]=S);function be(I,k){return I-k}function fe(I){return I.every(function(k){return typeof k=="number"})}Ht.random=Ht.rand,Ht.randomInt=Ht.randInt,Ht.diagonal=Ht.diag,Ht.prototype.diagonal=Ht.prototype.diag,Ht.identity=Ht.eye,Ht.prototype.negate=Ht.prototype.neg,Ht.prototype.tensorProduct=Ht.prototype.kroneckerProduct;var qt=new WeakSet,Tt=function(I){c(m,I);var k=o(m);function m(e,n){var s;if(B(this,m),s=k.call(this),i(g(s),qt),h(g(s),"data",void 0),m.isMatrix(e))p(g(s),qt,de).call(g(s),e.rows,e.columns),m.copy(e,g(s));else if(Number.isInteger(e)&&e>=0)p(g(s),qt,de).call(g(s),e,n);else if(z.isAnyArray(e)){var E=e;if(e=E.length,n=e?E[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");s.data=[];for(var F=0;F<e;F++){if(E[F].length!==n)throw new RangeError("Inconsistent array dimensions");if(!fe(E[F]))throw new TypeError("Input data contains non-numeric values");s.data.push(Float64Array.from(E[F]))}s.rows=e,s.columns=n}else throw new TypeError("First argument must be a positive number or an array");return s}return K(m,[{key:"set",value:function(n,s,E){return this.data[n][s]=E,this}},{key:"get",value:function(n,s){return this.data[n][s]}},{key:"removeRow",value:function(n){return Z(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,s){return s===void 0&&(s=n,n=this.rows),Z(this,n,!0),s=Float64Array.from(J(this,s)),this.data.splice(n,0,s),this.rows+=1,this}},{key:"removeColumn",value:function(n){V(this,n);for(var s=0;s<this.rows;s++){for(var E=new Float64Array(this.columns-1),F=0;F<n;F++)E[F]=this.data[s][F];for(var L=n+1;L<this.columns;L++)E[L-1]=this.data[s][L];this.data[s]=E}return this.columns-=1,this}},{key:"addColumn",value:function(n,s){typeof s=="undefined"&&(s=n,n=this.columns),V(this,n,!0),s=H(this,s);for(var E=0;E<this.rows;E++){for(var F=new Float64Array(this.columns+1),L=0;L<n;L++)F[L]=this.data[E][L];for(F[L++]=s[E];L<this.columns+1;L++)F[L]=this.data[E][L-1];this.data[E]=F}return this.columns+=1,this}}]),m}(Ht);function de(I,k){if(this.data=[],Number.isInteger(k)&&k>=0)for(var m=0;m<I;m++)this.data.push(new Float64Array(k));else throw new TypeError("nColumns must be a positive integer");this.rows=I,this.columns=k}T(Ht,Tt);var ve=new WeakMap,ne=function(I){c(m,I);var k=o(m);function m(e){var n;if(B(this,m),n=k.call(this),v(g(n),ve,{writable:!0,value:void 0}),Tt.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");u(g(n),ve,Tt.copy(e,new Tt(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)u(g(n),ve,new Tt(e,e));else if(u(g(n),ve,new Tt(e)),!n.isSymmetric())throw new TypeError("not symmetric data");return n}return K(m,[{key:"size",get:function(){return l(this,ve).size}},{key:"rows",get:function(){return l(this,ve).rows}},{key:"columns",get:function(){return l(this,ve).columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var n=new m(this.diagonalSize),s=A(this.upperRightEntries()),E;try{for(s.s();!(E=s.n()).done;){var F=y(E.value,3),L=F[0],U=F[1],nt=F[2];n.set(L,U,nt)}}catch(rt){s.e(rt)}finally{s.f()}return n}},{key:"toMatrix",value:function(){return new Tt(this)}},{key:"get",value:function(n,s){return l(this,ve).get(n,s)}},{key:"set",value:function(n,s,E){return l(this,ve).set(n,s,E),l(this,ve).set(s,n,E),this}},{key:"removeCross",value:function(n){return l(this,ve).removeRow(n),l(this,ve).removeColumn(n),this}},{key:"addCross",value:function(n,s){s===void 0&&(s=n,n=this.diagonalSize);var E=s.slice();return E.splice(n,1),l(this,ve).addRow(n,E),l(this,ve).addColumn(n,s),this}},{key:"applyMask",value:function(n){if(n.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var s=[],E=A(n.entries()),F;try{for(E.s();!(F=E.n()).done;){var L=y(F.value,2),U=L[0],nt=L[1];nt||s.push(U)}}catch(mt){E.e(mt)}finally{E.f()}s.reverse();for(var rt=0,lt=s;rt<lt.length;rt++){var Mt=lt[rt];this.removeCross(Mt)}return this}},{key:"toCompact",value:function(){for(var n=this.diagonalSize,s=new Array(n*(n+1)/2),E=0,F=0,L=0;L<s.length;L++)s[L]=this.get(F,E),++E>=n&&(E=++F);return s}},{key:"upperRightEntries",value:Y().mark(function e(){var n,s,E;return Y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:n=0,s=0;case 1:if(!(n<this.diagonalSize)){L.next=9;break}return E=this.get(n,s),L.next=5,[n,s,E];case 5:++s>=this.diagonalSize&&(s=++n);case 6:L.next=1;break;case 9:case"end":return L.stop()}},e,this)})},{key:"upperRightValues",value:Y().mark(function e(){var n,s,E;return Y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:n=0,s=0;case 1:if(!(n<this.diagonalSize)){L.next=9;break}return E=this.get(n,s),L.next=5,E;case 5:++s>=this.diagonalSize&&(s=++n);case 6:L.next=1;break;case 9:case"end":return L.stop()}},e,this)})}],[{key:"isSymmetricMatrix",value:function(n){return Tt.isMatrix(n)&&n.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(n){return new this(n)}},{key:"ones",value:function(n){return new this(n).fill(1)}},{key:"fromCompact",value:function(n){var s=n.length,E=(Math.sqrt(8*s+1)-1)/2;if(!Number.isInteger(E))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(n)));for(var F=new m(E),L=0,U=0,nt=0;nt<s;nt++)F.set(L,U,n[nt]),++L>=E&&(L=++U);return F}}]),m}(Ht);ne.prototype.klassType="SymmetricMatrix";var me=function(I){c(m,I);var k=o(m);function m(e){var n;if(B(this,m),n=k.call(this,e),!n.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return n}return K(m,[{key:"set",value:function(n,s,E){return n===s&&(E=0),d(a(m.prototype),"set",this).call(this,n,s,E)}},{key:"addCross",value:function(n,s){return s===void 0&&(s=n,n=this.diagonalSize),s=s.slice(),s[n]=0,d(a(m.prototype),"addCross",this).call(this,n,s)}},{key:"toSymmetricMatrix",value:function(){return new ne(this)}},{key:"clone",value:function(){var n=new m(this.diagonalSize),s=A(this.upperRightEntries()),E;try{for(s.s();!(E=s.n()).done;){var F=y(E.value,3),L=F[0],U=F[1],nt=F[2];L!==U&&n.set(L,U,nt)}}catch(rt){s.e(rt)}finally{s.f()}return n}},{key:"toCompact",value:function(){for(var n=this.diagonalSize,s=(n-1)*n/2,E=new Array(s),F=1,L=0,U=0;U<E.length;U++)E[U]=this.get(L,F),++F>=n&&(F=++L+1);return E}}],[{key:"isDistanceMatrix",value:function(n){return ne.isSymmetricMatrix(n)&&n.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(n){var s=n.length;if(s===0)return new this(0);var E=(Math.sqrt(8*s+1)+1)/2;if(!Number.isInteger(E))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(n)));for(var F=new this(E),L=1,U=0,nt=0;nt<s;nt++)F.set(L,U,n[nt]),++L>=E&&(L=++U+1);return F}}]),m}(ne);me.prototype.klassSubType="DistanceMatrix";var ye=function(I){c(m,I);var k=o(m);function m(e,n,s){var E;return B(this,m),E=k.call(this),E.matrix=e,E.rows=n,E.columns=s,E}return K(m)}(Ht),an=function(I){c(m,I);var k=o(m);function m(e,n){var s;return B(this,m),V(e,n),s=k.call(this,e,e.rows,1),s.column=n,s}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(n,this.column,E),this}},{key:"get",value:function(n){return this.matrix.get(n,this.column)}}]),m}(ye),un=function(I){c(m,I);var k=o(m);function m(e,n){var s;return B(this,m),tt(e,n),s=k.call(this,e,e.rows,n.length),s.columnIndices=n,s}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(n,this.columnIndices[s],E),this}},{key:"get",value:function(n,s){return this.matrix.get(n,this.columnIndices[s])}}]),m}(ye),dn=function(I){c(m,I);var k=o(m);function m(e){return B(this,m),k.call(this,e,e.rows,e.columns)}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(n,this.columns-s-1,E),this}},{key:"get",value:function(n,s){return this.matrix.get(n,this.columns-s-1)}}]),m}(ye),Ce=function(I){c(m,I);var k=o(m);function m(e){return B(this,m),k.call(this,e,e.rows,e.columns)}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(this.rows-n-1,s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.rows-n-1,s)}}]),m}(ye),ze=function(I){c(m,I);var k=o(m);function m(e,n){var s;return B(this,m),Z(e,n),s=k.call(this,e,1,e.columns),s.row=n,s}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(this.row,s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.row,s)}}]),m}(ye),Fn=function(I){c(m,I);var k=o(m);function m(e,n){var s;return B(this,m),st(e,n),s=k.call(this,e,n.length,e.columns),s.rowIndices=n,s}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(this.rowIndices[n],s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.rowIndices[n],s)}}]),m}(ye),cn=function(I){c(m,I);var k=o(m);function m(e,n,s){var E;return B(this,m),st(e,n),tt(e,s),E=k.call(this,e,n.length,s.length),E.rowIndices=n,E.columnIndices=s,E}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(this.rowIndices[n],this.columnIndices[s],E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.rowIndices[n],this.columnIndices[s])}}]),m}(ye),An=function(I){c(m,I);var k=o(m);function m(e,n,s,E,F){var L;return B(this,m),it(e,n,s,E,F),L=k.call(this,e,s-n+1,F-E+1),L.startRow=n,L.startColumn=E,L}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(this.startRow+n,this.startColumn+s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.startRow+n,this.startColumn+s)}}]),m}(ye),Pn=function(I){c(m,I);var k=o(m);function m(e){return B(this,m),k.call(this,e,e.columns,e.rows)}return K(m,[{key:"set",value:function(n,s,E){return this.matrix.set(s,n,E),this}},{key:"get",value:function(n,s){return this.matrix.get(s,n)}}]),m}(ye),fn=function(I){c(m,I);var k=o(m);function m(e){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B(this,m);var E=s.rows,F=E===void 0?1:E;if(e.length%F!==0)throw new Error("the data length is not divisible by the number of rows");return n=k.call(this),n.rows=F,n.columns=e.length/F,n.data=e,n}return K(m,[{key:"set",value:function(n,s,E){var F=this._calculateIndex(n,s);return this.data[F]=E,this}},{key:"get",value:function(n,s){var E=this._calculateIndex(n,s);return this.data[E]}},{key:"_calculateIndex",value:function(n,s){return n*this.columns+s}}]),m}(Ht),Ae=function(I){c(m,I);var k=o(m);function m(e){var n;return B(this,m),n=k.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return K(m,[{key:"set",value:function(n,s,E){return this.data[n][s]=E,this}},{key:"get",value:function(n,s){return this.data[n][s]}}]),m}(Ht);function zn(I,k){if(z.isAnyArray(I))return I[0]&&z.isAnyArray(I[0])?new Ae(I):new fn(I,k);throw new Error("the argument is not an array")}var hn=function(){function I(k){B(this,I),k=Ae.checkMatrix(k);var m=k.clone(),e=m.rows,n=m.columns,s=new Float64Array(e),E=1,F,L,U,nt,rt,lt,Mt,mt,It;for(F=0;F<e;F++)s[F]=F;for(mt=new Float64Array(e),L=0;L<n;L++){for(F=0;F<e;F++)mt[F]=m.get(F,L);for(F=0;F<e;F++){for(It=Math.min(F,L),rt=0,U=0;U<It;U++)rt+=m.get(F,U)*mt[U];mt[F]-=rt,m.set(F,L,mt[F])}for(nt=L,F=L+1;F<e;F++)Math.abs(mt[F])>Math.abs(mt[nt])&&(nt=F);if(nt!==L){for(U=0;U<n;U++)lt=m.get(nt,U),m.set(nt,U,m.get(L,U)),m.set(L,U,lt);Mt=s[nt],s[nt]=s[L],s[L]=Mt,E=-E}if(L<e&&m.get(L,L)!==0)for(F=L+1;F<e;F++)m.set(F,L,m.get(F,L)/m.get(L,L))}this.LU=m,this.pivotVector=s,this.pivotSign=E}return K(I,[{key:"isSingular",value:function(){for(var m=this.LU,e=m.columns,n=0;n<e;n++)if(m.get(n,n)===0)return!0;return!1}},{key:"solve",value:function(m){m=Tt.checkMatrix(m);var e=this.LU,n=e.rows;if(n!==m.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var s=m.columns,E=m.subMatrixRow(this.pivotVector,0,s-1),F=e.columns,L,U,nt;for(nt=0;nt<F;nt++)for(L=nt+1;L<F;L++)for(U=0;U<s;U++)E.set(L,U,E.get(L,U)-E.get(nt,U)*e.get(L,nt));for(nt=F-1;nt>=0;nt--){for(U=0;U<s;U++)E.set(nt,U,E.get(nt,U)/e.get(nt,nt));for(L=0;L<nt;L++)for(U=0;U<s;U++)E.set(L,U,E.get(L,U)-E.get(nt,U)*e.get(L,nt))}return E}},{key:"determinant",get:function(){var m=this.LU;if(!m.isSquare())throw new Error("Matrix must be square");for(var e=this.pivotSign,n=m.columns,s=0;s<n;s++)e*=m.get(s,s);return e}},{key:"lowerTriangularMatrix",get:function(){for(var m=this.LU,e=m.rows,n=m.columns,s=new Tt(e,n),E=0;E<e;E++)for(var F=0;F<n;F++)E>F?s.set(E,F,m.get(E,F)):E===F?s.set(E,F,1):s.set(E,F,0);return s}},{key:"upperTriangularMatrix",get:function(){for(var m=this.LU,e=m.rows,n=m.columns,s=new Tt(e,n),E=0;E<e;E++)for(var F=0;F<n;F++)E<=F?s.set(E,F,m.get(E,F)):s.set(E,F,0);return s}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),I}();function ke(I,k){var m=0;return Math.abs(I)>Math.abs(k)?(m=k/I,Math.abs(I)*Math.sqrt(1+m*m)):k!==0?(m=I/k,Math.abs(k)*Math.sqrt(1+m*m)):0}var ln=function(){function I(k){B(this,I),k=Ae.checkMatrix(k);var m=k.clone(),e=k.rows,n=k.columns,s=new Float64Array(n),E,F,L,U;for(L=0;L<n;L++){var nt=0;for(E=L;E<e;E++)nt=ke(nt,m.get(E,L));if(nt!==0){for(m.get(L,L)<0&&(nt=-nt),E=L;E<e;E++)m.set(E,L,m.get(E,L)/nt);for(m.set(L,L,m.get(L,L)+1),F=L+1;F<n;F++){for(U=0,E=L;E<e;E++)U+=m.get(E,L)*m.get(E,F);for(U=-U/m.get(L,L),E=L;E<e;E++)m.set(E,F,m.get(E,F)+U*m.get(E,L))}}s[L]=-nt}this.QR=m,this.Rdiag=s}return K(I,[{key:"solve",value:function(m){m=Tt.checkMatrix(m);var e=this.QR,n=e.rows;if(m.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var s=m.columns,E=m.clone(),F=e.columns,L,U,nt,rt;for(nt=0;nt<F;nt++)for(U=0;U<s;U++){for(rt=0,L=nt;L<n;L++)rt+=e.get(L,nt)*E.get(L,U);for(rt=-rt/e.get(nt,nt),L=nt;L<n;L++)E.set(L,U,E.get(L,U)+rt*e.get(L,nt))}for(nt=F-1;nt>=0;nt--){for(U=0;U<s;U++)E.set(nt,U,E.get(nt,U)/this.Rdiag[nt]);for(L=0;L<nt;L++)for(U=0;U<s;U++)E.set(L,U,E.get(L,U)-E.get(nt,U)*e.get(L,nt))}return E.subMatrix(0,F-1,0,s-1)}},{key:"isFullRank",value:function(){for(var m=this.QR.columns,e=0;e<m;e++)if(this.Rdiag[e]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var m=this.QR,e=m.columns,n=new Tt(e,e),s,E;for(s=0;s<e;s++)for(E=0;E<e;E++)s<E?n.set(s,E,m.get(s,E)):s===E?n.set(s,E,this.Rdiag[s]):n.set(s,E,0);return n}},{key:"orthogonalMatrix",get:function(){var m=this.QR,e=m.rows,n=m.columns,s=new Tt(e,n),E,F,L,U;for(L=n-1;L>=0;L--){for(E=0;E<e;E++)s.set(E,L,0);for(s.set(L,L,1),F=L;F<n;F++)if(m.get(L,L)!==0){for(U=0,E=L;E<e;E++)U+=m.get(E,L)*s.get(E,F);for(U=-U/m.get(L,L),E=L;E<e;E++)s.set(E,F,s.get(E,F)+U*m.get(E,L))}}return s}}]),I}(),Ye=function(){function I(k){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(B(this,I),k=Ae.checkMatrix(k),k.isEmpty())throw new Error("Matrix must be non-empty");var e=k.rows,n=k.columns,s=m.computeLeftSingularVectors,E=s===void 0?!0:s,F=m.computeRightSingularVectors,L=F===void 0?!0:F,U=m.autoTranspose,nt=U===void 0?!1:U,rt=!!E,lt=!!L,Mt=!1,mt;if(e<n)if(!nt)mt=k.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{mt=k.transpose(),e=mt.rows,n=mt.columns,Mt=!0;var It=rt;rt=lt,lt=It}else mt=k.clone();for(var Bt=Math.min(e,n),ut=Math.min(e+1,n),yt=new Float64Array(ut),Ot=new Tt(e,Bt),Lt=new Tt(n,n),At=new Float64Array(n),jt=new Float64Array(e),te=new Float64Array(ut),kt=0;kt<ut;kt++)te[kt]=kt;for(var Jt=Math.min(e-1,n),se=Math.max(0,Math.min(n-2,e)),we=Math.max(Jt,se),Dt=0;Dt<we;Dt++){if(Dt<Jt){yt[Dt]=0;for(var Me=Dt;Me<e;Me++)yt[Dt]=ke(yt[Dt],mt.get(Me,Dt));if(yt[Dt]!==0){mt.get(Dt,Dt)<0&&(yt[Dt]=-yt[Dt]);for(var Ee=Dt;Ee<e;Ee++)mt.set(Ee,Dt,mt.get(Ee,Dt)/yt[Dt]);mt.set(Dt,Dt,mt.get(Dt,Dt)+1)}yt[Dt]=-yt[Dt]}for(var ee=Dt+1;ee<n;ee++){if(Dt<Jt&&yt[Dt]!==0){for(var We=0,Ge=Dt;Ge<e;Ge++)We+=mt.get(Ge,Dt)*mt.get(Ge,ee);We=-We/mt.get(Dt,Dt);for(var he=Dt;he<e;he++)mt.set(he,ee,mt.get(he,ee)+We*mt.get(he,Dt))}At[ee]=mt.get(Dt,ee)}if(rt&&Dt<Jt)for(var Be=Dt;Be<e;Be++)Ot.set(Be,Dt,mt.get(Be,Dt));if(Dt<se){At[Dt]=0;for(var Pe=Dt+1;Pe<n;Pe++)At[Dt]=ke(At[Dt],At[Pe]);if(At[Dt]!==0){At[Dt+1]<0&&(At[Dt]=0-At[Dt]);for(var Fe=Dt+1;Fe<n;Fe++)At[Fe]/=At[Dt];At[Dt+1]+=1}if(At[Dt]=-At[Dt],Dt+1<e&&At[Dt]!==0){for(var pe=Dt+1;pe<e;pe++)jt[pe]=0;for(var $e=Dt+1;$e<e;$e++)for(var Xe=Dt+1;Xe<n;Xe++)jt[$e]+=At[Xe]*mt.get($e,Xe);for(var Je=Dt+1;Je<n;Je++)for(var Nn=-At[Je]/At[Dt+1],Qe=Dt+1;Qe<e;Qe++)mt.set(Qe,Je,mt.get(Qe,Je)+Nn*jt[Qe])}if(lt)for(var qe=Dt+1;qe<n;qe++)Lt.set(qe,Dt,At[qe])}}var _t=Math.min(n,e+1);if(Jt<n&&(yt[Jt]=mt.get(Jt,Jt)),e<_t&&(yt[_t-1]=0),se+1<_t&&(At[se]=mt.get(se,_t-1)),At[_t-1]=0,rt){for(var Ze=Jt;Ze<Bt;Ze++){for(var He=0;He<e;He++)Ot.set(He,Ze,0);Ot.set(Ze,Ze,1)}for(var oe=Jt-1;oe>=0;oe--)if(yt[oe]!==0){for(var je=oe+1;je<Bt;je++){for(var tn=0,en=oe;en<e;en++)tn+=Ot.get(en,oe)*Ot.get(en,je);tn=-tn/Ot.get(oe,oe);for(var _e=oe;_e<e;_e++)Ot.set(_e,je,Ot.get(_e,je)+tn*Ot.get(_e,oe))}for(var w=oe;w<e;w++)Ot.set(w,oe,-Ot.get(w,oe));Ot.set(oe,oe,1+Ot.get(oe,oe));for(var N=0;N<oe-1;N++)Ot.set(N,oe,0)}else{for(var C=0;C<e;C++)Ot.set(C,oe,0);Ot.set(oe,oe,1)}}if(lt)for(var W=n-1;W>=0;W--){if(W<se&&At[W]!==0)for(var X=W+1;X<n;X++){for(var Q=0,j=W+1;j<n;j++)Q+=Lt.get(j,W)*Lt.get(j,X);Q=-Q/Lt.get(W+1,W);for(var _=W+1;_<n;_++)Lt.set(_,X,Lt.get(_,X)+Q*Lt.get(_,W))}for(var q=0;q<n;q++)Lt.set(q,W,0);Lt.set(W,W,1)}for(var ot=_t-1,dt=Number.EPSILON;_t>0;){var gt=void 0,Pt=void 0;for(gt=_t-2;gt>=-1&&gt!==-1;gt--){var Rt=Number.MIN_VALUE+dt*Math.abs(yt[gt]+Math.abs(yt[gt+1]));if(Math.abs(At[gt])<=Rt||Number.isNaN(At[gt])){At[gt]=0;break}}if(gt===_t-2)Pt=4;else{var Ct=void 0;for(Ct=_t-1;Ct>=gt&&Ct!==gt;Ct--){var Gt=(Ct!==_t?Math.abs(At[Ct]):0)+(Ct!==gt+1?Math.abs(At[Ct-1]):0);if(Math.abs(yt[Ct])<=dt*Gt){yt[Ct]=0;break}}Ct===gt?Pt=3:Ct===_t-1?Pt=1:(Pt=2,gt=Ct)}switch(gt++,Pt){case 1:{var Vt=At[_t-2];At[_t-2]=0;for(var zt=_t-2;zt>=gt;zt--){var Qt=ke(yt[zt],Vt),le=yt[zt]/Qt,ie=Vt/Qt;if(yt[zt]=Qt,zt!==gt&&(Vt=-ie*At[zt-1],At[zt-1]=le*At[zt-1]),lt)for(var Ue=0;Ue<n;Ue++)Qt=le*Lt.get(Ue,zt)+ie*Lt.get(Ue,_t-1),Lt.set(Ue,_t-1,-ie*Lt.get(Ue,zt)+le*Lt.get(Ue,_t-1)),Lt.set(Ue,zt,Qt)}break}case 2:{var pn=At[gt-1];At[gt-1]=0;for(var Ie=gt;Ie<_t;Ie++){var nn=ke(yt[Ie],pn),On=yt[Ie]/nn,mn=pn/nn;if(yt[Ie]=nn,pn=-mn*At[Ie],At[Ie]=On*At[Ie],rt)for(var Ve=0;Ve<e;Ve++)nn=On*Ot.get(Ve,Ie)+mn*Ot.get(Ve,gt-1),Ot.set(Ve,gt-1,-mn*Ot.get(Ve,Ie)+On*Ot.get(Ve,gt-1)),Ot.set(Ve,Ie,nn)}break}case 3:{var rn=Math.max(Math.abs(yt[_t-1]),Math.abs(yt[_t-2]),Math.abs(At[_t-2]),Math.abs(yt[gt]),Math.abs(At[gt])),Le=yt[_t-1]/rn,on=yt[_t-2]/rn,sn=At[_t-2]/rn,yn=yt[gt]/rn,$n=At[gt]/rn,$t=((on+Le)*(on-Le)+sn*sn)/2,xe=Le*sn*(Le*sn),Ne=0;($t!==0||xe!==0)&&($t<0?Ne=0-Math.sqrt($t*$t+xe):Ne=Math.sqrt($t*$t+xe),Ne=xe/($t+Ne));for(var Te=(yn+Le)*(yn-Le)+Ne,Oe=yn*$n,Xt=gt;Xt<_t-1;Xt++){var Kt=ke(Te,Oe);Kt===0&&(Kt=Number.MIN_VALUE);var ae=Te/Kt,ge=Oe/Kt;if(Xt!==gt&&(At[Xt-1]=Kt),Te=ae*yt[Xt]+ge*At[Xt],At[Xt]=ae*At[Xt]-ge*yt[Xt],Oe=ge*yt[Xt+1],yt[Xt+1]=ae*yt[Xt+1],lt)for(var De=0;De<n;De++)Kt=ae*Lt.get(De,Xt)+ge*Lt.get(De,Xt+1),Lt.set(De,Xt+1,-ge*Lt.get(De,Xt)+ae*Lt.get(De,Xt+1)),Lt.set(De,Xt,Kt);if(Kt=ke(Te,Oe),Kt===0&&(Kt=Number.MIN_VALUE),ae=Te/Kt,ge=Oe/Kt,yt[Xt]=Kt,Te=ae*At[Xt]+ge*yt[Xt+1],yt[Xt+1]=-ge*At[Xt]+ae*yt[Xt+1],Oe=ge*At[Xt+1],At[Xt+1]=ae*At[Xt+1],rt&&Xt<e-1)for(var Re=0;Re<e;Re++)Kt=ae*Ot.get(Re,Xt)+ge*Ot.get(Re,Xt+1),Ot.set(Re,Xt+1,-ge*Ot.get(Re,Xt)+ae*Ot.get(Re,Xt+1)),Ot.set(Re,Xt,Kt)}At[_t-2]=Te;break}case 4:{if(yt[gt]<=0&&(yt[gt]=yt[gt]<0?-yt[gt]:0,lt))for(var Ke=0;Ke<=ot;Ke++)Lt.set(Ke,gt,-Lt.get(Ke,gt));for(;gt<ot&&!(yt[gt]>=yt[gt+1]);){var Sn=yt[gt];if(yt[gt]=yt[gt+1],yt[gt+1]=Sn,lt&&gt<n-1)for(var wn=0;wn<n;wn++)Sn=Lt.get(wn,gt+1),Lt.set(wn,gt+1,Lt.get(wn,gt)),Lt.set(wn,gt,Sn);if(rt&&gt<e-1)for(var En=0;En<e;En++)Sn=Ot.get(En,gt+1),Ot.set(En,gt+1,Ot.get(En,gt)),Ot.set(En,gt,Sn);gt++}_t--;break}}}if(Mt){var Jn=Lt;Lt=Ot,Ot=Jn}this.m=e,this.n=n,this.s=yt,this.U=Ot,this.V=Lt}return K(I,[{key:"solve",value:function(m){for(var e=m,n=this.threshold,s=this.s.length,E=Tt.zeros(s,s),F=0;F<s;F++)Math.abs(this.s[F])<=n?E.set(F,F,0):E.set(F,F,1/this.s[F]);for(var L=this.U,U=this.rightSingularVectors,nt=U.mmul(E),rt=U.rows,lt=L.rows,Mt=Tt.zeros(rt,lt),mt=0;mt<rt;mt++)for(var It=0;It<lt;It++){for(var Bt=0,ut=0;ut<s;ut++)Bt+=nt.get(mt,ut)*L.get(It,ut);Mt.set(mt,It,Bt)}return Mt.mmul(e)}},{key:"solveForDiagonal",value:function(m){return this.solve(Tt.diag(m))}},{key:"inverse",value:function(){for(var m=this.V,e=this.threshold,n=m.rows,s=m.columns,E=new Tt(n,this.s.length),F=0;F<n;F++)for(var L=0;L<s;L++)Math.abs(this.s[L])>e&&E.set(F,L,m.get(F,L)/this.s[L]);for(var U=this.U,nt=U.rows,rt=U.columns,lt=new Tt(n,nt),Mt=0;Mt<n;Mt++)for(var mt=0;mt<nt;mt++){for(var It=0,Bt=0;Bt<rt;Bt++)It+=E.get(Mt,Bt)*U.get(mt,Bt);lt.set(Mt,mt,It)}return lt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var m=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,s=0,E=n.length;s<E;s++)n[s]>m&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Tt.diag(this.s)}}]),I}();function kn(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return I=Ae.checkMatrix(I),k?new Ye(I).inverse():bn(I,Tt.eye(I.rows))}function bn(I,k){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return I=Ae.checkMatrix(I),k=Ae.checkMatrix(k),m?new Ye(I).solve(k):I.isSquare()?new hn(I).solve(k):new ln(I).solve(k)}function gn(I){if(I=Tt.checkMatrix(I),I.isSquare()){if(I.columns===0)return 1;var k,m,e,n;if(I.columns===2)return k=I.get(0,0),m=I.get(0,1),e=I.get(1,0),n=I.get(1,1),k*n-m*e;if(I.columns===3){var s,E,F;return s=new cn(I,[1,2],[1,2]),E=new cn(I,[1,2],[0,2]),F=new cn(I,[1,2],[0,1]),k=I.get(0,0),m=I.get(0,1),e=I.get(0,2),k*gn(s)-m*gn(E)+e*gn(F)}else return new hn(I).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Tn(I,k){for(var m=[],e=0;e<I;e++)e!==k&&m.push(e);return m}function In(I,k,m){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(I>n)return new Array(k.rows+1).fill(0);for(var s=k.addRow(m,[0]),E=0;E<s.rows;E++)Math.abs(s.get(E,0))<e&&s.set(E,0,0);return s.to1DArray()}function Bn(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=k.thresholdValue,e=m===void 0?1e-9:m,n=k.thresholdError,s=n===void 0?1e-9:n;I=Tt.checkMatrix(I);for(var E=I.rows,F=new Tt(E,E),L=0;L<E;L++){var U=Tt.columnVector(I.getRow(L)),nt=I.subMatrixRow(Tn(E,L)).transpose(),rt=new Ye(nt),lt=rt.solve(U),Mt=Tt.sub(U,nt.mmul(lt)).abs().max();F.setRow(L,In(Mt,lt,L,e,s))}return F}function Dn(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(I=Tt.checkMatrix(I),I.isEmpty())return I.transpose();for(var m=new Ye(I,{autoTranspose:!0}),e=m.leftSingularVectors,n=m.rightSingularVectors,s=m.diagonal,E=0;E<s.length;E++)Math.abs(s[E])>k?s[E]=1/s[E]:s[E]=0;return n.mmul(Tt.diag(s).mmul(e.transpose()))}function Rn(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I=new Tt(I);var e=!1;if($(k)==="object"&&!Tt.isMatrix(k)&&!z.isAnyArray(k)?(m=k,k=I,e=!0):k=new Tt(k),I.rows!==k.rows)throw new TypeError("Both matrices must have the same number of rows");var n=m,s=n.center,E=s===void 0?!0:s;E&&(I=I.center("column"),e||(k=k.center("column")));for(var F=I.transpose().mmul(k),L=0;L<F.rows;L++)for(var U=0;U<F.columns;U++)F.set(L,U,F.get(L,U)*(1/(I.rows-1)));return F}function Cn(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I=new Tt(I);var e=!1;if($(k)==="object"&&!Tt.isMatrix(k)&&!z.isAnyArray(k)?(m=k,k=I,e=!0):k=new Tt(k),I.rows!==k.rows)throw new TypeError("Both matrices must have the same number of rows");var n=m,s=n.center,E=s===void 0?!0:s,F=n.scale,L=F===void 0?!0:F;E&&(I.center("column"),e||k.center("column")),L&&(I.scale("column"),e||k.scale("column"));for(var U=I.standardDeviation("column",{unbiased:!0}),nt=e?U:k.standardDeviation("column",{unbiased:!0}),rt=I.transpose().mmul(k),lt=0;lt<rt.rows;lt++)for(var Mt=0;Mt<rt.columns;Mt++)rt.set(lt,Mt,rt.get(lt,Mt)*(1/(U[lt]*nt[Mt]))*(1/(I.rows-1)));return rt}var Un=function(){function I(k){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B(this,I);var e=m.assumeSymmetric,n=e===void 0?!1:e;if(k=Ae.checkMatrix(k),!k.isSquare())throw new Error("Matrix is not a square matrix");if(k.isEmpty())throw new Error("Matrix must be non-empty");var s=k.columns,E=new Tt(s,s),F=new Float64Array(s),L=new Float64Array(s),U=k,nt,rt,lt=!1;if(n?lt=!0:lt=k.isSymmetric(),lt){for(nt=0;nt<s;nt++)for(rt=0;rt<s;rt++)E.set(nt,rt,U.get(nt,rt));Wn(s,L,F,E),Gn(s,L,F,E)}else{var Mt=new Tt(s,s),mt=new Float64Array(s);for(rt=0;rt<s;rt++)for(nt=0;nt<s;nt++)Mt.set(nt,rt,U.get(nt,rt));Zn(s,Mt,mt,E),Vn(s,L,F,E,Mt)}this.n=s,this.e=L,this.d=F,this.V=E}return K(I,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var m=this.n,e=this.e,n=this.d,s=new Tt(m,m),E,F;for(E=0;E<m;E++){for(F=0;F<m;F++)s.set(E,F,0);s.set(E,E,n[E]),e[E]>0?s.set(E,E+1,e[E]):e[E]<0&&s.set(E,E-1,e[E])}return s}}]),I}();function Wn(I,k,m,e){var n,s,E,F,L,U,nt,rt;for(L=0;L<I;L++)m[L]=e.get(I-1,L);for(F=I-1;F>0;F--){for(rt=0,E=0,U=0;U<F;U++)rt=rt+Math.abs(m[U]);if(rt===0)for(k[F]=m[F-1],L=0;L<F;L++)m[L]=e.get(F-1,L),e.set(F,L,0),e.set(L,F,0);else{for(U=0;U<F;U++)m[U]/=rt,E+=m[U]*m[U];for(n=m[F-1],s=Math.sqrt(E),n>0&&(s=-s),k[F]=rt*s,E=E-n*s,m[F-1]=n-s,L=0;L<F;L++)k[L]=0;for(L=0;L<F;L++){for(n=m[L],e.set(L,F,n),s=k[L]+e.get(L,L)*n,U=L+1;U<=F-1;U++)s+=e.get(U,L)*m[U],k[U]+=e.get(U,L)*n;k[L]=s}for(n=0,L=0;L<F;L++)k[L]/=E,n+=k[L]*m[L];for(nt=n/(E+E),L=0;L<F;L++)k[L]-=nt*m[L];for(L=0;L<F;L++){for(n=m[L],s=k[L],U=L;U<=F-1;U++)e.set(U,L,e.get(U,L)-(n*k[U]+s*m[U]));m[L]=e.get(F-1,L),e.set(F,L,0)}}m[F]=E}for(F=0;F<I-1;F++){if(e.set(I-1,F,e.get(F,F)),e.set(F,F,1),E=m[F+1],E!==0){for(U=0;U<=F;U++)m[U]=e.get(U,F+1)/E;for(L=0;L<=F;L++){for(s=0,U=0;U<=F;U++)s+=e.get(U,F+1)*e.get(U,L);for(U=0;U<=F;U++)e.set(U,L,e.get(U,L)-s*m[U])}}for(U=0;U<=F;U++)e.set(U,F+1,0)}for(L=0;L<I;L++)m[L]=e.get(I-1,L),e.set(I-1,L,0);e.set(I-1,I-1,1),k[0]=0}function Gn(I,k,m,e){var n,s,E,F,L,U,nt,rt,lt,Mt,mt,It,Bt,ut,yt,Ot;for(E=1;E<I;E++)k[E-1]=k[E];k[I-1]=0;var Lt=0,At=0,jt=Number.EPSILON;for(U=0;U<I;U++){for(At=Math.max(At,Math.abs(m[U])+Math.abs(k[U])),nt=U;nt<I&&!(Math.abs(k[nt])<=jt*At);)nt++;if(nt>U)do{for(n=m[U],rt=(m[U+1]-n)/(2*k[U]),lt=ke(rt,1),rt<0&&(lt=-lt),m[U]=k[U]/(rt+lt),m[U+1]=k[U]*(rt+lt),Mt=m[U+1],s=n-m[U],E=U+2;E<I;E++)m[E]-=s;for(Lt=Lt+s,rt=m[nt],mt=1,It=mt,Bt=mt,ut=k[U+1],yt=0,Ot=0,E=nt-1;E>=U;E--)for(Bt=It,It=mt,Ot=yt,n=mt*k[E],s=mt*rt,lt=ke(rt,k[E]),k[E+1]=yt*lt,yt=k[E]/lt,mt=rt/lt,rt=mt*m[E]-yt*n,m[E+1]=s+yt*(mt*n+yt*m[E]),L=0;L<I;L++)s=e.get(L,E+1),e.set(L,E+1,yt*e.get(L,E)+mt*s),e.set(L,E,mt*e.get(L,E)-yt*s);rt=-yt*Ot*Bt*ut*k[U]/Mt,k[U]=yt*rt,m[U]=mt*rt}while(Math.abs(k[U])>jt*At);m[U]=m[U]+Lt,k[U]=0}for(E=0;E<I-1;E++){for(L=E,rt=m[E],F=E+1;F<I;F++)m[F]<rt&&(L=F,rt=m[F]);if(L!==E)for(m[L]=m[E],m[E]=rt,F=0;F<I;F++)rt=e.get(F,E),e.set(F,E,e.get(F,L)),e.set(F,L,rt)}}function Zn(I,k,m,e){var n=0,s=I-1,E,F,L,U,nt,rt,lt;for(rt=n+1;rt<=s-1;rt++){for(lt=0,U=rt;U<=s;U++)lt=lt+Math.abs(k.get(U,rt-1));if(lt!==0){for(L=0,U=s;U>=rt;U--)m[U]=k.get(U,rt-1)/lt,L+=m[U]*m[U];for(F=Math.sqrt(L),m[rt]>0&&(F=-F),L=L-m[rt]*F,m[rt]=m[rt]-F,nt=rt;nt<I;nt++){for(E=0,U=s;U>=rt;U--)E+=m[U]*k.get(U,nt);for(E=E/L,U=rt;U<=s;U++)k.set(U,nt,k.get(U,nt)-E*m[U])}for(U=0;U<=s;U++){for(E=0,nt=s;nt>=rt;nt--)E+=m[nt]*k.get(U,nt);for(E=E/L,nt=rt;nt<=s;nt++)k.set(U,nt,k.get(U,nt)-E*m[nt])}m[rt]=lt*m[rt],k.set(rt,rt-1,lt*F)}}for(U=0;U<I;U++)for(nt=0;nt<I;nt++)e.set(U,nt,U===nt?1:0);for(rt=s-1;rt>=n+1;rt--)if(k.get(rt,rt-1)!==0){for(U=rt+1;U<=s;U++)m[U]=k.get(U,rt-1);for(nt=rt;nt<=s;nt++){for(F=0,U=rt;U<=s;U++)F+=m[U]*e.get(U,nt);for(F=F/m[rt]/k.get(rt,rt-1),U=rt;U<=s;U++)e.set(U,nt,e.get(U,nt)+F*m[U])}}}function Vn(I,k,m,e,n){var s=I-1,E=0,F=I-1,L=Number.EPSILON,U=0,nt=0,rt=0,lt=0,Mt=0,mt=0,It=0,Bt=0,ut,yt,Ot,Lt,At,jt,te,kt,Jt,se,we,Dt,Me,Ee,ee;for(ut=0;ut<I;ut++)for((ut<E||ut>F)&&(m[ut]=n.get(ut,ut),k[ut]=0),yt=Math.max(ut-1,0);yt<I;yt++)nt=nt+Math.abs(n.get(ut,yt));for(;s>=E;){for(Lt=s;Lt>E&&(mt=Math.abs(n.get(Lt-1,Lt-1))+Math.abs(n.get(Lt,Lt)),mt===0&&(mt=nt),!(Math.abs(n.get(Lt,Lt-1))<L*mt));)Lt--;if(Lt===s)n.set(s,s,n.get(s,s)+U),m[s]=n.get(s,s),k[s]=0,s--,Bt=0;else if(Lt===s-1){if(te=n.get(s,s-1)*n.get(s-1,s),rt=(n.get(s-1,s-1)-n.get(s,s))/2,lt=rt*rt+te,It=Math.sqrt(Math.abs(lt)),n.set(s,s,n.get(s,s)+U),n.set(s-1,s-1,n.get(s-1,s-1)+U),kt=n.get(s,s),lt>=0){for(It=rt>=0?rt+It:rt-It,m[s-1]=kt+It,m[s]=m[s-1],It!==0&&(m[s]=kt-te/It),k[s-1]=0,k[s]=0,kt=n.get(s,s-1),mt=Math.abs(kt)+Math.abs(It),rt=kt/mt,lt=It/mt,Mt=Math.sqrt(rt*rt+lt*lt),rt=rt/Mt,lt=lt/Mt,yt=s-1;yt<I;yt++)It=n.get(s-1,yt),n.set(s-1,yt,lt*It+rt*n.get(s,yt)),n.set(s,yt,lt*n.get(s,yt)-rt*It);for(ut=0;ut<=s;ut++)It=n.get(ut,s-1),n.set(ut,s-1,lt*It+rt*n.get(ut,s)),n.set(ut,s,lt*n.get(ut,s)-rt*It);for(ut=E;ut<=F;ut++)It=e.get(ut,s-1),e.set(ut,s-1,lt*It+rt*e.get(ut,s)),e.set(ut,s,lt*e.get(ut,s)-rt*It)}else m[s-1]=kt+rt,m[s]=kt+rt,k[s-1]=It,k[s]=-It;s=s-2,Bt=0}else{if(kt=n.get(s,s),Jt=0,te=0,Lt<s&&(Jt=n.get(s-1,s-1),te=n.get(s,s-1)*n.get(s-1,s)),Bt===10){for(U+=kt,ut=E;ut<=s;ut++)n.set(ut,ut,n.get(ut,ut)-kt);mt=Math.abs(n.get(s,s-1))+Math.abs(n.get(s-1,s-2)),kt=Jt=.75*mt,te=-.4375*mt*mt}if(Bt===30&&(mt=(Jt-kt)/2,mt=mt*mt+te,mt>0)){for(mt=Math.sqrt(mt),Jt<kt&&(mt=-mt),mt=kt-te/((Jt-kt)/2+mt),ut=E;ut<=s;ut++)n.set(ut,ut,n.get(ut,ut)-mt);U+=mt,kt=Jt=te=.964}for(Bt=Bt+1,At=s-2;At>=Lt&&(It=n.get(At,At),Mt=kt-It,mt=Jt-It,rt=(Mt*mt-te)/n.get(At+1,At)+n.get(At,At+1),lt=n.get(At+1,At+1)-It-Mt-mt,Mt=n.get(At+2,At+1),mt=Math.abs(rt)+Math.abs(lt)+Math.abs(Mt),rt=rt/mt,lt=lt/mt,Mt=Mt/mt,!(At===Lt||Math.abs(n.get(At,At-1))*(Math.abs(lt)+Math.abs(Mt))<L*(Math.abs(rt)*(Math.abs(n.get(At-1,At-1))+Math.abs(It)+Math.abs(n.get(At+1,At+1))))));)At--;for(ut=At+2;ut<=s;ut++)n.set(ut,ut-2,0),ut>At+2&&n.set(ut,ut-3,0);for(Ot=At;Ot<=s-1&&(Ee=Ot!==s-1,Ot!==At&&(rt=n.get(Ot,Ot-1),lt=n.get(Ot+1,Ot-1),Mt=Ee?n.get(Ot+2,Ot-1):0,kt=Math.abs(rt)+Math.abs(lt)+Math.abs(Mt),kt!==0&&(rt=rt/kt,lt=lt/kt,Mt=Mt/kt)),kt!==0);Ot++)if(mt=Math.sqrt(rt*rt+lt*lt+Mt*Mt),rt<0&&(mt=-mt),mt!==0){for(Ot!==At?n.set(Ot,Ot-1,-mt*kt):Lt!==At&&n.set(Ot,Ot-1,-n.get(Ot,Ot-1)),rt=rt+mt,kt=rt/mt,Jt=lt/mt,It=Mt/mt,lt=lt/rt,Mt=Mt/rt,yt=Ot;yt<I;yt++)rt=n.get(Ot,yt)+lt*n.get(Ot+1,yt),Ee&&(rt=rt+Mt*n.get(Ot+2,yt),n.set(Ot+2,yt,n.get(Ot+2,yt)-rt*It)),n.set(Ot,yt,n.get(Ot,yt)-rt*kt),n.set(Ot+1,yt,n.get(Ot+1,yt)-rt*Jt);for(ut=0;ut<=Math.min(s,Ot+3);ut++)rt=kt*n.get(ut,Ot)+Jt*n.get(ut,Ot+1),Ee&&(rt=rt+It*n.get(ut,Ot+2),n.set(ut,Ot+2,n.get(ut,Ot+2)-rt*Mt)),n.set(ut,Ot,n.get(ut,Ot)-rt),n.set(ut,Ot+1,n.get(ut,Ot+1)-rt*lt);for(ut=E;ut<=F;ut++)rt=kt*e.get(ut,Ot)+Jt*e.get(ut,Ot+1),Ee&&(rt=rt+It*e.get(ut,Ot+2),e.set(ut,Ot+2,e.get(ut,Ot+2)-rt*Mt)),e.set(ut,Ot,e.get(ut,Ot)-rt),e.set(ut,Ot+1,e.get(ut,Ot+1)-rt*lt)}}}if(nt!==0){for(s=I-1;s>=0;s--)if(rt=m[s],lt=k[s],lt===0)for(Lt=s,n.set(s,s,1),ut=s-1;ut>=0;ut--){for(te=n.get(ut,ut)-rt,Mt=0,yt=Lt;yt<=s;yt++)Mt=Mt+n.get(ut,yt)*n.get(yt,s);if(k[ut]<0)It=te,mt=Mt;else if(Lt=ut,k[ut]===0?n.set(ut,s,te!==0?-Mt/te:-Mt/(L*nt)):(kt=n.get(ut,ut+1),Jt=n.get(ut+1,ut),lt=(m[ut]-rt)*(m[ut]-rt)+k[ut]*k[ut],jt=(kt*mt-It*Mt)/lt,n.set(ut,s,jt),n.set(ut+1,s,Math.abs(kt)>Math.abs(It)?(-Mt-te*jt)/kt:(-mt-Jt*jt)/It)),jt=Math.abs(n.get(ut,s)),L*jt*jt>1)for(yt=ut;yt<=s;yt++)n.set(yt,s,n.get(yt,s)/jt)}else if(lt<0)for(Lt=s-1,Math.abs(n.get(s,s-1))>Math.abs(n.get(s-1,s))?(n.set(s-1,s-1,lt/n.get(s,s-1)),n.set(s-1,s,-(n.get(s,s)-rt)/n.get(s,s-1))):(ee=vn(0,-n.get(s-1,s),n.get(s-1,s-1)-rt,lt),n.set(s-1,s-1,ee[0]),n.set(s-1,s,ee[1])),n.set(s,s-1,0),n.set(s,s,1),ut=s-2;ut>=0;ut--){for(se=0,we=0,yt=Lt;yt<=s;yt++)se=se+n.get(ut,yt)*n.get(yt,s-1),we=we+n.get(ut,yt)*n.get(yt,s);if(te=n.get(ut,ut)-rt,k[ut]<0)It=te,Mt=se,mt=we;else if(Lt=ut,k[ut]===0?(ee=vn(-se,-we,te,lt),n.set(ut,s-1,ee[0]),n.set(ut,s,ee[1])):(kt=n.get(ut,ut+1),Jt=n.get(ut+1,ut),Dt=(m[ut]-rt)*(m[ut]-rt)+k[ut]*k[ut]-lt*lt,Me=(m[ut]-rt)*2*lt,Dt===0&&Me===0&&(Dt=L*nt*(Math.abs(te)+Math.abs(lt)+Math.abs(kt)+Math.abs(Jt)+Math.abs(It))),ee=vn(kt*Mt-It*se+lt*we,kt*mt-It*we-lt*se,Dt,Me),n.set(ut,s-1,ee[0]),n.set(ut,s,ee[1]),Math.abs(kt)>Math.abs(It)+Math.abs(lt)?(n.set(ut+1,s-1,(-se-te*n.get(ut,s-1)+lt*n.get(ut,s))/kt),n.set(ut+1,s,(-we-te*n.get(ut,s)-lt*n.get(ut,s-1))/kt)):(ee=vn(-Mt-Jt*n.get(ut,s-1),-mt-Jt*n.get(ut,s),It,lt),n.set(ut+1,s-1,ee[0]),n.set(ut+1,s,ee[1]))),jt=Math.max(Math.abs(n.get(ut,s-1)),Math.abs(n.get(ut,s))),L*jt*jt>1)for(yt=ut;yt<=s;yt++)n.set(yt,s-1,n.get(yt,s-1)/jt),n.set(yt,s,n.get(yt,s)/jt)}for(ut=0;ut<I;ut++)if(ut<E||ut>F)for(yt=ut;yt<I;yt++)e.set(ut,yt,n.get(ut,yt));for(yt=I-1;yt>=E;yt--)for(ut=E;ut<=F;ut++){for(It=0,Ot=E;Ot<=Math.min(yt,F);Ot++)It=It+e.get(ut,Ot)*n.get(Ot,yt);e.set(ut,yt,It)}}}function vn(I,k,m,e){var n,s;return Math.abs(m)>Math.abs(e)?(n=e/m,s=m+n*e,[(I+n*k)/s,(k-n*I)/s]):(n=m/e,s=e+n*m,[(n*I+k)/s,(n*k-I)/s])}var Mn=function(){function I(k){if(B(this,I),k=Ae.checkMatrix(k),!k.isSymmetric())throw new Error("Matrix is not symmetric");var m=k,e=m.rows,n=new Tt(e,e),s=!0,E,F,L;for(F=0;F<e;F++){var U=0;for(L=0;L<F;L++){var nt=0;for(E=0;E<L;E++)nt+=n.get(L,E)*n.get(F,E);nt=(m.get(F,L)-nt)/n.get(L,L),n.set(F,L,nt),U=U+nt*nt}for(U=m.get(F,F)-U,s&&(s=U>0),n.set(F,F,Math.sqrt(Math.max(U,0))),L=F+1;L<e;L++)n.set(F,L,0)}this.L=n,this.positiveDefinite=s}return K(I,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(m){m=Ae.checkMatrix(m);var e=this.L,n=e.rows;if(m.rows!==n)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var s=m.columns,E=m.clone(),F,L,U;for(U=0;U<n;U++)for(L=0;L<s;L++){for(F=0;F<U;F++)E.set(U,L,E.get(U,L)-E.get(F,L)*e.get(U,F));E.set(U,L,E.get(U,L)/e.get(U,U))}for(U=n-1;U>=0;U--)for(L=0;L<s;L++){for(F=U+1;F<n;F++)E.set(U,L,E.get(U,L)-E.get(F,L)*e.get(F,U));E.set(U,L,E.get(U,L)/e.get(U,U))}return E}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),I}(),Ln=K(function I(k){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B(this,I),k=Ae.checkMatrix(k);var e=m.Y,n=m.scaleScores,s=n===void 0?!1:n,E=m.maxIterations,F=E===void 0?1e3:E,L=m.terminationCriteria,U=L===void 0?1e-10:L,nt;if(e){if(z.isAnyArray(e)&&typeof e[0]=="number"?e=Tt.columnVector(e):e=Ae.checkMatrix(e),e.rows!==k.rows)throw new Error("Y should have the same number of rows as X");nt=e.getColumnVector(0)}else nt=k.getColumnVector(0);for(var rt=1,lt,Mt,mt,It,Bt=0;Bt<F&&rt>U;Bt++)mt=k.transpose().mmul(nt).div(nt.transpose().mmul(nt).get(0,0)),mt=mt.div(mt.norm()),lt=k.mmul(mt).div(mt.transpose().mmul(mt).get(0,0)),Bt>0&&(rt=lt.clone().sub(It).pow(2).sum()),It=lt.clone(),e?(Mt=e.transpose().mmul(lt).div(lt.transpose().mmul(lt).get(0,0)),Mt=Mt.div(Mt.norm()),nt=e.mmul(Mt).div(Mt.transpose().mmul(Mt).get(0,0))):nt=lt;if(e){var ut=k.transpose().mmul(lt).div(lt.transpose().mmul(lt).get(0,0));ut=ut.div(ut.norm());var yt=k.clone().sub(lt.clone().mmul(ut.transpose())),Ot=nt.transpose().mmul(lt).div(lt.transpose().mmul(lt).get(0,0)),Lt=e.clone().sub(lt.clone().mulS(Ot.get(0,0)).mmul(Mt.transpose()));this.t=lt,this.p=ut.transpose(),this.w=mt.transpose(),this.q=Mt,this.u=nt,this.s=lt.transpose().mmul(lt),this.xResidual=yt,this.yResidual=Lt,this.betas=Ot}else this.w=mt.transpose(),this.s=lt.transpose().mmul(lt).sqrt(),s?this.t=lt.clone().div(this.s.get(0,0)):this.t=lt,this.xResidual=k.sub(lt.mmul(mt.transpose()))});x.XA=Ht,x.a_=Mn,x.yQ=Mn,x.Hs=me,x.Ec=Un,x.dx=Un,x.LU=hn,x.Rm=hn,x.y3=Tt,x.qK=un,x.pb=an,x.j=dn,x.sO=Ce,x.BZ=Fn,x.EK=ze,x.Db=cn,x.Fx=An,x.tU=Pn,x.Ym=Ln,x.rs=Ln,x.QR=ln,x.TB=ln,x.oH=Ye,x.Sc=Ye,x.BN=ne,x.it=fn,x.$r=Ae,x.QM=Cn,x.AV=Rn,r=Tt,x.GH=gn,x.SO=kn,x.uZ=Bn,x.yU=Dn,x.F1=bn,x.re=zn},6724:function(f,x,t){f.exports={graphlib:t(68509),layout:t(13104),debug:t(36939),util:{time:t(92304).time,notime:t(92304).notime},version:t(90975)}},93143:function(f,x,t){"use strict";var r=t(8217),d=t(23742);f.exports={run:a,undo:u};function a(l){var g=l.graph().acyclicer==="greedy"?d(l,c(l)):v(l);r.forEach(g,function(o){var i=l.edge(o);l.removeEdge(o),i.forwardName=o.name,i.reversed=!0,l.setEdge(o.w,o.v,i,r.uniqueId("rev"))});function c(o){return function(i){return o.edge(i).weight}}}function v(l){var g=[],c={},o={};function i(h){r.has(o,h)||(o[h]=!0,c[h]=!0,r.forEach(l.outEdges(h),function(p){r.has(c,p.w)?g.push(p):i(p.w)}),delete c[h])}return r.forEach(l.nodes(),i),g}function u(l){r.forEach(l.edges(),function(g){var c=l.edge(g);if(c.reversed){l.removeEdge(g);var o=c.forwardName;delete c.reversed,delete c.forwardName,l.setEdge(g.w,g.v,c,o)}})}},24186:function(f,x,t){var r=t(8217),d=t(92304);f.exports=a;function a(u){function l(g){var c=u.children(g),o=u.node(g);if(c.length&&r.forEach(c,l),r.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,h=o.maxRank+1;i<h;++i)v(u,"borderLeft","_bl",g,o,i),v(u,"borderRight","_br",g,o,i)}}r.forEach(u.children(),l)}function v(u,l,g,c,o,i){var h={width:0,height:0,rank:i,borderType:l},p=o[l][i-1],y=d.addDummyNode(u,"border",h,g);o[l][i]=y,u.setParent(y,c),p&&u.setEdge(p,y,{weight:1})}},83032:function(f,x,t){"use strict";var r=t(8217);f.exports={adjust:d,undo:a};function d(i){var h=i.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&v(i)}function a(i){var h=i.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&l(i),(h==="lr"||h==="rl")&&(c(i),v(i))}function v(i){r.forEach(i.nodes(),function(h){u(i.node(h))}),r.forEach(i.edges(),function(h){u(i.edge(h))})}function u(i){var h=i.width;i.width=i.height,i.height=h}function l(i){r.forEach(i.nodes(),function(h){g(i.node(h))}),r.forEach(i.edges(),function(h){var p=i.edge(h);r.forEach(p.points,g),r.has(p,"y")&&g(p)})}function g(i){i.y=-i.y}function c(i){r.forEach(i.nodes(),function(h){o(i.node(h))}),r.forEach(i.edges(),function(h){var p=i.edge(h);r.forEach(p.points,o),r.has(p,"x")&&o(p)})}function o(i){var h=i.x;i.x=i.y,i.y=h}},40094:function(f){f.exports=x;function x(){var d={};d._next=d._prev=d,this._sentinel=d}x.prototype.dequeue=function(){var d=this._sentinel,a=d._prev;if(a!==d)return t(a),a},x.prototype.enqueue=function(d){var a=this._sentinel;d._prev&&d._next&&t(d),d._next=a._next,a._next._prev=d,a._next=d,d._prev=a},x.prototype.toString=function(){for(var d=[],a=this._sentinel,v=a._prev;v!==a;)d.push(JSON.stringify(v,r)),v=v._prev;return"["+d.join(", ")+"]"};function t(d){d._prev._next=d._next,d._next._prev=d._prev,delete d._next,delete d._prev}function r(d,a){if(d!=="_next"&&d!=="_prev")return a}},36939:function(f,x,t){var r=t(8217),d=t(92304),a=t(68509).Graph;f.exports={debugOrdering:v};function v(u){var l=d.buildLayerMatrix(u),g=new a({compound:!0,multigraph:!0}).setGraph({});return r.forEach(u.nodes(),function(c){g.setNode(c,{label:c}),g.setParent(c,"layer"+u.node(c).rank)}),r.forEach(u.edges(),function(c){g.setEdge(c.v,c.w,{},c.name)}),r.forEach(l,function(c,o){var i="layer"+o;g.setNode(i,{rank:"same"}),r.reduce(c,function(h,p){return g.setEdge(h,p,{style:"invis"}),p})}),g}},68509:function(f,x,t){var r;try{r=t(16239)}catch(d){}r||(r=window.graphlib),f.exports=r},23742:function(f,x,t){var r=t(8217),d=t(68509).Graph,a=t(40094);f.exports=u;var v=r.constant(1);function u(i,h){if(i.nodeCount()<=1)return[];var p=c(i,h||v),y=l(p.graph,p.buckets,p.zeroIdx);return r.flatten(r.map(y,function(A){return i.outEdges(A.v,A.w)}),!0)}function l(i,h,p){for(var y=[],A=h[h.length-1],Y=h[0],$;i.nodeCount();){for(;$=Y.dequeue();)g(i,h,p,$);for(;$=A.dequeue();)g(i,h,p,$);if(i.nodeCount()){for(var B=h.length-2;B>0;--B)if($=h[B].dequeue(),$){y=y.concat(g(i,h,p,$,!0));break}}}return y}function g(i,h,p,y,A){var Y=A?[]:void 0;return r.forEach(i.inEdges(y.v),function($){var B=i.edge($),K=i.node($.v);A&&Y.push({v:$.v,w:$.w}),K.out-=B,o(h,p,K)}),r.forEach(i.outEdges(y.v),function($){var B=i.edge($),K=$.w,z=i.node(K);z.in-=B,o(h,p,z)}),i.removeNode(y.v),Y}function c(i,h){var p=new d,y=0,A=0;r.forEach(i.nodes(),function(B){p.setNode(B,{v:B,in:0,out:0})}),r.forEach(i.edges(),function(B){var K=p.edge(B.v,B.w)||0,z=h(B),G=K+z;p.setEdge(B.v,B.w,G),A=Math.max(A,p.node(B.v).out+=z),y=Math.max(y,p.node(B.w).in+=z)});var Y=r.range(A+y+3).map(function(){return new a}),$=y+1;return r.forEach(p.nodes(),function(B){o(Y,$,p.node(B))}),{graph:p,buckets:Y,zeroIdx:$}}function o(i,h,p){p.out?p.in?i[p.out-p.in+h].enqueue(p):i[i.length-1].enqueue(p):i[0].enqueue(p)}},13104:function(f,x,t){"use strict";var r=t(8217),d=t(93143),a=t(67099),v=t(65511),u=t(92304).normalizeRanks,l=t(24685),g=t(92304).removeEmptyRanks,c=t(59832),o=t(24186),i=t(83032),h=t(89717),p=t(63363),y=t(92304),A=t(68509).Graph;f.exports=Y;function Y(et,at){var ht=at&&at.debugTiming?y.time:y.notime;ht("layout",function(){var ct=ht("  buildLayoutGraph",function(){return b(et)});ht("  runLayout",function(){$(ct,ht)}),ht("  updateInputGraph",function(){B(et,ct)})})}function $(et,at){at("    makeSpaceForEdgeLabels",function(){D(et)}),at("    removeSelfEdges",function(){ft(et)}),at("    acyclic",function(){d.run(et)}),at("    nestingGraph.run",function(){c.run(et)}),at("    rank",function(){v(y.asNonCompoundGraph(et))}),at("    injectEdgeLabelProxies",function(){T(et)}),at("    removeEmptyRanks",function(){g(et)}),at("    nestingGraph.cleanup",function(){c.cleanup(et)}),at("    normalizeRanks",function(){u(et)}),at("    assignRankMinMax",function(){Z(et)}),at("    removeEdgeLabelProxies",function(){V(et)}),at("    normalize.run",function(){a.run(et)}),at("    parentDummyChains",function(){l(et)}),at("    addBorderSegments",function(){o(et)}),at("    order",function(){h(et)}),at("    insertSelfEdges",function(){vt(et)}),at("    adjustCoordinateSystem",function(){i.adjust(et)}),at("    position",function(){p(et)}),at("    positionSelfEdges",function(){pt(et)}),at("    removeBorderNodes",function(){it(et)}),at("    normalize.undo",function(){a.undo(et)}),at("    fixupEdgeLabelCoords",function(){st(et)}),at("    undoCoordinateSystem",function(){i.undo(et)}),at("    translateGraph",function(){J(et)}),at("    assignNodeIntersects",function(){H(et)}),at("    reversePoints",function(){tt(et)}),at("    acyclic.undo",function(){d.undo(et)})}function B(et,at){r.forEach(et.nodes(),function(ht){var ct=et.node(ht),Nt=at.node(ht);ct&&(ct.x=Nt.x,ct.y=Nt.y,at.children(ht).length&&(ct.width=Nt.width,ct.height=Nt.height))}),r.forEach(et.edges(),function(ht){var ct=et.edge(ht),Nt=at.edge(ht);ct.points=Nt.points,r.has(Nt,"x")&&(ct.x=Nt.x,ct.y=Nt.y)}),et.graph().width=at.graph().width,et.graph().height=at.graph().height}var K=["nodesep","edgesep","ranksep","marginx","marginy"],z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},G=["acyclicer","ranker","rankdir","align"],P=["width","height"],O={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],R={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function b(et){var at=new A({multigraph:!0,compound:!0}),ht=wt(et.graph());return at.setGraph(r.merge({},z,xt(ht,K),r.pick(ht,G))),r.forEach(et.nodes(),function(ct){var Nt=wt(et.node(ct));at.setNode(ct,r.defaults(xt(Nt,P),O)),at.setParent(ct,et.parent(ct))}),r.forEach(et.edges(),function(ct){var Nt=wt(et.edge(ct));at.setEdge(ct,r.merge({},R,xt(Nt,S),r.pick(Nt,M)))}),at}function D(et){var at=et.graph();at.ranksep/=2,r.forEach(et.edges(),function(ht){var ct=et.edge(ht);ct.minlen*=2,ct.labelpos.toLowerCase()!=="c"&&(at.rankdir==="TB"||at.rankdir==="BT"?ct.width+=ct.labeloffset:ct.height+=ct.labeloffset)})}function T(et){r.forEach(et.edges(),function(at){var ht=et.edge(at);if(ht.width&&ht.height){var ct=et.node(at.v),Nt=et.node(at.w),Et={rank:(Nt.rank-ct.rank)/2+ct.rank,e:at};y.addDummyNode(et,"edge-proxy",Et,"_ep")}})}function Z(et){var at=0;r.forEach(et.nodes(),function(ht){var ct=et.node(ht);ct.borderTop&&(ct.minRank=et.node(ct.borderTop).rank,ct.maxRank=et.node(ct.borderBottom).rank,at=r.max(at,ct.maxRank))}),et.graph().maxRank=at}function V(et){r.forEach(et.nodes(),function(at){var ht=et.node(at);ht.dummy==="edge-proxy"&&(et.edge(ht.e).labelRank=ht.rank,et.removeNode(at))})}function J(et){var at=Number.POSITIVE_INFINITY,ht=0,ct=Number.POSITIVE_INFINITY,Nt=0,Et=et.graph(),bt=Et.marginx||0,St=Et.marginy||0;function Ft(Ut){var Yt=Ut.x,Wt=Ut.y,re=Ut.width,Zt=Ut.height;at=Math.min(at,Yt-re/2),ht=Math.max(ht,Yt+re/2),ct=Math.min(ct,Wt-Zt/2),Nt=Math.max(Nt,Wt+Zt/2)}r.forEach(et.nodes(),function(Ut){Ft(et.node(Ut))}),r.forEach(et.edges(),function(Ut){var Yt=et.edge(Ut);r.has(Yt,"x")&&Ft(Yt)}),at-=bt,ct-=St,r.forEach(et.nodes(),function(Ut){var Yt=et.node(Ut);Yt.x-=at,Yt.y-=ct}),r.forEach(et.edges(),function(Ut){var Yt=et.edge(Ut);r.forEach(Yt.points,function(Wt){Wt.x-=at,Wt.y-=ct}),r.has(Yt,"x")&&(Yt.x-=at),r.has(Yt,"y")&&(Yt.y-=ct)}),Et.width=ht-at+bt,Et.height=Nt-ct+St}function H(et){r.forEach(et.edges(),function(at){var ht=et.edge(at),ct=et.node(at.v),Nt=et.node(at.w),Et,bt;ht.points?(Et=ht.points[0],bt=ht.points[ht.points.length-1]):(ht.points=[],Et=Nt,bt=ct),ht.points.unshift(y.intersectRect(ct,Et)),ht.points.push(y.intersectRect(Nt,bt))})}function st(et){r.forEach(et.edges(),function(at){var ht=et.edge(at);if(r.has(ht,"x"))switch((ht.labelpos==="l"||ht.labelpos==="r")&&(ht.width-=ht.labeloffset),ht.labelpos){case"l":ht.x-=ht.width/2+ht.labeloffset;break;case"r":ht.x+=ht.width/2+ht.labeloffset;break}})}function tt(et){r.forEach(et.edges(),function(at){var ht=et.edge(at);ht.reversed&&ht.points.reverse()})}function it(et){r.forEach(et.nodes(),function(at){if(et.children(at).length){var ht=et.node(at),ct=et.node(ht.borderTop),Nt=et.node(ht.borderBottom),Et=et.node(r.last(ht.borderLeft)),bt=et.node(r.last(ht.borderRight));ht.width=Math.abs(bt.x-Et.x),ht.height=Math.abs(Nt.y-ct.y),ht.x=Et.x+ht.width/2,ht.y=ct.y+ht.height/2}}),r.forEach(et.nodes(),function(at){et.node(at).dummy==="border"&&et.removeNode(at)})}function ft(et){r.forEach(et.edges(),function(at){if(at.v===at.w){var ht=et.node(at.v);ht.selfEdges||(ht.selfEdges=[]),ht.selfEdges.push({e:at,label:et.edge(at)}),et.removeEdge(at)}})}function vt(et){var at=y.buildLayerMatrix(et);r.forEach(at,function(ht){var ct=0;r.forEach(ht,function(Nt,Et){var bt=et.node(Nt);bt.order=Et+ct,r.forEach(bt.selfEdges,function(St){y.addDummyNode(et,"selfedge",{width:St.label.width,height:St.label.height,rank:bt.rank,order:Et+ ++ct,e:St.e,label:St.label},"_se")}),delete bt.selfEdges})})}function pt(et){r.forEach(et.nodes(),function(at){var ht=et.node(at);if(ht.dummy==="selfedge"){var ct=et.node(ht.e.v),Nt=ct.x+ct.width/2,Et=ct.y,bt=ht.x-Nt,St=ct.height/2;et.setEdge(ht.e,ht.label),et.removeNode(at),ht.label.points=[{x:Nt+2*bt/3,y:Et-St},{x:Nt+5*bt/6,y:Et-St},{x:Nt+bt,y:Et},{x:Nt+5*bt/6,y:Et+St},{x:Nt+2*bt/3,y:Et+St}],ht.label.x=ht.x,ht.label.y=ht.y}})}function xt(et,at){return r.mapValues(r.pick(et,at),Number)}function wt(et){var at={};return r.forEach(et,function(ht,ct){at[ct.toLowerCase()]=ht}),at}},8217:function(f,x,t){var r;try{r={cloneDeep:t(32222),constant:t(64806),defaults:t(91099),each:t(15828),filter:t(3149),find:t(33170),flatten:t(22612),forEach:t(17489),forIn:t(37229),has:t(56611),isUndefined:t(89300),last:t(25674),map:t(65512),mapValues:t(65632),max:t(80212),merge:t(67929),min:t(71516),minBy:t(88371),now:t(76668),pick:t(19334),range:t(61178),reduce:t(6355),sortBy:t(84715),uniqueId:t(53274),values:t(61017),zipObject:t(64058)}}catch(d){}r||(r=window._),f.exports=r},59832:function(f,x,t){var r=t(8217),d=t(92304);f.exports={run:a,cleanup:g};function a(c){var o=d.addDummyNode(c,"root",{},"_root"),i=u(c),h=r.max(r.values(i))-1,p=2*h+1;c.graph().nestingRoot=o,r.forEach(c.edges(),function(A){c.edge(A).minlen*=p});var y=l(c)+1;r.forEach(c.children(),function(A){v(c,o,p,y,h,i,A)}),c.graph().nodeRankFactor=p}function v(c,o,i,h,p,y,A){var Y=c.children(A);if(!Y.length){A!==o&&c.setEdge(o,A,{weight:0,minlen:i});return}var $=d.addBorderNode(c,"_bt"),B=d.addBorderNode(c,"_bb"),K=c.node(A);c.setParent($,A),K.borderTop=$,c.setParent(B,A),K.borderBottom=B,r.forEach(Y,function(z){v(c,o,i,h,p,y,z);var G=c.node(z),P=G.borderTop?G.borderTop:z,O=G.borderBottom?G.borderBottom:z,S=G.borderTop?h:2*h,R=P!==O?1:p-y[A]+1;c.setEdge($,P,{weight:S,minlen:R,nestingEdge:!0}),c.setEdge(O,B,{weight:S,minlen:R,nestingEdge:!0})}),c.parent(A)||c.setEdge(o,$,{weight:0,minlen:p+y[A]})}function u(c){var o={};function i(h,p){var y=c.children(h);y&&y.length&&r.forEach(y,function(A){i(A,p+1)}),o[h]=p}return r.forEach(c.children(),function(h){i(h,1)}),o}function l(c){return r.reduce(c.edges(),function(o,i){return o+c.edge(i).weight},0)}function g(c){var o=c.graph();c.removeNode(o.nestingRoot),delete o.nestingRoot,r.forEach(c.edges(),function(i){var h=c.edge(i);h.nestingEdge&&c.removeEdge(i)})}},67099:function(f,x,t){"use strict";var r=t(8217),d=t(92304);f.exports={run:a,undo:u};function a(l){l.graph().dummyChains=[],r.forEach(l.edges(),function(g){v(l,g)})}function v(l,g){var c=g.v,o=l.node(c).rank,i=g.w,h=l.node(i).rank,p=g.name,y=l.edge(g),A=y.labelRank;if(h!==o+1){l.removeEdge(g);var Y,$,B;for(B=0,++o;o<h;++B,++o)y.points=[],$={width:0,height:0,edgeLabel:y,edgeObj:g,rank:o},Y=d.addDummyNode(l,"edge",$,"_d"),o===A&&($.width=y.width,$.height=y.height,$.dummy="edge-label",$.labelpos=y.labelpos),l.setEdge(c,Y,{weight:y.weight},p),B===0&&l.graph().dummyChains.push(Y),c=Y;l.setEdge(c,i,{weight:y.weight},p)}}function u(l){r.forEach(l.graph().dummyChains,function(g){var c=l.node(g),o=c.edgeLabel,i;for(l.setEdge(c.edgeObj,o);c.dummy;)i=l.successors(g)[0],l.removeNode(g),o.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(o.x=c.x,o.y=c.y,o.width=c.width,o.height=c.height),g=i,c=l.node(g)})}},72952:function(f,x,t){var r=t(8217);f.exports=d;function d(a,v,u){var l={},g;r.forEach(u,function(c){for(var o=a.parent(c),i,h;o;){if(i=a.parent(o),i?(h=l[i],l[i]=o):(h=g,g=o),h&&h!==o){v.setEdge(h,o);return}o=i}})}},22207:function(f,x,t){var r=t(8217);f.exports=d;function d(a,v){return r.map(v,function(u){var l=a.inEdges(u);if(l.length){var g=r.reduce(l,function(c,o){var i=a.edge(o),h=a.node(o.v);return{sum:c.sum+i.weight*h.order,weight:c.weight+i.weight}},{sum:0,weight:0});return{v:u,barycenter:g.sum/g.weight,weight:g.weight}}else return{v:u}})}},9643:function(f,x,t){var r=t(8217),d=t(68509).Graph;f.exports=a;function a(u,l,g){var c=v(u),o=new d({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(i){return u.node(i)});return r.forEach(u.nodes(),function(i){var h=u.node(i),p=u.parent(i);(h.rank===l||h.minRank<=l&&l<=h.maxRank)&&(o.setNode(i),o.setParent(i,p||c),r.forEach(u[g](i),function(y){var A=y.v===i?y.w:y.v,Y=o.edge(A,i),$=r.isUndefined(Y)?0:Y.weight;o.setEdge(A,i,{weight:u.edge(y).weight+$})}),r.has(h,"minRank")&&o.setNode(i,{borderLeft:h.borderLeft[l],borderRight:h.borderRight[l]}))}),o}function v(u){for(var l;u.hasNode(l=r.uniqueId("_root")););return l}},51094:function(f,x,t){"use strict";var r=t(8217);f.exports=d;function d(v,u){for(var l=0,g=1;g<u.length;++g)l+=a(v,u[g-1],u[g]);return l}function a(v,u,l){for(var g=r.zipObject(l,r.map(l,function(y,A){return A})),c=r.flatten(r.map(u,function(y){return r.sortBy(r.map(v.outEdges(y),function(A){return{pos:g[A.w],weight:v.edge(A).weight}}),"pos")}),!0),o=1;o<l.length;)o<<=1;var i=2*o-1;o-=1;var h=r.map(new Array(i),function(){return 0}),p=0;return r.forEach(c.forEach(function(y){var A=y.pos+o;h[A]+=y.weight;for(var Y=0;A>0;)A%2&&(Y+=h[A+1]),A=A-1>>1,h[A]+=y.weight;p+=y.weight*Y})),p}},89717:function(f,x,t){"use strict";var r=t(8217),d=t(89853),a=t(51094),v=t(66675),u=t(9643),l=t(72952),g=t(68509).Graph,c=t(92304);f.exports=o;function o(y){var A=c.maxRank(y),Y=i(y,r.range(1,A+1),"inEdges"),$=i(y,r.range(A-1,-1,-1),"outEdges"),B=d(y);p(y,B);for(var K=Number.POSITIVE_INFINITY,z,G=0,P=0;P<4;++G,++P){h(G%2?Y:$,G%4>=2),B=c.buildLayerMatrix(y);var O=a(y,B);O<K&&(P=0,z=r.cloneDeep(B),K=O)}p(y,z)}function i(y,A,Y){return r.map(A,function($){return u(y,$,Y)})}function h(y,A){var Y=new g;r.forEach(y,function($){var B=$.graph().root,K=v($,B,Y,A);r.forEach(K.vs,function(z,G){$.node(z).order=G}),l($,Y,K.vs)})}function p(y,A){r.forEach(A,function(Y){r.forEach(Y,function($,B){y.node($).order=B})})}},89853:function(f,x,t){"use strict";var r=t(8217);f.exports=d;function d(a){var v={},u=r.filter(a.nodes(),function(i){return!a.children(i).length}),l=r.max(r.map(u,function(i){return a.node(i).rank})),g=r.map(r.range(l+1),function(){return[]});function c(i){if(!r.has(v,i)){v[i]=!0;var h=a.node(i);g[h.rank].push(i),r.forEach(a.successors(i),c)}}var o=r.sortBy(u,function(i){return a.node(i).rank});return r.forEach(o,c),g}},5171:function(f,x,t){"use strict";var r=t(8217);f.exports=d;function d(u,l){var g={};r.forEach(u,function(o,i){var h=g[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};r.isUndefined(o.barycenter)||(h.barycenter=o.barycenter,h.weight=o.weight)}),r.forEach(l.edges(),function(o){var i=g[o.v],h=g[o.w];!r.isUndefined(i)&&!r.isUndefined(h)&&(h.indegree++,i.out.push(g[o.w]))});var c=r.filter(g,function(o){return!o.indegree});return a(c)}function a(u){var l=[];function g(i){return function(h){h.merged||(r.isUndefined(h.barycenter)||r.isUndefined(i.barycenter)||h.barycenter>=i.barycenter)&&v(i,h)}}function c(i){return function(h){h.in.push(i),--h.indegree===0&&u.push(h)}}for(;u.length;){var o=u.pop();l.push(o),r.forEach(o.in.reverse(),g(o)),r.forEach(o.out,c(o))}return r.map(r.filter(l,function(i){return!i.merged}),function(i){return r.pick(i,["vs","i","barycenter","weight"])})}function v(u,l){var g=0,c=0;u.weight&&(g+=u.barycenter*u.weight,c+=u.weight),l.weight&&(g+=l.barycenter*l.weight,c+=l.weight),u.vs=l.vs.concat(u.vs),u.barycenter=g/c,u.weight=c,u.i=Math.min(l.i,u.i),l.merged=!0}},66675:function(f,x,t){var r=t(8217),d=t(22207),a=t(5171),v=t(45737);f.exports=u;function u(c,o,i,h){var p=c.children(o),y=c.node(o),A=y?y.borderLeft:void 0,Y=y?y.borderRight:void 0,$={};A&&(p=r.filter(p,function(O){return O!==A&&O!==Y}));var B=d(c,p);r.forEach(B,function(O){if(c.children(O.v).length){var S=u(c,O.v,i,h);$[O.v]=S,r.has(S,"barycenter")&&g(O,S)}});var K=a(B,i);l(K,$);var z=v(K,h);if(A&&(z.vs=r.flatten([A,z.vs,Y],!0),c.predecessors(A).length)){var G=c.node(c.predecessors(A)[0]),P=c.node(c.predecessors(Y)[0]);r.has(z,"barycenter")||(z.barycenter=0,z.weight=0),z.barycenter=(z.barycenter*z.weight+G.order+P.order)/(z.weight+2),z.weight+=2}return z}function l(c,o){r.forEach(c,function(i){i.vs=r.flatten(i.vs.map(function(h){return o[h]?o[h].vs:h}),!0)})}function g(c,o){r.isUndefined(c.barycenter)?(c.barycenter=o.barycenter,c.weight=o.weight):(c.barycenter=(c.barycenter*c.weight+o.barycenter*o.weight)/(c.weight+o.weight),c.weight+=o.weight)}},45737:function(f,x,t){var r=t(8217),d=t(92304);f.exports=a;function a(l,g){var c=d.partition(l,function($){return r.has($,"barycenter")}),o=c.lhs,i=r.sortBy(c.rhs,function($){return-$.i}),h=[],p=0,y=0,A=0;o.sort(u(!!g)),A=v(h,i,A),r.forEach(o,function($){A+=$.vs.length,h.push($.vs),p+=$.barycenter*$.weight,y+=$.weight,A=v(h,i,A)});var Y={vs:r.flatten(h,!0)};return y&&(Y.barycenter=p/y,Y.weight=y),Y}function v(l,g,c){for(var o;g.length&&(o=r.last(g)).i<=c;)g.pop(),l.push(o.vs),c++;return c}function u(l){return function(g,c){return g.barycenter<c.barycenter?-1:g.barycenter>c.barycenter?1:l?c.i-g.i:g.i-c.i}}},24685:function(f,x,t){var r=t(8217);f.exports=d;function d(u){var l=v(u);r.forEach(u.graph().dummyChains,function(g){for(var c=u.node(g),o=c.edgeObj,i=a(u,l,o.v,o.w),h=i.path,p=i.lca,y=0,A=h[y],Y=!0;g!==o.w;){if(c=u.node(g),Y){for(;(A=h[y])!==p&&u.node(A).maxRank<c.rank;)y++;A===p&&(Y=!1)}if(!Y){for(;y<h.length-1&&u.node(A=h[y+1]).minRank<=c.rank;)y++;A=h[y]}u.setParent(g,A),g=u.successors(g)[0]}})}function a(u,l,g,c){var o=[],i=[],h=Math.min(l[g].low,l[c].low),p=Math.max(l[g].lim,l[c].lim),y,A;y=g;do y=u.parent(y),o.push(y);while(y&&(l[y].low>h||p>l[y].lim));for(A=y,y=c;(y=u.parent(y))!==A;)i.push(y);return{path:o.concat(i.reverse()),lca:A}}function v(u){var l={},g=0;function c(o){var i=g;r.forEach(u.children(o),c),l[o]={low:i,lim:g++}}return r.forEach(u.children(),c),l}},21006:function(f,x,t){"use strict";var r=t(8217),d=t(68509).Graph,a=t(92304);f.exports={positionX:Y,findType1Conflicts:v,findType2Conflicts:u,addConflict:g,hasConflict:c,verticalAlignment:o,horizontalCompaction:i,alignCoordinates:y,findSmallestWidthAlignment:p,balance:A};function v(K,z){var G={};function P(O,S){var R=0,M=0,b=O.length,D=r.last(S);return r.forEach(S,function(T,Z){var V=l(K,T),J=V?K.node(V).order:b;(V||T===D)&&(r.forEach(S.slice(M,Z+1),function(H){r.forEach(K.predecessors(H),function(st){var tt=K.node(st),it=tt.order;(it<R||J<it)&&!(tt.dummy&&K.node(H).dummy)&&g(G,st,H)})}),M=Z+1,R=J)}),S}return r.reduce(z,P),G}function u(K,z){var G={};function P(S,R,M,b,D){var T;r.forEach(r.range(R,M),function(Z){T=S[Z],K.node(T).dummy&&r.forEach(K.predecessors(T),function(V){var J=K.node(V);J.dummy&&(J.order<b||J.order>D)&&g(G,V,T)})})}function O(S,R){var M=-1,b,D=0;return r.forEach(R,function(T,Z){if(K.node(T).dummy==="border"){var V=K.predecessors(T);V.length&&(b=K.node(V[0]).order,P(R,D,Z,M,b),D=Z,M=b)}P(R,D,R.length,b,S.length)}),R}return r.reduce(z,O),G}function l(K,z){if(K.node(z).dummy)return r.find(K.predecessors(z),function(G){return K.node(G).dummy})}function g(K,z,G){if(z>G){var P=z;z=G,G=P}var O=K[z];O||(K[z]=O={}),O[G]=!0}function c(K,z,G){if(z>G){var P=z;z=G,G=P}return r.has(K[z],G)}function o(K,z,G,P){var O={},S={},R={};return r.forEach(z,function(M){r.forEach(M,function(b,D){O[b]=b,S[b]=b,R[b]=D})}),r.forEach(z,function(M){var b=-1;r.forEach(M,function(D){var T=P(D);if(T.length){T=r.sortBy(T,function(st){return R[st]});for(var Z=(T.length-1)/2,V=Math.floor(Z),J=Math.ceil(Z);V<=J;++V){var H=T[V];S[D]===D&&b<R[H]&&!c(G,D,H)&&(S[H]=D,S[D]=O[D]=O[H],b=R[H])}}})}),{root:O,align:S}}function i(K,z,G,P,O){var S={},R=h(K,z,G,O),M=O?"borderLeft":"borderRight";function b(Z,V){for(var J=R.nodes(),H=J.pop(),st={};H;)st[H]?Z(H):(st[H]=!0,J.push(H),J=J.concat(V(H))),H=J.pop()}function D(Z){S[Z]=R.inEdges(Z).reduce(function(V,J){return Math.max(V,S[J.v]+R.edge(J))},0)}function T(Z){var V=R.outEdges(Z).reduce(function(H,st){return Math.min(H,S[st.w]-R.edge(st))},Number.POSITIVE_INFINITY),J=K.node(Z);V!==Number.POSITIVE_INFINITY&&J.borderType!==M&&(S[Z]=Math.max(S[Z],V))}return b(D,R.predecessors.bind(R)),b(T,R.successors.bind(R)),r.forEach(P,function(Z){S[Z]=S[G[Z]]}),S}function h(K,z,G,P){var O=new d,S=K.graph(),R=$(S.nodesep,S.edgesep,P);return r.forEach(z,function(M){var b;r.forEach(M,function(D){var T=G[D];if(O.setNode(T),b){var Z=G[b],V=O.edge(Z,T);O.setEdge(Z,T,Math.max(R(K,D,b),V||0))}b=D})}),O}function p(K,z){return r.minBy(r.values(z),function(G){var P=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY;return r.forIn(G,function(S,R){var M=B(K,R)/2;P=Math.max(S+M,P),O=Math.min(S-M,O)}),P-O})}function y(K,z){var G=r.values(z),P=r.min(G),O=r.max(G);r.forEach(["u","d"],function(S){r.forEach(["l","r"],function(R){var M=S+R,b=K[M],D;if(b!==z){var T=r.values(b);D=R==="l"?P-r.min(T):O-r.max(T),D&&(K[M]=r.mapValues(b,function(Z){return Z+D}))}})})}function A(K,z){return r.mapValues(K.ul,function(G,P){if(z)return K[z.toLowerCase()][P];var O=r.sortBy(r.map(K,P));return(O[1]+O[2])/2})}function Y(K){var z=a.buildLayerMatrix(K),G=r.merge(v(K,z),u(K,z)),P={},O;r.forEach(["u","d"],function(R){O=R==="u"?z:r.values(z).reverse(),r.forEach(["l","r"],function(M){M==="r"&&(O=r.map(O,function(Z){return r.values(Z).reverse()}));var b=(R==="u"?K.predecessors:K.successors).bind(K),D=o(K,O,G,b),T=i(K,O,D.root,D.align,M==="r");M==="r"&&(T=r.mapValues(T,function(Z){return-Z})),P[R+M]=T})});var S=p(K,P);return y(P,S),A(P,K.graph().align)}function $(K,z,G){return function(P,O,S){var R=P.node(O),M=P.node(S),b=0,D;if(b+=R.width/2,r.has(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":D=-R.width/2;break;case"r":D=R.width/2;break}if(D&&(b+=G?D:-D),D=0,b+=(R.dummy?z:K)/2,b+=(M.dummy?z:K)/2,b+=M.width/2,r.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":D=M.width/2;break;case"r":D=-M.width/2;break}return D&&(b+=G?D:-D),D=0,b}}function B(K,z){return K.node(z).width}},63363:function(f,x,t){"use strict";var r=t(8217),d=t(92304),a=t(21006).positionX;f.exports=v;function v(l){l=d.asNonCompoundGraph(l),u(l),r.forEach(a(l),function(g,c){l.node(c).x=g})}function u(l){var g=d.buildLayerMatrix(l),c=l.graph().ranksep,o=0;r.forEach(g,function(i){var h=r.max(r.map(i,function(p){return l.node(p).height}));r.forEach(i,function(p){l.node(p).y=o+h/2}),o+=h+c})}},31848:function(f,x,t){"use strict";var r=t(8217),d=t(68509).Graph,a=t(74211).slack;f.exports=v;function v(c){var o=new d({directed:!1}),i=c.nodes()[0],h=c.nodeCount();o.setNode(i,{});for(var p,y;u(o,c)<h;)p=l(o,c),y=o.hasNode(p.v)?a(c,p):-a(c,p),g(o,c,y);return o}function u(c,o){function i(h){r.forEach(o.nodeEdges(h),function(p){var y=p.v,A=h===y?p.w:y;!c.hasNode(A)&&!a(o,p)&&(c.setNode(A,{}),c.setEdge(h,A,{}),i(A))})}return r.forEach(c.nodes(),i),c.nodeCount()}function l(c,o){return r.minBy(o.edges(),function(i){if(c.hasNode(i.v)!==c.hasNode(i.w))return a(o,i)})}function g(c,o,i){r.forEach(c.nodes(),function(h){o.node(h).rank+=i})}},65511:function(f,x,t){"use strict";var r=t(74211),d=r.longestPath,a=t(31848),v=t(37736);f.exports=u;function u(o){switch(o.graph().ranker){case"network-simplex":c(o);break;case"tight-tree":g(o);break;case"longest-path":l(o);break;default:c(o)}}var l=d;function g(o){d(o),a(o)}function c(o){v(o)}},37736:function(f,x,t){"use strict";var r=t(8217),d=t(31848),a=t(74211).slack,v=t(74211).longestPath,u=t(68509).alg.preorder,l=t(68509).alg.postorder,g=t(92304).simplify;f.exports=c,c.initLowLimValues=p,c.initCutValues=o,c.calcCutValue=h,c.leaveEdge=A,c.enterEdge=Y,c.exchangeEdges=$;function c(G){G=g(G),v(G);var P=d(G);p(P),o(P,G);for(var O,S;O=A(P);)S=Y(P,G,O),$(P,G,O,S)}function o(G,P){var O=l(G,G.nodes());O=O.slice(0,O.length-1),r.forEach(O,function(S){i(G,P,S)})}function i(G,P,O){var S=G.node(O),R=S.parent;G.edge(O,R).cutvalue=h(G,P,O)}function h(G,P,O){var S=G.node(O),R=S.parent,M=!0,b=P.edge(O,R),D=0;return b||(M=!1,b=P.edge(R,O)),D=b.weight,r.forEach(P.nodeEdges(O),function(T){var Z=T.v===O,V=Z?T.w:T.v;if(V!==R){var J=Z===M,H=P.edge(T).weight;if(D+=J?H:-H,K(G,O,V)){var st=G.edge(O,V).cutvalue;D+=J?-st:st}}}),D}function p(G,P){arguments.length<2&&(P=G.nodes()[0]),y(G,{},1,P)}function y(G,P,O,S,R){var M=O,b=G.node(S);return P[S]=!0,r.forEach(G.neighbors(S),function(D){r.has(P,D)||(O=y(G,P,O,D,S))}),b.low=M,b.lim=O++,R?b.parent=R:delete b.parent,O}function A(G){return r.find(G.edges(),function(P){return G.edge(P).cutvalue<0})}function Y(G,P,O){var S=O.v,R=O.w;P.hasEdge(S,R)||(S=O.w,R=O.v);var M=G.node(S),b=G.node(R),D=M,T=!1;M.lim>b.lim&&(D=b,T=!0);var Z=r.filter(P.edges(),function(V){return T===z(G,G.node(V.v),D)&&T!==z(G,G.node(V.w),D)});return r.minBy(Z,function(V){return a(P,V)})}function $(G,P,O,S){var R=O.v,M=O.w;G.removeEdge(R,M),G.setEdge(S.v,S.w,{}),p(G),o(G,P),B(G,P)}function B(G,P){var O=r.find(G.nodes(),function(R){return!P.node(R).parent}),S=u(G,O);S=S.slice(1),r.forEach(S,function(R){var M=G.node(R).parent,b=P.edge(R,M),D=!1;b||(b=P.edge(M,R),D=!0),P.node(R).rank=P.node(M).rank+(D?b.minlen:-b.minlen)})}function K(G,P,O){return G.hasEdge(P,O)}function z(G,P,O){return O.low<=P.lim&&P.lim<=O.lim}},74211:function(f,x,t){"use strict";var r=t(8217);f.exports={longestPath:d,slack:a};function d(v){var u={};function l(g){var c=v.node(g);if(r.has(u,g))return c.rank;u[g]=!0;var o=r.min(r.map(v.outEdges(g),function(i){return l(i.w)-v.edge(i).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),c.rank=o}r.forEach(v.sources(),l)}function a(v,u){return v.node(u.w).rank-v.node(u.v).rank-v.edge(u).minlen}},92304:function(f,x,t){"use strict";var r=t(8217),d=t(68509).Graph;f.exports={addDummyNode:a,simplify:v,asNonCompoundGraph:u,successorWeights:l,predecessorWeights:g,intersectRect:c,buildLayerMatrix:o,normalizeRanks:i,removeEmptyRanks:h,addBorderNode:p,maxRank:y,partition:A,time:Y,notime:$};function a(B,K,z,G){var P;do P=r.uniqueId(G);while(B.hasNode(P));return z.dummy=K,B.setNode(P,z),P}function v(B){var K=new d().setGraph(B.graph());return r.forEach(B.nodes(),function(z){K.setNode(z,B.node(z))}),r.forEach(B.edges(),function(z){var G=K.edge(z.v,z.w)||{weight:0,minlen:1},P=B.edge(z);K.setEdge(z.v,z.w,{weight:G.weight+P.weight,minlen:Math.max(G.minlen,P.minlen)})}),K}function u(B){var K=new d({multigraph:B.isMultigraph()}).setGraph(B.graph());return r.forEach(B.nodes(),function(z){B.children(z).length||K.setNode(z,B.node(z))}),r.forEach(B.edges(),function(z){K.setEdge(z,B.edge(z))}),K}function l(B){var K=r.map(B.nodes(),function(z){var G={};return r.forEach(B.outEdges(z),function(P){G[P.w]=(G[P.w]||0)+B.edge(P).weight}),G});return r.zipObject(B.nodes(),K)}function g(B){var K=r.map(B.nodes(),function(z){var G={};return r.forEach(B.inEdges(z),function(P){G[P.v]=(G[P.v]||0)+B.edge(P).weight}),G});return r.zipObject(B.nodes(),K)}function c(B,K){var z=B.x,G=B.y,P=K.x-z,O=K.y-G,S=B.width/2,R=B.height/2;if(!P&&!O)throw new Error("Not possible to find intersection inside of the rectangle");var M,b;return Math.abs(O)*S>Math.abs(P)*R?(O<0&&(R=-R),M=R*P/O,b=R):(P<0&&(S=-S),M=S,b=S*O/P),{x:z+M,y:G+b}}function o(B){var K=r.map(r.range(y(B)+1),function(){return[]});return r.forEach(B.nodes(),function(z){var G=B.node(z),P=G.rank;r.isUndefined(P)||(K[P][G.order]=z)}),K}function i(B){var K=r.min(r.map(B.nodes(),function(z){return B.node(z).rank}));r.forEach(B.nodes(),function(z){var G=B.node(z);r.has(G,"rank")&&(G.rank-=K)})}function h(B){var K=r.min(r.map(B.nodes(),function(O){return B.node(O).rank})),z=[];r.forEach(B.nodes(),function(O){var S=B.node(O).rank-K;z[S]||(z[S]=[]),z[S].push(O)});var G=0,P=B.graph().nodeRankFactor;r.forEach(z,function(O,S){r.isUndefined(O)&&S%P!==0?--G:G&&r.forEach(O,function(R){B.node(R).rank+=G})})}function p(B,K,z,G){var P={width:0,height:0};return arguments.length>=4&&(P.rank=z,P.order=G),a(B,"border",P,K)}function y(B){return r.max(r.map(B.nodes(),function(K){var z=B.node(K).rank;if(!r.isUndefined(z))return z}))}function A(B,K){var z={lhs:[],rhs:[]};return r.forEach(B,function(G){K(G)?z.lhs.push(G):z.rhs.push(G)}),z}function Y(B,K){var z=r.now();try{return K()}finally{console.log(B+" time: "+(r.now()-z)+"ms")}}function $(B,K){return K()}},90975:function(f){f.exports="0.8.5"},16239:function(f,x,t){var r=t(23617);f.exports={Graph:r.Graph,json:t(53988),alg:t(92010),version:r.version}},49004:function(f,x,t){var r=t(91124);f.exports=d;function d(a){var v={},u=[],l;function g(c){r.has(v,c)||(v[c]=!0,l.push(c),r.each(a.successors(c),g),r.each(a.predecessors(c),g))}return r.each(a.nodes(),function(c){l=[],g(c),l.length&&u.push(l)}),u}},10689:function(f,x,t){var r=t(91124);f.exports=d;function d(v,u,l){r.isArray(u)||(u=[u]);var g=(v.isDirected()?v.successors:v.neighbors).bind(v),c=[],o={};return r.each(u,function(i){if(!v.hasNode(i))throw new Error("Graph does not have node: "+i);a(v,i,l==="post",o,g,c)}),c}function a(v,u,l,g,c,o){r.has(g,u)||(g[u]=!0,l||o.push(u),r.each(c(u),function(i){a(v,i,l,g,c,o)}),l&&o.push(u))}},53659:function(f,x,t){var r=t(95070),d=t(91124);f.exports=a;function a(v,u,l){return d.transform(v.nodes(),function(g,c){g[c]=r(v,c,u,l)},{})}},95070:function(f,x,t){var r=t(91124),d=t(60392);f.exports=v;var a=r.constant(1);function v(l,g,c,o){return u(l,String(g),c||a,o||function(i){return l.outEdges(i)})}function u(l,g,c,o){var i={},h=new d,p,y,A=function(Y){var $=Y.v!==p?Y.v:Y.w,B=i[$],K=c(Y),z=y.distance+K;if(K<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Y+" Weight: "+K);z<B.distance&&(B.distance=z,B.predecessor=p,h.decrease($,z))};for(l.nodes().forEach(function(Y){var $=Y===g?0:Number.POSITIVE_INFINITY;i[Y]={distance:$},h.add(Y,$)});h.size()>0&&(p=h.removeMin(),y=i[p],y.distance!==Number.POSITIVE_INFINITY);)o(p).forEach(A);return i}},53548:function(f,x,t){var r=t(91124),d=t(87299);f.exports=a;function a(v){return r.filter(d(v),function(u){return u.length>1||u.length===1&&v.hasEdge(u[0],u[0])})}},1637:function(f,x,t){var r=t(91124);f.exports=a;var d=r.constant(1);function a(u,l,g){return v(u,l||d,g||function(c){return u.outEdges(c)})}function v(u,l,g){var c={},o=u.nodes();return o.forEach(function(i){c[i]={},c[i][i]={distance:0},o.forEach(function(h){i!==h&&(c[i][h]={distance:Number.POSITIVE_INFINITY})}),g(i).forEach(function(h){var p=h.v===i?h.w:h.v,y=l(h);c[i][p]={distance:y,predecessor:i}})}),o.forEach(function(i){var h=c[i];o.forEach(function(p){var y=c[p];o.forEach(function(A){var Y=y[i],$=h[A],B=y[A],K=Y.distance+$.distance;K<B.distance&&(B.distance=K,B.predecessor=$.predecessor)})})}),c}},92010:function(f,x,t){f.exports={components:t(49004),dijkstra:t(95070),dijkstraAll:t(53659),findCycles:t(53548),floydWarshall:t(1637),isAcyclic:t(52974),postorder:t(88021),preorder:t(35954),prim:t(61102),tarjan:t(87299),topsort:t(12177)}},52974:function(f,x,t){var r=t(12177);f.exports=d;function d(a){try{r(a)}catch(v){if(v instanceof r.CycleException)return!1;throw v}return!0}},88021:function(f,x,t){var r=t(10689);f.exports=d;function d(a,v){return r(a,v,"post")}},35954:function(f,x,t){var r=t(10689);f.exports=d;function d(a,v){return r(a,v,"pre")}},61102:function(f,x,t){var r=t(91124),d=t(58415),a=t(60392);f.exports=v;function v(u,l){var g=new d,c={},o=new a,i;function h(y){var A=y.v===i?y.w:y.v,Y=o.priority(A);if(Y!==void 0){var $=l(y);$<Y&&(c[A]=i,o.decrease(A,$))}}if(u.nodeCount()===0)return g;r.each(u.nodes(),function(y){o.add(y,Number.POSITIVE_INFINITY),g.setNode(y)}),o.decrease(u.nodes()[0],0);for(var p=!1;o.size()>0;){if(i=o.removeMin(),r.has(c,i))g.setEdge(i,c[i]);else{if(p)throw new Error("Input graph is not connected: "+u);p=!0}u.nodeEdges(i).forEach(h)}return g}},87299:function(f,x,t){var r=t(91124);f.exports=d;function d(a){var v=0,u=[],l={},g=[];function c(o){var i=l[o]={onStack:!0,lowlink:v,index:v++};if(u.push(o),a.successors(o).forEach(function(y){r.has(l,y)?l[y].onStack&&(i.lowlink=Math.min(i.lowlink,l[y].index)):(c(y),i.lowlink=Math.min(i.lowlink,l[y].lowlink))}),i.lowlink===i.index){var h=[],p;do p=u.pop(),l[p].onStack=!1,h.push(p);while(o!==p);g.push(h)}}return a.nodes().forEach(function(o){r.has(l,o)||c(o)}),g}},12177:function(f,x,t){var r=t(91124);f.exports=d,d.CycleException=a;function d(v){var u={},l={},g=[];function c(o){if(r.has(l,o))throw new a;r.has(u,o)||(l[o]=!0,u[o]=!0,r.each(v.predecessors(o),c),delete l[o],g.push(o))}if(r.each(v.sinks(),c),r.size(u)!==v.nodeCount())throw new a;return g}function a(){}a.prototype=new Error},60392:function(f,x,t){var r=t(91124);f.exports=d;function d(){this._arr=[],this._keyIndices={}}d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(a){return a.key})},d.prototype.has=function(a){return r.has(this._keyIndices,a)},d.prototype.priority=function(a){var v=this._keyIndices[a];if(v!==void 0)return this._arr[v].priority},d.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(a,v){var u=this._keyIndices;if(a=String(a),!r.has(u,a)){var l=this._arr,g=l.length;return u[a]=g,l.push({key:a,priority:v}),this._decrease(g),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},d.prototype.decrease=function(a,v){var u=this._keyIndices[a];if(v>this._arr[u].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[u].priority+" New: "+v);this._arr[u].priority=v,this._decrease(u)},d.prototype._heapify=function(a){var v=this._arr,u=2*a,l=u+1,g=a;u<v.length&&(g=v[u].priority<v[g].priority?u:g,l<v.length&&(g=v[l].priority<v[g].priority?l:g),g!==a&&(this._swap(a,g),this._heapify(g)))},d.prototype._decrease=function(a){for(var v=this._arr,u=v[a].priority,l;a!==0&&(l=a>>1,!(v[l].priority<u));)this._swap(a,l),a=l},d.prototype._swap=function(a,v){var u=this._arr,l=this._keyIndices,g=u[a],c=u[v];u[a]=c,u[v]=g,l[c.key]=a,l[g.key]=v}},58415:function(f,x,t){"use strict";var r=t(91124);f.exports=u;var d="\0",a="\0",v="";function u(h){this._isDirected=r.has(h,"directed")?h.directed:!0,this._isMultigraph=r.has(h,"multigraph")?h.multigraph:!1,this._isCompound=r.has(h,"compound")?h.compound:!1,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[a]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}u.prototype._nodeCount=0,u.prototype._edgeCount=0,u.prototype.isDirected=function(){return this._isDirected},u.prototype.isMultigraph=function(){return this._isMultigraph},u.prototype.isCompound=function(){return this._isCompound},u.prototype.setGraph=function(h){return this._label=h,this},u.prototype.graph=function(){return this._label},u.prototype.setDefaultNodeLabel=function(h){return r.isFunction(h)||(h=r.constant(h)),this._defaultNodeLabelFn=h,this},u.prototype.nodeCount=function(){return this._nodeCount},u.prototype.nodes=function(){return r.keys(this._nodes)},u.prototype.sources=function(){var h=this;return r.filter(this.nodes(),function(p){return r.isEmpty(h._in[p])})},u.prototype.sinks=function(){var h=this;return r.filter(this.nodes(),function(p){return r.isEmpty(h._out[p])})},u.prototype.setNodes=function(h,p){var y=arguments,A=this;return r.each(h,function(Y){y.length>1?A.setNode(Y,p):A.setNode(Y)}),this},u.prototype.setNode=function(h,p){return r.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=p),this):(this._nodes[h]=arguments.length>1?p:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=a,this._children[h]={},this._children[a][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},u.prototype.node=function(h){return this._nodes[h]},u.prototype.hasNode=function(h){return r.has(this._nodes,h)},u.prototype.removeNode=function(h){var p=this;if(r.has(this._nodes,h)){var y=function(A){p.removeEdge(p._edgeObjs[A])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],r.each(this.children(h),function(A){p.setParent(A)}),delete this._children[h]),r.each(r.keys(this._in[h]),y),delete this._in[h],delete this._preds[h],r.each(r.keys(this._out[h]),y),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},u.prototype.setParent=function(h,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(p))p=a;else{p+="";for(var y=p;!r.isUndefined(y);y=this.parent(y))if(y===h)throw new Error("Setting "+p+" as parent of "+h+" would create a cycle");this.setNode(p)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=p,this._children[p][h]=!0,this},u.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},u.prototype.parent=function(h){if(this._isCompound){var p=this._parent[h];if(p!==a)return p}},u.prototype.children=function(h){if(r.isUndefined(h)&&(h=a),this._isCompound){var p=this._children[h];if(p)return r.keys(p)}else{if(h===a)return this.nodes();if(this.hasNode(h))return[]}},u.prototype.predecessors=function(h){var p=this._preds[h];if(p)return r.keys(p)},u.prototype.successors=function(h){var p=this._sucs[h];if(p)return r.keys(p)},u.prototype.neighbors=function(h){var p=this.predecessors(h);if(p)return r.union(p,this.successors(h))},u.prototype.isLeaf=function(h){var p;return this.isDirected()?p=this.successors(h):p=this.neighbors(h),p.length===0},u.prototype.filterNodes=function(h){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var y=this;r.each(this._nodes,function($,B){h(B)&&p.setNode(B,$)}),r.each(this._edgeObjs,function($){p.hasNode($.v)&&p.hasNode($.w)&&p.setEdge($,y.edge($))});var A={};function Y($){var B=y.parent($);return B===void 0||p.hasNode(B)?(A[$]=B,B):B in A?A[B]:Y(B)}return this._isCompound&&r.each(p.nodes(),function($){p.setParent($,Y($))}),p},u.prototype.setDefaultEdgeLabel=function(h){return r.isFunction(h)||(h=r.constant(h)),this._defaultEdgeLabelFn=h,this},u.prototype.edgeCount=function(){return this._edgeCount},u.prototype.edges=function(){return r.values(this._edgeObjs)},u.prototype.setPath=function(h,p){var y=this,A=arguments;return r.reduce(h,function(Y,$){return A.length>1?y.setEdge(Y,$,p):y.setEdge(Y,$),$}),this},u.prototype.setEdge=function(){var h,p,y,A,Y=!1,$=arguments[0];typeof $=="object"&&$!==null&&"v"in $?(h=$.v,p=$.w,y=$.name,arguments.length===2&&(A=arguments[1],Y=!0)):(h=$,p=arguments[1],y=arguments[3],arguments.length>2&&(A=arguments[2],Y=!0)),h=""+h,p=""+p,r.isUndefined(y)||(y=""+y);var B=c(this._isDirected,h,p,y);if(r.has(this._edgeLabels,B))return Y&&(this._edgeLabels[B]=A),this;if(!r.isUndefined(y)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(p),this._edgeLabels[B]=Y?A:this._defaultEdgeLabelFn(h,p,y);var K=o(this._isDirected,h,p,y);return h=K.v,p=K.w,Object.freeze(K),this._edgeObjs[B]=K,l(this._preds[p],h),l(this._sucs[h],p),this._in[p][B]=K,this._out[h][B]=K,this._edgeCount++,this},u.prototype.edge=function(h,p,y){var A=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,h,p,y);return this._edgeLabels[A]},u.prototype.hasEdge=function(h,p,y){var A=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,h,p,y);return r.has(this._edgeLabels,A)},u.prototype.removeEdge=function(h,p,y){var A=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,h,p,y),Y=this._edgeObjs[A];return Y&&(h=Y.v,p=Y.w,delete this._edgeLabels[A],delete this._edgeObjs[A],g(this._preds[p],h),g(this._sucs[h],p),delete this._in[p][A],delete this._out[h][A],this._edgeCount--),this},u.prototype.inEdges=function(h,p){var y=this._in[h];if(y){var A=r.values(y);return p?r.filter(A,function(Y){return Y.v===p}):A}},u.prototype.outEdges=function(h,p){var y=this._out[h];if(y){var A=r.values(y);return p?r.filter(A,function(Y){return Y.w===p}):A}},u.prototype.nodeEdges=function(h,p){var y=this.inEdges(h,p);if(y)return y.concat(this.outEdges(h,p))};function l(h,p){h[p]?h[p]++:h[p]=1}function g(h,p){--h[p]||delete h[p]}function c(h,p,y,A){var Y=""+p,$=""+y;if(!h&&Y>$){var B=Y;Y=$,$=B}return Y+v+$+v+(r.isUndefined(A)?d:A)}function o(h,p,y,A){var Y=""+p,$=""+y;if(!h&&Y>$){var B=Y;Y=$,$=B}var K={v:Y,w:$};return A&&(K.name=A),K}function i(h,p){return c(h,p.v,p.w,p.name)}},23617:function(f,x,t){f.exports={Graph:t(58415),version:t(58183)}},53988:function(f,x,t){var r=t(91124),d=t(58415);f.exports={write:a,read:l};function a(g){var c={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:v(g),edges:u(g)};return r.isUndefined(g.graph())||(c.value=r.clone(g.graph())),c}function v(g){return r.map(g.nodes(),function(c){var o=g.node(c),i=g.parent(c),h={v:c};return r.isUndefined(o)||(h.value=o),r.isUndefined(i)||(h.parent=i),h})}function u(g){return r.map(g.edges(),function(c){var o=g.edge(c),i={v:c.v,w:c.w};return r.isUndefined(c.name)||(i.name=c.name),r.isUndefined(o)||(i.value=o),i})}function l(g){var c=new d(g.options).setGraph(g.value);return r.each(g.nodes,function(o){c.setNode(o.v,o.value),o.parent&&c.setParent(o.v,o.parent)}),r.each(g.edges,function(o){c.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),c}},91124:function(f,x,t){var r;try{r={clone:t(55824),constant:t(64806),each:t(15828),filter:t(3149),has:t(56611),isArray:t(24669),isEmpty:t(82691),isFunction:t(92042),isUndefined:t(89300),keys:t(50579),map:t(65512),reduce:t(6355),size:t(81430),transform:t(68742),union:t(29974),values:t(61017)}}catch(d){}r||(r=window._),f.exports=r},58183:function(f){f.exports="2.1.8"},60804:function(f,x,t){"use strict";t.r(x),t.d(x,{isAnyArray:function(){return d}});const r=Object.prototype.toString;function d(a){const v=r.call(a);return v.endsWith("Array]")&&!v.includes("Big")}},87269:function(f,x,t){var r=t(47758),d=t(29165),a=r(d,"DataView");f.exports=a},88987:function(f,x,t){var r=t(71519),d=t(82999),a=t(76111),v=t(50506),u=t(80845);function l(g){var c=-1,o=g==null?0:g.length;for(this.clear();++c<o;){var i=g[c];this.set(i[0],i[1])}}l.prototype.clear=r,l.prototype.delete=d,l.prototype.get=a,l.prototype.has=v,l.prototype.set=u,f.exports=l},175:function(f,x,t){var r=t(2173),d=t(33752),a=t(10548),v=t(63410),u=t(3564);function l(g){var c=-1,o=g==null?0:g.length;for(this.clear();++c<o;){var i=g[c];this.set(i[0],i[1])}}l.prototype.clear=r,l.prototype.delete=d,l.prototype.get=a,l.prototype.has=v,l.prototype.set=u,f.exports=l},35922:function(f,x,t){var r=t(47758),d=t(29165),a=r(d,"Map");f.exports=a},9440:function(f,x,t){var r=t(7140),d=t(56504),a=t(88833),v=t(80953),u=t(70724);function l(g){var c=-1,o=g==null?0:g.length;for(this.clear();++c<o;){var i=g[c];this.set(i[0],i[1])}}l.prototype.clear=r,l.prototype.delete=d,l.prototype.get=a,l.prototype.has=v,l.prototype.set=u,f.exports=l},6795:function(f,x,t){var r=t(47758),d=t(29165),a=r(d,"Promise");f.exports=a},81956:function(f,x,t){var r=t(47758),d=t(29165),a=r(d,"Set");f.exports=a},78188:function(f,x,t){var r=t(9440),d=t(96659),a=t(97230);function v(u){var l=-1,g=u==null?0:u.length;for(this.__data__=new r;++l<g;)this.add(u[l])}v.prototype.add=v.prototype.push=d,v.prototype.has=a,f.exports=v},5929:function(f,x,t){var r=t(175),d=t(40551),a=t(4090),v=t(47694),u=t(86220),l=t(68958);function g(c){var o=this.__data__=new r(c);this.size=o.size}g.prototype.clear=d,g.prototype.delete=a,g.prototype.get=v,g.prototype.has=u,g.prototype.set=l,f.exports=g},74396:function(f,x,t){var r=t(29165),d=r.Symbol;f.exports=d},92210:function(f,x,t){var r=t(29165),d=r.Uint8Array;f.exports=d},69477:function(f,x,t){var r=t(47758),d=t(29165),a=r(d,"WeakMap");f.exports=a},93501:function(f){function x(t,r,d){switch(d.length){case 0:return t.call(r);case 1:return t.call(r,d[0]);case 2:return t.call(r,d[0],d[1]);case 3:return t.call(r,d[0],d[1],d[2])}return t.apply(r,d)}f.exports=x},21662:function(f){function x(t,r){for(var d=-1,a=t==null?0:t.length;++d<a&&r(t[d],d,t)!==!1;);return t}f.exports=x},48969:function(f){function x(t,r){for(var d=-1,a=t==null?0:t.length,v=0,u=[];++d<a;){var l=t[d];r(l,d,t)&&(u[v++]=l)}return u}f.exports=x},45170:function(f,x,t){var r=t(13807);function d(a,v){var u=a==null?0:a.length;return!!u&&r(a,v,0)>-1}f.exports=d},94936:function(f){function x(t,r,d){for(var a=-1,v=t==null?0:t.length;++a<v;)if(d(r,t[a]))return!0;return!1}f.exports=x},79809:function(f,x,t){var r=t(39739),d=t(30353),a=t(24669),v=t(61563),u=t(91010),l=t(73806),g=Object.prototype,c=g.hasOwnProperty;function o(i,h){var p=a(i),y=!p&&d(i),A=!p&&!y&&v(i),Y=!p&&!y&&!A&&l(i),$=p||y||A||Y,B=$?r(i.length,String):[],K=B.length;for(var z in i)(h||c.call(i,z))&&!($&&(z=="length"||A&&(z=="offset"||z=="parent")||Y&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||u(z,K)))&&B.push(z);return B}f.exports=o},75697:function(f){function x(t,r){for(var d=-1,a=t==null?0:t.length,v=Array(a);++d<a;)v[d]=r(t[d],d,t);return v}f.exports=x},28486:function(f){function x(t,r){for(var d=-1,a=r.length,v=t.length;++d<a;)t[v+d]=r[d];return t}f.exports=x},30695:function(f){function x(t,r,d,a){var v=-1,u=t==null?0:t.length;for(a&&u&&(d=t[++v]);++v<u;)d=r(d,t[v],v,t);return d}f.exports=x},84330:function(f){function x(t,r){for(var d=-1,a=t==null?0:t.length;++d<a;)if(r(t[d],d,t))return!0;return!1}f.exports=x},15989:function(f,x,t){var r=t(17498),d=r("length");f.exports=d},72340:function(f,x,t){var r=t(30404),d=t(42448);function a(v,u,l){(l!==void 0&&!d(v[u],l)||l===void 0&&!(u in v))&&r(v,u,l)}f.exports=a},93719:function(f,x,t){var r=t(30404),d=t(42448),a=Object.prototype,v=a.hasOwnProperty;function u(l,g,c){var o=l[g];(!(v.call(l,g)&&d(o,c))||c===void 0&&!(g in l))&&r(l,g,c)}f.exports=u},62718:function(f,x,t){var r=t(42448);function d(a,v){for(var u=a.length;u--;)if(r(a[u][0],v))return u;return-1}f.exports=d},43472:function(f,x,t){var r=t(92434),d=t(50579);function a(v,u){return v&&r(u,d(u),v)}f.exports=a},7254:function(f,x,t){var r=t(92434),d=t(37390);function a(v,u){return v&&r(u,d(u),v)}f.exports=a},30404:function(f,x,t){var r=t(34082);function d(a,v,u){v=="__proto__"&&r?r(a,v,{configurable:!0,enumerable:!0,value:u,writable:!0}):a[v]=u}f.exports=d},67410:function(f,x,t){var r=t(5929),d=t(21662),a=t(93719),v=t(43472),u=t(7254),l=t(39767),g=t(47165),c=t(8782),o=t(2667),i=t(69698),h=t(21699),p=t(81887),y=t(12195),A=t(46740),Y=t(36404),$=t(24669),B=t(61563),K=t(32924),z=t(36838),G=t(45380),P=t(50579),O=t(37390),S=1,R=2,M=4,b="[object Arguments]",D="[object Array]",T="[object Boolean]",Z="[object Date]",V="[object Error]",J="[object Function]",H="[object GeneratorFunction]",st="[object Map]",tt="[object Number]",it="[object Object]",ft="[object RegExp]",vt="[object Set]",pt="[object String]",xt="[object Symbol]",wt="[object WeakMap]",et="[object ArrayBuffer]",at="[object DataView]",ht="[object Float32Array]",ct="[object Float64Array]",Nt="[object Int8Array]",Et="[object Int16Array]",bt="[object Int32Array]",St="[object Uint8Array]",Ft="[object Uint8ClampedArray]",Ut="[object Uint16Array]",Yt="[object Uint32Array]",Wt={};Wt[b]=Wt[D]=Wt[et]=Wt[at]=Wt[T]=Wt[Z]=Wt[ht]=Wt[ct]=Wt[Nt]=Wt[Et]=Wt[bt]=Wt[st]=Wt[tt]=Wt[it]=Wt[ft]=Wt[vt]=Wt[pt]=Wt[xt]=Wt[St]=Wt[Ft]=Wt[Ut]=Wt[Yt]=!0,Wt[V]=Wt[J]=Wt[wt]=!1;function re(Zt,ce,Se,Ht,be,fe){var qt,Tt=ce&S,de=ce&R,ve=ce&M;if(Se&&(qt=be?Se(Zt,Ht,be,fe):Se(Zt)),qt!==void 0)return qt;if(!z(Zt))return Zt;var ne=$(Zt);if(ne){if(qt=y(Zt),!Tt)return g(Zt,qt)}else{var me=p(Zt),ye=me==J||me==H;if(B(Zt))return l(Zt,Tt);if(me==it||me==b||ye&&!be){if(qt=de||ye?{}:Y(Zt),!Tt)return de?o(Zt,u(qt,Zt)):c(Zt,v(qt,Zt))}else{if(!Wt[me])return be?Zt:{};qt=A(Zt,me,Tt)}}fe||(fe=new r);var an=fe.get(Zt);if(an)return an;fe.set(Zt,qt),G(Zt)?Zt.forEach(function(Ce){qt.add(re(Ce,ce,Se,Ce,Zt,fe))}):K(Zt)&&Zt.forEach(function(Ce,ze){qt.set(ze,re(Ce,ce,Se,ze,Zt,fe))});var un=ve?de?h:i:de?O:P,dn=ne?void 0:un(Zt);return d(dn||Zt,function(Ce,ze){dn&&(ze=Ce,Ce=Zt[ze]),a(qt,ze,re(Ce,ce,Se,ze,Zt,fe))}),qt}f.exports=re},91348:function(f,x,t){var r=t(36838),d=Object.create,a=function(){function v(){}return function(u){if(!r(u))return{};if(d)return d(u);v.prototype=u;var l=new v;return v.prototype=void 0,l}}();f.exports=a},30438:function(f,x,t){var r=t(61343),d=t(4118),a=d(r);f.exports=a},24210:function(f,x,t){var r=t(16764);function d(a,v,u){for(var l=-1,g=a.length;++l<g;){var c=a[l],o=v(c);if(o!=null&&(i===void 0?o===o&&!r(o):u(o,i)))var i=o,h=c}return h}f.exports=d},88286:function(f,x,t){var r=t(30438);function d(a,v){var u=[];return r(a,function(l,g,c){v(l,g,c)&&u.push(l)}),u}f.exports=d},92504:function(f){function x(t,r,d,a){for(var v=t.length,u=d+(a?1:-1);a?u--:++u<v;)if(r(t[u],u,t))return u;return-1}f.exports=x},98768:function(f,x,t){var r=t(28486),d=t(89465);function a(v,u,l,g,c){var o=-1,i=v.length;for(l||(l=d),c||(c=[]);++o<i;){var h=v[o];u>0&&l(h)?u>1?a(h,u-1,l,g,c):r(c,h):g||(c[c.length]=h)}return c}f.exports=a},91030:function(f,x,t){var r=t(29),d=r();f.exports=d},61343:function(f,x,t){var r=t(91030),d=t(50579);function a(v,u){return v&&r(v,u,d)}f.exports=a},97499:function(f,x,t){var r=t(60399),d=t(77817);function a(v,u){u=r(u,v);for(var l=0,g=u.length;v!=null&&l<g;)v=v[d(u[l++])];return l&&l==g?v:void 0}f.exports=a},38084:function(f,x,t){var r=t(28486),d=t(24669);function a(v,u,l){var g=u(v);return d(v)?g:r(g,l(v))}f.exports=a},80732:function(f,x,t){var r=t(74396),d=t(31239),a=t(57058),v="[object Null]",u="[object Undefined]",l=r?r.toStringTag:void 0;function g(c){return c==null?c===void 0?u:v:l&&l in Object(c)?d(c):a(c)}f.exports=g},39491:function(f){function x(t,r){return t>r}f.exports=x},45435:function(f){var x=Object.prototype,t=x.hasOwnProperty;function r(d,a){return d!=null&&t.call(d,a)}f.exports=r},71664:function(f){function x(t,r){return t!=null&&r in Object(t)}f.exports=x},13807:function(f,x,t){var r=t(92504),d=t(99940),a=t(3729);function v(u,l,g){return l===l?a(u,l,g):r(u,d,g)}f.exports=v},84742:function(f,x,t){var r=t(80732),d=t(55073),a="[object Arguments]";function v(u){return d(u)&&r(u)==a}f.exports=v},6620:function(f,x,t){var r=t(83977),d=t(55073);function a(v,u,l,g,c){return v===u?!0:v==null||u==null||!d(v)&&!d(u)?v!==v&&u!==u:r(v,u,l,g,a,c)}f.exports=a},83977:function(f,x,t){var r=t(5929),d=t(22684),a=t(7456),v=t(18120),u=t(81887),l=t(24669),g=t(61563),c=t(73806),o=1,i="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,A=y.hasOwnProperty;function Y($,B,K,z,G,P){var O=l($),S=l(B),R=O?h:u($),M=S?h:u(B);R=R==i?p:R,M=M==i?p:M;var b=R==p,D=M==p,T=R==M;if(T&&g($)){if(!g(B))return!1;O=!0,b=!1}if(T&&!b)return P||(P=new r),O||c($)?d($,B,K,z,G,P):a($,B,R,K,z,G,P);if(!(K&o)){var Z=b&&A.call($,"__wrapped__"),V=D&&A.call(B,"__wrapped__");if(Z||V){var J=Z?$.value():$,H=V?B.value():B;return P||(P=new r),G(J,H,K,z,P)}}return T?(P||(P=new r),v($,B,K,z,G,P)):!1}f.exports=Y},64033:function(f,x,t){var r=t(81887),d=t(55073),a="[object Map]";function v(u){return d(u)&&r(u)==a}f.exports=v},27122:function(f,x,t){var r=t(5929),d=t(6620),a=1,v=2;function u(l,g,c,o){var i=c.length,h=i,p=!o;if(l==null)return!h;for(l=Object(l);i--;){var y=c[i];if(p&&y[2]?y[1]!==l[y[0]]:!(y[0]in l))return!1}for(;++i<h;){y=c[i];var A=y[0],Y=l[A],$=y[1];if(p&&y[2]){if(Y===void 0&&!(A in l))return!1}else{var B=new r;if(o)var K=o(Y,$,A,l,g,B);if(!(K===void 0?d($,Y,a|v,o,B):K))return!1}}return!0}f.exports=u},99940:function(f){function x(t){return t!==t}f.exports=x},58939:function(f,x,t){var r=t(92042),d=t(90654),a=t(36838),v=t(51059),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,g=Function.prototype,c=Object.prototype,o=g.toString,i=c.hasOwnProperty,h=RegExp("^"+o.call(i).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!a(y)||d(y))return!1;var A=r(y)?h:l;return A.test(v(y))}f.exports=p},28264:function(f,x,t){var r=t(81887),d=t(55073),a="[object Set]";function v(u){return d(u)&&r(u)==a}f.exports=v},22882:function(f,x,t){var r=t(80732),d=t(17216),a=t(55073),v="[object Arguments]",u="[object Array]",l="[object Boolean]",g="[object Date]",c="[object Error]",o="[object Function]",i="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",A="[object Set]",Y="[object String]",$="[object WeakMap]",B="[object ArrayBuffer]",K="[object DataView]",z="[object Float32Array]",G="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",S="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",b="[object Uint16Array]",D="[object Uint32Array]",T={};T[z]=T[G]=T[P]=T[O]=T[S]=T[R]=T[M]=T[b]=T[D]=!0,T[v]=T[u]=T[B]=T[l]=T[K]=T[g]=T[c]=T[o]=T[i]=T[h]=T[p]=T[y]=T[A]=T[Y]=T[$]=!1;function Z(V){return a(V)&&d(V.length)&&!!T[r(V)]}f.exports=Z},5673:function(f,x,t){var r=t(3772),d=t(30493),a=t(48148),v=t(24669),u=t(51798);function l(g){return typeof g=="function"?g:g==null?a:typeof g=="object"?v(g)?d(g[0],g[1]):r(g):u(g)}f.exports=l},87473:function(f,x,t){var r=t(92963),d=t(14457),a=Object.prototype,v=a.hasOwnProperty;function u(l){if(!r(l))return d(l);var g=[];for(var c in Object(l))v.call(l,c)&&c!="constructor"&&g.push(c);return g}f.exports=u},52506:function(f,x,t){var r=t(36838),d=t(92963),a=t(10814),v=Object.prototype,u=v.hasOwnProperty;function l(g){if(!r(g))return a(g);var c=d(g),o=[];for(var i in g)i=="constructor"&&(c||!u.call(g,i))||o.push(i);return o}f.exports=l},42800:function(f){function x(t,r){return t<r}f.exports=x},66494:function(f,x,t){var r=t(30438),d=t(47428);function a(v,u){var l=-1,g=d(v)?Array(v.length):[];return r(v,function(c,o,i){g[++l]=u(c,o,i)}),g}f.exports=a},3772:function(f,x,t){var r=t(27122),d=t(67487),a=t(78857);function v(u){var l=d(u);return l.length==1&&l[0][2]?a(l[0][0],l[0][1]):function(g){return g===u||r(g,u,l)}}f.exports=v},30493:function(f,x,t){var r=t(6620),d=t(65439),a=t(28281),v=t(2610),u=t(92769),l=t(78857),g=t(77817),c=1,o=2;function i(h,p){return v(h)&&u(p)?l(g(h),p):function(y){var A=d(y,h);return A===void 0&&A===p?a(y,h):r(p,A,c|o)}}f.exports=i},97254:function(f,x,t){var r=t(5929),d=t(72340),a=t(91030),v=t(10715),u=t(36838),l=t(37390),g=t(72014);function c(o,i,h,p,y){o!==i&&a(i,function(A,Y){if(y||(y=new r),u(A))v(o,i,Y,h,c,p,y);else{var $=p?p(g(o,Y),A,Y+"",o,i,y):void 0;$===void 0&&($=A),d(o,Y,$)}},l)}f.exports=c},10715:function(f,x,t){var r=t(72340),d=t(39767),a=t(27136),v=t(47165),u=t(36404),l=t(30353),g=t(24669),c=t(57348),o=t(61563),i=t(92042),h=t(36838),p=t(69143),y=t(73806),A=t(72014),Y=t(85111);function $(B,K,z,G,P,O,S){var R=A(B,z),M=A(K,z),b=S.get(M);if(b){r(B,z,b);return}var D=O?O(R,M,z+"",B,K,S):void 0,T=D===void 0;if(T){var Z=g(M),V=!Z&&o(M),J=!Z&&!V&&y(M);D=M,Z||V||J?g(R)?D=R:c(R)?D=v(R):V?(T=!1,D=d(M,!0)):J?(T=!1,D=a(M,!0)):D=[]:p(M)||l(M)?(D=R,l(R)?D=Y(R):(!h(R)||i(R))&&(D=u(M))):T=!1}T&&(S.set(M,D),P(D,M,G,O,S),S.delete(M)),r(B,z,D)}f.exports=$},84994:function(f,x,t){var r=t(75697),d=t(97499),a=t(5673),v=t(66494),u=t(16584),l=t(58792),g=t(35395),c=t(48148),o=t(24669);function i(h,p,y){p.length?p=r(p,function($){return o($)?function(B){return d(B,$.length===1?$[0]:$)}:$}):p=[c];var A=-1;p=r(p,l(a));var Y=v(h,function($,B,K){var z=r(p,function(G){return G($)});return{criteria:z,index:++A,value:$}});return u(Y,function($,B){return g($,B,y)})}f.exports=i},54822:function(f,x,t){var r=t(32648),d=t(28281);function a(v,u){return r(v,u,function(l,g){return d(v,g)})}f.exports=a},32648:function(f,x,t){var r=t(97499),d=t(85713),a=t(60399);function v(u,l,g){for(var c=-1,o=l.length,i={};++c<o;){var h=l[c],p=r(u,h);g(p,h)&&d(i,a(h,u),p)}return i}f.exports=v},17498:function(f){function x(t){return function(r){return r==null?void 0:r[t]}}f.exports=x},71e3:function(f,x,t){var r=t(97499);function d(a){return function(v){return r(v,a)}}f.exports=d},5108:function(f){var x=Math.ceil,t=Math.max;function r(d,a,v,u){for(var l=-1,g=t(x((a-d)/(v||1)),0),c=Array(g);g--;)c[u?g:++l]=d,d+=v;return c}f.exports=r},75857:function(f){function x(t,r,d,a,v){return v(t,function(u,l,g){d=a?(a=!1,u):r(d,u,l,g)}),d}f.exports=x},5125:function(f,x,t){var r=t(48148),d=t(20323),a=t(71564);function v(u,l){return a(d(u,l,r),u+"")}f.exports=v},85713:function(f,x,t){var r=t(93719),d=t(60399),a=t(91010),v=t(36838),u=t(77817);function l(g,c,o,i){if(!v(g))return g;c=d(c,g);for(var h=-1,p=c.length,y=p-1,A=g;A!=null&&++h<p;){var Y=u(c[h]),$=o;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return g;if(h!=y){var B=A[Y];$=i?i(B,Y,A):void 0,$===void 0&&($=v(B)?B:a(c[h+1])?[]:{})}r(A,Y,$),A=A[Y]}return g}f.exports=l},56447:function(f,x,t){var r=t(64806),d=t(34082),a=t(48148),v=d?function(u,l){return d(u,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:a;f.exports=v},16584:function(f){function x(t,r){var d=t.length;for(t.sort(r);d--;)t[d]=t[d].value;return t}f.exports=x},39739:function(f){function x(t,r){for(var d=-1,a=Array(t);++d<t;)a[d]=r(d);return a}f.exports=x},73150:function(f,x,t){var r=t(74396),d=t(75697),a=t(24669),v=t(16764),u=1/0,l=r?r.prototype:void 0,g=l?l.toString:void 0;function c(o){if(typeof o=="string")return o;if(a(o))return d(o,c)+"";if(v(o))return g?g.call(o):"";var i=o+"";return i=="0"&&1/o==-u?"-0":i}f.exports=c},33124:function(f,x,t){var r=t(82996),d=/^\s+/;function a(v){return v&&v.slice(0,r(v)+1).replace(d,"")}f.exports=a},58792:function(f){function x(t){return function(r){return t(r)}}f.exports=x},95453:function(f,x,t){var r=t(78188),d=t(45170),a=t(94936),v=t(29880),u=t(17319),l=t(79967),g=200;function c(o,i,h){var p=-1,y=d,A=o.length,Y=!0,$=[],B=$;if(h)Y=!1,y=a;else if(A>=g){var K=i?null:u(o);if(K)return l(K);Y=!1,y=v,B=new r}else B=i?[]:$;t:for(;++p<A;){var z=o[p],G=i?i(z):z;if(z=h||z!==0?z:0,Y&&G===G){for(var P=B.length;P--;)if(B[P]===G)continue t;i&&B.push(G),$.push(z)}else y(B,G,h)||(B!==$&&B.push(G),$.push(z))}return $}f.exports=c},44290:function(f,x,t){var r=t(75697);function d(a,v){return r(v,function(u){return a[u]})}f.exports=d},59654:function(f){function x(t,r,d){for(var a=-1,v=t.length,u=r.length,l={};++a<v;){var g=a<u?r[a]:void 0;d(l,t[a],g)}return l}f.exports=x},29880:function(f){function x(t,r){return t.has(r)}f.exports=x},97008:function(f,x,t){var r=t(48148);function d(a){return typeof a=="function"?a:r}f.exports=d},60399:function(f,x,t){var r=t(24669),d=t(2610),a=t(77057),v=t(8389);function u(l,g){return r(l)?l:d(l,g)?[l]:a(v(l))}f.exports=u},78925:function(f,x,t){var r=t(92210);function d(a){var v=new a.constructor(a.byteLength);return new r(v).set(new r(a)),v}f.exports=d},39767:function(f,x,t){f=t.nmd(f);var r=t(29165),d=x&&!x.nodeType&&x,a=d&&!0&&f&&!f.nodeType&&f,v=a&&a.exports===d,u=v?r.Buffer:void 0,l=u?u.allocUnsafe:void 0;function g(c,o){if(o)return c.slice();var i=c.length,h=l?l(i):new c.constructor(i);return c.copy(h),h}f.exports=g},56157:function(f,x,t){var r=t(78925);function d(a,v){var u=v?r(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.byteLength)}f.exports=d},80101:function(f){var x=/\w*$/;function t(r){var d=new r.constructor(r.source,x.exec(r));return d.lastIndex=r.lastIndex,d}f.exports=t},54920:function(f,x,t){var r=t(74396),d=r?r.prototype:void 0,a=d?d.valueOf:void 0;function v(u){return a?Object(a.call(u)):{}}f.exports=v},27136:function(f,x,t){var r=t(78925);function d(a,v){var u=v?r(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.length)}f.exports=d},24687:function(f,x,t){var r=t(16764);function d(a,v){if(a!==v){var u=a!==void 0,l=a===null,g=a===a,c=r(a),o=v!==void 0,i=v===null,h=v===v,p=r(v);if(!i&&!p&&!c&&a>v||c&&o&&h&&!i&&!p||l&&o&&h||!u&&h||!g)return 1;if(!l&&!c&&!p&&a<v||p&&u&&g&&!l&&!c||i&&u&&g||!o&&g||!h)return-1}return 0}f.exports=d},35395:function(f,x,t){var r=t(24687);function d(a,v,u){for(var l=-1,g=a.criteria,c=v.criteria,o=g.length,i=u.length;++l<o;){var h=r(g[l],c[l]);if(h){if(l>=i)return h;var p=u[l];return h*(p=="desc"?-1:1)}}return a.index-v.index}f.exports=d},47165:function(f){function x(t,r){var d=-1,a=t.length;for(r||(r=Array(a));++d<a;)r[d]=t[d];return r}f.exports=x},92434:function(f,x,t){var r=t(93719),d=t(30404);function a(v,u,l,g){var c=!l;l||(l={});for(var o=-1,i=u.length;++o<i;){var h=u[o],p=g?g(l[h],v[h],h,l,v):void 0;p===void 0&&(p=v[h]),c?d(l,h,p):r(l,h,p)}return l}f.exports=a},8782:function(f,x,t){var r=t(92434),d=t(97482);function a(v,u){return r(v,d(v),u)}f.exports=a},2667:function(f,x,t){var r=t(92434),d=t(41288);function a(v,u){return r(v,d(v),u)}f.exports=a},36633:function(f,x,t){var r=t(29165),d=r["__core-js_shared__"];f.exports=d},77991:function(f,x,t){var r=t(5125),d=t(97616);function a(v){return r(function(u,l){var g=-1,c=l.length,o=c>1?l[c-1]:void 0,i=c>2?l[2]:void 0;for(o=v.length>3&&typeof o=="function"?(c--,o):void 0,i&&d(l[0],l[1],i)&&(o=c<3?void 0:o,c=1),u=Object(u);++g<c;){var h=l[g];h&&v(u,h,g,o)}return u})}f.exports=a},4118:function(f,x,t){var r=t(47428);function d(a,v){return function(u,l){if(u==null)return u;if(!r(u))return a(u,l);for(var g=u.length,c=v?g:-1,o=Object(u);(v?c--:++c<g)&&l(o[c],c,o)!==!1;);return u}}f.exports=d},29:function(f){function x(t){return function(r,d,a){for(var v=-1,u=Object(r),l=a(r),g=l.length;g--;){var c=l[t?g:++v];if(d(u[c],c,u)===!1)break}return r}}f.exports=x},34715:function(f,x,t){var r=t(5673),d=t(47428),a=t(50579);function v(u){return function(l,g,c){var o=Object(l);if(!d(l)){var i=r(g,3);l=a(l),g=function(p){return i(o[p],p,o)}}var h=u(l,g,c);return h>-1?o[i?l[h]:h]:void 0}}f.exports=v},1293:function(f,x,t){var r=t(5108),d=t(97616),a=t(70986);function v(u){return function(l,g,c){return c&&typeof c!="number"&&d(l,g,c)&&(g=c=void 0),l=a(l),g===void 0?(g=l,l=0):g=a(g),c=c===void 0?l<g?1:-1:a(c),r(l,g,c,u)}}f.exports=v},17319:function(f,x,t){var r=t(81956),d=t(43226),a=t(79967),v=1/0,u=r&&1/a(new r([,-0]))[1]==v?function(l){return new r(l)}:d;f.exports=u},34082:function(f,x,t){var r=t(47758),d=function(){try{var a=r(Object,"defineProperty");return a({},"",{}),a}catch(v){}}();f.exports=d},22684:function(f,x,t){var r=t(78188),d=t(84330),a=t(29880),v=1,u=2;function l(g,c,o,i,h,p){var y=o&v,A=g.length,Y=c.length;if(A!=Y&&!(y&&Y>A))return!1;var $=p.get(g),B=p.get(c);if($&&B)return $==c&&B==g;var K=-1,z=!0,G=o&u?new r:void 0;for(p.set(g,c),p.set(c,g);++K<A;){var P=g[K],O=c[K];if(i)var S=y?i(O,P,K,c,g,p):i(P,O,K,g,c,p);if(S!==void 0){if(S)continue;z=!1;break}if(G){if(!d(c,function(R,M){if(!a(G,M)&&(P===R||h(P,R,o,i,p)))return G.push(M)})){z=!1;break}}else if(!(P===O||h(P,O,o,i,p))){z=!1;break}}return p.delete(g),p.delete(c),z}f.exports=l},7456:function(f,x,t){var r=t(74396),d=t(92210),a=t(42448),v=t(22684),u=t(7523),l=t(79967),g=1,c=2,o="[object Boolean]",i="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",A="[object RegExp]",Y="[object Set]",$="[object String]",B="[object Symbol]",K="[object ArrayBuffer]",z="[object DataView]",G=r?r.prototype:void 0,P=G?G.valueOf:void 0;function O(S,R,M,b,D,T,Z){switch(M){case z:if(S.byteLength!=R.byteLength||S.byteOffset!=R.byteOffset)return!1;S=S.buffer,R=R.buffer;case K:return!(S.byteLength!=R.byteLength||!T(new d(S),new d(R)));case o:case i:case y:return a(+S,+R);case h:return S.name==R.name&&S.message==R.message;case A:case $:return S==R+"";case p:var V=u;case Y:var J=b&g;if(V||(V=l),S.size!=R.size&&!J)return!1;var H=Z.get(S);if(H)return H==R;b|=c,Z.set(S,R);var st=v(V(S),V(R),b,D,T,Z);return Z.delete(S),st;case B:if(P)return P.call(S)==P.call(R)}return!1}f.exports=O},18120:function(f,x,t){var r=t(69698),d=1,a=Object.prototype,v=a.hasOwnProperty;function u(l,g,c,o,i,h){var p=c&d,y=r(l),A=y.length,Y=r(g),$=Y.length;if(A!=$&&!p)return!1;for(var B=A;B--;){var K=y[B];if(!(p?K in g:v.call(g,K)))return!1}var z=h.get(l),G=h.get(g);if(z&&G)return z==g&&G==l;var P=!0;h.set(l,g),h.set(g,l);for(var O=p;++B<A;){K=y[B];var S=l[K],R=g[K];if(o)var M=p?o(R,S,K,g,l,h):o(S,R,K,l,g,h);if(!(M===void 0?S===R||i(S,R,c,o,h):M)){P=!1;break}O||(O=K=="constructor")}if(P&&!O){var b=l.constructor,D=g.constructor;b!=D&&"constructor"in l&&"constructor"in g&&!(typeof b=="function"&&b instanceof b&&typeof D=="function"&&D instanceof D)&&(P=!1)}return h.delete(l),h.delete(g),P}f.exports=u},54874:function(f,x,t){var r=t(22612),d=t(20323),a=t(71564);function v(u){return a(d(u,void 0,r),u+"")}f.exports=v},96476:function(f,x,t){var r=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g;f.exports=r},69698:function(f,x,t){var r=t(38084),d=t(97482),a=t(50579);function v(u){return r(u,a,d)}f.exports=v},21699:function(f,x,t){var r=t(38084),d=t(41288),a=t(37390);function v(u){return r(u,a,d)}f.exports=v},67707:function(f,x,t){var r=t(3880);function d(a,v){var u=a.__data__;return r(v)?u[typeof v=="string"?"string":"hash"]:u.map}f.exports=d},67487:function(f,x,t){var r=t(92769),d=t(50579);function a(v){for(var u=d(v),l=u.length;l--;){var g=u[l],c=v[g];u[l]=[g,c,r(c)]}return u}f.exports=a},47758:function(f,x,t){var r=t(58939),d=t(9149);function a(v,u){var l=d(v,u);return r(l)?l:void 0}f.exports=a},11389:function(f,x,t){var r=t(75542),d=r(Object.getPrototypeOf,Object);f.exports=d},31239:function(f,x,t){var r=t(74396),d=Object.prototype,a=d.hasOwnProperty,v=d.toString,u=r?r.toStringTag:void 0;function l(g){var c=a.call(g,u),o=g[u];try{g[u]=void 0;var i=!0}catch(p){}var h=v.call(g);return i&&(c?g[u]=o:delete g[u]),h}f.exports=l},97482:function(f,x,t){var r=t(48969),d=t(68036),a=Object.prototype,v=a.propertyIsEnumerable,u=Object.getOwnPropertySymbols,l=u?function(g){return g==null?[]:(g=Object(g),r(u(g),function(c){return v.call(g,c)}))}:d;f.exports=l},41288:function(f,x,t){var r=t(28486),d=t(11389),a=t(97482),v=t(68036),u=Object.getOwnPropertySymbols,l=u?function(g){for(var c=[];g;)r(c,a(g)),g=d(g);return c}:v;f.exports=l},81887:function(f,x,t){var r=t(87269),d=t(35922),a=t(6795),v=t(81956),u=t(69477),l=t(80732),g=t(51059),c="[object Map]",o="[object Object]",i="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",A=g(r),Y=g(d),$=g(a),B=g(v),K=g(u),z=l;(r&&z(new r(new ArrayBuffer(1)))!=y||d&&z(new d)!=c||a&&z(a.resolve())!=i||v&&z(new v)!=h||u&&z(new u)!=p)&&(z=function(G){var P=l(G),O=P==o?G.constructor:void 0,S=O?g(O):"";if(S)switch(S){case A:return y;case Y:return c;case $:return i;case B:return h;case K:return p}return P}),f.exports=z},9149:function(f){function x(t,r){return t==null?void 0:t[r]}f.exports=x},18554:function(f,x,t){var r=t(60399),d=t(30353),a=t(24669),v=t(91010),u=t(17216),l=t(77817);function g(c,o,i){o=r(o,c);for(var h=-1,p=o.length,y=!1;++h<p;){var A=l(o[h]);if(!(y=c!=null&&i(c,A)))break;c=c[A]}return y||++h!=p?y:(p=c==null?0:c.length,!!p&&u(p)&&v(A,p)&&(a(c)||d(c)))}f.exports=g},30080:function(f){var x="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",a=t+r+d,v="\\ufe0e\\ufe0f",u="\\u200d",l=RegExp("["+u+x+a+v+"]");function g(c){return l.test(c)}f.exports=g},71519:function(f,x,t){var r=t(37722);function d(){this.__data__=r?r(null):{},this.size=0}f.exports=d},82999:function(f){function x(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}f.exports=x},76111:function(f,x,t){var r=t(37722),d="__lodash_hash_undefined__",a=Object.prototype,v=a.hasOwnProperty;function u(l){var g=this.__data__;if(r){var c=g[l];return c===d?void 0:c}return v.call(g,l)?g[l]:void 0}f.exports=u},50506:function(f,x,t){var r=t(37722),d=Object.prototype,a=d.hasOwnProperty;function v(u){var l=this.__data__;return r?l[u]!==void 0:a.call(l,u)}f.exports=v},80845:function(f,x,t){var r=t(37722),d="__lodash_hash_undefined__";function a(v,u){var l=this.__data__;return this.size+=this.has(v)?0:1,l[v]=r&&u===void 0?d:u,this}f.exports=a},12195:function(f){var x=Object.prototype,t=x.hasOwnProperty;function r(d){var a=d.length,v=new d.constructor(a);return a&&typeof d[0]=="string"&&t.call(d,"index")&&(v.index=d.index,v.input=d.input),v}f.exports=r},46740:function(f,x,t){var r=t(78925),d=t(56157),a=t(80101),v=t(54920),u=t(27136),l="[object Boolean]",g="[object Date]",c="[object Map]",o="[object Number]",i="[object RegExp]",h="[object Set]",p="[object String]",y="[object Symbol]",A="[object ArrayBuffer]",Y="[object DataView]",$="[object Float32Array]",B="[object Float64Array]",K="[object Int8Array]",z="[object Int16Array]",G="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",S="[object Uint16Array]",R="[object Uint32Array]";function M(b,D,T){var Z=b.constructor;switch(D){case A:return r(b);case l:case g:return new Z(+b);case Y:return d(b,T);case $:case B:case K:case z:case G:case P:case O:case S:case R:return u(b,T);case c:return new Z;case o:case p:return new Z(b);case i:return a(b);case h:return new Z;case y:return v(b)}}f.exports=M},36404:function(f,x,t){var r=t(91348),d=t(11389),a=t(92963);function v(u){return typeof u.constructor=="function"&&!a(u)?r(d(u)):{}}f.exports=v},89465:function(f,x,t){var r=t(74396),d=t(30353),a=t(24669),v=r?r.isConcatSpreadable:void 0;function u(l){return a(l)||d(l)||!!(v&&l&&l[v])}f.exports=u},91010:function(f){var x=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(d,a){var v=typeof d;return a=a==null?x:a,!!a&&(v=="number"||v!="symbol"&&t.test(d))&&d>-1&&d%1==0&&d<a}f.exports=r},97616:function(f,x,t){var r=t(42448),d=t(47428),a=t(91010),v=t(36838);function u(l,g,c){if(!v(c))return!1;var o=typeof g;return(o=="number"?d(c)&&a(g,c.length):o=="string"&&g in c)?r(c[g],l):!1}f.exports=u},2610:function(f,x,t){var r=t(24669),d=t(16764),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;function u(l,g){if(r(l))return!1;var c=typeof l;return c=="number"||c=="symbol"||c=="boolean"||l==null||d(l)?!0:v.test(l)||!a.test(l)||g!=null&&l in Object(g)}f.exports=u},3880:function(f){function x(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}f.exports=x},90654:function(f,x,t){var r=t(36633),d=function(){var v=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}();function a(v){return!!d&&d in v}f.exports=a},92963:function(f){var x=Object.prototype;function t(r){var d=r&&r.constructor,a=typeof d=="function"&&d.prototype||x;return r===a}f.exports=t},92769:function(f,x,t){var r=t(36838);function d(a){return a===a&&!r(a)}f.exports=d},2173:function(f){function x(){this.__data__=[],this.size=0}f.exports=x},33752:function(f,x,t){var r=t(62718),d=Array.prototype,a=d.splice;function v(u){var l=this.__data__,g=r(l,u);if(g<0)return!1;var c=l.length-1;return g==c?l.pop():a.call(l,g,1),--this.size,!0}f.exports=v},10548:function(f,x,t){var r=t(62718);function d(a){var v=this.__data__,u=r(v,a);return u<0?void 0:v[u][1]}f.exports=d},63410:function(f,x,t){var r=t(62718);function d(a){return r(this.__data__,a)>-1}f.exports=d},3564:function(f,x,t){var r=t(62718);function d(a,v){var u=this.__data__,l=r(u,a);return l<0?(++this.size,u.push([a,v])):u[l][1]=v,this}f.exports=d},7140:function(f,x,t){var r=t(88987),d=t(175),a=t(35922);function v(){this.size=0,this.__data__={hash:new r,map:new(a||d),string:new r}}f.exports=v},56504:function(f,x,t){var r=t(67707);function d(a){var v=r(this,a).delete(a);return this.size-=v?1:0,v}f.exports=d},88833:function(f,x,t){var r=t(67707);function d(a){return r(this,a).get(a)}f.exports=d},80953:function(f,x,t){var r=t(67707);function d(a){return r(this,a).has(a)}f.exports=d},70724:function(f,x,t){var r=t(67707);function d(a,v){var u=r(this,a),l=u.size;return u.set(a,v),this.size+=u.size==l?0:1,this}f.exports=d},7523:function(f){function x(t){var r=-1,d=Array(t.size);return t.forEach(function(a,v){d[++r]=[v,a]}),d}f.exports=x},78857:function(f){function x(t,r){return function(d){return d==null?!1:d[t]===r&&(r!==void 0||t in Object(d))}}f.exports=x},45171:function(f,x,t){var r=t(34736),d=500;function a(v){var u=r(v,function(g){return l.size===d&&l.clear(),g}),l=u.cache;return u}f.exports=a},37722:function(f,x,t){var r=t(47758),d=r(Object,"create");f.exports=d},14457:function(f,x,t){var r=t(75542),d=r(Object.keys,Object);f.exports=d},10814:function(f){function x(t){var r=[];if(t!=null)for(var d in Object(t))r.push(d);return r}f.exports=x},8478:function(f,x,t){f=t.nmd(f);var r=t(96476),d=x&&!x.nodeType&&x,a=d&&!0&&f&&!f.nodeType&&f,v=a&&a.exports===d,u=v&&r.process,l=function(){try{var g=a&&a.require&&a.require("util").types;return g||u&&u.binding&&u.binding("util")}catch(c){}}();f.exports=l},57058:function(f){var x=Object.prototype,t=x.toString;function r(d){return t.call(d)}f.exports=r},75542:function(f){function x(t,r){return function(d){return t(r(d))}}f.exports=x},20323:function(f,x,t){var r=t(93501),d=Math.max;function a(v,u,l){return u=d(u===void 0?v.length-1:u,0),function(){for(var g=arguments,c=-1,o=d(g.length-u,0),i=Array(o);++c<o;)i[c]=g[u+c];c=-1;for(var h=Array(u+1);++c<u;)h[c]=g[c];return h[u]=l(i),r(v,this,h)}}f.exports=a},29165:function(f,x,t){var r=t(96476),d=typeof self=="object"&&self&&self.Object===Object&&self,a=r||d||Function("return this")();f.exports=a},72014:function(f){function x(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}f.exports=x},96659:function(f){var x="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,x),this}f.exports=t},97230:function(f){function x(t){return this.__data__.has(t)}f.exports=x},79967:function(f){function x(t){var r=-1,d=Array(t.size);return t.forEach(function(a){d[++r]=a}),d}f.exports=x},71564:function(f,x,t){var r=t(56447),d=t(15509),a=d(r);f.exports=a},15509:function(f){var x=800,t=16,r=Date.now;function d(a){var v=0,u=0;return function(){var l=r(),g=t-(l-u);if(u=l,g>0){if(++v>=x)return arguments[0]}else v=0;return a.apply(void 0,arguments)}}f.exports=d},40551:function(f,x,t){var r=t(175);function d(){this.__data__=new r,this.size=0}f.exports=d},4090:function(f){function x(t){var r=this.__data__,d=r.delete(t);return this.size=r.size,d}f.exports=x},47694:function(f){function x(t){return this.__data__.get(t)}f.exports=x},86220:function(f){function x(t){return this.__data__.has(t)}f.exports=x},68958:function(f,x,t){var r=t(175),d=t(35922),a=t(9440),v=200;function u(l,g){var c=this.__data__;if(c instanceof r){var o=c.__data__;if(!d||o.length<v-1)return o.push([l,g]),this.size=++c.size,this;c=this.__data__=new a(o)}return c.set(l,g),this.size=c.size,this}f.exports=u},3729:function(f){function x(t,r,d){for(var a=d-1,v=t.length;++a<v;)if(t[a]===r)return a;return-1}f.exports=x},68905:function(f,x,t){var r=t(15989),d=t(30080),a=t(43352);function v(u){return d(u)?a(u):r(u)}f.exports=v},77057:function(f,x,t){var r=t(45171),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,v=r(function(u){var l=[];return u.charCodeAt(0)===46&&l.push(""),u.replace(d,function(g,c,o,i){l.push(o?i.replace(a,"$1"):c||g)}),l});f.exports=v},77817:function(f,x,t){var r=t(16764),d=1/0;function a(v){if(typeof v=="string"||r(v))return v;var u=v+"";return u=="0"&&1/v==-d?"-0":u}f.exports=a},51059:function(f){var x=Function.prototype,t=x.toString;function r(d){if(d!=null){try{return t.call(d)}catch(a){}try{return d+""}catch(a){}}return""}f.exports=r},82996:function(f){var x=/\s/;function t(r){for(var d=r.length;d--&&x.test(r.charAt(d)););return d}f.exports=t},43352:function(f){var x="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",a=t+r+d,v="\\ufe0e\\ufe0f",u="["+x+"]",l="["+a+"]",g="\\ud83c[\\udffb-\\udfff]",c="(?:"+l+"|"+g+")",o="[^"+x+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=c+"?",A="["+v+"]?",Y="(?:"+p+"(?:"+[o,i,h].join("|")+")"+A+y+")*",$=A+y+Y,B="(?:"+[o+l+"?",l,i,h,u].join("|")+")",K=RegExp(g+"(?="+g+")|"+B+$,"g");function z(G){for(var P=K.lastIndex=0;K.test(G);)++P;return P}f.exports=z},55824:function(f,x,t){var r=t(67410),d=4;function a(v){return r(v,d)}f.exports=a},32222:function(f,x,t){var r=t(67410),d=1,a=4;function v(u){return r(u,d|a)}f.exports=v},64806:function(f){function x(t){return function(){return t}}f.exports=x},91099:function(f,x,t){var r=t(5125),d=t(42448),a=t(97616),v=t(37390),u=Object.prototype,l=u.hasOwnProperty,g=r(function(c,o){c=Object(c);var i=-1,h=o.length,p=h>2?o[2]:void 0;for(p&&a(o[0],o[1],p)&&(h=1);++i<h;)for(var y=o[i],A=v(y),Y=-1,$=A.length;++Y<$;){var B=A[Y],K=c[B];(K===void 0||d(K,u[B])&&!l.call(c,B))&&(c[B]=y[B])}return c});f.exports=g},15828:function(f,x,t){f.exports=t(17489)},42448:function(f){function x(t,r){return t===r||t!==t&&r!==r}f.exports=x},3149:function(f,x,t){var r=t(48969),d=t(88286),a=t(5673),v=t(24669);function u(l,g){var c=v(l)?r:d;return c(l,a(g,3))}f.exports=u},33170:function(f,x,t){var r=t(34715),d=t(33886),a=r(d);f.exports=a},33886:function(f,x,t){var r=t(92504),d=t(5673),a=t(20426),v=Math.max;function u(l,g,c){var o=l==null?0:l.length;if(!o)return-1;var i=c==null?0:a(c);return i<0&&(i=v(o+i,0)),r(l,d(g,3),i)}f.exports=u},22612:function(f,x,t){var r=t(98768);function d(a){var v=a==null?0:a.length;return v?r(a,1):[]}f.exports=d},17489:function(f,x,t){var r=t(21662),d=t(30438),a=t(97008),v=t(24669);function u(l,g){var c=v(l)?r:d;return c(l,a(g))}f.exports=u},37229:function(f,x,t){var r=t(91030),d=t(97008),a=t(37390);function v(u,l){return u==null?u:r(u,d(l),a)}f.exports=v},65439:function(f,x,t){var r=t(97499);function d(a,v,u){var l=a==null?void 0:r(a,v);return l===void 0?u:l}f.exports=d},56611:function(f,x,t){var r=t(45435),d=t(18554);function a(v,u){return v!=null&&d(v,u,r)}f.exports=a},28281:function(f,x,t){var r=t(71664),d=t(18554);function a(v,u){return v!=null&&d(v,u,r)}f.exports=a},48148:function(f){function x(t){return t}f.exports=x},30353:function(f,x,t){var r=t(84742),d=t(55073),a=Object.prototype,v=a.hasOwnProperty,u=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(g){return d(g)&&v.call(g,"callee")&&!u.call(g,"callee")};f.exports=l},24669:function(f){var x=Array.isArray;f.exports=x},47428:function(f,x,t){var r=t(92042),d=t(17216);function a(v){return v!=null&&d(v.length)&&!r(v)}f.exports=a},57348:function(f,x,t){var r=t(47428),d=t(55073);function a(v){return d(v)&&r(v)}f.exports=a},61563:function(f,x,t){f=t.nmd(f);var r=t(29165),d=t(84193),a=x&&!x.nodeType&&x,v=a&&!0&&f&&!f.nodeType&&f,u=v&&v.exports===a,l=u?r.Buffer:void 0,g=l?l.isBuffer:void 0,c=g||d;f.exports=c},82691:function(f,x,t){var r=t(87473),d=t(81887),a=t(30353),v=t(24669),u=t(47428),l=t(61563),g=t(92963),c=t(73806),o="[object Map]",i="[object Set]",h=Object.prototype,p=h.hasOwnProperty;function y(A){if(A==null)return!0;if(u(A)&&(v(A)||typeof A=="string"||typeof A.splice=="function"||l(A)||c(A)||a(A)))return!A.length;var Y=d(A);if(Y==o||Y==i)return!A.size;if(g(A))return!r(A).length;for(var $ in A)if(p.call(A,$))return!1;return!0}f.exports=y},92042:function(f,x,t){var r=t(80732),d=t(36838),a="[object AsyncFunction]",v="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";function g(c){if(!d(c))return!1;var o=r(c);return o==v||o==u||o==a||o==l}f.exports=g},17216:function(f){var x=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=x}f.exports=t},32924:function(f,x,t){var r=t(64033),d=t(58792),a=t(8478),v=a&&a.isMap,u=v?d(v):r;f.exports=u},36838:function(f){function x(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}f.exports=x},55073:function(f){function x(t){return t!=null&&typeof t=="object"}f.exports=x},69143:function(f,x,t){var r=t(80732),d=t(11389),a=t(55073),v="[object Object]",u=Function.prototype,l=Object.prototype,g=u.toString,c=l.hasOwnProperty,o=g.call(Object);function i(h){if(!a(h)||r(h)!=v)return!1;var p=d(h);if(p===null)return!0;var y=c.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&g.call(y)==o}f.exports=i},45380:function(f,x,t){var r=t(28264),d=t(58792),a=t(8478),v=a&&a.isSet,u=v?d(v):r;f.exports=u},56549:function(f,x,t){var r=t(80732),d=t(24669),a=t(55073),v="[object String]";function u(l){return typeof l=="string"||!d(l)&&a(l)&&r(l)==v}f.exports=u},16764:function(f,x,t){var r=t(80732),d=t(55073),a="[object Symbol]";function v(u){return typeof u=="symbol"||d(u)&&r(u)==a}f.exports=v},73806:function(f,x,t){var r=t(22882),d=t(58792),a=t(8478),v=a&&a.isTypedArray,u=v?d(v):r;f.exports=u},89300:function(f){function x(t){return t===void 0}f.exports=x},50579:function(f,x,t){var r=t(79809),d=t(87473),a=t(47428);function v(u){return a(u)?r(u):d(u)}f.exports=v},37390:function(f,x,t){var r=t(79809),d=t(52506),a=t(47428);function v(u){return a(u)?r(u,!0):d(u)}f.exports=v},25674:function(f){function x(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}f.exports=x},65512:function(f,x,t){var r=t(75697),d=t(5673),a=t(66494),v=t(24669);function u(l,g){var c=v(l)?r:a;return c(l,d(g,3))}f.exports=u},65632:function(f,x,t){var r=t(30404),d=t(61343),a=t(5673);function v(u,l){var g={};return l=a(l,3),d(u,function(c,o,i){r(g,o,l(c,o,i))}),g}f.exports=v},80212:function(f,x,t){var r=t(24210),d=t(39491),a=t(48148);function v(u){return u&&u.length?r(u,a,d):void 0}f.exports=v},34736:function(f,x,t){var r=t(9440),d="Expected a function";function a(v,u){if(typeof v!="function"||u!=null&&typeof u!="function")throw new TypeError(d);var l=function(){var g=arguments,c=u?u.apply(this,g):g[0],o=l.cache;if(o.has(c))return o.get(c);var i=v.apply(this,g);return l.cache=o.set(c,i)||o,i};return l.cache=new(a.Cache||r),l}a.Cache=r,f.exports=a},67929:function(f,x,t){var r=t(97254),d=t(77991),a=d(function(v,u,l){r(v,u,l)});f.exports=a},71516:function(f,x,t){var r=t(24210),d=t(42800),a=t(48148);function v(u){return u&&u.length?r(u,a,d):void 0}f.exports=v},88371:function(f,x,t){var r=t(24210),d=t(5673),a=t(42800);function v(u,l){return u&&u.length?r(u,d(l,2),a):void 0}f.exports=v},43226:function(f){function x(){}f.exports=x},76668:function(f,x,t){var r=t(29165),d=function(){return r.Date.now()};f.exports=d},19334:function(f,x,t){var r=t(54822),d=t(54874),a=d(function(v,u){return v==null?{}:r(v,u)});f.exports=a},51798:function(f,x,t){var r=t(17498),d=t(71e3),a=t(2610),v=t(77817);function u(l){return a(l)?r(v(l)):d(l)}f.exports=u},61178:function(f,x,t){var r=t(1293),d=r();f.exports=d},6355:function(f,x,t){var r=t(30695),d=t(30438),a=t(5673),v=t(75857),u=t(24669);function l(g,c,o){var i=u(g)?r:v,h=arguments.length<3;return i(g,a(c,4),o,h,d)}f.exports=l},81430:function(f,x,t){var r=t(87473),d=t(81887),a=t(47428),v=t(56549),u=t(68905),l="[object Map]",g="[object Set]";function c(o){if(o==null)return 0;if(a(o))return v(o)?u(o):o.length;var i=d(o);return i==l||i==g?o.size:r(o).length}f.exports=c},84715:function(f,x,t){var r=t(98768),d=t(84994),a=t(5125),v=t(97616),u=a(function(l,g){if(l==null)return[];var c=g.length;return c>1&&v(l,g[0],g[1])?g=[]:c>2&&v(g[0],g[1],g[2])&&(g=[g[0]]),d(l,r(g,1),[])});f.exports=u},68036:function(f){function x(){return[]}f.exports=x},84193:function(f){function x(){return!1}f.exports=x},70986:function(f,x,t){var r=t(12448),d=1/0,a=17976931348623157e292;function v(u){if(!u)return u===0?u:0;if(u=r(u),u===d||u===-d){var l=u<0?-1:1;return l*a}return u===u?u:0}f.exports=v},20426:function(f,x,t){var r=t(70986);function d(a){var v=r(a),u=v%1;return v===v?u?v-u:v:0}f.exports=d},12448:function(f,x,t){var r=t(33124),d=t(36838),a=t(16764),v=NaN,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,g=/^0o[0-7]+$/i,c=parseInt;function o(i){if(typeof i=="number")return i;if(a(i))return v;if(d(i)){var h=typeof i.valueOf=="function"?i.valueOf():i;i=d(h)?h+"":h}if(typeof i!="string")return i===0?i:+i;i=r(i);var p=l.test(i);return p||g.test(i)?c(i.slice(2),p?2:8):u.test(i)?v:+i}f.exports=o},85111:function(f,x,t){var r=t(92434),d=t(37390);function a(v){return r(v,d(v))}f.exports=a},8389:function(f,x,t){var r=t(73150);function d(a){return a==null?"":r(a)}f.exports=d},68742:function(f,x,t){var r=t(21662),d=t(91348),a=t(61343),v=t(5673),u=t(11389),l=t(24669),g=t(61563),c=t(92042),o=t(36838),i=t(73806);function h(p,y,A){var Y=l(p),$=Y||g(p)||i(p);if(y=v(y,4),A==null){var B=p&&p.constructor;$?A=Y?new B:[]:o(p)?A=c(B)?d(u(p)):{}:A={}}return($?r:a)(p,function(K,z,G){return y(A,K,z,G)}),A}f.exports=h},29974:function(f,x,t){var r=t(98768),d=t(5125),a=t(95453),v=t(57348),u=d(function(l){return a(r(l,1,v,!0))});f.exports=u},53274:function(f,x,t){var r=t(8389),d=0;function a(v){var u=++d;return r(v)+u}f.exports=a},61017:function(f,x,t){var r=t(44290),d=t(50579);function a(v){return v==null?[]:r(v,d(v))}f.exports=a},64058:function(f,x,t){var r=t(93719),d=t(59654);function a(v,u){return d(v||[],u||[],r)}f.exports=a},85650:function(f,x,t){"use strict";t.r(x),t.d(x,{default:function(){return v}});var r=t(60804);function d(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,r.isAnyArray)(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var g=l.fromIndex,c=g===void 0?0:g,o=l.toIndex,i=o===void 0?u.length:o;if(c<0||c>=u.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=c||i>u.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var h=u[c],p=c+1;p<i;p++)u[p]>h&&(h=u[p]);return h}function a(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,r.isAnyArray)(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var g=l.fromIndex,c=g===void 0?0:g,o=l.toIndex,i=o===void 0?u.length:o;if(c<0||c>=u.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=c||i>u.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var h=u[c],p=c+1;p<i;p++)u[p]<h&&(h=u[p]);return h}function v(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,r.isAnyArray)(u)){if(u.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var g;if(l.output!==void 0){if(!(0,r.isAnyArray)(l.output))throw new TypeError("output option must be an array if specified");g=l.output}else g=new Array(u.length);var c=a(u),o=d(u);if(c===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=l.min,h=i===void 0?l.autoMinMax?c:0:i,p=l.max,y=p===void 0?l.autoMinMax?o:1:p;if(h>=y)throw new RangeError("min option must be smaller than max option");for(var A=(y-h)/(o-c),Y=0;Y<u.length;Y++)g[Y]=(u[Y]-c)*A+h;return g}},62657:function(f){function x(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},717:function(f){function x(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},15972:function(f){function x(t,r){return r.get?r.get.call(t):r.value}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},29313:function(f){function x(t,r,d){if(r.set)r.set.call(t,d);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=d}}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},60248:function(f){function x(t,r,d){if(!r.has(t))throw new TypeError("attempted to "+d+" private field on non-instance");return r.get(t)}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},20910:function(f,x,t){var r=t(15972),d=t(60248);function a(v,u){var l=d(v,u,"get");return r(v,l)}f.exports=a,f.exports.__esModule=!0,f.exports.default=f.exports},18733:function(f,x,t){var r=t(717);function d(a,v,u){r(a,v),v.set(a,u)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},2546:function(f,x,t){var r=t(29313),d=t(60248);function a(v,u,l){var g=d(v,u,"set");return r(v,g,l),l}f.exports=a,f.exports.__esModule=!0,f.exports.default=f.exports},58568:function(f){function x(t,r,d){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return d}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},60967:function(f,x,t){var r=t(717);function d(a,v){r(a,v),v.add(a)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},335:function(f,x,t){var r=t(31479);function d(a,v){var u=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!u){if(Array.isArray(a)||(u=r(a))||v&&a&&typeof a.length=="number"){u&&(a=u);var l=0,g=function(){};return{s:g,n:function(){return l>=a.length?{done:!0}:{done:!1,value:a[l++]}},e:function(p){throw p},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,o=!1,i;return{s:function(){u=u.call(a)},n:function(){var p=u.next();return c=p.done,p},e:function(p){o=!0,i=p},f:function(){try{!c&&u.return!=null&&u.return()}finally{if(o)throw i}}}}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},83136:function(f,x,t){var r=t(38836),d=t(68919),a=t(75254);function v(u){var l=d();return function(){var c=r(u),o;if(l){var i=r(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return a(this,o)}}f.exports=v,f.exports.__esModule=!0,f.exports.default=f.exports},9504:function(f,x,t){var r=t(28007);function d(){return typeof Reflect!="undefined"&&Reflect.get?(f.exports=d=Reflect.get.bind(),f.exports.__esModule=!0,f.exports.default=f.exports):(f.exports=d=function(v,u,l){var g=r(v,u);if(g){var c=Object.getOwnPropertyDescriptor(g,u);return c.get?c.get.call(arguments.length<3?v:l):c.value}},f.exports.__esModule=!0,f.exports.default=f.exports),d.apply(this,arguments)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},38836:function(f){function x(t){return f.exports=x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},f.exports.__esModule=!0,f.exports.default=f.exports,x(t)}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},21742:function(f,x,t){var r=t(80038);function d(a,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(v&&v.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),v&&r(a,v)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},68919:function(f){function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},75254:function(f,x,t){var r=t(31759).default,d=t(62657);function a(v,u){if(u&&(r(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(v)}f.exports=a,f.exports.__esModule=!0,f.exports.default=f.exports},80038:function(f){function x(t,r){return f.exports=x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,v){return a.__proto__=v,a},f.exports.__esModule=!0,f.exports.default=f.exports,x(t,r)}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},28007:function(f,x,t){var r=t(38836);function d(a,v){for(;!Object.prototype.hasOwnProperty.call(a,v)&&(a=r(a),a!==null););return a}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},39038:function(f,x){"use strict";var t={value:function(){}};function r(){for(var l=0,g=arguments.length,c={},o;l<g;++l){if(!(o=arguments[l]+"")||o in c||/[\s.]/.test(o))throw new Error("illegal type: "+o);c[o]=[]}return new d(c)}function d(l){this._=l}function a(l,g){return l.trim().split(/^|\s+/).map(function(c){var o="",i=c.indexOf(".");if(i>=0&&(o=c.slice(i+1),c=c.slice(0,i)),c&&!g.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:o}})}d.prototype=r.prototype={constructor:d,on:function(g,c){var o=this._,i=a(g+"",o),h,p=-1,y=i.length;if(arguments.length<2){for(;++p<y;)if((h=(g=i[p]).type)&&(h=v(o[h],g.name)))return h;return}if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++p<y;)if(h=(g=i[p]).type)o[h]=u(o[h],g.name,c);else if(c==null)for(h in o)o[h]=u(o[h],g.name,null);return this},copy:function(){var g={},c=this._;for(var o in c)g[o]=c[o].slice();return new d(g)},call:function(g,c){if((h=arguments.length-2)>0)for(var o=new Array(h),i=0,h,p;i<h;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(g))throw new Error("unknown type: "+g);for(p=this._[g],i=0,h=p.length;i<h;++i)p[i].value.apply(c,o)},apply:function(g,c,o){if(!this._.hasOwnProperty(g))throw new Error("unknown type: "+g);for(var i=this._[g],h=0,p=i.length;h<p;++h)i[h].value.apply(c,o)}};function v(l,g){for(var c=0,o=l.length,i;c<o;++c)if((i=l[c]).name===g)return i.value}function u(l,g,c){for(var o=0,i=l.length;o<i;++o)if(l[o].name===g){l[o]=t,l=l.slice(0,o).concat(l.slice(o+1));break}return c!=null&&l.push({name:g,value:c}),l}x.Z=r},9523:function(f,x,t){"use strict";t.d(x,{Sc:function(){return M},y3:function(){return i}});var r=t(42717),d=r.XA,a=r.a_,v=r.yQ,u=r.Hs,l=r.Ec,g=r.dx,c=r.LU,o=r.Rm,i=r.y3,h=r.qK,p=r.pb,y=r.j,A=r.sO,Y=r.BZ,$=r.EK,B=r.Db,K=r.Fx,z=r.tU,G=r.Ym,P=r.rs,O=r.QR,S=r.TB,R=r.oH,M=r.Sc,b=r.BN,D=r.it,T=r.$r,Z=r.QM,V=r.AV,J=(r.y3,r.y3),H=r.GH,st=r.SO,tt=r.uZ,it=r.yU,ft=r.F1,vt=r.re},4507:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d,a){var v,u=1;d==null&&(d=0),a==null&&(a=0);function l(){var g,c=v.length,o,i=0,h=0;for(g=0;g<c;++g)o=v[g],i+=o.x,h+=o.y;for(i=(i/c-d)*u,h=(h/c-a)*u,g=0;g<c;++g)o=v[g],o.x-=i,o.y-=h}return l.initialize=function(g){v=g},l.x=function(g){return arguments.length?(d=+g,l):d},l.y=function(g){return arguments.length?(a=+g,l):a},l.strength=function(g){return arguments.length?(u=+g,l):u},l}},61722:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d){return function(){return d}}},24211:function(f,x,t){"use strict";t.d(x,{Z:function(){return r}});function r(d){return(d()-.5)*1e-6}},44575:function(f,x,t){"use strict";t.d(x,{Z:function(){return u}});var r=t(61722),d=t(24211);function a(l){return l.index}function v(l,g){var c=l.get(g);if(!c)throw new Error("node not found: "+g);return c}function u(l){var g=a,c=B,o,i=(0,r.Z)(30),h,p,y,A,Y,$=1;l==null&&(l=[]);function B(O){return 1/Math.min(y[O.source.index],y[O.target.index])}function K(O){for(var S=0,R=l.length;S<$;++S)for(var M=0,b,D,T,Z,V,J,H;M<R;++M)b=l[M],D=b.source,T=b.target,Z=T.x+T.vx-D.x-D.vx||(0,d.Z)(Y),V=T.y+T.vy-D.y-D.vy||(0,d.Z)(Y),J=Math.sqrt(Z*Z+V*V),J=(J-h[M])/J*O*o[M],Z*=J,V*=J,T.vx-=Z*(H=A[M]),T.vy-=V*H,D.vx+=Z*(H=1-H),D.vy+=V*H}function z(){if(p){var O,S=p.length,R=l.length,M=new Map(p.map((D,T)=>[g(D,T,p),D])),b;for(O=0,y=new Array(S);O<R;++O)b=l[O],b.index=O,typeof b.source!="object"&&(b.source=v(M,b.source)),typeof b.target!="object"&&(b.target=v(M,b.target)),y[b.source.index]=(y[b.source.index]||0)+1,y[b.target.index]=(y[b.target.index]||0)+1;for(O=0,A=new Array(R);O<R;++O)b=l[O],A[O]=y[b.source.index]/(y[b.source.index]+y[b.target.index]);o=new Array(R),G(),h=new Array(R),P()}}function G(){if(p)for(var O=0,S=l.length;O<S;++O)o[O]=+c(l[O],O,l)}function P(){if(p)for(var O=0,S=l.length;O<S;++O)h[O]=+i(l[O],O,l)}return K.initialize=function(O,S){p=O,Y=S,z()},K.links=function(O){return arguments.length?(l=O,z(),K):l},K.id=function(O){return arguments.length?(g=O,K):g},K.iterations=function(O){return arguments.length?($=+O,K):$},K.strength=function(O){return arguments.length?(c=typeof O=="function"?O:(0,r.Z)(+O),G(),K):c},K.distance=function(O){return arguments.length?(i=typeof O=="function"?O:(0,r.Z)(+O),P(),K):i},K}},64681:function(f,x,t){"use strict";t.d(x,{Z:function(){return u}});var r=t(76265),d=t(61722),a=t(24211),v=t(42655);function u(){var l,g,c,o,i=(0,d.Z)(-30),h,p=1,y=1/0,A=.81;function Y(z){var G,P=l.length,O=(0,r.Z)(l,v.x,v.y).visitAfter(B);for(o=z,G=0;G<P;++G)g=l[G],O.visit(K)}function $(){if(l){var z,G=l.length,P;for(h=new Array(G),z=0;z<G;++z)P=l[z],h[P.index]=+i(P,z,l)}}function B(z){var G=0,P,O,S=0,R,M,b;if(z.length){for(R=M=b=0;b<4;++b)(P=z[b])&&(O=Math.abs(P.value))&&(G+=P.value,S+=O,R+=O*P.x,M+=O*P.y);z.x=R/S,z.y=M/S}else{P=z,P.x=P.data.x,P.y=P.data.y;do G+=h[P.data.index];while(P=P.next)}z.value=G}function K(z,G,P,O){if(!z.value)return!0;var S=z.x-g.x,R=z.y-g.y,M=O-G,b=S*S+R*R;if(M*M/A<b)return b<y&&(S===0&&(S=(0,a.Z)(c),b+=S*S),R===0&&(R=(0,a.Z)(c),b+=R*R),b<p&&(b=Math.sqrt(p*b)),g.vx+=S*z.value*o/b,g.vy+=R*z.value*o/b),!0;if(z.length||b>=y)return;(z.data!==g||z.next)&&(S===0&&(S=(0,a.Z)(c),b+=S*S),R===0&&(R=(0,a.Z)(c),b+=R*R),b<p&&(b=Math.sqrt(p*b)));do z.data!==g&&(M=h[z.data.index]*o/b,g.vx+=S*M,g.vy+=R*M);while(z=z.next)}return Y.initialize=function(z,G){l=z,c=G,$()},Y.strength=function(z){return arguments.length?(i=typeof z=="function"?z:(0,d.Z)(+z),$(),Y):i},Y.distanceMin=function(z){return arguments.length?(p=z*z,Y):Math.sqrt(p)},Y.distanceMax=function(z){return arguments.length?(y=z*z,Y):Math.sqrt(y)},Y.theta=function(z){return arguments.length?(A=z*z,Y):Math.sqrt(A)},Y}},42655:function(f,x,t){"use strict";t.d(x,{Z:function(){return h},x:function(){return g},y:function(){return c}});var r=t(39038),d=t(83249);const a=1664525,v=1013904223,u=4294967296;function l(){let p=1;return()=>(p=(a*p+v)%u)/u}function g(p){return p.x}function c(p){return p.y}var o=10,i=Math.PI*(3-Math.sqrt(5));function h(p){var y,A=1,Y=.001,$=1-Math.pow(Y,1/300),B=0,K=.6,z=new Map,G=(0,d.HT)(S),P=(0,r.Z)("tick","end"),O=l();p==null&&(p=[]);function S(){R(),P.call("tick",y),A<Y&&(G.stop(),P.call("end",y))}function R(D){var T,Z=p.length,V;D===void 0&&(D=1);for(var J=0;J<D;++J)for(A+=(B-A)*$,z.forEach(function(H){H(A)}),T=0;T<Z;++T)V=p[T],V.fx==null?V.x+=V.vx*=K:(V.x=V.fx,V.vx=0),V.fy==null?V.y+=V.vy*=K:(V.y=V.fy,V.vy=0);return y}function M(){for(var D=0,T=p.length,Z;D<T;++D){if(Z=p[D],Z.index=D,Z.fx!=null&&(Z.x=Z.fx),Z.fy!=null&&(Z.y=Z.fy),isNaN(Z.x)||isNaN(Z.y)){var V=o*Math.sqrt(.5+D),J=D*i;Z.x=V*Math.cos(J),Z.y=V*Math.sin(J)}(isNaN(Z.vx)||isNaN(Z.vy))&&(Z.vx=Z.vy=0)}}function b(D){return D.initialize&&D.initialize(p,O),D}return M(),y={tick:R,restart:function(){return G.restart(S),y},stop:function(){return G.stop(),y},nodes:function(D){return arguments.length?(p=D,M(),z.forEach(b),y):p},alpha:function(D){return arguments.length?(A=+D,y):A},alphaMin:function(D){return arguments.length?(Y=+D,y):Y},alphaDecay:function(D){return arguments.length?($=+D,y):+$},alphaTarget:function(D){return arguments.length?(B=+D,y):B},velocityDecay:function(D){return arguments.length?(K=1-D,y):1-K},randomSource:function(D){return arguments.length?(O=D,z.forEach(b),y):O},force:function(D,T){return arguments.length>1?(T==null?z.delete(D):z.set(D,b(T)),y):z.get(D)},find:function(D,T,Z){var V=0,J=p.length,H,st,tt,it,ft;for(Z==null?Z=1/0:Z*=Z,V=0;V<J;++V)it=p[V],H=D-it.x,st=T-it.y,tt=H*H+st*st,tt<Z&&(ft=it,Z=tt);return ft},on:function(D,T){return arguments.length>1?(P.on(D,T),y):P.on(D)}}}},57280:function(f,x,t){"use strict";t.d(x,{Z:function(){return d}});var r=t(61722);function d(a){var v=(0,r.Z)(.1),u,l,g;typeof a!="function"&&(a=(0,r.Z)(a==null?0:+a));function c(i){for(var h=0,p=u.length,y;h<p;++h)y=u[h],y.vx+=(g[h]-y.x)*l[h]*i}function o(){if(u){var i,h=u.length;for(l=new Array(h),g=new Array(h),i=0;i<h;++i)l[i]=isNaN(g[i]=+a(u[i],i,u))?0:+v(u[i],i,u)}}return c.initialize=function(i){u=i,o()},c.strength=function(i){return arguments.length?(v=typeof i=="function"?i:(0,r.Z)(+i),o(),c):v},c.x=function(i){return arguments.length?(a=typeof i=="function"?i:(0,r.Z)(+i),o(),c):a},c}},96207:function(f,x,t){"use strict";t.d(x,{Z:function(){return d}});var r=t(61722);function d(a){var v=(0,r.Z)(.1),u,l,g;typeof a!="function"&&(a=(0,r.Z)(a==null?0:+a));function c(i){for(var h=0,p=u.length,y;h<p;++h)y=u[h],y.vy+=(g[h]-y.y)*l[h]*i}function o(){if(u){var i,h=u.length;for(l=new Array(h),g=new Array(h),i=0;i<h;++i)l[i]=isNaN(g[i]=+a(u[i],i,u))?0:+v(u[i],i,u)}}return c.initialize=function(i){u=i,o()},c.strength=function(i){return arguments.length?(v=typeof i=="function"?i:(0,r.Z)(+i),o(),c):v},c.y=function(i){return arguments.length?(a=typeof i=="function"?i:(0,r.Z)(+i),o(),c):a},c}},68091:function(f,x,t){"use strict";t.d(x,{Z:function(){return P}});function r(M){const b=+this._x.call(null,M),D=+this._y.call(null,M),T=+this._z.call(null,M);return d(this.cover(b,D,T),b,D,T,M)}function d(M,b,D,T,Z){if(isNaN(b)||isNaN(D)||isNaN(T))return M;var V,J=M._root,H={data:Z},st=M._x0,tt=M._y0,it=M._z0,ft=M._x1,vt=M._y1,pt=M._z1,xt,wt,et,at,ht,ct,Nt,Et,bt,St,Ft;if(!J)return M._root=H,M;for(;J.length;)if((Nt=b>=(xt=(st+ft)/2))?st=xt:ft=xt,(Et=D>=(wt=(tt+vt)/2))?tt=wt:vt=wt,(bt=T>=(et=(it+pt)/2))?it=et:pt=et,V=J,!(J=J[St=bt<<2|Et<<1|Nt]))return V[St]=H,M;if(at=+M._x.call(null,J.data),ht=+M._y.call(null,J.data),ct=+M._z.call(null,J.data),b===at&&D===ht&&T===ct)return H.next=J,V?V[St]=H:M._root=H,M;do V=V?V[St]=new Array(8):M._root=new Array(8),(Nt=b>=(xt=(st+ft)/2))?st=xt:ft=xt,(Et=D>=(wt=(tt+vt)/2))?tt=wt:vt=wt,(bt=T>=(et=(it+pt)/2))?it=et:pt=et;while((St=bt<<2|Et<<1|Nt)===(Ft=(ct>=et)<<2|(ht>=wt)<<1|at>=xt));return V[Ft]=J,V[St]=H,M}function a(M){Array.isArray(M)||(M=Array.from(M));const b=M.length,D=new Float64Array(b),T=new Float64Array(b),Z=new Float64Array(b);let V=1/0,J=1/0,H=1/0,st=-1/0,tt=-1/0,it=-1/0;for(let ft=0,vt,pt,xt,wt;ft<b;++ft)isNaN(pt=+this._x.call(null,vt=M[ft]))||isNaN(xt=+this._y.call(null,vt))||isNaN(wt=+this._z.call(null,vt))||(D[ft]=pt,T[ft]=xt,Z[ft]=wt,pt<V&&(V=pt),pt>st&&(st=pt),xt<J&&(J=xt),xt>tt&&(tt=xt),wt<H&&(H=wt),wt>it&&(it=wt));if(V>st||J>tt||H>it)return this;this.cover(V,J,H).cover(st,tt,it);for(let ft=0;ft<b;++ft)d(this,D[ft],T[ft],Z[ft],M[ft]);return this}function v(M,b,D){if(isNaN(M=+M)||isNaN(b=+b)||isNaN(D=+D))return this;var T=this._x0,Z=this._y0,V=this._z0,J=this._x1,H=this._y1,st=this._z1;if(isNaN(T))J=(T=Math.floor(M))+1,H=(Z=Math.floor(b))+1,st=(V=Math.floor(D))+1;else{for(var tt=J-T||1,it=this._root,ft,vt;T>M||M>=J||Z>b||b>=H||V>D||D>=st;)switch(vt=(D<V)<<2|(b<Z)<<1|M<T,ft=new Array(8),ft[vt]=it,it=ft,tt*=2,vt){case 0:J=T+tt,H=Z+tt,st=V+tt;break;case 1:T=J-tt,H=Z+tt,st=V+tt;break;case 2:J=T+tt,Z=H-tt,st=V+tt;break;case 3:T=J-tt,Z=H-tt,st=V+tt;break;case 4:J=T+tt,H=Z+tt,V=st-tt;break;case 5:T=J-tt,H=Z+tt,V=st-tt;break;case 6:J=T+tt,Z=H-tt,V=st-tt;break;case 7:T=J-tt,Z=H-tt,V=st-tt;break}this._root&&this._root.length&&(this._root=it)}return this._x0=T,this._y0=Z,this._z0=V,this._x1=J,this._y1=H,this._z1=st,this}function u(){var M=[];return this.visit(function(b){if(!b.length)do M.push(b.data);while(b=b.next)}),M}function l(M){return arguments.length?this.cover(+M[0][0],+M[0][1],+M[0][2]).cover(+M[1][0],+M[1][1],+M[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function g(M,b,D,T,Z,V,J){this.node=M,this.x0=b,this.y0=D,this.z0=T,this.x1=Z,this.y1=V,this.z1=J}function c(M,b,D,T){var Z,V=this._x0,J=this._y0,H=this._z0,st,tt,it,ft,vt,pt,xt=this._x1,wt=this._y1,et=this._z1,at=[],ht=this._root,ct,Nt;for(ht&&at.push(new g(ht,V,J,H,xt,wt,et)),T==null?T=1/0:(V=M-T,J=b-T,H=D-T,xt=M+T,wt=b+T,et=D+T,T*=T);ct=at.pop();)if(!(!(ht=ct.node)||(st=ct.x0)>xt||(tt=ct.y0)>wt||(it=ct.z0)>et||(ft=ct.x1)<V||(vt=ct.y1)<J||(pt=ct.z1)<H))if(ht.length){var Et=(st+ft)/2,bt=(tt+vt)/2,St=(it+pt)/2;at.push(new g(ht[7],Et,bt,St,ft,vt,pt),new g(ht[6],st,bt,St,Et,vt,pt),new g(ht[5],Et,tt,St,ft,bt,pt),new g(ht[4],st,tt,St,Et,bt,pt),new g(ht[3],Et,bt,it,ft,vt,St),new g(ht[2],st,bt,it,Et,vt,St),new g(ht[1],Et,tt,it,ft,bt,St),new g(ht[0],st,tt,it,Et,bt,St)),(Nt=(D>=St)<<2|(b>=bt)<<1|M>=Et)&&(ct=at[at.length-1],at[at.length-1]=at[at.length-1-Nt],at[at.length-1-Nt]=ct)}else{var Ft=M-+this._x.call(null,ht.data),Ut=b-+this._y.call(null,ht.data),Yt=D-+this._z.call(null,ht.data),Wt=Ft*Ft+Ut*Ut+Yt*Yt;if(Wt<T){var re=Math.sqrt(T=Wt);V=M-re,J=b-re,H=D-re,xt=M+re,wt=b+re,et=D+re,Z=ht.data}}return Z}function o(M){if(isNaN(vt=+this._x.call(null,M))||isNaN(pt=+this._y.call(null,M))||isNaN(xt=+this._z.call(null,M)))return this;var b,D=this._root,T,Z,V,J=this._x0,H=this._y0,st=this._z0,tt=this._x1,it=this._y1,ft=this._z1,vt,pt,xt,wt,et,at,ht,ct,Nt,Et,bt;if(!D)return this;if(D.length)for(;;){if((ht=vt>=(wt=(J+tt)/2))?J=wt:tt=wt,(ct=pt>=(et=(H+it)/2))?H=et:it=et,(Nt=xt>=(at=(st+ft)/2))?st=at:ft=at,b=D,!(D=D[Et=Nt<<2|ct<<1|ht]))return this;if(!D.length)break;(b[Et+1&7]||b[Et+2&7]||b[Et+3&7]||b[Et+4&7]||b[Et+5&7]||b[Et+6&7]||b[Et+7&7])&&(T=b,bt=Et)}for(;D.data!==M;)if(Z=D,!(D=D.next))return this;return(V=D.next)&&delete D.next,Z?(V?Z.next=V:delete Z.next,this):b?(V?b[Et]=V:delete b[Et],(D=b[0]||b[1]||b[2]||b[3]||b[4]||b[5]||b[6]||b[7])&&D===(b[7]||b[6]||b[5]||b[4]||b[3]||b[2]||b[1]||b[0])&&!D.length&&(T?T[bt]=D:this._root=D),this):(this._root=V,this)}function i(M){for(var b=0,D=M.length;b<D;++b)this.remove(M[b]);return this}function h(){return this._root}function p(){var M=0;return this.visit(function(b){if(!b.length)do++M;while(b=b.next)}),M}function y(M){var b=[],D,T=this._root,Z,V,J,H,st,tt,it;for(T&&b.push(new g(T,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));D=b.pop();)if(!M(T=D.node,V=D.x0,J=D.y0,H=D.z0,st=D.x1,tt=D.y1,it=D.z1)&&T.length){var ft=(V+st)/2,vt=(J+tt)/2,pt=(H+it)/2;(Z=T[7])&&b.push(new g(Z,ft,vt,pt,st,tt,it)),(Z=T[6])&&b.push(new g(Z,V,vt,pt,ft,tt,it)),(Z=T[5])&&b.push(new g(Z,ft,J,pt,st,vt,it)),(Z=T[4])&&b.push(new g(Z,V,J,pt,ft,vt,it)),(Z=T[3])&&b.push(new g(Z,ft,vt,H,st,tt,pt)),(Z=T[2])&&b.push(new g(Z,V,vt,H,ft,tt,pt)),(Z=T[1])&&b.push(new g(Z,ft,J,H,st,vt,pt)),(Z=T[0])&&b.push(new g(Z,V,J,H,ft,vt,pt))}return this}function A(M){var b=[],D=[],T;for(this._root&&b.push(new g(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));T=b.pop();){var Z=T.node;if(Z.length){var V,J=T.x0,H=T.y0,st=T.z0,tt=T.x1,it=T.y1,ft=T.z1,vt=(J+tt)/2,pt=(H+it)/2,xt=(st+ft)/2;(V=Z[0])&&b.push(new g(V,J,H,st,vt,pt,xt)),(V=Z[1])&&b.push(new g(V,vt,H,st,tt,pt,xt)),(V=Z[2])&&b.push(new g(V,J,pt,st,vt,it,xt)),(V=Z[3])&&b.push(new g(V,vt,pt,st,tt,it,xt)),(V=Z[4])&&b.push(new g(V,J,H,xt,vt,pt,ft)),(V=Z[5])&&b.push(new g(V,vt,H,xt,tt,pt,ft)),(V=Z[6])&&b.push(new g(V,J,pt,xt,vt,it,ft)),(V=Z[7])&&b.push(new g(V,vt,pt,xt,tt,it,ft))}D.push(T)}for(;T=D.pop();)M(T.node,T.x0,T.y0,T.z0,T.x1,T.y1,T.z1);return this}function Y(M){return M[0]}function $(M){return arguments.length?(this._x=M,this):this._x}function B(M){return M[1]}function K(M){return arguments.length?(this._y=M,this):this._y}function z(M){return M[2]}function G(M){return arguments.length?(this._z=M,this):this._z}function P(M,b,D,T){var Z=new O(b==null?Y:b,D==null?B:D,T==null?z:T,NaN,NaN,NaN,NaN,NaN,NaN);return M==null?Z:Z.addAll(M)}function O(M,b,D,T,Z,V,J,H,st){this._x=M,this._y=b,this._z=D,this._x0=T,this._y0=Z,this._z0=V,this._x1=J,this._y1=H,this._z1=st,this._root=void 0}function S(M){for(var b={data:M.data},D=b;M=M.next;)D=D.next={data:M.data};return b}var R=P.prototype=O.prototype;R.copy=function(){var M=new O(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),b=this._root,D,T;if(!b)return M;if(!b.length)return M._root=S(b),M;for(D=[{source:b,target:M._root=new Array(8)}];b=D.pop();)for(var Z=0;Z<8;++Z)(T=b.source[Z])&&(T.length?D.push({source:T,target:b.target[Z]=new Array(8)}):b.target[Z]=S(T));return M},R.add=r,R.addAll=a,R.cover=v,R.data=u,R.extent=l,R.find=c,R.remove=o,R.removeAll=i,R.root=h,R.size=p,R.visit=y,R.visitAfter=A,R.x=$,R.y=K,R.z=G},76265:function(f,x,t){"use strict";t.d(x,{Z:function(){return z}});function r(S){const R=+this._x.call(null,S),M=+this._y.call(null,S);return d(this.cover(R,M),R,M,S)}function d(S,R,M,b){if(isNaN(R)||isNaN(M))return S;var D,T=S._root,Z={data:b},V=S._x0,J=S._y0,H=S._x1,st=S._y1,tt,it,ft,vt,pt,xt,wt,et;if(!T)return S._root=Z,S;for(;T.length;)if((pt=R>=(tt=(V+H)/2))?V=tt:H=tt,(xt=M>=(it=(J+st)/2))?J=it:st=it,D=T,!(T=T[wt=xt<<1|pt]))return D[wt]=Z,S;if(ft=+S._x.call(null,T.data),vt=+S._y.call(null,T.data),R===ft&&M===vt)return Z.next=T,D?D[wt]=Z:S._root=Z,S;do D=D?D[wt]=new Array(4):S._root=new Array(4),(pt=R>=(tt=(V+H)/2))?V=tt:H=tt,(xt=M>=(it=(J+st)/2))?J=it:st=it;while((wt=xt<<1|pt)===(et=(vt>=it)<<1|ft>=tt));return D[et]=T,D[wt]=Z,S}function a(S){var R,M,b=S.length,D,T,Z=new Array(b),V=new Array(b),J=1/0,H=1/0,st=-1/0,tt=-1/0;for(M=0;M<b;++M)isNaN(D=+this._x.call(null,R=S[M]))||isNaN(T=+this._y.call(null,R))||(Z[M]=D,V[M]=T,D<J&&(J=D),D>st&&(st=D),T<H&&(H=T),T>tt&&(tt=T));if(J>st||H>tt)return this;for(this.cover(J,H).cover(st,tt),M=0;M<b;++M)d(this,Z[M],V[M],S[M]);return this}function v(S,R){if(isNaN(S=+S)||isNaN(R=+R))return this;var M=this._x0,b=this._y0,D=this._x1,T=this._y1;if(isNaN(M))D=(M=Math.floor(S))+1,T=(b=Math.floor(R))+1;else{for(var Z=D-M||1,V=this._root,J,H;M>S||S>=D||b>R||R>=T;)switch(H=(R<b)<<1|S<M,J=new Array(4),J[H]=V,V=J,Z*=2,H){case 0:D=M+Z,T=b+Z;break;case 1:M=D-Z,T=b+Z;break;case 2:D=M+Z,b=T-Z;break;case 3:M=D-Z,b=T-Z;break}this._root&&this._root.length&&(this._root=V)}return this._x0=M,this._y0=b,this._x1=D,this._y1=T,this}function u(){var S=[];return this.visit(function(R){if(!R.length)do S.push(R.data);while(R=R.next)}),S}function l(S){return arguments.length?this.cover(+S[0][0],+S[0][1]).cover(+S[1][0],+S[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function g(S,R,M,b,D){this.node=S,this.x0=R,this.y0=M,this.x1=b,this.y1=D}function c(S,R,M){var b,D=this._x0,T=this._y0,Z,V,J,H,st=this._x1,tt=this._y1,it=[],ft=this._root,vt,pt;for(ft&&it.push(new g(ft,D,T,st,tt)),M==null?M=1/0:(D=S-M,T=R-M,st=S+M,tt=R+M,M*=M);vt=it.pop();)if(!(!(ft=vt.node)||(Z=vt.x0)>st||(V=vt.y0)>tt||(J=vt.x1)<D||(H=vt.y1)<T))if(ft.length){var xt=(Z+J)/2,wt=(V+H)/2;it.push(new g(ft[3],xt,wt,J,H),new g(ft[2],Z,wt,xt,H),new g(ft[1],xt,V,J,wt),new g(ft[0],Z,V,xt,wt)),(pt=(R>=wt)<<1|S>=xt)&&(vt=it[it.length-1],it[it.length-1]=it[it.length-1-pt],it[it.length-1-pt]=vt)}else{var et=S-+this._x.call(null,ft.data),at=R-+this._y.call(null,ft.data),ht=et*et+at*at;if(ht<M){var ct=Math.sqrt(M=ht);D=S-ct,T=R-ct,st=S+ct,tt=R+ct,b=ft.data}}return b}function o(S){if(isNaN(st=+this._x.call(null,S))||isNaN(tt=+this._y.call(null,S)))return this;var R,M=this._root,b,D,T,Z=this._x0,V=this._y0,J=this._x1,H=this._y1,st,tt,it,ft,vt,pt,xt,wt;if(!M)return this;if(M.length)for(;;){if((vt=st>=(it=(Z+J)/2))?Z=it:J=it,(pt=tt>=(ft=(V+H)/2))?V=ft:H=ft,R=M,!(M=M[xt=pt<<1|vt]))return this;if(!M.length)break;(R[xt+1&3]||R[xt+2&3]||R[xt+3&3])&&(b=R,wt=xt)}for(;M.data!==S;)if(D=M,!(M=M.next))return this;return(T=M.next)&&delete M.next,D?(T?D.next=T:delete D.next,this):R?(T?R[xt]=T:delete R[xt],(M=R[0]||R[1]||R[2]||R[3])&&M===(R[3]||R[2]||R[1]||R[0])&&!M.length&&(b?b[wt]=M:this._root=M),this):(this._root=T,this)}function i(S){for(var R=0,M=S.length;R<M;++R)this.remove(S[R]);return this}function h(){return this._root}function p(){var S=0;return this.visit(function(R){if(!R.length)do++S;while(R=R.next)}),S}function y(S){var R=[],M,b=this._root,D,T,Z,V,J;for(b&&R.push(new g(b,this._x0,this._y0,this._x1,this._y1));M=R.pop();)if(!S(b=M.node,T=M.x0,Z=M.y0,V=M.x1,J=M.y1)&&b.length){var H=(T+V)/2,st=(Z+J)/2;(D=b[3])&&R.push(new g(D,H,st,V,J)),(D=b[2])&&R.push(new g(D,T,st,H,J)),(D=b[1])&&R.push(new g(D,H,Z,V,st)),(D=b[0])&&R.push(new g(D,T,Z,H,st))}return this}function A(S){var R=[],M=[],b;for(this._root&&R.push(new g(this._root,this._x0,this._y0,this._x1,this._y1));b=R.pop();){var D=b.node;if(D.length){var T,Z=b.x0,V=b.y0,J=b.x1,H=b.y1,st=(Z+J)/2,tt=(V+H)/2;(T=D[0])&&R.push(new g(T,Z,V,st,tt)),(T=D[1])&&R.push(new g(T,st,V,J,tt)),(T=D[2])&&R.push(new g(T,Z,tt,st,H)),(T=D[3])&&R.push(new g(T,st,tt,J,H))}M.push(b)}for(;b=M.pop();)S(b.node,b.x0,b.y0,b.x1,b.y1);return this}function Y(S){return S[0]}function $(S){return arguments.length?(this._x=S,this):this._x}function B(S){return S[1]}function K(S){return arguments.length?(this._y=S,this):this._y}function z(S,R,M){var b=new G(R==null?Y:R,M==null?B:M,NaN,NaN,NaN,NaN);return S==null?b:b.addAll(S)}function G(S,R,M,b,D,T){this._x=S,this._y=R,this._x0=M,this._y0=b,this._x1=D,this._y1=T,this._root=void 0}function P(S){for(var R={data:S.data},M=R;S=S.next;)M=M.next={data:S.data};return R}var O=z.prototype=G.prototype;O.copy=function(){var S=new G(this._x,this._y,this._x0,this._y0,this._x1,this._y1),R=this._root,M,b;if(!R)return S;if(!R.length)return S._root=P(R),S;for(M=[{source:R,target:S._root=new Array(4)}];R=M.pop();)for(var D=0;D<4;++D)(b=R.source[D])&&(b.length?M.push({source:b,target:R.target[D]=new Array(4)}):R.target[D]=P(b));return S},O.add=r,O.addAll=a,O.cover=v,O.data=u,O.extent=l,O.find=c,O.remove=o,O.removeAll=i,O.root=h,O.size=p,O.visit=y,O.visitAfter=A,O.x=$,O.y=K},83249:function(f,x,t){"use strict";t.d(x,{HT:function(){return Y}});var r=0,d=0,a=0,v=1e3,u,l,g=0,c=0,o=0,i=typeof performance=="object"&&performance.now?performance:Date,h=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(P){setTimeout(P,17)};function p(){return c||(h(y),c=i.now()+o)}function y(){c=0}function A(){this._call=this._time=this._next=null}A.prototype=Y.prototype={constructor:A,restart:function(P,O,S){if(typeof P!="function")throw new TypeError("callback is not a function");S=(S==null?p():+S)+(O==null?0:+O),!this._next&&l!==this&&(l?l._next=this:u=this,l=this),this._call=P,this._time=S,G()},stop:function(){this._call&&(this._call=null,this._time=1/0,G())}};function Y(P,O,S){var R=new A;return R.restart(P,O,S),R}function $(){p(),++r;for(var P=u,O;P;)(O=c-P._time)>=0&&P._call.call(void 0,O),P=P._next;--r}function B(){c=(g=i.now())+o,r=d=0;try{$()}finally{r=0,z(),c=0}}function K(){var P=i.now(),O=P-g;O>v&&(o-=O,g=P)}function z(){for(var P,O=u,S,R=1/0;O;)O._call?(R>O._time&&(R=O._time),P=O,O=O._next):(S=O._next,O._next=null,O=P?P._next=S:u=S);l=P,G(R)}function G(P){if(!r){d&&(d=clearTimeout(d));var O=P-c;O>24?(P<1/0&&(d=setTimeout(B,P-i.now()-o)),a&&(a=clearInterval(a))):(a||(g=i.now(),a=setInterval(K,v)),r=1,h(B))}}}}]);
}());